(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Md={exports:{}},bl={};var L_;function OA(){if(L_)return bl;L_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var P_;function VA(){return P_||(P_=1,Md.exports=OA()),Md.exports}var A=VA(),Od={exports:{}},Tt={};var j_;function kA(){if(j_)return Tt;j_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),M=Symbol.iterator;function q(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function ot(O,K,L){this.props=O,this.context=K,this.refs=J,this.updater=L||Z}ot.prototype.isReactComponent={},ot.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},ot.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function st(){}st.prototype=ot.prototype;function ct(O,K,L){this.props=O,this.context=K,this.refs=J,this.updater=L||Z}var kt=ct.prototype=new st;kt.constructor=ct,et(kt,ot.prototype),kt.isPureReactComponent=!0;var zt=Array.isArray;function Rt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(O,K,L){var W=L.ref;return{$$typeof:r,type:O,key:K,ref:W!==void 0?W:null,props:L}}function V(O,K){return C(O.type,K,O.props)}function N(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(L){return K[L]})}var R=/\/+/g;function Ct(O,K){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):K.toString(36)}function Qt(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(Rt,Rt):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,K,L,W,ht){var yt=typeof O;(yt==="undefined"||yt==="boolean")&&(O=null);var Et=!1;if(O===null)Et=!0;else switch(yt){case"bigint":case"string":case"number":Et=!0;break;case"object":switch(O.$$typeof){case r:case t:Et=!0;break;case b:return Et=O._init,G(Et(O._payload),K,L,W,ht)}}if(Et)return ht=ht(O),Et=W===""?"."+Ct(O,0):W,zt(ht)?(L="",Et!=null&&(L=Et.replace(R,"$&/")+"/"),G(ht,K,L,"",function(hr){return hr})):ht!=null&&(N(ht)&&(ht=V(ht,L+(ht.key==null||O&&O.key===ht.key?"":(""+ht.key).replace(R,"$&/")+"/")+Et)),K.push(ht)),1;Et=0;var Ne=W===""?".":W+":";if(zt(O))for(var oe=0;oe<O.length;oe++)W=O[oe],yt=Ne+Ct(W,oe),Et+=G(W,K,L,yt,ht);else if(oe=q(O),typeof oe=="function")for(O=oe.call(O),oe=0;!(W=O.next()).done;)W=W.value,yt=Ne+Ct(W,oe++),Et+=G(W,K,L,yt,ht);else if(yt==="object"){if(typeof O.then=="function")return G(Qt(O),K,L,W,ht);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return Et}function it(O,K,L){if(O==null)return O;var W=[],ht=0;return G(O,W,"","",function(yt){return K.call(L,yt,ht++)}),W}function ft(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(L){(O._status===0||O._status===-1)&&(O._status=1,O._result=L)},function(L){(O._status===0||O._status===-1)&&(O._status=2,O._result=L)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var Ut=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ht={map:it,forEach:function(O,K,L){it(O,function(){K.apply(this,arguments)},L)},count:function(O){var K=0;return it(O,function(){K++}),K},toArray:function(O){return it(O,function(K){return K})||[]},only:function(O){if(!N(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return Tt.Activity=w,Tt.Children=Ht,Tt.Component=ot,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=ct,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},Tt.cache=function(O){return function(){return O.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(O,K,L){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var W=et({},O.props),ht=O.key;if(K!=null)for(yt in K.key!==void 0&&(ht=""+K.key),K)!S.call(K,yt)||yt==="key"||yt==="__self"||yt==="__source"||yt==="ref"&&K.ref===void 0||(W[yt]=K[yt]);var yt=arguments.length-2;if(yt===1)W.children=L;else if(1<yt){for(var Et=Array(yt),Ne=0;Ne<yt;Ne++)Et[Ne]=arguments[Ne+2];W.children=Et}return C(O.type,ht,W)},Tt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},Tt.createElement=function(O,K,L){var W,ht={},yt=null;if(K!=null)for(W in K.key!==void 0&&(yt=""+K.key),K)S.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(ht[W]=K[W]);var Et=arguments.length-2;if(Et===1)ht.children=L;else if(1<Et){for(var Ne=Array(Et),oe=0;oe<Et;oe++)Ne[oe]=arguments[oe+2];ht.children=Ne}if(O&&O.defaultProps)for(W in Et=O.defaultProps,Et)ht[W]===void 0&&(ht[W]=Et[W]);return C(O,yt,ht)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(O){return{$$typeof:g,render:O}},Tt.isValidElement=N,Tt.lazy=function(O){return{$$typeof:b,_payload:{_status:-1,_result:O},_init:ft}},Tt.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},Tt.startTransition=function(O){var K=I.T,L={};I.T=L;try{var W=O(),ht=I.S;ht!==null&&ht(L,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Rt,Ut)}catch(yt){Ut(yt)}finally{K!==null&&L.types!==null&&(K.types=L.types),I.T=K}},Tt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Tt.use=function(O){return I.H.use(O)},Tt.useActionState=function(O,K,L){return I.H.useActionState(O,K,L)},Tt.useCallback=function(O,K){return I.H.useCallback(O,K)},Tt.useContext=function(O){return I.H.useContext(O)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(O,K){return I.H.useDeferredValue(O,K)},Tt.useEffect=function(O,K){return I.H.useEffect(O,K)},Tt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},Tt.useId=function(){return I.H.useId()},Tt.useImperativeHandle=function(O,K,L){return I.H.useImperativeHandle(O,K,L)},Tt.useInsertionEffect=function(O,K){return I.H.useInsertionEffect(O,K)},Tt.useLayoutEffect=function(O,K){return I.H.useLayoutEffect(O,K)},Tt.useMemo=function(O,K){return I.H.useMemo(O,K)},Tt.useOptimistic=function(O,K){return I.H.useOptimistic(O,K)},Tt.useReducer=function(O,K,L){return I.H.useReducer(O,K,L)},Tt.useRef=function(O){return I.H.useRef(O)},Tt.useState=function(O){return I.H.useState(O)},Tt.useSyncExternalStore=function(O,K,L){return I.H.useSyncExternalStore(O,K,L)},Tt.useTransition=function(){return I.H.useTransition()},Tt.version="19.2.3",Tt}var z_;function wm(){return z_||(z_=1,Od.exports=kA()),Od.exports}var jt=wm(),Vd={exports:{}},Sl={},kd={exports:{}},Ud={};var B_;function UA(){return B_||(B_=1,(function(r){function t(G,it){var ft=G.length;G.push(it);t:for(;0<ft;){var Ut=ft-1>>>1,Ht=G[Ut];if(0<l(Ht,it))G[Ut]=it,G[ft]=Ht,ft=Ut;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ft=G.pop();if(ft!==it){G[0]=ft;t:for(var Ut=0,Ht=G.length,O=Ht>>>1;Ut<O;){var K=2*(Ut+1)-1,L=G[K],W=K+1,ht=G[W];if(0>l(L,ft))W<Ht&&0>l(ht,L)?(G[Ut]=ht,G[W]=ft,Ut=W):(G[Ut]=L,G[K]=ft,Ut=K);else if(W<Ht&&0>l(ht,ft))G[Ut]=ht,G[W]=ft,Ut=W;else break t}}return it}function l(G,it){var ft=G.sortIndex-it.sortIndex;return ft!==0?ft:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,w=null,M=3,q=!1,Z=!1,et=!1,J=!1,ot=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function kt(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function zt(G){if(et=!1,kt(G),!Z)if(i(_)!==null)Z=!0,Rt||(Rt=!0,k());else{var it=i(y);it!==null&&Qt(zt,it.startTime-G)}}var Rt=!1,I=-1,S=5,C=-1;function V(){return J?!0:!(r.unstable_now()-C<S)}function N(){if(J=!1,Rt){var G=r.unstable_now();C=G;var it=!0;try{t:{Z=!1,et&&(et=!1,st(I),I=-1),q=!0;var ft=M;try{e:{for(kt(G),w=i(_);w!==null&&!(w.expirationTime>G&&V());){var Ut=w.callback;if(typeof Ut=="function"){w.callback=null,M=w.priorityLevel;var Ht=Ut(w.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){w.callback=Ht,kt(G),it=!0;break e}w===i(_)&&a(_),kt(G)}else a(_);w=i(_)}if(w!==null)it=!0;else{var O=i(y);O!==null&&Qt(zt,O.startTime-G),it=!1}}break t}finally{w=null,M=ft,q=!1}it=void 0}}finally{it?k():Rt=!1}}}var k;if(typeof ct=="function")k=function(){ct(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ct=R.port2;R.port1.onmessage=N,k=function(){Ct.postMessage(null)}}else k=function(){ot(N,0)};function Qt(G,it){I=ot(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ft=M;M=it;try{return G()}finally{M=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return it()}finally{M=ft}},r.unstable_scheduleCallback=function(G,it,ft){var Ut=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Ut+ft:Ut):ft=Ut,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,G={id:b++,callback:it,priorityLevel:G,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Ut?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(et?(st(I),I=-1):et=!0,Qt(zt,ft-Ut))):(G.sortIndex=Ht,t(_,G),Z||q||(Z=!0,Rt||(Rt=!0,k()))),G},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(G){var it=M;return function(){var ft=M;M=it;try{return G.apply(this,arguments)}finally{M=ft}}}})(Ud)),Ud}var q_;function LA(){return q_||(q_=1,kd.exports=UA()),kd.exports}var Ld={exports:{}},Xe={};var H_;function PA(){if(H_)return Xe;H_=1;var r=wm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Xe.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},Xe.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},Xe.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Xe.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Xe.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:M,fetchPriority:q}):b==="script"&&a.d.X(_,{crossOrigin:w,integrity:M,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xe.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Xe.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,w=g(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xe.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Xe.requestFormReset=function(_){a.d.r(_)},Xe.unstable_batchedUpdates=function(_,y){return _(y)},Xe.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},Xe.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xe.version="19.2.3",Xe}var F_;function jA(){if(F_)return Ld.exports;F_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=PA(),Ld.exports}var G_;function zA(){if(G_)return Sl;G_=1;var r=LA(),t=wm(),i=jA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,M=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ot=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),Rt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Ct(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ot:return"Profiler";case J:return"StrictMode";case zt:return"Suspense";case Rt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ct:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Ct(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Ct(e(n))}catch{}}return null}var Qt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Ut=[],Ht=-1;function O(e){return{current:e}}function K(e){0>Ht||(e.current=Ut[Ht],Ut[Ht]=null,Ht--)}function L(e,n){Ht++,Ut[Ht]=e.current,e.current=n}var W=O(null),ht=O(null),yt=O(null),Et=O(null);function Ne(e,n){switch(L(yt,n),L(ht,e),L(W,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?a_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=a_(n),e=o_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(W),L(W,e)}function oe(){K(W),K(ht),K(yt)}function hr(e){e.memoizedState!==null&&L(Et,e);var n=W.current,s=o_(n,e.type);n!==s&&(L(ht,e),L(W,s))}function Zr(e){ht.current===e&&(K(W),K(ht)),Et.current===e&&(K(Et),vl._currentValue=ft)}var Wr,ta;function ii(e){if(Wr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ta=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+ta}var vo=!1;function fr(e,n){if(!e||vo)return"";vo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(e,[],X)}else{try{X.call()}catch(F){B=F}e.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var x=p.split(`
`),z=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===z.length)for(o=x.length-1,h=z.length-1;1<=o&&0<=h&&x[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==z[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ii(s):""}function Eo(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return ii("Activity");default:return""}}function To(e){try{var n="",s=null;do n+=Eo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Oh=r.unstable_shouldYield,Zl=r.unstable_requestPaint,tn=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,bo=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,Vh=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,tu=r.log,eu=r.unstable_setDisableYieldValue,Bn=null,ze=null;function Rn(e){if(typeof tu=="function"&&eu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Bn,e)}catch{}}var de=Math.clz32?Math.clz32:iu,nu=Math.log,ea=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ea|0)|0}var si=256,mr=262144,Ee=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(p&=E,p!==0?h=ri(p):s||(s=E&~e,s!==0&&(h=ri(s))))):(E=o&~f,E!==0?h=ri(E):p!==0?h=ri(p):s||(s=o&~e,s!==0&&(h=ri(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function qn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function oi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Uh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-de(s),X=1<<Q;E[Q]=0,x[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}s&=~X}o!==0&&gr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function gr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function So(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function wo(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:N_(e.type))}function Hn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Fn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Fn,Ue="__reactProps$"+Fn,li="__reactContainer$"+Fn,na="__reactEvents$"+Fn,Lh="__reactListeners$"+Fn,au="__reactHandles$"+Fn,ou="__reactResources$"+Fn,ui="__reactMarker$"+Fn;function ia(e){delete e[Te],delete e[Ue],delete e[na],delete e[Lh],delete e[au]}function ci(e){var n=e[Te];if(n)return n;for(var s=e.parentNode;s;){if(n=s[li]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=m_(e);e!==null;){if(s=e[Te])return s;e=m_(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[Te]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[ui]=!0}var Ro=new Set,Co={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(Co[e]=n,e=0;e<n.length;e++)Ro.add(n[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},No={};function lu(e){return ve.call(No,e)?!0:ve.call(Io,e)?!1:xo.test(e)?No[e]=!0:(Io[e]=!0,!1)}function sa(e,n,s){if(lu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function pn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=cs(e)?"checked":"value";e._valueTracker=Do(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=cs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function rn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Mo(e,p,Le(n)):s!=null?Mo(e,p,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function uu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Kt(e)}function Mo(e,n,s){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function fs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Qt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Gn(){}var ko=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,pi=null;function Er(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&_r(o)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hs(e,!!s.multiple,n,!1)}}}var la=!1;function ps(e,n,s){if(la)return e(n,s);la=!0;try{var o=e(n);return o}finally{if(la=!1,(ms!==null||pi!==null)&&(rc(),ms&&(n=ms,e=pi,pi=ms=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function Qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ue]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(In)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Tr=!1}var gi=null,Uo=null,Ar=null;function Lo(){if(Ar)return Ar;var e,n=Uo,s=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Ar=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Yn(){return!1}function Be(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Yn,this.isPropagationStopped=Yn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(Ui),gs=w({},Ui,{view:0,detail:0}),Po=Be(gs),ys,ua,_i,ca=w({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(ys=e.screenX-_i.screenX,ua=e.screenY-_i.screenY):ua=ys=0,_i=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),jo=Be(ca),Sr=w({},ca,{dataTransfer:0}),du=Be(Sr),mu=w({},gs,{relatedTarget:0}),wr=Be(mu),zo=w({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=Be(zo),ha=w({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=Be(ha),yu=w({},Ui,{data:0}),vi=Be(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function _s(){return Tu}var en=w({},gs,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=Be(en),bu=w({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Be(bu),u=w({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=Be(u),v=w({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),P=w({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Be(P),nt=w({},Ui,{newState:0,oldState:0}),bt=Be(nt),me=[9,13,27,32],Ft=In&&"CompositionEvent"in window,le=null;In&&"documentMode"in document&&(le=document.documentMode);var Nn=In&&"TextEvent"in window&&!le,Ei=In&&(!Ft||le&&8<le&&11>=le),Kn=" ",Xn=!1;function Rr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function iT(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Xn=!0,Kn);case"textInput":return e=n.data,e===Kn&&Xn?null:e;default:return null}}function sT(e,n){if(da)return e==="compositionend"||!Ft&&Rr(e,n)?(e=Lo(),Ar=Uo=gi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var rT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!rT[e.type]:n==="textarea"}function _p(e,n,s,o){ms?pi?pi.push(o):pi=[o]:ms=o,n=fc(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Bo=null,qo=null;function aT(e){t_(e,0)}function Su(e){var n=mn(e);if(_r(n))return e}function vp(e,n){if(e==="change")return n}var Ep=!1;if(In){var Ph;if(In){var jh="oninput"in document;if(!jh){var Tp=document.createElement("div");Tp.setAttribute("oninput","return;"),jh=typeof Tp.oninput=="function"}Ph=jh}else Ph=!1;Ep=Ph&&(!document.documentMode||9<document.documentMode)}function Ap(){Bo&&(Bo.detachEvent("onpropertychange",bp),qo=Bo=null)}function bp(e){if(e.propertyName==="value"&&Su(qo)){var n=[];_p(n,qo,e,xn(e)),ps(aT,n)}}function oT(e,n,s){e==="focusin"?(Ap(),Bo=n,qo=s,Bo.attachEvent("onpropertychange",bp)):e==="focusout"&&Ap()}function lT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(qo)}function uT(e,n){if(e==="click")return Su(n)}function cT(e,n){if(e==="input"||e==="change")return Su(n)}function hT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:hT;function Ho(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ve.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Sp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wp(e,n){var s=Sp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Sp(s)}}function Rp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Rp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Cp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=mi(e.document)}return n}function zh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var fT=In&&"documentMode"in document&&11>=document.documentMode,ma=null,Bh=null,Fo=null,qh=!1;function xp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;qh||ma==null||ma!==mi(o)||(o=ma,"selectionStart"in o&&zh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Ho(Fo,o)||(Fo=o,o=fc(Bh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ma)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var pa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Hh={},Ip={};In&&(Ip=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function xr(e){if(Hh[e])return Hh[e];if(!pa[e])return e;var n=pa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Ip)return Hh[e]=n[s];return e}var Np=xr("animationend"),Dp=xr("animationiteration"),Mp=xr("animationstart"),dT=xr("transitionrun"),mT=xr("transitionstart"),pT=xr("transitioncancel"),Op=xr("transitionend"),Vp=new Map,Fh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Fh.push("scrollEnd");function $n(e,n){Vp.set(e,n),fi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ga=0,Gh=0;function Ru(){for(var e=ga,n=Gh=ga=0;n<e;){var s=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&kp(s,h,f)}}function Cu(e,n,s,o){Dn[ga++]=e,Dn[ga++]=n,Dn[ga++]=s,Dn[ga++]=o,Gh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Qh(e,n,s,o){return Cu(e,n,s,o),xu(e)}function Ir(e,n){return Cu(e,null,null,n),xu(e)}function kp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function xu(e){if(50<fl)throw fl=0,nd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function gT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,s,o){return new gT(e,n,s,o)}function Yh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var s=e.alternate;return s===null?(s=yn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Up(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Yh(e)&&(p=1);else if(typeof e=="string")p=TA(e,s,W.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=yn(31,s,n,h),e.elementType=C,e.lanes=f,e;case et:return Nr(s.children,h,f,n);case J:p=8,h|=24;break;case ot:return e=yn(12,s,n,h|2),e.elementType=ot,e.lanes=f,e;case zt:return e=yn(13,s,n,h),e.elementType=zt,e.lanes=f,e;case Rt:return e=yn(19,s,n,h),e.elementType=Rt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:p=10;break t;case st:p=9;break t;case kt:p=11;break t;case I:p=14;break t;case S:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=yn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Nr(e,n,s,o){return e=yn(7,e,o,n),e.lanes=s,e}function Kh(e,n,s){return e=yn(6,e,null,n),e.lanes=s,e}function Lp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Xh(e,n,s){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Pp=new WeakMap;function Mn(e,n){if(typeof e=="object"&&e!==null){var s=Pp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:To(n)},Pp.set(e,n),n)}return{value:e,source:n,stack:To(n)}}var _a=[],va=0,Nu=null,Go=0,On=[],Vn=0,vs=null,Ti=1,Ai="";function ji(e,n){_a[va++]=Go,_a[va++]=Nu,Nu=e,Go=n}function jp(e,n,s){On[Vn++]=Ti,On[Vn++]=Ai,On[Vn++]=vs,vs=e;var o=Ti;e=Ai;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-de(n)+h|s<<h|o,Ai=f+e}else Ti=1<<f|s<<h|o,Ai=e}function $h(e){e.return!==null&&(ji(e,1),jp(e,1,0))}function Jh(e){for(;e===Nu;)Nu=_a[--va],_a[va]=null,Go=_a[--va],_a[va]=null;for(;e===vs;)vs=On[--Vn],On[Vn]=null,Ai=On[--Vn],On[Vn]=null,Ti=On[--Vn],On[Vn]=null}function zp(e,n){On[Vn++]=Ti,On[Vn++]=Ai,On[Vn++]=vs,Ti=n.id,Ai=n.overflow,vs=e}var qe=null,ie=null,Lt=!1,Es=null,kn=!1,Zh=Error(a(519));function Ts(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(Mn(n,e)),Zh}function Bp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Te]=e,n[Ue]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<ml.length;s++)It(ml[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),fs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||s_(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Gn),n=!0):n=!1,n||Ts(e,!0)}function qp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function Ea(e){if(e!==qe)return!1;if(!Lt)return qp(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||yd(e.type,e.memoizedProps)),s=!s),s&&ie&&Ts(e),qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=d_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=d_(e)}else n===27?(n=ie,ks(e.type)?(e=Ad,Ad=null,ie=e):ie=n):ie=qe?Ln(e.stateNode.nextSibling):null;return!0}function Dr(){ie=qe=null,Lt=!1}function Wh(){var e=Es;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Es=null),e}function Qo(e){Es===null?Es=[e]:Es.push(e)}var tf=O(null),Mr=null,zi=null;function As(e,n,s){L(tf,n._currentValue),n._currentValue=s}function Bi(e){e._currentValue=tf.current,K(tf)}function ef(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function nf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),ef(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),ef(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ta(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Et.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&nf(n,e,s,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Or(e){Mr=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Hp(Mr,e)}function Mu(e,n){return Mr===null&&Or(e),Hp(e,n)}function Hp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(e===null)throw Error(a(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return s}var yT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},_T=r.unstable_scheduleCallback,vT=r.unstable_NormalPriority,Se={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function sf(){return{controller:new yT,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&_T(vT,function(){e.controller.abort()})}var Ko=null,rf=0,Aa=0,ba=null;function ET(e,n){if(Ko===null){var s=Ko=[];rf=0,Aa=ld(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return rf++,n.then(Fp,Fp),n}function Fp(){if(--rf===0&&Ko!==null){ba!==null&&(ba.status="fulfilled");var e=Ko;Ko=null,Aa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function TT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Gp=G.S;G.S=function(e,n){xy=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&ET(e,n),Gp!==null&&Gp(e,n)};var Vr=O(null);function af(){var e=Vr.current;return e!==null?e:ee.pooledCache}function Ou(e,n){n===null?L(Vr,Vr.current):L(Vr,n.pool)}function Qp(){var e=af();return e===null?null:{parent:Se._currentValue,pool:e}}var Sa=Error(a(460)),of=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Yp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Kp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Gn,Gn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e;default:if(typeof n.status=="string")n.then(Gn,Gn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,$p(e),e}throw Ur=n,Sa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ur=s,Sa):s}}var Ur=null;function Xp(){if(Ur===null)throw Error(a(459));var e=Ur;return Ur=null,e}function $p(e){if(e===Sa||e===Vu)throw Error(a(483))}var wa=null,Xo=0;function Uu(e){var n=Xo;return Xo+=1,wa===null&&(wa=[]),Kp(wa,e,n)}function $o(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Jp(e){function n(U,D){if(e){var j=U.deletions;j===null?(U.deletions=[D],U.flags|=16):j.push(D)}}function s(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function h(U,D){return U=Pi(U,D),U.index=0,U.sibling=null,U}function f(U,D,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<D?(U.flags|=67108866,D):j):(U.flags|=67108866,D)):(U.flags|=1048576,D)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,D,j,Y){return D===null||D.tag!==6?(D=Kh(j,U.mode,Y),D.return=U,D):(D=h(D,j),D.return=U,D)}function x(U,D,j,Y){var dt=j.type;return dt===et?Q(U,D,j.props.children,Y,j.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&kr(dt)===D.type)?(D=h(D,j.props),$o(D,j),D.return=U,D):(D=Iu(j.type,j.key,j.props,null,U.mode,Y),$o(D,j),D.return=U,D)}function z(U,D,j,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Xh(j,U.mode,Y),D.return=U,D):(D=h(D,j.children||[]),D.return=U,D)}function Q(U,D,j,Y,dt){return D===null||D.tag!==7?(D=Nr(j,U.mode,Y,dt),D.return=U,D):(D=h(D,j),D.return=U,D)}function X(U,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Kh(""+D,U.mode,j),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return j=Iu(D.type,D.key,D.props,null,U.mode,j),$o(j,D),j.return=U,j;case Z:return D=Xh(D,U.mode,j),D.return=U,D;case S:return D=kr(D),X(U,D,j)}if(Qt(D)||k(D))return D=Nr(D,U.mode,j,null),D.return=U,D;if(typeof D.then=="function")return X(U,Uu(D),j);if(D.$$typeof===ct)return X(U,Mu(U,D),j);Lu(U,D)}return null}function B(U,D,j,Y){var dt=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return dt!==null?null:E(U,D,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return j.key===dt?x(U,D,j,Y):null;case Z:return j.key===dt?z(U,D,j,Y):null;case S:return j=kr(j),B(U,D,j,Y)}if(Qt(j)||k(j))return dt!==null?null:Q(U,D,j,Y,null);if(typeof j.then=="function")return B(U,D,Uu(j),Y);if(j.$$typeof===ct)return B(U,D,Mu(U,j),Y);Lu(U,j)}return null}function F(U,D,j,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return U=U.get(j)||null,E(D,U,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return U=U.get(Y.key===null?j:Y.key)||null,x(D,U,Y,dt);case Z:return U=U.get(Y.key===null?j:Y.key)||null,z(D,U,Y,dt);case S:return Y=kr(Y),F(U,D,j,Y,dt)}if(Qt(Y)||k(Y))return U=U.get(j)||null,Q(D,U,Y,dt,null);if(typeof Y.then=="function")return F(U,D,j,Uu(Y),dt);if(Y.$$typeof===ct)return F(U,D,j,Mu(D,Y),dt);Lu(D,Y)}return null}function at(U,D,j,Y){for(var dt=null,Bt=null,lt=D,wt=D=0,Dt=null;lt!==null&&wt<j.length;wt++){lt.index>wt?(Dt=lt,lt=null):Dt=lt.sibling;var qt=B(U,lt,j[wt],Y);if(qt===null){lt===null&&(lt=Dt);break}e&&lt&&qt.alternate===null&&n(U,lt),D=f(qt,D,wt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,lt=Dt}if(wt===j.length)return s(U,lt),Lt&&ji(U,wt),dt;if(lt===null){for(;wt<j.length;wt++)lt=X(U,j[wt],Y),lt!==null&&(D=f(lt,D,wt),Bt===null?dt=lt:Bt.sibling=lt,Bt=lt);return Lt&&ji(U,wt),dt}for(lt=o(lt);wt<j.length;wt++)Dt=F(lt,U,wt,j[wt],Y),Dt!==null&&(e&&Dt.alternate!==null&&lt.delete(Dt.key===null?wt:Dt.key),D=f(Dt,D,wt),Bt===null?dt=Dt:Bt.sibling=Dt,Bt=Dt);return e&&lt.forEach(function(zs){return n(U,zs)}),Lt&&ji(U,wt),dt}function pt(U,D,j,Y){if(j==null)throw Error(a(151));for(var dt=null,Bt=null,lt=D,wt=D=0,Dt=null,qt=j.next();lt!==null&&!qt.done;wt++,qt=j.next()){lt.index>wt?(Dt=lt,lt=null):Dt=lt.sibling;var zs=B(U,lt,qt.value,Y);if(zs===null){lt===null&&(lt=Dt);break}e&&lt&&zs.alternate===null&&n(U,lt),D=f(zs,D,wt),Bt===null?dt=zs:Bt.sibling=zs,Bt=zs,lt=Dt}if(qt.done)return s(U,lt),Lt&&ji(U,wt),dt;if(lt===null){for(;!qt.done;wt++,qt=j.next())qt=X(U,qt.value,Y),qt!==null&&(D=f(qt,D,wt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return Lt&&ji(U,wt),dt}for(lt=o(lt);!qt.done;wt++,qt=j.next())qt=F(lt,U,wt,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&lt.delete(qt.key===null?wt:qt.key),D=f(qt,D,wt),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&lt.forEach(function(MA){return n(U,MA)}),Lt&&ji(U,wt),dt}function te(U,D,j,Y){if(typeof j=="object"&&j!==null&&j.type===et&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case q:t:{for(var dt=j.key;D!==null;){if(D.key===dt){if(dt=j.type,dt===et){if(D.tag===7){s(U,D.sibling),Y=h(D,j.props.children),Y.return=U,U=Y;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&kr(dt)===D.type){s(U,D.sibling),Y=h(D,j.props),$o(Y,j),Y.return=U,U=Y;break t}s(U,D);break}else n(U,D);D=D.sibling}j.type===et?(Y=Nr(j.props.children,U.mode,Y,j.key),Y.return=U,U=Y):(Y=Iu(j.type,j.key,j.props,null,U.mode,Y),$o(Y,j),Y.return=U,U=Y)}return p(U);case Z:t:{for(dt=j.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){s(U,D.sibling),Y=h(D,j.children||[]),Y.return=U,U=Y;break t}else{s(U,D);break}else n(U,D);D=D.sibling}Y=Xh(j,U.mode,Y),Y.return=U,U=Y}return p(U);case S:return j=kr(j),te(U,D,j,Y)}if(Qt(j))return at(U,D,j,Y);if(k(j)){if(dt=k(j),typeof dt!="function")throw Error(a(150));return j=dt.call(j),pt(U,D,j,Y)}if(typeof j.then=="function")return te(U,D,Uu(j),Y);if(j.$$typeof===ct)return te(U,D,Mu(U,j),Y);Lu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(s(U,D.sibling),Y=h(D,j),Y.return=U,U=Y):(s(U,D),Y=Kh(j,U.mode,Y),Y.return=U,U=Y),p(U)):s(U,D)}return function(U,D,j,Y){try{Xo=0;var dt=te(U,D,j,Y);return wa=null,dt}catch(lt){if(lt===Sa||lt===Vu)throw lt;var Bt=yn(29,lt,null,U.mode);return Bt.lanes=Y,Bt.return=U,Bt}}}var Lr=Jp(!0),Zp=Jp(!1),bs=!1;function lf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function uf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),kp(e,null,s),n}return Cu(e,o,n,s),xu(e)}function Jo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}function cf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var hf=!1;function Zo(){if(hf){var e=ba;if(e!==null)throw e}}function Wo(e,n,s,o){hf=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,z=x.next;x.next=null,p===null?f=z:p.next=z,p=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=x))}if(f!==null){var X=h.baseState;p=0,Q=z=x=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Nt&B)===B:(o&B)===B){B!==0&&B===Aa&&(hf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,pt=E;B=n;var te=s;switch(pt.tag){case 1:if(at=pt.payload,typeof at=="function"){X=at.call(te,X,B);break t}X=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=pt.payload,B=typeof at=="function"?at.call(te,X,B):at,B==null)break t;X=w({},X,B);break t;case 2:bs=!0}}B=E.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=F,x=X):Q=Q.next=F,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(x=X),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ns|=p,e.lanes=p,e.memoizedState=X}}function Wp(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function tg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Wp(s[e],n)}var Ra=O(null),Pu=O(0);function eg(e,n){e=$i,L(Pu,e),L(Ra,n),$i=e|n.baseLanes}function ff(){L(Pu,$i),L(Ra,Ra.current)}function df(){$i=Pu.current,K(Ra),K(Pu)}var _n=O(null),Un=null;function Rs(e){var n=e.alternate;L(pe,pe.current&1),L(_n,e),Un===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Un=e)}function mf(e){L(pe,pe.current),L(_n,e),Un===null&&(Un=e)}function ng(e){e.tag===22?(L(pe,pe.current),L(_n,e),Un===null&&(Un=e)):Cs()}function Cs(){L(pe,pe.current),L(_n,_n.current)}function vn(e){K(_n),Un===e&&(Un=null),K(pe)}var pe=O(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Ed(s)||Td(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,St=null,Zt=null,we=null,zu=!1,Ca=!1,Pr=!1,Bu=0,tl=0,xa=null,AT=0;function he(){throw Error(a(321))}function pf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function gf(e,n,s,o,h,f){return qi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?jg:Df,Pr=!1,f=s(o,h),Pr=!1,Ca&&(f=sg(n,s,o,h)),ig(e),f}function ig(e){G.H=il;var n=Zt!==null&&Zt.next!==null;if(qi=0,we=Zt=St=null,zu=!1,tl=0,xa=null,n)throw Error(a(300));e===null||Re||(e=e.dependencies,e!==null&&Du(e)&&(Re=!0))}function sg(e,n,s,o){St=e;var h=0;do{if(Ca&&(xa=null),tl=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,we=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=zg,f=n(s,o)}while(Ca);return f}function bT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?el(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function yf(){var e=Bu!==0;return Bu=0,e}function _f(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function vf(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}qi=0,we=Zt=St=null,Ca=!1,tl=Bu=0,xa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?St.memoizedState=we=e:we=we.next=e,we}function ge(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=we===null?St.memoizedState:we.next;if(n!==null)we=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},we===null?St.memoizedState=we=e:we=we.next=e}return we}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var n=tl;return tl+=1,xa===null&&(xa=[]),e=Kp(xa,e,n),n=St,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?jg:Df),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===ct)return He(e)}throw Error(a(438,String(e)))}function Ef(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Hi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=ge();return Tf(n,Zt,e)}function Tf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,x=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Nt&X)===X:(qi&X)===X){var B=z.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Aa&&(Q=!0);else if((qi&B)===B){z=z.next,B===Aa&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=X,p=f):x=x.next=X,St.lanes|=B,Ns|=B;X=z.action,Pr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=B,p=f):x=x.next=B,St.lanes|=X,Ns|=X;z=z.next}while(z!==null&&z!==n);if(x===null?p=f:x.next=E,!gn(f,e.memoizedState)&&(Re=!0,Q&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Af(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function rg(e,n,s){var o=St,h=ge(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!gn((Zt||h).memoizedState,s);if(p&&(h.memoizedState=s,Re=!0),h=h.queue,wf(lg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},og.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(qi&127)!==0||ag(o,n,s)}return s}function ag(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=qu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function og(e,n,s,o){n.value=s,n.getSnapshot=o,ug(n)&&cg(e)}function lg(e,n,s){return s(function(){ug(n)&&cg(e)})}function ug(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function cg(e){var n=Ir(e,2);n!==null&&hn(n,e,2)}function bf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Pr){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function hg(e,n,s,o){return e.baseState=s,Tf(e,Zt,typeof o=="function"?o:Hi)}function ST(e,n,s,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,fg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function fg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),x=G.S;x!==null&&x(p,E),dg(e,n,E)}catch(z){Sf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),dg(e,n,f)}catch(z){Sf(e,n,z)}}function dg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){mg(e,n,o)},function(o){return Sf(e,n,o)}):mg(e,n,s)}function mg(e,n,s){n.status="fulfilled",n.value=s,pg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,fg(e,s)))}function Sf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,pg(n),n=n.next;while(n!==o)}e.action=null}function pg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function gg(e,n){return n}function yg(e,n){if(Lt){var s=ee.formState;if(s!==null){t:{var o=St;if(Lt){if(ie){e:{for(var h=ie,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Ln(h.nextSibling),o=h.data==="F!";break t}}Ts(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gg,lastRenderedState:n},s.queue=o,s=Ug.bind(null,St,o),o.dispatch=s,o=bf(!1),f=Nf.bind(null,St,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=ST.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function _g(e){var n=ge();return vg(n,Zt,e)}function vg(e,n,s){if(n=Tf(e,n,gg)[0],e=Fu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===Sa?Vu:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ia(9,{destroy:void 0},wT.bind(null,h,s),null)),[o,f,e]}function wT(e,n){e.action=n}function Eg(e){var n=ge(),s=Zt;if(s!==null)return vg(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=qu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Tg(){return ge().memoizedState}function Gu(e,n,s,o){var h=nn();St.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function Qu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&pf(o,Zt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(St.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function Ag(e,n){Gu(8390656,8,e,n)}function wf(e,n){Qu(2048,8,e,n)}function RT(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=qu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function bg(e){var n=ge().memoizedState;return RT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Sg(e,n){return Qu(4,2,e,n)}function wg(e,n){return Qu(4,4,e,n)}function Rg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Cg(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,Rg.bind(null,n,e),s)}function Rf(){}function xg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&pf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ig(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&pf(n,o[1]))return o[0];if(o=e(),Pr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[o,n],o}function Cf(e,n,s){return s===void 0||(qi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ny(),St.lanes|=e,Ns|=e,s)}function Ng(e,n,s,o){return gn(s,n)?s:Ra.current!==null?(e=Cf(e,s,o),gn(e,n)||(Re=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Nt&261930)===0?(Re=!0,e.memoizedState=s):(e=Ny(),St.lanes|=e,Ns|=e,n)}function Dg(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Nf(e,!1,n,s);try{var x=h(),z=G.S;if(z!==null&&z(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=TT(x,o);nl(e,n,Q,An(e))}else nl(e,n,o,An(e))}catch(X){nl(e,n,{then:function(){},status:"rejected",reason:X},An())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function CT(){}function xf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Mg(e).queue;Dg(e,h,n,ft,s===null?CT:function(){return Og(e),s(o)})}function Mg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Og(e){var n=Mg(e);n.next===null&&(n=e.alternate.memoizedState),nl(e,n.next.queue,{},An())}function If(){return He(vl)}function Vg(){return ge().memoizedState}function kg(){return ge().memoizedState}function xT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=An();e=Ss(s);var o=ws(n,e,s);o!==null&&(hn(o,n,s),Jo(o,n,s)),n={cache:sf()},e.payload=n;return}n=n.return}}function IT(e,n,s){var o=An();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?Lg(n,s):(s=Qh(e,n,s,o),s!==null&&(hn(s,e,o),Pg(s,n,o)))}function Ug(e,n,s){var o=An();nl(e,n,s,o)}function nl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))Lg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,gn(E,p))return Cu(e,n,h,0),ee===null&&Ru(),!1}catch{}if(s=Qh(e,n,h,o),s!==null)return hn(s,e,o),Pg(s,n,o),!0}return!1}function Nf(e,n,s,o){if(o={lane:2,revertLane:ld(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Qh(e,s,o,2),n!==null&&hn(n,e,2)}function Yu(e){var n=e.alternate;return e===St||n!==null&&n===St}function Lg(e,n){Ca=zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Pg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}var il={readContext:He,use:Hu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};il.useEffectEvent=he;var jg={readContext:He,use:Hu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:Ag,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,Rg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(Pr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Pr){Rn(!0);try{s(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=IT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=bf(e);var n=e.queue,s=Ug.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Rf,useDeferredValue:function(e,n){var s=nn();return Cf(s,e,n)},useTransition:function(){var e=bf(!1);return e=Dg.bind(null,St,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=nn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Nt&127)!==0||ag(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ag(lg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},og.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=ee.identifierPrefix;if(Lt){var s=Ai,o=Ti;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=AT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:If,useFormState:yg,useActionState:yg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Nf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:Ef,useCacheRefresh:function(){return nn().memoizedState=xT.bind(null,St)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Df={readContext:He,use:Hu,useCallback:xg,useContext:He,useEffect:wf,useImperativeHandle:Cg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Ig,useReducer:Fu,useRef:Tg,useState:function(){return Fu(Hi)},useDebugValue:Rf,useDeferredValue:function(e,n){var s=ge();return Ng(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Fu(Hi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:If,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var s=ge();return hg(s,Zt,e,n)},useMemoCache:Ef,useCacheRefresh:kg};Df.useEffectEvent=bg;var zg={readContext:He,use:Hu,useCallback:xg,useContext:He,useEffect:wf,useImperativeHandle:Cg,useInsertionEffect:Sg,useLayoutEffect:wg,useMemo:Ig,useReducer:Af,useRef:Tg,useState:function(){return Af(Hi)},useDebugValue:Rf,useDeferredValue:function(e,n){var s=ge();return Zt===null?Cf(s,e,n):Ng(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Af(Hi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:rg,useId:Vg,useHostTransitionStatus:If,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,n){var s=ge();return Zt!==null?hg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Ef,useCacheRefresh:kg};zg.useEffectEvent=bg;function Mf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Of={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=An(),h=Ss(o);h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,o),n!==null&&(hn(n,e,o),Jo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=An(),h=Ss(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,o),n!==null&&(hn(n,e,o),Jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=An(),o=Ss(s);o.tag=2,n!=null&&(o.callback=n),n=ws(e,o,s),n!==null&&(hn(n,e,s),Jo(n,e,s))}};function Bg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ho(s,o)||!Ho(h,f):!0}function qg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Of.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Hg(e){wu(e)}function Fg(e){console.error(e)}function Gg(e){wu(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Qg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Vf(e,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Yg(e){return e=Ss(e),e.tag=3,e}function Kg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Qg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Qg(n,s,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function NT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ta(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?ac():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),rd(e,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),rd(e,o,h)),!1}throw Error(a(435,s.tag))}return rd(e,o,h),ac(),!1}if(Lt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Zh&&(e=Error(a(422),{cause:o}),Qo(Mn(e,s)))):(o!==Zh&&(n=Error(a(423),{cause:o}),Qo(Mn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Mn(o,s),h=Vf(e.stateNode,o,h),cf(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=Mn(f,s),hl===null?hl=[f]:hl.push(f),fe!==4&&(fe=2),n===null)return!0;o=Mn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Vf(s.stateNode,o,e),cf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Yg(h),Kg(h,e,s,o),cf(s,h),!1}s=s.return}while(s!==null);return!1}var kf=Error(a(461)),Re=!1;function Fe(e,n,s,o){n.child=e===null?Zp(n,null,s,o):Lr(n,e.child,s,o)}function Xg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Or(n),o=gf(e,n,s,p,f,h),E=yf(),e!==null&&!Re?(_f(e,n,h),Fi(e,n,h)):(Lt&&E&&$h(n),n.flags|=1,Fe(e,n,o,h),n.child)}function $g(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Yh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Jg(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Hf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(p,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function Jg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(Re=!1,n.pendingProps=o=f,Hf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return Uf(e,n,s,o,h)}function Zg(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Wg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?eg(n,f):ff(),ng(n);else return o=n.lanes=536870912,Wg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Ou(n,f.cachePool),eg(n,f),Cs(),n.memoizedState=null):(e!==null&&Ou(n,null),ff(),Cs());return Fe(e,n,h,s),n.child}function sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Wg(e,n,s,o,h){var f=af();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Ou(n,null),ff(),ng(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ty(e,n,s){return Lr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function DT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,sl(null,e);if(mf(n),(e=ie)?(e=f_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Lp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(mf(n),h)if(n.flags&256)n.flags&=-257,n=ty(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Re||Ta(e,n,s,!1),h=(s&e.childLanes)!==0,Re||h){if(o=ee,o!==null&&(p=wo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ir(e,p),hn(o,e,p),kf;ac(),n=ty(e,n,s)}else e=f.treeContext,ie=Ln(p.nextSibling),qe=n,Lt=!0,Es=null,kn=!1,e!==null&&zp(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Uf(e,n,s,o,h){return Or(n),s=gf(e,n,s,o,void 0,h),o=yf(),e!==null&&!Re?(_f(e,n,h),Fi(e,n,h)):(Lt&&o&&$h(n),n.flags|=1,Fe(e,n,s,h),n.child)}function ey(e,n,s,o,h,f){return Or(n),n.updateQueue=null,s=sg(n,o,s,h),ig(e),o=yf(),e!==null&&!Re?(_f(e,n,f),Fi(e,n,f)):(Lt&&o&&$h(n),n.flags|=1,Fe(e,n,s,f),n.child)}function ny(e,n,s,o,h){if(Or(n),n.stateNode===null){var f=ya,p=s.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Of,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},lf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?He(p):ya,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Mf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Of.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=jr(s,E);f.props=x;var z=f.context,Q=s.contextType;p=ya,typeof Q=="object"&&Q!==null&&(p=He(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&qg(n,f,o,p),bs=!1;var B=n.memoizedState;f.state=B,Wo(n,o,f,h),Zo(),z=n.memoizedState,E||B!==z||bs?(typeof X=="function"&&(Mf(n,s,X,o),z=n.memoizedState),(x=bs||Bg(n,s,x,o,B,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,uf(e,n),p=n.memoizedProps,Q=jr(s,p),f.props=Q,X=n.pendingProps,B=f.context,z=s.contextType,x=ya,typeof z=="object"&&z!==null&&(x=He(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||B!==x)&&qg(n,f,o,x),bs=!1,B=n.memoizedState,f.state=B,Wo(n,o,f,h),Zo();var F=n.memoizedState;p!==X||B!==F||bs||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(Mf(n,s,E,o),F=n.memoizedState),(Q=bs||Bg(n,s,Q,o,B,F,x)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,s,h)):Fe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function iy(e,n,s,o){return Dr(),n.flags|=256,Fe(e,n,s,o),n.child}var Lf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pf(e){return{baseLanes:e,cachePool:Qp()}}function jf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Tn),e}function sy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Rs(n):Cs(),(e=ie)?(e=f_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Lp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Ts(n);return Td(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Cs(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Nr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Pf(s),o.childLanes=jf(e,p,s),n.memoizedState=Lf,sl(null,o)):(Rs(n),zf(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=Bf(e,n,s)):n.memoizedState!==null?(Cs(),n.child=e.child,n.flags|=128,n=null):(Cs(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Nr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Lr(n,e.child,null,s),o=n.child,o.memoizedState=Pf(s),o.childLanes=jf(e,p,s),n.memoizedState=Lf,n=sl(null,o));else if(Rs(n),Td(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Qo({value:o,source:null,stack:null}),n=Bf(e,n,s)}else if(Re||Ta(e,n,s,!1),p=(s&e.childLanes)!==0,Re||p){if(p=ee,p!==null&&(o=wo(p,s),o!==0&&o!==x.retryLane))throw x.retryLane=o,Ir(e,o),hn(p,e,o),kf;Ed(E)||ac(),n=Bf(e,n,s)}else Ed(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ie=Ln(E.nextSibling),qe=n,Lt=!0,Es=null,kn=!1,e!==null&&zp(n,e),n=zf(n,o.children),n.flags|=4096);return n}return h?(Cs(),E=o.fallback,h=n.mode,x=e.child,z=x.sibling,o=Pi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,z!==null?E=Pi(z,E):(E=Nr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,sl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Pf(s):(h=E.cachePool,h!==null?(x=Se._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Qp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=jf(e,p,s),n.memoizedState=Lf,sl(e.child,o)):(Rs(n),s=e.child,e=s.sibling,s=Pi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function zf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function Bf(e,n,s){return Lr(n,e.child,null,s),e=zf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ry(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),ef(e.return,n,s)}function qf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ay(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,L(pe,p),Fe(e,n,o,s),o=Lt?Go:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ry(e,s,n);else if(e.tag===19)ry(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),qf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}qf(n,!0,s,null,f,o);break;case"together":qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ta(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Pi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Hf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function MT(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),As(n,Se,e.memoizedState.cache),Dr();break;case 27:case 5:hr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,mf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?sy(e,n,s):(Rs(n),e=Fi(e,n,s),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ta(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ay(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),L(pe,pe.current),o)break;return null;case 22:return n.lanes=0,Zg(e,n,s,n.pendingProps);case 24:As(n,Se,e.memoizedState.cache)}return Fi(e,n,s)}function oy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Hf(e,s)&&(n.flags&128)===0)return Re=!1,MT(e,n,s);Re=(e.flags&131072)!==0}else Re=!1,Lt&&(n.flags&1048576)!==0&&jp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")Yh(e)?(o=jr(e,o),n.tag=1,n=ny(null,n,e,o,s)):(n.tag=0,n=Uf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===kt){n.tag=11,n=Xg(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=$g(null,n,e,o,s);break t}}throw n=Ct(e)||e,Error(a(306,n,""))}}return n;case 0:return Uf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=jr(o,n.pendingProps),ny(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,uf(e,n),Wo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,As(n,Se,o),o!==f.cache&&nf(n,[Se],s,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=iy(e,n,o,s);break t}else if(o!==h){h=Mn(Error(a(424)),n),Qo(h),n=iy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Ln(e.firstChild),qe=n,Lt=!0,Es=null,kn=!0,s=Zp(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Dr(),o===h){n=Fi(e,n,s);break t}Fe(e,n,o,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=__(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=dc(yt.current).createElement(s),o[Te]=n,o[Ue]=e,Ge(o,s,e),Ae(o),n.stateNode=o):n.memoizedState=__(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hr(n),e===null&&Lt&&(o=n.stateNode=p_(n.type,n.pendingProps,yt.current),qe=n,kn=!0,h=ie,ks(n.type)?(Ad=h,ie=Ln(o.firstChild)):ie=h),Fe(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ie)&&(o=lA(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,qe=n,ie=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||Ts(n)),hr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,yd(h,f)?o=null:p!==null&&yd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=gf(e,n,bT,null,null,s),vl._currentValue=h),$u(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=ie)&&(s=uA(s,n.pendingProps,kn),s!==null?(n.stateNode=s,qe=n,ie=null,e=!0):e=!1),e||Ts(n)),null;case 13:return sy(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Lr(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return Xg(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,As(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Or(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return $g(e,n,n.type,n.pendingProps,s);case 15:return Jg(e,n,n.type,n.pendingProps,s);case 19:return ay(e,n,s);case 31:return DT(e,n,s);case 22:return Zg(e,n,s,n.pendingProps);case 24:return Or(n),o=He(Se),e===null?(h=af(),h===null&&(h=ee,f=sf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},lf(n),As(n,Se,h)):((e.lanes&s)!==0&&(uf(e,n),Wo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,Se,o)):(o=f.cache,As(n,Se,o),o!==h.cache&&nf(n,[Se],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function Ff(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Vy())e.flags|=8192;else throw Ur=ku,of}else e.flags&=-16777217}function ly(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!b_(n))if(Vy())e.flags|=8192;else throw Ur=ku,of}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Oa|=n)}function rl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function OT(e,n,s){var o=n.pendingProps;switch(Jh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(Se),oe(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Wh())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(se(n),ly(n,f)):(se(n),Ff(n,h,null,o,s))):f?f!==e.memoizedState?(Gi(n),se(n),ly(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),se(n),Ff(n,h,e,o,s)),null;case 27:if(Zr(n),s=yt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=W.current,Ea(n)?Bp(n):(e=p_(h,o,s),n.stateNode=e,Gi(n))}return se(n),null;case 5:if(Zr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=W.current,Ea(n))Bp(n);else{var p=dc(yt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Te]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return se(n),Ff(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=yt.current,Ea(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||s_(e.nodeValue,s)),e||Ts(n,!0)}else e=dc(e).createTextNode(o),e[Te]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=Wh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),se(n),null);case 4:return oe(),e===null&&fd(n.stateNode.containerInfo),se(n),null;case 10:return Bi(n.type),se(n),null;case 19:if(K(pe),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,rl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Up(s,e),s=s.sibling;return L(pe,pe.current&1|2),Lt&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>ic&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return se(n),null}else 2*tn()-o.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=pe.current,L(pe,h?s&1|2:s&1),Lt&&ji(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return vn(n),df(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Vr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(Se),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function VT(e,n){switch(Jh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(Se),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(pe),null;case 4:return oe(),null;case 10:return Bi(n.type),null;case 22:case 23:return vn(n),df(),e!==null&&K(Vr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(Se),null;case 25:return null;default:return null}}function uy(e,n){switch(Jh(n),n.tag){case 3:Bi(Se),oe();break;case 26:case 27:case 5:Zr(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:K(pe);break;case 10:Bi(n.type);break;case 22:case 23:vn(n),df(),e!==null&&K(Vr);break;case 24:Bi(Se)}}function al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function xs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=s,z=E;try{z()}catch(Q){$t(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function cy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{tg(n,s)}catch(o){$t(e,e.return,o)}}}function hy(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function ol(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function bi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function fy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Gf(e,n,s){try{var o=e.stateNode;nA(o,e.type,s,n),o[Ue]=n}catch(h){$t(e,e.return,h)}}function dy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function Qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||dy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Yf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Gn));else if(o!==4&&(o===27&&ks(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Yf(e,n,s),e=e.sibling;e!==null;)Yf(e,n,s),e=e.sibling}function Wu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function my(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[Te]=e,n[Ue]=s}catch(f){$t(e,e.return,f)}}var Qi=!1,Ce=!1,Kf=!1,py=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function kT(e,n){if(e=e.containerInfo,pd=Ec,e=Cp(e),zh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,x=-1,z=0,Q=0,X=e,B=null;e:for(;;){for(var F;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(x=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===e)break e;if(B===s&&++z===h&&(E=p),B===f&&++Q===o&&(x=p),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(gd={focusedElem:e,selectionRange:s},Ec=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=jr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(pt){$t(s,s.return,pt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)vd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":vd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function gy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),o&4&&al(5,s);break;case 1:if(Ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){$t(s,s.return,p)}else{var h=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$t(s,s.return,p)}}o&64&&cy(s),o&512&&ol(s,s.return);break;case 3:if(Ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{tg(e,n)}catch(p){$t(s,s.return,p)}}break;case 27:n===null&&o&4&&my(s);case 26:case 5:Ki(e,s),n===null&&o&4&&fy(s),o&512&&ol(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),o&4&&vy(e,s);break;case 13:Ki(e,s),o&4&&Ey(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=FT.bind(null,s),cA(e,s))));break;case 22:if(o=s.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Ce,h=Qi;var f=Ce;Qi=o,(Ce=n)&&!f?Xi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Qi=h,Ce=f}break;case 30:break;default:Ki(e,s)}}function yy(e){var n=e.alternate;n!==null&&(e.alternate=null,yy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,on=!1;function Yi(e,n,s){for(s=s.child;s!==null;)_y(e,n,s),s=s.sibling}function _y(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Bn,s)}catch{}switch(s.tag){case 26:Ce||bi(s,n),Yi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||bi(s,n);var o=ue,h=on;ks(s.type)&&(ue=s.stateNode,on=!1),Yi(e,n,s),gl(s.stateNode),ue=o,on=h;break;case 5:Ce||bi(s,n);case 6:if(o=ue,h=on,ue=null,Yi(e,n,s),ue=o,on=h,ue!==null)if(on)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:ue!==null&&(on?(e=ue,c_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ba(e)):c_(ue,s.stateNode));break;case 4:o=ue,h=on,ue=s.stateNode.containerInfo,on=!0,Yi(e,n,s),ue=o,on=h;break;case 0:case 11:case 14:case 15:xs(2,s,n),Ce||xs(4,s,n),Yi(e,n,s);break;case 1:Ce||(bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&hy(s,n,o)),Yi(e,n,s);break;case 21:Yi(e,n,s);break;case 22:Ce=(o=Ce)||s.memoizedState!==null,Yi(e,n,s),Ce=o;break;default:Yi(e,n,s)}}function vy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(s){$t(n,n.return,s)}}}function Ey(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){$t(n,n.return,s)}}function UT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new py),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new py),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=UT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=GT.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){ue=E.stateNode,on=!1;break t}break;case 5:ue=E.stateNode,on=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ue===null)throw Error(a(160));_y(f,p,h),ue=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ty(n,e),n=n.sibling}var Jn=null;function Ty(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(xs(3,e,e.return),al(3,e),xs(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Jn;if(ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[Te]=e,Ae(f),o=f;break t;case"link":var p=T_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(p=T_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Te]=e,Ae(f),o=f}e.stateNode=o}else A_(h,e.type,e.stateNode);else e.stateNode=E_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?A_(h,e.type,e.stateNode):E_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Gf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),s!==null&&o&4&&Gf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(at){$t(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Gf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Kf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){$t(e,e.return,at)}}break;case 3:if(gc=null,h=Jn,Jn=mc(n.containerInfo),ln(n,e),Jn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(at){$t(e,e.return,at)}Kf&&(Kf=!1,Ay(e));break;case 4:o=Jn,Jn=mc(e.stateNode.containerInfo),ln(n,e),un(e),Jn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,z=Qi,Q=Ce;if(Qi=z||h,Ce=Q||x,ln(n,e),Ce=Q,Qi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||Qi||Ce||zr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var X=x.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){$t(x,x.return,at)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){$t(x,x.return,at)}}}else if(n.tag===18){if(s===null){x=n;try{var F=x.stateNode;h?h_(F,!0):h_(x.stateNode,!1)}catch(at){$t(x,x.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(dy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Qf(e);Wu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var E=Qf(e);Wu(e,E,p);break;case 3:case 4:var x=s.stateNode.containerInfo,z=Qf(e);Yf(e,z,x);break;default:throw Error(a(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ay(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ay(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)gy(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),zr(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&hy(n,n.return,s),zr(n);break;case 27:gl(n.stateNode);case 26:case 5:bi(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function Xi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,s),al(4,f);break;case 1:if(Xi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)Wp(x[h],E)}catch(z){$t(o,o.return,z)}}s&&p&64&&cy(f),ol(f,f.return);break;case 27:my(f);case 26:case 5:Xi(h,f,s),s&&o===null&&p&4&&fy(f),ol(f,f.return);break;case 12:Xi(h,f,s);break;case 31:Xi(h,f,s),s&&p&4&&vy(h,f);break;case 13:Xi(h,f,s),s&&p&4&&Ey(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,s),ol(f,f.return);break;case 30:break;default:Xi(h,f,s)}n=n.sibling}}function Xf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Yo(s))}function $f(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e))}function Zn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)by(e,n,s,o),n=n.sibling}function by(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Zn(e,n,s,o),h&2048&&al(9,n);break;case 1:Zn(e,n,s,o);break;case 3:Zn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){Zn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){$t(n,n.return,x)}}else Zn(e,n,s,o);break;case 31:Zn(e,n,s,o);break;case 13:Zn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Zn(e,n,s,o):ll(e,n):f._visibility&2?Zn(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Xf(p,n);break;case 24:Zn(e,n,s,o),h&2048&&$f(n.alternate,n);break;default:Zn(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,x=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,E,x,h),al(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Na(f,p,E,x,h):ll(f,p):(Q._visibility|=2,Na(f,p,E,x,h)),h&&z&2048&&Xf(p.alternate,p);break;case 24:Na(f,p,E,x,h),h&&z&2048&&$f(p.alternate,p);break;default:Na(f,p,E,x,h)}n=n.sibling}}function ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ll(s,o),h&2048&&Xf(o.alternate,o);break;case 24:ll(s,o),h&2048&&$f(o.alternate,o);break;default:ll(s,o)}n=n.sibling}}var ul=8192;function Da(e,n,s){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Sy(e,n,s),e=e.sibling}function Sy(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&ul&&e.memoizedState!==null&&AA(s,Jn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=Jn;Jn=mc(e.stateNode.containerInfo),Da(e,n,s),Jn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Da(e,n,s),ul=o):Da(e,n,s));break;default:Da(e,n,s)}}function wy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Cy(o,e)}wy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ry(e),e=e.sibling}function Ry(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&xs(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):cl(e);break;default:cl(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Cy(o,e)}wy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Cy(e,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(yy(o),o===s){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var LT={getCacheForType:function(e){var n=He(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return He(Se).controller.signal}},PT=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,xt=null,Nt=0,Xt=0,En=null,Is=!1,Ma=!1,Jf=!1,$i=0,fe=0,Ns=0,Br=0,Zf=0,Tn=0,Oa=0,hl=null,cn=null,Wf=!1,nc=0,xy=0,ic=1/0,sc=null,Ds=null,Me=0,Ms=null,Va=null,Ji=0,td=0,ed=null,Iy=null,fl=0,nd=null;function An(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?ld():ru()}function Ny(){if(Tn===0)if((Nt&536870912)===0||Lt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,s){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Os(e,Nt,Tn,!1)),pr(e,s),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(Br|=s),fe===4&&Os(e,Nt,Tn,!1)),Si(e))}function Dy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||qn(e,n),h=o?BT(e,n):sd(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Os(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!jT(s)){h=sd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=hl;var x=E.current.memoizedState.isDehydrated;if(x&&(ka(E,p).flags|=256),p=sd(E,p,!1),p!==2){if(Jf&&!x){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Os(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(o,n,Tn,!Is);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-tn(),10<h)){if(Os(o,n,Tn,!Is),ai(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=l_(My.bind(null,o,s,cn,sc,Wf,n,Tn,Br,Oa,Is,f,"Throttled",-0,0),h);break t}My(o,s,cn,sc,Wf,n,Tn,Br,Oa,Is,f,null,-0,0)}}break}while(!0);Si(e)}function My(e,n,s,o,h,f,p,E,x,z,Q,X,B,F){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Gn},Sy(n,f,X);var at=(f&62914560)===f?nc-tn():(f&4194048)===f?xy-tn():0;if(at=bA(X,at),at!==null){Ji=f,e.cancelPendingCommit=at(zy.bind(null,e,n,f,s,o,h,p,E,x,Q,X,null,B,F)),Os(e,f,p,!z);return}}zy(e,n,f,s,o,h,p,E,x)}function jT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,s,o){n&=~Zf,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&gr(e,s,n)}function rc(){return(Gt&6)===0?(dl(0),!1):!0}function id(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,zi=Mr=null,vf(e),wa=null,Xo=0,e=xt;for(;e!==null;)uy(e.alternate,e),e=e.return;xt=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,rA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ji=0,id(),ee=e,xt=s=Pi(e.current,null),Nt=n,Xt=0,En=null,Is=!1,Ma=qn(e,n),Jf=!1,Oa=Tn=Zf=Br=Ns=fe=0,cn=hl=null,Wf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return $i=n,Ru(),s}function Oy(e,n){St=null,G.H=il,n===Sa||n===Vu?(n=Xp(),Xt=3):n===of?(n=Xp(),Xt=4):Xt=n===kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,xt===null&&(fe=1,Ku(e,Mn(n,e.current)))}function Vy(){var e=_n.current;return e===null?!0:(Nt&4194048)===Nt?Un===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Un:!1}function ky(){var e=G.H;return G.H=il,e===null?il:e}function Uy(){var e=G.A;return G.A=LT,e}function ac(){fe=4,Is||(Nt&4194048)!==Nt&&_n.current!==null||(Ma=!0),(Ns&134217727)===0&&(Br&134217727)===0||ee===null||Os(ee,Nt,Tn,!1)}function sd(e,n,s){var o=Gt;Gt|=2;var h=ky(),f=Uy();(ee!==e||Nt!==n)&&(sc=null,ka(e,n)),n=!1;var p=fe;t:do try{if(Xt!==0&&xt!==null){var E=xt,x=En;switch(Xt){case 8:id(),p=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var z=Xt;if(Xt=0,En=null,Ua(e,E,x,z),s&&Ma){p=0;break t}break;default:z=Xt,Xt=0,En=null,Ua(e,E,x,z)}}zT(),p=fe;break}catch(Q){Oy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,zi=Mr=null,Gt=o,G.H=h,G.A=f,xt===null&&(ee=null,Nt=0,Ru()),p}function zT(){for(;xt!==null;)Ly(xt)}function BT(e,n){var s=Gt;Gt|=2;var o=ky(),h=Uy();ee!==e||Nt!==n?(sc=null,ic=tn()+500,ka(e,n)):Ma=qn(e,n);t:do try{if(Xt!==0&&xt!==null){n=xt;var f=En;e:switch(Xt){case 1:Xt=0,En=null,Ua(e,n,f,1);break;case 2:case 9:if(Yp(f)){Xt=0,En=null,Py(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),Si(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Yp(f)?(Xt=0,En=null,Py(n)):(Xt=0,En=null,Ua(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?b_(p):E.stateNode.complete){Xt=0,En=null;var x=E.sibling;if(x!==null)xt=x;else{var z=E.return;z!==null?(xt=z,oc(z)):xt=null}break e}}Xt=0,En=null,Ua(e,n,f,5);break;case 6:Xt=0,En=null,Ua(e,n,f,6);break;case 8:id(),fe=6;break t;default:throw Error(a(462))}}qT();break}catch(Q){Oy(e,Q)}while(!0);return zi=Mr=null,G.H=o,G.A=h,Gt=s,xt!==null?0:(ee=null,Nt=0,Ru(),fe)}function qT(){for(;xt!==null&&!Oh();)Ly(xt)}function Ly(e){var n=oy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?oc(e):xt=n}function Py(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ey(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=ey(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:vf(n);default:uy(s,n),n=xt=Up(n,$i),n=oy(s,n,$i)}e.memoizedProps=e.pendingProps,n===null?oc(e):xt=n}function Ua(e,n,s,o){zi=Mr=null,vf(n),wa=null,Xo=0;var h=n.return;try{if(NT(e,h,n,s,Nt)){fe=1,Ku(e,Mn(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;fe=1,Ku(e,Mn(s,e.current)),xt=null;return}n.flags&32768?(Lt||o===1?e=!0:Ma||(Nt&536870912)!==0?e=!1:(Is=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),jy(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){jy(n,Is);return}e=n.return;var s=OT(n.alternate,n,$i);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);fe===0&&(fe=5)}function jy(e,n){do{var s=VT(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);fe=6,xt=null}function zy(e,n,s,o,h,f,p,E,x){e.cancelPendingCommit=null;do lc();while(Me!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Gh,Uh(e,s,f,p,E,x),e===ee&&(xt=ee=null,Nt=0),Va=n,Ms=e,Ji=s,td=f,ed=h,Iy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,QT(us,function(){return Gy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,p=Gt,Gt|=4;try{kT(e,n,s)}finally{Gt=p,it.p=h,G.T=o}}Me=1,By(),qy(),Hy()}}function By(){if(Me===1){Me=0;var e=Ms,n=Va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=Gt;Gt|=4;try{Ty(n,e);var f=gd,p=Cp(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Rp(E.ownerDocument.documentElement,E)){if(x!==null&&zh(E)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),at=E.textContent.length,pt=Math.min(x.start,at),te=x.end===void 0?pt:Math.min(x.end,at);!F.extend&&pt>te&&(p=te,te=pt,pt=p);var U=wp(E,pt),D=wp(E,te);if(U&&D&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var j=X.createRange();j.setStart(U.node,U.offset),F.removeAllRanges(),pt>te?(F.addRange(j),F.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),F.addRange(j))}}}}for(X=[],F=E;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ec=!!pd,gd=pd=null}finally{Gt=h,it.p=o,G.T=s}}e.current=n,Me=2}}function qy(){if(Me===2){Me=0;var e=Ms,n=Va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=Gt;Gt|=4;try{gy(e,n.alternate,n)}finally{Gt=h,it.p=o,G.T=s}}Me=3}}function Hy(){if(Me===4||Me===3){Me=0,Zl();var e=Ms,n=Va,s=Ji,o=Iy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Va=Ms=null,Fy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Vi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Bn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Ji&3)!==0&&lc(),Si(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===nd?fl++:(fl=0,nd=e):fl=0,dl(0)}}function Fy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yo(n)))}function lc(){return By(),qy(),Hy(),Gy()}function Gy(){if(Me!==5)return!1;var e=Ms,n=td;td=0;var s=Vi(Ji),o=G.T,h=it.p;try{it.p=32>s?32:s,G.T=null,s=ed,ed=null;var f=Ms,p=Ji;if(Me=0,Va=Ms=null,Ji=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Ry(f.current),by(f,f.current,p,s),Gt=E,dl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Bn,f)}catch{}return!0}finally{it.p=h,G.T=o,Fy(e,n)}}function Qy(e,n,s){n=Mn(s,n),n=Vf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(pr(e,2),Si(e))}function $t(e,n,s){if(e.tag===3)Qy(e,e,s);else for(;n!==null;){if(n.tag===3){Qy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){e=Mn(s,e),s=Yg(2),o=ws(n,s,2),o!==null&&(Kg(s,o,n,e),pr(o,2),Si(o));break}}n=n.return}}function rd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new PT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Jf=!0,h.add(s),e=HT.bind(null,e,n,s),n.then(e,e))}function HT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Nt&s)===s&&(fe===4||fe===3&&(Nt&62914560)===Nt&&300>tn()-nc?(Gt&2)===0&&ka(e,0):Zf|=s,Oa===Nt&&(Oa=0)),Si(e)}function Yy(e,n){n===0&&(n=su()),e=Ir(e,n),e!==null&&(pr(e,n),Si(e))}function FT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Yy(e,s)}function GT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Yy(e,s)}function QT(e,n){return De(e,n)}var uc=null,La=null,ad=!1,cc=!1,od=!1,Vs=0;function Si(e){e!==La&&e.next===null&&(La===null?uc=La=e:La=La.next=e),cc=!0,ad||(ad=!0,KT())}function dl(e,n){if(!od&&cc){od=!0;do for(var s=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Jy(o,f))}else f=Nt,f=ai(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||qn(o,f)||(s=!0,Jy(o,f));o=o.next}while(s);od=!1}}function YT(){Ky()}function Ky(){cc=ad=!1;var e=0;Vs!==0&&sA()&&(e=Vs);for(var n=tn(),s=null,o=uc;o!==null;){var h=o.next,f=Xy(o,n);f===0?(o.next=null,s===null?uc=h:s.next=h,h===null&&(La=s)):(s=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Me!==0&&Me!==5||dl(e),Vs!==0&&(Vs=0)}function Xy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,x=h[p];x===-1?((E&s)===0||(E&o)!==0)&&(h[p]=kh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Nt,s=ai(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||qn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ls(o),Vi(s)){case 2:case 8:s=bo;break;case 32:s=us;break;case 268435456:s=Wl;break;default:s=us}return o=$y.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ls(o),e.callbackPriority=2,e.callbackNode=null,2}function $y(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(lc()&&e.callbackNode!==s)return null;var o=Nt;return o=ai(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Dy(e,o,n),Xy(e,tn()),e.callbackNode!=null&&e.callbackNode===s?$y.bind(null,e):null)}function Jy(e,n){if(lc())return null;Dy(e,n,!0)}function KT(){aA(function(){(Gt&6)!==0?De(Ao,YT):Ky()})}function ld(){if(Vs===0){var e=Aa;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Vs=e}return Vs}function Zy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Wy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function XT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Zy((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?Zy(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var x=p?Wy(h,p):new FormData(h);xf(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=p?Wy(h,p):new FormData(h),xf(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var ud=0;ud<Fh.length;ud++){var cd=Fh[ud],$T=cd.toLowerCase(),JT=cd[0].toUpperCase()+cd.slice(1);$n($T,"on"+JT)}$n(Np,"onAnimationEnd"),$n(Dp,"onAnimationIteration"),$n(Mp,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(dT,"onTransitionRun"),$n(mT,"onTransitionStart"),$n(pT,"onTransitionCancel"),$n(Op,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function t_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],x=E.instance,z=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=x}else for(p=0;p<o.length;p++){if(E=o[p],x=E.instance,z=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){wu(Q)}h.currentTarget=null,f=x}}}}function It(e,n){var s=n[na];s===void 0&&(s=n[na]=new Set);var o=e+"__bubble";s.has(o)||(e_(n,e,2,!1),s.add(o))}function hd(e,n,s){var o=0;n&&(o|=4),e_(s,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function fd(e){if(!e[hc]){e[hc]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(ZT.has(s)||hd(s,!1,e),hd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,hd("selectionchange",!1,n))}}function e_(e,n,s,o){switch(N_(n)){case 2:var h=RA;break;case 8:h=CA;break;default:h=Cd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function dd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ps(function(){var z=f,Q=xn(s),X=[];t:{var B=Vp.get(e);if(B!==void 0){var F=yi,at=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":F=Au;break;case"focusin":at="focus",F=wr;break;case"focusout":at="blur",F=wr;break;case"beforeblur":case"afterblur":F=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Np:case Dp:case Mp:F=pu;break;case Op:F=T;break;case"scroll":case"scrollend":F=Po;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Li;break;case"toggle":case"beforetoggle":F=bt}var pt=(n&4)!==0,te=!pt&&(e==="scroll"||e==="scrollend"),U=pt?B!==null?B+"Capture":null:B;pt=[];for(var D=z,j;D!==null;){var Y=D;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||U===null||(Y=Qn(D,U),Y!=null&&pt.push(pl(D,Y,j))),te)break;D=D.return}0<pt.length&&(B=new F(B,at,null,s,Q),X.push({event:B,listeners:pt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&s!==ko&&(at=s.relatedTarget||s.fromElement)&&(ci(at)||at[li]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(at=s.relatedTarget||s.toElement,F=z,at=at?ci(at):null,at!==null&&(te=c(at),pt=at.tag,at!==te||pt!==5&&pt!==27&&pt!==6)&&(at=null)):(F=null,at=z),F!==at)){if(pt=jo,Y="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(pt=Li,Y="onPointerLeave",U="onPointerEnter",D="pointer"),te=F==null?B:mn(F),j=at==null?B:mn(at),B=new pt(Y,D+"leave",F,s,Q),B.target=te,B.relatedTarget=j,Y=null,ci(Q)===z&&(pt=new pt(U,D+"enter",at,s,Q),pt.target=j,pt.relatedTarget=te,Y=pt),te=Y,F&&at)e:{for(pt=WT,U=F,D=at,j=0,Y=U;Y;Y=pt(Y))j++;Y=0;for(var dt=D;dt;dt=pt(dt))Y++;for(;0<j-Y;)U=pt(U),j--;for(;0<Y-j;)D=pt(D),Y--;for(;j--;){if(U===D||D!==null&&U===D.alternate){pt=U;break e}U=pt(U),D=pt(D)}pt=null}else pt=null;F!==null&&n_(X,B,F,pt,!1),at!==null&&te!==null&&n_(X,te,at,pt,!0)}}t:{if(B=z?mn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Bt=vp;else if(yp(B))if(Ep)Bt=cT;else{Bt=lT;var lt=oT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&aa(z.elementType)&&(Bt=vp):Bt=uT;if(Bt&&(Bt=Bt(e,z))){_p(X,Bt,s,Q);break t}lt&&lt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Mo(B,"number",B.value)}switch(lt=z?mn(z):window,e){case"focusin":(yp(lt)||lt.contentEditable==="true")&&(ma=lt,Bh=z,Fo=null);break;case"focusout":Fo=Bh=ma=null;break;case"mousedown":qh=!0;break;case"contextmenu":case"mouseup":case"dragend":qh=!1,xp(X,s,Q);break;case"selectionchange":if(fT)break;case"keydown":case"keyup":xp(X,s,Q)}var wt;if(Ft)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else da?Rr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ei&&s.locale!=="ko"&&(da||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&da&&(wt=Lo()):(gi=Q,Uo="value"in gi?gi.value:gi.textContent,da=!0)),lt=fc(z,Dt),0<lt.length&&(Dt=new vi(Dt,e,null,s,Q),X.push({event:Dt,listeners:lt}),wt?Dt.data=wt:(wt=fa(s),wt!==null&&(Dt.data=wt)))),(wt=Nn?iT(e,s):sT(e,s))&&(Dt=fc(z,"onBeforeInput"),0<Dt.length&&(lt=new vi("onBeforeInput","beforeinput",null,s,Q),X.push({event:lt,listeners:Dt}),lt.data=wt)),XT(X,e,z,s,Q)}t_(X,n)})}function pl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Qn(e,s),h!=null&&o.unshift(pl(e,h,f)),h=Qn(e,n),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function WT(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function n_(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,x=E.alternate,z=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||z===null||(x=z,h?(z=Qn(s,f),z!=null&&p.unshift(pl(s,z,x))):h||(z=Qn(s,f),z!=null&&p.push(pl(s,z,x)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var tA=/\r\n?/g,eA=/\u0000|\uFFFD/g;function i_(e){return(typeof e=="string"?e:""+e).replace(tA,`
`).replace(eA,"")}function s_(e,n){return n=i_(n),i_(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,s,o);break;case"style":Vo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,sa(e,s,o))}}function md(e,n,s,o,h,f){switch(s){case"style":Vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Gn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ue]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,p,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=p=h=null,x=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Wt(e,n,o,Q,s,null)}}uu(e,f,E,x,z,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Wt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?hs(e,!!o,n,!1):s!=null&&hs(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,p,E,s,null)}fs(e,o,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null)&&(x==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,x,o,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)It(ml[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,o,s,null)}return;default:if(aa(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&md(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Wt(e,n,E,o,s,null))}function nA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,x=null,z=null,Q=null;for(F in s){var X=s[F];if(s.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=X;default:o.hasOwnProperty(F)||Wt(e,n,F,null,o,X)}}for(var B in o){var F=o[B];if(X=s[B],o.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&Wt(e,n,B,F,o,X)}}ra(e,p,E,x,z,Q,f,h);return;case"select":F=p=E=B=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":F=x;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=s[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==x&&Wt(e,n,h,f,o,x)}n=E,s=p,o=F,B!=null?hs(e,!!s,B,!1):!!o!=!!s&&(n!=null?hs(e,!!s,n,!0):hs(e,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,p,h,o,f)}cu(e,B,F);return;case"option":for(var at in s)B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Wt(e,n,at,null,o,B));for(x in o)B=o[x],F=s[x],o.hasOwnProperty(x)&&B!==F&&(B!=null||F!=null)&&(x==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Wt(e,n,x,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var pt in s)B=s[pt],s.hasOwnProperty(pt)&&B!=null&&!o.hasOwnProperty(pt)&&Wt(e,n,pt,null,o,B);for(z in o)if(B=o[z],F=s[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Wt(e,n,z,B,o,F)}return;default:if(aa(n)){for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&md(e,n,te,void 0,o,B);for(Q in o)B=o[Q],F=s[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||md(e,n,Q,B,o,F);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&Wt(e,n,U,null,o,B);for(X in o)B=o[X],F=s[X],!o.hasOwnProperty(X)||B===F||B==null&&F==null||Wt(e,n,X,B,o,F)}function r_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function iA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&r_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var x=s[o],z=x.startTime;if(z>E)break;var Q=x.transferSize,X=x.initiatorType;Q&&r_(X)&&(x=x.responseEnd,p+=Q*(x<E?1:(E-z)/(x-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pd=null,gd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function a_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function o_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function yd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var _d=null;function sA(){var e=window.event;return e&&e.type==="popstate"?e===_d?!1:(_d=e,!0):(_d=null,!1)}var l_=typeof setTimeout=="function"?setTimeout:void 0,rA=typeof clearTimeout=="function"?clearTimeout:void 0,u_=typeof Promise=="function"?Promise:void 0,aA=typeof queueMicrotask=="function"?queueMicrotask:typeof u_<"u"?function(e){return u_.resolve(null).then(e).catch(oA)}:l_;function oA(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function c_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&gl(e.ownerDocument.body);s=h}while(s);Ba(n)}function h_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function vd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":vd(s),ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function lA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function uA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function f_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function Ed(e){return e.data==="$?"||e.data==="$~"}function Td(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function cA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ad=null;function d_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function m_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function p_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Pn=new Map,g_=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=it.d;it.d={f:hA,r:fA,D:dA,C:mA,L:pA,m:gA,X:_A,S:yA,M:vA};function hA(){var e=Zi.f(),n=rc();return e||n}function fA(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Og(n):Zi.r(e)}var Pa=typeof document>"u"?null:document;function y_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),g_.has(h)||(g_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),Ae(n),o.head.appendChild(n)))}}function dA(e){Zi.D(e),y_("dns-prefetch",e,null)}function mA(e,n){Zi.C(e,n),y_("preconnect",e,n)}function pA(e,n,s){Zi.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=za(e)}Pn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),Ge(n,"link",e),Ae(n),o.head.appendChild(n)))}}function gA(e,n){Zi.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Pn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Pn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_l(f)))return}o=s.createElement("link"),Ge(o,"link",e),Ae(o),s.head.appendChild(o)}}}function yA(e,n,s){Zi.S(e,n,s);var o=Pa;if(o&&e){var h=hi(o).hoistableStyles,f=ja(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(yl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pn.get(f))&&bd(e,s);var x=p=o.createElement("link");Ae(x),Ge(x,"link",e),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function _A(e,n){Zi.X(e,n);var s=Pa;if(s&&e){var o=hi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0},n),(n=Pn.get(h))&&Sd(e,n),f=s.createElement("script"),Ae(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function vA(e,n){Zi.M(e,n);var s=Pa;if(s&&e){var o=hi(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&Sd(e,n),f=s.createElement("script"),Ae(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function __(e,n,s,o){var h=(h=yt.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=hi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ja(s.href);var f=hi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(yl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),f||EA(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=hi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ja(e){return'href="'+rn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function v_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function EA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),Ae(n),e.head.appendChild(n))}function za(e){return'[src="'+rn(e)+'"]'}function _l(e){return"script[async]"+e}function E_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Ge(o,"style",h),pc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ja(s.href);var f=e.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=v_(s),(h=Pn.get(h))&&bd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var p=f;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Ge(f,"link",o),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(_l(f)))?(n.instance=h,Ae(h),h):(o=s,(h=Pn.get(f))&&(o=w({},s),Sd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,e));return n.instance}function pc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function bd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Sd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function T_(e,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ui]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function A_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function TA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function b_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function AA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ae(f);return}f=n.ownerDocument||n,o=v_(o),(h=Pn.get(h))&&bd(o,h),f=f.createElement("link"),Ae(f);var p=f;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var wd=0;function bA(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&wd===0&&(wd=62500*iA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>wd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(SA,e),_c=null,yc.call(e))}function SA(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var o=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function wA(e,n,s,o,h,f,p,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function S_(e,n,s,o,h,f,p,E,x,z,Q,X){return e=new wA(e,n,s,p,x,z,Q,X,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=sf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},lf(f),e}function w_(e){return e?(e=ya,e):ya}function R_(e,n,s,o,h,f){h=w_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ws(e,o,n),s!==null&&(hn(s,e,n),Jo(s,e,n))}function C_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Rd(e,n){C_(e,n),(e=e.alternate)&&C_(e,n)}function x_(e){if(e.tag===13||e.tag===31){var n=Ir(e,67108864);n!==null&&hn(n,e,67108864),Rd(e,67108864)}}function I_(e){if(e.tag===13||e.tag===31){var n=An();n=yr(n);var s=Ir(e,n);s!==null&&hn(s,e,n),Rd(e,n)}}var Ec=!0;function RA(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Cd(e,n,s,o)}finally{it.p=f,G.T=h}}function CA(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Cd(e,n,s,o)}finally{it.p=f,G.T=h}}function Cd(e,n,s,o){if(Ec){var h=xd(o);if(h===null)dd(e,n,o,Tc,s),D_(e,o);else if(IA(h,e,n,s,o))o.stopPropagation();else if(D_(e,o),n&4&&-1<xA.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ri(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-de(p);E.entanglements[1]|=x,p&=~x}Si(f),(Gt&6)===0&&(ic=tn()+500,dl(0))}}break;case 31:case 13:E=Ir(f,2),E!==null&&hn(E,f,2),rc(),Rd(f,2)}if(f=xd(o),f===null&&dd(e,n,o,Tc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else dd(e,n,o,null,s)}}function xd(e){return e=xn(e),Id(e)}var Tc=null;function Id(e){if(Tc=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function N_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Ao:return 2;case bo:return 8;case us:case Vh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Nd=!1,Us=null,Ls=null,Ps=null,El=new Map,Tl=new Map,js=[],xA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function D_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function Al(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&x_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function IA(e,n,s,o,h){switch(n){case"focusin":return Us=Al(Us,e,n,s,o,h),!0;case"dragenter":return Ls=Al(Ls,e,n,s,o,h),!0;case"mouseover":return Ps=Al(Ps,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Al(El.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Al(Tl.get(f)||null,e,n,s,o,h)),!0}return!1}function M_(e){var n=ci(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Hn(e.priority,function(){I_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=xd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);ko=o,s.target.dispatchEvent(o),ko=null}else return n=Cn(s),n!==null&&x_(n),e.blockedOn=s,!1;n.shift()}return!0}function O_(e,n,s){Ac(e)&&s.delete(n)}function NA(){Nd=!1,Us!==null&&Ac(Us)&&(Us=null),Ls!==null&&Ac(Ls)&&(Ls=null),Ps!==null&&Ac(Ps)&&(Ps=null),El.forEach(O_),Tl.forEach(O_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Nd||(Nd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,NA)))}var Sc=null;function V_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Id(o||s)===null)continue;break}var f=Cn(s);f!==null&&(e.splice(n,3),n-=3,xf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ba(e){function n(x){return bc(x,e)}Us!==null&&bc(Us,e),Ls!==null&&bc(Ls,e),Ps!==null&&bc(Ps,e),El.forEach(n),Tl.forEach(n);for(var s=0;s<js.length;s++){var o=js[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<js.length&&(s=js[0],s.blockedOn===null);)M_(s),s.blockedOn===null&&js.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Ue]||null;if(typeof f=="function")p||V_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)E=p.formAction;else if(Id(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),V_(s)}}}function k_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Dd(e){this._internalRoot=e}wc.prototype.render=Dd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=An();R_(s,o,e,n,null,null)},wc.prototype.unmount=Dd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;R_(e.current,2,null,e,null,null),rc(),n[li]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<js.length&&n!==0&&n<js[s].priority;s++);js.splice(s,0,e),s===0&&M_(e)}};var U_=t.version;if(U_!=="19.2.3")throw Error(a(527,U_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var DA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{Bn=Rc.inject(DA),ze=Rc}catch{}}return Sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Hg,f=Fg,p=Gg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=S_(e,1,!1,null,null,s,o,null,h,f,p,k_),e[li]=n.current,fd(e),new Dd(n)},Sl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Hg,p=Fg,E=Gg,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=S_(e,1,!0,n,s??null,o,h,x,f,p,E,k_),n.context=w_(null),s=n.current,o=An(),o=yr(o),h=Ss(o),h.callback=null,ws(s,h,o),s=o,n.current.lanes=s,pr(n,s),Si(n),e[li]=n.current,fd(e),new wc(n)},Sl.version="19.2.3",Sl}var Q_;function BA(){if(Q_)return Vd.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Vd.exports=zA(),Vd.exports}var qA=BA();const HA=()=>{};var Y_={};const b0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},FA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},S0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,w=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,q=y&63;_||(q=64,d||(M=64)),a.push(i[b],i[w],i[M],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(b0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):FA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new GA;const M=c<<2|g>>4;if(a.push(M),y!==64){const q=g<<4&240|y>>2;if(a.push(q),w!==64){const Z=y<<6&192|w;a.push(Z)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class GA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QA=function(r){const t=b0(r);return S0.encodeByteArray(t,!0)},Hc=function(r){return QA(r).replace(/\./g,"")},w0=function(r){try{return S0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function YA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const KA=()=>YA().__FIREBASE_DEFAULTS__,XA=()=>{if(typeof process>"u"||typeof Y_>"u")return;const r=Y_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},$A=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&w0(r[1]);return t&&JSON.parse(t)},ch=()=>{try{return HA()||KA()||XA()||$A()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},R0=r=>ch()?.emulatorHosts?.[r],JA=r=>{const t=R0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},C0=()=>ch()?.config,x0=r=>ch()?.[`_${r}`];class ZA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function I0(r){return(await fetch(r,{credentials:"include"})).ok}function WA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const Il={};function tb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function eb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let K_=!1;function N0(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Il[r]===t||Il[r]||K_)return;Il[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=tb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,q){M.setAttribute("width","24"),M.setAttribute("id",q),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{K_=!0,d()},M}function b(M,q){M.setAttribute("id",q),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function w(){const M=eb(a),q=i("text"),Z=document.getElementById(q)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),ot=i("preprendIcon"),st=document.getElementById(ot)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ct=M.element;g(ct),b(J,et);const kt=y();_(st,ot),ct.append(st,Z,J,kt),document.body.appendChild(ct)}c?(Z.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function ib(){const r=ch()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ab(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ob(){const r=We();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function lb(){return!ib()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ub(){try{return typeof indexedDB=="object"}catch{return!1}}function cb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const hb="FirebaseError";class os extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=hb,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?fb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new os(l,g,a)}}function fb(r,t){return r.replace(db,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const db=/\{\$([^}]+)}/g;function mb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function es(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(X_(c)&&X_(d)){if(!es(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function X_(r){return r!==null&&typeof r=="object"}function Hl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function pb(r,t){const i=new gb(r,t);return i.subscribe.bind(i)}class gb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");yb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Pd),l.error===void 0&&(l.error=Pd),l.complete===void 0&&(l.complete=Pd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function yb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Pd(){}function sn(r){return r&&r._delegate?r._delegate:r}class Gr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class _b{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ZA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Eb(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:vb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vb(r){return r===qr?void 0:r}function Eb(r){return r.instantiationMode==="EAGER"}class Tb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new _b(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const Ab={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},bb=Mt.INFO,Sb={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},wb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Sb[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rm{constructor(t){this.name=t,this._logLevel=bb,this._logHandler=wb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ab[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const Rb=(r,t)=>t.some(i=>r instanceof i);let $_,J_;function Cb(){return $_||($_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xb(){return J_||(J_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,Zd=new WeakMap,M0=new WeakMap,jd=new WeakMap,Cm=new WeakMap;function Ib(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ks(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&D0.set(i,r)}).catch(()=>{}),Cm.set(t,r),t}function Nb(r){if(Zd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Zd.set(r,t)}let Wd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Zd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||M0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Db(r){Wd=r(Wd)}function Mb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(zd(this),t,...i);return M0.set(a,t.sort?t.sort():[t]),Ks(a)}:xb().includes(r)?function(...t){return r.apply(zd(this),t),Ks(D0.get(this))}:function(...t){return Ks(r.apply(zd(this),t))}}function Ob(r){return typeof r=="function"?Mb(r):(r instanceof IDBTransaction&&Nb(r),Rb(r,Cb())?new Proxy(r,Wd):r)}function Ks(r){if(r instanceof IDBRequest)return Ib(r);if(jd.has(r))return jd.get(r);const t=Ob(r);return t!==r&&(jd.set(r,t),Cm.set(t,r)),t}const zd=r=>Cm.get(r);function Vb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Ks(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ks(d.result),_.oldVersion,_.newVersion,Ks(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const kb=["get","getKey","getAll","getAllKeys","count"],Ub=["put","add","delete","clear"],Bd=new Map;function Z_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Bd.get(t))return Bd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Ub.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||kb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Bd.set(t,c),c}Db(r=>({...r,get:(t,i,a)=>Z_(t,i)||r.get(t,i,a),has:(t,i)=>!!Z_(t,i)||r.has(t,i)}));class Lb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Pb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Pb(r){return r.getComponent()?.type==="VERSION"}const tm="@firebase/app",W_="0.14.6";const ns=new Rm("@firebase/app"),jb="@firebase/app-compat",zb="@firebase/analytics-compat",Bb="@firebase/analytics",qb="@firebase/app-check-compat",Hb="@firebase/app-check",Fb="@firebase/auth",Gb="@firebase/auth-compat",Qb="@firebase/database",Yb="@firebase/data-connect",Kb="@firebase/database-compat",Xb="@firebase/functions",$b="@firebase/functions-compat",Jb="@firebase/installations",Zb="@firebase/installations-compat",Wb="@firebase/messaging",tS="@firebase/messaging-compat",eS="@firebase/performance",nS="@firebase/performance-compat",iS="@firebase/remote-config",sS="@firebase/remote-config-compat",rS="@firebase/storage",aS="@firebase/storage-compat",oS="@firebase/firestore",lS="@firebase/ai",uS="@firebase/firestore-compat",cS="firebase",hS="12.6.0";const em="[DEFAULT]",fS={[tm]:"fire-core",[jb]:"fire-core-compat",[Bb]:"fire-analytics",[zb]:"fire-analytics-compat",[Hb]:"fire-app-check",[qb]:"fire-app-check-compat",[Fb]:"fire-auth",[Gb]:"fire-auth-compat",[Qb]:"fire-rtdb",[Yb]:"fire-data-connect",[Kb]:"fire-rtdb-compat",[Xb]:"fire-fn",[$b]:"fire-fn-compat",[Jb]:"fire-iid",[Zb]:"fire-iid-compat",[Wb]:"fire-fcm",[tS]:"fire-fcm-compat",[eS]:"fire-perf",[nS]:"fire-perf-compat",[iS]:"fire-rc",[sS]:"fire-rc-compat",[rS]:"fire-gcs",[aS]:"fire-gcs-compat",[oS]:"fire-fst",[uS]:"fire-fst-compat",[lS]:"fire-vertex","fire-js":"fire-js",[cS]:"fire-js-all"};const Fc=new Map,dS=new Map,nm=new Map;function tv(r,t){try{r.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const t=r.name;if(nm.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;nm.set(t,r);for(const i of Fc.values())tv(i,r);for(const i of dS.values())tv(i,r);return!0}function xm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Wn(r){return r==null?!1:r.settings!==void 0}const mS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new ql("app","Firebase",mS);class pS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Gr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const co=hS;function O0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:em,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(i||(i=C0()),!i)throw Xs.create("no-options");const c=Fc.get(l);if(c){if(es(i,c.options)&&es(a,c.config))return c;throw Xs.create("duplicate-app",{appName:l})}const d=new Tb(l);for(const _ of nm.values())d.addComponent(_);const g=new pS(i,a,d);return Fc.set(l,g),g}function V0(r=em){const t=Fc.get(r);if(!t&&r===em&&C0())return O0();if(!t)throw Xs.create("no-app",{appName:r});return t}function $s(r,t,i){let a=fS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}to(new Gr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const gS="firebase-heartbeat-database",yS=1,kl="firebase-heartbeat-store";let qd=null;function k0(){return qd||(qd=Vb(gS,yS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xs.create("idb-open",{originalErrorMessage:r.message})})),qd}async function _S(r){try{const i=(await k0()).transaction(kl),a=await i.objectStore(kl).get(U0(r));return await i.done,a}catch(t){if(t instanceof os)ns.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function ev(r,t){try{const a=(await k0()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,U0(r)),await a.done}catch(i){if(i instanceof os)ns.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function U0(r){return`${r.name}!${r.options.appId}`}const vS=1024,ES=30;class TS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new bS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=nv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ES){const l=SS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nv(),{heartbeatsToSend:i,unsentEntries:a}=AS(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function nv(){return new Date().toISOString().substring(0,10)}function AS(r,t=vS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),iv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),iv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class bS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ub()?cb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await _S(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return ev(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function iv(r){return Hc(JSON.stringify({version:2,heartbeats:r})).length}function SS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function wS(r){to(new Gr("platform-logger",t=>new Lb(t),"PRIVATE")),to(new Gr("heartbeat",t=>new TS(t),"PRIVATE")),$s(tm,W_,r),$s(tm,W_,"esm2020"),$s("fire-js","")}wS("");var RS="firebase",CS="12.7.0";$s(RS,CS,"app");var sv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,L0;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,k){for(var R=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)R[Ct-2]=arguments[Ct];return S.prototype[N].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const V=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)V[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],R;R=S+(k^C&(N^k))+V[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[1]+3905402710&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[2]+606105819&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+V[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[5]+1200080426&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[6]+2821735955&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+V[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[9]+2336552879&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[10]+4294925233&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(k^C&(N^k))+V[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=k+(N^S&(C^N))+V[13]+4254626195&4294967295,k=S+(R<<12&4294967295|R>>>20),R=N+(C^k&(S^C))+V[14]+2792965006&4294967295,N=k+(R<<17&4294967295|R>>>15),R=C+(S^N&(k^S))+V[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(N^k&(C^N))+V[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[6]+3225465664&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[11]+643717713&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+V[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[10]+38016083&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[15]+3634488961&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+V[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[14]+3275163606&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[3]+4107603335&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^k&(C^N))+V[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=k+(C^N&(S^C))+V[2]+4243563512&4294967295,k=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(k^S))+V[7]+1735328473&4294967295,N=k+(R<<14&4294967295|R>>>18),R=C+(k^S&(N^k))+V[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(C^N^k)+V[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[8]+2272392833&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[11]+1839030562&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+V[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[4]+1272893353&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[7]+4139469664&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+V[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[0]+3936430074&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[3]+3572445317&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^k)+V[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=k+(S^C^N)+V[12]+3873151461&4294967295,k=S+(R<<11&4294967295|R>>>21),R=N+(k^S^C)+V[15]+530742520&4294967295,N=k+(R<<16&4294967295|R>>>16),R=C+(N^k^S)+V[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(N^(C|~k))+V[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[7]+1126891415&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[14]+2878612391&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+V[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[3]+2399980690&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[10]+4293915773&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+V[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[15]+4264355552&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[6]+2734768916&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~k))+V[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=k+(C^(S|~N))+V[11]+3174756917&4294967295,k=S+(R<<10&4294967295|R>>>22),R=N+(S^(k|~C))+V[2]+718787259&4294967295,N=k+(R<<15&4294967295|R>>>17),R=C+(k^(N|~S))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<S;){if(N==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<S;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){l(this,V),N=0;break}}else for(;k<S;)if(V[N++]=I[k++],N==this.blockSize){l(this,V),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[S++]=this.g[C]>>>V&255;return I};function c(I,S){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==S||(C[N]=k,V=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return J(y(-I));const S=[];let C=1;for(let V=0;I>=C;V++)S[V]=I/C|0,C*=4294967296;return new d(S,0)}function b(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return J(b(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let V=w;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const R=parseInt(I.substring(k,k+N),S);N<8?(N=y(Math.pow(S,N)),V=V.j(N).add(y(R))):(V=V.j(C),V=V.add(y(R)))}return V}var w=_(0),M=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(et(this))return-J(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(et(this))return"-"+J(this).toString(I);const S=y(Math.pow(I,6));var C=this;let V="";for(;;){const N=kt(C,S).g;C=ot(C,N.j(S));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,Z(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function et(I){return I.h==-1}r.l=function(I){return I=ot(this,I),et(I)?-1:Z(I)?0:1};function J(I){const S=I.g.length,C=[];for(let V=0;V<S;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}r.abs=function(){return et(this)?J(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=S;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),R=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=R>>>16,k&=65535,R&=65535,C[N]=R<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ot(I,S){return I.add(J(S))}r.j=function(I){if(Z(this)||Z(I))return w;if(et(this))return et(I)?J(this).j(J(I)):J(J(this).j(I));if(et(I))return J(this.j(J(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var V=0;V<2*S;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,R=this.i(V)&65535,Ct=I.i(N)>>>16,Qt=I.i(N)&65535;C[2*V+2*N]+=R*Qt,st(C,2*V+2*N),C[2*V+2*N+1]+=k*Qt,st(C,2*V+2*N+1),C[2*V+2*N+1]+=R*Ct,st(C,2*V+2*N+1),C[2*V+2*N+2]+=k*Ct,st(C,2*V+2*N+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function st(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ct(I,S){this.g=I,this.h=S}function kt(I,S){if(Z(S))throw Error("division by zero");if(Z(I))return new ct(w,w);if(et(I))return S=kt(J(I),S),new ct(J(S.g),J(S.h));if(et(S))return S=kt(I,J(S)),new ct(J(S.g),S.h);if(I.g.length>30){if(et(I)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=S;V.l(I)<=0;)C=zt(C),V=zt(V);var N=Rt(C,1),k=Rt(V,1);for(V=Rt(V,2),C=Rt(C,2);!Z(V);){var R=k.add(V);R.l(I)<=0&&(N=N.add(C),k=R),V=Rt(V,1),C=Rt(C,1)}return S=ot(I,N.j(S)),new ct(N,S)}for(N=w;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=y(C),R=k.j(S);et(R)||R.l(I)>0;)C-=V,k=y(C),R=k.j(S);Z(k)&&(k=M),N=N.add(k),I=ot(I,R)}return new ct(N,I)}r.B=function(I){return kt(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<S;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function zt(I){const S=I.g.length+1,C=[];for(let V=0;V<S;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function Rt(I,S){const C=S>>5;S%=32;const V=I.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=S>0?I.i(k+C)>>>S|I.i(k+C+1)<<32-S:I.i(k+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,L0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,Js=d}).apply(typeof sv<"u"?sv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var P0,wl,j0,Oc,im,z0,B0,q0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var nt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)nt[bt-2]=arguments[bt];return m.prototype[P].apply(T,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let nt=0;nt<H;nt++)u[v+nt]=P[nt]}else u.push(P)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ot(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const T=ct.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new et(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,Rt=!1,I=new st,S=()=>{const u=Promise.resolve(void 0);zt=()=>{u.then(C)}};function C(){for(var u;u=ot();){try{u.h.call(u.g)}catch(v){J(v)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Rt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Ct(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Ct,N),Ct.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Ut(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let H=0;H<K.length;H++)v=K[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function W(u){this.src=u,this.g={},this.h=0}W.prototype.add=function(u,m,v,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const nt=yt(u,m,T,P);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new it(m,this.src,H,!!T,P),m.fa=v,u.push(m)),m};function ht(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function yt(u,m,v,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return P}return-1}var Et="closure_lm_"+(Math.random()*1e6|0),Ne={};function oe(u,m,v,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)oe(u,m[H],v,T,P);return null}return v=To(v),u&&u[Qt]?u.J(m,v,g(T)?!!T.capture:!1,P):hr(u,m,v,!1,T,P)}function hr(u,m,v,T,P,H){if(!m)throw Error("Invalid event type");const nt=g(P)?!!P.capture:!!P;let bt=fr(u);if(bt||(u[Et]=bt=new W(u)),v=bt.add(m,v,T,nt,H),v.proxy)return v;if(T=Zr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ii(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zr(){function u(v){return m.call(u.src,u.listener,v)}const m=vo;return u}function Wr(u,m,v,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)Wr(u,m[H],v,T,P);else T=g(T)?!!T.capture:!!T,v=To(v),u&&u[Qt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=yt(m,v,T,P),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=yt(m,v,T,P)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])ht(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ii(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=fr(m))?(ht(v,u),v.h==0&&(v.src=null,m[Et]=null)):ft(u)}}}function ii(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function vo(u,m){if(u.da)u=!0;else{m=new Ct(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ta(u),u=v.call(T,m)}return u}function fr(u){return u=u[Et],u instanceof W?u:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(u){return typeof u=="function"?u:(u[Eo]||(u[Eo]=function(m){return u.handleEvent(m)}),u[Eo])}function ve(){V.call(this),this.i=new W(this),this.M=this,this.G=null}w(ve,V),ve.prototype[Qt]=!0,ve.prototype.removeEventListener=function(u,m,v,T){Wr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),L(m,P)}P=!0;let H,nt;if(v)for(nt=v.length-1;nt>=0;nt--)H=m.g=v[nt],P=ls(H,T,!0,m)&&P;if(H=m.g=u,P=ls(H,T,!0,m)&&P,P=ls(H,T,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)H=m.g=v[nt],P=ls(H,T,!1,m)&&P}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ve.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ls(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const nt=m[H];if(nt&&!nt.da&&nt.capture==v){const bt=nt.listener,me=nt.ha||nt.src;nt.fa&&ht(u.i,nt),P=bt.call(me,T)!==!1&&P}}return P&&!T.defaultPrevented}function Oh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Oh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){V.call(this),this.h=u,this.g={}}w(dr,V);var Ao=[];function bo(u){Ut(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),bo(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Vh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var Bn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}w(ze,N);function Rn(){N.call(this,"c")}w(Rn,N);var de={},nu=null;function ea(){return nu=nu||new ve}de.Ia="serverreachability";function iu(u){N.call(this,de.Ia,u)}w(iu,N);function si(u){const m=ea();De(m,new iu(m))}de.STAT_EVENT="statevent";function mr(u,m){N.call(this,de.STAT_EVENT,u),this.stat=m}w(mr,N);function Ee(u){const m=ea();De(m,new mr(m,u))}de.Ja="timingevent";function ri(u,m){N.call(this,de.Ja,u),this.size=m}w(ri,N);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function qn(){this.g=!0}qn.prototype.ua=function(){this.g=!1};function kh(u,m,v,T,P,H){u.info(function(){if(u.g)if(H){var nt="",bt=H.split("&");for(let Ft=0;Ft<bt.length;Ft++){var me=bt[Ft].split("=");if(me.length>1){const le=me[0];me=me[1];const Nn=le.split("_");nt=Nn.length>=2&&Nn[1]=="type"?nt+(le+"="+me+"&"):nt+(le+"=redacted&")}}}else nt=null;else nt=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function su(u,m,v,T,P,H,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+nt})}function oi(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Uh(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}qn.prototype.info=function(){};function Uh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return us(H)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function yr(){}w(yr,tu),yr.prototype.g=function(){return new XMLHttpRequest},wo=new yr;function Vi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Hn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Fn}function Fn(){this.i=null,this.g="",this.h=!1}var Te={},Ue={};function li(u,m,v){u.M=1,u.A=_r(be(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),ui(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Fn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ao[0]=P.toString()),P=Ao);for(let H=0;H<P.length;H++){const nt=oe(v,P[H],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),kh(u.i,u.v,u.B,u.l,u.S,u.u)}Hn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Yn(u)==3?m.j():this.Y(u)},Hn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Yn(this.g),me=this.g.ya(),Ft=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||me==7||(me==8||Ft<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=Lh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break e}}H=null}if(u=H)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,Ee(12),mn(this),Cn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=ou(this,v),le==Ue){bt==4&&(this.m=4,Ee(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Te){this.m=4,Ee(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,le,null),hi(this,le);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(nt),nt.P=!0,Ee(11))}}else oi(this.i,this.l,v,null),hi(this,v);bt==4&&mn(this),this.o&&!this.K&&(bt==4?gu(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),mn(this),Cn(this)}}}catch{}};function Lh(u){if(!au(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,P=Yn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?Te:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),u.C=T+v,m)))}Hn.prototype.cancel=function(){this.K=!0,mn(this)};function ui(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Hn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(si(),Ee(17)),mn(this),this.m=2,Cn(this)):ia(this,this.T-u)};function Cn(u){u.j.I==0||u.K||gu(u.j,u)}function mn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),ys(v);else break t;wr(v),Ee(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&ha(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ft=P[m];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Nn=Ft[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const Ei=Ft[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Kn=Ft[5];Kn!=null&&typeof Kn=="number"&&Kn>0&&(T=1.5*Kn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Xn=u.g;if(Xn){const Rr=Xn.g?Xn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var H=T.h;H.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(xo(H,H.h),H.h=null))}if(T.G){const fa=Xn.g?Xn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Kt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=vu(T,T.L?T.ba:null,T.W),nt.L){Io(T.h,nt);var bt=nt,me=T.O;me&&(bt.H=me),bt.D&&(ci(bt),ui(bt)),T.g=nt}else mu(T);v.i.length>0&&_i(v)}else Ft[0]!="stop"&&Ft[0]!="close"||vi(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?vi(v,7):Po(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}si(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,H=null;T>=0?(P=u[v].substring(0,T),H=u[v].substring(T+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,Do(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),cs(this,m[4]),this.h=mi(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,ra,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?Mo:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,cu)),u.join("")},pn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let nt=0;nt<P.length;){const bt=P[nt++];bt=="."?T&&nt==P.length&&H.push(""):bt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&nt==P.length&&H.push("")):(H.push(bt),T=!0)}T=H.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Do(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new pn(u)}function Le(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Do(u,m,v){m instanceof fs?(u.i=m,oa(u.i,u.l)):(v||(m=vr(m,hs)),u.i=new fs(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function _r(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,uu=/[#\?:]/g,Mo=/[#\?]/g,hs=/[#\?@]/g,cu=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fs.prototype,r.add=function(u,m){an(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){an(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return an(u),m=ds(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Vo(u,m){an(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ds(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vo(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Vi(v);v=Vo(this,v);for(let H=0;H<v.length;H++){let nt=P;v[H]!==""&&(nt+="="+Vi(v[H])),u.push(nt)}}return this.i=u.join("&")};function fu(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(hu(this,T),aa(this,P,v))},u)),u.j=m}function Gn(u,m){const v=new qn;if(d.Image){const T=new Image;T.onload=b(xn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(xn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(xn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(xn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ko(u,m){const v=new qn,T=new AbortController,P=setTimeout(()=>{T.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ms(){this.g=new Wl}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(pi,tu),pi.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Er,ve),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Qn(this)),this.g&&(this.readyState=3,Qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Qn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},r.Na=function(u){this.g&&(this.response=u,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Ut(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=In(v),typeof u=="string"?v!=null&&Vi(v):Kt(u,m,v))}function Jt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,ve);var gi=/^https?$/i,Uo=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ar(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of v)this.g.setRequestHeader(H,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ar(this,H)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),ki(u)}function Lo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},r.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Yn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Yn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let nt=String(u.D).match(lu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!gi.test(nt?nt.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=Yn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Lo(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Yn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Yn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Vh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Yn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=ru(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new qn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ee(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),_i(this)};function Po(u){if(ua(u),u.I==3){var m=u.V++,v=be(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Sr(u,v),m=new Hn(u,u.j,m),m.M=2,m.A=_r(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}_u(u)}function ys(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ua(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;zt||S(),Rt||(zt(),Rt=!0),I.add(m,u),u.D=0}}function ca(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Hn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=O(H),L(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,P,m),v=be(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),H&&(this.R?m="headers="+Vi(In(H))+"&"+m:this.u&&Tr(v,this.u,H)),xo(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,li(P,v,null)):li(P,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Co(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),Sr(u,T),u.u&&u.o&&Tr(T,u.u,u.o),v=new Hn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,v),li(v,T,m)}function Sr(u,m){u.H&&Ut(u.H,function(v,T){Kt(m,T,v)}),u.l&&Ut({},function(v,T){Kt(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let bt=-1;for(;;){const me=["count="+v];bt==-1?v>0?(bt=P[0].g,me.push("ofs="+bt)):bt=0:me.push("ofs="+bt);let Ft=!0;for(let le=0;le<v;le++){var H=P[le].g;const Nn=P[le].map;if(H-=bt,H<0)bt=Math.max(0,P[le].g-100),Ft=!1;else try{H="req"+H+"_"||"";try{var nt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[Ei,Kn]of nt){let Xn=Kn;g(Kn)&&(Xn=us(Kn)),me.push(H+Ei+"="+encodeURIComponent(Xn))}}catch(Ei){throw me.push(H+"type="+encodeURIComponent("_badmap")),Ei}}catch{T&&T(Nn)}}if(Ft){nt=me.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;zt||S(),Rt||(zt(),Rt=!0),I.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),ys(this),pu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Hn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Sr(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(be(m)),v.u=null,v.R=!0,na(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ys(this),wr(this),Ee(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){ha(u),zo(u),u.g=null;var T=2}else if(di(u.h,m))v=m.G,Io(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ea(),De(T,new ri(T,v)),_i(u)}else mu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&wr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),_r(T),P?Gn(T.toString(),v):ko(T.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),_u(u),ua(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof pn?be(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new pn(null);T&&Le(H,T),m&&(H.g=m),P&&cs(H,P),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),Sr(u,T),T}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new pi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new en(u,m)};function en(u,m){ve.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}w(en,ve),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Po(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&_i(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,en.Z.N.call(this)};function Au(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(Au,ze);function bu(){Rn.call(this),this.status=1}w(bu,Rn);function Li(u){this.g=u}w(Li,Tu),Li.prototype.ra=function(){De(this.g,"a")},Li.prototype.qa=function(u){De(this.g,new Au(u))},Li.prototype.pa=function(u){De(this.g,new bu)},Li.prototype.oa=function(){De(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,q0=function(){return new _s},B0=function(){return ea()},z0=de,im={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Oc=gr,So.COMPLETE="complete",j0=So,eu.EventType=Bn,Bn.OPEN="a",Bn.CLOSE="b",Bn.ERROR="c",Bn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,wl=eu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,P0=Jt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const rv="@firebase/firestore",av="4.9.3";class Je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Je.UNAUTHENTICATED=new Je(null),Je.GOOGLE_CREDENTIALS=new Je("google-credentials-uid"),Je.FIRST_PARTY=new Je("first-party-uid"),Je.MOCK_USER=new Je("mock-user");let ho="12.7.0";const Qr=new Rm("@firebase/firestore");function qa(){return Qr.logLevel}function rt(r,...t){if(Qr.logLevel<=Mt.DEBUG){const i=t.map(Im);Qr.debug(`Firestore (${ho}): ${r}`,...i)}}function is(r,...t){if(Qr.logLevel<=Mt.ERROR){const i=t.map(Im);Qr.error(`Firestore (${ho}): ${r}`,...i)}}function eo(r,...t){if(Qr.logLevel<=Mt.WARN){const i=t.map(Im);Qr.warn(`Firestore (${ho}): ${r}`,...i)}}function Im(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function gt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,H0(r,a,i)}function H0(r,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw is(a),new Error(a)}function Yt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||H0(t,l,a)}function At(r,t){return r}const tt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class F0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class xS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Je.UNAUTHENTICATED)))}shutdown(){}}class IS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class NS{constructor(t){this.t=t,this.currentUser=Je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new F0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Je(t)}}class DS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Je.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class MS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new DS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Je.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ov{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class OS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Wn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ov(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ov(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function VS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Nm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=VS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Ot(r,t){return r<t?-1:r>t?1:0}function sm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Hd(l)===Hd(c)?Ot(l,c):Hd(l)?1:-1}return Ot(r.length,t.length)}const kS=55296,US=57343;function Hd(r){const t=r.charCodeAt(0);return t>=kS&&t<=US}function no(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const lv="__name__";class wi{constructor(t,i,a){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&gt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Ot(t.length,i.length)}static compareSegments(t,i){const a=wi.isNumericId(t),l=wi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):sm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class re extends wi{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ut(tt.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const LS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return LS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===lv}static keyField(){return new Ye([lv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ut(tt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(tt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(tt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ut(tt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(re.fromString(t))}static fromName(t){return new mt(re.fromString(t).popFirst(5))}static empty(){return new mt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new re(t.slice()))}}function G0(r,t,i){if(!i)throw new ut(tt.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function PS(r,t,i,a){if(t===!0&&a===!0)throw new ut(tt.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function uv(r){if(!mt.isDocumentKey(r))throw new ut(tt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function cv(r){if(mt.isDocumentKey(r))throw new ut(tt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Q0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Dm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":gt(12329,{type:typeof r})}function ei(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ut(tt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Dm(r);throw new ut(tt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!Q0(r))throw new ut(tt.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ut(tt.INVALID_ARGUMENT,i);return!0}const hv=-62135596800,fv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*fv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(tt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<hv)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(tt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/fv}_compareTo(t){return this.seconds===t.seconds?Ot(this.nanoseconds,t.nanoseconds):Ot(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-hv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:Ie("string",ae._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ae(0,0))}static max(){return new vt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function jS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new nr(l,mt.empty(),t)}function zS(r){return new nr(r.readTime,r.key,Ul)}class nr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new nr(vt.min(),mt.empty(),Ul)}static max(){return new nr(vt.max(),mt.empty(),Ul)}}function BS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Ot(r.largestBatchId,t.largestBatchId))}const qS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class HS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==tt.FAILED_PRECONDITION||r.message!==qS)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function FS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class hh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hh.ce=-1;const Mm=-1;function fh(r){return r==null}function Gc(r){return r===0&&1/r==-1/0}function GS(r){return typeof r=="number"&&Number.isInteger(r)&&!Gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const Y0="";function QS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=dv(t)),t=YS(r.get(i),t);return dv(t)}function YS(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case Y0:i+="";break;default:i+=c}}return i}function dv(r){return r+Y0+""}function mv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function K0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new pv(this.data.getIterator())}getIteratorFrom(t){return new pv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class pv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let i=new ke(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class X0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new X0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ot(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const KS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ir(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=KS.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function sr(r){return typeof r=="string"?Ke.fromBase64String(r):Ke.fromUint8Array(r)}const $0="server_timestamp",J0="__type__",Z0="__previous_value__",W0="__local_write_time__";function Om(r){return(r?.mapValue?.fields||{})[J0]?.stringValue===$0}function dh(r){const t=r.mapValue.fields[Z0];return Om(t)?dh(t):t}function Ll(r){const t=ir(r.mapValue.fields[W0].timestampValue);return new ae(t.seconds,t.nanos)}class XS{constructor(t,i,a,l,c,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const Qc="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}const tE="__type__",$S="__max__",Ic={mapValue:{}},eE="__vector__",Yc="value";function rr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Om(r)?4:ZS(r)?9007199254740991:JS(r)?10:11:gt(28295,{value:r})}function Mi(r,t){if(r===t)return!0;const i=rr(r);if(i!==rr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=ir(l.timestampValue),g=ir(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return sr(l.bytesValue).isEqual(sr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],Mi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(mv(d)!==mv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Mi(d[_],g[_])))return!1;return!0})(r,t);default:return gt(52216,{left:r})}}function jl(r,t){return(r.values||[]).find((i=>Mi(i,t)))!==void 0}function io(r,t){if(r===t)return 0;const i=rr(r),a=rr(t);if(i!==a)return Ot(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ot(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),_=ye(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return gv(r.timestampValue,t.timestampValue);case 4:return gv(Ll(r),Ll(t));case 5:return sm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=sr(c),_=sr(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Ot(g[y],_[y]);if(b!==0)return b}return Ot(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ot(ye(c.latitude),ye(d.latitude));return g!==0?g:Ot(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return yv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Yc]?.arrayValue,b=_[Yc]?.arrayValue,w=Ot(y?.values?.length||0,b?.values?.length||0);return w!==0?w:yv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let w=0;w<_.length&&w<b.length;++w){const M=sm(_[w],b[w]);if(M!==0)return M;const q=io(g[_[w]],y[b[w]]);if(q!==0)return q}return Ot(_.length,b.length)})(r.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function gv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ot(r,t);const i=ir(r),a=ir(t),l=Ot(i.seconds,a.seconds);return l!==0?l:Ot(i.nanos,a.nanos)}function yv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=io(i[l],a[l]);if(c)return c}return Ot(i.length,a.length)}function so(r){return rm(r)}function rm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=ir(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return sr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=rm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${rm(i.fields[d])}`;return l+"}"})(r.mapValue):gt(61005,{value:r})}function Vc(r){switch(rr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dh(r);return t?16+Vc(t):16;case 5:return 2*r.stringValue.length;case 6:return sr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Vc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ur(a.fields,((c,d)=>{l+=c.length+Vc(d)})),l})(r.mapValue);default:throw gt(13486,{value:r})}}function am(r){return!!r&&"integerValue"in r}function Vm(r){return!!r&&"arrayValue"in r}function _v(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function kc(r){return!!r&&"mapValue"in r}function JS(r){return(r?.mapValue?.fields||{})[tE]?.stringValue===eE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ur(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Nl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Nl(r.arrayValue.values[i]);return t}return{...r}}function ZS(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===$S}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!kc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Nl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());kc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Mi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];kc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ur(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(Nl(this.value))}}function nE(r){const t=[];return ur(r.fields,((i,a)=>{const l=new Ye([i]);if(kc(a)){const c=nE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class Ze{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ze(t,0,vt.min(),vt.min(),vt.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,vt.min(),vt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,vt.min(),vt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Kc{constructor(t,i){this.position=t,this.inclusive=i}}function Ev(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=io(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Tv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Mi(r.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function WS(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class iE{}class Ve extends iE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new ew(t,i,a):i==="array-contains"?new sw(t,a):i==="in"?new rw(t,a):i==="not-in"?new aw(t,a):i==="array-contains-any"?new ow(t,a):new Ve(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new nw(t,a):new iw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&rr(this.value)===rr(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends iE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Oi(t,i)}matches(t){return sE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function sE(r){return r.op==="and"}function rE(r){return tw(r)&&sE(r)}function tw(r){for(const t of r.filters)if(t instanceof Oi)return!1;return!0}function om(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+so(r.value);if(rE(r))return r.filters.map((t=>om(t))).join(",");{const t=r.filters.map((i=>om(i))).join(",");return`${r.op}(${t})`}}function aE(r,t){return r instanceof Ve?(function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&Mi(a.value,l.value)})(r,t):r instanceof Oi?(function(a,l){return l instanceof Oi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&aE(d,l.filters[g])),!0):!1})(r,t):void gt(19439)}function oE(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(r):r instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(oE).join(" ,")+"}"})(r):"Filter"}class ew extends Ve{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class nw extends Ve{constructor(t,i){super(t,"in",i),this.keys=lE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class iw extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=lE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function lE(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class sw extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Vm(i)&&jl(i.arrayValue,this.value)}}class rw extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class aw extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class ow extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Vm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class lw{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Av(r,t=null,i=[],a=[],l=null,c=null,d=null){return new lw(r,t,i,a,l,c,d)}function km(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>om(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),fh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>so(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>so(a))).join(",")),t.Te=i}return t.Te}function Um(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!WS(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!aE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Tv(r.startAt,t.startAt)&&Tv(r.endAt,t.endAt)}function lm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class mh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function uw(r,t,i,a,l,c,d,g){return new mh(r,t,i,a,l,c,d,g)}function ph(r){return new mh(r)}function bv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function cw(r){return r.collectionGroup!==null}function Dl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(Ye.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Xc(Ye.keyField(),a))}return t.Ie}function Ri(r){const t=At(r);return t.Ee||(t.Ee=hw(t,Dl(r))),t.Ee}function hw(r,t){if(r.limitType==="F")return Av(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)}));const i=r.endAt?new Kc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Kc(r.startAt.position,r.startAt.inclusive):null;return Av(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function um(r,t,i){return new mh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function gh(r,t){return Um(Ri(r),Ri(t))&&r.limitType===t.limitType}function uE(r){return`${km(Ri(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>oE(l))).join(", ")}]`),fh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${a})`})(Ri(r))}; limitType=${r.limitType})`}function yh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=Ev(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,g,_){const y=Ev(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Dl(a),l))})(r,t)}function fw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function cE(r){return(t,i)=>{let a=!1;for(const l of Dl(r)){const c=dw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function dw(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?io(_,y):gt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return gt(19790,{direction:r.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}const mw=new ce(mt.comparator);function ss(){return mw}const hE=new ce(mt.comparator);function Rl(...r){let t=hE;for(const i of r)t=t.insert(i.key,i);return t}function fE(r){let t=hE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Ml()}function dE(){return Ml()}function Ml(){return new $r((r=>r.toString()),((r,t)=>r.isEqual(t)))}const pw=new ce(mt.comparator),gw=new ke(mt.comparator);function Vt(...r){let t=gw;for(const i of r)t=t.add(i);return t}const yw=new ke(Ot);function _w(){return yw}function Lm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function mE(r){return{integerValue:""+r}}function pE(r,t){return GS(t)?mE(t):Lm(r,t)}class _h{constructor(){this._=void 0}}function vw(r,t,i){return r instanceof $c?(function(l,c){const d={fields:{[J0]:{stringValue:$0},[W0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Om(c)&&(c=dh(c)),c&&(d.fields[Z0]=c),{mapValue:d}})(i,t):r instanceof ro?yE(r,t):r instanceof ao?_E(r,t):(function(l,c){const d=gE(l,c),g=Sv(d)+Sv(l.Ae);return am(d)&&am(l.Ae)?mE(g):Lm(l.serializer,g)})(r,t)}function Ew(r,t,i){return r instanceof ro?yE(r,t):r instanceof ao?_E(r,t):i}function gE(r,t){return r instanceof zl?(function(a){return am(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class $c extends _h{}class ro extends _h{constructor(t){super(),this.elements=t}}function yE(r,t){const i=vE(t);for(const a of r.elements)i.some((l=>Mi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ao extends _h{constructor(t){super(),this.elements=t}}function _E(r,t){let i=vE(t);for(const a of r.elements)i=i.filter((l=>!Mi(l,a)));return{arrayValue:{values:i}}}class zl extends _h{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Sv(r){return ye(r.integerValue||r.doubleValue)}function vE(r){return Vm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Pm{constructor(t,i){this.field=t,this.transform=i}}function Tw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ro&&l instanceof ro||a instanceof ao&&l instanceof ao?no(a.elements,l.elements,Mi):a instanceof zl&&l instanceof zl?Mi(a.Ae,l.Ae):a instanceof $c&&l instanceof $c})(r.transform,t.transform)}class Aw{constructor(t,i){this.version=t,this.transformResults=i}}class ni{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ni}static exists(t){return new ni(void 0,t)}static updateTime(t){return new ni(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Uc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class vh{}function EE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new jm(r.key,ni.none()):new Gl(r.key,r.data,ni.none());{const i=r.data,a=dn.empty();let l=new ke(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new cr(r.key,a,new wn(l.toArray()),ni.none())}}function bw(r,t,i){r instanceof Gl?(function(l,c,d){const g=l.value.clone(),_=Rv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof cr?(function(l,c,d){if(!Uc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Rv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(TE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Gl?(function(c,d,g,_){if(!Uc(c.precondition,d))return g;const y=c.value.clone(),b=Cv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof cr?(function(c,d,g,_){if(!Uc(c.precondition,d))return g;const y=Cv(c.fieldTransforms,_,d),b=d.data;return b.setAll(TE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return Uc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function Sw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=gE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function wv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&no(a,l,((c,d)=>Tw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends vh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cr extends vh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function TE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Rv(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,Ew(d,g,i[l]))}return a}function Cv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,vw(c,d,t))}return a}class jm extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ww extends vh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Rw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&bw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=dE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=EE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,a)=>wv(i,a)))&&no(this.baseMutations,t.baseMutations,((i,a)=>wv(i,a)))}}class zm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return pw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new zm(t,i,a,l)}}class Cw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class xw{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,Pt;function Iw(r){switch(r){case tt.OK:return gt(64938);case tt.CANCELLED:case tt.UNKNOWN:case tt.DEADLINE_EXCEEDED:case tt.RESOURCE_EXHAUSTED:case tt.INTERNAL:case tt.UNAVAILABLE:case tt.UNAUTHENTICATED:return!1;case tt.INVALID_ARGUMENT:case tt.NOT_FOUND:case tt.ALREADY_EXISTS:case tt.PERMISSION_DENIED:case tt.FAILED_PRECONDITION:case tt.ABORTED:case tt.OUT_OF_RANGE:case tt.UNIMPLEMENTED:case tt.DATA_LOSS:return!0;default:return gt(15467,{code:r})}}function AE(r){if(r===void 0)return is("GRPC error has no .code"),tt.UNKNOWN;switch(r){case xe.OK:return tt.OK;case xe.CANCELLED:return tt.CANCELLED;case xe.UNKNOWN:return tt.UNKNOWN;case xe.DEADLINE_EXCEEDED:return tt.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return tt.RESOURCE_EXHAUSTED;case xe.INTERNAL:return tt.INTERNAL;case xe.UNAVAILABLE:return tt.UNAVAILABLE;case xe.UNAUTHENTICATED:return tt.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return tt.INVALID_ARGUMENT;case xe.NOT_FOUND:return tt.NOT_FOUND;case xe.ALREADY_EXISTS:return tt.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return tt.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return tt.FAILED_PRECONDITION;case xe.ABORTED:return tt.ABORTED;case xe.OUT_OF_RANGE:return tt.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return tt.UNIMPLEMENTED;case xe.DATA_LOSS:return tt.DATA_LOSS;default:return gt(39323,{code:r})}}(Pt=xe||(xe={}))[Pt.OK=0]="OK",Pt[Pt.CANCELLED=1]="CANCELLED",Pt[Pt.UNKNOWN=2]="UNKNOWN",Pt[Pt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pt[Pt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pt[Pt.NOT_FOUND=5]="NOT_FOUND",Pt[Pt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pt[Pt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pt[Pt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pt[Pt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pt[Pt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pt[Pt.ABORTED=10]="ABORTED",Pt[Pt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pt[Pt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pt[Pt.INTERNAL=13]="INTERNAL",Pt[Pt.UNAVAILABLE=14]="UNAVAILABLE",Pt[Pt.DATA_LOSS=15]="DATA_LOSS";function Nw(){return new TextEncoder}const Dw=new Js([4294967295,4294967295],0);function xv(r){const t=Nw().encode(r),i=new L0;return i.update(t),new Uint8Array(i.digest())}function Iv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Js([i,a],0),new Js([l,c],0)]}class Bm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(a<0)throw new Cl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Js.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Js.fromNumber(a)));return l.compare(Dw)===1&&(l=new Js([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=xv(t),[a,l]=Iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Bm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=xv(t),[a,l]=Iv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Eh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Eh(vt.min(),l,new ce(Ot),ss(),Vt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Vt(),Vt(),Vt())}}class Lc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class bE{constructor(t,i){this.targetId=t,this.Ce=i}}class SE{constructor(t,i,a=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Nv{constructor(){this.ve=0,this.Fe=Dv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:gt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Dv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Mw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.Je=Nc(),this.He=Nc(),this.Ye=new ce(Ot)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(lm(c))if(a===0){const d=new mt(c.path);this.et(i,d,Ze.newNoDocument(d,vt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=sr(a).toUint8Array()}catch(_){if(_ instanceof X0)return eo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Bm(d,l,c)}catch(_){return eo(_ instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&lm(g.target)){const _=new mt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Eh(t,i,this.Ye,this.je,a);return this.je=ss(),this.Je=Nc(),this.He=Nc(),this.Ye=new ce(Ot),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Nv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Ot),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Ot),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Nv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ce(mt.comparator)}function Dv(){return new ce(mt.comparator)}const Ow={asc:"ASCENDING",desc:"DESCENDING"},Vw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},kw={and:"AND",or:"OR"};class Uw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function cm(r,t){return r.useProto3Json||fh(t)?t:{value:t}}function Jc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function wE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Lw(r,t){return Jc(r,t.toTimestamp())}function Ci(r){return Yt(!!r,49232),vt.fromTimestamp((function(i){const a=ir(i);return new ae(a.seconds,a.nanos)})(r))}function qm(r,t){return hm(r,t).canonicalString()}function hm(r,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function RE(r){const t=re.fromString(r);return Yt(DE(t),10190,{key:t.toString()}),t}function fm(r,t){return qm(r.databaseId,t.path)}function Fd(r,t){const i=RE(t);if(i.get(1)!==r.databaseId.projectId)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ut(tt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(xE(i))}function CE(r,t){return qm(r.databaseId,t)}function Pw(r){const t=RE(r);return t.length===4?re.emptyPath():xE(t)}function dm(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Mv(r,t,i){return{name:fm(r,t),fields:i.value.mapValue.fields}}function jw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Yt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Yt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?tt.UNKNOWN:AE(y.code);return new ut(b,y.message||"")})(d);i=new SE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Fd(r,a.document.name),c=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):vt.min(),g=new dn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Lc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Fd(r,a.document),c=a.readTime?Ci(a.readTime):vt.min(),d=Ze.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Lc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Fd(r,a.document),c=a.removedTargetIds||[];i=new Lc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new xw(l,c),g=a.targetId;i=new bE(g,d)}}return i}function zw(r,t){let i;if(t instanceof Gl)i={update:Mv(r,t.key,t.value)};else if(t instanceof jm)i={delete:fm(r,t.key)};else if(t instanceof cr)i={update:Mv(r,t.key,t.data),updateMask:Xw(t.fieldMask)};else{if(!(t instanceof ww))return gt(16599,{Vt:t.type});i={verify:fm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw gt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Lw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(r,t.precondition)),i}function Bw(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(vt.min())&&(d=Ci(c)),new Aw(d,l.transformResults||[])})(i,t)))):[]}function qw(r,t){return{documents:[CE(r,t.path)]}}function Hw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=CE(r,l);const c=(function(y){if(y.length!==0)return NE(Oi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Fa(M.field),direction:Qw(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=cm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Fw(r){let t=Pw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(w){const M=IE(w);return M instanceof Oi&&rE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((M=>(function(Z){return new Xc(Ga(Z.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let M;return M=typeof w=="object"?w.value:w,fh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(w){const M=!!w.before,q=w.values||[];return new Kc(q,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const M=!w.before,q=w.values||[];return new Kc(q,M)})(i.endAt)),uw(t,l,d,c,g,"F",_,y)}function Gw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function IE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((a=>IE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(r):gt(30097,{filter:r})}function Qw(r){return Ow[r]}function Yw(r){return Vw[r]}function Kw(r){return kw[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Ye.fromServerFormat(r.fieldPath)}function NE(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(vv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(_v(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(vv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(_v(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:Yw(i.op),value:i.value}}})(r):r instanceof Oi?(function(i){const a=i.getFilters().map((l=>NE(l)));return a.length===1?a[0]:{compositeFilter:{op:Kw(i.op),filters:a}}})(r):gt(54877,{filter:r})}function Xw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function DE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Ke.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class $w{constructor(t){this.yt=t}}function Jw(r){const t=Fw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?um(t,t.limit,"L"):t}class Zw{constructor(){this.Cn=new Ww}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(nr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(nr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class Ww{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ke(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ke(re.comparator)).toArray()}}const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ME,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const Vv="LruGarbageCollector",t2=1048576;function kv([r,t],[i,a]){const l=Ot(r,i);return l===0?Ot(t,a):l}class e2{constructor(t){this.Ir=t,this.buffer=new ke(kv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();kv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class n2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Vv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?rt(Vv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class i2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(hh.ce);const a=new e2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Ov)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),qa()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function s2(r,t){return new i2(r,t)}class r2{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class a2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class o2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,wn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Hr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Rl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ss();const d=Ml(),g=(function(){return Ml()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof cr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ol(b.mutation,y,b.mutation.getFieldMask(),ae.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new a2(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ml();let l=new ce(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||wn.empty();b=g.applyToLocalView(y,b),a.set(_,b);const w=(l.get(g.batchId)||Vt()).add(_);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,w=dE();b.forEach((M=>{if(!c.has(M)){const q=EE(i.get(M),a.get(M));q!==null&&w.set(M,q),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):cw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Hr());let g=Ul,_=c;return d.next((y=>$.forEach(y,((b,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((b=>({batchId:g,changes:fE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=Rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(w,M){return new mh(M,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((w,M)=>{d=d.insert(w,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,Ze.newInvalidDocument(b)))}));let g=Rl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ol(b.mutation,y,wn.empty(),ae.now()),yh(i,y)&&(g=g.insert(_,y))})),g}))}}class l2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Jw(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),$.resolve()}}class u2{constructor(){this.overlays=new ce(mt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Hr(),c=i.length+1,d=new mt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Hr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Hr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Cw(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class c2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Hm{constructor(){this.Qr=new ke(je.$r),this.Ur=new ke(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new je(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new re([])),a=new je(i,t),l=new je(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new re([])),a=new je(i,t),l=new je(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Ot(t.Yr,i.Yr)}static Kr(t,i){return Ot(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class h2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(je.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Rw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new je(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Mm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ke(Ot);return i.forEach((l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new je(new mt(c),0);let g=new ke(Ot);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new je(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new je(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class f2{constructor(t){this.ri=t,this.docs=(function(){return new ce(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=ss();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ss();const d=i.path,g=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||BS(zS(b),a)<=0||(l.has(b.key)||yh(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){gt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new d2(this)}getSize(t){return $.resolve(this.size)}}class d2 extends r2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class m2{constructor(t){this.persistence=t,this.si=new $r((i=>km(i)),Um),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Hm,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class OE{constructor(t,i){this.ui={},this.overlays={},this.ci=new hh(0),this.li=!1,this.li=!0,this.hi=new c2,this.referenceDelegate=t(this),this.Pi=new m2(this),this.indexManager=new Zw,this.remoteDocumentCache=(function(l){return new f2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new $w(i),this.Ii=new l2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new u2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new h2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new p2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class p2 extends HS{constructor(t){super(),this.currentSequenceNumber=t}}class Fm{constructor(t){this.persistence=t,this.Ri=new Hm,this.Vi=null}static mi(t){return new Fm(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=mt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new $r((a=>QS(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=s2(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Vc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Gm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Gm(t,i.fromCache,a,l)}}class g2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class y2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return lb()?8:FS(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new g2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(qa()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(qa()<=Mt.DEBUG&&rt("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qa()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):$.resolve())}ys(t,i){if(bv(i))return $.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=um(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,um(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return bv(i)||l.isEqual(vt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(qa()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,jS(l,Ul)).next((g=>g)))}))}Ds(t,i){let a=new ke(cE(t));return i.forEach(((l,c)=>{yh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return qa()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,nr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Qm="LocalStore",_2=3e8;class v2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Ot),this.xs=new $r((c=>km(c)),Um),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new o2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function E2(r,t,i,a){return new v2(r,t,i,a)}async function VE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function T2(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const w=y.batch,M=w.keys();let q=$.resolve();return M.forEach((Z=>{q=q.next((()=>b.getEntry(_,Z))).next((et=>{const J=y.docVersions.get(Z);Yt(J!==null,48541),et.version.compareTo(J)<0&&(w.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),b.addEntry(et)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function kE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function A2(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,w)=>{const M=l.get(w);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,w))));let q=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?q=q.withResumeToken(Ke.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):b.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(b.resumeToken,a)),l=l.insert(w,q),(function(et,J,ot){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=_2?!0:ot.addedDocuments.size+ot.modifiedDocuments.size+ot.removedDocuments.size>0})(M,q,b)&&g.push(i.Pi.updateTargetData(c,q))}));let _=ss(),y=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(b2(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!a.isEqual(vt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function b2(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ss();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt(Qm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function S2(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Mm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function w2(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function mm(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;rt(Qm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Uv(r,t,i){const a=At(r);let l=vt.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const w=At(_),M=w.xs.get(b);return M!==void 0?$.resolve(w.Ms.get(M)):w.Pi.getTargetData(y,b)})(a,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:Vt()))).next((g=>(R2(a,fw(t),g),{documents:g,Qs:c})))))}function R2(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Lv{constructor(){this.activeTargetIds=_w()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class C2{constructor(){this.Mo=new Lv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Lv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class x2{Oo(t){}shutdown(){}}const Pv="ConnectivityMonitor";class jv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Pv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Pv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function pm(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Gd="RestConnection",I2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=pm(),g=this.zo(t,i.toUriEncodedString());rt(Gd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),b=uo(y);return this.Jo(t,g,_,a,b).then((w=>(rt(Gd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw eo(Gd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=I2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class D2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const $e="WebChannelConnection";class M2 extends N2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=pm();return new Promise(((g,_)=>{const y=new P0;y.setWithCredentials(!0),y.listenOnce(j0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Oc.NO_ERROR:const w=y.getResponseJson();rt($e,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case Oc.TIMEOUT:rt($e,`RPC '${t}' ${d} timed out`),_(new ut(tt.DEADLINE_EXCEEDED,"Request time out"));break;case Oc.HTTP_ERROR:const M=y.getStatus();if(rt($e,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const Z=q?.error;if(Z&&Z.status&&Z.message){const et=(function(ot){const st=ot.toLowerCase().replace(/_/g,"-");return Object.values(tt).indexOf(st)>=0?st:tt.UNKNOWN})(Z.status);_(new ut(et,Z.message))}else _(new ut(tt.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ut(tt.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt($e,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt($e,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=pm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=q0(),g=B0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");rt($e,`Creating RPC '${t}' stream ${l}: ${b}`,_);const w=d.createWebChannel(b,_);this.I_(w);let M=!1,q=!1;const Z=new D2({Yo:J=>{q?rt($e,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(M||(rt($e,`Opening RPC '${t}' stream ${l} transport.`),w.open(),M=!0),rt($e,`RPC '${t}' stream ${l} sending:`,J),w.send(J))},Zo:()=>w.close()}),et=(J,ot,st)=>{J.listen(ot,(ct=>{try{st(ct)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return et(w,wl.EventType.OPEN,(()=>{q||(rt($e,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),et(w,wl.EventType.CLOSE,(()=>{q||(q=!0,rt($e,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(w))})),et(w,wl.EventType.ERROR,(J=>{q||(q=!0,eo($e,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),Z.a_(new ut(tt.UNAVAILABLE,"The operation could not be completed")))})),et(w,wl.EventType.MESSAGE,(J=>{if(!q){const ot=J.data[0];Yt(!!ot,16349);const st=ot,ct=st?.error||st[0]?.error;if(ct){rt($e,`RPC '${t}' stream ${l} received error:`,ct);const kt=ct.status;let zt=(function(S){const C=xe[S];if(C!==void 0)return AE(C)})(kt),Rt=ct.message;zt===void 0&&(zt=tt.INTERNAL,Rt="Unknown error status: "+kt+" with message "+ct.message),q=!0,Z.a_(new ut(zt,Rt)),w.close()}else rt($e,`RPC '${t}' stream ${l} received:`,ot),Z.u_(ot)}})),et(g,z0.STAT_EVENT,(J=>{J.stat===im.PROXY?rt($e,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===im.NOPROXY&&rt($e,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Qd(){return typeof document<"u"?document:null}function Th(r){return new Uw(r,!0)}class UE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const zv="PersistentStream";class LE{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new UE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===tt.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===tt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ut(tt.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class O2 extends LE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=jw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ci(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=dm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=lm(_)?{documents:qw(c,_)}:{query:Hw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=wE(c,d.resumeToken);const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Jc(c,d.snapshotVersion.toTimestamp());const y=cm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=Gw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=dm(this.serializer),i.removeTarget=t,this.q_(i)}}class V2 extends LE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Bw(t.writeResults,t.commitTime),a=Ci(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=dm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>zw(this.serializer,a)))};this.q_(i)}}class k2{}class U2 extends k2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,hm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ut(tt.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,hm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===tt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(tt.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class L2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class P2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Jr(this)&&(rt(Yr,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Yl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Ah(y)})(this))}))})),this.Ra=new L2(a,l)}}async function Ah(r){if(Jr(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function PE(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),$m(i)?Xm(i):po(i).O_()&&Km(i,t))}function Ym(r,t){const i=At(r),a=po(i);i.Ia.delete(t),a.O_()&&jE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Jr(i)&&i.Ra.set("Unknown"))}function Km(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(r).Y_(t)}function jE(r,t){r.Va.Ue(t),po(r).Z_(t)}function Xm(r){r.Va=new Mw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function $m(r){return Jr(r)&&!po(r).x_()&&r.Ia.size>0}function Jr(r){return At(r).Ea.size===0}function zE(r){r.Va=void 0}async function j2(r){r.Ra.set("Online")}async function z2(r){r.Ia.forEach(((t,i)=>{Km(r,t)}))}async function B2(r,t){zE(r),$m(r)?(r.Ra.ha(t),Xm(r)):r.Ra.set("Unknown")}async function q2(r,t,i){if(r.Ra.set("Online"),t instanceof SE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){rt(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Wc(r,a)}else if(t instanceof Lc?r.Va.Ze(t):t instanceof bE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await kE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),jE(c,_);const w=new Qs(b.target,_,y,b.sequenceNumber);Km(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){rt(Yr,"Failed to raise snapshot:",a),await Wc(r,a)}}async function Wc(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>kE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Yr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ah(r)}))}function BE(r,t){return t().catch((i=>Wc(r,i,t)))}async function bh(r){const t=At(r),i=ar(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Mm;for(;H2(t);)try{const l=await S2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,F2(t,l)}catch(l){await Wc(t,l)}qE(t)&&HE(t)}function H2(r){return Jr(r)&&r.Ta.length<10}function F2(r,t){r.Ta.push(t);const i=ar(r);i.O_()&&i.X_&&i.ea(t.mutations)}function qE(r){return Jr(r)&&!ar(r).x_()&&r.Ta.length>0}function HE(r){ar(r).start()}async function G2(r){ar(r).ra()}async function Q2(r){const t=ar(r);for(const i of r.Ta)t.ea(i.mutations)}async function Y2(r,t,i){const a=r.Ta.shift(),l=zm.from(a,t,i);await BE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await bh(r)}async function K2(r,t){t&&ar(r).X_&&await(async function(a,l){if((function(d){return Iw(d)&&d!==tt.ABORTED})(l.code)){const c=a.Ta.shift();ar(a).B_(),await BE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await bh(a)}})(r,t),qE(r)&&HE(r)}async function Bv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),rt(Yr,"RemoteStore received new credentials");const a=Jr(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ah(i)}async function X2(r,t){const i=At(r);t?(i.Ea.delete(2),await Ah(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new O2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:j2.bind(null,r),t_:z2.bind(null,r),r_:B2.bind(null,r),H_:q2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),$m(r)?Xm(r):r.Ra.set("Unknown")):(await r.ma.stop(),zE(r))}))),r.ma}function ar(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new V2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:G2.bind(null,r),r_:K2.bind(null,r),ta:Q2.bind(null,r),na:Y2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await bh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Yr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Jm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new Jm(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(tt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Zm(r,t){if(is("AsyncQueue",`${t}: ${r}`),mo(r))return new ut(tt.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Rl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class qv{constructor(){this.ga=new ce(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new lo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&gh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class $2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class J2{constructor(){this.queries=Hv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Hv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ut(tt.ABORTED,"Firestore shutting down"))}}function Hv(){return new $r((r=>uE(r)),gh)}async function FE(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new $2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=Zm(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Wm(i)}async function GE(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function Z2(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&Wm(i)}function W2(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Wm(r){r.Ca.forEach((t=>{t.next()}))}var gm,Fv;(Fv=gm||(gm={})).Ma="default",Fv.Cache="cache";class QE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==gm.Cache}}class YE{constructor(t){this.key=t}}class KE{constructor(t){this.key=t}}class tR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=cE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,w)=>{const M=l.get(b),q=yh(this.query,w)?w:null,Z=!!M&&this.mutatedKeys.has(M.key),et=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let J=!1;M&&q?M.data.isEqual(q.data)?Z!==et&&(a.track({type:3,doc:q}),J=!0):this.su(M,q)||(a.track({type:2,doc:q}),J=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!M&&q?(a.track({type:0,doc:q}),J=!0):M&&!q&&(a.track({type:1,doc:M}),J=!0,(_||y)&&(g=!0)),J&&(q?(d=d.add(q),c=et?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,w)=>(function(q,Z){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:J})}};return et(q)-et(Z)})(b.type,w.type)||this.eu(b.doc,w.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new KE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new YE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const tp="SyncEngine";class eR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class nR{constructor(t){this.key=t,this.hu=!1}}class iR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((g=>uE(g)),gh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(mt.comparator),this.Au=new Map,this.Ru=new Hm,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sR(r,t,i=!0){const a=t1(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await XE(a,t,i,!0),l}async function rR(r,t){const i=t1(r);await XE(i,t,!0,!1)}async function XE(r,t,i,a){const l=await w2(r.localStore,Ri(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await aR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&PE(r.remoteStore,l),g}async function aR(r,t,i,a,l){r.pu=(w,M,q)=>(async function(et,J,ot,st){let ct=J.view.ru(ot);ct.Cs&&(ct=await Uv(et.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,ct))));const kt=st&&st.targetChanges.get(J.targetId),zt=st&&st.targetMismatches.get(J.targetId)!=null,Rt=J.view.applyChanges(ct,et.isPrimaryClient,kt,zt);return Qv(et,J.targetId,Rt.au),Rt.snapshot})(r,w,M,q);const c=await Uv(r.localStore,t,!0),d=new tR(t,c.Qs),g=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);Qv(r,i,y.au);const b=new eR(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function oR(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!gh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await mm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Ym(a.remoteStore,l.targetId),ym(a,l.targetId)})).catch(fo)):(ym(a,l.targetId),await mm(a.localStore,l.targetId,!0))}async function lR(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Ym(i.remoteStore,a.targetId))}async function uR(r,t,i){const a=gR(r);try{const l=await(function(d,g){const _=At(d),y=ae.now(),b=g.reduce(((q,Z)=>q.add(Z.key)),Vt());let w,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let Z=ss(),et=Vt();return _.Ns.getEntries(q,b).next((J=>{Z=J,Z.forEach(((ot,st)=>{st.isValidDocument()||(et=et.add(ot))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,Z))).next((J=>{w=J;const ot=[];for(const st of g){const ct=Sw(st,w.get(st.key).overlayedDocument);ct!=null&&ot.push(new cr(st.key,ct,nE(ct.value.mapValue),ni.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,ot,g)})).next((J=>{M=J;const ot=J.applyToLocalDocumentSet(w,et);return _.documentOverlayCache.saveOverlays(q,J.batchId,ot)}))})).then((()=>({batchId:M.batchId,changes:fE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ce(Ot)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Kl(a,l.changes),await bh(a.remoteStore)}catch(l){const c=Zm(l,"Failed to persist write");i.reject(c)}}async function $E(r,t){const i=At(r);try{const a=await A2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await fo(a)}}function Gv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=At(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,w)=>{for(const M of w.Sa)M.va(g)&&(y=!0)})),y&&Wm(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function cR(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(mt.comparator);d=d.insert(c,Ze.newNoDocument(c,vt.min()));const g=Vt().add(c),_=new Eh(vt.min(),new Map,new ce(Ot),d,g);await $E(a,_),a.du=a.du.remove(c),a.Au.delete(t),ep(a)}else await mm(a.localStore,t,!1).then((()=>ym(a,t,i))).catch(fo)}async function hR(r,t){const i=At(r),a=t.batch.batchId;try{const l=await T2(i.localStore,t);ZE(i,a,null),JE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await fo(l)}}async function fR(r,t,i){const a=At(r);try{const l=await(function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(Yt(w!==null,37113),b=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);ZE(a,t,i),JE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await fo(l)}}function JE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function ZE(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function ym(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||WE(r,a)}))}function WE(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Ym(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ep(r))}function Qv(r,t,i){for(const a of i)a instanceof YE?(r.Ru.addReference(a.key,t),dR(r,a)):a instanceof KE?(rt(tp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||WE(r,a.key)):gt(19791,{wu:a})}function dR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(tp,"New document in limbo: "+i),r.Eu.add(a),ep(r))}function ep(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(re.fromString(t)),a=r.fu.next();r.Au.set(a,new nR(i)),r.du=r.du.insert(i,a),PE(r.remoteStore,new Qs(Ri(ph(i.path)),a,"TargetPurposeLimboResolution",hh.ce))}}async function Kl(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=Gm.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const b=At(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>$.forEach(y,(M=>$.forEach(M.Es,(q=>b.persistence.referenceDelegate.addReference(w,M.targetId,q))).next((()=>$.forEach(M.ds,(q=>b.persistence.referenceDelegate.removeReference(w,M.targetId,q)))))))))}catch(w){if(!mo(w))throw w;rt(Qm,"Failed to update sequence numbers: "+w)}for(const w of y){const M=w.targetId;if(!w.fromCache){const q=b.Ms.get(M),Z=q.snapshotVersion,et=q.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(M,et)}}})(a.localStore,c))}async function mR(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){rt(tp,"User change. New user:",t.toKey());const a=await VE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ut(tt.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ls)}}function pR(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function t1(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=$E.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cR.bind(null,t),t.Pu.H_=Z2.bind(null,t.eventManager),t.Pu.yu=W2.bind(null,t.eventManager),t}function gR(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fR.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Th(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return E2(this.persistence,new y2,t.initialUser,this.serializer)}Cu(t){return new OE(Fm.mi,this.serializer)}Du(t){return new C2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class yR extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new n2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new OE((a=>Zc.mi(a,i)),this.serializer)}}class _m{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Gv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=mR.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new J2})()}createDatastore(t){const i=Th(t.databaseInfo.databaseId),a=(function(c){return new M2(c)})(t.databaseInfo);return(function(c,d,g,_){return new U2(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new P2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Gv(this.syncEngine,i,0)),(function(){return jv.v()?new jv:new x2})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,b){const w=new iR(l,c,d,g,_,y);return b&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);rt(Yr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}_m.provider={build:()=>new _m};class e1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const or="FirestoreClient";class _R{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Je.UNAUTHENTICATED,this.clientId=Nm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(or,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(or,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Zm(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Yd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(or,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await VE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Yv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await vR(r);rt(or,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Bv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Bv(t.remoteStore,l))),r._onlineComponents=t}async function vR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(or,"Using user provided OfflineComponentProvider");try{await Yd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===tt.FAILED_PRECONDITION||l.code===tt.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await Yd(r,new th)}}else rt(or,"Using default OfflineComponentProvider"),await Yd(r,new yR(void 0));return r._offlineComponents}async function n1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(or,"Using user provided OnlineComponentProvider"),await Yv(r,r._uninitializedComponentsProvider._online)):(rt(or,"Using default OnlineComponentProvider"),await Yv(r,new _m))),r._onlineComponents}function ER(r){return n1(r).then((t=>t.syncEngine))}async function vm(r){const t=await n1(r),i=t.eventManager;return i.onListen=sR.bind(null,t.syncEngine),i.onUnlisten=oR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=rR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=lR.bind(null,t.syncEngine),i}function TR(r,t,i={}){const a=new Zs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const b=new e1({next:M=>{b.Nu(),d.enqueueAndForget((()=>GE(c,w)));const q=M.docs.has(g);!q&&M.fromCache?y.reject(new ut(tt.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&M.fromCache&&_&&_.source==="server"?y.reject(new ut(tt.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),w=new QE(ph(g.path),b,{includeMetadataChanges:!0,qa:!0});return FE(c,w)})(await vm(r),r.asyncQueue,t,i,a))),a.promise}function i1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Kv=new Map;const s1="firestore.googleapis.com",Xv=!0;class $v{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ut(tt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=s1,this.ssl=Xv}else this.host=t.host,this.ssl=t.ssl??Xv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<t2)throw new ut(tt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}PS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ut(tt.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Sh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new $v({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(tt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(tt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new $v(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new xS;switch(a.type){case"firstParty":return new MS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ut(tt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Kv.get(i);a&&(rt("ComponentProvider","Removing Datastore"),Kv.delete(i),a.terminate())})(this),Promise.resolve()}}function AR(r,t,i,a={}){r=ei(r,Sh);const l=uo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(I0(`https://${g}`),N0("Firestore",!0)),c.host!==s1&&c.host!==g&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!es(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=Je.MOCK_USER;else{y=WA(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ut(tt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Je(w)}r._authCredentials=new IS(new F0(y,b))}}class wh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new wh(this.firestore,t,this._query)}}class _e{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,_e._jsonSchema))return new _e(t,a||null,new mt(re.fromString(i.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Ie("string",_e._jsonSchemaVersion),referencePath:Ie("string")};class Ws extends wh{constructor(t,i,a){super(t,i,ph(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new mt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function Kd(r,t,...i){if(r=sn(r),G0("collection","path",t),r instanceof Sh){const a=re.fromString(t,...i);return cv(a),new Ws(r,null,a)}{if(!(r instanceof _e||r instanceof Ws))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return cv(a),new Ws(r.firestore,null,a)}}function Oe(r,t,...i){if(r=sn(r),arguments.length===1&&(t=Nm.newId()),G0("doc","path",t),r instanceof Sh){const a=re.fromString(t,...i);return uv(a),new _e(r,null,new mt(a))}{if(!(r instanceof _e||r instanceof Ws))throw new ut(tt.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return uv(a),new _e(r.firestore,r instanceof Ws?r.converter:null,new mt(a))}}const Jv="AsyncQueue";class Zv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new UE(this,"async_queue_retry"),this._c=()=>{const a=Qd();a&&rt(Jv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;rt(Jv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",Wv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Jm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Wv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Wv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function t0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Kr extends Sh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zv(t),this._firestoreClient=void 0,await t}}}function bR(r,t){const i=typeof r=="object"?r:V0(),a=typeof r=="string"?r:Qc,l=xm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=JA("firestore");c&&AR(l,...c)}return l}function np(r){if(r._terminated)throw new ut(tt.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||SR(r),r._firestoreClient}function SR(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new XS(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,i1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new _R(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Ke.fromBase64String(t))}catch(i){throw new ut(tt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:Ie("string",jn._jsonSchemaVersion),bytes:Ie("string")};class Rh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(tt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class go{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(tt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(tt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ot(this._lat,t._lat)||Ot(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new ut(tt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:Ie("string",Ii._jsonSchemaVersion),vectorValues:Ie("object")};const wR=/^__.*__$/;class RR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class r1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new cr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function a1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:r})}}class Ch{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ch({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(a1(this.Ac)&&wR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Th(t)}Cc(t,i,a,l=!1){return new Ch({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function o1(r){const t=r._freezeSettings(),i=Th(r._databaseId);return new CR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function xR(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);ap("Data must be an object, but it was:",d,a);const g=u1(a,d);let _,y;if(c.merge)_=new wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const w of c.mergeFields){const M=Em(t,w,i);if(!d.contains(M))throw new ut(tt.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);h1(b,M)||b.push(M)}_=new wn(b),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new RR(new dn(g),_,y)}class xh extends go{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xh}}function l1(r,t,i){return new Ch({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ip extends go{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=l1(this,t,!0),a=this.vc.map((c=>yo(c,i))),l=new ro(a);return new Pm(t.path,l)}isEqual(t){return t instanceof ip&&es(this.vc,t.vc)}}class sp extends go{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=l1(this,t,!0),a=this.vc.map((c=>yo(c,i))),l=new ao(a);return new Pm(t.path,l)}isEqual(t){return t instanceof sp&&es(this.vc,t.vc)}}class rp extends go{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new zl(t.serializer,pE(t.serializer,this.Fc));return new Pm(t.path,i)}isEqual(t){return t instanceof rp&&this.Fc===t.Fc}}function IR(r,t,i,a){const l=r.Cc(1,t,i);ap("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();ur(a,((_,y)=>{const b=op(t,_,i);y=sn(y);const w=l.yc(b);if(y instanceof xh)c.push(b);else{const M=yo(y,w);M!=null&&(c.push(b),d.set(b,M))}}));const g=new wn(c);return new r1(d,g,l.fieldTransforms)}function NR(r,t,i,a,l,c){const d=r.Cc(1,t,i),g=[Em(t,a,i)],_=[l];if(c.length%2!=0)throw new ut(tt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Em(t,c[M])),_.push(c[M+1]);const y=[],b=dn.empty();for(let M=g.length-1;M>=0;--M)if(!h1(y,g[M])){const q=g[M];let Z=_[M];Z=sn(Z);const et=d.yc(q);if(Z instanceof xh)y.push(q);else{const J=yo(Z,et);J!=null&&(y.push(q),b.set(q,J))}}const w=new wn(y);return new r1(b,w,d.fieldTransforms)}function yo(r,t){if(c1(r=sn(r)))return ap("Unsupported field value:",t,r),u1(r,t);if(r instanceof go)return(function(a,l){if(!a1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=yo(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=sn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return pE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:Jc(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Jc(l.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:wE(l.serializer,a._byteString)};if(a instanceof _e){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,g){return{mapValue:{fields:{[tE]:{stringValue:eE},[Yc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Lm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Dm(a)}`)})(r,t)}function u1(r,t){const i={};return K0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(r,((a,l)=>{const c=yo(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function c1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof xi||r instanceof jn||r instanceof _e||r instanceof go||r instanceof Ii)}function ap(r,t,i){if(!c1(i)||!Q0(i)){const a=Dm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Em(r,t,i){if((t=sn(t))instanceof Rh)return t._internalPath;if(typeof t=="string")return op(r,t);throw eh("Field path arguments must be of type string or ",r,!1,void 0,i)}const DR=new RegExp("[~\\*/\\[\\]]");function op(r,t,i){if(t.search(DR)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Rh(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function eh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ut(tt.INVALID_ARGUMENT,g+r+_)}function h1(r,t){return r.some((i=>i.isEqual(t)))}class f1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(d1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MR extends f1{data(){return super.data()}}function d1(r,t){return typeof t=="string"?op(r,t):t instanceof Rh?t._internalPath:t._delegate._internalPath}function OR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ut(tt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VR{convertValue(t,i="none"){switch(rr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(sr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ur(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Yc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new xi(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=dh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=ir(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Yt(DE(a),9688,{name:t});const l=new Pl(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function kR(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class xl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends f1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Pc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(d1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:Ie("string",Fr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class Pc extends Fr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Pc(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(tt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new Pc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:UR(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ut(tt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Nm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:r})}}function LR(r){r=ei(r,_e);const t=ei(r.firestore,Kr);return TR(np(t),r._key).then((i=>p1(t,r,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ie("string",Xa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class m1 extends VR{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,i)}}function $a(r,t,i){r=ei(r,_e);const a=ei(r.firestore,Kr),l=kR(r.converter,t,i);return lp(a,[xR(o1(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,ni.none())])}function zn(r,t,i,...a){r=ei(r,_e);const l=ei(r.firestore,Kr),c=o1(l);let d;return d=typeof(t=sn(t))=="string"||t instanceof Rh?NR(c,"updateDoc",r._key,t,i,a):IR(c,"updateDoc",r._key,t),lp(l,[d.toMutation(r._key,ni.exists(!0))])}function PR(r){return lp(ei(r.firestore,Kr),[new jm(r._key,ni.none())])}function Xd(r,...t){r=sn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||t0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(t0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof _e)d=ei(r.firestore,Kr),g=ph(r._key.path),c={next:_=>{t[a]&&t[a](p1(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=ei(r,wh);d=ei(_.firestore,Kr),g=_._query;const y=new m1(d);c={next:b=>{t[a]&&t[a](new Xa(d,y,_,b))},error:t[a+1],complete:t[a+2]},OR(r._query)}return(function(y,b,w,M){const q=new e1(M),Z=new QE(b,q,w);return y.asyncQueue.enqueueAndForget((async()=>FE(await vm(y),Z))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>GE(await vm(y),Z)))}})(np(d),g,l,c)}function lp(r,t){return(function(a,l){const c=new Zs;return a.asyncQueue.enqueueAndForget((async()=>uR(await ER(a),l,c))),c.promise})(np(r),t)}function p1(r,t,i){const a=i.docs.get(t._key),l=new m1(r);return new Fr(r,l,t._key,a,new xl(i.hasPendingWrites,i.fromCache),t.converter)}function jR(...r){return new ip("arrayUnion",r)}function nh(...r){return new sp("arrayRemove",r)}function Ys(r){return new rp("increment",r)}(function(t,i=!0){(function(l){ho=l})(co),to(new Gr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new Kr(new NS(a.getProvider("auth-internal")),new OS(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ut(tt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(rv,av,t),$s(rv,av,"esm2020")})();function g1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=g1,y1=new ql("auth","Firebase",g1());const ih=new Rm("@firebase/auth");function BR(r,...t){ih.logLevel<=Mt.WARN&&ih.warn(`Auth (${co}): ${r}`,...t)}function jc(r,...t){ih.logLevel<=Mt.ERROR&&ih.error(`Auth (${co}): ${r}`,...t)}function rs(r,...t){throw up(r,...t)}function Ni(r,...t){return up(r,...t)}function _1(r,t,i){const a={...zR(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:r.name})}function tr(r){return _1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function up(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return y1.create(r,...t)}function _t(r,t,...i){if(!r)throw up(t,...i)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw jc(t),new Error(t)}function as(r,t){r||Wi(t)}function Tm(){return typeof self<"u"&&self.location?.href||""}function qR(){return e0()==="http:"||e0()==="https:"}function e0(){return typeof self<"u"&&self.location?.protocol||null}function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||rb()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=nb()||ab()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function cp(r,t){as(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class v1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new Xl(3e4,6e4);function Ih(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function _o(r,t,i,a,l={}){return E1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Hl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return sb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),v1.fetch()(await A1(r,r.config.apiHost,i,g),y)})}async function E1(r,t,i){r._canInitEmulator=!1;const a={...GR,...t};try{const l=new KR(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Mc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw _1(r,b,y);rs(r,b)}}catch(l){if(l instanceof os)throw l;rs(r,"network-request-failed",{message:String(l)})}}async function T1(r,t,i,a,l={}){const c=await _o(r,t,i,a,l);return"mfaPendingCredential"in c&&rs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function A1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?cp(r.config,l):`${r.config.apiScheme}://${l}`;return QR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class KR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ni(this.auth,"network-request-failed")),YR.get())})}}function Mc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ni(r,t,a);return l.customData._tokenResponse=i,l}async function XR(r,t){return _o(r,"POST","/v1/accounts:delete",t)}async function sh(r,t){return _o(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $R(r,t=!1){const i=sn(r),a=await i.getIdToken(t),l=hp(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl($d(l.auth_time)),issuedAtTime:Vl($d(l.iat)),expirationTime:Vl($d(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function $d(r){return Number(r)*1e3}function hp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=w0(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function n0(r){const t=hp(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof os&&JR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function JR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class ZR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Am{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function rh(r){const t=r.auth,i=await r.getIdToken(),a=await Bl(r,sh(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?b1(l.providerUserInfo):[],d=tC(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function WR(r){const t=sn(r);await rh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function b1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function eC(r,t){const i=await E1(r,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await A1(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),v1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nC(r,t){return _o(r,"POST","/v2/accounts:revokeToken",Ih(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):n0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=n0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await eC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Bs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ti{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new ZR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Am(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $R(this,t)}reload(){return WR(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ti({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await rh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Wn(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await Bl(this,XR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:w,emailVerified:M,isAnonymous:q,providerData:Z,stsTokenManager:et}=i;_t(w&&et,t,"internal-error");const J=Ja.fromJSON(this.name,et);_t(typeof w=="string",t,"internal-error"),Bs(a,t.name),Bs(l,t.name),_t(typeof M=="boolean",t,"internal-error"),_t(typeof q=="boolean",t,"internal-error"),Bs(c,t.name),Bs(d,t.name),Bs(g,t.name),Bs(_,t.name),Bs(y,t.name),Bs(b,t.name);const ot=new ti({uid:w,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:b});return Z&&Array.isArray(Z)&&(ot.providerData=Z.map(st=>({...st}))),_&&(ot._redirectEventId=_),ot}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ti({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await rh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?b1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ja;g.updateFromIdToken(a);const _=new ti({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Am(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const i0=new Map;function ts(r){as(r instanceof Function,"Expected a class definition");let t=i0.get(r);return t?(as(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,i0.set(r,t),t)}class S1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}S1.type="NONE";const s0=S1;function zc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await sh(this.auth,{idToken:t}).catch(()=>{});return i?ti._fromGetAccountInfoResponse(this.auth,i,t):null}return ti._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(ts(s0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ts(s0);const d=zc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let w;if(typeof b=="string"){const M=await sh(t,{idToken:b}).catch(()=>{});if(!M)break;w=await ti._fromGetAccountInfoResponse(t,M,b)}else w=ti._fromJSON(t,b);y!==c&&(g=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,a))}}function r0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(x1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(w1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(N1(t))return"Blackberry";if(D1(t))return"Webos";if(R1(t))return"Safari";if((t.includes("chrome/")||C1(t))&&!t.includes("edge/"))return"Chrome";if(I1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function w1(r=We()){return/firefox\//i.test(r)}function R1(r=We()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function C1(r=We()){return/crios\//i.test(r)}function x1(r=We()){return/iemobile/i.test(r)}function I1(r=We()){return/android/i.test(r)}function N1(r=We()){return/blackberry/i.test(r)}function D1(r=We()){return/webos/i.test(r)}function fp(r=We()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function iC(r=We()){return fp(r)&&!!window.navigator?.standalone}function sC(){return ob()&&document.documentMode===10}function M1(r=We()){return fp(r)||I1(r)||D1(r)||N1(r)||/windows phone/i.test(r)||x1(r)}function O1(r,t=[]){let i;switch(r){case"Browser":i=r0(We());break;case"Worker":i=`${r0(We())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class rC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function aC(r,t={}){return _o(r,"GET","/v2/passwordPolicy",Ih(r,t))}const oC=6;class lC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??oC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class uC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new a0(this),this.idTokenSubscription=new a0(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=y1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await sh(this,{idToken:t}),a=await ti._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Wn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await rh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Wn(this.app))return Promise.reject(tr(this));const i=t?sn(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Wn(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Wn(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aC(this),i=new lC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await nC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=O1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Wn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Nh(r){return sn(r)}class a0{constructor(t){this.auth=t,this.observer=null,this.addObserver=pb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let dp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(r){dp=r}function hC(r){return dp.loadJS(r)}function fC(){return dp.gapiScript}function dC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function mC(r,t){const i=xm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(es(c,t??{}))return l;rs(l,"already-initialized")}return i.initialize({options:t})}function pC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function gC(r,t,i){const a=Nh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=V1(t),{host:d,port:g}=yC(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(es(y,a.config.emulator)&&es(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(I0(`${c}//${d}${_}`),N0("Auth",!0)):_C()}function V1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function yC(r){const t=V1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:o0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:o0(d)}}}function o0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function _C(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class k1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Wa(r,t){return T1(r,"POST","/v1/accounts:signInWithIdp",Ih(r,t))}const vC="http://localhost";class Xr extends k1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class U1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends U1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends $l{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Fs extends $l{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends $l{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function EC(r,t){return T1(r,"POST","/v1/accounts:signUp",Ih(r,t))}class lr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ti._fromIdTokenResponse(t,a,l),d=l0(a);return new lr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=l0(a);return new lr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function l0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function TC(r){if(Wn(r.app))return Promise.reject(tr(r));const t=Nh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new lr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await EC(t,{returnSecureToken:!0}),a=await lr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ah extends os{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ah(t,i,a,l)}}function L1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(r,c,t,a):c})}async function AC(r,t,i=!1){const a=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return lr._forOperation(r,"link",a)}async function bC(r,t,i=!1){const{auth:a}=r;if(Wn(a.app))return Promise.reject(tr(a));const l="reauthenticate";try{const c=await Bl(r,L1(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=hp(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),lr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&rs(a,"user-mismatch"),c}}async function SC(r,t,i=!1){if(Wn(r.app))return Promise.reject(tr(r));const a="signIn",l=await L1(r,a,t),c=await lr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function wC(r,t,i,a){return sn(r).onIdTokenChanged(t,i,a)}function RC(r,t,i){return sn(r).beforeAuthStateChanged(t,i)}const oh="__sak";class P1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(oh,"1"),this.storage.removeItem(oh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CC=1e3,xC=10;class j1 extends P1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=M1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);sC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,xC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}j1.type="LOCAL";const IC=j1;class z1 extends P1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}z1.type="SESSION";const B1=z1;function NC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Dh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Dh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await NC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Dh.receivers=[];function mp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class DC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=mp("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const M=w;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function MC(r){Di().location.href=r}function q1(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function kC(){return q1()?self:null}const H1="firebaseLocalStorageDb",UC=1,lh="firebaseLocalStorage",F1="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Mh(r,t){return r.transaction([lh],t?"readwrite":"readonly").objectStore(lh)}function LC(){const r=indexedDB.deleteDatabase(H1);return new Jl(r).toPromise()}function bm(){const r=indexedDB.open(H1,UC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(lh,{keyPath:F1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(lh)?t(a):(a.close(),await LC(),t(await bm()))})})}async function u0(r,t,i){const a=Mh(r,!0).put({[F1]:t,value:i});return new Jl(a).toPromise()}async function PC(r,t){const i=Mh(r,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function c0(r,t){const i=Mh(r,!0).delete(t);return new Jl(i).toPromise()}const jC=800,zC=3;class G1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await bm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>zC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return q1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Dh._getInstance(kC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new DC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await bm();return await u0(t,oh,"1"),await c0(t,oh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>u0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>PC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>c0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Mh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}G1.type="LOCAL";const BC=G1;new Xl(3e4,6e4);function qC(r,t){return t?ts(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class pp extends k1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function HC(r){return SC(r.auth,new pp(r),r.bypassAuthState)}function FC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),bC(i,new pp(r),r.bypassAuthState)}async function GC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),AC(i,new pp(r),r.bypassAuthState)}class Q1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return GC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QC=new Xl(2e3,1e4);class Ya extends Q1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=mp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QC.get())};t()}}Ya.currentPopupAction=null;const YC="pendingRedirect",Bc=new Map;class KC extends Q1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const a=await XC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(r,t){const i=ZC(t),a=JC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function $C(r,t){Bc.set(r._key(),t)}function JC(r){return ts(r._redirectPersistence)}function ZC(r){return zc(YC,r.config.apiKey,r.name)}async function WC(r,t,i=!1){if(Wn(r.app))return Promise.reject(tr(r));const a=Nh(r),l=qC(a,t),d=await new KC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const tx=600*1e3;class ex{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nx(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!Y1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tx&&this.cachedEventUids.clear(),this.cachedEventUids.has(h0(t))}saveEventToCache(t){this.cachedEventUids.add(h0(t)),this.lastProcessedEventTime=Date.now()}}function h0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function Y1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function nx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Y1(r);default:return!1}}async function ix(r,t={}){return _o(r,"GET","/v1/projects",t)}const sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rx=/^https?/;async function ax(r){if(r.config.emulator)return;const{authorizedDomains:t}=await ix(r);for(const i of t)try{if(ox(i))return}catch{}rs(r,"unauthorized-domain")}function ox(r){const t=Tm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!rx.test(i))return!1;if(sx.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const lx=new Xl(3e4,6e4);function f0(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function ux(r){return new Promise((t,i)=>{function a(){f0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{f0(),i(Ni(r,"network-request-failed"))},timeout:lx.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const l=dC("iframefcb");return Di()[l]=()=>{gapi.load?a():i(Ni(r,"network-request-failed"))},hC(`${fC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function cx(r){return qc=qc||ux(r),qc}const hx=new Xl(5e3,15e3),fx="__/auth/iframe",dx="emulator/auth/iframe",mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},px=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gx(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?cp(t,dx):`https://${r.config.authDomain}/${fx}`,a={apiKey:t.apiKey,appName:r.name,v:co},l=px.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function yx(r){const t=await cx(r),i=Di().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:gx(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mx,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ni(r,"network-request-failed"),g=Di().setTimeout(()=>{c(d)},hx.get());function _(){Di().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const _x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vx=500,Ex=600,Tx="_blank",Ax="http://localhost";class d0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bx(r,t,i,a=vx,l=Ex){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={..._x,width:a.toString(),height:l.toString(),top:c,left:d},y=We().toLowerCase();i&&(g=C1(y)?Tx:i),w1(y)&&(t=t||Ax,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[q,Z])=>`${M}${q}=${Z},`,"");if(iC(y)&&g!=="_self")return Sx(t||"",g),new d0(null);const w=window.open(t||"",g,b);_t(w,r,"popup-blocked");try{w.focus()}catch{}return new d0(w)}function Sx(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const wx="__/auth/handler",Rx="emulator/auth/handler",Cx=encodeURIComponent("fac");async function m0(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof U1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",mb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,w]of Object.entries({}))d[b]=w}if(t instanceof $l){const b=t.getScopes().filter(w=>w!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await r._getAppCheckToken(),y=_?`#${Cx}=${encodeURIComponent(_)}`:"";return`${xx(r)}?${Hl(g).slice(1)}${y}`}function xx({config:r}){return r.emulator?cp(r,Rx):`https://${r.authDomain}/${wx}`}const Jd="webStorageSupport";class Ix{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=B1,this._completeRedirectFn=WC,this._overrideRedirectResult=$C}async _openPopup(t,i,a,l){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await m0(t,i,a,Tm(),l);return bx(t,c,mp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await m0(t,i,a,Tm(),l);return MC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await yx(t),a=new ex(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Jd,{type:Jd},l=>{const c=l?.[0]?.[Jd];c!==void 0&&i(!!c),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ax(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return M1()||R1()||fp()}}const Nx=Ix;var p0="@firebase/auth",g0="1.12.0";class Dx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ox(r){to(new Gr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:O1(r)},y=new uC(a,l,c,_);return pC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),to(new Gr("auth-internal",t=>{const i=Nh(t.getProvider("auth").getImmediate());return(a=>new Dx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(p0,g0,Mx(r)),$s(p0,g0,"esm2020")}const Vx=300,kx=x0("authIdTokenMaxAge")||Vx;let y0=null;const Ux=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>kx)return;const l=i?.token;y0!==l&&(y0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Lx(r=V0()){const t=xm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=mC(r,{popupRedirectResolver:Nx,persistence:[BC,IC,B1]}),a=x0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Ux(c.toString());RC(i,d,()=>d(i.currentUser)),wC(i,g=>d(g))}}const l=R0("auth");return l&&gC(i,`http://${l}`),i}function Px(){return document.getElementsByTagName("head")?.[0]??document}cC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ni("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Px().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ox("Browser");const jx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),_0=r=>{const t=zx(r);return t.charAt(0).toUpperCase()+t.slice(1)},K1=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Bx=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hx=jt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>jt.createElement("svg",{ref:_,...qx,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:K1("lucide",l),...!c&&!Bx(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>jt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ne=(r,t)=>{const i=jt.forwardRef(({className:a,...l},c)=>jt.createElement(Hx,{ref:c,iconNode:t,className:K1(`lucide-${jx(_0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=_0(r),i};const Fx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gx=ne("activity",Fx);const Qx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Yx=ne("book-open",Qx);const Kx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],Xx=ne("calendar-x",Kx);const $x=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Sm=ne("calendar",$x);const Jx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],X1=ne("check",Jx);const Zx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wx=ne("circle-check-big",Zx);const tI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eI=ne("circle-x",tI);const nI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],$1=ne("clipboard-list",nI);const iI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sI=ne("dollar-sign",iI);const rI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aI=ne("eye-off",rI);const oI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lI=ne("eye",oI);const uI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],cI=ne("heart",uI);const hI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],uh=ne("key",hI);const fI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],dI=ne("loader-circle",fI);const mI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pI=ne("log-out",mI);const gI=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],yI=ne("party-popper",gI);const _I=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vI=ne("shield-check",_I);const EI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],TI=ne("tag",EI);const AI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],bI=ne("toggle-left",AI);const SI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],wI=ne("toggle-right",SI);const RI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],CI=ne("trash-2",RI);const xI=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],II=ne("trending-up",xI);const NI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],J1=ne("trophy",NI);const DI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],v0=ne("user-check",DI);const MI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],E0=ne("user-x",MI);const OI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Z1=ne("users",OI);const VI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kI=ne("x",VI),UI={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},W1=O0(UI),bn=bR(W1),LI=Lx(W1),er=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],T0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],A0=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],Sn=({children:r,className:t=""})=>A.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),Qa=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return A.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${l}`,disabled:a,children:r})},tT=(r,t)=>{const i=new Date,a=new Date,[l,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const _=i.getHours()*60+i.getMinutes(),y=l*60+c;_>y&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(l,c,0,0),(a-i)/(1e3*60*60)},eT=(r,t)=>{const i=new Date,a=i.getDay(),[l,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),g=l*60+c;return a>r||a===r&&d>=g},nT=(r=null)=>{let t=er;return r&&(t=er.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:tT(a.dayIdx,a.time)})).sort((a,l)=>a.diff-l.diff)[0]},gp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function PI(){const[r,t]=jt.useState("login"),[i,a]=jt.useState(null),[l,c]=jt.useState([]),[d,g]=jt.useState([]),[_,y]=jt.useState({}),[b,w]=jt.useState(null),[M,q]=jt.useState(!0),[Z,et]=jt.useState(null),[J,ot]=jt.useState(""),st=(S,C="success")=>{w({msg:S,type:C}),setTimeout(()=>w(null),4e3)};jt.useEffect(()=>{ot(A0[Math.floor(Math.random()*A0.length)]),(async()=>{try{await TC(LI)}catch(R){console.error("Error Auth:",R)}const C=Xd(Kd(bn,"alumnas"),R=>{const Ct=R.docs.map(Qt=>({id:Qt.id,...Qt.data()}));c(Ct),q(!1)},R=>st("Error al cargar alumnas","error")),V=Xd(Kd(bn,"maestros"),R=>{const Ct=R.docs.map(Qt=>({id:Qt.id,...Qt.data()}));g(Ct)}),N=Xd(Kd(bn,"sesiones"),R=>{const Ct={};R.docs.forEach(Qt=>Ct[Qt.id]=Qt.data()),y(Ct)});return(async()=>(await LR(Oe(bn,"maestros","JENNY"))).exists()||(await $a(Oe(bn,"maestros","JENNY"),{id:"JENNY",name:"JENNY",password:"JENNY2024",role:"admin",status:"active"}),await $a(Oe(bn,"maestros","LUCY"),{id:"LUCY",name:"LUCY",password:"LUCY2024",role:"teacher",status:"active"})))(),()=>{C(),V(),N()}})()},[]),jt.useEffect(()=>{if(i&&i.role==="student"){const S=l.find(C=>C.id===i.id);S&&a(C=>({...C,...S}))}else if(i&&(i.role==="teacher"||i.role==="admin")){const S=d.find(C=>C.id===i.id);S&&a(C=>({...C,...S}))}},[l,d]);const ct=(S,C)=>{const V=S.trim().toUpperCase(),N=C.trim();et(null);const k=d.find(Ct=>Ct.id===V||Ct.name.toUpperCase()===V);if(k)if(k.password===N){if(k.status==="inactive"){et("Cuenta de staff desactivada.");return}a({...k,firstName:k.name.split(" ")[0],role:k.role}),t(k.role==="admin"?"admin":"teacher"),st(`Bienvenida, ${k.name}`);return}else{et("Contrasea de staff incorrecta.");return}const R=l.find(Ct=>Ct.id.toUpperCase()===V);if(R){if(R.password&&R.password!==N){et("Contrasea incorrecta.");return}if(R.status==="inactive"){et("Cuenta inactiva. Contacta a Jenny.");return}a({...R,firstName:R.name.split(" ")[0],role:"student"}),t("student"),st(`Hola, ${R.name}!`)}else et("ID no encontrado o datos incorrectos.")},kt=async S=>{const C=er.find(N=>N.id===S),V=_[S];if(eT(C.dayIdx,C.time)){st("Esta clase ya ocurri.","error");return}if(V?.isClosed){st("Clase cerrada.","error");return}if(i.credits<=0){st("Sin crditos.","error");return}try{const N=Oe(bn,"alumnas",i.id),k=Oe(bn,"sesiones",S);await zn(N,{credits:Ys(-1),history:jR(S)}),await $a(k,{booked:Ys(1)},{merge:!0}),st("Clase reservada!")}catch{st("Error al reservar","error")}},zt=async S=>{const C=er.find(k=>k.id===S),N=tT(C.dayIdx,C.time)<6;if(!(N&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const k=Oe(bn,"alumnas",i.id),R=Oe(bn,"sesiones",S);N?await zn(k,{history:nh(S)}):await zn(k,{credits:Ys(1),history:nh(S)}),await zn(R,{booked:Ys(-1)}),st(N?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{st("Error al cancelar","error")}},Rt=()=>{a(null),t("login"),et(null)},I=async S=>{if(!i)return;const C=i.role==="student"?"alumnas":"maestros";try{return await zn(Oe(bn,C,i.id),{password:S}),st("Tu contrasea ha sido actualizada"),!0}catch{return st("Error al actualizar contrasea","error"),!1}};return M?A.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):A.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[b&&A.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${b.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[b.type==="error"?A.jsx(eI,{size:18}):A.jsx(Wx,{size:18}),A.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:b.msg})]}),r==="login"&&A.jsx(jI,{onLogin:ct,error:Z}),r==="student"&&A.jsx(zI,{user:i,quote:J,sessions:er,sessionsData:_,onBook:kt,onCancel:zt,onLogout:Rt,onUpdatePass:I}),r==="admin"&&A.jsx(BI,{students:l,teachers:d,sessionsData:_,db:bn,onLogout:Rt,showNotification:st}),r==="teacher"&&A.jsx(qI,{user:i,students:l,sessionsData:_,db:bn,onLogout:Rt,showNotification:st,onUpdatePass:I})]})}const jI=({onLogin:r,error:t})=>{const[i,a]=jt.useState(""),[l,c]=jt.useState(""),[d,g]=jt.useState(!1);return A.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[A.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),A.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:A.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[A.jsxs("div",{className:"text-center mb-10",children:[A.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),A.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Portal de alumnas"})]}),A.jsxs("form",{onSubmit:_=>{_.preventDefault(),r(i,l)},className:"space-y-6",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),A.jsx("input",{type:"text",required:!0,placeholder:"Cdigo de estudiante",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:_=>a(_.target.value)})]}),A.jsxs("div",{className:"space-y-1 relative",children:[A.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),A.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:l,onChange:_=>c(_.target.value)}),A.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?A.jsx(aI,{size:18}):A.jsx(lI,{size:18})})]}),t&&A.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"}),A.jsx("p",{className:"text-[9px] text-center text-gray-400 uppercase tracking-widest font-bold px-4 leading-relaxed",children:"En caso de no poder ingresar, contactar a Jenny"})]})]})]})})]})},zI=({user:r,quote:t,sessions:i,sessionsData:a,onBook:l,onCancel:c,onLogout:d,onUpdatePass:g})=>{const[_,y]=jt.useState(!1),b=r.history||[],w=i.filter(Z=>b.includes(Z.id)),M=w.length>0?w[0]:null,q=gp();return A.jsxs("div",{className:"pb-20",children:[A.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-[64px] z-[50] w-full",children:A.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),A.jsxs("button",{onClick:()=>y(!0),className:"text-gray-400 hover:text-[#369EAD] text-[9px] font-sans uppercase font-bold flex items-center gap-1 tracking-widest transition-colors",children:[A.jsx(uh,{size:14}),A.jsx("span",{children:"Clave"})]})]}),A.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest transition-colors",children:[A.jsx("span",{children:"Salir"}),A.jsx(pI,{size:16})]})]})}),A.jsxs("div",{className:"max-w-6xl mx-auto px-6 pt-32 pb-10",children:[A.jsxs("div",{className:"mb-10 text-center md:text-left",children:[A.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),A.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[A.jsx(cI,{size:16,fill:"#369EAD"})," ",t]})]}),A.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[A.jsxs(Sn,{className:"md:col-span-2 flex flex-col justify-between",children:[A.jsxs("div",{className:"flex justify-between items-start mb-6",children:[A.jsx("div",{children:A.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",q]})}),A.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:A.jsx(Gx,{size:24})})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[A.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases del Mes"}),A.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[A.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),A.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",r.maxCredits]})]})]}),A.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[A.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),A.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[A.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),A.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),A.jsxs(Sn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[A.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:A.jsx(Sm,{size:120})}),A.jsx(Sm,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),A.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),M?A.jsxs("div",{className:"animate-in fade-in duration-500",children:[A.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:M.day}),A.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:M.time}),A.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",M.teacher]})]}):A.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),A.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),A.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(Z=>{const et=b.includes(Z.id),J=a[Z.id]||{booked:0,isClosed:!1},ot=(J.booked||0)>=Z.spots,st=J.isClosed,ct=eT(Z.dayIdx,Z.time),kt=r.credits>0&&!et&&!ot&&!st&&!ct;return A.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${et?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":st||ct?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[A.jsxs("div",{className:"mb-6",children:[A.jsxs("div",{className:"flex justify-between items-start font-sans",children:[A.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:Z.day}),st?A.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):ct?A.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),A.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:Z.time}),A.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:Z.teacher})]}),A.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[A.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[A.jsx(Z1,{size:12})," ",J.booked||0,"/",Z.spots]}),et?A.jsx("button",{onClick:()=>c(Z.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):A.jsx(Qa,{onClick:()=>l(Z.id),disabled:!kt,className:"!px-4 !py-2 !text-[9px]",children:st?"Cerrado":ct?"Pasada":ot?"Lleno":"Reservar"})]})]},Z.id)})})]}),_&&A.jsx(SelfChangePassModal,{onClose:()=>y(!1),onSave:g})]})},BI=({students:r,teachers:t,sessionsData:i,db:a,onLogout:l,showNotification:c})=>{const[d,g]=jt.useState(!1),[_,y]=jt.useState(!1),[b,w]=jt.useState(null),[M,q]=jt.useState(null),[Z,et]=jt.useState(""),[J,ot]=jt.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:""}),[st,ct]=jt.useState({id:"",name:"",password:"",role:"teacher"}),[kt,zt]=jt.useState(!1),[Rt,I]=jt.useState(null),[S,C]=jt.useState(0),V=gp(),N=r.filter(L=>L.status!=="inactive"),k=L=>{const W=L.map(Et=>Et.id).filter(Et=>Et.startsWith("BF-")).map(Et=>parseInt(Et.split("-")[1])).filter(Et=>!isNaN(Et)),yt=(W.length>0?Math.max(...W):0)+1;return`BF-${String(yt).padStart(3,"0")}`};jt.useEffect(()=>{if(d){const L=k(r);ot(W=>({...W,id:L}))}},[d,r]);const R=nT(),Ct=r.filter(L=>L.history?.includes(R.id)&&L.status!=="inactive"),Qt=r.reduce((L,W)=>L+(W.monthlyPayment||0),0),G=async(L,W)=>{if(window.confirm("Confirmar asistencia?"))try{const ht=Oe(a,"alumnas",L),yt=Oe(a,"sesiones",W);await zn(ht,{totalAttendance:Ys(1),history:nh(W)}),await zn(yt,{booked:Ys(-1)}),c("Asistencia confirmada")}catch(ht){console.error(ht)}},it=async(L,W,ht)=>{const yt=ht==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus de este registro?"))try{await zn(Oe(a,L,W),{status:yt}),c("Estatus actualizado")}catch(Et){console.error(Et)}},ft=async(L,W)=>{try{await $a(Oe(a,"sesiones",L),{isClosed:!W},{merge:!0}),c(W?"Clase habilitada":"Clase bloqueada por feriado")}catch{c("Error al actualizar clase","error")}},Ut=async(L,W)=>{if(Z.trim())try{await zn(Oe(a,L,W),{password:Z.trim()}),c("Contrasea actualizada"),w(null),q(null),et("")}catch(ht){console.error(ht)}},Ht=async L=>{L.preventDefault();const W=J.id.trim().toUpperCase();if(!(!W||!J.name||!J.password)){zt(!0);try{await $a(Oe(a,"alumnas",W),{...J,id:W,name:J.name.trim().toUpperCase(),maxCredits:parseInt(J.plan.split(" ")[0])||2,credits:parseInt(J.plan.split(" ")[0])||2,history:[],monthlyPayment:0,totalAttendance:0,status:"active",registrationDate:new Date().toISOString()}),c("Alumna registrada"),g(!1),ot({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(ht){console.error(ht)}zt(!1)}},O=async L=>{L.preventDefault();const W=st.id.trim().toUpperCase();if(!(!W||!st.name||!st.password)){zt(!0);try{await $a(Oe(a,"maestros",W),{...st,id:W,name:st.name.trim().toUpperCase(),status:"active"}),c("Maestro registrado"),y(!1),ct({id:"",name:"",password:"",role:"teacher"})}catch(ht){console.error(ht)}zt(!1)}},K=async()=>{try{await zn(Oe(a,"alumnas",Rt),{monthlyPayment:parseFloat(S)}),c("Pago registrado"),I(null)}catch(L){console.error(L)}};return A.jsxs("div",{className:"pb-20",children:[A.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg sticky top-[64px] z-[50] w-full border-t border-white/5",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase italic",children:"BF ADMIN"}),A.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:V})]}),A.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest transition-opacity",children:"Cerrar Sesin"})]}),A.jsxs("div",{className:"max-w-7xl mx-auto px-6 pt-32 pb-12 space-y-12",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 font-sans text-center md:text-left",children:[A.jsxs(Sn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[A.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] transition-transform group-hover:rotate-6",children:A.jsx(sI,{size:28})}),A.jsxs("div",{children:[A.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",V]}),A.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",Qt.toLocaleString()]})]})]}),A.jsxs(Sn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[A.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm transition-transform group-hover:scale-110",children:A.jsx(J1,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto"}),A.jsxs("p",{className:"text-3xl font-bold",children:[r.reduce((L,W)=>L+(W.totalAttendance||0),0)," clases"]})]})]}),A.jsxs(Sn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 lg:col-span-2",children:[A.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:A.jsx(Z1,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Activas / Staff"}),A.jsxs("p",{className:"text-3xl font-bold text-[#369EAD] font-sans",children:[N.length," Alumnas / ",t.length," Staff"]})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs(Sn,{className:"bg-[#EBF5F6] border-[#369EAD]",children:[A.jsxs("h3",{className:"text-xl font-serif font-bold italic text-[#1A3A3E] mb-6 flex items-center gap-2",children:[A.jsx(TI,{size:20,className:"text-[#369EAD]"})," Referencia de Precios"]}),A.jsx("div",{className:"space-y-3 font-sans",children:T0.map((L,W)=>A.jsxs("div",{className:"flex justify-between items-center border-b border-[#369EAD]/10 pb-2 transition-all hover:translate-x-1",children:[A.jsx("span",{className:"text-xs font-medium text-gray-600 uppercase tracking-tight",children:L.plan}),A.jsxs("span",{className:"text-sm font-bold text-[#369EAD]",children:["$",L.price]})]},W))})]}),A.jsxs(Sn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[A.jsx(yI,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),A.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),A.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 leading-relaxed px-4",children:"Cada alumna nueva es un paso ms hacia tu sueo"}),A.jsx("div",{className:"absolute -bottom-4 -right-4 opacity-5 transform rotate-12",children:A.jsx(II,{size:120})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[A.jsxs(Sn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[A.jsx($1,{size:20})," Roster: Prxima Clase"]}),A.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[R.day," ",R.time]})]}),A.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:Ct.length>0?Ct.map(L=>A.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[A.jsx("div",{className:"flex-1",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("span",{className:"font-serif italic font-bold text-sm",children:L.name}),A.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:L.id})]})}),A.jsx("button",{onClick:()=>G(L.id,R.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:A.jsx(X1,{size:18})})]},L.id)):A.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas todava"})})]}),A.jsxs(Sn,{children:[A.jsxs("h3",{className:"text-xl font-serif italic text-[#1A3A3E] mb-6 flex items-center gap-2",children:[A.jsx(Xx,{size:20,className:"text-[#369EAD]"})," Control de Horarios"]}),A.jsx("p",{className:"text-[10px] uppercase font-black text-gray-400 mb-4 tracking-widest",children:"Activa o bloquea por feriados"}),A.jsx("div",{className:"space-y-4 font-sans",children:er.map(L=>{const W=i[L.id]?.isClosed;return A.jsxs("div",{className:"flex justify-between items-center p-3 border border-gray-50 bg-gray-50/30 rounded-sm transition-all hover:bg-gray-100/50",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"text-xs font-bold",children:[L.day," ",L.time]}),A.jsx("p",{className:"text-[9px] uppercase text-[#369EAD] font-bold",children:L.teacher})]}),A.jsxs("button",{onClick:()=>ft(L.id,!!W),className:`flex items-center gap-2 px-3 py-1 rounded-full text-[9px] font-black uppercase transition-all ${W?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[W?A.jsx(bI,{size:18}):A.jsx(wI,{size:18}),W?"Bloqueado":"Abierto"]})]},L.id)})})]})]}),A.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[A.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[A.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[A.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[A.jsx(vI,{size:20,className:"text-[#369EAD]"})," Gestin de Staff"]}),A.jsx(Qa,{onClick:()=>y(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Maestro"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left",children:[A.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-4",children:"Maestro / Rol"}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Clases"}),A.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(L=>A.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${L.status==="inactive"?"opacity-40 grayscale":""}`,children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${L.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold font-serif italic",children:L.name}),A.jsx("div",{className:"text-[9px] font-sans uppercase font-black text-gray-400",children:L.role==="admin"?"Duea / Admin":"Instructora"})]})]})}),A.jsx("td",{className:"px-6 py-4 text-center font-sans font-bold text-[#C5A059]",children:L.password}),A.jsxs("td",{className:"px-6 py-4 text-center font-sans text-xs",children:[er.filter(W=>W.teacher.toUpperCase()===L.name.toUpperCase()).length," clases/sem"]}),A.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[A.jsx("button",{onClick:()=>q(L.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:A.jsx(uh,{size:16})}),A.jsx("button",{onClick:()=>it("maestros",L.id,L.status),className:`p-2 rounded-full ${L.status==="inactive"?"text-green-500":"text-red-400"}`,children:L.status==="inactive"?A.jsx(v0,{size:16}):A.jsx(E0,{size:16})})]})]},L.id))})]})})]}),A.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[A.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[A.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control de Alumnas"}),A.jsx(Qa,{onClick:()=>g(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nueva Alumna"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left",children:[A.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-4",children:"Nombre / Clave"}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Crditos"}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Pago"}),A.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(L=>A.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${L.status==="inactive"?"opacity-40 grayscale":""}`,children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{children:[A.jsx("div",{className:"font-bold font-serif italic",children:L.name}),A.jsxs("div",{className:"text-[9px] text-gray-400 uppercase font-black",children:["ID: ",L.id,"  Pass: ",A.jsx("span",{className:"text-[#C5A059]",children:L.password})]})]})}),A.jsxs("td",{className:"px-6 py-4 text-center font-sans font-bold text-[#369EAD]",children:[L.credits," ",A.jsxs("span",{className:"text-[10px] text-gray-300",children:["/ ",L.maxCredits]})]}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsxs("button",{onClick:()=>{I(L.id),C(L.monthlyPayment||0)},className:"font-sans font-bold text-green-600 bg-green-50 px-3 py-1 rounded text-xs transition-colors hover:bg-green-100",children:["$",L.monthlyPayment||0]})}),A.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[A.jsx("button",{onClick:()=>w(L.id),className:"p-2 text-gray-300 hover:text-[#C5A059] transition-colors",children:A.jsx(uh,{size:16})}),A.jsx("button",{onClick:()=>it("alumnas",L.id,L.status),className:"p-2 text-gray-300 hover:text-red-400 transition-colors",children:L.status==="inactive"?A.jsx(v0,{size:16}):A.jsx(E0,{size:16})}),A.jsx("button",{onClick:()=>{window.confirm(`Borrar a ${L.name}?`)&&PR(Oe(a,"alumnas",L.id))},className:"p-2 text-red-100 hover:text-red-500 transition-colors",children:A.jsx(CI,{size:16})})]})]},L.id))})]})})]})]})]})]}),(d||_)&&A.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD] animate-in zoom-in font-sans text-center",children:[A.jsx("button",{onClick:()=>{g(!1),y(!1)},className:"absolute top-6 right-6 text-gray-400 hover:text-red-500 transition-colors",children:A.jsx(kI,{size:28})}),A.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:d?"Nueva Alumna":"Nuevo Maestro"}),A.jsxs("form",{onSubmit:d?Ht:O,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",required:!0,placeholder:"ID / USUARIO",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:d?J.id:st.id,onChange:L=>d?ot({...J,id:L.target.value}):ct({...st,id:L.target.value})}),A.jsx("input",{type:"text",required:!0,placeholder:"CONTRASEA",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:d?J.password:st.password,onChange:L=>d?ot({...J,password:L.target.value}):ct({...st,password:L.target.value})})]}),A.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b border-gray-100 focus:border-[#369EAD]",value:d?J.name:st.name,onChange:L=>d?ot({...J,name:L.target.value}):ct({...st,name:L.target.value})}),d?A.jsx("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b border-gray-100 focus:border-[#369EAD]",value:J.plan,onChange:L=>ot({...J,plan:L.target.value}),children:T0.map((L,W)=>A.jsx("option",{value:L.plan,children:L.plan},W))}):A.jsxs("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b border-gray-100 focus:border-[#369EAD]",value:st.role,onChange:L=>ct({...st,role:L.target.value}),children:[A.jsx("option",{value:"teacher",children:"MAESTRA"}),A.jsx("option",{value:"admin",children:"ADMINISTRADORA"})]}),A.jsx(Qa,{disabled:kt,className:"w-full !py-4 font-bold",children:kt?A.jsx(dI,{className:"animate-spin"}):"Guardar Registro"})]})]})}),(b||M)&&A.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 z-[500] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm text-center font-sans border-t-8 border-[#C5A059] shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-serif italic mb-6",children:"Actualizar Clave"}),A.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 outline-none text-center font-bold mb-6 border-b border-gray-100",placeholder:"Nueva Clave",value:Z,onChange:L=>et(L.target.value)}),A.jsx(Qa,{onClick:()=>Ut(b?"alumnas":"maestros",b||M),className:"w-full mb-2",children:"Guardar"}),A.jsx("button",{onClick:()=>{w(null),q(null)},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400 transition-colors",children:"Cancelar"})]})}),Rt&&A.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 z-[500] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm text-center font-sans border-t-8 border-green-500 shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-serif italic mb-6",children:"Registrar Pago"}),A.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 outline-none text-center font-bold mb-6 border-b border-gray-100",value:S,onChange:L=>C(L.target.value)}),A.jsx(Qa,{onClick:K,className:"w-full mb-2",children:"Confirmar"}),A.jsx("button",{onClick:()=>I(null),className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400 transition-colors",children:"Cerrar"})]})})]})},qI=({user:r,students:t,sessionsData:i,db:a,onLogout:l,showNotification:c,onUpdatePass:d})=>{const[g,_]=jt.useState(!1);gp();const y=er.filter(q=>q.teacher.toUpperCase()===r.firstName.toUpperCase()),b=nT(r.firstName),w=t.filter(q=>q.history?.includes(b?.id)&&q.status!=="inactive"),M=async(q,Z)=>{if(window.confirm("Confirmar asistencia?"))try{const et=Oe(a,"alumnas",q),J=Oe(a,"sesiones",Z);await zn(et,{totalAttendance:Ys(1),history:nh(Z)}),await zn(J,{booked:Ys(-1)}),c("Asistencia marcada")}catch(et){console.error(et)}};return A.jsxs("div",{className:"pb-20",children:[A.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg sticky top-[64px] z-[50] font-sans w-full border-t border-white/5",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Staff"}),A.jsxs("button",{onClick:()=>_(!0),className:"bg-white/10 hover:bg-white/20 px-3 py-1 rounded text-[8px] font-sans font-black uppercase tracking-widest flex items-center gap-1 transition-colors",children:[A.jsx(uh,{size:10}),A.jsx("span",{children:"Mi Clave"})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:r.firstName}),A.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest transition-opacity",children:"Cerrar Sesin"})]})]}),A.jsxs("div",{className:"max-w-7xl mx-auto px-6 pt-32 py-12 space-y-12",children:[A.jsxs("div",{className:"mb-10 text-center md:text-left",children:[A.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),A.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Maestra de Ballet Fit"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[A.jsxs(Sn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[A.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:A.jsx(Yx,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Disciplina"}),A.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),A.jsxs(Sn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[A.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:A.jsx(J1,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Impacto"}),A.jsx("p",{className:"text-3xl font-bold text-[#369EAD] font-sans",children:"Enseando este mes"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs(Sn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[A.jsxs("div",{className:"flex justify-between items-center mb-6",children:[A.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[A.jsx($1,{size:20})," Asistencia: Prxima Clase"]}),b&&A.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[b.day," ",b.time]})]}),A.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar font-sans",children:w.length>0?w.map(q=>A.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[A.jsx("div",{className:"flex-1",children:A.jsx("div",{className:"font-serif italic font-bold text-sm",children:q.name})}),A.jsx("button",{onClick:()=>M(q.id,b.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:A.jsx(X1,{size:18})})]},q.id)):A.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay alumnas inscritas an"})})]}),A.jsx("div",{className:"lg:col-span-2 space-y-8",children:A.jsxs(Sn,{className:"bg-white",children:[A.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[A.jsx(Sm,{size:20,className:"text-[#369EAD]"})," Horario de Clases"]}),A.jsx("div",{className:"grid grid-cols-1 gap-4 font-sans text-center md:text-left",children:y.map(q=>A.jsxs("div",{className:"p-8 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[A.jsx("span",{className:"text-xs font-sans font-black uppercase text-gray-400 tracking-widest",children:q.day}),A.jsx("p",{className:"text-4xl font-sans font-bold text-[#1A3A3E] my-1",children:q.time}),A.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase tracking-[0.2em]",children:q.type})]},q.id))})]})})]})]}),g&&A.jsx(SelfChangePassModal,{onClose:()=>_(!1),onSave:d})]})};qA.createRoot(document.getElementById("root")).render(A.jsx(jt.StrictMode,{children:A.jsx(PI,{})}));
