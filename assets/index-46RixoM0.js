(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var wd={exports:{}},yl={};var R_;function mA(){if(R_)return yl;R_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return yl.Fragment=t,yl.jsx=i,yl.jsxs=i,yl}var C_;function gA(){return C_||(C_=1,wd.exports=mA()),wd.exports}var H=gA(),Rd={exports:{}},vt={};var I_;function pA(){if(I_)return vt;I_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(O){return O===null||typeof O!="object"?null:(O=M&&O[M]||O["@@iterator"],typeof O=="function"?O:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function at(O,Y,nt){this.props=O,this.context=Y,this.refs=$,this.updater=nt||Z}at.prototype.isReactComponent={},at.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},at.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function ut(){}ut.prototype=at.prototype;function ct(O,Y,nt){this.props=O,this.context=Y,this.refs=$,this.updater=nt||Z}var Ct=ct.prototype=new ut;Ct.constructor=ct,tt(Ct,at.prototype),Ct.isPureReactComponent=!0;var Rt=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},b=Object.prototype.hasOwnProperty;function C(O,Y,nt){var st=nt.ref;return{$$typeof:a,type:O,key:Y,ref:st!==void 0?st:null,props:nt}}function x(O,Y){return C(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===a}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(nt){return Y[nt]})}var w=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function Ce(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(wt,wt):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,nt,st,yt){var St=typeof O;(St==="undefined"||St==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(St){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case a:case t:Ut=!0;break;case A:return Ut=O._init,G(Ut(O._payload),Y,nt,st,yt)}}if(Ut)return yt=yt(O),Ut=st===""?"."+ie(O,0):st,Rt(yt)?(nt="",Ut!=null&&(nt=Ut.replace(w,"$&/")+"/"),G(yt,Y,nt,"",function(sr){return sr})):yt!=null&&(D(yt)&&(yt=x(yt,nt+(yt.key==null||O&&O.key===yt.key?"":(""+yt.key).replace(w,"$&/")+"/")+Ut)),Y.push(yt)),1;Ut=0;var Ie=st===""?".":st+":";if(Rt(O))for(var se=0;se<O.length;se++)st=O[se],St=Ie+ie(st,se),Ut+=G(st,Y,nt,St,yt);else if(se=F(O),typeof se=="function")for(O=se.call(O),se=0;!(st=O.next()).done;)st=st.value,St=Ie+ie(st,se++),Ut+=G(st,Y,nt,St,yt);else if(St==="object"){if(typeof O.then=="function")return G(Ce(O),Y,nt,st,yt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function et(O,Y,nt){if(O==null)return O;var st=[],yt=0;return G(O,st,"","",function(St){return Y.call(nt,St,yt++)}),st}function ft(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(nt){(O._status===0||O._status===-1)&&(O._status=1,O._result=nt)},function(nt){(O._status===0||O._status===-1)&&(O._status=2,O._result=nt)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:et,forEach:function(O,Y,nt){et(O,function(){Y.apply(this,arguments)},nt)},count:function(O){var Y=0;return et(O,function(){Y++}),Y},toArray:function(O){return et(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return vt.Activity=S,vt.Children=Ft,vt.Component=at,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ct,vt.StrictMode=r,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,vt.__COMPILER_RUNTIME={__proto__:null,c:function(O){return I.H.useMemoCache(O)}},vt.cache=function(O){return function(){return O.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(O,Y,nt){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var st=tt({},O.props),yt=O.key;if(Y!=null)for(St in Y.key!==void 0&&(yt=""+Y.key),Y)!b.call(Y,St)||St==="key"||St==="__self"||St==="__source"||St==="ref"&&Y.ref===void 0||(st[St]=Y[St]);var St=arguments.length-2;if(St===1)st.children=nt;else if(1<St){for(var Ut=Array(St),Ie=0;Ie<St;Ie++)Ut[Ie]=arguments[Ie+2];st.children=Ut}return C(O.type,yt,st)},vt.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},vt.createElement=function(O,Y,nt){var st,yt={},St=null;if(Y!=null)for(st in Y.key!==void 0&&(St=""+Y.key),Y)b.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(yt[st]=Y[st]);var Ut=arguments.length-2;if(Ut===1)yt.children=nt;else if(1<Ut){for(var Ie=Array(Ut),se=0;se<Ut;se++)Ie[se]=arguments[se+2];yt.children=Ie}if(O&&O.defaultProps)for(st in Ut=O.defaultProps,Ut)yt[st]===void 0&&(yt[st]=Ut[st]);return C(O,St,yt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(O){return{$$typeof:p,render:O}},vt.isValidElement=D,vt.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:ft}},vt.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},vt.startTransition=function(O){var Y=I.T,nt={};I.T=nt;try{var st=O(),yt=I.S;yt!==null&&yt(nt,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(wt,Pt)}catch(St){Pt(St)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),I.T=Y}},vt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},vt.use=function(O){return I.H.use(O)},vt.useActionState=function(O,Y,nt){return I.H.useActionState(O,Y,nt)},vt.useCallback=function(O,Y){return I.H.useCallback(O,Y)},vt.useContext=function(O){return I.H.useContext(O)},vt.useDebugValue=function(){},vt.useDeferredValue=function(O,Y){return I.H.useDeferredValue(O,Y)},vt.useEffect=function(O,Y){return I.H.useEffect(O,Y)},vt.useEffectEvent=function(O){return I.H.useEffectEvent(O)},vt.useId=function(){return I.H.useId()},vt.useImperativeHandle=function(O,Y,nt){return I.H.useImperativeHandle(O,Y,nt)},vt.useInsertionEffect=function(O,Y){return I.H.useInsertionEffect(O,Y)},vt.useLayoutEffect=function(O,Y){return I.H.useLayoutEffect(O,Y)},vt.useMemo=function(O,Y){return I.H.useMemo(O,Y)},vt.useOptimistic=function(O,Y){return I.H.useOptimistic(O,Y)},vt.useReducer=function(O,Y,nt){return I.H.useReducer(O,Y,nt)},vt.useRef=function(O){return I.H.useRef(O)},vt.useState=function(O){return I.H.useState(O)},vt.useSyncExternalStore=function(O,Y,nt){return I.H.useSyncExternalStore(O,Y,nt)},vt.useTransition=function(){return I.H.useTransition()},vt.version="19.2.3",vt}var N_;function gm(){return N_||(N_=1,Rd.exports=pA()),Rd.exports}var Oe=gm(),Cd={exports:{}},_l={},Id={exports:{}},Nd={};var D_;function yA(){return D_||(D_=1,(function(a){function t(G,et){var ft=G.length;G.push(et);t:for(;0<ft;){var Pt=ft-1>>>1,Ft=G[Pt];if(0<l(Ft,et))G[Pt]=et,G[ft]=Ft,ft=Pt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var et=G[0],ft=G.pop();if(ft!==et){G[0]=ft;t:for(var Pt=0,Ft=G.length,O=Ft>>>1;Pt<O;){var Y=2*(Pt+1)-1,nt=G[Y],st=Y+1,yt=G[st];if(0>l(nt,ft))st<Ft&&0>l(yt,nt)?(G[Pt]=yt,G[st]=ft,Pt=st):(G[Pt]=nt,G[Y]=ft,Pt=Y);else if(st<Ft&&0>l(yt,ft))G[Pt]=yt,G[st]=ft,Pt=st;else break t}}return et}function l(G,et){var ft=G.sortIndex-et.sortIndex;return ft!==0?ft:G.id-et.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();a.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,M=3,F=!1,Z=!1,tt=!1,$=!1,at=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Ct(G){for(var et=i(y);et!==null;){if(et.callback===null)r(y);else if(et.startTime<=G)r(y),et.sortIndex=et.expirationTime,t(_,et);else break;et=i(y)}}function Rt(G){if(tt=!1,Ct(G),!Z)if(i(_)!==null)Z=!0,wt||(wt=!0,k());else{var et=i(y);et!==null&&Ce(Rt,et.startTime-G)}}var wt=!1,I=-1,b=5,C=-1;function x(){return $?!0:!(a.unstable_now()-C<b)}function D(){if($=!1,wt){var G=a.unstable_now();C=G;var et=!0;try{t:{Z=!1,tt&&(tt=!1,ut(I),I=-1),F=!0;var ft=M;try{e:{for(Ct(G),S=i(_);S!==null&&!(S.expirationTime>G&&x());){var Pt=S.callback;if(typeof Pt=="function"){S.callback=null,M=S.priorityLevel;var Ft=Pt(S.expirationTime<=G);if(G=a.unstable_now(),typeof Ft=="function"){S.callback=Ft,Ct(G),et=!0;break e}S===i(_)&&r(_),Ct(G)}else r(_);S=i(_)}if(S!==null)et=!0;else{var O=i(y);O!==null&&Ce(Rt,O.startTime-G),et=!1}}break t}finally{S=null,M=ft,F=!1}et=void 0}}finally{et?k():wt=!1}}}var k;if(typeof ct=="function")k=function(){ct(D)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,ie=w.port2;w.port1.onmessage=D,k=function(){ie.postMessage(null)}}else k=function(){at(D,0)};function Ce(G,et){I=at(function(){G(a.unstable_now())},et)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):b=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return M},a.unstable_next=function(G){switch(M){case 1:case 2:case 3:var et=3;break;default:et=M}var ft=M;M=et;try{return G()}finally{M=ft}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,et){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return et()}finally{M=ft}},a.unstable_scheduleCallback=function(G,et,ft){var Pt=a.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Pt+ft:Pt):ft=Pt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=ft+Ft,G={id:A++,callback:et,priorityLevel:G,startTime:ft,expirationTime:Ft,sortIndex:-1},ft>Pt?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(tt?(ut(I),I=-1):tt=!0,Ce(Rt,ft-Pt))):(G.sortIndex=Ft,t(_,G),Z||F||(Z=!0,wt||(wt=!0,k()))),G},a.unstable_shouldYield=x,a.unstable_wrapCallback=function(G){var et=M;return function(){var ft=M;M=et;try{return G.apply(this,arguments)}finally{M=ft}}}})(Nd)),Nd}var O_;function _A(){return O_||(O_=1,Id.exports=yA()),Id.exports}var Dd={exports:{}},Ke={};var M_;function vA(){if(M_)return Ke;M_=1;var a=gm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ke.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ke.flushSync=function(_){var y=d.T,A=r.p;try{if(d.T=null,r.p=2,_)return _()}finally{d.T=y,r.p=A,r.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,r.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?r.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):A==="script"&&r.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);r.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&r.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);r.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);r.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else r.d.m(_)},Ke.requestFormReset=function(_){r.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var x_;function EA(){if(x_)return Dd.exports;x_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Dd.exports=vA(),Dd.exports}var V_;function TA(){if(V_)return _l;V_=1;var a=_A(),t=gm(),i=EA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(r(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Ct=Symbol.for("react.forward_ref"),Rt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),x=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case at:return"Profiler";case $:return"StrictMode";case Rt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ct:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case Ct:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case b:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ce=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,et=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function O(e){return{current:e}}function Y(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function nt(e,n){Ft++,Pt[Ft]=e.current,e.current=n}var st=O(null),yt=O(null),St=O(null),Ut=O(null);function Ie(e,n){switch(nt(St,n),nt(yt,e),nt(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Xy(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Xy(n),e=Zy(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),nt(st,e)}function se(){Y(st),Y(yt),Y(St)}function sr(e){e.memoizedState!==null&&nt(Ut,e);var n=st.current,s=Zy(n,e.type);n!==s&&(nt(yt,e),nt(st,s))}function Kr(e){yt.current===e&&(Y(st),Y(yt)),Ut.current===e&&(Y(Ut),dl._currentValue=ft)}var Yr,Xr;function $n(e){if(Yr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Yr=n&&n[1]||"",Xr=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yr+e+Xr}var fo=!1;function rr(e,n){if(!e||fo)return"";fo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(B){var z=B}Reflect.construct(e,[],K)}else{try{K.call()}catch(B){z=B}e.call(K.prototype)}}else{try{throw Error()}catch(B){z=B}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(B){if(B&&z&&typeof B.stack=="string")return[B.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var q=`
`+R[o].replace(" at new "," at ");return e.displayName&&q.includes("<anonymous>")&&(q=q.replace("<anonymous>",e.displayName)),q}while(1<=o&&0<=h);break}}}finally{fo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?$n(s):""}function mo(e,n){switch(e.tag){case 26:case 27:case 5:return $n(e.type);case 16:return $n("Lazy");case 13:return e.child!==n&&n!==null?$n("Suspense Fallback"):$n("Suspense");case 19:return $n("SuspenseList");case 0:case 15:return rr(e.type,!1);case 11:return rr(e.type.render,!1);case 1:return rr(e.type,!0);case 31:return $n("Activity");default:return""}}function go(e){try{var n="",s=null;do n+=mo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ge=Object.prototype.hasOwnProperty,Ne=a.unstable_scheduleCallback,ss=a.unstable_cancelCallback,Rh=a.unstable_shouldYield,Ql=a.unstable_requestPaint,$e=a.unstable_now,ar=a.unstable_getCurrentPriorityLevel,po=a.unstable_ImmediatePriority,yo=a.unstable_UserBlockingPriority,rs=a.unstable_NormalPriority,Ch=a.unstable_LowPriority,Kl=a.unstable_IdlePriority,Yl=a.log,Xl=a.unstable_setDisableYieldValue,Ln=null,Pe=null;function An(e){if(typeof Yl=="function"&&Xl(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var ce=Math.clz32?Math.clz32:Jl,Zl=Math.log,Zr=Math.LN2;function Jl(e){return e>>>=0,e===0?32:31-(Zl(e)/Zr|0)|0}var Wn=256,or=262144,pe=4194304;function ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ei(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ti(o):(g&=E,g!==0?h=ti(g):s||(s=E&~e,s!==0&&(h=ti(s))))):(E=o&~f,E!==0?h=ti(E):g!==0?h=ti(g):s||(s=o&~e,s!==0&&(h=ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ih(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $l(){var e=pe;return pe<<=1,(pe&62914560)===0&&(pe=4194304),e}function ni(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function lr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Nh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var q=31-ce(s),K=1<<q;E[q]=0,R[q]=-1;var z=P[q];if(z!==null)for(P[q]=null,q=0;q<z.length;q++){var B=z[q];B!==null&&(B.lane&=-536870913)}s&=~K}o!==0&&ur(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function ur(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-ce(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function _o(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-ce(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function vo(e,n){var s=n&-n;return s=(s&42)!==0?1:cr(s),(s&(e.suspendedLanes|n))!==0?0:s}function cr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ni(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Wl(){var e=et.p;return e!==0?e:(e=window.event,e===void 0?32:v_(e.type))}function zn(e,n){var s=et.p;try{return et.p=e,n()}finally{et.p=s}}var jn=Math.random().toString(36).slice(2),ye="__reactFiber$"+jn,Ve="__reactProps$"+jn,ii="__reactContainer$"+jn,Jr="__reactEvents$"+jn,Dh="__reactListeners$"+jn,tu="__reactHandles$"+jn,eu="__reactResources$"+jn,si="__reactMarker$"+jn;function $r(e){delete e[ye],delete e[Ve],delete e[Jr],delete e[Dh],delete e[tu]}function ri(e){var n=e[ye];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ii]||s[ye]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=i_(e);e!==null;){if(s=e[ye])return s;e=i_(e)}return n}e=s,s=e.parentNode}return null}function Sn(e){if(e=e[ye]||e[ii]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function fn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ai(e){var n=e[eu];return n||(n=e[eu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function _e(e){e[si]=!0}var Eo=new Set,To={};function oi(e,n){li(e,n),li(e+"Capture",n)}function li(e,n){for(To[e]=n,e=0;e<n.length;e++)Eo.add(n[e])}var Ao=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),So={},bo={};function nu(e){return ge.call(bo,e)?!0:ge.call(So,e)?!1:Ao.test(e)?bo[e]=!0:(So[e]=!0,!1)}function Wr(e,n,s){if(nu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function dn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function ve(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function as(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function wo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=as(e)?"checked":"value";e._valueTracker=wo(e,n,""+e[n])}}function hr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=as(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ui(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fr=/[\n"\\]/g;function nn(e){return e.replace(fr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ta(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Ro(e,g,ke(n)):s!=null?Ro(e,g,ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function iu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Ro(e,n,s){n==="number"&&ui(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function os(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function su(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function ls(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(Ce(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var ru=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||ru.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Io(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Co(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Co(e,f,n[f])}function ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var au=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),us=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function na(e){return us.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var No=null;function bn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var cs=null,ci=null;function dr(e){var n=Sn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ta(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(r(90));ta(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&hr(o)}break t;case"textarea":su(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&os(e,!!s.multiple,n,!1)}}}var ia=!1;function hs(e,n,s){if(ia)return e(n,s);ia=!0;try{var o=e(n);return o}finally{if(ia=!1,(cs!==null||ci!==null)&&(Wu(),cs&&(n=cs,e=ci,ci=cs=null,dr(n),e)))for(n=0;n<e.length;n++)dr(e[n])}}function qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mr=!1;if(wn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){mr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{mr=!1}var hi=null,Do=null,gr=null;function Oo(){if(gr)return gr;var e,n=Do,s=n.length,o,h="value"in hi?hi.value:hi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return gr=h.slice(e,1<o?1-o:void 0)}function pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Di(){return!0}function Hn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Di:Hn,this.isPropagationStopped=Hn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Di)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Di)},persist:function(){},isPersistent:Di}),n}var Oi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fi=ze(Oi),fs=S({},Oi,{view:0,detail:0}),Mo=ze(fs),ds,sa,di,ra=S({},fs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ms,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==di&&(di&&e.type==="mousemove"?(ds=e.screenX-di.screenX,sa=e.screenY-di.screenY):sa=ds=0,di=e),ds)},movementY:function(e){return"movementY"in e?e.movementY:sa}}),xo=ze(ra),yr=S({},ra,{dataTransfer:0}),ou=ze(yr),lu=S({},fs,{relatedTarget:0}),_r=ze(lu),Vo=S({},Oi,{animationName:0,elapsedTime:0,pseudoElement:0}),uu=ze(Vo),aa=S({},Oi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),cu=ze(aa),hu=S({},Oi,{data:0}),mi=ze(hu),fu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=mu[e])?!!n[e]:!1}function ms(){return gu}var We=S({},fs,{key:function(e){if(e.key){var n=fu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?du[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ms,charCode:function(e){return e.type==="keypress"?pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pu=ze(We),yu=S({},ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Mi=ze(yu),u=S({},fs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ms}),m=ze(u),v=S({},Oi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),U=S({},ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),j=ze(U),W=S({},Oi,{newState:0,oldState:0}),Tt=ze(W),he=[9,13,27,32],Bt=wn&&"CompositionEvent"in window,re=null;wn&&"documentMode"in document&&(re=document.documentMode);var Rn=wn&&"TextEvent"in window&&!re,gi=wn&&(!Bt||re&&8<re&&11>=re),Fn=" ",Gn=!1;function vr(e,n){switch(e){case"keyup":return he.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var la=!1;function PT(e,n){switch(e){case"compositionend":return oa(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Gn?null:e;default:return null}}function zT(e,n){if(la)return e==="compositionend"||!Bt&&vr(e,n)?(e=Oo(),gr=Do=hi=null,la=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return gi&&n.locale!=="ko"?null:n.data;default:return null}}var jT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ag(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!jT[e.type]:n==="textarea"}function og(e,n,s,o){cs?ci?ci.push(o):ci=[o]:cs=o,n=ac(n,"onChange"),0<n.length&&(s=new fi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var ko=null,Uo=null;function BT(e){Hy(e,0)}function _u(e){var n=fn(e);if(hr(n))return e}function lg(e,n){if(e==="change")return n}var ug=!1;if(wn){var Oh;if(wn){var Mh="oninput"in document;if(!Mh){var cg=document.createElement("div");cg.setAttribute("oninput","return;"),Mh=typeof cg.oninput=="function"}Oh=Mh}else Oh=!1;ug=Oh&&(!document.documentMode||9<document.documentMode)}function hg(){ko&&(ko.detachEvent("onpropertychange",fg),Uo=ko=null)}function fg(e){if(e.propertyName==="value"&&_u(Uo)){var n=[];og(n,Uo,e,bn(e)),hs(BT,n)}}function qT(e,n,s){e==="focusin"?(hg(),ko=n,Uo=s,ko.attachEvent("onpropertychange",fg)):e==="focusout"&&hg()}function HT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _u(Uo)}function FT(e,n){if(e==="click")return _u(n)}function GT(e,n){if(e==="input"||e==="change")return _u(n)}function QT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var mn=typeof Object.is=="function"?Object.is:QT;function Lo(e,n){if(mn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ge.call(n,h)||!mn(e[h],n[h]))return!1}return!0}function dg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function mg(e,n){var s=dg(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=dg(s)}}function gg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?gg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function pg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ui(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ui(e.document)}return n}function xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var KT=wn&&"documentMode"in document&&11>=document.documentMode,ua=null,Vh=null,Po=null,kh=!1;function yg(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;kh||ua==null||ua!==ui(o)||(o=ua,"selectionStart"in o&&xh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Po&&Lo(Po,o)||(Po=o,o=ac(Vh,"onSelect"),0<o.length&&(n=new fi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ua)))}function Er(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ca={animationend:Er("Animation","AnimationEnd"),animationiteration:Er("Animation","AnimationIteration"),animationstart:Er("Animation","AnimationStart"),transitionrun:Er("Transition","TransitionRun"),transitionstart:Er("Transition","TransitionStart"),transitioncancel:Er("Transition","TransitionCancel"),transitionend:Er("Transition","TransitionEnd")},Uh={},_g={};wn&&(_g=document.createElement("div").style,"AnimationEvent"in window||(delete ca.animationend.animation,delete ca.animationiteration.animation,delete ca.animationstart.animation),"TransitionEvent"in window||delete ca.transitionend.transition);function Tr(e){if(Uh[e])return Uh[e];if(!ca[e])return e;var n=ca[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in _g)return Uh[e]=n[s];return e}var vg=Tr("animationend"),Eg=Tr("animationiteration"),Tg=Tr("animationstart"),YT=Tr("transitionrun"),XT=Tr("transitionstart"),ZT=Tr("transitioncancel"),Ag=Tr("transitionend"),Sg=new Map,Lh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lh.push("scrollEnd");function Qn(e,n){Sg.set(e,n),oi(n,[e])}var vu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Cn=[],ha=0,Ph=0;function Eu(){for(var e=ha,n=Ph=ha=0;n<e;){var s=Cn[n];Cn[n++]=null;var o=Cn[n];Cn[n++]=null;var h=Cn[n];Cn[n++]=null;var f=Cn[n];if(Cn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&bg(s,h,f)}}function Tu(e,n,s,o){Cn[ha++]=e,Cn[ha++]=n,Cn[ha++]=s,Cn[ha++]=o,Ph|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function zh(e,n,s,o){return Tu(e,n,s,o),Au(e)}function Ar(e,n){return Tu(e,null,null,n),Au(e)}function bg(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-ce(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Au(e){if(50<al)throw al=0,Xf=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var fa={};function JT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(e,n,s,o){return new JT(e,n,s,o)}function jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function xi(e,n){var s=e.alternate;return s===null?(s=gn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function wg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Su(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")jh(e)&&(g=1);else if(typeof e=="string")g=nA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=gn(31,s,n,h),e.elementType=C,e.lanes=f,e;case tt:return Sr(s.children,h,f,n);case $:g=8,h|=24;break;case at:return e=gn(12,s,n,h|2),e.elementType=at,e.lanes=f,e;case Rt:return e=gn(13,s,n,h),e.elementType=Rt,e.lanes=f,e;case wt:return e=gn(19,s,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:g=10;break t;case ut:g=9;break t;case Ct:g=11;break t;case I:g=14;break t;case b:g=16,o=null;break t}g=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=gn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Sr(e,n,s,o){return e=gn(7,e,o,n),e.lanes=s,e}function Bh(e,n,s){return e=gn(6,e,null,n),e.lanes=s,e}function Rg(e){var n=gn(18,null,null,0);return n.stateNode=e,n}function qh(e,n,s){return n=gn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Cg=new WeakMap;function In(e,n){if(typeof e=="object"&&e!==null){var s=Cg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:go(n)},Cg.set(e,n),n)}return{value:e,source:n,stack:go(n)}}var da=[],ma=0,bu=null,zo=0,Nn=[],Dn=0,gs=null,pi=1,yi="";function Vi(e,n){da[ma++]=zo,da[ma++]=bu,bu=e,zo=n}function Ig(e,n,s){Nn[Dn++]=pi,Nn[Dn++]=yi,Nn[Dn++]=gs,gs=e;var o=pi;e=yi;var h=32-ce(o)-1;o&=~(1<<h),s+=1;var f=32-ce(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,pi=1<<32-ce(n)+h|s<<h|o,yi=f+e}else pi=1<<f|s<<h|o,yi=e}function Hh(e){e.return!==null&&(Vi(e,1),Ig(e,1,0))}function Fh(e){for(;e===bu;)bu=da[--ma],da[ma]=null,zo=da[--ma],da[ma]=null;for(;e===gs;)gs=Nn[--Dn],Nn[Dn]=null,yi=Nn[--Dn],Nn[Dn]=null,pi=Nn[--Dn],Nn[Dn]=null}function Ng(e,n){Nn[Dn++]=pi,Nn[Dn++]=yi,Nn[Dn++]=gs,pi=n.id,yi=n.overflow,gs=e}var je=null,Wt=null,kt=!1,ps=null,On=!1,Gh=Error(r(519));function ys(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw jo(In(n,e)),Gh}function Dg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ye]=e,n[Ve]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<ll.length;s++)Nt(ll[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),iu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),ls(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||Ky(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||ys(e,!0)}function Og(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:On=!1;return;case 27:case 3:On=!0;return;default:je=je.return}}function ga(e){if(e!==je)return!1;if(!kt)return Og(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||cd(e.type,e.memoizedProps)),s=!s),s&&Wt&&ys(e),Og(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=n_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Wt=n_(e)}else n===27?(n=Wt,Os(e.type)?(e=gd,gd=null,Wt=e):Wt=n):Wt=je?xn(e.stateNode.nextSibling):null;return!0}function br(){Wt=je=null,kt=!1}function Qh(){var e=ps;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ps=null),e}function jo(e){ps===null?ps=[e]:ps.push(e)}var Kh=O(null),wr=null,ki=null;function _s(e,n,s){nt(Kh,n._currentValue),n._currentValue=s}function Ui(e){e._currentValue=Kh.current,Y(Kh)}function Yh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function Xh(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Yh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(r(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Yh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function pa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(r(387));if(g=g.memoizedProps,g!==null){var E=h.type;mn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(r(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(dl):e=[dl])}h=h.return}e!==null&&Xh(n,e,s,o),n.flags|=262144}function wu(e){for(e=e.firstContext;e!==null;){if(!mn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Rr(e){wr=e,ki=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Mg(wr,e)}function Ru(e,n){return wr===null&&Rr(e),Mg(e,n)}function Mg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ki===null){if(e===null)throw Error(r(308));ki=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ki=ki.next=n;return s}var $T=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},WT=a.unstable_scheduleCallback,t1=a.unstable_NormalPriority,Ee={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zh(){return{controller:new $T,data:new Map,refCount:0}}function Bo(e){e.refCount--,e.refCount===0&&WT(t1,function(){e.controller.abort()})}var qo=null,Jh=0,ya=0,_a=null;function e1(e,n){if(qo===null){var s=qo=[];Jh=0,ya=ed(),_a={status:"pending",value:void 0,then:function(o){s.push(o)}}}return Jh++,n.then(xg,xg),n}function xg(){if(--Jh===0&&qo!==null){_a!==null&&(_a.status="fulfilled");var e=qo;qo=null,ya=0,_a=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function n1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Vg=G.S;G.S=function(e,n){yy=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&e1(e,n),Vg!==null&&Vg(e,n)};var Cr=O(null);function $h(){var e=Cr.current;return e!==null?e:$t.pooledCache}function Cu(e,n){n===null?nt(Cr,Cr.current):nt(Cr,n.pool)}function kg(){var e=$h();return e===null?null:{parent:Ee._currentValue,pool:e}}var va=Error(r(460)),Wh=Error(r(474)),Iu=Error(r(542)),Nu={then:function(){}};function Ug(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Lg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,zg(e),e}throw Nr=n,va}}function Ir(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Nr=s,va):s}}var Nr=null;function Pg(){if(Nr===null)throw Error(r(459));var e=Nr;return Nr=null,e}function zg(e){if(e===va||e===Iu)throw Error(r(483))}var Ea=null,Ho=0;function Du(e){var n=Ho;return Ho+=1,Ea===null&&(Ea=[]),Lg(Ea,e,n)}function Fo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Ou(e,n){throw n.$$typeof===M?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function jg(e){function n(V,N){if(e){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function s(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=xi(V,N),V.index=0,V.sibling=null,V}function f(V,N,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,L,Q){return N===null||N.tag!==6?(N=Bh(L,V.mode,Q),N.return=V,N):(N=h(N,L),N.return=V,N)}function R(V,N,L,Q){var ht=L.type;return ht===tt?q(V,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ir(ht)===N.type)?(N=h(N,L.props),Fo(N,L),N.return=V,N):(N=Su(L.type,L.key,L.props,null,V.mode,Q),Fo(N,L),N.return=V,N)}function P(V,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=qh(L,V.mode,Q),N.return=V,N):(N=h(N,L.children||[]),N.return=V,N)}function q(V,N,L,Q,ht){return N===null||N.tag!==7?(N=Sr(L,V.mode,Q,ht),N.return=V,N):(N=h(N,L),N.return=V,N)}function K(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Bh(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case F:return L=Su(N.type,N.key,N.props,null,V.mode,L),Fo(L,N),L.return=V,L;case Z:return N=qh(N,V.mode,L),N.return=V,N;case b:return N=Ir(N),K(V,N,L)}if(Ce(N)||k(N))return N=Sr(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return K(V,Du(N),L);if(N.$$typeof===ct)return K(V,Ru(V,N),L);Ou(V,N)}return null}function z(V,N,L,Q){var ht=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(V,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case F:return L.key===ht?R(V,N,L,Q):null;case Z:return L.key===ht?P(V,N,L,Q):null;case b:return L=Ir(L),z(V,N,L,Q)}if(Ce(L)||k(L))return ht!==null?null:q(V,N,L,Q,null);if(typeof L.then=="function")return z(V,N,Du(L),Q);if(L.$$typeof===ct)return z(V,N,Ru(V,L),Q);Ou(V,L)}return null}function B(V,N,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,E(N,V,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return V=V.get(Q.key===null?L:Q.key)||null,R(N,V,Q,ht);case Z:return V=V.get(Q.key===null?L:Q.key)||null,P(N,V,Q,ht);case b:return Q=Ir(Q),B(V,N,L,Q,ht)}if(Ce(Q)||k(Q))return V=V.get(L)||null,q(N,V,Q,ht,null);if(typeof Q.then=="function")return B(V,N,L,Du(Q),ht);if(Q.$$typeof===ct)return B(V,N,L,Ru(N,Q),ht);Ou(N,Q)}return null}function rt(V,N,L,Q){for(var ht=null,zt=null,ot=N,bt=N=0,Ot=null;ot!==null&&bt<L.length;bt++){ot.index>bt?(Ot=ot,ot=null):Ot=ot.sibling;var jt=z(V,ot,L[bt],Q);if(jt===null){ot===null&&(ot=Ot);break}e&&ot&&jt.alternate===null&&n(V,ot),N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt,ot=Ot}if(bt===L.length)return s(V,ot),kt&&Vi(V,bt),ht;if(ot===null){for(;bt<L.length;bt++)ot=K(V,L[bt],Q),ot!==null&&(N=f(ot,N,bt),zt===null?ht=ot:zt.sibling=ot,zt=ot);return kt&&Vi(V,bt),ht}for(ot=o(ot);bt<L.length;bt++)Ot=B(ot,V,bt,L[bt],Q),Ot!==null&&(e&&Ot.alternate!==null&&ot.delete(Ot.key===null?bt:Ot.key),N=f(Ot,N,bt),zt===null?ht=Ot:zt.sibling=Ot,zt=Ot);return e&&ot.forEach(function(Us){return n(V,Us)}),kt&&Vi(V,bt),ht}function mt(V,N,L,Q){if(L==null)throw Error(r(151));for(var ht=null,zt=null,ot=N,bt=N=0,Ot=null,jt=L.next();ot!==null&&!jt.done;bt++,jt=L.next()){ot.index>bt?(Ot=ot,ot=null):Ot=ot.sibling;var Us=z(V,ot,jt.value,Q);if(Us===null){ot===null&&(ot=Ot);break}e&&ot&&Us.alternate===null&&n(V,ot),N=f(Us,N,bt),zt===null?ht=Us:zt.sibling=Us,zt=Us,ot=Ot}if(jt.done)return s(V,ot),kt&&Vi(V,bt),ht;if(ot===null){for(;!jt.done;bt++,jt=L.next())jt=K(V,jt.value,Q),jt!==null&&(N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return kt&&Vi(V,bt),ht}for(ot=o(ot);!jt.done;bt++,jt=L.next())jt=B(ot,V,bt,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ot.delete(jt.key===null?bt:jt.key),N=f(jt,N,bt),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&ot.forEach(function(dA){return n(V,dA)}),kt&&Vi(V,bt),ht}function Jt(V,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===tt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case F:t:{for(var ht=L.key;N!==null;){if(N.key===ht){if(ht=L.type,ht===tt){if(N.tag===7){s(V,N.sibling),Q=h(N,L.props.children),Q.return=V,V=Q;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===b&&Ir(ht)===N.type){s(V,N.sibling),Q=h(N,L.props),Fo(Q,L),Q.return=V,V=Q;break t}s(V,N);break}else n(V,N);N=N.sibling}L.type===tt?(Q=Sr(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=Su(L.type,L.key,L.props,null,V.mode,Q),Fo(Q,L),Q.return=V,V=Q)}return g(V);case Z:t:{for(ht=L.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(V,N.sibling),Q=h(N,L.children||[]),Q.return=V,V=Q;break t}else{s(V,N);break}else n(V,N);N=N.sibling}Q=qh(L,V.mode,Q),Q.return=V,V=Q}return g(V);case b:return L=Ir(L),Jt(V,N,L,Q)}if(Ce(L))return rt(V,N,L,Q);if(k(L)){if(ht=k(L),typeof ht!="function")throw Error(r(150));return L=ht.call(L),mt(V,N,L,Q)}if(typeof L.then=="function")return Jt(V,N,Du(L),Q);if(L.$$typeof===ct)return Jt(V,N,Ru(V,L),Q);Ou(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(V,N.sibling),Q=h(N,L),Q.return=V,V=Q):(s(V,N),Q=Bh(L,V.mode,Q),Q.return=V,V=Q),g(V)):s(V,N)}return function(V,N,L,Q){try{Ho=0;var ht=Jt(V,N,L,Q);return Ea=null,ht}catch(ot){if(ot===va||ot===Iu)throw ot;var zt=gn(29,ot,null,V.mode);return zt.lanes=Q,zt.return=V,zt}}}var Dr=jg(!0),Bg=jg(!1),vs=!1;function tf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ef(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Es(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ts(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Au(e),bg(e,null,s),n}return Tu(e,o,n,s),Au(e)}function Go(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,_o(e,s)}}function nf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var sf=!1;function Qo(){if(sf){var e=_a;if(e!==null)throw e}}function Ko(e,n,s,o){sf=!1;var h=e.updateQueue;vs=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var q=e.alternate;q!==null&&(q=q.updateQueue,E=q.lastBaseUpdate,E!==g&&(E===null?q.firstBaseUpdate=P:E.next=P,q.lastBaseUpdate=R))}if(f!==null){var K=h.baseState;g=0,q=P=R=null,E=f;do{var z=E.lane&-536870913,B=z!==E.lane;if(B?(Dt&z)===z:(o&z)===z){z!==0&&z===ya&&(sf=!0),q!==null&&(q=q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var rt=e,mt=E;z=n;var Jt=s;switch(mt.tag){case 1:if(rt=mt.payload,typeof rt=="function"){K=rt.call(Jt,K,z);break t}K=rt;break t;case 3:rt.flags=rt.flags&-65537|128;case 0:if(rt=mt.payload,z=typeof rt=="function"?rt.call(Jt,K,z):rt,z==null)break t;K=S({},K,z);break t;case 2:vs=!0}}z=E.callback,z!==null&&(e.flags|=64,B&&(e.flags|=8192),B=h.callbacks,B===null?h.callbacks=[z]:B.push(z))}else B={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},q===null?(P=q=B,R=K):q=q.next=B,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;B=E,E=B.next,B.next=null,h.lastBaseUpdate=B,h.shared.pending=null}}while(!0);q===null&&(R=K),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=q,f===null&&(h.shared.lanes=0),Rs|=g,e.lanes=g,e.memoizedState=K}}function qg(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Hg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)qg(s[e],n)}var Ta=O(null),Mu=O(0);function Fg(e,n){e=Gi,nt(Mu,e),nt(Ta,n),Gi=e|n.baseLanes}function rf(){nt(Mu,Gi),nt(Ta,Ta.current)}function af(){Gi=Mu.current,Y(Ta),Y(Mu)}var pn=O(null),Mn=null;function As(e){var n=e.alternate;nt(fe,fe.current&1),nt(pn,e),Mn===null&&(n===null||Ta.current!==null||n.memoizedState!==null)&&(Mn=e)}function of(e){nt(fe,fe.current),nt(pn,e),Mn===null&&(Mn=e)}function Gg(e){e.tag===22?(nt(fe,fe.current),nt(pn,e),Mn===null&&(Mn=e)):Ss()}function Ss(){nt(fe,fe.current),nt(pn,pn.current)}function yn(e){Y(pn),Mn===e&&(Mn=null),Y(fe)}var fe=O(0);function xu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||dd(s)||md(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Li=0,At=null,Xt=null,Te=null,Vu=!1,Aa=!1,Or=!1,ku=0,Yo=0,Sa=null,i1=0;function le(){throw Error(r(321))}function lf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!mn(e[s],n[s]))return!1;return!0}function uf(e,n,s,o,h,f){return Li=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Ip:bf,Or=!1,f=s(o,h),Or=!1,Aa&&(f=Kg(n,s,o,h)),Qg(e),f}function Qg(e){G.H=Jo;var n=Xt!==null&&Xt.next!==null;if(Li=0,Te=Xt=At=null,Vu=!1,Yo=0,Sa=null,n)throw Error(r(300));e===null||Ae||(e=e.dependencies,e!==null&&wu(e)&&(Ae=!0))}function Kg(e,n,s,o){At=e;var h=0;do{if(Aa&&(Sa=null),Yo=0,Aa=!1,25<=h)throw Error(r(301));if(h+=1,Te=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Np,f=n(s,o)}while(Aa);return f}function s1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Xo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(At.flags|=1024),n}function cf(){var e=ku!==0;return ku=0,e}function hf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function ff(e){if(Vu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Vu=!1}Li=0,Te=Xt=At=null,Aa=!1,Yo=ku=0,Sa=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Te===null?At.memoizedState=Te=e:Te=Te.next=e,Te}function de(){if(Xt===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Te===null?At.memoizedState:Te.next;if(n!==null)Te=n,Xt=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Te===null?At.memoizedState=Te=e:Te=Te.next=e}return Te}function Uu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xo(e){var n=Yo;return Yo+=1,Sa===null&&(Sa=[]),e=Lg(Sa,e,n),n=At,(Te===null?n.memoizedState:Te.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Ip:bf),e}function Lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Xo(e);if(e.$$typeof===ct)return Be(e)}throw Error(r(438,String(e)))}function df(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Uu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=x;return n.index++,s}function Pi(e,n){return typeof n=="function"?n(e):n}function Pu(e){var n=de();return mf(n,Xt,e)}function mf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,q=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Dt&K)===K:(Li&K)===K){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===ya&&(q=!0);else if((Li&z)===z){P=P.next,z===ya&&(q=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=K,g=f):R=R.next=K,At.lanes|=z,Rs|=z;K=P.action,Or&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,At.lanes|=K,Rs|=K;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!mn(f,e.memoizedState)&&(Ae=!0,q&&(s=_a,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function gf(e){var n=de(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);mn(f,n.memoizedState)||(Ae=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Yg(e,n,s){var o=At,h=de(),f=kt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var g=!mn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,Ae=!0),h=h.queue,_f(Jg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Te!==null&&Te.memoizedState.tag&1){if(o.flags|=2048,ba(9,{destroy:void 0},Zg.bind(null,o,h,s,n),null),$t===null)throw Error(r(349));f||(Li&127)!==0||Xg(o,n,s)}return s}function Xg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Uu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function Zg(e,n,s,o){n.value=s,n.getSnapshot=o,$g(n)&&Wg(e)}function Jg(e,n,s){return s(function(){$g(n)&&Wg(e)})}function $g(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!mn(e,s)}catch{return!0}}function Wg(e){var n=Ar(e,2);n!==null&&un(n,e,2)}function pf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Or){An(!0);try{s()}finally{An(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:e},n}function tp(e,n,s,o){return e.baseState=s,mf(e,Xt,typeof o=="function"?o:Pi)}function r1(e,n,s,o,h){if(Bu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ep(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ep(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),R=G.S;R!==null&&R(g,E),np(e,n,E)}catch(P){yf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),np(e,n,f)}catch(P){yf(e,n,P)}}function np(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){ip(e,n,o)},function(o){return yf(e,n,o)}):ip(e,n,s)}function ip(e,n,s){n.status="fulfilled",n.value=s,sp(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ep(e,s)))}function yf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,sp(n),n=n.next;while(n!==o)}e.action=null}function sp(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function rp(e,n){return n}function ap(e,n){if(kt){var s=$t.formState;if(s!==null){t:{var o=At;if(kt){if(Wt){e:{for(var h=Wt,f=On;h.nodeType!==8;){if(!f){h=null;break e}if(h=xn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=xn(h.nextSibling),o=h.data==="F!";break t}}ys(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rp,lastRenderedState:n},s.queue=o,s=wp.bind(null,At,o),o.dispatch=s,o=pf(!1),f=Sf.bind(null,At,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=r1.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function op(e){var n=de();return lp(n,Xt,e)}function lp(e,n,s){if(n=mf(e,n,rp)[0],e=Pu(Pi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Xo(n)}catch(g){throw g===va?Iu:g}else o=n;n=de();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,ba(9,{destroy:void 0},a1.bind(null,h,s),null)),[o,f,e]}function a1(e,n){e.action=n}function up(e){var n=de(),s=Xt;if(s!==null)return lp(n,s,e);de(),n=n.memoizedState,s=de();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function ba(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Uu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function cp(){return de().memoizedState}function zu(e,n,s,o){var h=tn();At.flags|=e,h.memoizedState=ba(1|n,{destroy:void 0},s,o===void 0?null:o)}function ju(e,n,s,o){var h=de();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&lf(o,Xt.memoizedState.deps)?h.memoizedState=ba(n,f,s,o):(At.flags|=e,h.memoizedState=ba(1|n,f,s,o))}function hp(e,n){zu(8390656,8,e,n)}function _f(e,n){ju(2048,8,e,n)}function o1(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Uu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function fp(e){var n=de().memoizedState;return o1({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function dp(e,n){return ju(4,2,e,n)}function mp(e,n){return ju(4,4,e,n)}function gp(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function pp(e,n,s){s=s!=null?s.concat([e]):null,ju(4,4,gp.bind(null,n,e),s)}function vf(){}function yp(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&lf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function _p(e,n){var s=de();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&lf(n,o[1]))return o[0];if(o=e(),Or){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o}function Ef(e,n,s){return s===void 0||(Li&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=vy(),At.lanes|=e,Rs|=e,s)}function vp(e,n,s,o){return mn(s,n)?s:Ta.current!==null?(e=Ef(e,s,o),mn(e,n)||(Ae=!0),e):(Li&42)===0||(Li&1073741824)!==0&&(Dt&261930)===0?(Ae=!0,e.memoizedState=s):(e=vy(),At.lanes|=e,Rs|=e,n)}function Ep(e,n,s,o,h){var f=et.p;et.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Sf(e,!1,n,s);try{var R=h(),P=G.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var q=n1(R,o);Zo(e,n,q,En(e))}else Zo(e,n,o,En(e))}catch(K){Zo(e,n,{then:function(){},status:"rejected",reason:K},En())}finally{et.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function l1(){}function Tf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=Tp(e).queue;Ep(e,h,n,ft,s===null?l1:function(){return Ap(e),s(o)})}function Tp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Pi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ap(e){var n=Tp(e);n.next===null&&(n=e.alternate.memoizedState),Zo(e,n.next.queue,{},En())}function Af(){return Be(dl)}function Sp(){return de().memoizedState}function bp(){return de().memoizedState}function u1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=En();e=Es(s);var o=Ts(n,e,s);o!==null&&(un(o,n,s),Go(o,n,s)),n={cache:Zh()},e.payload=n;return}n=n.return}}function c1(e,n,s){var o=En();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Bu(e)?Rp(n,s):(s=zh(e,n,s,o),s!==null&&(un(s,e,o),Cp(s,n,o)))}function wp(e,n,s){var o=En();Zo(e,n,s,o)}function Zo(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Bu(e))Rp(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,mn(E,g))return Tu(e,n,h,0),$t===null&&Eu(),!1}catch{}if(s=zh(e,n,h,o),s!==null)return un(s,e,o),Cp(s,n,o),!0}return!1}function Sf(e,n,s,o){if(o={lane:2,revertLane:ed(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Bu(e)){if(n)throw Error(r(479))}else n=zh(e,s,o,2),n!==null&&un(n,e,2)}function Bu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Rp(e,n){Aa=Vu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Cp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,_o(e,s)}}var Jo={readContext:Be,use:Lu,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Jo.useEffectEvent=le;var Ip={readContext:Be,use:Lu,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:hp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,zu(4194308,4,gp.bind(null,n,e),s)},useLayoutEffect:function(e,n){return zu(4194308,4,e,n)},useInsertionEffect:function(e,n){zu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Or){An(!0);try{e()}finally{An(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Or){An(!0);try{s(n)}finally{An(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=c1.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=pf(e);var n=e.queue,s=wp.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:vf,useDeferredValue:function(e,n){var s=tn();return Ef(s,e,n)},useTransition:function(){var e=pf(!1);return e=Ep.bind(null,At,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=tn();if(kt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),$t===null)throw Error(r(349));(Dt&127)!==0||Xg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,hp(Jg.bind(null,o,f,e),[e]),o.flags|=2048,ba(9,{destroy:void 0},Zg.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=$t.identifierPrefix;if(kt){var s=yi,o=pi;s=(o&~(1<<32-ce(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=ku++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=i1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Af,useFormState:ap,useActionState:ap,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Sf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:df,useCacheRefresh:function(){return tn().memoizedState=u1.bind(null,At)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},bf={readContext:Be,use:Lu,useCallback:yp,useContext:Be,useEffect:_f,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:Pu,useRef:cp,useState:function(){return Pu(Pi)},useDebugValue:vf,useDeferredValue:function(e,n){var s=de();return vp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Pu(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:Af,useFormState:op,useActionState:op,useOptimistic:function(e,n){var s=de();return tp(s,Xt,e,n)},useMemoCache:df,useCacheRefresh:bp};bf.useEffectEvent=fp;var Np={readContext:Be,use:Lu,useCallback:yp,useContext:Be,useEffect:_f,useImperativeHandle:pp,useInsertionEffect:dp,useLayoutEffect:mp,useMemo:_p,useReducer:gf,useRef:cp,useState:function(){return gf(Pi)},useDebugValue:vf,useDeferredValue:function(e,n){var s=de();return Xt===null?Ef(s,e,n):vp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=gf(Pi)[0],n=de().memoizedState;return[typeof e=="boolean"?e:Xo(e),n]},useSyncExternalStore:Yg,useId:Sp,useHostTransitionStatus:Af,useFormState:up,useActionState:up,useOptimistic:function(e,n){var s=de();return Xt!==null?tp(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:df,useCacheRefresh:bp};Np.useEffectEvent=fp;function wf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Rf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=En(),h=Es(o);h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(un(n,e,o),Go(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=En(),h=Es(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ts(e,h,o),n!==null&&(un(n,e,o),Go(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=En(),o=Es(s);o.tag=2,n!=null&&(o.callback=n),n=Ts(e,o,s),n!==null&&(un(n,e,s),Go(n,e,s))}};function Dp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Lo(s,o)||!Lo(h,f):!0}function Op(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Rf.enqueueReplaceState(n,n.state,null)}function Mr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Mp(e){vu(e)}function xp(e){console.error(e)}function Vp(e){vu(e)}function qu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function kp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Cf(e,n,s){return s=Es(s),s.tag=3,s.payload={element:null},s.callback=function(){qu(e,n)},s}function Up(e){return e=Es(e),e.tag=3,e}function Lp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){kp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){kp(n,s,o),typeof h!="function"&&(Cs===null?Cs=new Set([this]):Cs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function h1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&pa(n,s,h,!0),s=pn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?tc():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Nu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),$f(e,o,h)),!1;case 22:return s.flags|=65536,o===Nu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),$f(e,o,h)),!1}throw Error(r(435,s.tag))}return $f(e,o,h),tc(),!1}if(kt)return n=pn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Gh&&(e=Error(r(422),{cause:o}),jo(In(e,s)))):(o!==Gh&&(n=Error(r(423),{cause:o}),jo(In(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=In(o,s),h=Cf(e.stateNode,o,h),nf(e,h),ue!==4&&(ue=2)),!1;var f=Error(r(520),{cause:o});if(f=In(f,s),rl===null?rl=[f]:rl.push(f),ue!==4&&(ue=2),n===null)return!0;o=In(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Cf(s.stateNode,o,e),nf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Cs===null||!Cs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Up(h),Lp(h,e,s,o),nf(s,h),!1}s=s.return}while(s!==null);return!1}var If=Error(r(461)),Ae=!1;function qe(e,n,s,o){n.child=e===null?Bg(n,null,s,o):Dr(n,e.child,s,o)}function Pp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Rr(n),o=uf(e,n,s,g,f,h),E=cf(),e!==null&&!Ae?(hf(e,n,h),zi(e,n,h)):(kt&&E&&Hh(n),n.flags|=1,qe(e,n,o,h),n.child)}function zp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!jh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,jp(e,n,f,o,h)):(e=Su(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Uf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Lo,s(g,o)&&e.ref===n.ref)return zi(e,n,h)}return n.flags|=1,e=xi(f,o),e.ref=n.ref,e.return=n,n.child=e}function jp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Lo(f,o)&&e.ref===n.ref)if(Ae=!1,n.pendingProps=o=f,Uf(e,h))(e.flags&131072)!==0&&(Ae=!0);else return n.lanes=e.lanes,zi(e,n,h)}return Nf(e,n,s,o,h)}function Bp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return qp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Cu(n,f!==null?f.cachePool:null),f!==null?Fg(n,f):rf(),Gg(n);else return o=n.lanes=536870912,qp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Cu(n,f.cachePool),Fg(n,f),Ss(),n.memoizedState=null):(e!==null&&Cu(n,null),rf(),Ss());return qe(e,n,h,s),n.child}function $o(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function qp(e,n,s,o,h){var f=$h();return f=f===null?null:{parent:Ee._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Cu(n,null),rf(),Gg(n),e!==null&&pa(e,n,o,!0),n.childLanes=h,null}function Hu(e,n){return n=Gu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Hp(e,n,s){return Dr(n,e.child,null,s),e=Hu(n,n.pendingProps),e.flags|=2,yn(n),n.memoizedState=null,e}function f1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Hu(n,o),n.lanes=536870912,$o(null,e);if(of(n),(e=Wt)?(e=e_(e,On),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Rg(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw ys(n);return n.lanes=536870912,null}return Hu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(of(n),h)if(n.flags&256)n.flags&=-257,n=Hp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(Ae||pa(e,n,s,!1),h=(s&e.childLanes)!==0,Ae||h){if(o=$t,o!==null&&(g=vo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Ar(e,g),un(o,e,g),If;tc(),n=Hp(e,n,s)}else e=f.treeContext,Wt=xn(g.nextSibling),je=n,kt=!0,ps=null,On=!1,e!==null&&Ng(n,e),n=Hu(n,o),n.flags|=4096;return n}return e=xi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Fu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Nf(e,n,s,o,h){return Rr(n),s=uf(e,n,s,o,void 0,h),o=cf(),e!==null&&!Ae?(hf(e,n,h),zi(e,n,h)):(kt&&o&&Hh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Fp(e,n,s,o,h,f){return Rr(n),n.updateQueue=null,s=Kg(n,o,s,h),Qg(e),o=cf(),e!==null&&!Ae?(hf(e,n,f),zi(e,n,f)):(kt&&o&&Hh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Gp(e,n,s,o,h){if(Rr(n),n.stateNode===null){var f=fa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Rf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},tf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):fa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(wf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Rf.enqueueReplaceState(f,f.state,null),Ko(n,o,f,h),Qo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Mr(s,E);f.props=R;var P=f.context,q=s.contextType;g=fa,typeof q=="object"&&q!==null&&(g=Be(q));var K=s.getDerivedStateFromProps;q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Op(n,f,o,g),vs=!1;var z=n.memoizedState;f.state=z,Ko(n,o,f,h),Qo(),P=n.memoizedState,E||z!==P||vs?(typeof K=="function"&&(wf(n,s,K,o),P=n.memoizedState),(R=vs||Dp(n,s,R,o,z,P,g))?(q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ef(e,n),g=n.memoizedProps,q=Mr(s,g),f.props=q,K=n.pendingProps,z=f.context,P=s.contextType,R=fa,typeof P=="object"&&P!==null&&(R=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==R)&&Op(n,f,o,R),vs=!1,z=n.memoizedState,f.state=z,Ko(n,o,f,h),Qo();var B=n.memoizedState;g!==K||z!==B||vs||e!==null&&e.dependencies!==null&&wu(e.dependencies)?(typeof E=="function"&&(wf(n,s,E,o),B=n.memoizedState),(q=vs||Dp(n,s,q,o,z,B,R)||e!==null&&e.dependencies!==null&&wu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,B,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,B,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=B),f.props=o,f.state=B,f.context=R,o=q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Fu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Dr(n,e.child,null,h),n.child=Dr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=zi(e,n,h),e}function Qp(e,n,s,o){return br(),n.flags|=256,qe(e,n,s,o),n.child}var Df={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Of(e){return{baseLanes:e,cachePool:kg()}}function Mf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=vn),e}function Kp(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(fe.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?As(n):Ss(),(e=Wt)?(e=e_(e,On),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:gs!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},s=Rg(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw ys(n);return md(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ss(),h=n.mode,E=Gu({mode:"hidden",children:E},h),o=Sr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Of(s),o.childLanes=Mf(e,g,s),n.memoizedState=Df,$o(null,o)):(As(n),xf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(As(n),n.flags&=-257,n=Vf(e,n,s)):n.memoizedState!==null?(Ss(),n.child=e.child,n.flags|=128,n=null):(Ss(),E=o.fallback,h=n.mode,o=Gu({mode:"visible",children:o.children},h),E=Sr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Dr(n,e.child,null,s),o=n.child,o.memoizedState=Of(s),o.childLanes=Mf(e,g,s),n.memoizedState=Df,n=$o(null,o));else if(As(n),md(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(r(419)),o.stack="",o.digest=g,jo({value:o,source:null,stack:null}),n=Vf(e,n,s)}else if(Ae||pa(e,n,s,!1),g=(s&e.childLanes)!==0,Ae||g){if(g=$t,g!==null&&(o=vo(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,Ar(e,o),un(g,e,o),If;dd(E)||tc(),n=Vf(e,n,s)}else dd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,Wt=xn(E.nextSibling),je=n,kt=!0,ps=null,On=!1,e!==null&&Ng(n,e),n=xf(n,o.children),n.flags|=4096);return n}return h?(Ss(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=xi(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=xi(P,E):(E=Sr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,$o(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Of(s):(h=E.cachePool,h!==null?(R=Ee._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=kg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Mf(e,g,s),n.memoizedState=Df,$o(e.child,o)):(As(n),s=e.child,e=s.sibling,s=xi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function xf(e,n){return n=Gu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Gu(e,n){return e=gn(22,e,null,n),e.lanes=0,e}function Vf(e,n,s){return Dr(n,e.child,null,s),e=xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Yp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Yh(e.return,n,s)}function kf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function Xp(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=fe.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,nt(fe,g),qe(e,n,o,s),o=kt?zo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yp(e,s,n);else if(e.tag===19)Yp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&xu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),kf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&xu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}kf(n,!0,s,null,f,o);break;case"together":kf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function zi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Rs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=xi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=xi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Uf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&wu(e)))}function d1(e,n,s){switch(n.tag){case 3:Ie(n,n.stateNode.containerInfo),_s(n,Ee,e.memoizedState.cache),br();break;case 27:case 5:sr(n);break;case 4:Ie(n,n.stateNode.containerInfo);break;case 10:_s(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,of(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(As(n),n.flags|=128,null):(s&n.child.childLanes)!==0?Kp(e,n,s):(As(n),e=zi(e,n,s),e!==null?e.sibling:null);As(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(pa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return Xp(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(fe,fe.current),o)break;return null;case 22:return n.lanes=0,Bp(e,n,s,n.pendingProps);case 24:_s(n,Ee,e.memoizedState.cache)}return zi(e,n,s)}function Zp(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ae=!0;else{if(!Uf(e,s)&&(n.flags&128)===0)return Ae=!1,d1(e,n,s);Ae=(e.flags&131072)!==0}else Ae=!1,kt&&(n.flags&1048576)!==0&&Ig(n,zo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Ir(n.elementType),n.type=e,typeof e=="function")jh(e)?(o=Mr(e,o),n.tag=1,n=Gp(null,n,e,o,s)):(n.tag=0,n=Nf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ct){n.tag=11,n=Pp(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=zp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(r(306,n,""))}}return n;case 0:return Nf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Mr(o,n.pendingProps),Gp(e,n,o,h,s);case 3:t:{if(Ie(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ef(e,n),Ko(n,o,null,s);var g=n.memoizedState;if(o=g.cache,_s(n,Ee,o),o!==f.cache&&Xh(n,[Ee],s,!0),Qo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Qp(e,n,o,s);break t}else if(o!==h){h=In(Error(r(424)),n),jo(h),n=Qp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Wt=xn(e.firstChild),je=n,kt=!0,ps=null,On=!0,s=Bg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(br(),o===h){n=zi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Fu(e,n),e===null?(s=o_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=oc(St.current).createElement(s),o[ye]=n,o[Ve]=e,He(o,s,e),_e(o),n.stateNode=o):n.memoizedState=o_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return sr(n),e===null&&kt&&(o=n.stateNode=s_(n.type,n.pendingProps,St.current),je=n,On=!0,h=Wt,Os(n.type)?(gd=h,Wt=xn(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,s),Fu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=Wt)&&(o=H1(o,n.type,n.pendingProps,On),o!==null?(n.stateNode=o,je=n,Wt=xn(o.firstChild),On=!1,h=!0):h=!1),h||ys(n)),sr(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,cd(h,f)?o=null:g!==null&&cd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=uf(e,n,s1,null,null,s),dl._currentValue=h),Fu(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=Wt)&&(s=F1(s,n.pendingProps,On),s!==null?(n.stateNode=s,je=n,Wt=null,e=!0):e=!1),e||ys(n)),null;case 13:return Kp(e,n,s);case 4:return Ie(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Dr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Pp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,_s(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Rr(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return zp(e,n,n.type,n.pendingProps,s);case 15:return jp(e,n,n.type,n.pendingProps,s);case 19:return Xp(e,n,s);case 31:return f1(e,n,s);case 22:return Bp(e,n,s,n.pendingProps);case 24:return Rr(n),o=Be(Ee),e===null?(h=$h(),h===null&&(h=$t,f=Zh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},tf(n),_s(n,Ee,h)):((e.lanes&s)!==0&&(ef(e,n),Ko(n,null,null,s),Qo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),_s(n,Ee,o)):(o=f.cache,_s(n,Ee,o),o!==h.cache&&Xh(n,[Ee],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function ji(e){e.flags|=4}function Lf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Sy())e.flags|=8192;else throw Nr=Nu,Wh}else e.flags&=-16777217}function Jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!f_(n))if(Sy())e.flags|=8192;else throw Nr=Nu,Wh}function Qu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?$l():536870912,e.lanes|=n,Ia|=n)}function Wo(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function m1(e,n,s){var o=n.pendingProps;switch(Fh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ui(Ee),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(ga(n)?ji(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Qh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ji(n),f!==null?(te(n),Jp(n,f)):(te(n),Lf(n,h,null,o,s))):f?f!==e.memoizedState?(ji(n),te(n),Jp(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ji(n),te(n),Lf(n,h,e,o,s)),null;case 27:if(Kr(n),s=St.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}e=st.current,ga(n)?Dg(n):(e=s_(h,o,s),n.stateNode=e,ji(n))}return te(n),null;case 5:if(Kr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return te(n),null}if(f=st.current,ga(n))Dg(n);else{var g=oc(St.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ye]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ji(n)}}return te(n),Lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ji(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=St.current,ga(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ye]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||Ky(e.nodeValue,s)),e||ys(n,!0)}else e=oc(e).createTextNode(o),e[ye]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=ga(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ye]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(yn(n),n):(yn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=ga(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[ye]=n}else br(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Qh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(yn(n),n):(yn(n),null)}return yn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Qu(n,n.updateQueue),te(n),null);case 4:return se(),e===null&&rd(n.stateNode.containerInfo),te(n),null;case 10:return Ui(n.type),te(n),null;case 19:if(Y(fe),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)Wo(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=xu(e),f!==null){for(n.flags|=128,Wo(o,!1),e=f.updateQueue,n.updateQueue=e,Qu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)wg(s,e),s=s.sibling;return nt(fe,fe.current&1|2),kt&&Vi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>Ju&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304)}else{if(!h)if(e=xu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Qu(n,e),Wo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return te(n),null}else 2*$e()-o.renderingStartTime>Ju&&s!==536870912&&(n.flags|=128,h=!0,Wo(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=fe.current,nt(fe,h?s&1|2:s&1),kt&&Vi(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return yn(n),af(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&Qu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Cr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Ui(Ee),te(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function g1(e,n){switch(Fh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ui(Ee),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Kr(n),null;case 31:if(n.memoizedState!==null){if(yn(n),n.alternate===null)throw Error(r(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(yn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));br()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(fe),null;case 4:return se(),null;case 10:return Ui(n.type),null;case 22:case 23:return yn(n),af(),e!==null&&Y(Cr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ui(Ee),null;case 25:return null;default:return null}}function $p(e,n){switch(Fh(n),n.tag){case 3:Ui(Ee),se();break;case 26:case 27:case 5:Kr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&yn(n);break;case 13:yn(n);break;case 19:Y(fe);break;case 10:Ui(n.type);break;case 22:case 23:yn(n),af(),e!==null&&Y(Cr);break;case 24:Ui(Ee)}}function tl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function bs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(q){Kt(h,R,q)}}}o=o.next}while(o!==f)}}catch(q){Kt(n,n.return,q)}}function Wp(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Hg(n,s)}catch(o){Kt(e,e.return,o)}}}function ty(e,n,s){s.props=Mr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function el(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function _i(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function ey(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Pf(e,n,s){try{var o=e.stateNode;L1(o,e.type,s,n),o[Ve]=n}catch(h){Kt(e,e.return,h)}}function ny(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Os(e.type)||e.tag===4}function zf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ny(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Os(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(jf(e,n,s),e=e.sibling;e!==null;)jf(e,n,s),e=e.sibling}function Ku(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Os(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ku(e,n,s),e=e.sibling;e!==null;)Ku(e,n,s),e=e.sibling}function iy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ye]=e,n[Ve]=s}catch(f){Kt(e,e.return,f)}}var Bi=!1,Se=!1,Bf=!1,sy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function p1(e,n){if(e=e.containerInfo,ld=mc,e=pg(e),xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,q=0,K=e,z=null;e:for(;;){for(var B;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(R=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(B=K.firstChild)!==null;)z=K,K=B;for(;;){if(K===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++q===o&&(R=g),(B=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=B}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(ud={focusedElem:e,selectionRange:s},mc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var rt=Mr(s.type,h);e=o.getSnapshotBeforeUpdate(rt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)fd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":fd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function ry(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Hi(e,s),o&4&&tl(5,s);break;case 1:if(Hi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=Mr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&Wp(s),o&512&&el(s,s.return);break;case 3:if(Hi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Hg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&iy(s);case 26:case 5:Hi(e,s),n===null&&o&4&&ey(s),o&512&&el(s,s.return);break;case 12:Hi(e,s);break;case 31:Hi(e,s),o&4&&ly(e,s);break;case 13:Hi(e,s),o&4&&uy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=w1.bind(null,s),G1(e,s))));break;case 22:if(o=s.memoizedState!==null||Bi,!o){n=n!==null&&n.memoizedState!==null||Se,h=Bi;var f=Se;Bi=o,(Se=n)&&!f?Fi(e,s,(s.subtreeFlags&8772)!==0):Hi(e,s),Bi=h,Se=f}break;case 30:break;default:Hi(e,s)}}function ay(e){var n=e.alternate;n!==null&&(e.alternate=null,ay(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&$r(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function qi(e,n,s){for(s=s.child;s!==null;)oy(e,n,s),s=s.sibling}function oy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:Se||_i(s,n),qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Se||_i(s,n);var o=ae,h=rn;Os(s.type)&&(ae=s.stateNode,rn=!1),qi(e,n,s),cl(s.stateNode),ae=o,rn=h;break;case 5:Se||_i(s,n);case 6:if(o=ae,h=rn,ae=null,qi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,Wy(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ua(e)):Wy(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,qi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:bs(2,s,n),Se||bs(4,s,n),qi(e,n,s);break;case 1:Se||(_i(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ty(s,n,o)),qi(e,n,s);break;case 21:qi(e,n,s);break;case 22:Se=(o=Se)||s.memoizedState!==null,qi(e,n,s),Se=o;break;default:qi(e,n,s)}}function ly(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ua(e)}catch(s){Kt(n,n.return,s)}}}function uy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ua(e)}catch(s){Kt(n,n.return,s)}}function y1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new sy),n;default:throw Error(r(435,e.tag))}}function Yu(e,n){var s=y1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=R1.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Os(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(r(160));oy(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)cy(n,e),n=n.sibling}var Kn=null;function cy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(bs(3,e,e.return),tl(3,e),bs(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),o&64&&Bi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[si]||f[ye]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ye]=e,_e(f),o=f;break t;case"link":var g=c_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=c_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[ye]=e,_e(f),o=f}e.stateNode=o}else h_(h,e.type,e.stateNode);else e.stateNode=u_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?h_(h,e.type,e.stateNode):u_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Pf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),s!==null&&o&4&&Pf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(Se||s===null||_i(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(rt){Kt(e,e.return,rt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Pf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Bf=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(rt){Kt(e,e.return,rt)}}break;case 3:if(cc=null,h=Kn,Kn=lc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ua(n.containerInfo)}catch(rt){Kt(e,e.return,rt)}Bf&&(Bf=!1,hy(e));break;case 4:o=Kn,Kn=lc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Zu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=Bi,q=Se;if(Bi=P||h,Se=q||R,an(n,e),Se=q,Bi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||Bi||Se||xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var K=R.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(rt){Kt(R,R.return,rt)}}}else if(n.tag===18){if(s===null){R=n;try{var B=R.stateNode;h?t_(B,!0):t_(R.stateNode,!1)}catch(rt){Kt(R,R.return,rt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Yu(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yu(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(ny(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=zf(e);Ku(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=zf(e);Ku(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=zf(e);jf(e,P,R);break;default:throw Error(r(161))}}catch(q){Kt(e,e.return,q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Hi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ry(e,n.alternate,n),n=n.sibling}function xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:bs(4,n,n.return),xr(n);break;case 1:_i(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ty(n,n.return,s),xr(n);break;case 27:cl(n.stateNode);case 26:case 5:_i(n,n.return),xr(n);break;case 22:n.memoizedState===null&&xr(n);break;case 30:xr(n);break;default:xr(n)}e=e.sibling}}function Fi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Fi(h,f,s),tl(4,f);break;case 1:if(Fi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)qg(R[h],E)}catch(P){Kt(o,o.return,P)}}s&&g&64&&Wp(f),el(f,f.return);break;case 27:iy(f);case 26:case 5:Fi(h,f,s),s&&o===null&&g&4&&ey(f),el(f,f.return);break;case 12:Fi(h,f,s);break;case 31:Fi(h,f,s),s&&g&4&&ly(h,f);break;case 13:Fi(h,f,s),s&&g&4&&uy(h,f);break;case 22:f.memoizedState===null&&Fi(h,f,s),el(f,f.return);break;case 30:break;default:Fi(h,f,s)}n=n.sibling}}function qf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Bo(s))}function Hf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fy(e,n,s,o),n=n.sibling}function fy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),h&2048&&tl(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Bo(e)));break;case 12:if(h&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Kt(n,n.return,R)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):nl(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,wa(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&qf(g,n);break;case 24:Yn(e,n,s,o),h&2048&&Hf(n.alternate,n);break;default:Yn(e,n,s,o)}}function wa(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:wa(f,g,E,R,h),tl(8,g);break;case 23:break;case 22:var q=g.stateNode;g.memoizedState!==null?q._visibility&2?wa(f,g,E,R,h):nl(f,g):(q._visibility|=2,wa(f,g,E,R,h)),h&&P&2048&&qf(g.alternate,g);break;case 24:wa(f,g,E,R,h),h&&P&2048&&Hf(g.alternate,g);break;default:wa(f,g,E,R,h)}n=n.sibling}}function nl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:nl(s,o),h&2048&&qf(o.alternate,o);break;case 24:nl(s,o),h&2048&&Hf(o.alternate,o);break;default:nl(s,o)}n=n.sibling}}var il=8192;function Ra(e,n,s){if(e.subtreeFlags&il)for(e=e.child;e!==null;)dy(e,n,s),e=e.sibling}function dy(e,n,s){switch(e.tag){case 26:Ra(e,n,s),e.flags&il&&e.memoizedState!==null&&iA(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Ra(e,n,s);break;case 3:case 4:var o=Kn;Kn=lc(e.stateNode.containerInfo),Ra(e,n,s),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=il,il=16777216,Ra(e,n,s),il=o):Ra(e,n,s));break;default:Ra(e,n,s)}}function my(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function sl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,py(o,e)}my(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gy(e),e=e.sibling}function gy(e){switch(e.tag){case 0:case 11:case 15:sl(e),e.flags&2048&&bs(9,e,e.return);break;case 3:sl(e);break;case 12:sl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Xu(e)):sl(e);break;default:sl(e)}}function Xu(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,py(o,e)}my(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:bs(8,n,n.return),Xu(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,Xu(n));break;default:Xu(n)}e=e.sibling}}function py(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:bs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Bo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(ay(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var _1={getCacheForType:function(e){var n=Be(Ee),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ee).controller.signal}},v1=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,It=null,Dt=0,Qt=0,_n=null,ws=!1,Ca=!1,Ff=!1,Gi=0,ue=0,Rs=0,Vr=0,Gf=0,vn=0,Ia=0,rl=null,ln=null,Qf=!1,Zu=0,yy=0,Ju=1/0,$u=null,Cs=null,De=0,Is=null,Na=null,Qi=0,Kf=0,Yf=null,_y=null,al=0,Xf=null;function En(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?ed():Wl()}function vy(){if(vn===0)if((Dt&536870912)===0||kt){var e=or;or<<=1,(or&3932160)===0&&(or=262144),vn=e}else vn=536870912;return e=pn.current,e!==null&&(e.flags|=32),vn}function un(e,n,s){(e===$t&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Da(e,0),Ns(e,Dt,vn,!1)),lr(e,s),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Vr|=s),ue===4&&Ns(e,Dt,vn,!1)),vi(e))}function Ey(e,n,s){if((qt&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?A1(e,n):Jf(e,n,!0),f=o;do{if(h===0){Ca&&!o&&Ns(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!E1(s)){h=Jf(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=rl;var R=E.current.memoizedState.isDehydrated;if(R&&(Da(E,g).flags|=256),g=Jf(E,g,!1),g!==2){if(Ff&&!R){E.errorRecoveryDisabledLanes|=f,Vr|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Da(e,0),Ns(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Ns(o,n,vn,!ws);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=Zu+300-$e(),10<h)){if(Ns(o,n,vn,!ws),ei(o,0,!0)!==0)break t;Qi=n,o.timeoutHandle=Jy(Ty.bind(null,o,s,ln,$u,Qf,n,vn,Vr,Ia,ws,f,"Throttled",-0,0),h);break t}Ty(o,s,ln,$u,Qf,n,vn,Vr,Ia,ws,f,null,-0,0)}}break}while(!0);vi(e)}function Ty(e,n,s,o,h,f,g,E,R,P,q,K,z,B){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},dy(n,f,K);var rt=(f&62914560)===f?Zu-$e():(f&4194048)===f?yy-$e():0;if(rt=sA(K,rt),rt!==null){Qi=f,e.cancelPendingCommit=rt(Ny.bind(null,e,n,f,s,o,h,g,E,R,q,K,null,z,B)),Ns(e,f,g,!P);return}}Ny(e,n,f,s,o,h,g,E,R)}function E1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!mn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ns(e,n,s,o){n&=~Gf,n&=~Vr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-ce(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&ur(e,s,n)}function Wu(){return(qt&6)===0?(ol(0),!1):!0}function Zf(){if(It!==null){if(Qt===0)var e=It.return;else e=It,ki=wr=null,ff(e),Ea=null,Ho=0,e=It;for(;e!==null;)$p(e.alternate,e),e=e.return;It=null}}function Da(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,j1(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Qi=0,Zf(),$t=e,It=s=xi(e.current,null),Dt=n,Qt=0,_n=null,ws=!1,Ca=Pn(e,n),Ff=!1,Ia=vn=Gf=Vr=Rs=ue=0,ln=rl=null,Qf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-ce(o),f=1<<h;n|=e[h],o&=~f}return Gi=n,Eu(),s}function Ay(e,n){At=null,G.H=Jo,n===va||n===Iu?(n=Pg(),Qt=3):n===Wh?(n=Pg(),Qt=4):Qt=n===If?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,_n=n,It===null&&(ue=1,qu(e,In(n,e.current)))}function Sy(){var e=pn.current;return e===null?!0:(Dt&4194048)===Dt?Mn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Mn:!1}function by(){var e=G.H;return G.H=Jo,e===null?Jo:e}function wy(){var e=G.A;return G.A=_1,e}function tc(){ue=4,ws||(Dt&4194048)!==Dt&&pn.current!==null||(Ca=!0),(Rs&134217727)===0&&(Vr&134217727)===0||$t===null||Ns($t,Dt,vn,!1)}function Jf(e,n,s){var o=qt;qt|=2;var h=by(),f=wy();($t!==e||Dt!==n)&&($u=null,Da(e,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&It!==null){var E=It,R=_n;switch(Qt){case 8:Zf(),g=6;break t;case 3:case 2:case 9:case 6:pn.current===null&&(n=!0);var P=Qt;if(Qt=0,_n=null,Oa(e,E,R,P),s&&Ca){g=0;break t}break;default:P=Qt,Qt=0,_n=null,Oa(e,E,R,P)}}T1(),g=ue;break}catch(q){Ay(e,q)}while(!0);return n&&e.shellSuspendCounter++,ki=wr=null,qt=o,G.H=h,G.A=f,It===null&&($t=null,Dt=0,Eu()),g}function T1(){for(;It!==null;)Ry(It)}function A1(e,n){var s=qt;qt|=2;var o=by(),h=wy();$t!==e||Dt!==n?($u=null,Ju=$e()+500,Da(e,n)):Ca=Pn(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=_n;e:switch(Qt){case 1:Qt=0,_n=null,Oa(e,n,f,1);break;case 2:case 9:if(Ug(f)){Qt=0,_n=null,Cy(n);break}n=function(){Qt!==2&&Qt!==9||$t!==e||(Qt=7),vi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Ug(f)?(Qt=0,_n=null,Cy(n)):(Qt=0,_n=null,Oa(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?f_(g):E.stateNode.complete){Qt=0,_n=null;var R=E.sibling;if(R!==null)It=R;else{var P=E.return;P!==null?(It=P,ec(P)):It=null}break e}}Qt=0,_n=null,Oa(e,n,f,5);break;case 6:Qt=0,_n=null,Oa(e,n,f,6);break;case 8:Zf(),ue=6;break t;default:throw Error(r(462))}}S1();break}catch(q){Ay(e,q)}while(!0);return ki=wr=null,G.H=o,G.A=h,qt=s,It!==null?0:($t=null,Dt=0,Eu(),ue)}function S1(){for(;It!==null&&!Rh();)Ry(It)}function Ry(e){var n=Zp(e.alternate,e,Gi);e.memoizedProps=e.pendingProps,n===null?ec(e):It=n}function Cy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Fp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Fp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:ff(n);default:$p(s,n),n=It=wg(n,Gi),n=Zp(s,n,Gi)}e.memoizedProps=e.pendingProps,n===null?ec(e):It=n}function Oa(e,n,s,o){ki=wr=null,ff(n),Ea=null,Ho=0;var h=n.return;try{if(h1(e,h,n,s,Dt)){ue=1,qu(e,In(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ue=1,qu(e,In(s,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Ca||(Dt&536870912)!==0?e=!1:(ws=e=!0,(o===2||o===9||o===3||o===6)&&(o=pn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Iy(n,e)):ec(n)}function ec(e){var n=e;do{if((n.flags&32768)!==0){Iy(n,ws);return}e=n.return;var s=m1(n.alternate,n,Gi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function Iy(e,n){do{var s=g1(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ue=6,It=null}function Ny(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do nc();while(De!==0);if((qt&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Ph,Nh(e,s,f,g,E,R),e===$t&&(It=$t=null,Dt=0),Na=n,Is=e,Qi=s,Kf=f,Yf=h,_y=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,C1(rs,function(){return Vy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=et.p,et.p=2,g=qt,qt|=4;try{p1(e,n,s)}finally{qt=g,et.p=h,G.T=o}}De=1,Dy(),Oy(),My()}}function Dy(){if(De===1){De=0;var e=Is,n=Na,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{cy(n,e);var f=ud,g=pg(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&gg(E.ownerDocument.documentElement,E)){if(R!==null&&xh(E)){var P=R.start,q=R.end;if(q===void 0&&(q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(q,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var B=z.getSelection(),rt=E.textContent.length,mt=Math.min(R.start,rt),Jt=R.end===void 0?mt:Math.min(R.end,rt);!B.extend&&mt>Jt&&(g=Jt,Jt=mt,mt=g);var V=mg(E,mt),N=mg(E,Jt);if(V&&N&&(B.rangeCount!==1||B.anchorNode!==V.node||B.anchorOffset!==V.offset||B.focusNode!==N.node||B.focusOffset!==N.offset)){var L=K.createRange();L.setStart(V.node,V.offset),B.removeAllRanges(),mt>Jt?(B.addRange(L),B.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),B.addRange(L))}}}}for(K=[],B=E;B=B.parentNode;)B.nodeType===1&&K.push({element:B,left:B.scrollLeft,top:B.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}mc=!!ld,ud=ld=null}finally{qt=h,et.p=o,G.T=s}}e.current=n,De=2}}function Oy(){if(De===2){De=0;var e=Is,n=Na,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=et.p;et.p=2;var h=qt;qt|=4;try{ry(e,n.alternate,n)}finally{qt=h,et.p=o,G.T=s}}De=3}}function My(){if(De===4||De===3){De=0,Ql();var e=Is,n=Na,s=Qi,o=_y;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?De=5:(De=0,Na=Is=null,xy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Cs=null),Ni(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=et.p,et.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,et.p=h}}(Qi&3)!==0&&nc(),vi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===Xf?al++:(al=0,Xf=e):al=0,ol(0)}}function xy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Bo(n)))}function nc(){return Dy(),Oy(),My(),Vy()}function Vy(){if(De!==5)return!1;var e=Is,n=Kf;Kf=0;var s=Ni(Qi),o=G.T,h=et.p;try{et.p=32>s?32:s,G.T=null,s=Yf,Yf=null;var f=Is,g=Qi;if(De=0,Na=Is=null,Qi=0,(qt&6)!==0)throw Error(r(331));var E=qt;if(qt|=4,gy(f.current),fy(f,f.current,g,s),qt=E,ol(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{et.p=h,G.T=o,xy(e,n)}}function ky(e,n,s){n=In(s,n),n=Cf(e.stateNode,n,2),e=Ts(e,n,2),e!==null&&(lr(e,2),vi(e))}function Kt(e,n,s){if(e.tag===3)ky(e,e,s);else for(;n!==null;){if(n.tag===3){ky(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Cs===null||!Cs.has(o))){e=In(s,e),s=Up(2),o=Ts(n,s,2),o!==null&&(Lp(s,o,n,e),lr(o,2),vi(o));break}}n=n.return}}function $f(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new v1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Ff=!0,h.add(s),e=b1.bind(null,e,n,s),n.then(e,e))}function b1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Dt&s)===s&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>$e()-Zu?(qt&2)===0&&Da(e,0):Gf|=s,Ia===Dt&&(Ia=0)),vi(e)}function Uy(e,n){n===0&&(n=$l()),e=Ar(e,n),e!==null&&(lr(e,n),vi(e))}function w1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Uy(e,s)}function R1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Uy(e,s)}function C1(e,n){return Ne(e,n)}var ic=null,Ma=null,Wf=!1,sc=!1,td=!1,Ds=0;function vi(e){e!==Ma&&e.next===null&&(Ma===null?ic=Ma=e:Ma=Ma.next=e),sc=!0,Wf||(Wf=!0,N1())}function ol(e,n){if(!td&&sc){td=!0;do for(var s=!1,o=ic;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-ce(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,jy(o,f))}else f=Dt,f=ei(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(s=!0,jy(o,f));o=o.next}while(s);td=!1}}function I1(){Ly()}function Ly(){sc=Wf=!1;var e=0;Ds!==0&&z1()&&(e=Ds);for(var n=$e(),s=null,o=ic;o!==null;){var h=o.next,f=Py(o,n);f===0?(o.next=null,s===null?ic=h:s.next=h,h===null&&(Ma=s)):(s=o,(e!==0||(f&3)!==0)&&(sc=!0)),o=h}De!==0&&De!==5||ol(e),Ds!==0&&(Ds=0)}function Py(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-ce(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Ih(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=Dt,s=ei(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ss(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ss(o),Ni(s)){case 2:case 8:s=yo;break;case 32:s=rs;break;case 268435456:s=Kl;break;default:s=rs}return o=zy.bind(null,e),s=Ne(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ss(o),e.callbackPriority=2,e.callbackNode=null,2}function zy(e,n){if(De!==0&&De!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(nc()&&e.callbackNode!==s)return null;var o=Dt;return o=ei(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Ey(e,o,n),Py(e,$e()),e.callbackNode!=null&&e.callbackNode===s?zy.bind(null,e):null)}function jy(e,n){if(nc())return null;Ey(e,n,!0)}function N1(){B1(function(){(qt&6)!==0?Ne(po,I1):Ly()})}function ed(){if(Ds===0){var e=ya;e===0&&(e=Wn,Wn<<=1,(Wn&261888)===0&&(Wn=256)),Ds=e}return Ds}function By(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:na(""+e)}function qy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function D1(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=By((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?By(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new fi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ds!==0){var R=g?qy(h,g):new FormData(h);Tf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?qy(h,g):new FormData(h),Tf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var nd=0;nd<Lh.length;nd++){var id=Lh[nd],O1=id.toLowerCase(),M1=id[0].toUpperCase()+id.slice(1);Qn(O1,"on"+M1)}Qn(vg,"onAnimationEnd"),Qn(Eg,"onAnimationIteration"),Qn(Tg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(YT,"onTransitionRun"),Qn(XT,"onTransitionStart"),Qn(ZT,"onTransitionCancel"),Qn(Ag,"onTransitionEnd"),li("onMouseEnter",["mouseout","mouseover"]),li("onMouseLeave",["mouseout","mouseover"]),li("onPointerEnter",["pointerout","pointerover"]),li("onPointerLeave",["pointerout","pointerover"]),oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),x1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Hy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){vu(q)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(q){vu(q)}h.currentTarget=null,f=R}}}}function Nt(e,n){var s=n[Jr];s===void 0&&(s=n[Jr]=new Set);var o=e+"__bubble";s.has(o)||(Fy(n,e,2,!1),s.add(o))}function sd(e,n,s){var o=0;n&&(o|=4),Fy(s,e,o,n)}var rc="_reactListening"+Math.random().toString(36).slice(2);function rd(e){if(!e[rc]){e[rc]=!0,Eo.forEach(function(s){s!=="selectionchange"&&(x1.has(s)||sd(s,!1,e),sd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[rc]||(n[rc]=!0,sd("selectionchange",!1,n))}}function Fy(e,n,s,o){switch(v_(n)){case 2:var h=oA;break;case 8:h=lA;break;default:h=Ed}s=h.bind(null,n,s,e),h=void 0,!mr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ad(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ri(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}hs(function(){var P=f,q=bn(s),K=[];t:{var z=Sg.get(e);if(z!==void 0){var B=fi,rt=e;switch(e){case"keypress":if(pr(s)===0)break t;case"keydown":case"keyup":B=pu;break;case"focusin":rt="focus",B=_r;break;case"focusout":rt="blur",B=_r;break;case"beforeblur":case"afterblur":B=_r;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":B=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":B=ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":B=m;break;case vg:case Eg:case Tg:B=uu;break;case Ag:B=T;break;case"scroll":case"scrollend":B=Mo;break;case"wheel":B=j;break;case"copy":case"cut":case"paste":B=cu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":B=Mi;break;case"toggle":case"beforetoggle":B=Tt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),V=mt?z!==null?z+"Capture":null:z;mt=[];for(var N=P,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=qn(N,V),Q!=null&&mt.push(ul(N,Q,L))),Jt)break;N=N.return}0<mt.length&&(z=new B(z,rt,null,s,q),K.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",B=e==="mouseout"||e==="pointerout",z&&s!==No&&(rt=s.relatedTarget||s.fromElement)&&(ri(rt)||rt[ii]))break t;if((B||z)&&(z=q.window===q?q:(z=q.ownerDocument)?z.defaultView||z.parentWindow:window,B?(rt=s.relatedTarget||s.toElement,B=P,rt=rt?ri(rt):null,rt!==null&&(Jt=c(rt),mt=rt.tag,rt!==Jt||mt!==5&&mt!==27&&mt!==6)&&(rt=null)):(B=null,rt=P),B!==rt)){if(mt=xo,Q="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Mi,Q="onPointerLeave",V="onPointerEnter",N="pointer"),Jt=B==null?z:fn(B),L=rt==null?z:fn(rt),z=new mt(Q,N+"leave",B,s,q),z.target=Jt,z.relatedTarget=L,Q=null,ri(q)===P&&(mt=new mt(V,N+"enter",rt,s,q),mt.target=L,mt.relatedTarget=Jt,Q=mt),Jt=Q,B&&rt)e:{for(mt=V1,V=B,N=rt,L=0,Q=V;Q;Q=mt(Q))L++;Q=0;for(var ht=N;ht;ht=mt(ht))Q++;for(;0<L-Q;)V=mt(V),L--;for(;0<Q-L;)N=mt(N),Q--;for(;L--;){if(V===N||N!==null&&V===N.alternate){mt=V;break e}V=mt(V),N=mt(N)}mt=null}else mt=null;B!==null&&Gy(K,z,B,mt,!1),rt!==null&&Jt!==null&&Gy(K,Jt,rt,mt,!0)}}t:{if(z=P?fn(P):window,B=z.nodeName&&z.nodeName.toLowerCase(),B==="select"||B==="input"&&z.type==="file")var zt=lg;else if(ag(z))if(ug)zt=GT;else{zt=HT;var ot=qT}else B=z.nodeName,!B||B.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ea(P.elementType)&&(zt=lg):zt=FT;if(zt&&(zt=zt(e,P))){og(K,zt,s,q);break t}ot&&ot(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Ro(z,"number",z.value)}switch(ot=P?fn(P):window,e){case"focusin":(ag(ot)||ot.contentEditable==="true")&&(ua=ot,Vh=P,Po=null);break;case"focusout":Po=Vh=ua=null;break;case"mousedown":kh=!0;break;case"contextmenu":case"mouseup":case"dragend":kh=!1,yg(K,s,q);break;case"selectionchange":if(KT)break;case"keydown":case"keyup":yg(K,s,q)}var bt;if(Bt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else la?vr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(gi&&s.locale!=="ko"&&(la||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&la&&(bt=Oo()):(hi=q,Do="value"in hi?hi.value:hi.textContent,la=!0)),ot=ac(P,Ot),0<ot.length&&(Ot=new mi(Ot,e,null,s,q),K.push({event:Ot,listeners:ot}),bt?Ot.data=bt:(bt=oa(s),bt!==null&&(Ot.data=bt)))),(bt=Rn?PT(e,s):zT(e,s))&&(Ot=ac(P,"onBeforeInput"),0<Ot.length&&(ot=new mi("onBeforeInput","beforeinput",null,s,q),K.push({event:ot,listeners:Ot}),ot.data=bt)),D1(K,e,P,s,q)}Hy(K,n)})}function ul(e,n,s){return{instance:e,listener:n,currentTarget:s}}function ac(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,s),h!=null&&o.unshift(ul(e,h,f)),h=qn(e,n),h!=null&&o.push(ul(e,h,f))),e.tag===3)return o;e=e.return}return[]}function V1(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Gy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=qn(s,f),P!=null&&g.unshift(ul(s,P,R))):h||(P=qn(s,f),P!=null&&g.push(ul(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var k1=/\r\n?/g,U1=/\u0000|\uFFFD/g;function Qy(e){return(typeof e=="string"?e:""+e).replace(k1,`
`).replace(U1,"")}function Ky(e,n){return n=Qy(n),Qy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":dn(e,"class",o);break;case"tabIndex":dn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":dn(e,s,o);break;case"style":Io(e,o,f);break;case"data":if(n!=="object"){dn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=na(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=na(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),Wr(e,"popover",o);break;case"xlinkActuate":ve(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":ve(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":ve(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":ve(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":ve(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":ve(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":ve(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":ve(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":ve(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":Wr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=au.get(s)||s,Wr(e,s,o))}}function od(e,n,s,o,h,f){switch(s){case"style":Io(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!To.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):Wr(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var q=s[o];if(q!=null)switch(o){case"name":h=q;break;case"type":g=q;break;case"checked":R=q;break;case"defaultChecked":P=q;break;case"value":f=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:Zt(e,n,o,q,s,null)}}iu(e,f,E,R,P,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?os(e,!!o,n,!1):s!=null&&os(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,n,g,E,s,null)}ls(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,R,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<ll.length;o++)Nt(ll[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,P,o,s,null)}return;default:if(ea(n)){for(q in s)s.hasOwnProperty(q)&&(o=s[q],o!==void 0&&od(e,n,q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function L1(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,q=null;for(B in s){var K=s[B];if(s.hasOwnProperty(B)&&K!=null)switch(B){case"checked":break;case"value":break;case"defaultValue":R=K;default:o.hasOwnProperty(B)||Zt(e,n,B,null,o,K)}}for(var z in o){var B=o[z];if(K=s[z],o.hasOwnProperty(z)&&(B!=null||K!=null))switch(z){case"type":f=B;break;case"name":h=B;break;case"checked":P=B;break;case"defaultChecked":q=B;break;case"value":g=B;break;case"defaultValue":E=B;break;case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(r(137,n));break;default:B!==K&&Zt(e,n,z,B,o,K)}}ta(e,g,E,R,P,q,f,h);return;case"select":B=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":B=R;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&Zt(e,n,h,f,o,R)}n=E,s=g,o=B,z!=null?os(e,!!s,z,!1):!!o!=!!s&&(n!=null?os(e,!!s,n,!0):os(e,!!s,s?[]:"",!1));return;case"textarea":B=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":B=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}su(e,z,B);return;case"option":for(var rt in s)z=s[rt],s.hasOwnProperty(rt)&&z!=null&&!o.hasOwnProperty(rt)&&(rt==="selected"?e.selected=!1:Zt(e,n,rt,null,o,z));for(R in o)z=o[R],B=s[R],o.hasOwnProperty(R)&&z!==B&&(z!=null||B!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,R,z,o,B));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,z);for(P in o)if(z=o[P],B=s[P],o.hasOwnProperty(P)&&z!==B&&(z!=null||B!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Zt(e,n,P,z,o,B)}return;default:if(ea(n)){for(var Jt in s)z=s[Jt],s.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&od(e,n,Jt,void 0,o,z);for(q in o)z=o[q],B=s[q],!o.hasOwnProperty(q)||z===B||z===void 0&&B===void 0||od(e,n,q,z,o,B);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,z);for(K in o)z=o[K],B=s[K],!o.hasOwnProperty(K)||z===B||z==null&&B==null||Zt(e,n,K,z,o,B)}function Yy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function P1(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Yy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var q=R.transferSize,K=R.initiatorType;q&&Yy(K)&&(R=R.responseEnd,g+=q*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var ld=null,ud=null;function oc(e){return e.nodeType===9?e:e.ownerDocument}function Xy(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zy(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var hd=null;function z1(){var e=window.event;return e&&e.type==="popstate"?e===hd?!1:(hd=e,!0):(hd=null,!1)}var Jy=typeof setTimeout=="function"?setTimeout:void 0,j1=typeof clearTimeout=="function"?clearTimeout:void 0,$y=typeof Promise=="function"?Promise:void 0,B1=typeof queueMicrotask=="function"?queueMicrotask:typeof $y<"u"?function(e){return $y.resolve(null).then(e).catch(q1)}:Jy;function q1(e){setTimeout(function(){throw e})}function Os(e){return e==="head"}function Wy(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ua(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")cl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,cl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[si]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&cl(e.ownerDocument.body);s=h}while(s);Ua(n)}function t_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function fd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":fd(s),$r(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function H1(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[si])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=xn(e.nextSibling),e===null)break}return null}function F1(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=xn(e.nextSibling),e===null))return null;return e}function e_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=xn(e.nextSibling),e===null))return null;return e}function dd(e){return e.data==="$?"||e.data==="$~"}function md(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function G1(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function xn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var gd=null;function n_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return xn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function i_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function s_(e,n,s){switch(n=oc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function cl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);$r(e)}var Vn=new Map,r_=new Set;function lc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ki=et.d;et.d={f:Q1,r:K1,D:Y1,C:X1,L:Z1,m:J1,X:W1,S:$1,M:tA};function Q1(){var e=Ki.f(),n=Wu();return e||n}function K1(e){var n=Sn(e);n!==null&&n.tag===5&&n.type==="form"?Ap(n):Ki.r(e)}var xa=typeof document>"u"?null:document;function a_(e,n,s){var o=xa;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),r_.has(h)||(r_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function Y1(e){Ki.D(e),a_("dns-prefetch",e,null)}function X1(e,n){Ki.C(e,n),a_("preconnect",e,n)}function Z1(e,n,s){Ki.L(e,n,s);var o=xa;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=Va(e);break;case"script":f=ka(e)}Vn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Vn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(hl(f))||n==="script"&&o.querySelector(fl(f))||(n=o.createElement("link"),He(n,"link",e),_e(n),o.head.appendChild(n)))}}function J1(e,n){Ki.m(e,n);var s=xa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ka(e)}if(!Vn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Vn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(fl(f)))return}o=s.createElement("link"),He(o,"link",e),_e(o),s.head.appendChild(o)}}}function $1(e,n,s){Ki.S(e,n,s);var o=xa;if(o&&e){var h=ai(o).hoistableStyles,f=Va(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(hl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Vn.get(f))&&pd(e,s);var R=g=o.createElement("link");_e(R),He(R,"link",e),R._p=new Promise(function(P,q){R.onload=P,R.onerror=q}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,uc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function W1(e,n){Ki.X(e,n);var s=xa;if(s&&e){var o=ai(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(fl(h)),f||(e=S({src:e,async:!0},n),(n=Vn.get(h))&&yd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function tA(e,n){Ki.M(e,n);var s=xa;if(s&&e){var o=ai(s).hoistableScripts,h=ka(e),f=o.get(h);f||(f=s.querySelector(fl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Vn.get(h))&&yd(e,n),f=s.createElement("script"),_e(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function o_(e,n,s,o){var h=(h=St.current)?lc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Va(s.href),s=ai(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Va(s.href);var f=ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(hl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Vn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Vn.set(e,s),f||eA(h,e,s,g.state))),n&&o===null)throw Error(r(528,""));return g}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ka(s),s=ai(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Va(e){return'href="'+nn(e)+'"'}function hl(e){return'link[rel="stylesheet"]['+e+"]"}function l_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function eA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),_e(n),e.head.appendChild(n))}function ka(e){return'[src="'+nn(e)+'"]'}function fl(e){return"script[async]"+e}function u_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,_e(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),_e(o),He(o,"style",h),uc(o,s.precedence,e),n.instance=o;case"stylesheet":h=Va(s.href);var f=e.querySelector(hl(h));if(f)return n.state.loading|=4,n.instance=f,_e(f),f;o=l_(s),(h=Vn.get(h))&&pd(o,h),f=(e.ownerDocument||e).createElement("link"),_e(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),n.state.loading|=4,uc(f,s.precedence,e),n.instance=f;case"script":return f=ka(s.src),(h=e.querySelector(fl(f)))?(n.instance=h,_e(h),h):(o=s,(h=Vn.get(f))&&(o=S({},s),yd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),_e(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,uc(o,s.precedence,e));return n.instance}function uc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function pd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function yd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var cc=null;function c_(e,n,s){if(cc===null){var o=new Map,h=cc=new Map;h.set(s,o)}else h=cc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[si]||f[ye]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function h_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function nA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function f_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function iA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Va(o.href),f=n.querySelector(hl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=hc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,_e(f);return}f=n.ownerDocument||n,o=l_(o),(h=Vn.get(h))&&pd(o,h),f=f.createElement("link"),_e(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=hc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var _d=0;function sA(e,n){return e.stylesheets&&e.count===0&&dc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&_d===0&&(_d=62500*P1());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&dc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>_d?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function hc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var fc=null;function dc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,fc=new Map,n.forEach(rA,e),fc=null,hc.call(e))}function rA(e,n){if(!(n.state.loading&4)){var s=fc.get(e);if(s)var o=s.get(null);else{s=new Map,fc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=hc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var dl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function aA(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function d_(e,n,s,o,h,f,g,E,R,P,q,K){return e=new aA(e,n,s,g,R,P,q,K,E),n=1,f===!0&&(n|=24),f=gn(3,null,null,n),e.current=f,f.stateNode=e,n=Zh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},tf(f),e}function m_(e){return e?(e=fa,e):fa}function g_(e,n,s,o,h,f){h=m_(h),o.context===null?o.context=h:o.pendingContext=h,o=Es(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ts(e,o,n),s!==null&&(un(s,e,n),Go(s,e,n))}function p_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function vd(e,n){p_(e,n),(e=e.alternate)&&p_(e,n)}function y_(e){if(e.tag===13||e.tag===31){var n=Ar(e,67108864);n!==null&&un(n,e,67108864),vd(e,67108864)}}function __(e){if(e.tag===13||e.tag===31){var n=En();n=cr(n);var s=Ar(e,n);s!==null&&un(s,e,n),vd(e,n)}}var mc=!0;function oA(e,n,s,o){var h=G.T;G.T=null;var f=et.p;try{et.p=2,Ed(e,n,s,o)}finally{et.p=f,G.T=h}}function lA(e,n,s,o){var h=G.T;G.T=null;var f=et.p;try{et.p=8,Ed(e,n,s,o)}finally{et.p=f,G.T=h}}function Ed(e,n,s,o){if(mc){var h=Td(o);if(h===null)ad(e,n,o,gc,s),E_(e,o);else if(cA(h,e,n,s,o))o.stopPropagation();else if(E_(e,o),n&4&&-1<uA.indexOf(e)){for(;h!==null;){var f=Sn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ti(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-ce(g);E.entanglements[1]|=R,g&=~R}vi(f),(qt&6)===0&&(Ju=$e()+500,ol(0))}}break;case 31:case 13:E=Ar(f,2),E!==null&&un(E,f,2),Wu(),vd(f,2)}if(f=Td(o),f===null&&ad(e,n,o,gc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ad(e,n,o,null,s)}}function Td(e){return e=bn(e),Ad(e)}var gc=null;function Ad(e){if(gc=null,e=ri(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return gc=e,null}function v_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ar()){case po:return 2;case yo:return 8;case rs:case Ch:return 32;case Kl:return 268435456;default:return 32}default:return 32}}var Sd=!1,Ms=null,xs=null,Vs=null,ml=new Map,gl=new Map,ks=[],uA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function E_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":xs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":ml.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":gl.delete(n.pointerId)}}function pl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Sn(n),n!==null&&y_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function cA(e,n,s,o,h){switch(n){case"focusin":return Ms=pl(Ms,e,n,s,o,h),!0;case"dragenter":return xs=pl(xs,e,n,s,o,h),!0;case"mouseover":return Vs=pl(Vs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return ml.set(f,pl(ml.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,gl.set(f,pl(gl.get(f)||null,e,n,s,o,h)),!0}return!1}function T_(e){var n=ri(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){__(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,zn(e.priority,function(){__(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function pc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Td(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);No=o,s.target.dispatchEvent(o),No=null}else return n=Sn(s),n!==null&&y_(n),e.blockedOn=s,!1;n.shift()}return!0}function A_(e,n,s){pc(e)&&s.delete(n)}function hA(){Sd=!1,Ms!==null&&pc(Ms)&&(Ms=null),xs!==null&&pc(xs)&&(xs=null),Vs!==null&&pc(Vs)&&(Vs=null),ml.forEach(A_),gl.forEach(A_)}function yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Sd||(Sd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,hA)))}var _c=null;function S_(e){_c!==e&&(_c=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){_c===e&&(_c=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ad(o||s)===null)continue;break}var f=Sn(s);f!==null&&(e.splice(n,3),n-=3,Tf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ua(e){function n(R){return yc(R,e)}Ms!==null&&yc(Ms,e),xs!==null&&yc(xs,e),Vs!==null&&yc(Vs,e),ml.forEach(n),gl.forEach(n);for(var s=0;s<ks.length;s++){var o=ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<ks.length&&(s=ks[0],s.blockedOn===null);)T_(s),s.blockedOn===null&&ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||S_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(Ad(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),S_(s)}}}function b_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function bd(e){this._internalRoot=e}vc.prototype.render=bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=En();g_(s,o,e,n,null,null)},vc.prototype.unmount=bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;g_(e.current,2,null,e,null,null),Wu(),n[ii]=null}};function vc(e){this._internalRoot=e}vc.prototype.unstable_scheduleHydration=function(e){if(e){var n=Wl();e={blockedOn:null,target:e,priority:n};for(var s=0;s<ks.length&&n!==0&&n<ks[s].priority;s++);ks.splice(s,0,e),s===0&&T_(e)}};var w_=t.version;if(w_!=="19.2.3")throw Error(r(527,w_,"19.2.3"));et.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var fA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ec=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ec.isDisabled&&Ec.supportsFiber)try{Ln=Ec.inject(fA),Pe=Ec}catch{}}return _l.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Mp,f=xp,g=Vp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=d_(e,1,!1,null,null,s,o,null,h,f,g,b_),e[ii]=n.current,rd(e),new bd(n)},_l.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Mp,g=xp,E=Vp,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=d_(e,1,!0,n,s??null,o,h,R,f,g,E,b_),n.context=m_(null),s=n.current,o=En(),o=cr(o),h=Es(o),h.callback=null,Ts(s,h,o),s=o,n.current.lanes=s,lr(n,s),vi(n),e[ii]=n.current,rd(e),new vc(n)},_l.version="19.2.3",_l}var k_;function AA(){if(k_)return Cd.exports;k_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Cd.exports=TA(),Cd.exports}var SA=AA();const bA=()=>{};var U_={};const dE=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},wA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],p=a[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[r++]=String.fromCharCode(55296+(_>>10)),t[r++]=String.fromCharCode(56320+(_&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},mE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,p=d?a[l+1]:0,_=l+2<a.length,y=_?a[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),r.push(i[A],i[S],i[M],i[F])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(dE(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):wA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],p=l<a.length?i[a.charAt(l)]:0;++l;const y=l<a.length?i[a.charAt(l)]:64;++l;const S=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new RA;const M=c<<2|p>>4;if(r.push(M),y!==64){const F=p<<4&240|y>>2;if(r.push(F),S!==64){const Z=y<<6&192|S;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class RA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const CA=function(a){const t=dE(a);return mE.encodeByteArray(t,!0)},zc=function(a){return CA(a).replace(/\./g,"")},gE=function(a){try{return mE.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function IA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const NA=()=>IA().__FIREBASE_DEFAULTS__,DA=()=>{if(typeof process>"u"||typeof U_>"u")return;const a=U_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},OA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&gE(a[1]);return t&&JSON.parse(t)},sh=()=>{try{return bA()||NA()||DA()||OA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},pE=a=>sh()?.emulatorHosts?.[a],MA=a=>{const t=pE(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},yE=()=>sh()?.config,_E=a=>sh()?.[`_${a}`];class xA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function io(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function vE(a){return(await fetch(a,{credentials:"include"})).ok}function VA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[zc(JSON.stringify(i)),zc(JSON.stringify(d)),""].join(".")}const Sl={};function kA(){const a={prod:[],emulator:[]};for(const t of Object.keys(Sl))Sl[t]?a.emulator.push(t):a.prod.push(t);return a}function UA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let L_=!1;function EE(a,t){if(typeof window>"u"||typeof document>"u"||!io(window.location.host)||Sl[a]===t||Sl[a]||L_)return;Sl[a]=t;function i(M){return`__firebase__banner__${M}`}const r="__firebase__banner",c=kA().prod.length>0;function d(){const M=document.getElementById(r);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{L_=!0,d()},M}function A(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=UA(r),F=i("text"),Z=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),at=i("preprendIcon"),ut=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ct=M.element;p(ct),A($,tt);const Ct=y();_(ut,at),ct.append(ut,Z,$,Ct),document.body.appendChild(ct)}c?(Z.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function PA(){const a=sh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function zA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function jA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function BA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qA(){const a=Je();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function HA(){return!PA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function FA(){try{return typeof indexedDB=="object"}catch{return!1}}function GA(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const QA="FirebaseError";class is extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=QA,Object.setPrototypeOf(this,is.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ul.prototype.create)}}class Ul{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?KA(c,r):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new is(l,p,r)}}function KA(a,t){return a.replace(YA,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const YA=/\{\$([^}]+)}/g;function XA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function Ji(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(P_(c)&&P_(d)){if(!Ji(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function P_(a){return a!==null&&typeof a=="object"}function Ll(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function ZA(a,t){const i=new JA(a,t);return i.subscribe.bind(i)}class JA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");$A(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Od),l.error===void 0&&(l.error=Od),l.complete===void 0&&(l.complete=Od);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $A(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Od(){}function en(a){return a&&a._delegate?a._delegate:a}class Br{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ur="[DEFAULT]";class WA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new xA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(eS(t))try{this.getOrInitializeService({instanceIdentifier:Ur})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=Ur){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ur){return this.instances.has(t)}getOptions(t=Ur){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);r===p&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:tS(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=Ur){return this.component?this.component.multipleInstances?t:Ur:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function tS(a){return a===Ur?void 0:a}function eS(a){return a.instantiationMode==="EAGER"}class nS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new WA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Mt||(Mt={}));const iS={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},sS=Mt.INFO,rS={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},aS=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=rS[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class pm{constructor(t){this.name=t,this._logLevel=sS,this._logHandler=aS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?iS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const oS=(a,t)=>t.some(i=>a instanceof i);let z_,j_;function lS(){return z_||(z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function uS(){return j_||(j_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const TE=new WeakMap,Hd=new WeakMap,AE=new WeakMap,Md=new WeakMap,ym=new WeakMap;function cS(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Hs(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&TE.set(i,a)}).catch(()=>{}),ym.set(t,a),t}function hS(a){if(Hd.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});Hd.set(a,t)}let Fd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return Hd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||AE.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Hs(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function fS(a){Fd=a(Fd)}function dS(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(xd(this),t,...i);return AE.set(r,t.sort?t.sort():[t]),Hs(r)}:uS().includes(a)?function(...t){return a.apply(xd(this),t),Hs(TE.get(this))}:function(...t){return Hs(a.apply(xd(this),t))}}function mS(a){return typeof a=="function"?dS(a):(a instanceof IDBTransaction&&hS(a),oS(a,lS())?new Proxy(a,Fd):a)}function Hs(a){if(a instanceof IDBRequest)return cS(a);if(Md.has(a))return Md.get(a);const t=mS(a);return t!==a&&(Md.set(a,t),ym.set(t,a)),t}const xd=a=>ym.get(a);function gS(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),p=Hs(d);return r&&d.addEventListener("upgradeneeded",_=>{r(Hs(d.result),_.oldVersion,_.newVersion,Hs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const pS=["get","getKey","getAll","getAllKeys","count"],yS=["put","add","delete","clear"],Vd=new Map;function B_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Vd.get(t))return Vd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=yS.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||pS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return r&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Vd.set(t,c),c}fS(a=>({...a,get:(t,i,r)=>B_(t,i)||a.get(t,i,r),has:(t,i)=>!!B_(t,i)||a.has(t,i)}));class _S{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(vS(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function vS(a){return a.getComponent()?.type==="VERSION"}const Gd="@firebase/app",q_="0.14.6";const $i=new pm("@firebase/app"),ES="@firebase/app-compat",TS="@firebase/analytics-compat",AS="@firebase/analytics",SS="@firebase/app-check-compat",bS="@firebase/app-check",wS="@firebase/auth",RS="@firebase/auth-compat",CS="@firebase/database",IS="@firebase/data-connect",NS="@firebase/database-compat",DS="@firebase/functions",OS="@firebase/functions-compat",MS="@firebase/installations",xS="@firebase/installations-compat",VS="@firebase/messaging",kS="@firebase/messaging-compat",US="@firebase/performance",LS="@firebase/performance-compat",PS="@firebase/remote-config",zS="@firebase/remote-config-compat",jS="@firebase/storage",BS="@firebase/storage-compat",qS="@firebase/firestore",HS="@firebase/ai",FS="@firebase/firestore-compat",GS="firebase",QS="12.6.0";const Qd="[DEFAULT]",KS={[Gd]:"fire-core",[ES]:"fire-core-compat",[AS]:"fire-analytics",[TS]:"fire-analytics-compat",[bS]:"fire-app-check",[SS]:"fire-app-check-compat",[wS]:"fire-auth",[RS]:"fire-auth-compat",[CS]:"fire-rtdb",[IS]:"fire-data-connect",[NS]:"fire-rtdb-compat",[DS]:"fire-fn",[OS]:"fire-fn-compat",[MS]:"fire-iid",[xS]:"fire-iid-compat",[VS]:"fire-fcm",[kS]:"fire-fcm-compat",[US]:"fire-perf",[LS]:"fire-perf-compat",[PS]:"fire-rc",[zS]:"fire-rc-compat",[jS]:"fire-gcs",[BS]:"fire-gcs-compat",[qS]:"fire-fst",[FS]:"fire-fst-compat",[HS]:"fire-vertex","fire-js":"fire-js",[GS]:"fire-js-all"};const jc=new Map,YS=new Map,Kd=new Map;function H_(a,t){try{a.container.addComponent(t)}catch(i){$i.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ka(a){const t=a.name;if(Kd.has(t))return $i.debug(`There were multiple attempts to register component ${t}.`),!1;Kd.set(t,a);for(const i of jc.values())H_(i,a);for(const i of YS.values())H_(i,a);return!0}function _m(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Xn(a){return a==null?!1:a.settings!==void 0}const XS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Fs=new Ul("app","Firebase",XS);class ZS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Br("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Fs.create("app-deleted",{appName:this._name})}}const so=QS;function SE(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Qd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Fs.create("bad-app-name",{appName:String(l)});if(i||(i=yE()),!i)throw Fs.create("no-options");const c=jc.get(l);if(c){if(Ji(i,c.options)&&Ji(r,c.config))return c;throw Fs.create("duplicate-app",{appName:l})}const d=new nS(l);for(const _ of Kd.values())d.addComponent(_);const p=new ZS(i,r,d);return jc.set(l,p),p}function bE(a=Qd){const t=jc.get(a);if(!t&&a===Qd&&yE())return SE();if(!t)throw Fs.create("no-app",{appName:a});return t}function Gs(a,t,i){let r=KS[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),$i.warn(d.join(" "));return}Ka(new Br(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const JS="firebase-heartbeat-database",$S=1,Nl="firebase-heartbeat-store";let kd=null;function wE(){return kd||(kd=gS(JS,$S,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Nl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Fs.create("idb-open",{originalErrorMessage:a.message})})),kd}async function WS(a){try{const i=(await wE()).transaction(Nl),r=await i.objectStore(Nl).get(RE(a));return await i.done,r}catch(t){if(t instanceof is)$i.warn(t.message);else{const i=Fs.create("idb-get",{originalErrorMessage:t?.message});$i.warn(i.message)}}}async function F_(a,t){try{const r=(await wE()).transaction(Nl,"readwrite");await r.objectStore(Nl).put(t,RE(a)),await r.done}catch(i){if(i instanceof is)$i.warn(i.message);else{const r=Fs.create("idb-set",{originalErrorMessage:i?.message});$i.warn(r.message)}}}function RE(a){return`${a.name}!${a.options.appId}`}const tb=1024,eb=30;class nb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new sb(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=G_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>eb){const l=rb(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){$i.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G_(),{heartbeatsToSend:i,unsentEntries:r}=ib(this._heartbeatsCache.heartbeats),l=zc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return $i.warn(t),""}}}function G_(){return new Date().toISOString().substring(0,10)}function ib(a,t=tb){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),Q_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Q_(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class sb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return FA()?GA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await WS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return F_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function Q_(a){return zc(JSON.stringify({version:2,heartbeats:a})).length}function rb(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function ab(a){Ka(new Br("platform-logger",t=>new _S(t),"PRIVATE")),Ka(new Br("heartbeat",t=>new nb(t),"PRIVATE")),Gs(Gd,q_,a),Gs(Gd,q_,"esm2020"),Gs("fire-js","")}ab("");var ob="firebase",lb="12.7.0";Gs(ob,lb,"app");var K_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Qs,CE;(function(){var a;function t(I,b){function C(){}C.prototype=b.prototype,I.F=b.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(x,D,k){for(var w=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)w[ie-2]=arguments[ie];return b.prototype[D].apply(x,w)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,b,C){C||(C=0);const x=Array(16);if(typeof b=="string")for(var D=0;D<16;++D)x[D]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(D=0;D<16;++D)x[D]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=I.g[0],C=I.g[1],D=I.g[2];let k=I.g[3],w;w=b+(k^C&(D^k))+x[0]+3614090360&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[1]+3905402710&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[2]+606105819&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[3]+3250441966&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[4]+4118548399&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[5]+1200080426&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[6]+2821735955&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[7]+4249261313&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[8]+1770035416&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[9]+2336552879&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[10]+4294925233&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[11]+2304563134&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(k^C&(D^k))+x[12]+1804603682&4294967295,b=C+(w<<7&4294967295|w>>>25),w=k+(D^b&(C^D))+x[13]+4254626195&4294967295,k=b+(w<<12&4294967295|w>>>20),w=D+(C^k&(b^C))+x[14]+2792965006&4294967295,D=k+(w<<17&4294967295|w>>>15),w=C+(b^D&(k^b))+x[15]+1236535329&4294967295,C=D+(w<<22&4294967295|w>>>10),w=b+(D^k&(C^D))+x[1]+4129170786&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[6]+3225465664&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[11]+643717713&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[0]+3921069994&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[5]+3593408605&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[10]+38016083&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[15]+3634488961&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[4]+3889429448&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[9]+568446438&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[14]+3275163606&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[3]+4107603335&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[8]+1163531501&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(D^k&(C^D))+x[13]+2850285829&4294967295,b=C+(w<<5&4294967295|w>>>27),w=k+(C^D&(b^C))+x[2]+4243563512&4294967295,k=b+(w<<9&4294967295|w>>>23),w=D+(b^C&(k^b))+x[7]+1735328473&4294967295,D=k+(w<<14&4294967295|w>>>18),w=C+(k^b&(D^k))+x[12]+2368359562&4294967295,C=D+(w<<20&4294967295|w>>>12),w=b+(C^D^k)+x[5]+4294588738&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[8]+2272392833&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[11]+1839030562&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[14]+4259657740&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[1]+2763975236&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[4]+1272893353&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[7]+4139469664&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[10]+3200236656&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[13]+681279174&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[0]+3936430074&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[3]+3572445317&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[6]+76029189&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(C^D^k)+x[9]+3654602809&4294967295,b=C+(w<<4&4294967295|w>>>28),w=k+(b^C^D)+x[12]+3873151461&4294967295,k=b+(w<<11&4294967295|w>>>21),w=D+(k^b^C)+x[15]+530742520&4294967295,D=k+(w<<16&4294967295|w>>>16),w=C+(D^k^b)+x[2]+3299628645&4294967295,C=D+(w<<23&4294967295|w>>>9),w=b+(D^(C|~k))+x[0]+4096336452&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[7]+1126891415&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[14]+2878612391&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[5]+4237533241&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[12]+1700485571&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[3]+2399980690&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[10]+4293915773&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[1]+2240044497&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[8]+1873313359&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[15]+4264355552&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[6]+2734768916&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[13]+1309151649&4294967295,C=D+(w<<21&4294967295|w>>>11),w=b+(D^(C|~k))+x[4]+4149444226&4294967295,b=C+(w<<6&4294967295|w>>>26),w=k+(C^(b|~D))+x[11]+3174756917&4294967295,k=b+(w<<10&4294967295|w>>>22),w=D+(b^(k|~C))+x[2]+718787259&4294967295,D=k+(w<<15&4294967295|w>>>17),w=C+(k^(D|~b))+x[9]+3951481745&4294967295,I.g[0]=I.g[0]+b&4294967295,I.g[1]=I.g[1]+(D+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+k&4294967295}r.prototype.v=function(I,b){b===void 0&&(b=I.length);const C=b-this.blockSize,x=this.C;let D=this.h,k=0;for(;k<b;){if(D==0)for(;k<=C;)l(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<b;)if(x[D++]=I.charCodeAt(k++),D==this.blockSize){l(this,x),D=0;break}}else for(;k<b;)if(x[D++]=I[k++],D==this.blockSize){l(this,x),D=0;break}}this.h=D,this.o+=b},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var b=1;b<I.length-8;++b)I[b]=0;b=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=b&255,b/=256;for(this.v(I),I=Array(16),b=0,C=0;C<4;++C)for(let x=0;x<32;x+=8)I[b++]=this.g[C]>>>x&255;return I};function c(I,b){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=b(I)}function d(I,b){this.h=b;const C=[];let x=!0;for(let D=I.length-1;D>=0;D--){const k=I[D]|0;x&&k==b||(C[D]=k,x=!1)}this.g=C}var p={};function _(I){return-128<=I&&I<128?c(I,function(b){return new d([b|0],b<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return $(y(-I));const b=[];let C=1;for(let x=0;I>=C;x++)b[x]=I/C|0,C*=4294967296;return new d(b,0)}function A(I,b){if(I.length==0)throw Error("number format error: empty string");if(b=b||10,b<2||36<b)throw Error("radix out of range: "+b);if(I.charAt(0)=="-")return $(A(I.substring(1),b));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(b,8));let x=S;for(let k=0;k<I.length;k+=8){var D=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+D),b);D<8?(D=y(Math.pow(b,D)),x=x.j(D).add(y(w))):(x=x.j(C),x=x.add(y(w)))}return x}var S=_(0),M=_(1),F=_(16777216);a=d.prototype,a.m=function(){if(tt(this))return-$(this).m();let I=0,b=1;for(let C=0;C<this.g.length;C++){const x=this.i(C);I+=(x>=0?x:4294967296+x)*b,b*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(Z(this))return"0";if(tt(this))return"-"+$(this).toString(I);const b=y(Math.pow(I,6));var C=this;let x="";for(;;){const D=Ct(C,b).g;C=at(C,D.j(b));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=D,Z(C))return k+x;for(;k.length<6;)k="0"+k;x=k+x}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function Z(I){if(I.h!=0)return!1;for(let b=0;b<I.g.length;b++)if(I.g[b]!=0)return!1;return!0}function tt(I){return I.h==-1}a.l=function(I){return I=at(this,I),tt(I)?-1:Z(I)?0:1};function $(I){const b=I.g.length,C=[];for(let x=0;x<b;x++)C[x]=~I.g[x];return new d(C,~I.h).add(M)}a.abs=function(){return tt(this)?$(this):this},a.add=function(I){const b=Math.max(this.g.length,I.g.length),C=[];let x=0;for(let D=0;D<=b;D++){let k=x+(this.i(D)&65535)+(I.i(D)&65535),w=(k>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);x=w>>>16,k&=65535,w&=65535,C[D]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(I,b){return I.add($(b))}a.j=function(I){if(Z(this)||Z(I))return S;if(tt(this))return tt(I)?$(this).j($(I)):$($(this).j(I));if(tt(I))return $(this.j($(I)));if(this.l(F)<0&&I.l(F)<0)return y(this.m()*I.m());const b=this.g.length+I.g.length,C=[];for(var x=0;x<2*b;x++)C[x]=0;for(x=0;x<this.g.length;x++)for(let D=0;D<I.g.length;D++){const k=this.i(x)>>>16,w=this.i(x)&65535,ie=I.i(D)>>>16,Ce=I.i(D)&65535;C[2*x+2*D]+=w*Ce,ut(C,2*x+2*D),C[2*x+2*D+1]+=k*Ce,ut(C,2*x+2*D+1),C[2*x+2*D+1]+=w*ie,ut(C,2*x+2*D+1),C[2*x+2*D+2]+=k*ie,ut(C,2*x+2*D+2)}for(I=0;I<b;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=b;I<2*b;I++)C[I]=0;return new d(C,0)};function ut(I,b){for(;(I[b]&65535)!=I[b];)I[b+1]+=I[b]>>>16,I[b]&=65535,b++}function ct(I,b){this.g=I,this.h=b}function Ct(I,b){if(Z(b))throw Error("division by zero");if(Z(I))return new ct(S,S);if(tt(I))return b=Ct($(I),b),new ct($(b.g),$(b.h));if(tt(b))return b=Ct(I,$(b)),new ct($(b.g),b.h);if(I.g.length>30){if(tt(I)||tt(b))throw Error("slowDivide_ only works with positive integers.");for(var C=M,x=b;x.l(I)<=0;)C=Rt(C),x=Rt(x);var D=wt(C,1),k=wt(x,1);for(x=wt(x,2),C=wt(C,2);!Z(x);){var w=k.add(x);w.l(I)<=0&&(D=D.add(C),k=w),x=wt(x,1),C=wt(C,1)}return b=at(I,D.j(b)),new ct(D,b)}for(D=S;I.l(b)>=0;){for(C=Math.max(1,Math.floor(I.m()/b.m())),x=Math.ceil(Math.log(C)/Math.LN2),x=x<=48?1:Math.pow(2,x-48),k=y(C),w=k.j(b);tt(w)||w.l(I)>0;)C-=x,k=y(C),w=k.j(b);Z(k)&&(k=M),D=D.add(k),I=at(I,w)}return new ct(D,I)}a.B=function(I){return Ct(this,I).h},a.and=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)&I.i(x);return new d(C,this.h&I.h)},a.or=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)|I.i(x);return new d(C,this.h|I.h)},a.xor=function(I){const b=Math.max(this.g.length,I.g.length),C=[];for(let x=0;x<b;x++)C[x]=this.i(x)^I.i(x);return new d(C,this.h^I.h)};function Rt(I){const b=I.g.length+1,C=[];for(let x=0;x<b;x++)C[x]=I.i(x)<<1|I.i(x-1)>>>31;return new d(C,I.h)}function wt(I,b){const C=b>>5;b%=32;const x=I.g.length-C,D=[];for(let k=0;k<x;k++)D[k]=b>0?I.i(k+C)>>>b|I.i(k+C+1)<<32-b:I.i(k+C);return new d(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,CE=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Qs=d}).apply(typeof K_<"u"?K_:typeof self<"u"?self:typeof window<"u"?window:{});var Tc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var IE,vl,NE,Ic,Yd,DE,OE,ME;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Tc=="object"&&Tc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,j){for(var W=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)W[Tt-2]=arguments[Tt];return m.prototype[U].apply(T,W)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const j=U.length||0;u.length=v+j;for(let W=0;W<j;W++)u[v+W]=U[W]}else u.push(U)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function at(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const T=ct.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new tt(()=>new Ct,u=>u.reset());class Ct{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Rt,wt=!1,I=new ut,b=()=>{const u=Promise.resolve(void 0);Rt=()=>{u.then(C)}};function C(){for(var u;u=at();){try{u.h.call(u.g)}catch(v){$(v)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function x(){this.u=this.u,this.C=this.C}x.prototype.u=!1,x.prototype.dispose=function(){this.u||(this.u=!0,this.N())},x.prototype[Symbol.dispose]=function(){this.dispose()},x.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ie,D),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),G=0;function et(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let j=0;j<Y.length;j++)v=Y[j],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,T,U){const j=u.toString();u=this.g[j],u||(u=this.g[j]=[],this.h++);const W=St(u,m,T,U);return W>-1?(m=u[W],v||(m.fa=!1)):(m=new et(m,this.src,j,!!T,U),m.fa=v,u.push(m)),m};function yt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),j;(j=U>=0)&&Array.prototype.splice.call(T,U,1),j&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function St(u,m,v,T){for(let U=0;U<u.length;++U){const j=u[U];if(!j.da&&j.listener==m&&j.capture==!!v&&j.ha==T)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ie={};function se(u,m,v,T,U){if(Array.isArray(m)){for(let j=0;j<m.length;j++)se(u,m[j],v,T,U);return null}return v=go(v),u&&u[Ce]?u.J(m,v,p(T)?!!T.capture:!1,U):sr(u,m,v,!1,T,U)}function sr(u,m,v,T,U,j){if(!m)throw Error("Invalid event type");const W=p(U)?!!U.capture:!!U;let Tt=rr(u);if(Tt||(u[Ut]=Tt=new st(u)),v=Tt.add(m,v,T,W,j),v.proxy)return v;if(T=Kr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=W),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent($n(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Kr(){function u(v){return m.call(u.src,u.listener,v)}const m=fo;return u}function Yr(u,m,v,T,U){if(Array.isArray(m))for(var j=0;j<m.length;j++)Yr(u,m[j],v,T,U);else T=p(T)?!!T.capture:!!T,v=go(v),u&&u[Ce]?(u=u.i,j=String(m).toString(),j in u.g&&(m=u.g[j],v=St(m,v,T,U),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[j],u.h--)))):u&&(u=rr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=St(m,v,T,U)),(v=u>-1?m[u]:null)&&Xr(v))}function Xr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ce])yt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent($n(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=rr(m))?(yt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ft(u)}}}function $n(u){return u in Ie?Ie[u]:Ie[u]="on"+u}function fo(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&Xr(u),u=v.call(T,m)}return u}function rr(u){return u=u[Ut],u instanceof st?u:null}var mo="__closure_events_fn_"+(Math.random()*1e9>>>0);function go(u){return typeof u=="function"?u:(u[mo]||(u[mo]=function(m){return u.handleEvent(m)}),u[mo])}function ge(){x.call(this),this.i=new st(this),this.M=this,this.G=null}S(ge,x),ge.prototype[Ce]=!0,ge.prototype.removeEventListener=function(u,m,v,T){Yr(this,u,m,v,T)};function Ne(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),nt(m,U)}U=!0;let j,W;if(v)for(W=v.length-1;W>=0;W--)j=m.g=v[W],U=ss(j,T,!0,m)&&U;if(j=m.g=u,U=ss(j,T,!0,m)&&U,U=ss(j,T,!1,m)&&U,v)for(W=0;W<v.length;W++)j=m.g=v[W],U=ss(j,T,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ge.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ss(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let j=0;j<m.length;++j){const W=m[j];if(W&&!W.da&&W.capture==v){const Tt=W.listener,he=W.ha||W.src;W.fa&&yt(u.i,W),U=Tt.call(he,T)!==!1&&U}}return U&&!T.defaultPrevented}function Rh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Ql(u){u.g=Rh(()=>{u.g=null,u.i&&(u.i=!1,Ql(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends x{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ql(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ar(u){x.call(this),this.h=u,this.g={}}S(ar,x);var po=[];function yo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Xr(m)},u),u.g={}}ar.prototype.N=function(){ar.Z.N.call(this),yo(this)},ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var rs=d.JSON.stringify,Ch=d.JSON.parse,Kl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Yl(){}function Xl(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}S(Pe,D);function An(){D.call(this,"c")}S(An,D);var ce={},Zl=null;function Zr(){return Zl=Zl||new ge}ce.Ia="serverreachability";function Jl(u){D.call(this,ce.Ia,u)}S(Jl,D);function Wn(u){const m=Zr();Ne(m,new Jl(m))}ce.STAT_EVENT="statevent";function or(u,m){D.call(this,ce.STAT_EVENT,u),this.stat=m}S(or,D);function pe(u){const m=Zr();Ne(m,new or(m,u))}ce.Ja="timingevent";function ti(u,m){D.call(this,ce.Ja,u),this.size=m}S(ti,D);function ei(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Ih(u,m,v,T,U,j){u.info(function(){if(u.g)if(j){var W="",Tt=j.split("&");for(let Bt=0;Bt<Tt.length;Bt++){var he=Tt[Bt].split("=");if(he.length>1){const re=he[0];he=he[1];const Rn=re.split("_");W=Rn.length>=2&&Rn[1]=="type"?W+(re+"="+he+"&"):W+(re+"=redacted&")}}}else W=null;else W=j;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+W})}function $l(u,m,v,T,U,j,W){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+j+" "+W})}function ni(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Nh(u,v)+(T?" "+T:"")})}function lr(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function Nh(u,m){if(!u.g)return m;if(!m)return null;try{const j=JSON.parse(m);if(j){for(u=0;u<j.length;u++)if(Array.isArray(j[u])){var v=j[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let W=1;W<T.length;W++)T[W]=""}}}}return rs(j)}catch{return m}}var ur={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_o={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vo;function cr(){}S(cr,Yl),cr.prototype.g=function(){return new XMLHttpRequest},vo=new cr;function Ni(u){return encodeURIComponent(String(u))}function Wl(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ye={},Ve={};function ii(u,m,v){u.M=1,u.A=hr(ve(m)),u.u=v,u.R=!0,Jr(u,null)}function Jr(u,m){u.F=Date.now(),si(u),u.B=ve(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),ea(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=mu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(po[0]=U.toString()),U=po);for(let j=0;j<U.length;j++){const W=se(v,U[j],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Wn(),Ih(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Hn(this.g),he=this.g.ya(),Bt=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||he==7||(he==8||Bt<=0?Wn(3):Wn(2)),ri(this);var m=this.g.ca();this.X=m;var v=Dh(this);if(this.o=m==200,$l(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(T)){var j=T;break e}}j=null}if(u=j)ni(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ai(this,u);else{this.o=!1,this.m=3,pe(12),fn(this),Sn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=eu(this,v),re==Ve){Tt==4&&(this.m=4,pe(14),u=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ye){this.m=4,pe(15),ni(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ni(this.i,this.l,re,null),ai(this,re);if(tu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,pe(16),u=!1),this.o=this.o&&u,!u)ni(this.i,this.l,v,"[Invalid Chunked Response]"),fn(this),Sn(this);else if(v.length>0&&!this.W){this.W=!0;var W=this.j;W.g==this&&W.aa&&!W.P&&(W.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Vo(W),W.P=!0,pe(11))}}else ni(this.i,this.l,v,null),ai(this,v);Tt==4&&fn(this),this.o&&!this.K&&(Tt==4?cu(this.j,this):(this.o=!1,si(this)))}else Oi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,pe(12)):(this.m=0,pe(13)),fn(this),Sn(this)}}}catch{}};function Dh(u){if(!tu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return fn(u),Sn(u),"";u.h.i=new d.TextDecoder}for(let j=0;j<T;j++)u.h.h=!0,v+=u.h.i.decode(m[j],{stream:!(U&&j==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function tu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function eu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?ye:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,fn(this)};function si(u){u.T=Date.now()+u.H,$r(u,u.H)}function $r(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ei(y(u.aa,u),m)}function ri(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(lr(this.i,this.B),this.M!=2&&(Wn(),pe(17)),fn(this),this.m=2,Sn(this)):$r(this,this.T-u)};function Sn(u){u.j.I==0||u.K||cu(u.j,u)}function fn(u){ri(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,yo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||li(v.h,u))){if(!u.L&&li(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)aa(v),ds(v);else break t;_r(v),pe(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ei(y(v.Va,v),6e3));oi(v.h)<=1&&v.ta&&(v.ta=void 0)}else mi(v,11)}else if((u.L||v.g==u)&&aa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const re=Bt[0];if(!(re<=v.K))if(v.K=re,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Rn=Bt[3];Rn!=null&&(v.ka=Rn,v.j.info("VER="+v.ka));const gi=Bt[4];gi!=null&&(v.za=gi,v.j.info("SVER="+v.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const vr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vr){var j=T.h;j.g||vr.indexOf("spdy")==-1&&vr.indexOf("quic")==-1&&vr.indexOf("h2")==-1||(j.j=j.l,j.g=new Set,j.h&&(Ao(j,j.h),j.h=null))}if(T.G){const oa=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;oa&&(T.wa=oa,Gt(T.J,T.G,oa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var W=u;if(T.na=du(T,T.L?T.ba:null,T.W),W.L){So(T.h,W);var Tt=W,he=T.O;he&&(Tt.H=he),Tt.D&&(ri(Tt),si(Tt)),T.g=W}else lu(T);v.i.length>0&&di(v)}else Bt[0]!="stop"&&Bt[0]!="close"||mi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?mi(v,7):Mo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}Wn(4)}catch{}}var _e=class{constructor(u,m){this.g=u,this.map=m}};function Eo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function To(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oi(u){return u.h?1:u.g?u.g.size:0}function li(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ao(u,m){u.g?u.g.add(m):u.h=m}function So(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Eo.prototype.cancel=function(){if(this.i=bo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function bo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wr(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,j=null;T>=0?(U=u[v].substring(0,T),j=u[v].substring(T+1)):U=u[v],m(U,j?decodeURIComponent(j.replace(/\+/g," ")):"")}}}function dn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof dn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,as(this,u.u),this.h=u.h,wo(this,au(u.i)),this.m=u.m):u&&(m=String(u).match(nu))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ui(m[2]||""),this.g=ui(m[3]||"",!0),as(this,m[4]),this.h=ui(m[5]||"",!0),wo(this,m[6]||"",!0),this.m=ui(m[7]||"")):(this.l=!1,this.i=new ls(null,this.l))}dn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(fr(m,ta,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(fr(m,ta,!0),"@"),u.push(Ni(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(fr(v,v.charAt(0)=="/"?Ro:iu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",fr(v,su)),u.join("")},dn.prototype.resolve=function(u){const m=ve(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)as(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const j=[];for(let W=0;W<U.length;){const Tt=U[W++];Tt=="."?T&&W==U.length&&j.push(""):Tt==".."?((j.length>1||j.length==1&&j[0]!="")&&j.pop(),T&&W==U.length&&j.push("")):(j.push(Tt),T=!0)}T=j.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?wo(m,au(u.i)):v=!!u.m,v&&(m.m=u.m),m};function ve(u){return new dn(u)}function ke(u,m,v){u.j=v?ui(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function as(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function wo(u,m,v){m instanceof ls?(u.i=m,na(u.i,u.l)):(v||(m=fr(m,os)),u.i=new ls(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function hr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ui(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function fr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ta=/[#\/\?@]/g,iu=/[#\?:]/g,Ro=/[#\?]/g,os=/[#\?@]/g,su=/#/g;function ls(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&Wr(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=ls.prototype,a.add=function(u,m){sn(this),this.i=null,u=us(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function ru(u,m){sn(u),m=us(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Co(u,m){return sn(u),m=us(u,m),u.g.has(m)}a.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Io(u,m){sn(u);let v=[];if(typeof m=="string")Co(u,m)&&(v=v.concat(u.g.get(us(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return sn(this),this.i=null,u=us(this,u),Co(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Io(this,u),u.length>0?String(u[0]):m):m};function ea(u,m,v){ru(u,m),v.length>0&&(u.i=null,u.g.set(us(u,m),F(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Ni(v);v=Io(this,v);for(let j=0;j<v.length;j++){let W=U;v[j]!==""&&(W+="="+Ni(v[j])),u.push(W)}}return this.i=u.join("&")};function au(u){const m=new ls;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function us(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function na(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(ru(this,T),ea(this,U,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=A(bn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(bn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(bn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(bn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function No(u,m){const v=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),bn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(j=>{clearTimeout(U),j.ok?bn(v,"TestPingServer: ok",!0,m):bn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),bn(v,"TestPingServer: error",!1,m)})}function bn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function cs(){this.g=new Kl}function ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(ci,Yl),ci.prototype.g=function(){return new dr(this.i,this.h)};function dr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(dr,ge),a=dr.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,hs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ia(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ia(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?hs(this):qn(this),this.readyState==3&&ia(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,hs(this))},a.Na=function(u){this.g&&(this.response=u,hs(this))},a.ga=function(){this.g&&hs(this)};function hs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(dr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function wn(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function mr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=wn(v),typeof u=="string"?v!=null&&Ni(v):Gt(u,m,v))}function Yt(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Yt,ge);var hi=/^https?$/i,Do=["POST","PUT"];a=Yt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vo.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(j){gr(this,j);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const j of T.keys())v.set(j,T.get(j));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(j=>j.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Do,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[j,W]of v)this.g.setRequestHeader(j,W);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(j){gr(this,j)}};function gr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Oo(u),Di(u)}function Oo(u){u.A||(u.A=!0,Ne(u,"complete"),Ne(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ne(this,"complete"),Ne(this,"abort"),Di(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Di(this,!0)),Yt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?pr(this):this.Xa())},a.Xa=function(){pr(this)};function pr(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ne(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const j=u.ca();t:switch(j){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=j===0){let W=String(u.D).match(nu)[1]||null;!W&&d.self&&d.self.location&&(W=d.self.location.protocol.slice(0,-1)),T=!hi.test(W?W.toLowerCase():"")}v=T}if(v)Ne(u,"complete"),Ne(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Oo(u)}}finally{Di(u)}}}}function Di(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ne(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ch(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Oi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(w(u[T]))continue;var v=Wl(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const j=m[U]||[];m[U]=j,j.push(v)}Ft(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function fi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function fs(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=fi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=fi("baseRetryDelayMs",5e3,u),this.Za=fi("retryDelaySeedMs",1e4,u),this.Ta=fi("forwardChannelMaxRetries",2,u),this.va=fi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Eo(u&&u.concurrentRequestLimit),this.Ba=new cs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=fs.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){pe(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=du(this,null,this.W),di(this)};function Mo(u){if(sa(u),u.I==3){var m=u.V++,v=ve(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),yr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=hr(ve(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=mu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),si(m)}fu(u)}function ds(u){u.g&&(Vo(u),u.g.cancel(),u.g=null)}function sa(u){ds(u),u.v&&(d.clearTimeout(u.v),u.v=null),aa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function di(u){if(!To(u.h)&&!u.m){u.m=!0;var m=u.Ea;Rt||b(),wt||(Rt(),wt=!0),I.add(m,u),u.D=0}}function ra(u,m){return oi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ei(y(u.Ea,u,m),hu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let j=this.o;if(this.U&&(j?(j=O(j),nt(j,this.U)):j=this.U),this.u!==null||this.R||(U.J=j,j=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=ou(this,U,m),v=ve(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),yr(this,v),j&&(this.R?m="headers="+Ni(wn(j))+"&"+m:this.u&&mr(v,this.u,j)),Ao(this.h,U),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),U.U=!0,ii(U,v,null)):ii(U,v,m),this.I=2}}else this.I==3&&(u?xo(this,u):this.i.length==0||To(this.h)||xo(this))};function xo(u,m){var v;m?v=m.l:v=u.V++;const T=ve(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),yr(u,T),u.u&&u.o&&mr(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=ou(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ao(u.h,v),ii(v,T,m)}function yr(u,m){u.H&&Pt(u.H,function(v,T){Gt(m,T,v)}),u.l&&Pt({},function(v,T){Gt(m,T,v)})}function ou(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let Tt=-1;for(;;){const he=["count="+v];Tt==-1?v>0?(Tt=U[0].g,he.push("ofs="+Tt)):Tt=0:he.push("ofs="+Tt);let Bt=!0;for(let re=0;re<v;re++){var j=U[re].g;const Rn=U[re].map;if(j-=Tt,j<0)Tt=Math.max(0,U[re].g-100),Bt=!1;else try{j="req"+j+"_"||"";try{var W=Rn instanceof Map?Rn:Object.entries(Rn);for(const[gi,Fn]of W){let Gn=Fn;p(Fn)&&(Gn=rs(Fn)),he.push(j+gi+"="+encodeURIComponent(Gn))}}catch(gi){throw he.push(j+"type="+encodeURIComponent("_badmap")),gi}}catch{T&&T(Rn)}}if(Bt){W=he.join("&");break t}}W=void 0}return u=u.i.splice(0,v),m.G=u,W}function lu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Rt||b(),wt||(Rt(),wt=!0),I.add(m,u),u.A=0}}function _r(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ei(y(u.Da,u),hu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,uu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ei(y(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,pe(10),ds(this),uu(this))};function Vo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function uu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=ve(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),yr(u,m),u.u&&u.o&&mr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=hr(ve(m)),v.u=null,v.R=!0,Jr(v,u)}a.Va=function(){this.C!=null&&(this.C=null,ds(this),_r(this),pe(19))};function aa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function cu(u,m){var v=null;if(u.g==m){aa(u),Vo(u),u.g=null;var T=2}else if(li(u.h,m))v=m.G,So(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Zr(),Ne(T,new ti(T,v)),di(u)}else lu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&ra(u,m)||T==2&&_r(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:mi(u,5);break;case 4:mi(u,10);break;case 3:mi(u,6);break;default:mi(u,2)}}}function hu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function mi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new dn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),hr(T),U?Bn(T.toString(),v):No(T.toString(),v)}else pe(2);u.I=0,u.l&&u.l.pa(m),fu(u),sa(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),pe(2)):(this.j.info("Failed to ping google.com"),pe(1))};function fu(u){if(u.I=0,u.ja=[],u.l){const m=bo(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function du(u,m,v){var T=v instanceof dn?ve(v):new dn(v);if(T.g!="")m&&(T.g=m+"."+T.g),as(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const j=new dn(null);T&&ke(j,T),m&&(j.g=m),U&&as(j,U),v&&(j.h=v),T=j}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),yr(u,T),T}function mu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new ci({ab:v})):new Yt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function gu(){}a=gu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function ms(){}ms.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ge.call(this),this.g=new fs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Mi(this)}S(We,ge),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Mo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=rs(u),u=v);m.i.push(new _e(m.Ya++,u)),m.I==3&&di(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,We.Z.N.call(this)};function pu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(pu,Pe);function yu(){An.call(this),this.status=1}S(yu,An);function Mi(u){this.g=u}S(Mi,gu),Mi.prototype.ra=function(){Ne(this.g,"a")},Mi.prototype.qa=function(u){Ne(this.g,new pu(u))},Mi.prototype.pa=function(u){Ne(this.g,new yu)},Mi.prototype.oa=function(){Ne(this.g,"b")},ms.prototype.createWebChannel=ms.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,ME=function(){return new ms},OE=function(){return Zr()},DE=ce,Yd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ur.NO_ERROR=0,ur.TIMEOUT=8,ur.HTTP_ERROR=6,Ic=ur,_o.COMPLETE="complete",NE=_o,Xl.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ge.prototype.listen=ge.prototype.J,vl=Xl,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,IE=Yt}).apply(typeof Tc<"u"?Tc:typeof self<"u"?self:typeof window<"u"?window:{});const Y_="@firebase/firestore",X_="4.9.3";let Xe=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let ro="12.7.0";const qr=new pm("@firebase/firestore");function La(){return qr.logLevel}function it(a,...t){if(qr.logLevel<=Mt.DEBUG){const i=t.map(vm);qr.debug(`Firestore (${ro}): ${a}`,...i)}}function Wi(a,...t){if(qr.logLevel<=Mt.ERROR){const i=t.map(vm);qr.error(`Firestore (${ro}): ${a}`,...i)}}function Ya(a,...t){if(qr.logLevel<=Mt.WARN){const i=t.map(vm);qr.warn(`Firestore (${ro}): ${a}`,...i)}}function vm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function gt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,xE(a,r,i)}function xE(a,t,i){let r=`FIRESTORE (${ro}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw Wi(r),new Error(r)}function Ht(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||xE(t,l,r)}function Et(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends is{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class zr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class VE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class ub{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class cb{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class hb{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let r=this.i;const l=_=>this.i!==r?(r=this.i,i(_)):Promise.resolve();let c=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new zr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new zr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ht(typeof r.accessToken=="string",31837,{l:r}),new VE(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class fb{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class db{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new fb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Z_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class mb{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const r=c=>{c.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new Z_(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new Z_(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gb(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Em{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=gb(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function xt(a,t){return a<t?-1:a>t?1:0}function Xd(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Ud(l)===Ud(c)?xt(l,c):Ud(l)?1:-1}return xt(a.length,t.length)}const pb=55296,yb=57343;function Ud(a){const t=a.charCodeAt(0);return t>=pb&&t<=yb}function Xa(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const J_="__name__";class Ei{constructor(t,i,r){i===void 0?i=0:i>t.length&&gt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&gt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Ei.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ei?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Ei.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return xt(t.length,i.length)}static compareSegments(t,i){const r=Ei.isNumericId(t),l=Ei.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Ei.extractNumericId(t).compare(Ei.extractNumericId(i)):Xd(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Qs.fromString(t.substring(4,t.length-2))}}class ee extends Ei{construct(t,i,r){return new ee(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new lt(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const _b=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ei{construct(t,i,r){return new Ge(t,i,r)}static isValidIdentifier(t){return _b.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===J_}static keyField(){return new Ge([J_])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new lt(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new lt(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(r+=p,l++):(c(),l++)}if(c(),d)throw new lt(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(ee.fromString(t))}static fromName(t){return new dt(ee.fromString(t).popFirst(5))}static empty(){return new dt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new ee(t.slice()))}}function kE(a,t,i){if(!i)throw new lt(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function vb(a,t,i,r){if(t===!0&&r===!0)throw new lt(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function $_(a){if(!dt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function W_(a){if(dt.isDocumentKey(a))throw new lt(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function UE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function Tm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":gt(12329,{type:typeof a})}function Zi(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new lt(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Tm(a);throw new lt(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function we(a,t){const i={typeString:a};return t&&(i.value=t),i}function Pl(a,t){if(!UE(a))throw new lt(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new lt(J.INVALID_ARGUMENT,i);return!0}const tv=-62135596800,ev=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*ev);return new ne(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<tv)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ev}_compareTo(t){return this.seconds===t.seconds?xt(this.nanoseconds,t.nanoseconds):xt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Pl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-tv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:we("string",ne._jsonSchemaVersion),seconds:we("number"),nanoseconds:we("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new ne(0,0))}static max(){return new _t(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Dl=-1;function Eb(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new ne(i+1,0):new ne(i,r));return new Xs(l,dt.empty(),t)}function Tb(a){return new Xs(a.readTime,a.key,Dl)}class Xs{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new Xs(_t.min(),dt.empty(),Dl)}static max(){return new Xs(_t.max(),dt.empty(),Dl)}}function Ab(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,t.documentKey),i!==0?i:xt(a.largestBatchId,t.largestBatchId))}const Sb="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ao(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==Sb)throw a;it("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&gt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>r(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&r(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function wb(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function oo(a){return a.name==="IndexedDbTransactionError"}class rh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}rh.ce=-1;const Am=-1;function ah(a){return a==null}function Bc(a){return a===0&&1/a==-1/0}function Rb(a){return typeof a=="number"&&Number.isInteger(a)&&!Bc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const LE="";function Cb(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=nv(t)),t=Ib(a.get(i),t);return nv(t)}function Ib(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case LE:i+="";break;default:i+=c}}return i}function nv(a){return a+LE+""}function iv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function nr(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function PE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ac(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ac(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ac(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ac(this.root,t,this.comparator,!0)}}class Ac{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Fe(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw gt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw gt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw gt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw gt(57766)}get value(){throw gt(16141)}get color(){throw gt(16727)}get left(){throw gt(29726)}get right(){throw gt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xe{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new sv(this.data.getIterator())}getIteratorFrom(t){return new sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof xe)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new xe(this.comparator);return i.data=t,i}}class sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Tn{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new Tn([])}unionWith(t){let i=new xe(Ge.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Tn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Xa(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class zE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new zE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return xt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Nb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Zs(a){if(Ht(!!a,39018),typeof a=="string"){let t=0;const i=Nb.exec(a);if(Ht(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:me(a.seconds),nanos:me(a.nanos)}}function me(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Js(a){return typeof a=="string"?Qe.fromBase64String(a):Qe.fromUint8Array(a)}const jE="server_timestamp",BE="__type__",qE="__previous_value__",HE="__local_write_time__";function Sm(a){return(a?.mapValue?.fields||{})[BE]?.stringValue===jE}function oh(a){const t=a.mapValue.fields[qE];return Sm(t)?oh(t):t}function Ol(a){const t=Zs(a.mapValue.fields[HE].timestampValue);return new ne(t.seconds,t.nanos)}class Db{constructor(t,i,r,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const qc="(default)";class Ml{constructor(t,i){this.projectId=t,this.database=i||qc}static empty(){return new Ml("","")}get isDefaultDatabase(){return this.database===qc}isEqual(t){return t instanceof Ml&&t.projectId===this.projectId&&t.database===this.database}}const FE="__type__",Ob="__max__",Sc={mapValue:{}},GE="__vector__",Hc="value";function $s(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Sm(a)?4:xb(a)?9007199254740991:Mb(a)?10:11:gt(28295,{value:a})}function Ci(a,t){if(a===t)return!0;const i=$s(a);if(i!==$s(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ol(a).isEqual(Ol(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=Zs(l.timestampValue),p=Zs(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return Js(l.bytesValue).isEqual(Js(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return me(l.geoPointValue.latitude)===me(c.geoPointValue.latitude)&&me(l.geoPointValue.longitude)===me(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return me(l.integerValue)===me(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=me(l.doubleValue),p=me(c.doubleValue);return d===p?Bc(d)===Bc(p):isNaN(d)&&isNaN(p)}return!1})(a,t);case 9:return Xa(a.arrayValue.values||[],t.arrayValue.values||[],Ci);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(iv(d)!==iv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ci(d[_],p[_])))return!1;return!0})(a,t);default:return gt(52216,{left:a})}}function xl(a,t){return(a.values||[]).find((i=>Ci(i,t)))!==void 0}function Za(a,t){if(a===t)return 0;const i=$s(a),r=$s(t);if(i!==r)return xt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return xt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=me(c.integerValue||c.doubleValue),_=me(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(a,t);case 3:return rv(a.timestampValue,t.timestampValue);case 4:return rv(Ol(a),Ol(t));case 5:return Xd(a.stringValue,t.stringValue);case 6:return(function(c,d){const p=Js(c),_=Js(d);return p.compareTo(_)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=xt(p[y],_[y]);if(A!==0)return A}return xt(p.length,_.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=xt(me(c.latitude),me(d.latitude));return p!==0?p:xt(me(c.longitude),me(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return av(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Hc]?.arrayValue,A=_[Hc]?.arrayValue,S=xt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:av(y,A)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Sc.mapValue&&d===Sc.mapValue)return 0;if(c===Sc.mapValue)return 1;if(d===Sc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const M=Xd(_[S],A[S]);if(M!==0)return M;const F=Za(p[_[S]],y[A[S]]);if(F!==0)return F}return xt(_.length,A.length)})(a.mapValue,t.mapValue);default:throw gt(23264,{he:i})}}function rv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return xt(a,t);const i=Zs(a),r=Zs(t),l=xt(i.seconds,r.seconds);return l!==0?l:xt(i.nanos,r.nanos)}function av(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=Za(i[l],r[l]);if(c)return c}return xt(i.length,r.length)}function Ja(a){return Zd(a)}function Zd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=Zs(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return Js(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return dt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=Zd(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${Zd(i.fields[d])}`;return l+"}"})(a.mapValue):gt(61005,{value:a})}function Nc(a){switch($s(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=oh(a);return t?16+Nc(t):16;case 5:return 2*a.stringValue.length;case 6:return Js(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Nc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return nr(r.fields,((c,d)=>{l+=c.length+Nc(d)})),l})(a.mapValue);default:throw gt(13486,{value:a})}}function Jd(a){return!!a&&"integerValue"in a}function bm(a){return!!a&&"arrayValue"in a}function ov(a){return!!a&&"nullValue"in a}function lv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Dc(a){return!!a&&"mapValue"in a}function Mb(a){return(a?.mapValue?.fields||{})[FE]?.stringValue===GE}function bl(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return nr(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=bl(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=bl(a.arrayValue.values[i]);return t}return{...a}}function xb(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===Ob}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Dc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=bl(i)}setAll(t){let i=Ge.emptyPath(),r={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,r,l),r={},l=[],i=p.popLast()}d?r[p.lastSegment()]=bl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Dc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ci(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Dc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){nr(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new hn(bl(this.value))}}function QE(a){const t=[];return nr(a.fields,((i,r)=>{const l=new Ge([i]);if(Dc(r)){const c=QE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Tn(t)}class Ze{constructor(t,i,r,l,c,d,p){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,_t.min(),_t.min(),_t.min(),hn.empty(),0)}static newFoundDocument(t,i,r,l){return new Ze(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,_t.min(),_t.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,_t.min(),_t.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Fc{constructor(t,i){this.position=t,this.inclusive=i}}function uv(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=Za(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function cv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Ci(a.position[i],t.position[i]))return!1;return!0}class Gc{constructor(t,i="asc"){this.field=t,this.dir=i}}function Vb(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class KE{}class Me extends KE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new Ub(t,i,r):i==="array-contains"?new zb(t,r):i==="in"?new jb(t,r):i==="not-in"?new Bb(t,r):i==="array-contains-any"?new qb(t,r):new Me(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new Lb(t,r):new Pb(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Za(i,this.value)):i!==null&&$s(this.value)===$s(i)&&this.matchesComparison(Za(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return gt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ii extends KE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ii(t,i)}matches(t){return YE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function YE(a){return a.op==="and"}function XE(a){return kb(a)&&YE(a)}function kb(a){for(const t of a.filters)if(t instanceof Ii)return!1;return!0}function $d(a){if(a instanceof Me)return a.field.canonicalString()+a.op.toString()+Ja(a.value);if(XE(a))return a.filters.map((t=>$d(t))).join(",");{const t=a.filters.map((i=>$d(i))).join(",");return`${a.op}(${t})`}}function ZE(a,t){return a instanceof Me?(function(r,l){return l instanceof Me&&r.op===l.op&&r.field.isEqual(l.field)&&Ci(r.value,l.value)})(a,t):a instanceof Ii?(function(r,l){return l instanceof Ii&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,p)=>c&&ZE(d,l.filters[p])),!0):!1})(a,t):void gt(19439)}function JE(a){return a instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${Ja(i.value)}`})(a):a instanceof Ii?(function(i){return i.op.toString()+" {"+i.getFilters().map(JE).join(" ,")+"}"})(a):"Filter"}class Ub extends Me{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Lb extends Me{constructor(t,i){super(t,"in",i),this.keys=$E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Pb extends Me{constructor(t,i){super(t,"not-in",i),this.keys=$E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function $E(a,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class zb extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return bm(i)&&xl(i.arrayValue,this.value)}}class jb extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&xl(this.value.arrayValue,i)}}class Bb extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(xl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!xl(this.value.arrayValue,i)}}class qb extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!bm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>xl(this.value.arrayValue,r)))}}class Hb{constructor(t,i=null,r=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function hv(a,t=null,i=[],r=[],l=null,c=null,d=null){return new Hb(a,t,i,r,l,c,d)}function wm(a){const t=Et(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>$d(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>Ja(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>Ja(r))).join(",")),t.Te=i}return t.Te}function Rm(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!Vb(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!ZE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!cv(a.startAt,t.startAt)&&cv(a.endAt,t.endAt)}function Wd(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class lh{constructor(t,i=null,r=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Fb(a,t,i,r,l,c,d,p){return new lh(a,t,i,r,l,c,d,p)}function Cm(a){return new lh(a)}function fv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function Gb(a){return a.collectionGroup!==null}function wl(a){const t=Et(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new xe(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Gc(c,r))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Gc(Ge.keyField(),r))}return t.Ie}function Ti(a){const t=Et(a);return t.Ee||(t.Ee=Qb(t,wl(a))),t.Ee}function Qb(a,t){if(a.limitType==="F")return hv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Gc(l.field,c)}));const i=a.endAt?new Fc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Fc(a.startAt.position,a.startAt.inclusive):null;return hv(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function tm(a,t,i){return new lh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function uh(a,t){return Rm(Ti(a),Ti(t))&&a.limitType===t.limitType}function WE(a){return`${wm(Ti(a))}|lt:${a.limitType}`}function Pa(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>JE(l))).join(", ")}]`),ah(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>Ja(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>Ja(l))).join(",")),`Target(${r})`})(Ti(a))}; limitType=${a.limitType})`}function ch(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of wl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,p,_){const y=uv(d,p,_);return d.inclusive?y<=0:y<0})(r.startAt,wl(r),l)||r.endAt&&!(function(d,p,_){const y=uv(d,p,_);return d.inclusive?y>=0:y>0})(r.endAt,wl(r),l))})(a,t)}function Kb(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function t0(a){return(t,i)=>{let r=!1;for(const l of wl(a)){const c=Yb(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function Yb(a,t,i){const r=a.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Za(_,y):gt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return gt(19790,{direction:a.dir})}}class Gr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){nr(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return PE(this.inner)}size(){return this.innerSize}}const Xb=new oe(dt.comparator);function ts(){return Xb}const e0=new oe(dt.comparator);function El(...a){let t=e0;for(const i of a)t=t.insert(i.key,i);return t}function n0(a){let t=e0;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function Lr(){return Rl()}function i0(){return Rl()}function Rl(){return new Gr((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Zb=new oe(dt.comparator),Jb=new xe(dt.comparator);function Vt(...a){let t=Jb;for(const i of a)t=t.add(i);return t}const $b=new xe(xt);function Wb(){return $b}function Im(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bc(t)?"-0":t}}function s0(a){return{integerValue:""+a}}function r0(a,t){return Rb(t)?s0(t):Im(a,t)}class hh{constructor(){this._=void 0}}function tw(a,t,i){return a instanceof Qc?(function(l,c){const d={fields:{[BE]:{stringValue:jE},[HE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Sm(c)&&(c=oh(c)),c&&(d.fields[qE]=c),{mapValue:d}})(i,t):a instanceof $a?o0(a,t):a instanceof Wa?l0(a,t):(function(l,c){const d=a0(l,c),p=dv(d)+dv(l.Ae);return Jd(d)&&Jd(l.Ae)?s0(p):Im(l.serializer,p)})(a,t)}function ew(a,t,i){return a instanceof $a?o0(a,t):a instanceof Wa?l0(a,t):i}function a0(a,t){return a instanceof Vl?(function(r){return Jd(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class Qc extends hh{}class $a extends hh{constructor(t){super(),this.elements=t}}function o0(a,t){const i=u0(t);for(const r of a.elements)i.some((l=>Ci(l,r)))||i.push(r);return{arrayValue:{values:i}}}class Wa extends hh{constructor(t){super(),this.elements=t}}function l0(a,t){let i=u0(t);for(const r of a.elements)i=i.filter((l=>!Ci(l,r)));return{arrayValue:{values:i}}}class Vl extends hh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function dv(a){return me(a.integerValue||a.doubleValue)}function u0(a){return bm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Nm{constructor(t,i){this.field=t,this.transform=i}}function nw(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof $a&&l instanceof $a||r instanceof Wa&&l instanceof Wa?Xa(r.elements,l.elements,Ci):r instanceof Vl&&l instanceof Vl?Ci(r.Ae,l.Ae):r instanceof Qc&&l instanceof Qc})(a.transform,t.transform)}class iw{constructor(t,i){this.version=t,this.transformResults=i}}class Jn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Jn}static exists(t){return new Jn(void 0,t)}static updateTime(t){return new Jn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Oc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class fh{}function c0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Dm(a.key,Jn.none()):new zl(a.key,a.data,Jn.none());{const i=a.data,r=hn.empty();let l=new xe(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new ir(a.key,r,new Tn(l.toArray()),Jn.none())}}function sw(a,t,i){a instanceof zl?(function(l,c,d){const p=l.value.clone(),_=gv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(a,t,i):a instanceof ir?(function(l,c,d){if(!Oc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=gv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(h0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Cl(a,t,i,r){return a instanceof zl?(function(c,d,p,_){if(!Oc(c.precondition,d))return p;const y=c.value.clone(),A=pv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(a,t,i,r):a instanceof ir?(function(c,d,p,_){if(!Oc(c.precondition,d))return p;const y=pv(c.fieldTransforms,_,d),A=d.data;return A.setAll(h0(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(a,t,i,r):(function(c,d,p){return Oc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(a,t,i)}function rw(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=a0(r.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(r.field,c))}return i||null}function mv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&Xa(r,l,((c,d)=>nw(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class zl extends fh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class ir extends fh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function h0(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function gv(a,t,i){const r=new Map;Ht(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,p=t.data.field(c.field);r.set(c.field,ew(d,p,i[l]))}return r}function pv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,tw(c,d,t))}return r}class Dm extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class aw extends fh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class ow{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&sw(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Cl(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Cl(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=i0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=c0(d,p);_!==null&&r.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&Xa(this.mutations,t.mutations,((i,r)=>mv(i,r)))&&Xa(this.baseMutations,t.baseMutations,((i,r)=>mv(i,r)))}}class Om{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Ht(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return Zb})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Om(t,i,r,l)}}class lw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class uw{constructor(t,i){this.count=t,this.unchangedNames=i}}var be,Lt;function cw(a){switch(a){case J.OK:return gt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return gt(15467,{code:a})}}function f0(a){if(a===void 0)return Wi("GRPC error has no .code"),J.UNKNOWN;switch(a){case be.OK:return J.OK;case be.CANCELLED:return J.CANCELLED;case be.UNKNOWN:return J.UNKNOWN;case be.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case be.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case be.INTERNAL:return J.INTERNAL;case be.UNAVAILABLE:return J.UNAVAILABLE;case be.UNAUTHENTICATED:return J.UNAUTHENTICATED;case be.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case be.NOT_FOUND:return J.NOT_FOUND;case be.ALREADY_EXISTS:return J.ALREADY_EXISTS;case be.PERMISSION_DENIED:return J.PERMISSION_DENIED;case be.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case be.ABORTED:return J.ABORTED;case be.OUT_OF_RANGE:return J.OUT_OF_RANGE;case be.UNIMPLEMENTED:return J.UNIMPLEMENTED;case be.DATA_LOSS:return J.DATA_LOSS;default:return gt(39323,{code:a})}}(Lt=be||(be={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function hw(){return new TextEncoder}const fw=new Qs([4294967295,4294967295],0);function yv(a){const t=hw().encode(a),i=new CE;return i.update(t),new Uint8Array(i.digest())}function _v(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Qs([i,r],0),new Qs([l,c],0)]}class Mm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Tl(`Invalid padding: ${i}`);if(r<0)throw new Tl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Tl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Tl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Qs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Qs.fromNumber(r)));return l.compare(fw)===1&&(l=new Qs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=yv(t),[r,l]=_v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Mm(c,l,i);return r.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=yv(t),[r,l]=_v(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Tl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class dh{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,jl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new dh(_t.min(),l,new oe(xt),ts(),Vt())}}class jl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new jl(r,i,Vt(),Vt(),Vt())}}class Mc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class d0{constructor(t,i){this.targetId=t,this.Ce=i}}class m0{constructor(t,i,r=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class vv{constructor(){this.ve=0,this.Fe=Ev(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),r=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:gt(38017,{changeType:c})}})),new jl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Ev()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class dw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ts(),this.Je=bc(),this.He=bc(),this.Ye=new oe(xt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:gt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(Wd(c))if(r===0){const d=new dt(c.path);this.et(i,d,Ze.newNoDocument(d,_t.min()))}else Ht(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Js(r).toUint8Array()}catch(_){if(_ instanceof zE)return Ya("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Mm(d,l,c)}catch(_){return Ya(_ instanceof Tl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Wd(p.target)){const _=new dt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new dh(t,i,this.Ye,this.je,r);return this.je=ts(),this.Je=bc(),this.He=bc(),this.Ye=new oe(xt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new vv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new xe(xt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new xe(xt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||it("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new vv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function bc(){return new oe(dt.comparator)}function Ev(){return new oe(dt.comparator)}const mw={asc:"ASCENDING",desc:"DESCENDING"},gw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pw={and:"AND",or:"OR"};class yw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function em(a,t){return a.useProto3Json||ah(t)?t:{value:t}}function Kc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function g0(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function _w(a,t){return Kc(a,t.toTimestamp())}function Ai(a){return Ht(!!a,49232),_t.fromTimestamp((function(i){const r=Zs(i);return new ne(r.seconds,r.nanos)})(a))}function xm(a,t){return nm(a,t).canonicalString()}function nm(a,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function p0(a){const t=ee.fromString(a);return Ht(T0(t),10190,{key:t.toString()}),t}function im(a,t){return xm(a.databaseId,t.path)}function Ld(a,t){const i=p0(t);if(i.get(1)!==a.databaseId.projectId)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new lt(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(_0(i))}function y0(a,t){return xm(a.databaseId,t)}function vw(a){const t=p0(a);return t.length===4?ee.emptyPath():_0(t)}function sm(a){return new ee(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function _0(a){return Ht(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Tv(a,t,i){return{name:im(a,t),fields:i.value.mapValue.fields}}function Ew(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:gt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:f0(y.code);return new lt(A,y.message||"")})(d);i=new m0(r,l,c,p||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=Ld(a,r.document.name),c=Ai(r.document.updateTime),d=r.document.createTime?Ai(r.document.createTime):_t.min(),p=new hn({mapValue:{fields:r.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=r.targetIds||[],A=r.removedTargetIds||[];i=new Mc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=Ld(a,r.document),c=r.readTime?Ai(r.readTime):_t.min(),d=Ze.newNoDocument(l,c),p=r.removedTargetIds||[];i=new Mc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=Ld(a,r.document),c=r.removedTargetIds||[];i=new Mc([],c,l,null)}else{if(!("filter"in t))return gt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new uw(l,c),p=r.targetId;i=new d0(p,d)}}return i}function Tw(a,t){let i;if(t instanceof zl)i={update:Tv(a,t.key,t.value)};else if(t instanceof Dm)i={delete:im(a,t.key)};else if(t instanceof ir)i={update:Tv(a,t.key,t.data),updateMask:Dw(t.fieldMask)};else{if(!(t instanceof aw))return gt(16599,{Vt:t.type});i={verify:im(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const p=d.transform;if(p instanceof Qc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof $a)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof Wa)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Vl)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw gt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:_w(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:gt(27497)})(a,t.precondition)),i}function Aw(a,t){return a&&a.length>0?(Ht(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Ai(l.updateTime):Ai(c);return d.isEqual(_t.min())&&(d=Ai(c)),new iw(d,l.transformResults||[])})(i,t)))):[]}function Sw(a,t){return{documents:[y0(a,t.path)]}}function bw(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=y0(a,l);const c=(function(y){if(y.length!==0)return E0(Ii.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(M){return{field:za(M.field),direction:Cw(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=em(a,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function ww(a){let t=vw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Ht(r===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=v0(S);return M instanceof Ii&&XE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(Z){return new Gc(ja(Z.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,ah(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,F=S.values||[];return new Fc(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,F=S.values||[];return new Fc(F,M)})(i.endAt)),Fb(t,l,d,c,p,"F",_,y)}function Rw(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return gt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function v0(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=ja(i.unaryFilter.field);return Me.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=ja(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ja(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ja(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return gt(61313);default:return gt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Me.create(ja(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return gt(58110);default:return gt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Ii.create(i.compositeFilter.filters.map((r=>v0(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return gt(1026)}})(i.compositeFilter.op))})(a):gt(30097,{filter:a})}function Cw(a){return mw[a]}function Iw(a){return gw[a]}function Nw(a){return pw[a]}function za(a){return{fieldPath:a.canonicalString()}}function ja(a){return Ge.fromServerFormat(a.fieldPath)}function E0(a){return a instanceof Me?(function(i){if(i.op==="=="){if(lv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NAN"}};if(ov(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(lv(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NAN"}};if(ov(i.value))return{unaryFilter:{field:za(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:za(i.field),op:Iw(i.op),value:i.value}}})(a):a instanceof Ii?(function(i){const r=i.getFilters().map((l=>E0(l)));return r.length===1?r[0]:{compositeFilter:{op:Nw(i.op),filters:r}}})(a):gt(54877,{filter:a})}function Dw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function T0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class qs{constructor(t,i,r,l,c=_t.min(),d=_t.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Ow{constructor(t){this.yt=t}}function Mw(a){const t=ww({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?tm(t,t.limit,"L"):t}class xw{constructor(){this.Cn=new Vw}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Xs.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Xs.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class Vw{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new xe(ee.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new xe(ee.comparator)).toArray()}}const Av={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},A0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(A0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class to{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new to(0)}static cr(){return new to(-1)}}const Sv="LruGarbageCollector",kw=1048576;function bv([a,t],[i,r]){const l=xt(a,i);return l===0?xt(t,r):l}class Uw{constructor(t){this.Ir=t,this.buffer=new xe(bv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();bv(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Lw{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){it(Sv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){oo(i)?it(Sv,"Ignoring IndexedDB error during garbage collection: ",i):await ao(i)}await this.Vr(3e5)}))}}class Pw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(rh.ce);const r=new Uw(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Av)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Av):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(r=S,p=Date.now(),this.removeTargets(t,r,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,r)))).next((S=>(y=Date.now(),La()<=Mt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function zw(a,t){return new Pw(a,t)}class jw{constructor(){this.changes=new Gr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Bw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class qw{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Cl(r.mutation,l,Tn.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Vt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Vt()){const l=Lr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=El();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=Lr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Vt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,r,l){let c=ts();const d=Rl(),p=(function(){return Rl()})();return i.forEach(((_,y)=>{const A=r.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof ir)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Cl(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,Tn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new Bw(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const r=Rl();let l=new oe(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=r.get(_)||Tn.empty();A=p.applyToLocalView(y,A),r.set(_,A);const S=(l.get(p.batchId)||Vt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=i0();A.forEach((M=>{if(!c.has(M)){const F=c0(i.get(M),r.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Gb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(Lr());let p=Dl,_=c;return d.next((y=>X.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{_=_.insert(A,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((A=>({batchId:p,changes:n0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=El();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=El();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(S,M){return new lh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,r,l).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=El();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Cl(A.mutation,y,Tn.empty(),ne.now()),ch(i,y)&&(p=p.insert(_,y))})),p}))}}class Hw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ai(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Mw(l.bundledQuery),readTime:Ai(l.readTime)}})(i)),X.resolve()}}class Fw{constructor(){this.overlays=new oe(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=Lr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=Lr(),c=i.length+1,d=new dt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>r&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>r){let A=c.get(y.largestBatchId);A===null&&(A=Lr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Lr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new lw(i,r));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class Gw{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Vm{constructor(){this.Qr=new xe(Le.$r),this.Ur=new xe(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Le(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new ee([])),r=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new ee([])),r=new Le(i,t),l=new Le(i,t+1);let c=Vt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||xt(t.Yr,i.Yr)}static Kr(t,i){return xt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class Qw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new xe(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new ow(c,i,r,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Am:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new xe(xt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{r=r.add(p.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new dt(c),0);let p=new xe(xt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!r.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Le(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Kw{constructor(t){this.ri=t,this.docs=(function(){return new oe(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let r=ts();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=ts();const d=i.path,p=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Ab(Tb(A),r)<=0||(l.has(A.key)||ch(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){gt(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new Yw(this)}getSize(t){return X.resolve(this.size)}}class Yw extends jw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Xw{constructor(t){this.persistence=t,this.si=new Gr((i=>wm(i)),Rm),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Vm,this.targetCount=0,this.ai=to.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new to(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&r.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class S0{constructor(t,i){this.ui={},this.overlays={},this.ci=new rh(0),this.li=!1,this.li=!0,this.hi=new Gw,this.referenceDelegate=t(this),this.Pi=new Xw(this),this.indexManager=new xw,this.remoteDocumentCache=(function(l){return new Kw(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Ow(i),this.Ii=new Hw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Fw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new Qw(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){it("MemoryPersistence","Starting transaction:",t);const l=new Zw(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class Zw extends bb{constructor(t){super(),this.currentSequenceNumber=t}}class km{constructor(t){this.persistence=t,this.Ri=new Vm,this.Vi=null}static mi(t){return new km(t)}get fi(){if(this.Vi)return this.Vi;throw gt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Yc{constructor(t,i){this.persistence=t,this.pi=new Gr((r=>Cb(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=zw(this,i)}static mi(t,i){return new Yc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Nc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Um{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Um(t,i.fromCache,r,l)}}class Jw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class $w{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return HA()?8:wb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Jw;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(La()<=Mt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",Pa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(La()<=Mt.DEBUG&&it("QueryEngine","Query:",Pa(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(La()<=Mt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",Pa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ti(i))):X.resolve())}ys(t,i){if(fv(i))return X.resolve(null);let r=Ti(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=tm(i,null,"F"),r=Ti(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,r).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,tm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,r,l){return fv(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(La()<=Mt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Pa(i)),this.vs(t,d,i,Eb(l,Dl)).next((p=>p)))}))}Ds(t,i){let r=new xe(t0(t));return i.forEach(((l,c)=>{ch(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return La()<=Mt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",Pa(i)),this.ps.getDocumentsMatchingQuery(t,i,Xs.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Lm="LocalStore",Ww=3e8;class tR{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(xt),this.xs=new Gr((c=>wm(c)),Rm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new qw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function eR(a,t,i,r){return new tR(a,t,i,r)}async function b0(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],p=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(r,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function nR(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,M=S.keys();let F=X.resolve();return M.forEach((Z=>{F=F.next((()=>A.getEntry(_,Z))).next((tt=>{const $=y.docVersions.get(Z);Ht($!==null,48541),tt.version.compareTo($)<0&&(S.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),A.addEntry(tt)))}))})),F.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(p){let _=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function w0(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function iR(a,t){const i=Et(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const M=l.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Qe.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,r)),l=l.insert(S,F),(function(tt,$,at){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=Ww?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(M,F,A)&&p.push(i.Pi.updateTargetData(c,F))}));let _=ts(),y=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(sR(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!r.isEqual(_t.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function sR(a,t,i){let r=Vt(),l=Vt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=ts();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(_t.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):it(Lm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function rR(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Am),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function aR(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new qs(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function rm(a,t,i){const r=Et(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!oo(d))throw d;it(Lm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function wv(a,t,i){const r=Et(a);let l=_t.min(),c=Vt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=Et(_),M=S.xs.get(A);return M!==void 0?X.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,A)})(r,d,Ti(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Vt()))).next((p=>(oR(r,Kb(t),p),{documents:p,Qs:c})))))}function oR(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class Rv{constructor(){this.activeTargetIds=Wb()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class lR{constructor(){this.Mo=new Rv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Rv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class uR{Oo(t){}shutdown(){}}const Cv="ConnectivityMonitor";class Iv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){it(Cv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){it(Cv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let wc=null;function am(){return wc===null?wc=(function(){return 268435456+Math.round(2147483648*Math.random())})():wc++,"0x"+wc.toString(16)}const Pd="RestConnection",cR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===qc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=am(),p=this.zo(t,i.toUriEncodedString());it(Pd,`Sending RPC '${t}' ${d}:`,p,r);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=io(y);return this.Jo(t,p,_,r,A).then((S=>(it(Pd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Ya(Pd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",r),S}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ro})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=cR[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class fR{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class dR extends hR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=am();return new Promise(((p,_)=>{const y=new IE;y.setWithCredentials(!0),y.listenOnce(NE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Ic.NO_ERROR:const S=y.getResponseJson();it(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case Ic.TIMEOUT:it(Ye,`RPC '${t}' ${d} timed out`),_(new lt(J.DEADLINE_EXCEEDED,"Request time out"));break;case Ic.HTTP_ERROR:const M=y.getStatus();if(it(Ye,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const Z=F?.error;if(Z&&Z.status&&Z.message){const tt=(function(at){const ut=at.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ut)>=0?ut:J.UNKNOWN})(Z.status);_(new lt(tt,Z.message))}else _(new lt(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(J.UNAVAILABLE,"Connection failed."));break;default:gt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{it(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);it(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,r,15)}))}T_(t,i,r){const l=am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=ME(),p=OE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,r),_.encodeInitMessageHeaders=!0;const A=c.join("");it(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let M=!1,F=!1;const Z=new fR({Yo:$=>{F?it(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(M||(it(Ye,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),it(Ye,`RPC '${t}' stream ${l} sending:`,$),S.send($))},Zo:()=>S.close()}),tt=($,at,ut)=>{$.listen(at,(ct=>{try{ut(ct)}catch(Ct){setTimeout((()=>{throw Ct}),0)}}))};return tt(S,vl.EventType.OPEN,(()=>{F||(it(Ye,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),tt(S,vl.EventType.CLOSE,(()=>{F||(F=!0,it(Ye,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(S))})),tt(S,vl.EventType.ERROR,($=>{F||(F=!0,Ya(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),Z.a_(new lt(J.UNAVAILABLE,"The operation could not be completed")))})),tt(S,vl.EventType.MESSAGE,($=>{if(!F){const at=$.data[0];Ht(!!at,16349);const ut=at,ct=ut?.error||ut[0]?.error;if(ct){it(Ye,`RPC '${t}' stream ${l} received error:`,ct);const Ct=ct.status;let Rt=(function(b){const C=be[b];if(C!==void 0)return f0(C)})(Ct),wt=ct.message;Rt===void 0&&(Rt=J.INTERNAL,wt="Unknown error status: "+Ct+" with message "+ct.message),F=!0,Z.a_(new lt(Rt,wt)),S.close()}else it(Ye,`RPC '${t}' stream ${l} received:`,at),Z.u_(at)}})),tt(p,DE.STAT_EVENT,($=>{$.stat===Yd.PROXY?it(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Yd.NOPROXY&&it(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function zd(){return typeof document<"u"?document:null}function mh(a){return new yw(a,!0)}class R0{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&it("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Nv="PersistentStream";class C0{constructor(t,i,r,l,c,d,p,_){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new R0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Wi(i.toString()),Wi("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new lt(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return it(Nv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(it(Nv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class mR extends C0{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ew(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ai(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=sm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=Wd(_)?{documents:Sw(c,_)}:{query:bw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=g0(c,d.resumeToken);const y=em(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(_t.min())>0){p.readTime=Kc(c,d.snapshotVersion.toTimestamp());const y=em(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const r=Rw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=sm(this.serializer),i.removeTarget=t,this.q_(i)}}class gR extends C0{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Aw(t.writeResults,t.commitTime),r=Ai(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=sm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Tw(this.serializer,r)))};this.q_(i)}}class pR{}class yR extends pR{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,nm(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(J.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,nm(i,r),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class _R{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Wi(i),this.aa=!1):it("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Hr="RemoteStore";class vR{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Qr(this)&&(it(Hr,"Restarting streams for network reachability change."),await(async function(_){const y=Et(_);y.Ea.add(4),await Bl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await gh(y)})(this))}))})),this.Ra=new _R(r,l)}}async function gh(a){if(Qr(a))for(const t of a.da)await t(!0)}async function Bl(a){for(const t of a.da)await t(!1)}function I0(a,t){const i=Et(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Bm(i)?jm(i):lo(i).O_()&&zm(i,t))}function Pm(a,t){const i=Et(a),r=lo(i);i.Ia.delete(t),r.O_()&&N0(i,t),i.Ia.size===0&&(r.O_()?r.L_():Qr(i)&&i.Ra.set("Unknown"))}function zm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}lo(a).Y_(t)}function N0(a,t){a.Va.Ue(t),lo(a).Z_(t)}function jm(a){a.Va=new dw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),lo(a).start(),a.Ra.ua()}function Bm(a){return Qr(a)&&!lo(a).x_()&&a.Ia.size>0}function Qr(a){return Et(a).Ea.size===0}function D0(a){a.Va=void 0}async function ER(a){a.Ra.set("Online")}async function TR(a){a.Ia.forEach(((t,i)=>{zm(a,t)}))}async function AR(a,t){D0(a),Bm(a)?(a.Ra.ha(t),jm(a)):a.Ra.set("Unknown")}async function SR(a,t,i){if(a.Ra.set("Online"),t instanceof m0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(a,t)}catch(r){it(Hr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Xc(a,r)}else if(t instanceof Mc?a.Va.Ze(t):t instanceof d0?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await w0(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),N0(c,_);const S=new qs(A.target,_,y,A.sequenceNumber);zm(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(a,i)}catch(r){it(Hr,"Failed to raise snapshot:",r),await Xc(a,r)}}async function Xc(a,t,i){if(!oo(t))throw t;a.Ea.add(1),await Bl(a),a.Ra.set("Offline"),i||(i=()=>w0(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{it(Hr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await gh(a)}))}function O0(a,t){return t().catch((i=>Xc(a,i,t)))}async function ph(a){const t=Et(a),i=Ws(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Am;for(;bR(t);)try{const l=await rR(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,wR(t,l)}catch(l){await Xc(t,l)}M0(t)&&x0(t)}function bR(a){return Qr(a)&&a.Ta.length<10}function wR(a,t){a.Ta.push(t);const i=Ws(a);i.O_()&&i.X_&&i.ea(t.mutations)}function M0(a){return Qr(a)&&!Ws(a).x_()&&a.Ta.length>0}function x0(a){Ws(a).start()}async function RR(a){Ws(a).ra()}async function CR(a){const t=Ws(a);for(const i of a.Ta)t.ea(i.mutations)}async function IR(a,t,i){const r=a.Ta.shift(),l=Om.from(r,t,i);await O0(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await ph(a)}async function NR(a,t){t&&Ws(a).X_&&await(async function(r,l){if((function(d){return cw(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();Ws(r).B_(),await O0(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await ph(r)}})(a,t),M0(a)&&x0(a)}async function Dv(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),it(Hr,"RemoteStore received new credentials");const r=Qr(i);i.Ea.add(3),await Bl(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await gh(i)}async function DR(a,t){const i=Et(a);t?(i.Ea.delete(2),await gh(i)):t||(i.Ea.add(2),await Bl(i),i.Ra.set("Unknown"))}function lo(a){return a.ma||(a.ma=(function(i,r,l){const c=Et(i);return c.sa(),new mR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:ER.bind(null,a),t_:TR.bind(null,a),r_:AR.bind(null,a),H_:SR.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Bm(a)?jm(a):a.Ra.set("Unknown")):(await a.ma.stop(),D0(a))}))),a.ma}function Ws(a){return a.fa||(a.fa=(function(i,r,l){const c=Et(i);return c.sa(),new gR(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:RR.bind(null,a),r_:NR.bind(null,a),ta:CR.bind(null,a),na:IR.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await ph(a)):(await a.fa.stop(),a.Ta.length>0&&(it(Hr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class qm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,p=new qm(t,i,d,l,c);return p.start(r),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hm(a,t){if(Wi("AsyncQueue",`${t}: ${a}`),oo(a))return new lt(J.UNAVAILABLE,`${t}: ${a}`);throw a}class qa{static emptySet(t){return new qa(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=El(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof qa)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new qa;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class Ov{constructor(){this.ga=new oe(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):gt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class eo{constructor(t,i,r,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new eo(t,i,qa.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&uh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class OR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class MR{constructor(){this.queries=Mv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),c=l.queries;l.queries=Mv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(r)}))})(this,new lt(J.ABORTED,"Firestore shutting down"))}}function Mv(){return new Gr((a=>WE(a)),uh)}async function xR(a,t){const i=Et(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new OR,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Hm(d,`Initialization of query '${Pa(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Fm(i)}async function VR(a,t){const i=Et(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function kR(a,t){const i=Et(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(r=!0);d.wa=l}}r&&Fm(i)}function UR(a,t,i){const r=Et(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Fm(a){a.Ca.forEach((t=>{t.next()}))}var om,xv;(xv=om||(om={})).Ma="default",xv.Cache="cache";class LR{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new eo(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=eo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==om.Cache}}class V0{constructor(t){this.key=t}}class k0{constructor(t){this.key=t}}class PR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=t0(t),this.tu=new qa(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new Ov,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const M=l.get(A),F=ch(this.query,S)?S:null,Z=!!M&&this.mutatedKeys.has(M.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let $=!1;M&&F?M.data.isEqual(F.data)?Z!==tt&&(r.track({type:3,doc:F}),$=!0):this.su(M,F)||(r.track({type:2,doc:F}),$=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(p=!0)):!M&&F?(r.track({type:0,doc:F}),$=!0):M&&!F&&(r.track({type:1,doc:M}),$=!0,(_||y)&&(p=!0)),$&&(F?(d=d.add(F),c=tt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),r.track({type:1,doc:A})}return{tu:d,iu:r,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,Z){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return gt(20277,{Rt:$})}};return tt(F)-tt(Z)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(r),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new eo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Ov,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new k0(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new V0(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return eo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Gm="SyncEngine";class zR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class jR{constructor(t){this.key=t,this.hu=!1}}class BR{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Gr((p=>WE(p)),uh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(dt.comparator),this.Au=new Map,this.Ru=new Vm,this.Vu={},this.mu=new Map,this.fu=to.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function qR(a,t,i=!0){const r=B0(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await U0(r,t,i,!0),l}async function HR(a,t){const i=B0(a);await U0(i,t,!0,!1)}async function U0(a,t,i,r){const l=await aR(a.localStore,Ti(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let p;return r&&(p=await FR(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&I0(a.remoteStore,l),p}async function FR(a,t,i,r,l){a.pu=(S,M,F)=>(async function(tt,$,at,ut){let ct=$.view.ru(at);ct.Cs&&(ct=await wv(tt.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,ct))));const Ct=ut&&ut.targetChanges.get($.targetId),Rt=ut&&ut.targetMismatches.get($.targetId)!=null,wt=$.view.applyChanges(ct,tt.isPrimaryClient,Ct,Rt);return kv(tt,$.targetId,wt.au),wt.snapshot})(a,S,M,F);const c=await wv(a.localStore,t,!0),d=new PR(t,c.Qs),p=d.ru(c.documents),_=jl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),y=d.applyChanges(p,a.isPrimaryClient,_);kv(a,i,y.au);const A=new zR(t,i,d);return a.Tu.set(t,A),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),y.snapshot}async function GR(a,t,i){const r=Et(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!uh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await rm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Pm(r.remoteStore,l.targetId),lm(r,l.targetId)})).catch(ao)):(lm(r,l.targetId),await rm(r.localStore,l.targetId,!0))}async function QR(a,t){const i=Et(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Pm(i.remoteStore,r.targetId))}async function KR(a,t,i){const r=t2(a);try{const l=await(function(d,p){const _=Et(d),y=ne.now(),A=p.reduce(((F,Z)=>F.add(Z.key)),Vt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let Z=ts(),tt=Vt();return _.Ns.getEntries(F,A).next(($=>{Z=$,Z.forEach(((at,ut)=>{ut.isValidDocument()||(tt=tt.add(at))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,Z))).next(($=>{S=$;const at=[];for(const ut of p){const ct=rw(ut,S.get(ut.key).overlayedDocument);ct!=null&&at.push(new ir(ut.key,ct,QE(ct.value.mapValue),Jn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,at,p)})).next(($=>{M=$;const at=$.applyToLocalDocumentSet(S,tt);return _.documentOverlayCache.saveOverlays(F,$.batchId,at)}))})).then((()=>({batchId:M.batchId,changes:n0(S)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(xt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(r,l.batchId,i),await ql(r,l.changes),await ph(r.remoteStore)}catch(l){const c=Hm(l,"Failed to persist write");i.reject(c)}}async function L0(a,t){const i=Et(a);try{const r=await iR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await ql(i,r,t)}catch(r){await ao(r)}}function Vv(a,t,i){const r=Et(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=Et(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(p)&&(y=!0)})),y&&Fm(_)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function YR(a,t,i){const r=Et(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new oe(dt.comparator);d=d.insert(c,Ze.newNoDocument(c,_t.min()));const p=Vt().add(c),_=new dh(_t.min(),new Map,new oe(xt),d,p);await L0(r,_),r.du=r.du.remove(c),r.Au.delete(t),Qm(r)}else await rm(r.localStore,t,!1).then((()=>lm(r,t,i))).catch(ao)}async function XR(a,t){const i=Et(a),r=t.batch.batchId;try{const l=await nR(i.localStore,t);z0(i,r,null),P0(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await ql(i,l)}catch(l){await ao(l)}}async function ZR(a,t,i){const r=Et(a);try{const l=await(function(d,p){const _=Et(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Ht(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(r.localStore,t);z0(r,t,i),P0(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await ql(r,l)}catch(l){await ao(l)}}function P0(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function z0(a,t,i){const r=Et(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function lm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||j0(a,r)}))}function j0(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Pm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Qm(a))}function kv(a,t,i){for(const r of i)r instanceof V0?(a.Ru.addReference(r.key,t),JR(a,r)):r instanceof k0?(it(Gm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||j0(a,r.key)):gt(19791,{wu:r})}function JR(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(it(Gm,"New document in limbo: "+i),a.Eu.add(r),Qm(a))}function Qm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new dt(ee.fromString(t)),r=a.fu.next();a.Au.set(r,new jR(i)),a.du=a.du.insert(i,r),I0(a.remoteStore,new qs(Ti(Cm(i.path)),r,"TargetPurposeLimboResolution",rh.ce))}}async function ql(a,t,i){const r=Et(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((p,_)=>{d.push(r.pu(_,t,i).then((y=>{if((y||i)&&r.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;r.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Um.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(_,y){const A=Et(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>X.forEach(y,(M=>X.forEach(M.Es,(F=>A.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>X.forEach(M.ds,(F=>A.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!oo(S))throw S;it(Lm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const F=A.Ms.get(M),Z=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(Z);A.Ms=A.Ms.insert(M,tt)}}})(r.localStore,c))}async function $R(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){it(Gm,"User change. New user:",t.toKey());const r=await b0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new lt(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await ql(i,r.Ls)}}function WR(a,t){const i=Et(a),r=i.Au.get(t);if(r&&r.hu)return Vt().add(r.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function B0(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=L0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=WR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=YR.bind(null,t),t.Pu.H_=kR.bind(null,t.eventManager),t.Pu.yu=UR.bind(null,t.eventManager),t}function t2(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=XR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ZR.bind(null,t),t}class Zc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return eR(this.persistence,new $w,t.initialUser,this.serializer)}Cu(t){return new S0(km.mi,this.serializer)}Du(t){return new lR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zc.provider={build:()=>new Zc};class e2 extends Zc{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Yc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lw(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new S0((r=>Yc.mi(r,i)),this.serializer)}}class um{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Vv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$R.bind(null,this.syncEngine),await DR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new MR})()}createDatastore(t){const i=mh(t.databaseInfo.databaseId),r=(function(c){return new dR(c)})(t.databaseInfo);return(function(c,d,p,_){return new yR(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,p){return new vR(r,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Vv(this.syncEngine,i,0)),(function(){return Iv.v()?new Iv:new uR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new BR(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);it(Hr,"RemoteStore shutting down."),r.Ea.add(5),await Bl(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}um.provider={build:()=>new um};class n2{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Wi("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const tr="FirestoreClient";class i2{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=Em.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{it(tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(it(tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=Hm(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function jd(a,t){a.asyncQueue.verifyOperationInProgress(),it(tr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await b0(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Uv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await s2(a);it(tr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>Dv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>Dv(t.remoteStore,l))),a._onlineComponents=t}async function s2(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){it(tr,"Using user provided OfflineComponentProvider");try{await jd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ya("Error using user provided cache. Falling back to memory cache: "+i),await jd(a,new Zc)}}else it(tr,"Using default OfflineComponentProvider"),await jd(a,new e2(void 0));return a._offlineComponents}async function q0(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(it(tr,"Using user provided OnlineComponentProvider"),await Uv(a,a._uninitializedComponentsProvider._online)):(it(tr,"Using default OnlineComponentProvider"),await Uv(a,new um))),a._onlineComponents}function r2(a){return q0(a).then((t=>t.syncEngine))}async function Lv(a){const t=await q0(a),i=t.eventManager;return i.onListen=qR.bind(null,t.syncEngine),i.onUnlisten=GR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=HR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=QR.bind(null,t.syncEngine),i}function H0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Pv=new Map;const F0="firestore.googleapis.com",zv=!0;class jv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=F0,this.ssl=zv}else this.host=t.host,this.ssl=t.ssl??zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=A0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<kw)throw new lt(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}vb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new lt(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class yh{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new ub;switch(r.type){case"firstParty":return new db(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new lt(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Pv.get(i);r&&(it("ComponentProvider","Removing Datastore"),Pv.delete(i),r.terminate())})(this),Promise.resolve()}}function a2(a,t,i,r={}){a=Zi(a,yh);const l=io(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},p=`${t}:${i}`;l&&(vE(`https://${p}`),EE("Firestore",!0)),c.host!==F0&&c.host!==p&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:r};if(!Ji(_,d)&&(a._setSettings(_),r.mockUserToken)){let y,A;if(typeof r.mockUserToken=="string")y=r.mockUserToken,A=Xe.MOCK_USER;else{y=VA(r.mockUserToken,a._app?.options.projectId);const S=r.mockUserToken.sub||r.mockUserToken.user_id;if(!S)throw new lt(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(S)}a._authCredentials=new cb(new VE(y,A))}}class _h{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new _h(this.firestore,t,this._query)}}class Re{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ks(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Pl(i,Re._jsonSchema))return new Re(t,r||null,new dt(ee.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:we("string",Re._jsonSchemaVersion),referencePath:we("string")};class Ks extends _h{constructor(t,i,r){super(t,i,Cm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new dt(t))}withConverter(t){return new Ks(this.firestore,t,this._path)}}function Bv(a,t,...i){if(a=en(a),kE("collection","path",t),a instanceof yh){const r=ee.fromString(t,...i);return W_(r),new Ks(a,null,r)}{if(!(a instanceof Re||a instanceof Ks))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...i));return W_(r),new Ks(a.firestore,null,r)}}function Pr(a,t,...i){if(a=en(a),arguments.length===1&&(t=Em.newId()),kE("doc","path",t),a instanceof yh){const r=ee.fromString(t,...i);return $_(r),new Re(a,null,new dt(r))}{if(!(a instanceof Re||a instanceof Ks))throw new lt(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(ee.fromString(t,...i));return $_(r),new Re(a.firestore,a instanceof Ks?a.converter:null,new dt(r))}}const qv="AsyncQueue";class Hv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new R0(this,"async_queue_retry"),this._c=()=>{const r=zd();r&&it(qv,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=zd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=zd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new zr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!oo(t))throw t;it(qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,Wi("INTERNAL UNHANDLED ERROR: ",Fv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=qm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&gt(47125,{Pc:Fv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Fv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Gv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class no extends yh{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Hv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Hv(t),this._firestoreClient=void 0,await t}}}function o2(a,t){const i=typeof a=="object"?a:bE(),r=typeof a=="string"?a:qc,l=_m(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=MA("firestore");c&&a2(l,...c)}return l}function G0(a){if(a._terminated)throw new lt(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||l2(a),a._firestoreClient}function l2(a){const t=a._freezeSettings(),i=(function(l,c,d,p){return new Db(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,H0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new i2(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new kn(Qe.fromBase64String(t))}catch(i){throw new lt(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new kn(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Pl(t,kn._jsonSchema))return kn.fromBase64String(t.bytes)}}kn._jsonSchemaVersion="firestore/bytes/1.0",kn._jsonSchema={type:we("string",kn._jsonSchemaVersion),bytes:we("string")};class vh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class uo{constructor(t){this._methodName=t}}class Si{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return xt(this._lat,t._lat)||xt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Si._jsonSchemaVersion}}static fromJSON(t){if(Pl(t,Si._jsonSchema))return new Si(t.latitude,t.longitude)}}Si._jsonSchemaVersion="firestore/geoPoint/1.0",Si._jsonSchema={type:we("string",Si._jsonSchemaVersion),latitude:we("number"),longitude:we("number")};class bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Pl(t,bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new bi(t.vectorValues);throw new lt(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:we("string",bi._jsonSchemaVersion),vectorValues:we("object")};const u2=/^__.*__$/;class c2{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new ir(t,this.data,this.fieldMask,i,this.fieldTransforms):new zl(t,this.data,i,this.fieldTransforms)}}class Q0{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new ir(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function K0(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw gt(40011,{Ac:a})}}class Eh{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Eh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Jc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(K0(this.Ac)&&u2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class h2{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||mh(t)}Cc(t,i,r,l=!1){return new Eh({Ac:t,methodName:i,Dc:r,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Y0(a){const t=a._freezeSettings(),i=mh(a._databaseId);return new h2(a._databaseId,!!t.ignoreUndefinedProperties,i)}function f2(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);Zm("Data must be an object, but it was:",d,r);const p=Z0(r,d);let _,y;if(c.merge)_=new Tn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=cm(t,S,i);if(!d.contains(M))throw new lt(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);$0(A,M)||A.push(M)}_=new Tn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new c2(new hn(p),_,y)}class Th extends uo{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Th}}function X0(a,t,i){return new Eh({Ac:3,Dc:t.settings.Dc,methodName:a._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Km extends uo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=X0(this,t,!0),r=this.vc.map((c=>co(c,i))),l=new $a(r);return new Nm(t.path,l)}isEqual(t){return t instanceof Km&&Ji(this.vc,t.vc)}}class Ym extends uo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=X0(this,t,!0),r=this.vc.map((c=>co(c,i))),l=new Wa(r);return new Nm(t.path,l)}isEqual(t){return t instanceof Ym&&Ji(this.vc,t.vc)}}class Xm extends uo{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Vl(t.serializer,r0(t.serializer,this.Fc));return new Nm(t.path,i)}isEqual(t){return t instanceof Xm&&this.Fc===t.Fc}}function d2(a,t,i,r){const l=a.Cc(1,t,i);Zm("Data must be an object, but it was:",l,r);const c=[],d=hn.empty();nr(r,((_,y)=>{const A=Jm(t,_,i);y=en(y);const S=l.yc(A);if(y instanceof Th)c.push(A);else{const M=co(y,S);M!=null&&(c.push(A),d.set(A,M))}}));const p=new Tn(c);return new Q0(d,p,l.fieldTransforms)}function m2(a,t,i,r,l,c){const d=a.Cc(1,t,i),p=[cm(t,r,i)],_=[l];if(c.length%2!=0)throw new lt(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(cm(t,c[M])),_.push(c[M+1]);const y=[],A=hn.empty();for(let M=p.length-1;M>=0;--M)if(!$0(y,p[M])){const F=p[M];let Z=_[M];Z=en(Z);const tt=d.yc(F);if(Z instanceof Th)y.push(F);else{const $=co(Z,tt);$!=null&&(y.push(F),A.set(F,$))}}const S=new Tn(y);return new Q0(A,S,d.fieldTransforms)}function co(a,t){if(J0(a=en(a)))return Zm("Unsupported field value:",t,a),Z0(a,t);if(a instanceof uo)return(function(r,l){if(!K0(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const p of r){let _=co(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=en(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r0(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=ne.fromDate(r);return{timestampValue:Kc(l.serializer,c)}}if(r instanceof ne){const c=new ne(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kc(l.serializer,c)}}if(r instanceof Si)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof kn)return{bytesValue:g0(l.serializer,r._byteString)};if(r instanceof Re){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:xm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof bi)return(function(d,p){return{mapValue:{fields:{[FE]:{stringValue:GE},[Hc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Im(p.serializer,y)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${Tm(r)}`)})(a,t)}function Z0(a,t){const i={};return PE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):nr(a,((r,l)=>{const c=co(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function J0(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof ne||a instanceof Si||a instanceof kn||a instanceof Re||a instanceof uo||a instanceof bi)}function Zm(a,t,i){if(!J0(i)||!UE(i)){const r=Tm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function cm(a,t,i){if((t=en(t))instanceof vh)return t._internalPath;if(typeof t=="string")return Jm(a,t);throw Jc("Field path arguments must be of type string or ",a,!1,void 0,i)}const g2=new RegExp("[~\\*/\\[\\]]");function Jm(a,t,i){if(t.search(g2)>=0)throw Jc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new vh(...t.split("."))._internalPath}catch{throw Jc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function Jc(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${r}`),d&&(_+=` in document ${l}`),_+=")"),new lt(J.INVALID_ARGUMENT,p+a+_)}function $0(a,t){return a.some((i=>i.isEqual(t)))}class W0{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new p2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(tT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class p2 extends W0{data(){return super.data()}}function tT(a,t){return typeof t=="string"?Jm(a,t):t instanceof vh?t._internalPath:t._delegate._internalPath}function y2(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new lt(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _2{convertValue(t,i="none"){switch($s(t)){case 0:return null;case 1:return t.booleanValue;case 2:return me(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Js(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw gt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return nr(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Hc].arrayValue?.values?.map((r=>me(r.doubleValue)));return new bi(i)}convertGeoPoint(t){return new Si(me(t.latitude),me(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=oh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ol(t));default:return null}}convertTimestamp(t){const i=Zs(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=ee.fromString(t);Ht(T0(r),9688,{name:t});const l=new Ml(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||Wi(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function v2(a,t,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,r}class Al{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class jr extends W0{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(tT("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=jr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}jr._jsonSchemaVersion="firestore/documentSnapshot/1.0",jr._jsonSchema={type:we("string",jr._jsonSchemaVersion),bundleSource:we("string","DocumentSnapshot"),bundleName:we("string"),bundle:we("string")};class xc extends jr{data(t={}){return super.data(t)}}class Ha{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Al(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new xc(this._firestore,this._userDataWriter,r.key,r,new Al(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new xc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Al(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:E2(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ha._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Em.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function E2(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return gt(61501,{type:a})}}Ha._jsonSchemaVersion="firestore/querySnapshot/1.0",Ha._jsonSchema={type:we("string",Ha._jsonSchemaVersion),bundleSource:we("string","QuerySnapshot"),bundleName:we("string"),bundle:we("string")};class eT extends _2{constructor(t){super(),this.firestore=t}convertBytes(t){return new kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function nT(a,t,i){a=Zi(a,Re);const r=Zi(a.firestore,no),l=v2(a.converter,t,i);return $m(r,[f2(Y0(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,Jn.none())])}function Vc(a,t,i,...r){a=Zi(a,Re);const l=Zi(a.firestore,no),c=Y0(l);let d;return d=typeof(t=en(t))=="string"||t instanceof vh?m2(c,"updateDoc",a._key,t,i,r):d2(c,"updateDoc",a._key,t),$m(l,[d.toMutation(a._key,Jn.exists(!0))])}function T2(a){return $m(Zi(a.firestore,no),[new Dm(a._key,Jn.none())])}function Qv(a,...t){a=en(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Gv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Gv(t[r])){const _=t[r];t[r]=_.next?.bind(_),t[r+1]=_.error?.bind(_),t[r+2]=_.complete?.bind(_)}let c,d,p;if(a instanceof Re)d=Zi(a.firestore,no),p=Cm(a._key.path),c={next:_=>{t[r]&&t[r](A2(d,a,_))},error:t[r+1],complete:t[r+2]};else{const _=Zi(a,_h);d=Zi(_.firestore,no),p=_._query;const y=new eT(d);c={next:A=>{t[r]&&t[r](new Ha(d,y,_,A))},error:t[r+1],complete:t[r+2]},y2(a._query)}return(function(y,A,S,M){const F=new n2(M),Z=new LR(A,F,S);return y.asyncQueue.enqueueAndForget((async()=>xR(await Lv(y),Z))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>VR(await Lv(y),Z)))}})(G0(d),p,l,c)}function $m(a,t){return(function(r,l){const c=new zr;return r.asyncQueue.enqueueAndForget((async()=>KR(await r2(r),l,c))),c.promise})(G0(a),t)}function A2(a,t,i){const r=i.docs.get(t._key),l=new eT(a);return new jr(a,l,t._key,r,new Al(i.hasPendingWrites,i.fromCache),t.converter)}function S2(...a){return new Km("arrayUnion",a)}function b2(...a){return new Ym("arrayRemove",a)}function Rc(a){return new Xm("increment",a)}(function(t,i=!0){(function(l){ro=l})(so),Ka(new Br("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),p=new no(new hb(r.getProvider("auth-internal")),new mb(d,r.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ml(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Gs(Y_,X_,t),Gs(Y_,X_,"esm2020")})();function iT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const w2=iT,sT=new Ul("auth","Firebase",iT());const $c=new pm("@firebase/auth");function R2(a,...t){$c.logLevel<=Mt.WARN&&$c.warn(`Auth (${so}): ${a}`,...t)}function kc(a,...t){$c.logLevel<=Mt.ERROR&&$c.error(`Auth (${so}): ${a}`,...t)}function es(a,...t){throw Wm(a,...t)}function wi(a,...t){return Wm(a,...t)}function rT(a,t,i){const r={...w2(),[t]:i};return new Ul("auth","Firebase",r).create(t,{appName:a.name})}function Ys(a){return rT(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Wm(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return sT.create(a,...t)}function pt(a,t,...i){if(!a)throw Wm(t,...i)}function Yi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw kc(t),new Error(t)}function ns(a,t){a||Yi(t)}function hm(){return typeof self<"u"&&self.location?.href||""}function C2(){return Kv()==="http:"||Kv()==="https:"}function Kv(){return typeof self<"u"&&self.location?.protocol||null}function I2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(C2()||jA()||"connection"in navigator)?navigator.onLine:!0}function N2(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Hl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ns(i>t,"Short delay should be less than long delay!"),this.isMobile=LA()||BA()}get(){return I2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tg(a,t){ns(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class aT{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Yi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Yi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Yi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const D2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const O2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],M2=new Hl(3e4,6e4);function Ah(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function ho(a,t,i,r,l={}){return oT(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const p=Ll({key:a.config.apiKey,...d}).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const y={method:t,headers:_,...c};return zA()||(y.referrerPolicy="no-referrer"),a.emulatorConfig&&io(a.emulatorConfig.host)&&(y.credentials="include"),aT.fetch()(await uT(a,a.config.apiHost,i,p),y)})}async function oT(a,t,i){a._canInitEmulator=!1;const r={...D2,...t};try{const l=new x2(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Cc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cc(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Cc(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Cc(a,"user-disabled",d);const A=r[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw rT(a,A,y);es(a,A)}}catch(l){if(l instanceof is)throw l;es(a,"network-request-failed",{message:String(l)})}}async function lT(a,t,i,r,l={}){const c=await ho(a,t,i,r,l);return"mfaPendingCredential"in c&&es(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function uT(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?tg(a.config,l):`${a.config.apiScheme}://${l}`;return O2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class x2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(wi(this.auth,"network-request-failed")),M2.get())})}}function Cc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=wi(a,t,r);return l.customData._tokenResponse=i,l}async function V2(a,t){return ho(a,"POST","/v1/accounts:delete",t)}async function Wc(a,t){return ho(a,"POST","/v1/accounts:lookup",t)}function Il(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function k2(a,t=!1){const i=en(a),r=await i.getIdToken(t),l=eg(r);pt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Il(Bd(l.auth_time)),issuedAtTime:Il(Bd(l.iat)),expirationTime:Il(Bd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Bd(a){return Number(a)*1e3}function eg(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return kc("JWT malformed, contained fewer than 3 sections"),null;try{const l=gE(i);return l?JSON.parse(l):(kc("Failed to decode base64 JWT payload"),null)}catch(l){return kc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Yv(a){const t=eg(a);return pt(t,"internal-error"),pt(typeof t.exp<"u","internal-error"),pt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function kl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof is&&U2(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function U2({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class L2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class fm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Il(this.lastLoginAt),this.creationTime=Il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function th(a){const t=a.auth,i=await a.getIdToken(),r=await kl(a,Wc(t,{idToken:i}));pt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?cT(l.providerUserInfo):[],d=z2(a.providerData,c),p=a.isAnonymous,_=!(a.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(a,A)}async function P2(a){const t=en(a);await th(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function z2(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function cT(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function j2(a,t){const i=await oT(a,{},async()=>{const r=Ll({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await uT(a,l,"/v1/token",`key=${c}`),p=await a._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:r};return a.emulatorConfig&&io(a.emulatorConfig.host)&&(_.credentials="include"),aT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function B2(a,t){return ho(a,"POST","/v2/accounts:revokeToken",Ah(a,t))}class Fa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){pt(t.idToken,"internal-error"),pt(typeof t.idToken<"u","internal-error"),pt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Yv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){pt(t.length!==0,"internal-error");const i=Yv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(pt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await j2(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Fa;return r&&(pt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(pt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(pt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fa,this.toJSON())}_performRefresh(){return Yi("not implemented")}}function Ls(a,t){pt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new L2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new fm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await kl(this,this.stsTokenManager.getToken(this.auth,t));return pt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return k2(this,t)}reload(){return P2(this)}_assign(t){this!==t&&(pt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){pt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await th(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Ys(this.auth));const t=await this.getIdToken();return await kl(this,V2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:Z,stsTokenManager:tt}=i;pt(S&&tt,t,"internal-error");const $=Fa.fromJSON(this.name,tt);pt(typeof S=="string",t,"internal-error"),Ls(r,t.name),Ls(l,t.name),pt(typeof M=="boolean",t,"internal-error"),pt(typeof F=="boolean",t,"internal-error"),Ls(c,t.name),Ls(d,t.name),Ls(p,t.name),Ls(_,t.name),Ls(y,t.name),Ls(A,t.name);const at=new Zn({uid:S,auth:t,email:l,emailVerified:M,displayName:r,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:A});return Z&&Array.isArray(Z)&&(at.providerData=Z.map(ut=>({...ut}))),_&&(at._redirectEventId=_),at}static async _fromIdTokenResponse(t,i,r=!1){const l=new Fa;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await th(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];pt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?cT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Fa;p.updateFromIdToken(r);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new fm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const Xv=new Map;function Xi(a){ns(a instanceof Function,"Expected a class definition");let t=Xv.get(a);return t?(ns(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Xv.set(a,t),t)}class hT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}hT.type="NONE";const Zv=hT;function Uc(a,t,i){return`firebase:${a}:${t}:${i}`}class Ga{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=Uc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Uc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await Wc(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new Ga(Xi(Zv),t,r);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Xi(Zv);const d=Uc(r,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const M=await Wc(t,{idToken:A}).catch(()=>{});if(!M)break;S=await Zn._fromGetAccountInfoResponse(t,M,A)}else S=Zn._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ga(c,t,r):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ga(c,t,r))}}function Jv(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(gT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(fT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(yT(t))return"Blackberry";if(_T(t))return"Webos";if(dT(t))return"Safari";if((t.includes("chrome/")||mT(t))&&!t.includes("edge/"))return"Chrome";if(pT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function fT(a=Je()){return/firefox\//i.test(a)}function dT(a=Je()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function mT(a=Je()){return/crios\//i.test(a)}function gT(a=Je()){return/iemobile/i.test(a)}function pT(a=Je()){return/android/i.test(a)}function yT(a=Je()){return/blackberry/i.test(a)}function _T(a=Je()){return/webos/i.test(a)}function ng(a=Je()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function q2(a=Je()){return ng(a)&&!!window.navigator?.standalone}function H2(){return qA()&&document.documentMode===10}function vT(a=Je()){return ng(a)||pT(a)||_T(a)||yT(a)||/windows phone/i.test(a)||gT(a)}function ET(a,t=[]){let i;switch(a){case"Browser":i=Jv(Je());break;case"Worker":i=`${Jv(Je())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${so}/${r}`}class F2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function G2(a,t={}){return ho(a,"GET","/v2/passwordPolicy",Ah(a,t))}const Q2=6;class K2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Q2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class Y2{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $v(this),this.idTokenSubscription=new $v(this),this.beforeStateQueue=new F2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=sT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Xi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ga.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await Wc(this,{idToken:t}),r=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(r=p.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return pt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await th(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=N2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Ys(this));const i=t?en(t):null;return i&&pt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&pt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Ys(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Ys(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Xi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await G2(this),i=new K2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Ul("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await B2(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Xi(t)||this._popupRedirectResolver;pt(i,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Xi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(pt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,r,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return pt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ET(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&R2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Sh(a){return en(a)}class $v{constructor(t){this.auth=t,this.observer=null,this.addObserver=ZA(i=>this.observer=i)}get next(){return pt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ig={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function X2(a){ig=a}function Z2(a){return ig.loadJS(a)}function J2(){return ig.gapiScript}function $2(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function W2(a,t){const i=_m(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(Ji(c,t??{}))return l;es(l,"already-initialized")}return i.initialize({options:t})}function tC(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(Xi);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function eC(a,t,i){const r=Sh(a);pt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=TT(t),{host:d,port:p}=nC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){pt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),pt(Ji(y,r.config.emulator)&&Ji(A,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=y,r.emulatorConfig=A,r.settings.appVerificationDisabledForTesting=!0,io(d)?(vE(`${c}//${d}${_}`),EE("Auth",!0)):iC()}function TT(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function nC(a){const t=TT(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:Wv(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:Wv(d)}}}function Wv(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function iC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class AT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Yi("not implemented")}_getIdTokenResponse(t){return Yi("not implemented")}_linkToIdToken(t,i){return Yi("not implemented")}_getReauthenticationResolver(t){return Yi("not implemented")}}async function Qa(a,t){return lT(a,"POST","/v1/accounts:signInWithIdp",Ah(a,t))}const sC="http://localhost";class Fr extends AT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Fr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):es("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Fr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Qa(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Qa(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Qa(t,i)}buildRequest(){const t={requestUri:sC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ll(i)}return t}}class ST{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Fl extends ST{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Ps extends Fl{constructor(){super("facebook.com")}static credential(t){return Fr._fromParams({providerId:Ps.PROVIDER_ID,signInMethod:Ps.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ps.credentialFromTaggedObject(t)}static credentialFromError(t){return Ps.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ps.credential(t.oauthAccessToken)}catch{return null}}}Ps.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ps.PROVIDER_ID="facebook.com";class zs extends Fl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Fr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return zs.credential(i,r)}catch{return null}}}zs.GOOGLE_SIGN_IN_METHOD="google.com";zs.PROVIDER_ID="google.com";class js extends Fl{constructor(){super("github.com")}static credential(t){return Fr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return js.credential(t.oauthAccessToken)}catch{return null}}}js.GITHUB_SIGN_IN_METHOD="github.com";js.PROVIDER_ID="github.com";class Bs extends Fl{constructor(){super("twitter.com")}static credential(t,i){return Fr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Bs.credential(i,r)}catch{return null}}}Bs.TWITTER_SIGN_IN_METHOD="twitter.com";Bs.PROVIDER_ID="twitter.com";async function rC(a,t){return lT(a,"POST","/v1/accounts:signUp",Ah(a,t))}class er{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Zn._fromIdTokenResponse(t,r,l),d=tE(r);return new er({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=tE(r);return new er({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function tE(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function aC(a){if(Xn(a.app))return Promise.reject(Ys(a));const t=Sh(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new er({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await rC(t,{returnSecureToken:!0}),r=await er._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class eh extends is{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,eh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new eh(t,i,r,l)}}function bT(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?eh._fromErrorAndOperation(a,c,t,r):c})}async function oC(a,t,i=!1){const r=await kl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return er._forOperation(a,"link",r)}async function lC(a,t,i=!1){const{auth:r}=a;if(Xn(r.app))return Promise.reject(Ys(r));const l="reauthenticate";try{const c=await kl(a,bT(r,l,t,a),i);pt(c.idToken,r,"internal-error");const d=eg(c.idToken);pt(d,r,"internal-error");const{sub:p}=d;return pt(a.uid===p,r,"user-mismatch"),er._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&es(r,"user-mismatch"),c}}async function uC(a,t,i=!1){if(Xn(a.app))return Promise.reject(Ys(a));const r="signIn",l=await bT(a,r,t),c=await er._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function cC(a,t,i,r){return en(a).onIdTokenChanged(t,i,r)}function hC(a,t,i){return en(a).beforeAuthStateChanged(t,i)}const nh="__sak";class wT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(nh,"1"),this.storage.removeItem(nh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const fC=1e3,dC=10;class RT extends wT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=vT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);H2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,dC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},fC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}RT.type="LOCAL";const mC=RT;class CT extends wT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}CT.type="SESSION";const IT=CT;function gC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new bh(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await gC(p);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bh.receivers=[];function sg(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class pC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=sg("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ri(){return window}function yC(a){Ri().location.href=a}function NT(){return typeof Ri().WorkerGlobalScope<"u"&&typeof Ri().importScripts=="function"}async function _C(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function vC(){return navigator?.serviceWorker?.controller||null}function EC(){return NT()?self:null}const DT="firebaseLocalStorageDb",TC=1,ih="firebaseLocalStorage",OT="fbase_key";class Gl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function wh(a,t){return a.transaction([ih],t?"readwrite":"readonly").objectStore(ih)}function AC(){const a=indexedDB.deleteDatabase(DT);return new Gl(a).toPromise()}function dm(){const a=indexedDB.open(DT,TC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(ih,{keyPath:OT})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(ih)?t(r):(r.close(),await AC(),t(await dm()))})})}async function eE(a,t,i){const r=wh(a,!0).put({[OT]:t,value:i});return new Gl(r).toPromise()}async function SC(a,t){const i=wh(a,!1).get(t),r=await new Gl(i).toPromise();return r===void 0?null:r.value}function nE(a,t){const i=wh(a,!0).delete(t);return new Gl(i).toPromise()}const bC=800,wC=3;class MT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>wC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return NT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bh._getInstance(EC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await _C(),!this.activeServiceWorker)return;this.sender=new pC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||vC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await dm();return await eE(t,nh,"1"),await nE(t,nh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>eE(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>SC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>nE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=wh(l,!1).getAll();return new Gl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}MT.type="LOCAL";const RC=MT;new Hl(3e4,6e4);function CC(a,t){return t?Xi(t):(pt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class rg extends AT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Qa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Qa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Qa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function IC(a){return uC(a.auth,new rg(a),a.bypassAuthState)}function NC(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),lC(i,new rg(a),a.bypassAuthState)}async function DC(a){const{auth:t,user:i}=a;return pt(i,t,"internal-error"),oC(i,new rg(a),a.bypassAuthState)}class xT{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return IC;case"linkViaPopup":case"linkViaRedirect":return DC;case"reauthViaPopup":case"reauthViaRedirect":return NC;default:es(this.auth,"internal-error")}}resolve(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const OC=new Hl(2e3,1e4);class Ba extends xT{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return pt(t,this.auth,"internal-error"),t}async onExecution(){ns(this.filter.length===1,"Popup operations only handle one event");const t=sg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(wi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(wi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(wi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,OC.get())};t()}}Ba.currentPopupAction=null;const MC="pendingRedirect",Lc=new Map;class xC extends xT{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Lc.get(this.auth._key());if(!t){try{const r=await VC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Lc.set(this.auth._key(),t)}return this.bypassAuthState||Lc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function VC(a,t){const i=LC(t),r=UC(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function kC(a,t){Lc.set(a._key(),t)}function UC(a){return Xi(a._redirectPersistence)}function LC(a){return Uc(MC,a.config.apiKey,a.name)}async function PC(a,t,i=!1){if(Xn(a.app))return Promise.reject(Ys(a));const r=Sh(a),l=CC(r,t),d=await new xC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const zC=600*1e3;class jC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!BC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!VT(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(wi(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=zC&&this.cachedEventUids.clear(),this.cachedEventUids.has(iE(t))}saveEventToCache(t){this.cachedEventUids.add(iE(t)),this.lastProcessedEventTime=Date.now()}}function iE(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function VT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function BC(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return VT(a);default:return!1}}async function qC(a,t={}){return ho(a,"GET","/v1/projects",t)}const HC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FC=/^https?/;async function GC(a){if(a.config.emulator)return;const{authorizedDomains:t}=await qC(a);for(const i of t)try{if(QC(i))return}catch{}es(a,"unauthorized-domain")}function QC(a){const t=hm(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!FC.test(i))return!1;if(HC.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const KC=new Hl(3e4,6e4);function sE(){const a=Ri().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function YC(a){return new Promise((t,i)=>{function r(){sE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{sE(),i(wi(a,"network-request-failed"))},timeout:KC.get()})}if(Ri().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ri().gapi?.load)r();else{const l=$2("iframefcb");return Ri()[l]=()=>{gapi.load?r():i(wi(a,"network-request-failed"))},Z2(`${J2()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Pc=null,t})}let Pc=null;function XC(a){return Pc=Pc||YC(a),Pc}const ZC=new Hl(5e3,15e3),JC="__/auth/iframe",$C="emulator/auth/iframe",WC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},tI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eI(a){const t=a.config;pt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?tg(t,$C):`https://${a.config.authDomain}/${JC}`,r={apiKey:t.apiKey,appName:a.name,v:so},l=tI.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${Ll(r).slice(1)}`}async function nI(a){const t=await XC(a),i=Ri().gapi;return pt(i,a,"internal-error"),t.open({where:document.body,url:eI(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WC,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=wi(a,"network-request-failed"),p=Ri().setTimeout(()=>{c(d)},ZC.get());function _(){Ri().clearTimeout(p),l(r)}r.ping(_).then(_,()=>{c(d)})}))}const iI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},sI=500,rI=600,aI="_blank",oI="http://localhost";class rE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function lI(a,t,i,r=sI,l=rI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let p="";const _={...iI,width:r.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=mT(y)?aI:i),fT(y)&&(t=t||oI,_.scrollbars="yes");const A=Object.entries(_).reduce((M,[F,Z])=>`${M}${F}=${Z},`,"");if(q2(y)&&p!=="_self")return uI(t||"",p),new rE(null);const S=window.open(t||"",p,A);pt(S,a,"popup-blocked");try{S.focus()}catch{}return new rE(S)}function uI(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const cI="__/auth/handler",hI="emulator/auth/handler",fI=encodeURIComponent("fac");async function aE(a,t,i,r,l,c){pt(a.config.authDomain,a,"auth-domain-config-required"),pt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:so,eventId:l};if(t instanceof ST){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",XA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Fl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}a.tenantId&&(d.tid=a.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await a._getAppCheckToken(),y=_?`#${fI}=${encodeURIComponent(_)}`:"";return`${dI(a)}?${Ll(p).slice(1)}${y}`}function dI({config:a}){return a.emulator?tg(a,hI):`https://${a.authDomain}/${cI}`}const qd="webStorageSupport";class mI{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=IT,this._completeRedirectFn=PC,this._overrideRedirectResult=kC}async _openPopup(t,i,r,l){ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await aE(t,i,r,hm(),l);return lI(t,c,sg())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await aE(t,i,r,hm(),l);return yC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ns(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await nI(t),r=new jC(t);return i.register("authEvent",l=>(pt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(qd,{type:qd},l=>{const c=l?.[0]?.[qd];c!==void 0&&i(!!c),es(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=GC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return vT()||dT()||ng()}}const gI=mI;var oE="@firebase/auth",lE="1.12.0";class pI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){pt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function yI(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _I(a){Ka(new Br("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=r.options;pt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const _={apiKey:d,authDomain:p,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ET(a)},y=new Y2(r,l,c,_);return tC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ka(new Br("auth-internal",t=>{const i=Sh(t.getProvider("auth").getImmediate());return(r=>new pI(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Gs(oE,lE,yI(a)),Gs(oE,lE,"esm2020")}const vI=300,EI=_E("authIdTokenMaxAge")||vI;let uE=null;const TI=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>EI)return;const l=i?.token;uE!==l&&(uE=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function AI(a=bE()){const t=_m(a,"auth");if(t.isInitialized())return t.getImmediate();const i=W2(a,{popupRedirectResolver:gI,persistence:[RC,mC,IT]}),r=_E("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=TI(c.toString());hC(i,d,()=>d(i.currentUser)),cC(i,p=>d(p))}}const l=pE("auth");return l&&eC(i,`http://${l}`),i}function SI(){return document.getElementsByTagName("head")?.[0]??document}X2({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=wi("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",SI().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_I("Browser");const bI=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),wI=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),cE=a=>{const t=wI(a);return t.charAt(0).toUpperCase()+t.slice(1)},kT=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),RI=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var CI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const II=Oe.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...p},_)=>Oe.createElement("svg",{ref:_,...CI,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:kT("lucide",l),...!c&&!RI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Oe.createElement(y,A)),...Array.isArray(c)?c:[c]]));const Un=(a,t)=>{const i=Oe.forwardRef(({className:r,...l},c)=>Oe.createElement(II,{ref:c,iconNode:t,className:kT(`lucide-${bI(cE(a))}`,`lucide-${a}`,r),...l}));return i.displayName=cE(a),i};const NI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],DI=Un("calendar",NI);const OI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UT=Un("circle-check-big",OI);const MI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],xI=Un("circle-x",MI);const VI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kI=Un("clock",VI);const UI=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],LI=Un("lock",UI);const PI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],zI=Un("log-out",PI);const jI=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],BI=Un("party-popper",jI);const qI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],HI=Un("trash-2",qI);const FI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],GI=Un("user-plus",FI);const QI=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],KI=Un("user",QI);const YI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],XI=Un("users",YI);const ZI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],JI=Un("x",ZI),$I={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},LT=SE($I),kr=o2(LT),WI=AI(LT),tN={teal:"#369EAD"},hE=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10},{id:"sat-09",day:"Sbado",time:"09:00",type:"Morning Flow",spots:12}],fE=({children:a,className:t=""})=>{const r=`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 transition-all hover:shadow-lg ${t.includes("bg-")?"":"bg-white"}`;return H.jsx("div",{className:`${r} ${t}`,children:a})},mm=({children:a,onClick:t,variant:i="primary",disabled:r=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-medium tracking-widest uppercase text-xs transition-all duration-300 transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E] shadow-sm",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-[#EBF5F6]",danger:"bg-red-50 text-red-600 hover:bg-red-100 border border-red-200",disabled:"bg-gray-100 text-gray-400 cursor-not-allowed border-gray-200"};return H.jsx("button",{onClick:r?null:t,className:`${c} ${r?d.disabled:d[i]} ${l}`,disabled:r,children:a})};function eN(){const[a,t]=Oe.useState("login"),[i,r]=Oe.useState(null),[l,c]=Oe.useState([]),[d,p]=Oe.useState({}),[_,y]=Oe.useState(null),[A,S]=Oe.useState(!0),M=(at,ut="success")=>{y({msg:at,type:ut}),setTimeout(()=>y(null),3e3)};Oe.useEffect(()=>{(async()=>{try{await aC(WI)}catch(ut){console.error("Error Auth:",ut)}finally{S(!1)}})()},[]),Oe.useEffect(()=>{const at=Qv(Bv(kr,"alumnas"),ct=>{const Ct=ct.docs.map(Rt=>({id:Rt.id,...Rt.data()}));if(c(Ct),i&&i.role!=="admin"){const Rt=Ct.find(wt=>wt.id===i.id);Rt&&r(wt=>({...Rt,firstName:wt.firstName,role:"student"}))}}),ut=Qv(Bv(kr,"sesiones"),ct=>{const Ct={};ct.docs.forEach(Rt=>Ct[Rt.id]=Rt.data().booked||0),p(Ct)});return()=>{at(),ut()}},[i?.id]);const F=(at,ut)=>{const ct=at.trim().toUpperCase(),Ct=ut.trim().toUpperCase();if(ct==="ADMIN-JEN"&&Ct==="JENNY"){r({firstName:"JENNY",role:"admin"}),t("admin");return}const Rt=l.find(wt=>wt.id===ct&&wt.name===Ct);Rt?(r({...Rt,firstName:Rt.name.split(" ")[0],role:"student"}),t("student"),M(`Bienvenida, ${Rt.name.split(" ")[0]}`)):M("Acceso denegado. Verifica tu ID y Nombre.","error")},Z=async at=>{if(i.credits<=0){M("Lmite de clases alcanzado!","error");return}try{const ut=Pr(kr,"alumnas",i.id),ct=Pr(kr,"sesiones",at);await Vc(ut,{credits:Rc(-1),history:S2(at)}),await nT(ct,{booked:Rc(1)},{merge:!0}),M("Clase reservada!")}catch{M("Error al reservar","error")}},tt=async at=>{try{const ut=Pr(kr,"alumnas",i.id),ct=Pr(kr,"sesiones",at);await Vc(ut,{credits:Rc(1),history:b2(at)}),await Vc(ct,{booked:Rc(-1)}),M("Clase cancelada.")}catch{M("Error al cancelar","error")}},$=()=>{r(null),t("login"),typeof window.toggleSystem=="function"&&window.toggleSystem(!1)};return A?H.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse",children:"Conectando..."}):H.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased",children:[_&&H.jsxs("div",{className:`fixed top-4 right-4 z-[100] px-6 py-4 rounded-sm shadow-xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 ${_.type==="error"?"bg-red-500 text-white":"bg-[#1A3A3E] text-white"}`,children:[_.type==="error"?H.jsx(xI,{size:18}):H.jsx(UT,{size:18}),H.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:_.msg})]}),a==="login"&&H.jsx(nN,{onLogin:F}),a==="student"&&H.jsx(iN,{user:i,sessions:hE,sessionsData:d,onBook:Z,onCancel:tt,onLogout:$}),a==="admin"&&H.jsx(sN,{students:l,sessions:hE,sessionsData:d,db:kr,onLogout:$})]})}const nN=({onLogin:a})=>{const[t,i]=Oe.useState(""),[r,l]=Oe.useState("");return H.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[H.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),H.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:H.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[H.jsxs("div",{className:"text-center mb-10",children:[H.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),H.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-[#369EAD] font-bold",children:"Portal de Alumnas"})]}),H.jsxs("form",{onSubmit:c=>{c.preventDefault(),a(t,r)},className:"space-y-6",children:[H.jsxs("div",{children:[H.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-400 font-bold mb-2",children:"ID (BF-001)"}),H.jsxs("div",{className:"relative",children:[H.jsx(KI,{className:"absolute left-3 top-4 text-[#369EAD] w-5 h-5"}),H.jsx("input",{type:"text",placeholder:"ID",className:"w-full pl-10 pr-4 py-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-serif uppercase text-sm",value:t,onChange:c=>i(c.target.value)})]})]}),H.jsxs("div",{children:[H.jsx("label",{className:"block text-[10px] uppercase tracking-widest text-gray-400 font-bold mb-2",children:"Primer Nombre"}),H.jsxs("div",{className:"relative",children:[H.jsx(LI,{className:"absolute left-3 top-4 text-[#369EAD] w-5 h-5"}),H.jsx("input",{type:"text",placeholder:"Nombre",className:"w-full pl-10 pr-4 py-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-serif uppercase text-sm",value:r,onChange:c=>l(c.target.value)})]})]}),H.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Ingresar al Portal"})]}),H.jsx("div",{className:"mt-8 text-center",children:H.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest italic font-sans",children:"Soporte: Contacta a Jen"})})]})})]})},iN=({user:a,sessions:t,sessionsData:i,onBook:r,onCancel:l,onLogout:c})=>{const d=a.history||[],p=t.filter(y=>d.includes(y.id)),_=p.length>0?p[0]:null;return H.jsxs("div",{className:"min-h-screen bg-[#F8FAFC] pb-20",children:[H.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 sticky top-0 z-50",children:H.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-5 flex justify-between items-center",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),H.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-400 border-l border-gray-200 pl-4",children:["Alumna: ",a.name]})]}),H.jsxs("button",{onClick:c,className:"flex items-center gap-2 text-gray-400 hover:text-[#369EAD] text-[10px] uppercase tracking-widest font-bold transition-colors",children:[H.jsx("span",{children:"Salir"}),H.jsx(zI,{className:"w-4 h-4"})]})]})}),H.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[H.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[H.jsxs(fE,{className:"md:col-span-2 relative overflow-hidden bg-white border-[#369EAD]",children:[H.jsx("div",{className:"absolute right-0 top-0 opacity-5 transform translate-x-12 -translate-y-12",children:H.jsx(BI,{size:200,color:tN.teal})}),H.jsx("h2",{className:"text-3xl font-serif text-[#1A3A3E] mb-2 italic",children:"Mi Resumen Semanal"}),H.jsx("div",{className:"flex flex-col sm:flex-row items-start sm:items-end gap-6 mt-8",children:H.jsxs("div",{className:"bg-[#EBF5F6] px-8 py-5 rounded-sm border border-[#369EAD]/10",children:[H.jsx("span",{className:"block text-[10px] uppercase tracking-[0.2em] text-gray-500 font-bold mb-2",children:"Crditos Disponibles"}),H.jsxs("div",{className:"flex items-baseline gap-2",children:[H.jsx("span",{className:`text-5xl font-bold font-serif ${a.credits===0?"text-red-400":"text-[#369EAD]"}`,children:a.credits}),H.jsxs("span",{className:"text-gray-300 text-xl",children:["/ ",a.maxCredits]})]})]})})]}),H.jsxs(fE,{className:"flex flex-col justify-center items-center text-center bg-[#1A3A3E] border-none text-white relative overflow-hidden shadow-xl",children:[H.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-[#C5A059]"}),H.jsx("div",{className:"w-16 h-16 rounded-full bg-[#369EAD] flex items-center justify-center mb-5 shadow-lg border-2 border-[#C5A059]/30",children:H.jsx(DI,{className:"w-8 h-8 text-white"})}),H.jsx("h3",{className:"text-[10px] uppercase tracking-[0.3em] text-[#C5A059] font-black mb-3",children:"Prxima Clase"}),_?H.jsxs("div",{className:"animate-in fade-in slide-in-from-bottom-2 duration-500",children:[H.jsx("p",{className:"text-2xl font-serif text-[#C5A059] font-bold leading-tight italic",children:_.day}),H.jsx("p",{className:"text-4xl font-serif text-white font-bold my-2 tracking-tighter",children:_.time})]}):H.jsx("p",{className:"text-[#EBF5F6] text-[10px] uppercase tracking-widest opacity-40",children:"Sin reservas activas"})]})]}),H.jsx("h3",{className:"text-xl text-[#1A3A3E] mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Programacin Semanal"}),H.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(y=>{const A=d.includes(y.id),S=i[y.id]||0,M=S>=y.spots,F=a.credits>0&&!A&&!M;return H.jsxs("div",{className:`relative p-8 rounded-sm border transition-all duration-300 ${A?"bg-[#EBF5F6] border-[#369EAD] shadow-md ring-1 ring-[#369EAD]/20":"bg-white border-gray-100 hover:shadow-lg"}`,children:[A&&H.jsx("div",{className:"absolute top-4 right-4 text-[#369EAD] animate-in zoom-in",children:H.jsx(UT,{size:24})}),H.jsxs("div",{className:"mb-6",children:[H.jsx("span",{className:"block text-[10px] uppercase tracking-[0.3em] text-[#1A3A3E] font-black mb-2 opacity-50",children:y.day}),H.jsx("h4",{className:"text-3xl font-serif text-[#1A3A3E] italic font-bold",children:y.time}),H.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest mt-2",children:y.type})]}),H.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50",children:[H.jsxs("div",{className:"text-[10px] text-gray-400 font-bold uppercase tracking-widest flex items-center gap-2",children:[H.jsx(XI,{size:14,className:"opacity-30"}),S,"/",y.spots]}),A?H.jsx("button",{onClick:()=>l(y.id),className:"text-[10px] text-red-400 hover:text-red-600 font-bold uppercase tracking-widest underline underline-offset-8 transition-colors",children:"Cancelar"}):H.jsx(mm,{onClick:()=>r(y.id),disabled:!F,variant:F?"primary":"disabled",className:"!px-4 !py-2 !text-[9px]",children:M?"Lleno":"Reservar"})]})]},y.id)})})]})]})},sN=({students:a,sessions:t,sessionsData:i,db:r,onLogout:l})=>{const[c,d]=Oe.useState(!1),[p,_]=Oe.useState({id:"",name:"",plan:"2 clases x sem"}),[y,A]=Oe.useState(!1),S=async Z=>{if(Z.preventDefault(),!p.id||!p.name)return;A(!0);const tt=parseInt(p.plan.split(" ")[0])||2,$=p.id.trim().toUpperCase(),at=p.name.trim().toUpperCase();try{await nT(Pr(r,"alumnas",$),{id:$,name:at,plan:p.plan,maxCredits:tt,credits:tt,history:[],registrationDate:new Date().toISOString()}),d(!1),_({id:"",name:"",plan:"2 clases x sem"})}catch(ut){console.error(ut)}A(!1)},M=async(Z,tt)=>{window.confirm("Reiniciar crditos de la semana?")&&await Vc(Pr(r,"alumnas",Z),{credits:tt,history:[]})},F=async(Z,tt)=>{window.confirm(`BORRAR PERMANENTEMENTE A ${tt}?`)&&await T2(Pr(r,"alumnas",Z))};return H.jsxs("div",{className:"min-h-screen bg-gray-50 pb-20",children:[H.jsx("nav",{className:"bg-[#1A3A3E] text-white shadow-lg sticky top-0 z-50",children:H.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-5 flex justify-between items-center",children:[H.jsxs("div",{className:"flex items-center gap-4",children:[H.jsx("span",{className:"text-xl font-serif font-black tracking-tighter",children:"BF ADMIN"}),H.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] px-3 py-1 rounded-full font-black uppercase tracking-[0.2em]",children:"Master Control"})]}),H.jsx("button",{onClick:l,className:"text-gray-300 hover:text-white text-[10px] uppercase font-bold tracking-widest transition-colors",children:"Salir"})]})}),H.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12",children:[H.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-6 mb-12",children:[H.jsx("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:"Gestin de Estudio"}),H.jsxs(mm,{onClick:()=>d(!0),className:"!py-4 shadow-xl",children:[H.jsx(GI,{size:18})," Registrar Alumna"]})]}),c&&H.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[100] flex items-center justify-center p-4",children:H.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD] animate-in zoom-in duration-300 text-brand-dark",children:[H.jsx("button",{onClick:()=>d(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500 transition-colors",children:H.jsx(JI,{size:28})}),H.jsx("h3",{className:"text-3xl font-serif italic mb-8 border-b border-gray-100 pb-4",children:"Nueva Inscripcin"}),H.jsxs("form",{onSubmit:S,className:"space-y-6",children:[H.jsx("input",{type:"text",placeholder:"ID (BF-001)",className:"w-full p-4 bg-gray-50 border-b-2 border-gray-100 outline-none focus:border-[#369EAD] font-serif uppercase text-sm",value:p.id,onChange:Z=>_({...p,id:Z.target.value})}),H.jsx("input",{type:"text",placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 border-b-2 border-gray-100 outline-none focus:border-[#369EAD] font-serif uppercase text-sm",value:p.name,onChange:Z=>_({...p,name:Z.target.value})}),H.jsxs("select",{className:"w-full p-4 bg-gray-50 border-b-2 border-gray-100 outline-none focus:border-[#369EAD] font-serif text-sm",value:p.plan,onChange:Z=>_({...p,plan:Z.target.value}),children:[H.jsx("option",{children:"1 clase x sem"}),H.jsx("option",{children:"2 clases x sem"}),H.jsx("option",{children:"3 clases x sem"}),H.jsx("option",{children:"4 clases x sem"})]}),H.jsx(mm,{disabled:y,className:"w-full !py-5 !text-[11px]",children:y?"Guardando...":"Registrar en la nube"})]})]})}),H.jsx("div",{className:"bg-white rounded-sm shadow-xl overflow-hidden border border-gray-100 mt-12",children:H.jsxs("table",{className:"w-full text-left",children:[H.jsx("thead",{className:"bg-gray-50 text-[10px] uppercase text-gray-400 tracking-[0.2em] font-bold",children:H.jsxs("tr",{children:[H.jsx("th",{className:"px-8 py-6",children:"ID / Nombre"}),H.jsx("th",{className:"px-8 py-6 text-center",children:"Crditos"}),H.jsx("th",{className:"px-8 py-6 text-right pr-12",children:"Control"})]})}),H.jsx("tbody",{className:"divide-y divide-gray-50",children:a.map(Z=>H.jsxs("tr",{className:"hover:bg-gray-50/80 transition-all",children:[H.jsxs("td",{className:"px-8 py-6 font-serif",children:[H.jsx("div",{className:"font-bold text-[#1A3A3E] text-base italic",children:Z.name}),H.jsx("div",{className:"text-[10px] text-gray-400 tracking-widest",children:Z.id})]}),H.jsxs("td",{className:"px-8 py-6 text-center",children:[H.jsx("span",{className:`text-xl font-bold ${Z.credits===0?"text-red-400":"text-[#369EAD]"}`,children:Z.credits}),H.jsxs("span",{className:"text-gray-300 text-sm",children:[" / ",Z.maxCredits]})]}),H.jsx("td",{className:"px-8 py-6 text-right pr-10",children:H.jsxs("div",{className:"flex justify-end gap-4",children:[H.jsx("button",{onClick:()=>M(Z.id,Z.maxCredits),className:"p-2 text-[#C5A059] hover:bg-amber-50 rounded-full transition-all",children:H.jsx(kI,{size:20})}),H.jsx("button",{onClick:()=>F(Z.id,Z.name),className:"p-2 text-red-200 hover:text-red-600 transition-all",children:H.jsx(HI,{size:20})})]})})]},Z.id))})]})})]})]})};SA.createRoot(document.getElementById("root")).render(H.jsx(Oe.StrictMode,{children:H.jsx(eN,{})}));
