(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Bd={exports:{}},jo={};var K_;function Qb(){if(K_)return jo;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var g in o)g!=="key"&&(c[g]=o[g])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return jo.Fragment=t,jo.jsx=i,jo.jsxs=i,jo}var Y_;function Kb(){return Y_||(Y_=1,Bd.exports=Qb()),Bd.exports}var E=Kb(),qd={exports:{}},Nt={};var X_;function Yb(){if(X_)return Nt;X_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,Q={};function ct(I,X,it){this.props=I,this.context=X,this.refs=Q,this.updater=it||tt}ct.prototype.isReactComponent={},ct.prototype.setState=function(I,X){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,X,"setState")},ct.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function mt(){}mt.prototype=ct.prototype;function lt(I,X,it){this.props=I,this.context=X,this.refs=Q,this.updater=it||tt}var bt=lt.prototype=new mt;bt.constructor=lt,et(bt,ct.prototype),bt.isPureReactComponent=!0;var kt=Array.isArray;function vt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(I,X,it){var at=it.ref;return{$$typeof:r,type:I,key:X,ref:at!==void 0?at:null,props:it}}function V(I,X){return C(I.type,X,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function j(I){var X={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(it){return X[it]})}var x=/\/+/g;function rt(I,X){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):X.toString(36)}function jt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(vt,vt):(I.status="pending",I.then(function(X){I.status==="pending"&&(I.status="fulfilled",I.value=X)},function(X){I.status==="pending"&&(I.status="rejected",I.reason=X)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function z(I,X,it,at,At){var wt=typeof I;(wt==="undefined"||wt==="boolean")&&(I=null);var Rt=!1;if(I===null)Rt=!0;else switch(wt){case"bigint":case"string":case"number":Rt=!0;break;case"object":switch(I.$$typeof){case r:case t:Rt=!0;break;case A:return Rt=I._init,z(Rt(I._payload),X,it,at,At)}}if(Rt)return At=At(I),Rt=at===""?"."+rt(I,0):at,kt(At)?(it="",Rt!=null&&(it=Rt.replace(x,"$&/")+"/"),z(At,X,it,"",function(Jn){return Jn})):At!=null&&(D(At)&&(At=V(At,it+(At.key==null||I&&I.key===At.key?"":(""+At.key).replace(x,"$&/")+"/")+Rt)),X.push(At)),1;Rt=0;var ye=at===""?".":at+":";if(kt(I))for(var ee=0;ee<I.length;ee++)at=I[ee],wt=ye+rt(at,ee),Rt+=z(at,X,it,wt,At);else if(ee=G(I),typeof ee=="function")for(I=ee.call(I),ee=0;!(at=I.next()).done;)at=at.value,wt=ye+rt(at,ee++),Rt+=z(at,X,it,wt,At);else if(wt==="object"){if(typeof I.then=="function")return z(jt(I),X,it,at,At);throw X=String(I),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Rt}function W(I,X,it){if(I==null)return I;var at=[],At=0;return z(I,at,"","",function(wt){return X.call(it,wt,At++)}),at}function st(I){if(I._status===-1){var X=I._result;X=X(),X.then(function(it){(I._status===0||I._status===-1)&&(I._status=1,I._result=it)},function(it){(I._status===0||I._status===-1)&&(I._status=2,I._result=it)}),I._status===-1&&(I._status=0,I._result=X)}if(I._status===1)return I._result.default;throw I._result}var pt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},Dt={map:W,forEach:function(I,X,it){W(I,function(){X.apply(this,arguments)},it)},count:function(I){var X=0;return W(I,function(){X++}),X},toArray:function(I){return W(I,function(X){return X})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Nt.Activity=S,Nt.Children=Dt,Nt.Component=ct,Nt.Fragment=i,Nt.Profiler=o,Nt.PureComponent=lt,Nt.StrictMode=a,Nt.Suspense=y,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Nt.cache=function(I){return function(){return I.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(I,X,it){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var at=et({},I.props),At=I.key;if(X!=null)for(wt in X.key!==void 0&&(At=""+X.key),X)!w.call(X,wt)||wt==="key"||wt==="__self"||wt==="__source"||wt==="ref"&&X.ref===void 0||(at[wt]=X[wt]);var wt=arguments.length-2;if(wt===1)at.children=it;else if(1<wt){for(var Rt=Array(wt),ye=0;ye<wt;ye++)Rt[ye]=arguments[ye+2];at.children=Rt}return C(I.type,At,at)},Nt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Nt.createElement=function(I,X,it){var at,At={},wt=null;if(X!=null)for(at in X.key!==void 0&&(wt=""+X.key),X)w.call(X,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(At[at]=X[at]);var Rt=arguments.length-2;if(Rt===1)At.children=it;else if(1<Rt){for(var ye=Array(Rt),ee=0;ee<Rt;ee++)ye[ee]=arguments[ee+2];At.children=ye}if(I&&I.defaultProps)for(at in Rt=I.defaultProps,Rt)At[at]===void 0&&(At[at]=Rt[at]);return C(I,wt,At)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(I){return{$$typeof:g,render:I}},Nt.isValidElement=D,Nt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:st}},Nt.memo=function(I,X){return{$$typeof:_,type:I,compare:X===void 0?null:X}},Nt.startTransition=function(I){var X=N.T,it={};N.T=it;try{var at=I(),At=N.S;At!==null&&At(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(vt,pt)}catch(wt){pt(wt)}finally{X!==null&&it.types!==null&&(X.types=it.types),N.T=X}},Nt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Nt.use=function(I){return N.H.use(I)},Nt.useActionState=function(I,X,it){return N.H.useActionState(I,X,it)},Nt.useCallback=function(I,X){return N.H.useCallback(I,X)},Nt.useContext=function(I){return N.H.useContext(I)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(I,X){return N.H.useDeferredValue(I,X)},Nt.useEffect=function(I,X){return N.H.useEffect(I,X)},Nt.useEffectEvent=function(I){return N.H.useEffectEvent(I)},Nt.useId=function(){return N.H.useId()},Nt.useImperativeHandle=function(I,X,it){return N.H.useImperativeHandle(I,X,it)},Nt.useInsertionEffect=function(I,X){return N.H.useInsertionEffect(I,X)},Nt.useLayoutEffect=function(I,X){return N.H.useLayoutEffect(I,X)},Nt.useMemo=function(I,X){return N.H.useMemo(I,X)},Nt.useOptimistic=function(I,X){return N.H.useOptimistic(I,X)},Nt.useReducer=function(I,X,it){return N.H.useReducer(I,X,it)},Nt.useRef=function(I){return N.H.useRef(I)},Nt.useState=function(I){return N.H.useState(I)},Nt.useSyncExternalStore=function(I,X,it){return N.H.useSyncExternalStore(I,X,it)},Nt.useTransition=function(){return N.H.useTransition()},Nt.version="19.2.3",Nt}var $_;function km(){return $_||($_=1,qd.exports=Yb()),qd.exports}var yt=km(),Hd={exports:{}},Uo={},Fd={exports:{}},Gd={};var J_;function Xb(){return J_||(J_=1,(function(r){function t(z,W){var st=z.length;z.push(W);t:for(;0<st;){var pt=st-1>>>1,Dt=z[pt];if(0<o(Dt,W))z[pt]=W,z[st]=Dt,st=pt;else break t}}function i(z){return z.length===0?null:z[0]}function a(z){if(z.length===0)return null;var W=z[0],st=z.pop();if(st!==W){z[0]=st;t:for(var pt=0,Dt=z.length,I=Dt>>>1;pt<I;){var X=2*(pt+1)-1,it=z[X],at=X+1,At=z[at];if(0>o(it,st))at<Dt&&0>o(At,it)?(z[pt]=At,z[at]=st,pt=at):(z[pt]=it,z[X]=st,pt=X);else if(at<Dt&&0>o(At,st))z[pt]=At,z[at]=st,pt=at;else break t}}return W}function o(z,W){var st=z.sortIndex-W.sortIndex;return st!==0?st:z.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var y=[],_=[],A=1,S=null,O=3,G=!1,tt=!1,et=!1,Q=!1,ct=typeof setTimeout=="function"?setTimeout:null,mt=typeof clearTimeout=="function"?clearTimeout:null,lt=typeof setImmediate<"u"?setImmediate:null;function bt(z){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=z)a(_),W.sortIndex=W.expirationTime,t(y,W);else break;W=i(_)}}function kt(z){if(et=!1,bt(z),!tt)if(i(y)!==null)tt=!0,vt||(vt=!0,j());else{var W=i(_);W!==null&&jt(kt,W.startTime-z)}}var vt=!1,N=-1,w=5,C=-1;function V(){return Q?!0:!(r.unstable_now()-C<w)}function D(){if(Q=!1,vt){var z=r.unstable_now();C=z;var W=!0;try{t:{tt=!1,et&&(et=!1,mt(N),N=-1),G=!0;var st=O;try{e:{for(bt(z),S=i(y);S!==null&&!(S.expirationTime>z&&V());){var pt=S.callback;if(typeof pt=="function"){S.callback=null,O=S.priorityLevel;var Dt=pt(S.expirationTime<=z);if(z=r.unstable_now(),typeof Dt=="function"){S.callback=Dt,bt(z),W=!0;break e}S===i(y)&&a(y),bt(z)}else a(y);S=i(y)}if(S!==null)W=!0;else{var I=i(_);I!==null&&jt(kt,I.startTime-z),W=!1}}break t}finally{S=null,O=st,G=!1}W=void 0}}finally{W?j():vt=!1}}}var j;if(typeof lt=="function")j=function(){lt(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,rt=x.port2;x.port1.onmessage=D,j=function(){rt.postMessage(null)}}else j=function(){ct(D,0)};function jt(z,W){N=ct(function(){z(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(z){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var st=O;O=W;try{return z()}finally{O=st}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(z,W){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var st=O;O=z;try{return W()}finally{O=st}},r.unstable_scheduleCallback=function(z,W,st){var pt=r.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?pt+st:pt):st=pt,z){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=st+Dt,z={id:A++,callback:W,priorityLevel:z,startTime:st,expirationTime:Dt,sortIndex:-1},st>pt?(z.sortIndex=st,t(_,z),i(y)===null&&z===i(_)&&(et?(mt(N),N=-1):et=!0,jt(kt,st-pt))):(z.sortIndex=Dt,t(y,z),tt||G||(tt=!0,vt||(vt=!0,j()))),z},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(z){var W=O;return function(){var st=O;O=W;try{return z.apply(this,arguments)}finally{O=st}}}})(Gd)),Gd}var Z_;function $b(){return Z_||(Z_=1,Fd.exports=Xb()),Fd.exports}var Qd={exports:{}},an={};var W_;function Jb(){if(W_)return an;W_=1;var r=km();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,an.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},an.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},an.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},an.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},an.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},an.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},an.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=g(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},an.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},an.requestFormReset=function(y){a.d.r(y)},an.unstable_batchedUpdates=function(y,_){return y(_)},an.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},an.useFormStatus=function(){return d.H.useHostTransitionStatus()},an.version="19.2.3",an}var t0;function Zb(){if(t0)return Qd.exports;t0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=Jb(),Qd.exports}var e0;function Wb(){if(e0)return Uo;e0=1;var r=$b(),t=km(),i=Zb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var p=!1,T=h.child;T;){if(T===s){p=!0,s=h,l=f;break}if(T===l){p=!0,l=h,s=f;break}T=T.sibling}if(!p){for(T=f.child;T;){if(T===s){p=!0,s=f,l=h;break}if(T===l){p=!0,l=f,s=h;break}T=T.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),ct=Symbol.for("react.profiler"),mt=Symbol.for("react.consumer"),lt=Symbol.for("react.context"),bt=Symbol.for("react.forward_ref"),kt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ct:return"Profiler";case Q:return"StrictMode";case kt:return"Suspense";case vt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case lt:return e.displayName||"Context";case mt:return(e._context.displayName||"Context")+".Consumer";case bt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:rt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return rt(e(n))}catch{}}return null}var jt=Array.isArray,z=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},pt=[],Dt=-1;function I(e){return{current:e}}function X(e){0>Dt||(e.current=pt[Dt],pt[Dt]=null,Dt--)}function it(e,n){Dt++,pt[Dt]=e.current,e.current=n}var at=I(null),At=I(null),wt=I(null),Rt=I(null);function ye(e,n){switch(it(wt,n),it(At,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?g_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=g_(n),e=y_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}X(at),it(at,e)}function ee(){X(at),X(At),X(wt)}function Jn(e){e.memoizedState!==null&&it(Rt,e);var n=at.current,s=y_(n,e.type);n!==s&&(it(At,e),it(at,s))}function Un(e){At.current===e&&(X(at),X(At)),Rt.current===e&&(X(Rt),Mo._currentValue=st)}var Zn,Ss;function Pe(e){if(Zn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Zn=n&&n[1]||"",Ss=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Zn+e+Ss}var Rr=!1;function mi(e,n){if(!e||Rr)return"";Rr=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var q=F}Reflect.construct(e,[],$)}else{try{$.call()}catch(F){q=F}e.call($.prototype)}}else{try{throw Error()}catch(F){q=F}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&q&&typeof F.stack=="string")return[F.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),p=f[0],T=f[1];if(p&&T){var R=p.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var K=`
`+R[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{Rr=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Pe(s):""}function Nr(e,n){switch(e.tag){case 26:case 27:case 5:return Pe(e.type);case 16:return Pe("Lazy");case 13:return e.child!==n&&n!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return mi(e.type,!1);case 11:return mi(e.type.render,!1);case 1:return mi(e.type,!0);case 31:return Pe("Activity");default:return""}}function xs(e){try{var n="",s=null;do n+=Nr(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ee=Object.prototype.hasOwnProperty,Ae=r.unstable_scheduleCallback,pi=r.unstable_cancelCallback,Vl=r.unstable_shouldYield,ya=r.unstable_requestPaint,He=r.unstable_now,Yi=r.unstable_getCurrentPriorityLevel,Ir=r.unstable_ImmediatePriority,Dr=r.unstable_UserBlockingPriority,gi=r.unstable_NormalPriority,kl=r.unstable_LowPriority,_a=r.unstable_IdlePriority,va=r.log,B=r.unstable_setDisableYieldValue,ht=null,St=null;function Yt(e){if(typeof va=="function"&&B(e),St&&typeof St.setStrictMode=="function")try{St.setStrictMode(ht,e)}catch{}}var Kt=Math.clz32?Math.clz32:rn,sn=Math.log,fn=Math.LN2;function rn(e){return e>>>=0,e===0?32:31-(sn(e)/fn|0)|0}var yi=256,Mr=262144,Ne=4194304;function _i(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=_i(l):(p&=T,p!==0?h=_i(p):s||(s=T&~e,s!==0&&(h=_i(s))))):(T=l&~f,T!==0?h=_i(T):p!==0?h=_i(p):s||(s=l&~e,s!==0&&(h=_i(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Fh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fu(){var e=Ne;return Ne<<=1,(Ne&62914560)===0&&(Ne=4194304),e}function Ei(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Or(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gh(e,n,s,l,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=p&~s;0<s;){var K=31-Kt(s),$=1<<K;T[K]=0,R[K]=-1;var q=P[K];if(q!==null)for(P[K]=null,K=0;K<q.length;K++){var F=q[K];F!==null&&(F.lane&=-536870913)}s&=~$}l!==0&&Vr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function Vr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Kt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function jl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Kt(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function Ul(e,n){var s=n&-n;return s=(s&42)!==0?1:kr(s),(s&(e.suspendedLanes|n))!==0?0:s}function kr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function du(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:z_(e.type))}function ti(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var ei=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ei,Fe="__reactProps$"+ei,Ti="__reactContainer$"+ei,Ea="__reactEvents$"+ei,Qh="__reactListeners$"+ei,mu="__reactHandles$"+ei,pu="__reactResources$"+ei,bi="__reactMarker$"+ei;function Ta(e){delete e[Ie],delete e[Fe],delete e[Ea],delete e[Qh],delete e[mu]}function Ai(e){var n=e[Ie];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ti]||s[Ie]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=S_(e);e!==null;){if(s=e[Ie])return s;e=S_(e)}return n}e=s,s=e.parentNode}return null}function Ln(e){if(e=e[Ie]||e[Ti]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Cn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Si(e){var n=e[pu];return n||(n=e[pu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function De(e){e[bi]=!0}var Ll=new Set,Pl={};function xi(e,n){wi(e,n),wi(e+"Capture",n)}function wi(e,n){for(Pl[e]=n,e=0;e<n.length;e++)Ll.add(n[e])}var zl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Bl={},ql={};function gu(e){return Ee.call(ql,e)?!0:Ee.call(Bl,e)?!1:zl.test(e)?ql[e]=!0:(Bl[e]=!0,!1)}function ba(e,n,s){if(gu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function Rn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Me(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function Ge(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ws(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Hl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function ne(e){if(!e._valueTracker){var n=ws(e)?"checked":"value";e._valueTracker=Hl(e,n,""+e[n])}}function jr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ws(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Ur=/[\n"\\]/g;function yn(e){return e.replace(Ur,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Aa(e,n,s,l,h,f,p,T){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ge(n)):e.value!==""+Ge(n)&&(e.value=""+Ge(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Fl(e,p,Ge(n)):s!=null?Fl(e,p,Ge(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+Ge(T):e.removeAttribute("name")}function yu(e,n,s,l,h,f,p,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){ne(e);return}s=s!=null?""+Ge(s):"",n=n!=null?""+Ge(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),ne(e)}function Fl(e,n,s){n==="number"&&Ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Cs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+Ge(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function _u(e,n,s){if(n!=null&&(n=""+Ge(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ge(s):""}function Rs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(jt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=Ge(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),ne(e)}function _n(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var vu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Gl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||vu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Ql(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Gl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Gl(e,f,n[f])}function Sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Eu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(e){return Ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var Kl=null;function Pn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Ri=null;function Lr(e){var n=Ln(e);if(n&&(e=n.stateNode)){var s=e[Fe]||null;t:switch(e=n.stateNode,n.type){case"input":if(Aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+yn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Fe]||null;if(!h)throw Error(a(90));Aa(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&jr(l)}break t;case"textarea":_u(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Cs(e,!!s.multiple,n,!1)}}}var wa=!1;function Ds(e,n,s){if(wa)return e(n,s);wa=!0;try{var l=e(n);return l}finally{if(wa=!1,(Is!==null||Ri!==null)&&(dc(),Is&&(n=Is,e=Ri,Ri=Is=null,Lr(n),e)))for(n=0;n<e.length;n++)Lr(e[n])}}function ii(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Fe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pr=!1;if(zn)try{var re={};Object.defineProperty(re,"passive",{get:function(){Pr=!0}}),window.addEventListener("test",re,re),window.removeEventListener("test",re,re)}catch{Pr=!1}var Ni=null,Yl=null,zr=null;function Xl(){if(zr)return zr;var e,n=Yl,s=n.length,l,h="value"in Ni?Ni.value:Ni.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(l=1;l<=p&&n[s-l]===h[f-l];l++);return zr=h.slice(e,1<l?1-l:void 0)}function Br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function si(){return!1}function Xe(e){function n(s,l,h,f,p){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:si,this.isPropagationStopped=si,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Ji={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ii=Xe(Ji),Ms=S({},Ji,{view:0,detail:0}),$l=Xe(Ms),Os,Ca,Di,Ra=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Di&&(Di&&e.type==="mousemove"?(Os=e.screenX-Di.screenX,Ca=e.screenY-Di.screenY):Ca=Os=0,Di=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:Ca}}),Jl=Xe(Ra),qr=S({},Ra,{dataTransfer:0}),Tu=Xe(qr),bu=S({},Ms,{relatedTarget:0}),Hr=Xe(bu),Zl=S({},Ji,{animationName:0,elapsedTime:0,pseudoElement:0}),Au=Xe(Zl),Na=S({},Ji,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Su=Xe(Na),xu=S({},Ji,{data:0}),Mi=Xe(xu),wu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Cu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ru={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Ru[e])?!!n[e]:!1}function Vs(){return Nu}var dn=S({},Ms,{key:function(e){if(e.key){var n=wu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Cu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?Br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Iu=Xe(dn),Du=S({},Ra,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zi=Xe(Du),u=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=Xe(u),v=S({},Ji,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Xe(v),U=S({},Ra,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Xe(U),nt=S({},Ji,{newState:0,oldState:0}),Mt=Xe(nt),Se=[9,13,27,32],Jt=zn&&"CompositionEvent"in window,pe=null;zn&&"documentMode"in document&&(pe=document.documentMode);var Bn=zn&&"TextEvent"in window&&!pe,Oi=zn&&(!Jt||pe&&8<pe&&11>=pe),ri=" ",ai=!1;function Fr(e,n){switch(e){case"keyup":return Se.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ia(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Da=!1;function gT(e,n){switch(e){case"compositionend":return Ia(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function yT(e,n){if(Da)return e==="compositionend"||!Jt&&Fr(e,n)?(e=Xl(),zr=Yl=Ni=null,Da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Oi&&n.locale!=="ko"?null:n.data;default:return null}}var _T={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!_T[e.type]:n==="textarea"}function Rp(e,n,s,l){Is?Ri?Ri.push(l):Ri=[l]:Is=l,n=Ec(n,"onChange"),0<n.length&&(s=new Ii("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Wl=null,to=null;function vT(e){c_(e,0)}function Mu(e){var n=Cn(e);if(jr(n))return e}function Np(e,n){if(e==="change")return n}var Ip=!1;if(zn){var Kh;if(zn){var Yh="oninput"in document;if(!Yh){var Dp=document.createElement("div");Dp.setAttribute("oninput","return;"),Yh=typeof Dp.oninput=="function"}Kh=Yh}else Kh=!1;Ip=Kh&&(!document.documentMode||9<document.documentMode)}function Mp(){Wl&&(Wl.detachEvent("onpropertychange",Op),to=Wl=null)}function Op(e){if(e.propertyName==="value"&&Mu(to)){var n=[];Rp(n,to,e,Pn(e)),Ds(vT,n)}}function ET(e,n,s){e==="focusin"?(Mp(),Wl=n,to=s,Wl.attachEvent("onpropertychange",Op)):e==="focusout"&&Mp()}function TT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Mu(to)}function bT(e,n){if(e==="click")return Mu(n)}function AT(e,n){if(e==="input"||e==="change")return Mu(n)}function ST(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Nn=typeof Object.is=="function"?Object.is:ST;function eo(e,n){if(Nn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!Ee.call(n,h)||!Nn(e[h],n[h]))return!1}return!0}function Vp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function kp(e,n){var s=Vp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Vp(s)}}function jp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?jp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Up(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ci(e.document)}return n}function Xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xT=zn&&"documentMode"in document&&11>=document.documentMode,Ma=null,$h=null,no=null,Jh=!1;function Lp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Jh||Ma==null||Ma!==Ci(l)||(l=Ma,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),no&&eo(no,l)||(no=l,l=Ec($h,"onSelect"),0<l.length&&(n=new Ii("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ma)))}function Gr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Oa={animationend:Gr("Animation","AnimationEnd"),animationiteration:Gr("Animation","AnimationIteration"),animationstart:Gr("Animation","AnimationStart"),transitionrun:Gr("Transition","TransitionRun"),transitionstart:Gr("Transition","TransitionStart"),transitioncancel:Gr("Transition","TransitionCancel"),transitionend:Gr("Transition","TransitionEnd")},Zh={},Pp={};zn&&(Pp=document.createElement("div").style,"AnimationEvent"in window||(delete Oa.animationend.animation,delete Oa.animationiteration.animation,delete Oa.animationstart.animation),"TransitionEvent"in window||delete Oa.transitionend.transition);function Qr(e){if(Zh[e])return Zh[e];if(!Oa[e])return e;var n=Oa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Pp)return Zh[e]=n[s];return e}var zp=Qr("animationend"),Bp=Qr("animationiteration"),qp=Qr("animationstart"),wT=Qr("transitionrun"),CT=Qr("transitionstart"),RT=Qr("transitioncancel"),Hp=Qr("transitionend"),Fp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function li(e,n){Fp.set(e,n),xi(n,[e])}var Ou=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},qn=[],Va=0,tf=0;function Vu(){for(var e=Va,n=tf=Va=0;n<e;){var s=qn[n];qn[n++]=null;var l=qn[n];qn[n++]=null;var h=qn[n];qn[n++]=null;var f=qn[n];if(qn[n++]=null,l!==null&&h!==null){var p=l.pending;p===null?h.next=h:(h.next=p.next,p.next=h),l.pending=h}f!==0&&Gp(s,h,f)}}function ku(e,n,s,l){qn[Va++]=e,qn[Va++]=n,qn[Va++]=s,qn[Va++]=l,tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ef(e,n,s,l){return ku(e,n,s,l),ju(e)}function Kr(e,n){return ku(e,null,null,n),ju(e)}function Gp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Kt(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function ju(e){if(50<xo)throw xo=0,hd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ka={};function NT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(e,n,s,l){return new NT(e,n,s,l)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wi(e,n){var s=e.alternate;return s===null?(s=In(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Qp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Uu(e,n,s,l,h,f){var p=0;if(l=e,typeof e=="function")nf(e)&&(p=1);else if(typeof e=="string")p=Vb(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=In(31,s,n,h),e.elementType=C,e.lanes=f,e;case et:return Yr(s.children,h,f,n);case Q:p=8,h|=24;break;case ct:return e=In(12,s,n,h|2),e.elementType=ct,e.lanes=f,e;case kt:return e=In(13,s,n,h),e.elementType=kt,e.lanes=f,e;case vt:return e=In(19,s,n,h),e.elementType=vt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case lt:p=10;break t;case mt:p=9;break t;case bt:p=11;break t;case N:p=14;break t;case w:p=16,l=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=In(p,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Yr(e,n,s,l){return e=In(7,e,l,n),e.lanes=s,e}function sf(e,n,s){return e=In(6,e,null,n),e.lanes=s,e}function Kp(e){var n=In(18,null,null,0);return n.stateNode=e,n}function rf(e,n,s){return n=In(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Yp=new WeakMap;function Hn(e,n){if(typeof e=="object"&&e!==null){var s=Yp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:xs(n)},Yp.set(e,n),n)}return{value:e,source:n,stack:xs(n)}}var ja=[],Ua=0,Lu=null,io=0,Fn=[],Gn=0,ks=null,Vi=1,ki="";function ts(e,n){ja[Ua++]=io,ja[Ua++]=Lu,Lu=e,io=n}function Xp(e,n,s){Fn[Gn++]=Vi,Fn[Gn++]=ki,Fn[Gn++]=ks,ks=e;var l=Vi;e=ki;var h=32-Kt(l)-1;l&=~(1<<h),s+=1;var f=32-Kt(n)+h;if(30<f){var p=h-h%5;f=(l&(1<<p)-1).toString(32),l>>=p,h-=p,Vi=1<<32-Kt(n)+h|s<<h|l,ki=f+e}else Vi=1<<f|s<<h|l,ki=e}function af(e){e.return!==null&&(ts(e,1),Xp(e,1,0))}function lf(e){for(;e===Lu;)Lu=ja[--Ua],ja[Ua]=null,io=ja[--Ua],ja[Ua]=null;for(;e===ks;)ks=Fn[--Gn],Fn[Gn]=null,ki=Fn[--Gn],Fn[Gn]=null,Vi=Fn[--Gn],Fn[Gn]=null}function $p(e,n){Fn[Gn++]=Vi,Fn[Gn++]=ki,Fn[Gn++]=ks,Vi=n.id,ki=n.overflow,ks=e}var $e=null,he=null,Gt=!1,js=null,Qn=!1,of=Error(a(519));function Us(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw so(Hn(n,e)),of}function Jp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ie]=e,n[Fe]=l,s){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(s=0;s<Co.length;s++)Lt(Co[s],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),yu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),Rs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||m_(n.textContent,s)?(l.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),l.onScroll!=null&&Lt("scroll",n),l.onScrollEnd!=null&&Lt("scrollend",n),l.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Us(e,!0)}function Zp(e){for($e=e.return;$e;)switch($e.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:$e=$e.return}}function La(e){if(e!==$e)return!1;if(!Gt)return Zp(e),Gt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wd(e.type,e.memoizedProps)),s=!s),s&&he&&Us(e),Zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=A_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));he=A_(e)}else n===27?(n=he,Js(e.type)?(e=Dd,Dd=null,he=e):he=n):he=$e?Yn(e.stateNode.nextSibling):null;return!0}function Xr(){he=$e=null,Gt=!1}function uf(){var e=js;return e!==null&&(bn===null?bn=e:bn.push.apply(bn,e),js=null),e}function so(e){js===null?js=[e]:js.push(e)}var cf=I(null),$r=null,es=null;function Ls(e,n,s){it(cf,n._currentValue),n._currentValue=s}function ns(e){e._currentValue=cf.current,X(cf)}function hf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function ff(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),hf(f.return,s,e),l||(p=null);break t}f=T.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),hf(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Pa(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var T=h.type;Nn(h.pendingProps.value,p.value)||(e!==null?e.push(T):e=[T])}}else if(h===Rt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Mo):e=[Mo])}h=h.return}e!==null&&ff(n,e,s,l),n.flags|=262144}function Pu(e){for(e=e.firstContext;e!==null;){if(!Nn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Jr(e){$r=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Je(e){return Wp($r,e)}function zu(e,n){return $r===null&&Jr(e),Wp(e,n)}function Wp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},es===null){if(e===null)throw Error(a(308));es=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else es=es.next=n;return s}var IT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},DT=r.unstable_scheduleCallback,MT=r.unstable_NormalPriority,Oe={$$typeof:lt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new IT,data:new Map,refCount:0}}function ro(e){e.refCount--,e.refCount===0&&DT(MT,function(){e.controller.abort()})}var ao=null,mf=0,za=0,Ba=null;function OT(e,n){if(ao===null){var s=ao=[];mf=0,za=yd(),Ba={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mf++,n.then(tg,tg),n}function tg(){if(--mf===0&&ao!==null){Ba!==null&&(Ba.status="fulfilled");var e=ao;ao=null,za=0,Ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function VT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var eg=z.S;z.S=function(e,n){Ly=He(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(e,n),eg!==null&&eg(e,n)};var Zr=I(null);function pf(){var e=Zr.current;return e!==null?e:ue.pooledCache}function Bu(e,n){n===null?it(Zr,Zr.current):it(Zr,n.pool)}function ng(){var e=pf();return e===null?null:{parent:Oe._currentValue,pool:e}}var qa=Error(a(460)),gf=Error(a(474)),qu=Error(a(542)),Hu={then:function(){}};function ig(e){return e=e.status,e==="fulfilled"||e==="rejected"}function sg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ni,ni),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ag(e),e}throw ta=n,qa}}function Wr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(ta=s,qa):s}}var ta=null;function rg(){if(ta===null)throw Error(a(459));var e=ta;return ta=null,e}function ag(e){if(e===qa||e===qu)throw Error(a(483))}var Ha=null,lo=0;function Fu(e){var n=lo;return lo+=1,Ha===null&&(Ha=[]),sg(Ha,e,n)}function oo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Gu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function lg(e){function n(k,M){if(e){var L=k.deletions;L===null?(k.deletions=[M],k.flags|=16):L.push(M)}}function s(k,M){if(!e)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Wi(k,M),k.index=0,k.sibling=null,k}function f(k,M,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<M?(k.flags|=67108866,M):L):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function p(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,L,Y){return M===null||M.tag!==6?(M=sf(L,k.mode,Y),M.return=k,M):(M=h(M,L),M.return=k,M)}function R(k,M,L,Y){var gt=L.type;return gt===et?K(k,M,L.props.children,Y,L.key):M!==null&&(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Wr(gt)===M.type)?(M=h(M,L.props),oo(M,L),M.return=k,M):(M=Uu(L.type,L.key,L.props,null,k.mode,Y),oo(M,L),M.return=k,M)}function P(k,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=rf(L,k.mode,Y),M.return=k,M):(M=h(M,L.children||[]),M.return=k,M)}function K(k,M,L,Y,gt){return M===null||M.tag!==7?(M=Yr(L,k.mode,Y,gt),M.return=k,M):(M=h(M,L),M.return=k,M)}function $(k,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=sf(""+M,k.mode,L),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return L=Uu(M.type,M.key,M.props,null,k.mode,L),oo(L,M),L.return=k,L;case tt:return M=rf(M,k.mode,L),M.return=k,M;case w:return M=Wr(M),$(k,M,L)}if(jt(M)||j(M))return M=Yr(M,k.mode,L,null),M.return=k,M;if(typeof M.then=="function")return $(k,Fu(M),L);if(M.$$typeof===lt)return $(k,zu(k,M),L);Gu(k,M)}return null}function q(k,M,L,Y){var gt=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return gt!==null?null:T(k,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===gt?R(k,M,L,Y):null;case tt:return L.key===gt?P(k,M,L,Y):null;case w:return L=Wr(L),q(k,M,L,Y)}if(jt(L)||j(L))return gt!==null?null:K(k,M,L,Y,null);if(typeof L.then=="function")return q(k,M,Fu(L),Y);if(L.$$typeof===lt)return q(k,M,zu(k,L),Y);Gu(k,L)}return null}function F(k,M,L,Y,gt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(L)||null,T(M,k,""+Y,gt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?L:Y.key)||null,R(M,k,Y,gt);case tt:return k=k.get(Y.key===null?L:Y.key)||null,P(M,k,Y,gt);case w:return Y=Wr(Y),F(k,M,L,Y,gt)}if(jt(Y)||j(Y))return k=k.get(L)||null,K(M,k,Y,gt,null);if(typeof Y.then=="function")return F(k,M,L,Fu(Y),gt);if(Y.$$typeof===lt)return F(k,M,L,zu(M,Y),gt);Gu(M,Y)}return null}function ut(k,M,L,Y){for(var gt=null,Xt=null,ft=M,Vt=M=0,zt=null;ft!==null&&Vt<L.length;Vt++){ft.index>Vt?(zt=ft,ft=null):zt=ft.sibling;var $t=q(k,ft,L[Vt],Y);if($t===null){ft===null&&(ft=zt);break}e&&ft&&$t.alternate===null&&n(k,ft),M=f($t,M,Vt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t,ft=zt}if(Vt===L.length)return s(k,ft),Gt&&ts(k,Vt),gt;if(ft===null){for(;Vt<L.length;Vt++)ft=$(k,L[Vt],Y),ft!==null&&(M=f(ft,M,Vt),Xt===null?gt=ft:Xt.sibling=ft,Xt=ft);return Gt&&ts(k,Vt),gt}for(ft=l(ft);Vt<L.length;Vt++)zt=F(ft,k,Vt,L[Vt],Y),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?Vt:zt.key),M=f(zt,M,Vt),Xt===null?gt=zt:Xt.sibling=zt,Xt=zt);return e&&ft.forEach(function(nr){return n(k,nr)}),Gt&&ts(k,Vt),gt}function Et(k,M,L,Y){if(L==null)throw Error(a(151));for(var gt=null,Xt=null,ft=M,Vt=M=0,zt=null,$t=L.next();ft!==null&&!$t.done;Vt++,$t=L.next()){ft.index>Vt?(zt=ft,ft=null):zt=ft.sibling;var nr=q(k,ft,$t.value,Y);if(nr===null){ft===null&&(ft=zt);break}e&&ft&&nr.alternate===null&&n(k,ft),M=f(nr,M,Vt),Xt===null?gt=nr:Xt.sibling=nr,Xt=nr,ft=zt}if($t.done)return s(k,ft),Gt&&ts(k,Vt),gt;if(ft===null){for(;!$t.done;Vt++,$t=L.next())$t=$(k,$t.value,Y),$t!==null&&(M=f($t,M,Vt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t);return Gt&&ts(k,Vt),gt}for(ft=l(ft);!$t.done;Vt++,$t=L.next())$t=F(ft,k,Vt,$t.value,Y),$t!==null&&(e&&$t.alternate!==null&&ft.delete($t.key===null?Vt:$t.key),M=f($t,M,Vt),Xt===null?gt=$t:Xt.sibling=$t,Xt=$t);return e&&ft.forEach(function(Gb){return n(k,Gb)}),Gt&&ts(k,Vt),gt}function oe(k,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var gt=L.key;M!==null;){if(M.key===gt){if(gt=L.type,gt===et){if(M.tag===7){s(k,M.sibling),Y=h(M,L.props.children),Y.return=k,k=Y;break t}}else if(M.elementType===gt||typeof gt=="object"&&gt!==null&&gt.$$typeof===w&&Wr(gt)===M.type){s(k,M.sibling),Y=h(M,L.props),oo(Y,L),Y.return=k,k=Y;break t}s(k,M);break}else n(k,M);M=M.sibling}L.type===et?(Y=Yr(L.props.children,k.mode,Y,L.key),Y.return=k,k=Y):(Y=Uu(L.type,L.key,L.props,null,k.mode,Y),oo(Y,L),Y.return=k,k=Y)}return p(k);case tt:t:{for(gt=L.key;M!==null;){if(M.key===gt)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){s(k,M.sibling),Y=h(M,L.children||[]),Y.return=k,k=Y;break t}else{s(k,M);break}else n(k,M);M=M.sibling}Y=rf(L,k.mode,Y),Y.return=k,k=Y}return p(k);case w:return L=Wr(L),oe(k,M,L,Y)}if(jt(L))return ut(k,M,L,Y);if(j(L)){if(gt=j(L),typeof gt!="function")throw Error(a(150));return L=gt.call(L),Et(k,M,L,Y)}if(typeof L.then=="function")return oe(k,M,Fu(L),Y);if(L.$$typeof===lt)return oe(k,M,zu(k,L),Y);Gu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(s(k,M.sibling),Y=h(M,L),Y.return=k,k=Y):(s(k,M),Y=sf(L,k.mode,Y),Y.return=k,k=Y),p(k)):s(k,M)}return function(k,M,L,Y){try{lo=0;var gt=oe(k,M,L,Y);return Ha=null,gt}catch(ft){if(ft===qa||ft===qu)throw ft;var Xt=In(29,ft,null,k.mode);return Xt.lanes=Y,Xt.return=k,Xt}}}var ea=lg(!0),og=lg(!1),Ps=!1;function yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Zt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ju(e),Gp(e,null,s),n}return ku(e,l,n,s),ju(e)}function uo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,jl(e,s)}}function vf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ef=!1;function co(){if(Ef){var e=Ba;if(e!==null)throw e}}function ho(e,n,s,l){Ef=!1;var h=e.updateQueue;Ps=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,p===null?f=P:p.next=P,p=R;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==p&&(T===null?K.firstBaseUpdate=P:T.next=P,K.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;p=0,K=P=R=null,T=f;do{var q=T.lane&-536870913,F=q!==T.lane;if(F?(Pt&q)===q:(l&q)===q){q!==0&&q===za&&(Ef=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,Et=T;q=n;var oe=s;switch(Et.tag){case 1:if(ut=Et.payload,typeof ut=="function"){$=ut.call(oe,$,q);break t}$=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Et.payload,q=typeof ut=="function"?ut.call(oe,$,q):ut,q==null)break t;$=S({},$,q);break t;case 2:Ps=!0}}q=T.callback,q!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[q]:F.push(q))}else F={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(P=K=F,R=$):K=K.next=F,p|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(R=$),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Qs|=p,e.lanes=p,e.memoizedState=$}}function ug(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function cg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ug(s[e],n)}var Fa=I(null),Qu=I(0);function hg(e,n){e=hs,it(Qu,e),it(Fa,n),hs=e|n.baseLanes}function Tf(){it(Qu,hs),it(Fa,Fa.current)}function bf(){hs=Qu.current,X(Fa),X(Qu)}var Dn=I(null),Kn=null;function qs(e){var n=e.alternate;it(xe,xe.current&1),it(Dn,e),Kn===null&&(n===null||Fa.current!==null||n.memoizedState!==null)&&(Kn=e)}function Af(e){it(xe,xe.current),it(Dn,e),Kn===null&&(Kn=e)}function fg(e){e.tag===22?(it(xe,xe.current),it(Dn,e),Kn===null&&(Kn=e)):Hs()}function Hs(){it(xe,xe.current),it(Dn,Dn.current)}function Mn(e){X(Dn),Kn===e&&(Kn=null),X(xe)}var xe=I(0);function Ku(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Nd(s)||Id(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,Ot=null,ae=null,Ve=null,Yu=!1,Ga=!1,na=!1,Xu=0,fo=0,Qa=null,kT=0;function Te(){throw Error(a(321))}function Sf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Nn(e[s],n[s]))return!1;return!0}function xf(e,n,s,l,h,f){return is=f,Ot=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,z.H=e===null||e.memoizedState===null?Xg:zf,na=!1,f=s(l,h),na=!1,Ga&&(f=mg(n,s,l,h)),dg(e),f}function dg(e){z.H=go;var n=ae!==null&&ae.next!==null;if(is=0,Ve=ae=Ot=null,Yu=!1,fo=0,Qa=null,n)throw Error(a(300));e===null||ke||(e=e.dependencies,e!==null&&Pu(e)&&(ke=!0))}function mg(e,n,s,l){Ot=e;var h=0;do{if(Ga&&(Qa=null),fo=0,Ga=!1,25<=h)throw Error(a(301));if(h+=1,Ve=ae=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}z.H=$g,f=n(s,l)}while(Ga);return f}function jT(){var e=z.H,n=e.useState()[0];return n=typeof n.then=="function"?mo(n):n,e=e.useState()[0],(ae!==null?ae.memoizedState:null)!==e&&(Ot.flags|=1024),n}function wf(){var e=Xu!==0;return Xu=0,e}function Cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Rf(e){if(Yu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Yu=!1}is=0,Ve=ae=Ot=null,Ga=!1,fo=Xu=0,Qa=null}function mn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ve===null?Ot.memoizedState=Ve=e:Ve=Ve.next=e,Ve}function we(){if(ae===null){var e=Ot.alternate;e=e!==null?e.memoizedState:null}else e=ae.next;var n=Ve===null?Ot.memoizedState:Ve.next;if(n!==null)Ve=n,ae=e;else{if(e===null)throw Ot.alternate===null?Error(a(467)):Error(a(310));ae=e,e={memoizedState:ae.memoizedState,baseState:ae.baseState,baseQueue:ae.baseQueue,queue:ae.queue,next:null},Ve===null?Ot.memoizedState=Ve=e:Ve=Ve.next=e}return Ve}function $u(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mo(e){var n=fo;return fo+=1,Qa===null&&(Qa=[]),e=sg(Qa,e,n),n=Ot,(Ve===null?n.memoizedState:Ve.next)===null&&(n=n.alternate,z.H=n===null||n.memoizedState===null?Xg:zf),e}function Ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mo(e);if(e.$$typeof===lt)return Je(e)}throw Error(a(438,String(e)))}function Nf(e){var n=null,s=Ot.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Ot.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=$u(),Ot.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function ss(e,n){return typeof n=="function"?n(e):n}function Zu(e){var n=we();return If(n,ae,e)}function If(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=p=null,R=null,P=n,K=!1;do{var $=P.lane&-536870913;if($!==P.lane?(Pt&$)===$:(is&$)===$){var q=P.revertLane;if(q===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===za&&(K=!0);else if((is&q)===q){P=P.next,q===za&&(K=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=$,p=f):R=R.next=$,Ot.lanes|=q,Qs|=q;$=P.action,na&&s(f,$),f=P.hasEagerState?P.eagerState:s(f,$)}else q={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=q,p=f):R=R.next=q,Ot.lanes|=$,Qs|=$;P=P.next}while(P!==null&&P!==n);if(R===null?p=f:R.next=T,!Nn(f,e.memoizedState)&&(ke=!0,K&&(s=Ba,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Df(e){var n=we(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);Nn(f,n.memoizedState)||(ke=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function pg(e,n,s){var l=Ot,h=we(),f=Gt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!Nn((ae||h).memoizedState,s);if(p&&(h.memoizedState=s,ke=!0),h=h.queue,Vf(_g.bind(null,l,h,e),[e]),h.getSnapshot!==n||p||Ve!==null&&Ve.memoizedState.tag&1){if(l.flags|=2048,Ka(9,{destroy:void 0},yg.bind(null,l,h,s,n),null),ue===null)throw Error(a(349));f||(is&127)!==0||gg(l,n,s)}return s}function gg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ot.updateQueue,n===null?(n=$u(),Ot.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function yg(e,n,s,l){n.value=s,n.getSnapshot=l,vg(n)&&Eg(e)}function _g(e,n,s){return s(function(){vg(n)&&Eg(e)})}function vg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Nn(e,s)}catch{return!0}}function Eg(e){var n=Kr(e,2);n!==null&&An(n,e,2)}function Mf(e){var n=mn();if(typeof e=="function"){var s=e;if(e=s(),na){Yt(!0);try{s()}finally{Yt(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},n}function Tg(e,n,s,l){return e.baseState=s,If(e,ae,typeof l=="function"?l:ss)}function UT(e,n,s,l,h){if(ec(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};z.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,bg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function bg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=z.T,p={};z.T=p;try{var T=s(h,l),R=z.S;R!==null&&R(p,T),Ag(e,n,T)}catch(P){Of(e,n,P)}finally{f!==null&&p.types!==null&&(f.types=p.types),z.T=f}}else try{f=s(h,l),Ag(e,n,f)}catch(P){Of(e,n,P)}}function Ag(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Sg(e,n,l)},function(l){return Of(e,n,l)}):Sg(e,n,s)}function Sg(e,n,s){n.status="fulfilled",n.value=s,xg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,bg(e,s)))}function Of(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,xg(n),n=n.next;while(n!==l)}e.action=null}function xg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wg(e,n){return n}function Cg(e,n){if(Gt){var s=ue.formState;if(s!==null){t:{var l=Ot;if(Gt){if(he){e:{for(var h=he,f=Qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Yn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){he=Yn(h.nextSibling),l=h.data==="F!";break t}}Us(l)}l=!1}l&&(n=s[0])}}return s=mn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},s.queue=l,s=Qg.bind(null,Ot,l),l.dispatch=s,l=Mf(!1),f=Pf.bind(null,Ot,!1,l.queue),l=mn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=UT.bind(null,Ot,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Rg(e){var n=we();return Ng(n,ae,e)}function Ng(e,n,s){if(n=If(e,n,wg)[0],e=Zu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=mo(n)}catch(p){throw p===qa?qu:p}else l=n;n=we();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ot.flags|=2048,Ka(9,{destroy:void 0},LT.bind(null,h,s),null)),[l,f,e]}function LT(e,n){e.action=n}function Ig(e){var n=we(),s=ae;if(s!==null)return Ng(n,s,e);we(),n=n.memoizedState,s=we();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ka(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Ot.updateQueue,n===null&&(n=$u(),Ot.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Dg(){return we().memoizedState}function Wu(e,n,s,l){var h=mn();Ot.flags|=e,h.memoizedState=Ka(1|n,{destroy:void 0},s,l===void 0?null:l)}function tc(e,n,s,l){var h=we();l=l===void 0?null:l;var f=h.memoizedState.inst;ae!==null&&l!==null&&Sf(l,ae.memoizedState.deps)?h.memoizedState=Ka(n,f,s,l):(Ot.flags|=e,h.memoizedState=Ka(1|n,f,s,l))}function Mg(e,n){Wu(8390656,8,e,n)}function Vf(e,n){tc(2048,8,e,n)}function PT(e){Ot.flags|=4;var n=Ot.updateQueue;if(n===null)n=$u(),Ot.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Og(e){var n=we().memoizedState;return PT({ref:n,nextImpl:e}),function(){if((Zt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Vg(e,n){return tc(4,2,e,n)}function kg(e,n){return tc(4,4,e,n)}function jg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ug(e,n,s){s=s!=null?s.concat([e]):null,tc(4,4,jg.bind(null,n,e),s)}function kf(){}function Lg(e,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Sf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Pg(e,n){var s=we();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Sf(n,l[1]))return l[0];if(l=e(),na){Yt(!0);try{e()}finally{Yt(!1)}}return s.memoizedState=[l,n],l}function jf(e,n,s){return s===void 0||(is&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=zy(),Ot.lanes|=e,Qs|=e,s)}function zg(e,n,s,l){return Nn(s,n)?s:Fa.current!==null?(e=jf(e,s,l),Nn(e,n)||(ke=!0),e):(is&42)===0||(is&1073741824)!==0&&(Pt&261930)===0?(ke=!0,e.memoizedState=s):(e=zy(),Ot.lanes|=e,Qs|=e,n)}function Bg(e,n,s,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var p=z.T,T={};z.T=T,Pf(e,!1,n,s);try{var R=h(),P=z.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=VT(R,l);po(e,n,K,kn(e))}else po(e,n,l,kn(e))}catch($){po(e,n,{then:function(){},status:"rejected",reason:$},kn())}finally{W.p=f,p!==null&&T.types!==null&&(p.types=T.types),z.T=p}}function zT(){}function Uf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=qg(e).queue;Bg(e,h,n,st,s===null?zT:function(){return Hg(e),s(l)})}function qg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:st},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Hg(e){var n=qg(e);n.next===null&&(n=e.alternate.memoizedState),po(e,n.next.queue,{},kn())}function Lf(){return Je(Mo)}function Fg(){return we().memoizedState}function Gg(){return we().memoizedState}function BT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=kn();e=zs(s);var l=Bs(n,e,s);l!==null&&(An(l,n,s),uo(l,n,s)),n={cache:df()},e.payload=n;return}n=n.return}}function qT(e,n,s){var l=kn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},ec(e)?Kg(n,s):(s=ef(e,n,s,l),s!==null&&(An(s,e,l),Yg(s,n,l)))}function Qg(e,n,s){var l=kn();po(e,n,s,l)}function po(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(ec(e))Kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,T=f(p,s);if(h.hasEagerState=!0,h.eagerState=T,Nn(T,p))return ku(e,n,h,0),ue===null&&Vu(),!1}catch{}if(s=ef(e,n,h,l),s!==null)return An(s,e,l),Yg(s,n,l),!0}return!1}function Pf(e,n,s,l){if(l={lane:2,revertLane:yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},ec(e)){if(n)throw Error(a(479))}else n=ef(e,s,l,2),n!==null&&An(n,e,2)}function ec(e){var n=e.alternate;return e===Ot||n!==null&&n===Ot}function Kg(e,n){Ga=Yu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Yg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,jl(e,s)}}var go={readContext:Je,use:Ju,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};go.useEffectEvent=Te;var Xg={readContext:Je,use:Ju,useCallback:function(e,n){return mn().memoizedState=[e,n===void 0?null:n],e},useContext:Je,useEffect:Mg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Wu(4194308,4,jg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Wu(4194308,4,e,n)},useInsertionEffect:function(e,n){Wu(4,2,e,n)},useMemo:function(e,n){var s=mn();n=n===void 0?null:n;var l=e();if(na){Yt(!0);try{e()}finally{Yt(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=mn();if(s!==void 0){var h=s(n);if(na){Yt(!0);try{s(n)}finally{Yt(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=qT.bind(null,Ot,e),[l.memoizedState,e]},useRef:function(e){var n=mn();return e={current:e},n.memoizedState=e},useState:function(e){e=Mf(e);var n=e.queue,s=Qg.bind(null,Ot,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:kf,useDeferredValue:function(e,n){var s=mn();return jf(s,e,n)},useTransition:function(){var e=Mf(!1);return e=Bg.bind(null,Ot,e.queue,!0,!1),mn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Ot,h=mn();if(Gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ue===null)throw Error(a(349));(Pt&127)!==0||gg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Mg(_g.bind(null,l,f,e),[e]),l.flags|=2048,Ka(9,{destroy:void 0},yg.bind(null,l,f,s,n),null),s},useId:function(){var e=mn(),n=ue.identifierPrefix;if(Gt){var s=ki,l=Vi;s=(l&~(1<<32-Kt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Xu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=kT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Lf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e){var n=mn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Pf.bind(null,Ot,!0,s),s.dispatch=n,[e,n]},useMemoCache:Nf,useCacheRefresh:function(){return mn().memoizedState=BT.bind(null,Ot)},useEffectEvent:function(e){var n=mn(),s={impl:e};return n.memoizedState=s,function(){if((Zt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},zf={readContext:Je,use:Ju,useCallback:Lg,useContext:Je,useEffect:Vf,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:kg,useMemo:Pg,useReducer:Zu,useRef:Dg,useState:function(){return Zu(ss)},useDebugValue:kf,useDeferredValue:function(e,n){var s=we();return zg(s,ae.memoizedState,e,n)},useTransition:function(){var e=Zu(ss)[0],n=we().memoizedState;return[typeof e=="boolean"?e:mo(e),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Lf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var s=we();return Tg(s,ae,e,n)},useMemoCache:Nf,useCacheRefresh:Gg};zf.useEffectEvent=Og;var $g={readContext:Je,use:Ju,useCallback:Lg,useContext:Je,useEffect:Vf,useImperativeHandle:Ug,useInsertionEffect:Vg,useLayoutEffect:kg,useMemo:Pg,useReducer:Df,useRef:Dg,useState:function(){return Df(ss)},useDebugValue:kf,useDeferredValue:function(e,n){var s=we();return ae===null?jf(s,e,n):zg(s,ae.memoizedState,e,n)},useTransition:function(){var e=Df(ss)[0],n=we().memoizedState;return[typeof e=="boolean"?e:mo(e),n]},useSyncExternalStore:pg,useId:Fg,useHostTransitionStatus:Lf,useFormState:Ig,useActionState:Ig,useOptimistic:function(e,n){var s=we();return ae!==null?Tg(s,ae,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Gg};$g.useEffectEvent=Og;function Bf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var qf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=kn(),h=zs(l);h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(An(n,e,l),uo(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=kn(),h=zs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(An(n,e,l),uo(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=kn(),l=zs(s);l.tag=2,n!=null&&(l.callback=n),n=Bs(e,l,s),n!==null&&(An(n,e,s),uo(n,e,s))}};function Jg(e,n,s,l,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,p):n.prototype&&n.prototype.isPureReactComponent?!eo(s,l)||!eo(h,f):!0}function Zg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&qf.enqueueReplaceState(n,n.state,null)}function ia(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Wg(e){Ou(e)}function ty(e){console.error(e)}function ey(e){Ou(e)}function nc(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ny(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,n,s){return s=zs(s),s.tag=3,s.payload={element:null},s.callback=function(){nc(e,n)},s}function iy(e){return e=zs(e),e.tag=3,e}function sy(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){ny(n,s,l)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){ny(n,s,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function HT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&Pa(n,s,h,!0),s=Dn.current,s!==null){switch(s.tag){case 31:case 13:return Kn===null?mc():s.alternate===null&&be===0&&(be=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),md(e,l,h)),!1;case 22:return s.flags|=65536,l===Hu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),md(e,l,h)),!1}throw Error(a(435,s.tag))}return md(e,l,h),mc(),!1}if(Gt)return n=Dn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==of&&(e=Error(a(422),{cause:l}),so(Hn(e,s)))):(l!==of&&(n=Error(a(423),{cause:l}),so(Hn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Hn(l,s),h=Hf(e.stateNode,l,h),vf(e,h),be!==4&&(be=2)),!1;var f=Error(a(520),{cause:l});if(f=Hn(f,s),So===null?So=[f]:So.push(f),be!==4&&(be=2),n===null)return!0;l=Hn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Hf(s.stateNode,l,e),vf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=iy(h),sy(h,e,s,l),vf(s,h),!1}s=s.return}while(s!==null);return!1}var Ff=Error(a(461)),ke=!1;function Ze(e,n,s,l){n.child=e===null?og(n,null,s,l):ea(n,e.child,s,l)}function ry(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var p={};for(var T in l)T!=="ref"&&(p[T]=l[T])}else p=l;return Jr(n),l=xf(e,n,s,p,f,h),T=wf(),e!==null&&!ke?(Cf(e,n,h),rs(e,n,h)):(Gt&&T&&af(n),n.flags|=1,Ze(e,n,l,h),n.child)}function ay(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ly(e,n,f,l,h)):(e=Uu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Zf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:eo,s(p,l)&&e.ref===n.ref)return rs(e,n,h)}return n.flags|=1,e=Wi(f,l),e.ref=n.ref,e.return=n,n.child=e}function ly(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(eo(f,l)&&e.ref===n.ref)if(ke=!1,n.pendingProps=l=f,Zf(e,h))(e.flags&131072)!==0&&(ke=!0);else return n.lanes=e.lanes,rs(e,n,h)}return Gf(e,n,s,l,h)}function oy(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return uy(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Bu(n,f!==null?f.cachePool:null),f!==null?hg(n,f):Tf(),fg(n);else return l=n.lanes=536870912,uy(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Bu(n,f.cachePool),hg(n,f),Hs(),n.memoizedState=null):(e!==null&&Bu(n,null),Tf(),Hs());return Ze(e,n,h,s),n.child}function yo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function uy(e,n,s,l,h){var f=pf();return f=f===null?null:{parent:Oe._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Bu(n,null),Tf(),fg(n),e!==null&&Pa(e,n,l,!0),n.childLanes=h,null}function ic(e,n){return n=rc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function cy(e,n,s){return ea(n,e.child,null,s),e=ic(n,n.pendingProps),e.flags|=2,Mn(n),n.memoizedState=null,e}function FT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Gt){if(l.mode==="hidden")return e=ic(n,l),n.lanes=536870912,yo(null,e);if(Af(n),(e=he)?(e=b_(e,Qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Kp(e),s.return=n,n.child=s,$e=n,he=null)):e=null,e===null)throw Us(n);return n.lanes=536870912,null}return ic(n,l)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=cy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(ke||Pa(e,n,s,!1),h=(s&e.childLanes)!==0,ke||h){if(l=ue,l!==null&&(p=Ul(l,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Kr(e,p),An(l,e,p),Ff;mc(),n=cy(e,n,s)}else e=f.treeContext,he=Yn(p.nextSibling),$e=n,Gt=!0,js=null,Qn=!1,e!==null&&$p(n,e),n=ic(n,l),n.flags|=4096;return n}return e=Wi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function sc(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Gf(e,n,s,l,h){return Jr(n),s=xf(e,n,s,l,void 0,h),l=wf(),e!==null&&!ke?(Cf(e,n,h),rs(e,n,h)):(Gt&&l&&af(n),n.flags|=1,Ze(e,n,s,h),n.child)}function hy(e,n,s,l,h,f){return Jr(n),n.updateQueue=null,s=mg(n,l,s,h),dg(e),l=wf(),e!==null&&!ke?(Cf(e,n,f),rs(e,n,f)):(Gt&&l&&af(n),n.flags|=1,Ze(e,n,s,f),n.child)}function fy(e,n,s,l,h){if(Jr(n),n.stateNode===null){var f=ka,p=s.contextType;typeof p=="object"&&p!==null&&(f=Je(p)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},yf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?Je(p):ka,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Bf(n,s,p,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&qf.enqueueReplaceState(f,f.state,null),ho(n,l,f,h),co(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=ia(s,T);f.props=R;var P=f.context,K=s.contextType;p=ka,typeof K=="object"&&K!==null&&(p=Je(K));var $=s.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==p)&&Zg(n,f,l,p),Ps=!1;var q=n.memoizedState;f.state=q,ho(n,l,f,h),co(),P=n.memoizedState,T||q!==P||Ps?(typeof $=="function"&&(Bf(n,s,$,l),P=n.memoizedState),(R=Ps||Jg(n,s,R,l,q,P,p))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=p,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_f(e,n),p=n.memoizedProps,K=ia(s,p),f.props=K,$=n.pendingProps,q=f.context,P=s.contextType,R=ka,typeof P=="object"&&P!==null&&(R=Je(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==$||q!==R)&&Zg(n,f,l,R),Ps=!1,q=n.memoizedState,f.state=q,ho(n,l,f,h),co();var F=n.memoizedState;p!==$||q!==F||Ps||e!==null&&e.dependencies!==null&&Pu(e.dependencies)?(typeof T=="function"&&(Bf(n,s,T,l),F=n.memoizedState),(K=Ps||Jg(n,s,K,l,q,F,R)||e!==null&&e.dependencies!==null&&Pu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&q===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,sc(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=ea(n,e.child,null,h),n.child=ea(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=rs(e,n,h),e}function dy(e,n,s,l){return Xr(),n.flags|=256,Ze(e,n,s,l),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(e){return{baseLanes:e,cachePool:ng()}}function Yf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Vn),e}function my(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(xe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Gt){if(h?qs(n):Hs(),(e=he)?(e=b_(e,Qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Vi,overflow:ki}:null,retryLane:536870912,hydrationErrors:null},s=Kp(e),s.return=n,n.child=s,$e=n,he=null)):e=null,e===null)throw Us(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Hs(),h=n.mode,T=rc({mode:"hidden",children:T},h),l=Yr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Kf(s),l.childLanes=Yf(e,p,s),n.memoizedState=Qf,yo(null,l)):(qs(n),Xf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=$f(e,n,s)):n.memoizedState!==null?(Hs(),n.child=e.child,n.flags|=128,n=null):(Hs(),T=l.fallback,h=n.mode,l=rc({mode:"visible",children:l.children},h),T=Yr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,ea(n,e.child,null,s),l=n.child,l.memoizedState=Kf(s),l.childLanes=Yf(e,p,s),n.memoizedState=Qf,n=yo(null,l));else if(qs(n),Id(T)){if(p=T.nextSibling&&T.nextSibling.dataset,p)var P=p.dgst;p=P,l=Error(a(419)),l.stack="",l.digest=p,so({value:l,source:null,stack:null}),n=$f(e,n,s)}else if(ke||Pa(e,n,s,!1),p=(s&e.childLanes)!==0,ke||p){if(p=ue,p!==null&&(l=Ul(p,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Kr(e,l),An(p,e,l),Ff;Nd(T)||mc(),n=$f(e,n,s)}else Nd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,he=Yn(T.nextSibling),$e=n,Gt=!0,js=null,Qn=!1,e!==null&&$p(n,e),n=Xf(n,l.children),n.flags|=4096);return n}return h?(Hs(),T=l.fallback,h=n.mode,R=e.child,P=R.sibling,l=Wi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Wi(P,T):(T=Yr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,yo(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Kf(s):(h=T.cachePool,h!==null?(R=Oe._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ng(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Yf(e,p,s),n.memoizedState=Qf,yo(e.child,l)):(qs(n),s=e.child,e=s.sibling,s=Wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Xf(e,n){return n=rc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function rc(e,n){return e=In(22,e,null,n),e.lanes=0,e}function $f(e,n,s){return ea(n,e.child,null,s),e=Xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function py(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),hf(e.return,n,s)}function Jf(e,n,s,l,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=l,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function gy(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var p=xe.current,T=(p&2)!==0;if(T?(p=p&1|2,n.flags|=128):p&=1,it(xe,p),Ze(e,n,l,s),l=Gt?io:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&py(e,s,n);else if(e.tag===19)py(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Ku(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Jf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Ku(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Jf(n,!0,s,null,f,l);break;case"together":Jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function rs(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Pa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Pu(e)))}function GT(e,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Ls(n,Oe,e.memoizedState.cache),Xr();break;case 27:case 5:Jn(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?my(e,n,s):(qs(n),e=rs(e,n,s),e!==null?e.sibling:null);qs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(Pa(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return gy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(xe,xe.current),l)break;return null;case 22:return n.lanes=0,oy(e,n,s,n.pendingProps);case 24:Ls(n,Oe,e.memoizedState.cache)}return rs(e,n,s)}function yy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)ke=!0;else{if(!Zf(e,s)&&(n.flags&128)===0)return ke=!1,GT(e,n,s);ke=(e.flags&131072)!==0}else ke=!1,Gt&&(n.flags&1048576)!==0&&Xp(n,io,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Wr(n.elementType),n.type=e,typeof e=="function")nf(e)?(l=ia(e,l),n.tag=1,n=fy(null,n,e,l,s)):(n.tag=0,n=Gf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===bt){n.tag=11,n=ry(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=ay(null,n,e,l,s);break t}}throw n=rt(e)||e,Error(a(306,n,""))}}return n;case 0:return Gf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ia(l,n.pendingProps),fy(e,n,l,h,s);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,_f(e,n),ho(n,l,null,s);var p=n.memoizedState;if(l=p.cache,Ls(n,Oe,l),l!==f.cache&&ff(n,[Oe],s,!0),co(),l=p.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=dy(e,n,l,s);break t}else if(l!==h){h=Hn(Error(a(424)),n),so(h),n=dy(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,he=Yn(e.firstChild),$e=n,Gt=!0,js=null,Qn=!0,s=og(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Xr(),l===h){n=rs(e,n,s);break t}Ze(e,n,l,s)}n=n.child}return n;case 26:return sc(e,n),e===null?(s=R_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Gt||(s=n.type,e=n.pendingProps,l=Tc(wt.current).createElement(s),l[Ie]=n,l[Fe]=e,We(l,s,e),De(l),n.stateNode=l):n.memoizedState=R_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Jn(n),e===null&&Gt&&(l=n.stateNode=x_(n.type,n.pendingProps,wt.current),$e=n,Qn=!0,h=he,Js(n.type)?(Dd=h,he=Yn(l.firstChild)):he=h),Ze(e,n,n.pendingProps.children,s),sc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Gt&&((h=l=he)&&(l=Tb(l,n.type,n.pendingProps,Qn),l!==null?(n.stateNode=l,$e=n,he=Yn(l.firstChild),Qn=!1,h=!0):h=!1),h||Us(n)),Jn(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,l=f.children,wd(h,f)?l=null:p!==null&&wd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=xf(e,n,jT,null,null,s),Mo._currentValue=h),sc(e,n),Ze(e,n,l,s),n.child;case 6:return e===null&&Gt&&((e=s=he)&&(s=bb(s,n.pendingProps,Qn),s!==null?(n.stateNode=s,$e=n,he=null,e=!0):e=!1),e||Us(n)),null;case 13:return my(e,n,s);case 4:return ye(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=ea(n,null,l,s):Ze(e,n,l,s),n.child;case 11:return ry(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ls(n,n.type,l.value),Ze(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Jr(n),h=Je(h),l=l(h),n.flags|=1,Ze(e,n,l,s),n.child;case 14:return ay(e,n,n.type,n.pendingProps,s);case 15:return ly(e,n,n.type,n.pendingProps,s);case 19:return gy(e,n,s);case 31:return FT(e,n,s);case 22:return oy(e,n,s,n.pendingProps);case 24:return Jr(n),l=Je(Oe),e===null?(h=pf(),h===null&&(h=ue,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},yf(n),Ls(n,Oe,h)):((e.lanes&s)!==0&&(_f(e,n),ho(n,null,null,s),co()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,Oe,l)):(l=f.cache,Ls(n,Oe,l),l!==h.cache&&ff(n,[Oe],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function as(e){e.flags|=4}function Wf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Fy())e.flags|=8192;else throw ta=Hu,gf}else e.flags&=-16777217}function _y(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!O_(n))if(Fy())e.flags|=8192;else throw ta=Hu,gf}function ac(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?fu():536870912,e.lanes|=n,Ja|=n)}function _o(e,n){if(!Gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function fe(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function QT(e,n,s){var l=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fe(n),null;case 1:return fe(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ns(Oe),ee(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(La(n)?as(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),fe(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(as(n),f!==null?(fe(n),_y(n,f)):(fe(n),Wf(n,h,null,l,s))):f?f!==e.memoizedState?(as(n),fe(n),_y(n,f)):(fe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&as(n),fe(n),Wf(n,h,e,l,s)),null;case 27:if(Un(n),s=wt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}e=at.current,La(n)?Jp(n):(e=x_(h,l,s),n.stateNode=e,as(n))}return fe(n),null;case 5:if(Un(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return fe(n),null}if(f=at.current,La(n))Jp(n);else{var p=Tc(wt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?p.createElement("select",{is:l.is}):p.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?p.createElement(h,{is:l.is}):p.createElement(h)}}f[Ie]=n,f[Fe]=l;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(We(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&as(n)}}return fe(n),Wf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&as(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=wt.current,La(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=$e,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ie]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||m_(e.nodeValue,s)),e||Us(n,!0)}else e=Tc(e).createTextNode(l),e[Ie]=n,n.stateNode=e}return fe(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=La(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ie]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),e=!1}else s=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Mn(n),n):(Mn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return fe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=La(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ie]=n}else Xr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;fe(n),h=!1}else h=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Mn(n),n):(Mn(n),null)}return Mn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ac(n,n.updateQueue),fe(n),null);case 4:return ee(),e===null&&Td(n.stateNode.containerInfo),fe(n),null;case 10:return ns(n.type),fe(n),null;case 19:if(X(xe),l=n.memoizedState,l===null)return fe(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)_o(l,!1);else{if(be!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Ku(e),f!==null){for(n.flags|=128,_o(l,!1),e=f.updateQueue,n.updateQueue=e,ac(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Qp(s,e),s=s.sibling;return it(xe,xe.current&1|2),Gt&&ts(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&He()>hc&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304)}else{if(!h)if(e=Ku(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ac(n,e),_o(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Gt)return fe(n),null}else 2*He()-l.renderingStartTime>hc&&s!==536870912&&(n.flags|=128,h=!0,_o(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=He(),e.sibling=null,s=xe.current,it(xe,h?s&1|2:s&1),Gt&&ts(n,l.treeForkCount),e):(fe(n),null);case 22:case 23:return Mn(n),bf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(fe(n),n.subtreeFlags&6&&(n.flags|=8192)):fe(n),s=n.updateQueue,s!==null&&ac(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&X(Zr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ns(Oe),fe(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function KT(e,n){switch(lf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ns(Oe),ee(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Un(n),null;case 31:if(n.memoizedState!==null){if(Mn(n),n.alternate===null)throw Error(a(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Mn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Xr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return X(xe),null;case 4:return ee(),null;case 10:return ns(n.type),null;case 22:case 23:return Mn(n),bf(),e!==null&&X(Zr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ns(Oe),null;case 25:return null;default:return null}}function vy(e,n){switch(lf(n),n.tag){case 3:ns(Oe),ee();break;case 26:case 27:case 5:Un(n);break;case 4:ee();break;case 31:n.memoizedState!==null&&Mn(n);break;case 13:Mn(n);break;case 19:X(xe);break;case 10:ns(n.type);break;case 22:case 23:Mn(n),bf(),e!==null&&X(Zr);break;case 24:ns(Oe)}}function vo(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,p=s.inst;l=f(),p.destroy=l}s=s.next}while(s!==h)}}catch(T){se(n,n.return,T)}}function Fs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var p=l.inst,T=p.destroy;if(T!==void 0){p.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(K){se(h,R,K)}}}l=l.next}while(l!==f)}}catch(K){se(n,n.return,K)}}function Ey(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{cg(n,s)}catch(l){se(e,e.return,l)}}}function Ty(e,n,s){s.props=ia(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){se(e,n,l)}}function Eo(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){se(e,n,h)}}function ji(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){se(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){se(e,n,h)}else s.current=null}function by(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){se(e,e.return,h)}}function td(e,n,s){try{var l=e.stateNode;pb(l,e.type,s,n),l[Fe]=n}catch(h){se(e,e.return,h)}}function Ay(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Js(e.type)||e.tag===4}function ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ay(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Js(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nd(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ni));else if(l!==4&&(l===27&&Js(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(nd(e,n,s),e=e.sibling;e!==null;)nd(e,n,s),e=e.sibling}function lc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Js(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(lc(e,n,s),e=e.sibling;e!==null;)lc(e,n,s),e=e.sibling}function Sy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);We(n,l,s),n[Ie]=e,n[Fe]=s}catch(f){se(e,e.return,f)}}var ls=!1,je=!1,id=!1,xy=typeof WeakSet=="function"?WeakSet:Set,Qe=null;function YT(e,n){if(e=e.containerInfo,Sd=Rc,e=Up(e),Xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,T=-1,R=-1,P=0,K=0,$=e,q=null;e:for(;;){for(var F;$!==s||h!==0&&$.nodeType!==3||(T=p+h),$!==f||l!==0&&$.nodeType!==3||(R=p+l),$.nodeType===3&&(p+=$.nodeValue.length),(F=$.firstChild)!==null;)q=$,$=F;for(;;){if($===e)break e;if(q===s&&++P===h&&(T=p),q===f&&++K===l&&(R=p),(F=$.nextSibling)!==null)break;$=q,q=$.parentNode}$=F}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(xd={focusedElem:e,selectionRange:s},Rc=!1,Qe=n;Qe!==null;)if(n=Qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Qe=e;else for(;Qe!==null;){switch(n=Qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ut=ia(s.type,h);e=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){se(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Qe=e;break}Qe=n.return}}function wy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:us(e,s),l&4&&vo(5,s);break;case 1:if(us(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){se(s,s.return,p)}else{var h=ia(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){se(s,s.return,p)}}l&64&&Ey(s),l&512&&Eo(s,s.return);break;case 3:if(us(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{cg(e,n)}catch(p){se(s,s.return,p)}}break;case 27:n===null&&l&4&&Sy(s);case 26:case 5:us(e,s),n===null&&l&4&&by(s),l&512&&Eo(s,s.return);break;case 12:us(e,s);break;case 31:us(e,s),l&4&&Ny(e,s);break;case 13:us(e,s),l&4&&Iy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=ib.bind(null,s),Ab(e,s))));break;case 22:if(l=s.memoizedState!==null||ls,!l){n=n!==null&&n.memoizedState!==null||je,h=ls;var f=je;ls=l,(je=n)&&!f?cs(e,s,(s.subtreeFlags&8772)!==0):us(e,s),ls=h,je=f}break;case 30:break;default:us(e,s)}}function Cy(e){var n=e.alternate;n!==null&&(e.alternate=null,Cy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ta(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ge=null,vn=!1;function os(e,n,s){for(s=s.child;s!==null;)Ry(e,n,s),s=s.sibling}function Ry(e,n,s){if(St&&typeof St.onCommitFiberUnmount=="function")try{St.onCommitFiberUnmount(ht,s)}catch{}switch(s.tag){case 26:je||ji(s,n),os(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:je||ji(s,n);var l=ge,h=vn;Js(s.type)&&(ge=s.stateNode,vn=!1),os(e,n,s),No(s.stateNode),ge=l,vn=h;break;case 5:je||ji(s,n);case 6:if(l=ge,h=vn,ge=null,os(e,n,s),ge=l,vn=h,ge!==null)if(vn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(s.stateNode)}catch(f){se(s,n,f)}else try{ge.removeChild(s.stateNode)}catch(f){se(s,n,f)}break;case 18:ge!==null&&(vn?(e=ge,E_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),rl(e)):E_(ge,s.stateNode));break;case 4:l=ge,h=vn,ge=s.stateNode.containerInfo,vn=!0,os(e,n,s),ge=l,vn=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),je||Fs(4,s,n),os(e,n,s);break;case 1:je||(ji(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ty(s,n,l)),os(e,n,s);break;case 21:os(e,n,s);break;case 22:je=(l=je)||s.memoizedState!==null,os(e,n,s),je=l;break;default:os(e,n,s)}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{rl(e)}catch(s){se(n,n.return,s)}}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{rl(e)}catch(s){se(n,n.return,s)}}function XT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new xy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new xy),n;default:throw Error(a(435,e.tag))}}function oc(e,n){var s=XT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=sb.bind(null,e,l);l.then(h,h)}})}function En(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,p=n,T=p;t:for(;T!==null;){switch(T.tag){case 27:if(Js(T.type)){ge=T.stateNode,vn=!1;break t}break;case 5:ge=T.stateNode,vn=!1;break t;case 3:case 4:ge=T.stateNode.containerInfo,vn=!0;break t}T=T.return}if(ge===null)throw Error(a(160));Ry(f,p,h),ge=null,vn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Dy(n,e),n=n.sibling}var oi=null;function Dy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:En(n,e),Tn(e),l&4&&(Fs(3,e,e.return),vo(3,e),Fs(5,e,e.return));break;case 1:En(n,e),Tn(e),l&512&&(je||s===null||ji(s,s.return)),l&64&&ls&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=oi;if(En(n,e),Tn(e),l&512&&(je||s===null||ji(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[bi]||f[Ie]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),We(f,l,s),f[Ie]=e,De(f),l=f;break t;case"link":var p=D_("link","href",h).get(l+(s.href||""));if(p){for(var T=0;T<p.length;T++)if(f=p[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(T,1);break e}}f=h.createElement(l),We(f,l,s),h.head.appendChild(f);break;case"meta":if(p=D_("meta","content",h).get(l+(s.content||""))){for(T=0;T<p.length;T++)if(f=p[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(T,1);break e}}f=h.createElement(l),We(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ie]=e,De(f),l=f}e.stateNode=l}else M_(h,e.type,e.stateNode);else e.stateNode=I_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?M_(h,e.type,e.stateNode):I_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&td(e,e.memoizedProps,s.memoizedProps)}break;case 27:En(n,e),Tn(e),l&512&&(je||s===null||ji(s,s.return)),s!==null&&l&4&&td(e,e.memoizedProps,s.memoizedProps);break;case 5:if(En(n,e),Tn(e),l&512&&(je||s===null||ji(s,s.return)),e.flags&32){h=e.stateNode;try{_n(h,"")}catch(ut){se(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,td(e,h,s!==null?s.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(En(n,e),Tn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ut){se(e,e.return,ut)}}break;case 3:if(Sc=null,h=oi,oi=bc(n.containerInfo),En(n,e),oi=h,Tn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{rl(n.containerInfo)}catch(ut){se(e,e.return,ut)}id&&(id=!1,My(e));break;case 4:l=oi,oi=bc(e.stateNode.containerInfo),En(n,e),Tn(e),oi=l;break;case 12:En(n,e),Tn(e);break;case 31:En(n,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 13:En(n,e),Tn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(cc=He()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=ls,K=je;if(ls=P||h,je=K||R,En(n,e),je=K,ls=P,Tn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ls||je||sa(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,q=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(ut){se(R,R.return,ut)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ut){se(R,R.return,ut)}}}else if(n.tag===18){if(s===null){R=n;try{var F=R.stateNode;h?T_(F,!0):T_(R.stateNode,!1)}catch(ut){se(R,R.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,oc(e,s))));break;case 19:En(n,e),Tn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,oc(e,l)));break;case 30:break;case 21:break;default:En(n,e),Tn(e)}}function Tn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Ay(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=ed(e);lc(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(_n(p,""),s.flags&=-33);var T=ed(e);lc(e,T,p);break;case 3:case 4:var R=s.stateNode.containerInfo,P=ed(e);nd(e,P,R);break;default:throw Error(a(161))}}catch(K){se(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function My(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;My(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function us(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wy(e,n.alternate,n),n=n.sibling}function sa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),sa(n);break;case 1:ji(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ty(n,n.return,s),sa(n);break;case 27:No(n.stateNode);case 26:case 5:ji(n,n.return),sa(n);break;case 22:n.memoizedState===null&&sa(n);break;case 30:sa(n);break;default:sa(n)}e=e.sibling}}function cs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,s),vo(4,f);break;case 1:if(cs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){se(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)ug(R[h],T)}catch(P){se(l,l.return,P)}}s&&p&64&&Ey(f),Eo(f,f.return);break;case 27:Sy(f);case 26:case 5:cs(h,f,s),s&&l===null&&p&4&&by(f),Eo(f,f.return);break;case 12:cs(h,f,s);break;case 31:cs(h,f,s),s&&p&4&&Ny(h,f);break;case 13:cs(h,f,s),s&&p&4&&Iy(h,f);break;case 22:f.memoizedState===null&&cs(h,f,s),Eo(f,f.return);break;case 30:break;default:cs(h,f,s)}n=n.sibling}}function sd(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&ro(s))}function rd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ro(e))}function ui(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Oy(e,n,s,l),n=n.sibling}function Oy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,s,l),h&2048&&vo(9,n);break;case 1:ui(e,n,s,l);break;case 3:ui(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ro(e)));break;case 12:if(h&2048){ui(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,T=f.onPostCommit;typeof T=="function"&&T(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){se(n,n.return,R)}}else ui(e,n,s,l);break;case 31:ui(e,n,s,l);break;case 13:ui(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,s,l):To(e,n):f._visibility&2?ui(e,n,s,l):(f._visibility|=2,Ya(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(p,n);break;case 24:ui(e,n,s,l),h&2048&&rd(n.alternate,n);break;default:ui(e,n,s,l)}}function Ya(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,T=s,R=l,P=p.flags;switch(p.tag){case 0:case 11:case 15:Ya(f,p,T,R,h),vo(8,p);break;case 23:break;case 22:var K=p.stateNode;p.memoizedState!==null?K._visibility&2?Ya(f,p,T,R,h):To(f,p):(K._visibility|=2,Ya(f,p,T,R,h)),h&&P&2048&&sd(p.alternate,p);break;case 24:Ya(f,p,T,R,h),h&&P&2048&&rd(p.alternate,p);break;default:Ya(f,p,T,R,h)}n=n.sibling}}function To(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:To(s,l),h&2048&&sd(l.alternate,l);break;case 24:To(s,l),h&2048&&rd(l.alternate,l);break;default:To(s,l)}n=n.sibling}}var bo=8192;function Xa(e,n,s){if(e.subtreeFlags&bo)for(e=e.child;e!==null;)Vy(e,n,s),e=e.sibling}function Vy(e,n,s){switch(e.tag){case 26:Xa(e,n,s),e.flags&bo&&e.memoizedState!==null&&kb(s,oi,e.memoizedState,e.memoizedProps);break;case 5:Xa(e,n,s);break;case 3:case 4:var l=oi;oi=bc(e.stateNode.containerInfo),Xa(e,n,s),oi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=bo,bo=16777216,Xa(e,n,s),bo=l):Xa(e,n,s));break;default:Xa(e,n,s)}}function ky(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Ao(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qe=l,Uy(l,e)}ky(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)jy(e),e=e.sibling}function jy(e){switch(e.tag){case 0:case 11:case 15:Ao(e),e.flags&2048&&Fs(9,e,e.return);break;case 3:Ao(e);break;case 12:Ao(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,uc(e)):Ao(e);break;default:Ao(e)}}function uc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Qe=l,Uy(l,e)}ky(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),uc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,uc(n));break;default:uc(n)}e=e.sibling}}function Uy(e,n){for(;Qe!==null;){var s=Qe;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:ro(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Qe=l;else t:for(s=e;Qe!==null;){l=Qe;var h=l.sibling,f=l.return;if(Cy(l),l===s){Qe=null;break t}if(h!==null){h.return=f,Qe=h;break t}Qe=f}}}var $T={getCacheForType:function(e){var n=Je(Oe),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Je(Oe).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,Zt=0,ue=null,Ut=null,Pt=0,ie=0,On=null,Gs=!1,$a=!1,ad=!1,hs=0,be=0,Qs=0,ra=0,ld=0,Vn=0,Ja=0,So=null,bn=null,od=!1,cc=0,Ly=0,hc=1/0,fc=null,Ks=null,ze=0,Ys=null,Za=null,fs=0,ud=0,cd=null,Py=null,xo=0,hd=null;function kn(){return(Zt&2)!==0&&Pt!==0?Pt&-Pt:z.T!==null?yd():du()}function zy(){if(Vn===0)if((Pt&536870912)===0||Gt){var e=Mr;Mr<<=1,(Mr&3932160)===0&&(Mr=262144),Vn=e}else Vn=536870912;return e=Dn.current,e!==null&&(e.flags|=32),Vn}function An(e,n,s){(e===ue&&(ie===2||ie===9)||e.cancelPendingCommit!==null)&&(Wa(e,0),Xs(e,Pt,Vn,!1)),Or(e,s),((Zt&2)===0||e!==ue)&&(e===ue&&((Zt&2)===0&&(ra|=s),be===4&&Xs(e,Pt,Vn,!1)),Ui(e))}function By(e,n,s){if((Zt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=l?tb(e,n):dd(e,n,!0),f=l;do{if(h===0){$a&&!l&&Xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!ZT(s)){h=dd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var T=e;h=So;var R=T.current.memoizedState.isDehydrated;if(R&&(Wa(T,p).flags|=256),p=dd(T,p,!1),p!==2){if(ad&&!R){T.errorRecoveryDisabledLanes|=f,ra|=f,h=4;break t}f=bn,bn=h,f!==null&&(bn===null?bn=f:bn.push.apply(bn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Wa(e,0),Xs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Vn,!Gs);break t;case 2:bn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=cc+300-He(),10<h)){if(Xs(l,n,Vn,!Gs),vi(l,0,!0)!==0)break t;fs=n,l.timeoutHandle=__(qy.bind(null,l,s,bn,fc,od,n,Vn,ra,Ja,Gs,f,"Throttled",-0,0),h);break t}qy(l,s,bn,fc,od,n,Vn,ra,Ja,Gs,f,null,-0,0)}}break}while(!0);Ui(e)}function qy(e,n,s,l,h,f,p,T,R,P,K,$,q,F){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Vy(n,f,$);var ut=(f&62914560)===f?cc-He():(f&4194048)===f?Ly-He():0;if(ut=jb($,ut),ut!==null){fs=f,e.cancelPendingCommit=ut($y.bind(null,e,n,f,s,l,h,p,T,R,K,$,null,q,F)),Xs(e,f,p,!P);return}}$y(e,n,f,s,l,h,p,T,R)}function ZT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Nn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(e,n,s,l){n&=~ld,n&=~ra,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Kt(h),p=1<<f;l[f]=-1,h&=~p}s!==0&&Vr(e,s,n)}function dc(){return(Zt&6)===0?(wo(0),!1):!0}function fd(){if(Ut!==null){if(ie===0)var e=Ut.return;else e=Ut,es=$r=null,Rf(e),Ha=null,lo=0,e=Ut;for(;e!==null;)vy(e.alternate,e),e=e.return;Ut=null}}function Wa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,_b(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),fs=0,fd(),ue=e,Ut=s=Wi(e.current,null),Pt=n,ie=0,On=null,Gs=!1,$a=Wn(e,n),ad=!1,Ja=Vn=ld=ra=Qs=be=0,bn=So=null,od=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Kt(l),f=1<<h;n|=e[h],l&=~f}return hs=n,Vu(),s}function Hy(e,n){Ot=null,z.H=go,n===qa||n===qu?(n=rg(),ie=3):n===gf?(n=rg(),ie=4):ie=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,On=n,Ut===null&&(be=1,nc(e,Hn(n,e.current)))}function Fy(){var e=Dn.current;return e===null?!0:(Pt&4194048)===Pt?Kn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Kn:!1}function Gy(){var e=z.H;return z.H=go,e===null?go:e}function Qy(){var e=z.A;return z.A=$T,e}function mc(){be=4,Gs||(Pt&4194048)!==Pt&&Dn.current!==null||($a=!0),(Qs&134217727)===0&&(ra&134217727)===0||ue===null||Xs(ue,Pt,Vn,!1)}function dd(e,n,s){var l=Zt;Zt|=2;var h=Gy(),f=Qy();(ue!==e||Pt!==n)&&(fc=null,Wa(e,n)),n=!1;var p=be;t:do try{if(ie!==0&&Ut!==null){var T=Ut,R=On;switch(ie){case 8:fd(),p=6;break t;case 3:case 2:case 9:case 6:Dn.current===null&&(n=!0);var P=ie;if(ie=0,On=null,tl(e,T,R,P),s&&$a){p=0;break t}break;default:P=ie,ie=0,On=null,tl(e,T,R,P)}}WT(),p=be;break}catch(K){Hy(e,K)}while(!0);return n&&e.shellSuspendCounter++,es=$r=null,Zt=l,z.H=h,z.A=f,Ut===null&&(ue=null,Pt=0,Vu()),p}function WT(){for(;Ut!==null;)Ky(Ut)}function tb(e,n){var s=Zt;Zt|=2;var l=Gy(),h=Qy();ue!==e||Pt!==n?(fc=null,hc=He()+500,Wa(e,n)):$a=Wn(e,n);t:do try{if(ie!==0&&Ut!==null){n=Ut;var f=On;e:switch(ie){case 1:ie=0,On=null,tl(e,n,f,1);break;case 2:case 9:if(ig(f)){ie=0,On=null,Yy(n);break}n=function(){ie!==2&&ie!==9||ue!==e||(ie=7),Ui(e)},f.then(n,n);break t;case 3:ie=7;break t;case 4:ie=5;break t;case 7:ig(f)?(ie=0,On=null,Yy(n)):(ie=0,On=null,tl(e,n,f,7));break;case 5:var p=null;switch(Ut.tag){case 26:p=Ut.memoizedState;case 5:case 27:var T=Ut;if(p?O_(p):T.stateNode.complete){ie=0,On=null;var R=T.sibling;if(R!==null)Ut=R;else{var P=T.return;P!==null?(Ut=P,pc(P)):Ut=null}break e}}ie=0,On=null,tl(e,n,f,5);break;case 6:ie=0,On=null,tl(e,n,f,6);break;case 8:fd(),be=6;break t;default:throw Error(a(462))}}eb();break}catch(K){Hy(e,K)}while(!0);return es=$r=null,z.H=l,z.A=h,Zt=s,Ut!==null?0:(ue=null,Pt=0,Vu(),be)}function eb(){for(;Ut!==null&&!Vl();)Ky(Ut)}function Ky(e){var n=yy(e.alternate,e,hs);e.memoizedProps=e.pendingProps,n===null?pc(e):Ut=n}function Yy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=hy(s,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=hy(s,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Rf(n);default:vy(s,n),n=Ut=Qp(n,hs),n=yy(s,n,hs)}e.memoizedProps=e.pendingProps,n===null?pc(e):Ut=n}function tl(e,n,s,l){es=$r=null,Rf(n),Ha=null,lo=0;var h=n.return;try{if(HT(e,h,n,s,Pt)){be=1,nc(e,Hn(s,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;be=1,nc(e,Hn(s,e.current)),Ut=null;return}n.flags&32768?(Gt||l===1?e=!0:$a||(Pt&536870912)!==0?e=!1:(Gs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Dn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Xy(n,e)):pc(n)}function pc(e){var n=e;do{if((n.flags&32768)!==0){Xy(n,Gs);return}e=n.return;var s=QT(n.alternate,n,hs);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);be===0&&(be=5)}function Xy(e,n){do{var s=KT(e.alternate,e);if(s!==null){s.flags&=32767,Ut=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=s}while(e!==null);be=6,Ut=null}function $y(e,n,s,l,h,f,p,T,R){e.cancelPendingCommit=null;do gc();while(ze!==0);if((Zt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Gh(e,s,f,p,T,R),e===ue&&(Ut=ue=null,Pt=0),Za=n,Ys=e,fs=s,ud=f,cd=h,Py=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,rb(gi,function(){return e_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=z.T,z.T=null,h=W.p,W.p=2,p=Zt,Zt|=4;try{YT(e,n,s)}finally{Zt=p,W.p=h,z.T=l}}ze=1,Jy(),Zy(),Wy()}}function Jy(){if(ze===1){ze=0;var e=Ys,n=Za,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=z.T,z.T=null;var l=W.p;W.p=2;var h=Zt;Zt|=4;try{Dy(n,e);var f=xd,p=Up(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(p!==T&&T&&T.ownerDocument&&jp(T.ownerDocument.documentElement,T)){if(R!==null&&Xh(T)){var P=R.start,K=R.end;if(K===void 0&&(K=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,q=$&&$.defaultView||window;if(q.getSelection){var F=q.getSelection(),ut=T.textContent.length,Et=Math.min(R.start,ut),oe=R.end===void 0?Et:Math.min(R.end,ut);!F.extend&&Et>oe&&(p=oe,oe=Et,Et=p);var k=kp(T,Et),M=kp(T,oe);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var L=$.createRange();L.setStart(k.node,k.offset),F.removeAllRanges(),Et>oe?(F.addRange(L),F.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),F.addRange(L))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var Y=$[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Rc=!!Sd,xd=Sd=null}finally{Zt=h,W.p=l,z.T=s}}e.current=n,ze=2}}function Zy(){if(ze===2){ze=0;var e=Ys,n=Za,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=z.T,z.T=null;var l=W.p;W.p=2;var h=Zt;Zt|=4;try{wy(e,n.alternate,n)}finally{Zt=h,W.p=l,z.T=s}}ze=3}}function Wy(){if(ze===4||ze===3){ze=0,ya();var e=Ys,n=Za,s=fs,l=Py;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ze=5:(ze=0,Za=Ys=null,t_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ks=null),Xi(s),n=n.stateNode,St&&typeof St.onCommitFiberRoot=="function")try{St.onCommitFiberRoot(ht,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=z.T,h=W.p,W.p=2,z.T=null;try{for(var f=e.onRecoverableError,p=0;p<l.length;p++){var T=l[p];f(T.value,{componentStack:T.stack})}}finally{z.T=n,W.p=h}}(fs&3)!==0&&gc(),Ui(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===hd?xo++:(xo=0,hd=e):xo=0,wo(0)}}function t_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ro(n)))}function gc(){return Jy(),Zy(),Wy(),e_()}function e_(){if(ze!==5)return!1;var e=Ys,n=ud;ud=0;var s=Xi(fs),l=z.T,h=W.p;try{W.p=32>s?32:s,z.T=null,s=cd,cd=null;var f=Ys,p=fs;if(ze=0,Za=Ys=null,fs=0,(Zt&6)!==0)throw Error(a(331));var T=Zt;if(Zt|=4,jy(f.current),Oy(f,f.current,p,s),Zt=T,wo(0,!1),St&&typeof St.onPostCommitFiberRoot=="function")try{St.onPostCommitFiberRoot(ht,f)}catch{}return!0}finally{W.p=h,z.T=l,t_(e,n)}}function n_(e,n,s){n=Hn(s,n),n=Hf(e.stateNode,n,2),e=Bs(e,n,2),e!==null&&(Or(e,2),Ui(e))}function se(e,n,s){if(e.tag===3)n_(e,e,s);else for(;n!==null;){if(n.tag===3){n_(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){e=Hn(s,e),s=iy(2),l=Bs(n,s,2),l!==null&&(sy(s,l,n,e),Or(l,2),Ui(l));break}}n=n.return}}function md(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new JT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(ad=!0,h.add(s),e=nb.bind(null,e,n,s),n.then(e,e))}function nb(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ue===e&&(Pt&s)===s&&(be===4||be===3&&(Pt&62914560)===Pt&&300>He()-cc?(Zt&2)===0&&Wa(e,0):ld|=s,Ja===Pt&&(Ja=0)),Ui(e)}function i_(e,n){n===0&&(n=fu()),e=Kr(e,n),e!==null&&(Or(e,n),Ui(e))}function ib(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),i_(e,s)}function sb(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),i_(e,s)}function rb(e,n){return Ae(e,n)}var yc=null,el=null,pd=!1,_c=!1,gd=!1,$s=0;function Ui(e){e!==el&&e.next===null&&(el===null?yc=el=e:el=el.next=e),_c=!0,pd||(pd=!0,lb())}function wo(e,n){if(!gd&&_c){gd=!0;do for(var s=!1,l=yc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var p=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Kt(42|e)+1)-1,f&=h&~(p&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,l_(l,f))}else f=Pt,f=vi(l,l===ue?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Wn(l,f)||(s=!0,l_(l,f));l=l.next}while(s);gd=!1}}function ab(){s_()}function s_(){_c=pd=!1;var e=0;$s!==0&&yb()&&(e=$s);for(var n=He(),s=null,l=yc;l!==null;){var h=l.next,f=r_(l,n);f===0?(l.next=null,s===null?yc=h:s.next=h,h===null&&(el=s)):(s=l,(e!==0||(f&3)!==0)&&(_c=!0)),l=h}ze!==0&&ze!==5||wo(e),$s!==0&&($s=0)}function r_(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-Kt(f),T=1<<p,R=h[p];R===-1?((T&s)===0||(T&l)!==0)&&(h[p]=Fh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ue,s=Pt,s=vi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(ie===2||ie===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&pi(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Wn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&pi(l),Xi(s)){case 2:case 8:s=Dr;break;case 32:s=gi;break;case 268435456:s=_a;break;default:s=gi}return l=a_.bind(null,e),s=Ae(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&pi(l),e.callbackPriority=2,e.callbackNode=null,2}function a_(e,n){if(ze!==0&&ze!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(gc()&&e.callbackNode!==s)return null;var l=Pt;return l=vi(e,e===ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(By(e,l,n),r_(e,He()),e.callbackNode!=null&&e.callbackNode===s?a_.bind(null,e):null)}function l_(e,n){if(gc())return null;By(e,n,!0)}function lb(){vb(function(){(Zt&6)!==0?Ae(Ir,ab):s_()})}function yd(){if($s===0){var e=za;e===0&&(e=yi,yi<<=1,(yi&261888)===0&&(yi=256)),$s=e}return $s}function o_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:xa(""+e)}function u_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function ob(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=o_((h[Fe]||null).action),p=l.submitter;p&&(n=(n=p[Fe]||null)?o_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var T=new Ii("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var R=p?u_(h,p):new FormData(h);Uf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=p?u_(h,p):new FormData(h),Uf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],ub=vd.toLowerCase(),cb=vd[0].toUpperCase()+vd.slice(1);li(ub,"on"+cb)}li(zp,"onAnimationEnd"),li(Bp,"onAnimationIteration"),li(qp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(wT,"onTransitionRun"),li(CT,"onTransitionStart"),li(RT,"onTransitionCancel"),li(Hp,"onTransitionEnd"),wi("onMouseEnter",["mouseout","mouseover"]),wi("onMouseLeave",["mouseout","mouseover"]),wi("onPointerEnter",["pointerout","pointerover"]),wi("onPointerLeave",["pointerout","pointerover"]),xi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),xi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),xi("onBeforeInput",["compositionend","keypress","textInput","paste"]),xi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),xi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Co="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Co));function c_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var p=l.length-1;0<=p;p--){var T=l[p],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(K){Ou(K)}h.currentTarget=null,f=R}else for(p=0;p<l.length;p++){if(T=l[p],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(K){Ou(K)}h.currentTarget=null,f=R}}}}function Lt(e,n){var s=n[Ea];s===void 0&&(s=n[Ea]=new Set);var l=e+"__bubble";s.has(l)||(h_(n,e,2,!1),s.add(l))}function Ed(e,n,s){var l=0;n&&(l|=4),h_(s,e,l,n)}var vc="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[vc]){e[vc]=!0,Ll.forEach(function(s){s!=="selectionchange"&&(hb.has(s)||Ed(s,!1,e),Ed(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[vc]||(n[vc]=!0,Ed("selectionchange",!1,n))}}function h_(e,n,s,l){switch(z_(n)){case 2:var h=Pb;break;case 8:h=zb;break;default:h=jd}s=h.bind(null,n,s,e),h=void 0,!Pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function bd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var p=l.tag;if(p===3||p===4){var T=l.stateNode.containerInfo;if(T===h)break;if(p===4)for(p=l.return;p!==null;){var R=p.tag;if((R===3||R===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;T!==null;){if(p=Ai(T),p===null)return;if(R=p.tag,R===5||R===6||R===26||R===27){l=f=p;continue t}T=T.parentNode}}l=l.return}Ds(function(){var P=f,K=Pn(s),$=[];t:{var q=Fp.get(e);if(q!==void 0){var F=Ii,ut=e;switch(e){case"keypress":if(Br(s)===0)break t;case"keydown":case"keyup":F=Iu;break;case"focusin":ut="focus",F=Hr;break;case"focusout":ut="blur",F=Hr;break;case"beforeblur":case"afterblur":F=Hr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Jl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Tu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case zp:case Bp:case qp:F=Au;break;case Hp:F=b;break;case"scroll":case"scrollend":F=$l;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Su;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Zi;break;case"toggle":case"beforetoggle":F=Mt}var Et=(n&4)!==0,oe=!Et&&(e==="scroll"||e==="scrollend"),k=Et?q!==null?q+"Capture":null:q;Et=[];for(var M=P,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||k===null||(Y=ii(M,k),Y!=null&&Et.push(Ro(M,Y,L))),oe)break;M=M.return}0<Et.length&&(q=new F(q,ut,null,s,K),$.push({event:q,listeners:Et}))}}if((n&7)===0){t:{if(q=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",q&&s!==Kl&&(ut=s.relatedTarget||s.fromElement)&&(Ai(ut)||ut[Ti]))break t;if((F||q)&&(q=K.window===K?K:(q=K.ownerDocument)?q.defaultView||q.parentWindow:window,F?(ut=s.relatedTarget||s.toElement,F=P,ut=ut?Ai(ut):null,ut!==null&&(oe=c(ut),Et=ut.tag,ut!==oe||Et!==5&&Et!==27&&Et!==6)&&(ut=null)):(F=null,ut=P),F!==ut)){if(Et=Jl,Y="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Zi,Y="onPointerLeave",k="onPointerEnter",M="pointer"),oe=F==null?q:Cn(F),L=ut==null?q:Cn(ut),q=new Et(Y,M+"leave",F,s,K),q.target=oe,q.relatedTarget=L,Y=null,Ai(K)===P&&(Et=new Et(k,M+"enter",ut,s,K),Et.target=L,Et.relatedTarget=oe,Y=Et),oe=Y,F&&ut)e:{for(Et=fb,k=F,M=ut,L=0,Y=k;Y;Y=Et(Y))L++;Y=0;for(var gt=M;gt;gt=Et(gt))Y++;for(;0<L-Y;)k=Et(k),L--;for(;0<Y-L;)M=Et(M),Y--;for(;L--;){if(k===M||M!==null&&k===M.alternate){Et=k;break e}k=Et(k),M=Et(M)}Et=null}else Et=null;F!==null&&f_($,q,F,Et,!1),ut!==null&&oe!==null&&f_($,oe,ut,Et,!0)}}t:{if(q=P?Cn(P):window,F=q.nodeName&&q.nodeName.toLowerCase(),F==="select"||F==="input"&&q.type==="file")var Xt=Np;else if(Cp(q))if(Ip)Xt=AT;else{Xt=TT;var ft=ET}else F=q.nodeName,!F||F.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?P&&Sa(P.elementType)&&(Xt=Np):Xt=bT;if(Xt&&(Xt=Xt(e,P))){Rp($,Xt,s,K);break t}ft&&ft(e,q,P),e==="focusout"&&P&&q.type==="number"&&P.memoizedProps.value!=null&&Fl(q,"number",q.value)}switch(ft=P?Cn(P):window,e){case"focusin":(Cp(ft)||ft.contentEditable==="true")&&(Ma=ft,$h=P,no=null);break;case"focusout":no=$h=Ma=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,Lp($,s,K);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":Lp($,s,K)}var Vt;if(Jt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Da?Fr(e,s)&&(zt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(zt="onCompositionStart");zt&&(Oi&&s.locale!=="ko"&&(Da||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Da&&(Vt=Xl()):(Ni=K,Yl="value"in Ni?Ni.value:Ni.textContent,Da=!0)),ft=Ec(P,zt),0<ft.length&&(zt=new Mi(zt,e,null,s,K),$.push({event:zt,listeners:ft}),Vt?zt.data=Vt:(Vt=Ia(s),Vt!==null&&(zt.data=Vt)))),(Vt=Bn?gT(e,s):yT(e,s))&&(zt=Ec(P,"onBeforeInput"),0<zt.length&&(ft=new Mi("onBeforeInput","beforeinput",null,s,K),$.push({event:ft,listeners:zt}),ft.data=Vt)),ob($,e,P,s,K)}c_($,n)})}function Ro(e,n,s){return{instance:e,listener:n,currentTarget:s}}function Ec(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,s),h!=null&&l.unshift(Ro(e,h,f)),h=ii(e,n),h!=null&&l.push(Ro(e,h,f))),e.tag===3)return l;e=e.return}return[]}function fb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function f_(e,n,s,l,h){for(var f=n._reactName,p=[];s!==null&&s!==l;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=ii(s,f),P!=null&&p.unshift(Ro(s,P,R))):h||(P=ii(s,f),P!=null&&p.push(Ro(s,P,R)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var db=/\r\n?/g,mb=/\u0000|\uFFFD/g;function d_(e){return(typeof e=="string"?e:""+e).replace(db,`
`).replace(mb,"")}function m_(e,n){return n=d_(n),d_(e)===n}function le(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||_n(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&_n(e,""+l);break;case"className":Rn(e,"class",l);break;case"tabIndex":Rn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Rn(e,s,l);break;case"style":Ql(e,l,f);break;case"data":if(n!=="object"){Rn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=xa(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&le(e,n,"name",h.name,h,null),le(e,n,"formEncType",h.formEncType,h,null),le(e,n,"formMethod",h.formMethod,h,null),le(e,n,"formTarget",h.formTarget,h,null)):(le(e,n,"encType",h.encType,h,null),le(e,n,"method",h.method,h,null),le(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=xa(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ni);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=xa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),ba(e,"popover",l);break;case"xlinkActuate":Me(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Me(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Me(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Me(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Me(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Me(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Me(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Me(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Me(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ba(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=Eu.get(s)||s,ba(e,s,l))}}function Ad(e,n,s,l,h,f){switch(s){case"style":Ql(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?_n(e,l):(typeof l=="number"||typeof l=="bigint")&&_n(e,""+l);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Pl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Fe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):ba(e,s,l)}}}function We(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,f,p,s,null)}}h&&le(e,n,"srcSet",s.srcSet,s,null),l&&le(e,n,"src",s.src,s,null);return;case"input":Lt("invalid",e);var T=f=p=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":h=K;break;case"type":p=K;break;case"checked":R=K;break;case"defaultChecked":P=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:le(e,n,l,K,s,null)}}yu(e,f,T,R,P,p,h,!1);return;case"select":Lt("invalid",e),l=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":p=T;break;case"multiple":l=T;default:le(e,n,h,T,s,null)}n=f,s=p,e.multiple=!!l,n!=null?Cs(e,!!l,n,!1):s!=null&&Cs(e,!!l,s,!0);return;case"textarea":Lt("invalid",e),f=h=l=null;for(p in s)if(s.hasOwnProperty(p)&&(T=s[p],T!=null))switch(p){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:le(e,n,p,T,s,null)}Rs(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":le(e,n,R,l,s,null));return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(l=0;l<Co.length;l++)Lt(Co[l],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:le(e,n,P,l,s,null)}return;default:if(Sa(n)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&Ad(e,n,K,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&le(e,n,T,l,s,null))}function pb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,T=null,R=null,P=null,K=null;for(F in s){var $=s[F];if(s.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(F)||le(e,n,F,null,l,$)}}for(var q in l){var F=l[q];if($=s[q],l.hasOwnProperty(q)&&(F!=null||$!=null))switch(q){case"type":f=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":K=F;break;case"value":p=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==$&&le(e,n,q,F,l,$)}}Aa(e,p,T,R,P,K,f,h);return;case"select":F=p=T=q=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(f)||le(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":p=f;default:f!==R&&le(e,n,h,f,l,R)}n=T,s=p,l=F,q!=null?Cs(e,!!s,q,!1):!!l!=!!s&&(n!=null?Cs(e,!!s,n,!0):Cs(e,!!s,s?[]:"",!1));return;case"textarea":F=q=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:le(e,n,T,null,l,h)}for(p in l)if(h=l[p],f=s[p],l.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":q=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&le(e,n,p,h,l,f)}_u(e,q,F);return;case"option":for(var ut in s)q=s[ut],s.hasOwnProperty(ut)&&q!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:le(e,n,ut,null,l,q));for(R in l)q=l[R],F=s[R],l.hasOwnProperty(R)&&q!==F&&(q!=null||F!=null)&&(R==="selected"?e.selected=q&&typeof q!="function"&&typeof q!="symbol":le(e,n,R,q,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)q=s[Et],s.hasOwnProperty(Et)&&q!=null&&!l.hasOwnProperty(Et)&&le(e,n,Et,null,l,q);for(P in l)if(q=l[P],F=s[P],l.hasOwnProperty(P)&&q!==F&&(q!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:le(e,n,P,q,l,F)}return;default:if(Sa(n)){for(var oe in s)q=s[oe],s.hasOwnProperty(oe)&&q!==void 0&&!l.hasOwnProperty(oe)&&Ad(e,n,oe,void 0,l,q);for(K in l)q=l[K],F=s[K],!l.hasOwnProperty(K)||q===F||q===void 0&&F===void 0||Ad(e,n,K,q,l,F);return}}for(var k in s)q=s[k],s.hasOwnProperty(k)&&q!=null&&!l.hasOwnProperty(k)&&le(e,n,k,null,l,q);for($ in l)q=l[$],F=s[$],!l.hasOwnProperty($)||q===F||q==null&&F==null||le(e,n,$,q,l,F)}function p_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,p=h.initiatorType,T=h.duration;if(f&&T&&p_(p)){for(p=0,T=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],P=R.startTime;if(P>T)break;var K=R.transferSize,$=R.initiatorType;K&&p_($)&&(R=R.responseEnd,p+=K*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,xd=null;function Tc(e){return e.nodeType===9?e:e.ownerDocument}function g_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function y_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function yb(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var __=typeof setTimeout=="function"?setTimeout:void 0,_b=typeof clearTimeout=="function"?clearTimeout:void 0,v_=typeof Promise=="function"?Promise:void 0,vb=typeof queueMicrotask=="function"?queueMicrotask:typeof v_<"u"?function(e){return v_.resolve(null).then(e).catch(Eb)}:__;function Eb(e){setTimeout(function(){throw e})}function Js(e){return e==="head"}function E_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),rl(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")No(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,No(s);for(var f=s.firstChild;f;){var p=f.nextSibling,T=f.nodeName;f[bi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&No(e.ownerDocument.body);s=h}while(s);rl(n)}function T_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),Ta(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Tb(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[bi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Yn(e.nextSibling),e===null)break}return null}function bb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Yn(e.nextSibling),e===null))return null;return e}function b_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Yn(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Ab(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Yn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Dd=null;function A_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Yn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function S_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function x_(e,n,s){switch(n=Tc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function No(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Ta(e)}var Xn=new Map,w_=new Set;function bc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=W.d;W.d={f:Sb,r:xb,D:wb,C:Cb,L:Rb,m:Nb,X:Db,S:Ib,M:Mb};function Sb(){var e=ds.f(),n=dc();return e||n}function xb(e){var n=Ln(e);n!==null&&n.tag===5&&n.type==="form"?Hg(n):ds.r(e)}var nl=typeof document>"u"?null:document;function C_(e,n,s){var l=nl;if(l&&typeof n=="string"&&n){var h=yn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),w_.has(h)||(w_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),We(n,"link",e),De(n),l.head.appendChild(n)))}}function wb(e){ds.D(e),C_("dns-prefetch",e,null)}function Cb(e,n){ds.C(e,n),C_("preconnect",e,n)}function Rb(e,n,s){ds.L(e,n,s);var l=nl;if(l&&e&&n){var h='link[rel="preload"][as="'+yn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+yn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+yn(s.imageSizes)+'"]')):h+='[href="'+yn(e)+'"]';var f=h;switch(n){case"style":f=il(e);break;case"script":f=sl(e)}Xn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Xn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(Io(f))||n==="script"&&l.querySelector(Do(f))||(n=l.createElement("link"),We(n,"link",e),De(n),l.head.appendChild(n)))}}function Nb(e,n){ds.m(e,n);var s=nl;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+yn(l)+'"][href="'+yn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=sl(e)}if(!Xn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Xn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Do(f)))return}l=s.createElement("link"),We(l,"link",e),De(l),s.head.appendChild(l)}}}function Ib(e,n,s){ds.S(e,n,s);var l=nl;if(l&&e){var h=Si(l).hoistableStyles,f=il(e);n=n||"default";var p=h.get(f);if(!p){var T={loading:0,preload:null};if(p=l.querySelector(Io(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Xn.get(f))&&Md(e,s);var R=p=l.createElement("link");De(R),We(R,"link",e),R._p=new Promise(function(P,K){R.onload=P,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ac(p,n,l)}p={type:"stylesheet",instance:p,count:1,state:T},h.set(f,p)}}}function Db(e,n){ds.X(e,n);var s=nl;if(s&&e){var l=Si(s).hoistableScripts,h=sl(e),f=l.get(h);f||(f=s.querySelector(Do(h)),f||(e=S({src:e,async:!0},n),(n=Xn.get(h))&&Od(e,n),f=s.createElement("script"),De(f),We(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Mb(e,n){ds.M(e,n);var s=nl;if(s&&e){var l=Si(s).hoistableScripts,h=sl(e),f=l.get(h);f||(f=s.querySelector(Do(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Xn.get(h))&&Od(e,n),f=s.createElement("script"),De(f),We(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function R_(e,n,s,l){var h=(h=wt.current)?bc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=il(s.href),s=Si(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=il(s.href);var f=Si(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(Io(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Xn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Xn.set(e,s),f||Ob(h,e,s,p.state))),n&&l===null)throw Error(a(528,""));return p}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=sl(s),s=Si(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function il(e){return'href="'+yn(e)+'"'}function Io(e){return'link[rel="stylesheet"]['+e+"]"}function N_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ob(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),We(n,"link",s),De(n),e.head.appendChild(n))}function sl(e){return'[src="'+yn(e)+'"]'}function Do(e){return"script[async]"+e}function I_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+yn(s.href)+'"]');if(l)return n.instance=l,De(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),De(l),We(l,"style",h),Ac(l,s.precedence,e),n.instance=l;case"stylesheet":h=il(s.href);var f=e.querySelector(Io(h));if(f)return n.state.loading|=4,n.instance=f,De(f),f;l=N_(s),(h=Xn.get(h))&&Md(l,h),f=(e.ownerDocument||e).createElement("link"),De(f);var p=f;return p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),We(f,"link",l),n.state.loading|=4,Ac(f,s.precedence,e),n.instance=f;case"script":return f=sl(s.src),(h=e.querySelector(Do(f)))?(n.instance=h,De(h),h):(l=s,(h=Xn.get(f))&&(l=S({},s),Od(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),De(h),We(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ac(l,s.precedence,e));return n.instance}function Ac(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,p=0;p<l.length;p++){var T=l[p];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Sc=null;function D_(e,n,s){if(Sc===null){var l=new Map,h=Sc=new Map;h.set(s,l)}else h=Sc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[bi]||f[Ie]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var T=l.get(p);T?T.push(f):l.set(p,[f])}}return l}function M_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Vb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function O_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function kb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=il(l.href),f=n.querySelector(Io(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=xc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,De(f);return}f=n.ownerDocument||n,l=N_(l),(h=Xn.get(h))&&Md(l,h),f=f.createElement("link"),De(f);var p=f;p._p=new Promise(function(T,R){p.onload=T,p.onerror=R}),We(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=xc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Vd=0;function jb(e,n){return e.stylesheets&&e.count===0&&Cc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Vd===0&&(Vd=62500*gb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Cc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function xc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Cc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wc=null;function Cc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wc=new Map,n.forEach(Ub,e),wc=null,xc.call(e))}function Ub(e,n){if(!(n.state.loading&4)){var s=wc.get(e);if(s)var l=s.get(null);else{s=new Map,wc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),l=p)}l&&s.set(null,l)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||l,f===l&&s.set(null,h),s.set(p,h),this.count++,l=xc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Mo={$$typeof:lt,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function Lb(e,n,s,l,h,f,p,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ei(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.hiddenUpdates=Ei(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function V_(e,n,s,l,h,f,p,T,R,P,K,$){return e=new Lb(e,n,s,p,R,P,K,$,T),n=1,f===!0&&(n|=24),f=In(3,null,null,n),e.current=f,f.stateNode=e,n=df(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},yf(f),e}function k_(e){return e?(e=ka,e):ka}function j_(e,n,s,l,h,f){h=k_(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Bs(e,l,n),s!==null&&(An(s,e,n),uo(s,e,n))}function U_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function kd(e,n){U_(e,n),(e=e.alternate)&&U_(e,n)}function L_(e){if(e.tag===13||e.tag===31){var n=Kr(e,67108864);n!==null&&An(n,e,67108864),kd(e,67108864)}}function P_(e){if(e.tag===13||e.tag===31){var n=kn();n=kr(n);var s=Kr(e,n);s!==null&&An(s,e,n),kd(e,n)}}var Rc=!0;function Pb(e,n,s,l){var h=z.T;z.T=null;var f=W.p;try{W.p=2,jd(e,n,s,l)}finally{W.p=f,z.T=h}}function zb(e,n,s,l){var h=z.T;z.T=null;var f=W.p;try{W.p=8,jd(e,n,s,l)}finally{W.p=f,z.T=h}}function jd(e,n,s,l){if(Rc){var h=Ud(l);if(h===null)bd(e,n,l,Nc,s),B_(e,l);else if(qb(h,e,n,s,l))l.stopPropagation();else if(B_(e,l),n&4&&-1<Bb.indexOf(e)){for(;h!==null;){var f=Ln(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=_i(f.pendingLanes);if(p!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;p;){var R=1<<31-Kt(p);T.entanglements[1]|=R,p&=~R}Ui(f),(Zt&6)===0&&(hc=He()+500,wo(0))}}break;case 31:case 13:T=Kr(f,2),T!==null&&An(T,f,2),dc(),kd(f,2)}if(f=Ud(l),f===null&&bd(e,n,l,Nc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else bd(e,n,l,null,s)}}function Ud(e){return e=Pn(e),Ld(e)}var Nc=null;function Ld(e){if(Nc=null,e=Ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Nc=e,null}function z_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case Ir:return 2;case Dr:return 8;case gi:case kl:return 32;case _a:return 268435456;default:return 32}default:return 32}}var Pd=!1,Zs=null,Ws=null,tr=null,Oo=new Map,Vo=new Map,er=[],Bb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function B_(e,n){switch(e){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Oo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vo.delete(n.pointerId)}}function ko(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Ln(n),n!==null&&L_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function qb(e,n,s,l,h){switch(n){case"focusin":return Zs=ko(Zs,e,n,s,l,h),!0;case"dragenter":return Ws=ko(Ws,e,n,s,l,h),!0;case"mouseover":return tr=ko(tr,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Oo.set(f,ko(Oo.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Vo.set(f,ko(Vo.get(f)||null,e,n,s,l,h)),!0}return!1}function q_(e){var n=Ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ti(e.priority,function(){P_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,ti(e.priority,function(){P_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ic(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Kl=l,s.target.dispatchEvent(l),Kl=null}else return n=Ln(s),n!==null&&L_(n),e.blockedOn=s,!1;n.shift()}return!0}function H_(e,n,s){Ic(e)&&s.delete(n)}function Hb(){Pd=!1,Zs!==null&&Ic(Zs)&&(Zs=null),Ws!==null&&Ic(Ws)&&(Ws=null),tr!==null&&Ic(tr)&&(tr=null),Oo.forEach(H_),Vo.forEach(H_)}function Dc(e,n){e.blockedOn===n&&(e.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Hb)))}var Mc=null;function F_(e){Mc!==e&&(Mc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Mc===e&&(Mc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ld(l||s)===null)continue;break}var f=Ln(s);f!==null&&(e.splice(n,3),n-=3,Uf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function rl(e){function n(R){return Dc(R,e)}Zs!==null&&Dc(Zs,e),Ws!==null&&Dc(Ws,e),tr!==null&&Dc(tr,e),Oo.forEach(n),Vo.forEach(n);for(var s=0;s<er.length;s++){var l=er[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<er.length&&(s=er[0],s.blockedOn===null);)q_(s),s.blockedOn===null&&er.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],p=h[Fe]||null;if(typeof f=="function")p||F_(s);else if(p){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Fe]||null)T=p.formAction;else if(Ld(h)!==null)continue}else T=p.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),F_(s)}}}function G_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Oc.prototype.render=zd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=kn();j_(s,l,e,n,null,null)},Oc.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;j_(e.current,2,null,e,null,null),dc(),n[Ti]=null}};function Oc(e){this._internalRoot=e}Oc.prototype.unstable_scheduleHydration=function(e){if(e){var n=du();e={blockedOn:null,target:e,priority:n};for(var s=0;s<er.length&&n!==0&&n<er[s].priority;s++);er.splice(s,0,e),s===0&&q_(e)}};var Q_=t.version;if(Q_!=="19.2.3")throw Error(a(527,Q_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Fb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:z,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vc.isDisabled&&Vc.supportsFiber)try{ht=Vc.inject(Fb),St=Vc}catch{}}return Uo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Wg,f=ty,p=ey;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=V_(e,1,!1,null,null,s,l,null,h,f,p,G_),e[Ti]=n.current,Td(e),new zd(n)},Uo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Wg,p=ty,T=ey,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=V_(e,1,!0,n,s??null,l,h,R,f,p,T,G_),n.context=k_(null),s=n.current,l=kn(),l=kr(l),h=zs(l),h.callback=null,Bs(s,h,l),s=l,n.current.lanes=s,Or(n,s),Ui(n),e[Ti]=n.current,Td(e),new Oc(n)},Uo.version="19.2.3",Uo}var n0;function tA(){if(n0)return Hd.exports;n0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=Wb(),Hd.exports}var eA=tA();const nA=()=>{};var i0={};const kv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},iA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],g=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},jv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,g=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let O=(g&15)<<2|_>>6,G=_&63;y||(G=64,d||(O=64)),a.push(i[A],i[S],i[O],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(kv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):iA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],g=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||g==null||_==null||S==null)throw new sA;const O=c<<2|g>>4;if(a.push(O),_!==64){const G=g<<4&240|_>>2;if(a.push(G),S!==64){const tt=_<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class sA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const rA=function(r){const t=kv(r);return jv.encodeByteArray(t,!0)},th=function(r){return rA(r).replace(/\./g,"")},Uv=function(r){try{return jv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function aA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lA=()=>aA().__FIREBASE_DEFAULTS__,oA=()=>{if(typeof process>"u"||typeof i0>"u")return;const r=i0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},uA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&Uv(r[1]);return t&&JSON.parse(t)},Th=()=>{try{return nA()||lA()||oA()||uA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Lv=r=>Th()?.emulatorHosts?.[r],cA=r=>{const t=Lv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Pv=()=>Th()?.config,zv=r=>Th()?.[`_${r}`];class hA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function xl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Bv(r){return(await fetch(r,{credentials:"include"})).ok}function fA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(i)),th(JSON.stringify(d)),""].join(".")}const Ho={};function dA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Ho))Ho[t]?r.emulator.push(t):r.prod.push(t);return r}function mA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let s0=!1;function qv(r,t){if(typeof window>"u"||typeof document>"u"||!xl(window.location.host)||Ho[r]===t||Ho[r]||s0)return;Ho[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=dA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{s0=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=mA(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),Q=document.getElementById(et)||document.createElement("a"),ct=i("preprendIcon"),mt=document.getElementById(ct)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const lt=O.element;g(lt),A(Q,et);const bt=_();y(mt,ct),lt.append(mt,tt,Q,bt),document.body.appendChild(lt)}c?(tt.innerText="Preview backend disconnected.",mt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(mt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function cn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function pA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(cn())}function gA(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _A(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function vA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function EA(){const r=cn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function TA(){return!gA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bA(){try{return typeof indexedDB=="object"}catch{return!1}}function AA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const SA="FirebaseError";class As extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=SA,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,nu.prototype.create)}}class nu{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?xA(c,a):"Error",g=`${this.serviceName}: ${d} (${o}).`;return new As(o,g,a)}}function xA(r,t){return r.replace(wA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const wA=/\{\$([^}]+)}/g;function CA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ys(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(r0(c)&&r0(d)){if(!ys(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function r0(r){return r!==null&&typeof r=="object"}function iu(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function RA(r,t){const i=new NA(r,t);return i.subscribe.bind(i)}class NA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");IA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Kd(){}function hn(r){return r&&r._delegate?r._delegate:r}class ua{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const aa="[DEFAULT]";class DA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new hA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(OA(t))try{this.getOrInitializeService({instanceIdentifier:aa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=aa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=aa){return this.instances.has(t)}getOptions(t=aa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:MA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=aa){return this.component?this.component.multipleInstances?t:aa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function MA(r){return r===aa?void 0:r}function OA(r){return r.instantiationMode==="EAGER"}class VA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new DA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const kA={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},jA=qt.INFO,UA={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},LA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=UA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jm{constructor(t){this.name=t,this._logLevel=jA,this._logHandler=LA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?kA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const PA=(r,t)=>t.some(i=>r instanceof i);let a0,l0;function zA(){return a0||(a0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function BA(){return l0||(l0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,am=new WeakMap,Fv=new WeakMap,Yd=new WeakMap,Um=new WeakMap;function qA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(fr(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&Hv.set(i,r)}).catch(()=>{}),Um.set(t,r),t}function HA(r){if(am.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});am.set(r,t)}let lm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Fv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return fr(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function FA(r){lm=r(lm)}function GA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Xd(this),t,...i);return Fv.set(a,t.sort?t.sort():[t]),fr(a)}:BA().includes(r)?function(...t){return r.apply(Xd(this),t),fr(Hv.get(this))}:function(...t){return fr(r.apply(Xd(this),t))}}function QA(r){return typeof r=="function"?GA(r):(r instanceof IDBTransaction&&HA(r),PA(r,zA())?new Proxy(r,lm):r)}function fr(r){if(r instanceof IDBRequest)return qA(r);if(Yd.has(r))return Yd.get(r);const t=QA(r);return t!==r&&(Yd.set(r,t),Um.set(t,r)),t}const Xd=r=>Um.get(r);function KA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),g=fr(d);return a&&d.addEventListener("upgradeneeded",y=>{a(fr(d.result),y.oldVersion,y.newVersion,fr(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const YA=["get","getKey","getAll","getAllKeys","count"],XA=["put","add","delete","clear"],$d=new Map;function o0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=XA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||YA.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),o&&y.done]))[0]};return $d.set(t,c),c}FA(r=>({...r,get:(t,i,a)=>o0(t,i)||r.get(t,i,a),has:(t,i)=>!!o0(t,i)||r.has(t,i)}));class $A{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function JA(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",u0="0.14.6";const _s=new jm("@firebase/app"),ZA="@firebase/app-compat",WA="@firebase/analytics-compat",tS="@firebase/analytics",eS="@firebase/app-check-compat",nS="@firebase/app-check",iS="@firebase/auth",sS="@firebase/auth-compat",rS="@firebase/database",aS="@firebase/data-connect",lS="@firebase/database-compat",oS="@firebase/functions",uS="@firebase/functions-compat",cS="@firebase/installations",hS="@firebase/installations-compat",fS="@firebase/messaging",dS="@firebase/messaging-compat",mS="@firebase/performance",pS="@firebase/performance-compat",gS="@firebase/remote-config",yS="@firebase/remote-config-compat",_S="@firebase/storage",vS="@firebase/storage-compat",ES="@firebase/firestore",TS="@firebase/ai",bS="@firebase/firestore-compat",AS="firebase",SS="12.6.0";const um="[DEFAULT]",xS={[om]:"fire-core",[ZA]:"fire-core-compat",[tS]:"fire-analytics",[WA]:"fire-analytics-compat",[nS]:"fire-app-check",[eS]:"fire-app-check-compat",[iS]:"fire-auth",[sS]:"fire-auth-compat",[rS]:"fire-rtdb",[aS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[oS]:"fire-fn",[uS]:"fire-fn-compat",[cS]:"fire-iid",[hS]:"fire-iid-compat",[fS]:"fire-fcm",[dS]:"fire-fcm-compat",[mS]:"fire-perf",[pS]:"fire-perf-compat",[gS]:"fire-rc",[yS]:"fire-rc-compat",[_S]:"fire-gcs",[vS]:"fire-gcs-compat",[ES]:"fire-fst",[bS]:"fire-fst-compat",[TS]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};const eh=new Map,wS=new Map,cm=new Map;function c0(r,t){try{r.container.addComponent(t)}catch(i){_s.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function gl(r){const t=r.name;if(cm.has(t))return _s.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,r);for(const i of eh.values())c0(i,r);for(const i of wS.values())c0(i,r);return!0}function Lm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ci(r){return r==null?!1:r.settings!==void 0}const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dr=new nu("app","Firebase",CS);class RS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ua("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw dr.create("app-deleted",{appName:this._name})}}const wl=SS;function Gv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:um,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw dr.create("bad-app-name",{appName:String(o)});if(i||(i=Pv()),!i)throw dr.create("no-options");const c=eh.get(o);if(c){if(ys(i,c.options)&&ys(a,c.config))return c;throw dr.create("duplicate-app",{appName:o})}const d=new VA(o);for(const y of cm.values())d.addComponent(y);const g=new RS(i,a,d);return eh.set(o,g),g}function Qv(r=um){const t=eh.get(r);if(!t&&r===um&&Pv())return Gv();if(!t)throw dr.create("no-app",{appName:r});return t}function mr(r,t,i){let a=xS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}gl(new ua(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const NS="firebase-heartbeat-database",IS=1,Xo="firebase-heartbeat-store";let Jd=null;function Kv(){return Jd||(Jd=KA(NS,IS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Xo)}catch(i){console.warn(i)}}}}).catch(r=>{throw dr.create("idb-open",{originalErrorMessage:r.message})})),Jd}async function DS(r){try{const i=(await Kv()).transaction(Xo),a=await i.objectStore(Xo).get(Yv(r));return await i.done,a}catch(t){if(t instanceof As)_s.warn(t.message);else{const i=dr.create("idb-get",{originalErrorMessage:t?.message});_s.warn(i.message)}}}async function h0(r,t){try{const a=(await Kv()).transaction(Xo,"readwrite");await a.objectStore(Xo).put(t,Yv(r)),await a.done}catch(i){if(i instanceof As)_s.warn(i.message);else{const a=dr.create("idb-set",{originalErrorMessage:i?.message});_s.warn(a.message)}}}function Yv(r){return`${r.name}!${r.options.appId}`}const MS=1024,OS=30;class VS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new jS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=f0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>OS){const o=US(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_s.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=f0(),{heartbeatsToSend:i,unsentEntries:a}=kS(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _s.warn(t),""}}}function f0(){return new Date().toISOString().substring(0,10)}function kS(r,t=MS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),d0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),d0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class jS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bA()?AA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await DS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return h0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return h0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function d0(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function US(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function LS(r){gl(new ua("platform-logger",t=>new $A(t),"PRIVATE")),gl(new ua("heartbeat",t=>new VS(t),"PRIVATE")),mr(om,u0,r),mr(om,u0,"esm2020"),mr("fire-js","")}LS("");var m0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var pr,Xv;(function(){var r;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,j){for(var x=Array(arguments.length-2),rt=2;rt<arguments.length;rt++)x[rt-2]=arguments[rt];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let j=N.g[3],x;x=w+(j^C&(D^j))+V[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+V[1]+3905402710&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+V[2]+606105819&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+V[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(j^C&(D^j))+V[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+V[5]+1200080426&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+V[6]+2821735955&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+V[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(j^C&(D^j))+V[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+V[9]+2336552879&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+V[10]+4294925233&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+V[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(j^C&(D^j))+V[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=j+(D^w&(C^D))+V[13]+4254626195&4294967295,j=w+(x<<12&4294967295|x>>>20),x=D+(C^j&(w^C))+V[14]+2792965006&4294967295,D=j+(x<<17&4294967295|x>>>15),x=C+(w^D&(j^w))+V[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(D^j&(C^D))+V[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+V[6]+3225465664&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+V[11]+643717713&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+V[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(C^D))+V[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+V[10]+38016083&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+V[15]+3634488961&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+V[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(C^D))+V[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+V[14]+3275163606&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+V[3]+4107603335&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+V[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^j&(C^D))+V[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=j+(C^D&(w^C))+V[2]+4243563512&4294967295,j=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(j^w))+V[7]+1735328473&4294967295,D=j+(x<<14&4294967295|x>>>18),x=C+(j^w&(D^j))+V[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(C^D^j)+V[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+V[8]+2272392833&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+V[11]+1839030562&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+V[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^j)+V[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+V[4]+1272893353&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+V[7]+4139469664&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+V[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^j)+V[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+V[0]+3936430074&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+V[3]+3572445317&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+V[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^j)+V[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=j+(w^C^D)+V[12]+3873151461&4294967295,j=w+(x<<11&4294967295|x>>>21),x=D+(j^w^C)+V[15]+530742520&4294967295,D=j+(x<<16&4294967295|x>>>16),x=C+(D^j^w)+V[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(D^(C|~j))+V[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+V[7]+1126891415&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+V[14]+2878612391&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+V[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~j))+V[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+V[3]+2399980690&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+V[10]+4293915773&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+V[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~j))+V[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+V[15]+4264355552&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+V[6]+2734768916&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+V[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~j))+V[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=j+(C^(w|~D))+V[11]+3174756917&4294967295,j=w+(x<<10&4294967295|x>>>22),x=D+(w^(j|~C))+V[2]+718787259&4294967295,D=j+(x<<15&4294967295|x>>>17),x=C+(j^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,j=0;for(;j<w;){if(D==0)for(;j<=C;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<w;)if(V[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<w;)if(V[D++]=N[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function c(N,w){var C=g;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;V&&j==w||(C[D]=j,V=!1)}this.g=C}var g={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Q(_(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return Q(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=S;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const x=parseInt(N.substring(j,j+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(x))):(V=V.j(C),V=V.add(_(x)))}return V}var S=y(0),O=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-Q(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(et(this))return"-"+Q(this).toString(N);const w=_(Math.pow(N,6));var C=this;let V="";for(;;){const D=bt(C,w).g;C=ct(C,D.j(w));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,tt(C))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function et(N){return N.h==-1}r.l=function(N){return N=ct(this,N),et(N)?-1:tt(N)?0:1};function Q(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(O)}r.abs=function(){return et(this)?Q(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let j=V+(this.i(D)&65535)+(N.i(D)&65535),x=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,j&=65535,x&=65535,C[D]=x<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ct(N,w){return N.add(Q(w))}r.j=function(N){if(tt(this)||tt(N))return S;if(et(this))return et(N)?Q(this).j(Q(N)):Q(Q(this).j(N));if(et(N))return Q(this.j(Q(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const j=this.i(V)>>>16,x=this.i(V)&65535,rt=N.i(D)>>>16,jt=N.i(D)&65535;C[2*V+2*D]+=x*jt,mt(C,2*V+2*D),C[2*V+2*D+1]+=j*jt,mt(C,2*V+2*D+1),C[2*V+2*D+1]+=x*rt,mt(C,2*V+2*D+1),C[2*V+2*D+2]+=j*rt,mt(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function mt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function lt(N,w){this.g=N,this.h=w}function bt(N,w){if(tt(w))throw Error("division by zero");if(tt(N))return new lt(S,S);if(et(N))return w=bt(Q(N),w),new lt(Q(w.g),Q(w.h));if(et(w))return w=bt(N,Q(w)),new lt(Q(w.g),w.h);if(N.g.length>30){if(et(N)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=w;V.l(N)<=0;)C=kt(C),V=kt(V);var D=vt(C,1),j=vt(V,1);for(V=vt(V,2),C=vt(C,2);!tt(V);){var x=j.add(V);x.l(N)<=0&&(D=D.add(C),j=x),V=vt(V,1),C=vt(C,1)}return w=ct(N,D.j(w)),new lt(D,w)}for(D=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(C),x=j.j(w);et(x)||x.l(N)>0;)C-=V,j=_(C),x=j.j(w);tt(j)&&(j=O),D=D.add(j),N=ct(N,x)}return new lt(D,N)}r.B=function(N){return bt(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function kt(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function vt(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let j=0;j<V;j++)D[j]=w>0?N.i(j+C)>>>w|N.i(j+C+1)<<32-w:N.i(j+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Xv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,pr=d}).apply(typeof m0<"u"?m0:typeof self<"u"?self:typeof window<"u"?window:{});var kc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $v,Po,Jv,Hc,hm,Zv,Wv,tE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof kc=="object"&&kc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,H){for(var nt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)nt[Mt-2]=arguments[Mt];return m.prototype[U].apply(b,nt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let nt=0;nt<H;nt++)u[v+nt]=U[nt]}else u.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){d.setTimeout(()=>{throw u},0)}function ct(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class mt{constructor(){this.h=this.g=null}add(m,v){const b=lt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var lt=new et(()=>new bt,u=>u.reset());class bt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let kt,vt=!1,N=new mt,w=()=>{const u=Promise.resolve(void 0);kt=()=>{u.then(C)}};function C(){for(var u;u=ct();){try{u.h.call(u.g)}catch(v){Q(v)}var m=lt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}vt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function rt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(rt,D),rt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&rt.Z.h.call(this)},rt.prototype.h=function(){rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var jt="closure_listenable_"+(Math.random()*1e6|0),z=0;function W(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++z,this.da=this.fa=!1}function st(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function pt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Dt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,b,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const nt=wt(u,m,b,U);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new W(m,this.src,H,!!b,U),m.fa=v,u.push(m)),m};function At(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(b,U,1),H&&(st(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function wt(u,m,v,b){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return U}return-1}var Rt="closure_lm_"+(Math.random()*1e6|0),ye={};function ee(u,m,v,b,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ee(u,m[H],v,b,U);return null}return v=xs(v),u&&u[jt]?u.J(m,v,g(b)?!!b.capture:!1,U):Jn(u,m,v,!1,b,U)}function Jn(u,m,v,b,U,H){if(!m)throw Error("Invalid event type");const nt=g(U)?!!U.capture:!!U;let Mt=mi(u);if(Mt||(u[Rt]=Mt=new at(u)),v=Mt.add(m,v,b,nt,H),v.proxy)return v;if(b=Un(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)j||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(Pe(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Un(){function u(v){return m.call(u.src,u.listener,v)}const m=Rr;return u}function Zn(u,m,v,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Zn(u,m[H],v,b,U);else b=g(b)?!!b.capture:!!b,v=xs(v),u&&u[jt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=wt(m,v,b,U),v>-1&&(st(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=wt(m,v,b,U)),(v=u>-1?m[u]:null)&&Ss(v))}function Ss(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[jt])At(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(Pe(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=mi(m))?(At(v,u),v.h==0&&(v.src=null,m[Rt]=null)):st(u)}}}function Pe(u){return u in ye?ye[u]:ye[u]="on"+u}function Rr(u,m){if(u.da)u=!0;else{m=new rt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Ss(u),u=v.call(b,m)}return u}function mi(u){return u=u[Rt],u instanceof at?u:null}var Nr="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(u){return typeof u=="function"?u:(u[Nr]||(u[Nr]=function(m){return u.handleEvent(m)}),u[Nr])}function Ee(){V.call(this),this.i=new at(this),this.M=this,this.G=null}S(Ee,V),Ee.prototype[jt]=!0,Ee.prototype.removeEventListener=function(u,m,v,b){Zn(this,u,m,v,b)};function Ae(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),it(m,U)}U=!0;let H,nt;if(v)for(nt=v.length-1;nt>=0;nt--)H=m.g=v[nt],U=pi(H,b,!0,m)&&U;if(H=m.g=u,U=pi(H,b,!0,m)&&U,U=pi(H,b,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)H=m.g=v[nt],U=pi(H,b,!1,m)&&U}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)st(v[b]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Ee.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function pi(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const nt=m[H];if(nt&&!nt.da&&nt.capture==v){const Mt=nt.listener,Se=nt.ha||nt.src;nt.fa&&At(u.i,nt),U=Mt.call(Se,b)!==!1&&U}}return U&&!b.defaultPrevented}function Vl(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ya(u){u.g=Vl(()=>{u.g=null,u.i&&(u.i=!1,ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class He extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ya(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){V.call(this),this.h=u,this.g={}}S(Yi,V);var Ir=[];function Dr(u){pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Ss(m)},u),u.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),Dr(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gi=d.JSON.stringify,kl=d.JSON.parse,_a=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function va(){}function B(){}var ht={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function St(){D.call(this,"d")}S(St,D);function Yt(){D.call(this,"c")}S(Yt,D);var Kt={},sn=null;function fn(){return sn=sn||new Ee}Kt.Ia="serverreachability";function rn(u){D.call(this,Kt.Ia,u)}S(rn,D);function yi(u){const m=fn();Ae(m,new rn(m))}Kt.STAT_EVENT="statevent";function Mr(u,m){D.call(this,Kt.STAT_EVENT,u),this.stat=m}S(Mr,D);function Ne(u){const m=fn();Ae(m,new Mr(m,u))}Kt.Ja="timingevent";function _i(u,m){D.call(this,Kt.Ja,u),this.size=m}S(_i,D);function vi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Fh(u,m,v,b,U,H){u.info(function(){if(u.g)if(H){var nt="",Mt=H.split("&");for(let Jt=0;Jt<Mt.length;Jt++){var Se=Mt[Jt].split("=");if(Se.length>1){const pe=Se[0];Se=Se[1];const Bn=pe.split("_");nt=Bn.length>=2&&Bn[1]=="type"?nt+(pe+"="+Se+"&"):nt+(pe+"=redacted&")}}}else nt=null;else nt=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function fu(u,m,v,b,U,H,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+nt})}function Ei(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(u,v)+(b?" "+b:"")})}function Or(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Gh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return gi(H)}catch{return m}}var Vr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ul;function kr(){}S(kr,va),kr.prototype.g=function(){return new XMLHttpRequest},Ul=new kr;function Xi(u){return encodeURIComponent(String(u))}function du(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Ie={},Fe={};function Ti(u,m,v){u.M=1,u.A=jr(Me(m)),u.u=v,u.R=!0,Ea(u,null)}function Ea(u,m){u.F=Date.now(),bi(u),u.B=Me(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Sa(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ei,u.g=Ru(u.j,v?m:null,!u.u),u.P>0&&(u.O=new He(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Ir[0]=U.toString()),U=Ir);for(let H=0;H<U.length;H++){const nt=ee(v,U[H],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),yi(),Fh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const Mt=si(this.g),Se=this.g.ya(),Jt=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Mt!=4||Se==7||(Se==8||Jt<=0?yi(3):yi(2)),Ai(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,fu(this.i,this.v,this.B,this.l,this.S,Mt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var H=b;break e}}H=null}if(u=H)Ei(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Si(this,u);else{this.o=!1,this.m=3,Ne(12),Cn(this),Ln(this);break t}}if(this.R){u=!0;let pe;for(;!this.K&&this.C<v.length;)if(pe=pu(this,v),pe==Fe){Mt==4&&(this.m=4,Ne(14),u=!1),Ei(this.i,this.l,null,"[Incomplete Response]");break}else if(pe==Ie){this.m=4,Ne(15),Ei(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ei(this.i,this.l,pe,null),Si(this,pe);if(mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||v.length!=0||this.h.h||(this.m=1,Ne(16),u=!1),this.o=this.o&&u,!u)Ei(this.i,this.l,v,"[Invalid Chunked Response]"),Cn(this),Ln(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Zl(nt),nt.P=!0,Ne(11))}}else Ei(this.i,this.l,v,null),Si(this,v);Mt==4&&Cn(this),this.o&&!this.K&&(Mt==4?Su(this.j,this):(this.o=!1,bi(this)))}else Ji(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ne(12)):(this.m=0,Ne(13)),Cn(this),Ln(this)}}}catch{}};function Qh(u){if(!mu(u))return u.g.la();const m=Xe(u.g);if(m==="")return"";let v="";const b=m.length,U=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Cn(u),Ln(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function mu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function pu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Fe:(v=Number(m.substring(v,b)),isNaN(v)?Ie:(b+=1,b+v>m.length?Fe:(m=m.slice(b,b+v),u.C=b+v,m)))}ti.prototype.cancel=function(){this.K=!0,Cn(this)};function bi(u){u.T=Date.now()+u.H,Ta(u,u.H)}function Ta(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=vi(_(u.aa,u),m)}function Ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Or(this.i,this.B),this.M!=2&&(yi(),Ne(17)),Cn(this),this.m=2,Ln(this)):Ta(this,this.T-u)};function Ln(u){u.j.I==0||u.K||Su(u.j,u)}function Cn(u){Ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Dr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Si(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||wi(v.h,u))){if(!u.L&&wi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)Na(v),Os(v);else break t;Hr(v),Ne(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=vi(_(v.Va,v),6e3));xi(v.h)<=1&&v.ta&&(v.ta=void 0)}else Mi(v,11)}else if((u.L||v.g==u)&&Na(v),!x(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Jt=U[m];const pe=Jt[0];if(!(pe<=v.K))if(v.K=pe,Jt=Jt[1],v.I==2)if(Jt[0]=="c"){v.M=Jt[1],v.ba=Jt[2];const Bn=Jt[3];Bn!=null&&(v.ka=Bn,v.j.info("VER="+v.ka));const Oi=Jt[4];Oi!=null&&(v.za=Oi,v.j.info("SVER="+v.za));const ri=Jt[5];ri!=null&&typeof ri=="number"&&ri>0&&(b=1.5*ri,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ai=u.g;if(ai){const Fr=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Fr){var H=b.h;H.g||Fr.indexOf("spdy")==-1&&Fr.indexOf("quic")==-1&&Fr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(zl(H,H.h),H.h=null))}if(b.G){const Ia=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;Ia&&(b.wa=Ia,ne(b.J,b.G,Ia))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=Cu(b,b.L?b.ba:null,b.W),nt.L){Bl(b.h,nt);var Mt=nt,Se=b.O;Se&&(Mt.H=Se),Mt.D&&(Ai(Mt),bi(Mt)),b.g=nt}else bu(b);v.i.length>0&&Di(v)}else Jt[0]!="stop"&&Jt[0]!="close"||Mi(v,7);else v.I==3&&(Jt[0]=="stop"||Jt[0]=="close"?Jt[0]=="stop"?Mi(v,7):$l(v):Jt[0]!="noop"&&v.l&&v.l.qa(Jt),v.A=0)}}yi(4)}catch{}}var De=class{constructor(u,m){this.g=u,this.map=m}};function Ll(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Pl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function xi(u){return u.h?1:u.g?u.g.size:0}function wi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function zl(u,m){u.g?u.g.add(m):u.h=m}function Bl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ll.prototype.cancel=function(){if(this.i=ql(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function ql(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var gu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ba(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,H=null;b>=0?(U=u[v].substring(0,b),H=u[v].substring(b+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Rn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof Rn?(this.l=u.l,Ge(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Hl(this,Eu(u.i)),this.m=u.m):u&&(m=String(u).match(gu))?(this.l=!1,Ge(this,m[1]||"",!0),this.o=Ci(m[2]||""),this.g=Ci(m[3]||"",!0),ws(this,m[4]),this.h=Ci(m[5]||"",!0),Hl(this,m[6]||"",!0),this.m=Ci(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}Rn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Ur(m,Aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Ur(m,Aa,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Ur(v,v.charAt(0)=="/"?Fl:yu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Ur(v,_u)),u.join("")},Rn.prototype.resolve=function(u){const m=Me(this);let v=!!u.j;v?Ge(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let nt=0;nt<U.length;){const Mt=U[nt++];Mt=="."?b&&nt==U.length&&H.push(""):Mt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&nt==U.length&&H.push("")):(H.push(Mt),b=!0)}b=H.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Hl(m,Eu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Me(u){return new Rn(u)}function Ge(u,m,v){u.j=v?Ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Hl(u,m,v){m instanceof Rs?(u.i=m,xa(u.i,u.l)):(v||(m=Ur(m,Cs)),u.i=new Rs(m,u.l))}function ne(u,m,v){u.i.set(m,v)}function jr(u){return ne(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Ur(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,yn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function yn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var Aa=/[#\/\?@]/g,yu=/[#\?:]/g,Fl=/[#\?]/g,Cs=/[#\?@]/g,_u=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function _n(u){u.g||(u.g=new Map,u.h=0,u.i&&ba(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Rs.prototype,r.add=function(u,m){_n(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function vu(u,m){_n(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Gl(u,m){return _n(u),m=Ns(u,m),u.g.has(m)}r.forEach=function(u,m){_n(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Ql(u,m){_n(u);let v=[];if(typeof m=="string")Gl(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return _n(this),this.i=null,u=Ns(this,u),Gl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Ql(this,u),u.length>0?String(u[0]):m):m};function Sa(u,m,v){vu(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Xi(v);v=Ql(this,v);for(let H=0;H<v.length;H++){let nt=U;v[H]!==""&&(nt+="="+Xi(v[H])),u.push(nt)}}return this.i=u.join("&")};function Eu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function xa(u,m){m&&!u.j&&(_n(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(vu(this,b),Sa(this,U,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const b=new Image;b.onload=A(Pn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Pn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Pn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Pn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Kl(u,m){const v=new Wn,b=new AbortController,U=setTimeout(()=>{b.abort(),Pn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?Pn(v,"TestPingServer: ok",!0,m):Pn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Pn(v,"TestPingServer: error",!1,m)})}function Pn(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Is(){this.g=new _a}function Ri(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ri,va),Ri.prototype.g=function(){return new Lr(this.i,this.h)};function Lr(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Lr,Ee),r=Lr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;wa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function wa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ii(this),this.readyState==3&&wa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},r.Na=function(u){this.g&&(this.response=u,Ds(this))},r.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Lr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function zn(u){let m="";return pt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Pr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=zn(v),typeof u=="string"?v!=null&&Xi(v):ne(u,m,v))}function re(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(re,Ee);var Ni=/^https?$/i,Yl=["POST","PUT"];r=re.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ul.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){zr(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Yl,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of v)this.g.setRequestHeader(H,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){zr(this,H)}};function zr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Xl(u),$i(u)}function Xl(u){u.A||(u.A=!0,Ae(u,"complete"),Ae(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ae(this,"complete"),Ae(this,"abort"),$i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),re.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Br(this):this.Xa())},r.Xa=function(){Br(this)};function Br(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ae(u,"readystatechange"),si(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let nt=String(u.D).match(gu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!Ni.test(nt?nt.toLowerCase():"")}v=b}if(v)Ae(u,"complete"),Ae(u,"success");else{u.o=6;try{var U=si(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Xl(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ae(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}r.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),kl(m)}};function Xe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ji(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=du(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}Dt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ii(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ii("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ii("baseRetryDelayMs",5e3,u),this.Za=Ii("retryDelaySeedMs",1e4,u),this.Ta=Ii("forwardChannelMaxRetries",2,u),this.va=Ii("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ll(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ne(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Cu(this,null,this.W),Di(this)};function $l(u){if(Ca(u),u.I==3){var m=u.V++,v=Me(u.J);if(ne(v,"SID",u.M),ne(v,"RID",m),ne(v,"TYPE","terminate"),qr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=jr(Me(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Ru(m.j,null),m.g.ea(m.A)),m.F=Date.now(),bi(m)}wu(u)}function Os(u){u.g&&(Zl(u),u.g.cancel(),u.g=null)}function Ca(u){Os(u),u.v&&(d.clearTimeout(u.v),u.v=null),Na(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Di(u){if(!Pl(u.h)&&!u.m){u.m=!0;var m=u.Ea;kt||w(),vt||(kt(),vt=!0),N.add(m,u),u.D=0}}function Ra(u,m){return xi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=vi(_(u.Ea,u,m),xu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ti(this,this.j,u);let H=this.o;if(this.U&&(H?(H=I(H),it(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Tu(this,U,m),v=Me(this.J),ne(v,"RID",u),ne(v,"CVER",22),this.G&&ne(v,"X-HTTP-Session-Id",this.G),qr(this,v),H&&(this.R?m="headers="+Xi(zn(H))+"&"+m:this.u&&Pr(v,this.u,H)),zl(this.h,U),this.Ra&&ne(v,"TYPE","init"),this.S?(ne(v,"$req",m),ne(v,"SID","null"),U.U=!0,Ti(U,v,null)):Ti(U,v,m),this.I=2}}else this.I==3&&(u?Jl(this,u):this.i.length==0||Pl(this.h)||Jl(this))};function Jl(u,m){var v;m?v=m.l:v=u.V++;const b=Me(u.J);ne(b,"SID",u.M),ne(b,"RID",v),ne(b,"AID",u.K),qr(u,b),u.u&&u.o&&Pr(b,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Tu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),zl(u.h,v),Ti(v,b,m)}function qr(u,m){u.H&&pt(u.H,function(v,b){ne(m,b,v)}),u.l&&pt({},function(v,b){ne(m,b,v)})}function Tu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Mt=-1;for(;;){const Se=["count="+v];Mt==-1?v>0?(Mt=U[0].g,Se.push("ofs="+Mt)):Mt=0:Se.push("ofs="+Mt);let Jt=!0;for(let pe=0;pe<v;pe++){var H=U[pe].g;const Bn=U[pe].map;if(H-=Mt,H<0)Mt=Math.max(0,U[pe].g-100),Jt=!1;else try{H="req"+H+"_"||"";try{var nt=Bn instanceof Map?Bn:Object.entries(Bn);for(const[Oi,ri]of nt){let ai=ri;g(ri)&&(ai=gi(ri)),Se.push(H+Oi+"="+encodeURIComponent(ai))}}catch(Oi){throw Se.push(H+"type="+encodeURIComponent("_badmap")),Oi}}catch{b&&b(Bn)}}if(Jt){nt=Se.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function bu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;kt||w(),vt||(kt(),vt=!0),N.add(m,u),u.A=0}}function Hr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=vi(_(u.Da,u),xu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Au(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=vi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ne(10),Os(this),Au(this))};function Zl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Au(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Me(u.na);ne(m,"RID","rpc"),ne(m,"SID",u.M),ne(m,"AID",u.K),ne(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&ne(m,"TO",u.ia),ne(m,"TYPE","xmlhttp"),qr(u,m),u.u&&u.o&&Pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=jr(Me(m)),v.u=null,v.R=!0,Ea(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Os(this),Hr(this),Ne(19))};function Na(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Su(u,m){var v=null;if(u.g==m){Na(u),Zl(u),u.g=null;var b=2}else if(wi(u.h,m))v=m.G,Bl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=fn(),Ae(b,new _i(b,v)),Di(u)}else bu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Ra(u,m)||b==2&&Hr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Mi(u,5);break;case 4:Mi(u,10);break;case 3:Mi(u,6);break;default:Mi(u,2)}}}function xu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Mi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new Rn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ge(b,"https"),jr(b),U?ni(b.toString(),v):Kl(b.toString(),v)}else Ne(2);u.I=0,u.l&&u.l.pa(m),wu(u),Ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ne(2)):(this.j.info("Failed to ping google.com"),Ne(1))};function wu(u){if(u.I=0,u.ja=[],u.l){const m=ql(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Cu(u,m,v){var b=v instanceof Rn?Me(v):new Rn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ws(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new Rn(null);b&&Ge(H,b),m&&(H.g=m),U&&ws(H,U),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&ne(b,v,m),ne(b,"VER",u.ka),qr(u,b),b}function Ru(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new re(new Ri({ab:v})):new re(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Nu(){}r=Nu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new dn(u,m)};function dn(u,m){Ee.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Zi(this)}S(dn,Ee),dn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},dn.prototype.close=function(){$l(this.g)},dn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=gi(u),u=v);m.i.push(new De(m.Ya++,u)),m.I==3&&Di(m)},dn.prototype.N=function(){this.g.l=null,delete this.j,$l(this.g),delete this.g,dn.Z.N.call(this)};function Iu(u){St.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Iu,St);function Du(){Yt.call(this),this.status=1}S(Du,Yt);function Zi(u){this.g=u}S(Zi,Nu),Zi.prototype.ra=function(){Ae(this.g,"a")},Zi.prototype.qa=function(u){Ae(this.g,new Iu(u))},Zi.prototype.pa=function(u){Ae(this.g,new Du)},Zi.prototype.oa=function(){Ae(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,dn.prototype.send=dn.prototype.o,dn.prototype.open=dn.prototype.m,dn.prototype.close=dn.prototype.close,tE=function(){return new Vs},Wv=function(){return fn()},Zv=Kt,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Vr.NO_ERROR=0,Vr.TIMEOUT=8,Vr.HTTP_ERROR=6,Hc=Vr,jl.COMPLETE="complete",Jv=jl,B.EventType=ht,ht.OPEN="a",ht.CLOSE="b",ht.ERROR="c",ht.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Po=B,re.prototype.listenOnce=re.prototype.K,re.prototype.getLastError=re.prototype.Ha,re.prototype.getLastErrorCode=re.prototype.ya,re.prototype.getStatus=re.prototype.ca,re.prototype.getResponseJson=re.prototype.La,re.prototype.getResponseText=re.prototype.la,re.prototype.send=re.prototype.ea,re.prototype.setWithCredentials=re.prototype.Fa,$v=re}).apply(typeof kc<"u"?kc:typeof self<"u"?self:typeof window<"u"?window:{});const p0="@firebase/firestore",g0="4.9.3";class on{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let Cl="12.7.0";const ca=new jm("@firebase/firestore");function al(){return ca.logLevel}function ot(r,...t){if(ca.logLevel<=qt.DEBUG){const i=t.map(Pm);ca.debug(`Firestore (${Cl}): ${r}`,...i)}}function vs(r,...t){if(ca.logLevel<=qt.ERROR){const i=t.map(Pm);ca.error(`Firestore (${Cl}): ${r}`,...i)}}function yl(r,...t){if(ca.logLevel<=qt.WARN){const i=t.map(Pm);ca.warn(`Firestore (${Cl}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function Tt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,eE(r,a,i)}function eE(r,t,i){let a=`FIRESTORE (${Cl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function Wt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||eE(t,o,a)}function It(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class dt extends As{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class gr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class nE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class PS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(on.UNAUTHENTICATED)))}shutdown(){}}class zS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class BS{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new gr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},g=y=>{ot("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(ot("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new gr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(ot("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Wt(typeof a.accessToken=="string",31837,{l:a}),new nE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class qS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class HS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new qS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class y0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class FS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ci(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0,3512);const a=c=>{c.error!=null&&ot("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,ot("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{ot("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):ot("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new y0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Wt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new y0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function GS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=GS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ht(r,t){return r<t?-1:r>t?1:0}function fm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Zd(o)===Zd(c)?Ht(o,c):Zd(o)?1:-1}return Ht(r.length,t.length)}const QS=55296,KS=57343;function Zd(r){const t=r.charCodeAt(0);return t>=QS&&t<=KS}function _l(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const _0="__name__";class Li{constructor(t,i,a){i===void 0?i=0:i>t.length&&Tt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&Tt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Li.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Li?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Li.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ht(t.length,i.length)}static compareSegments(t,i){const a=Li.isNumericId(t),o=Li.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Li.extractNumericId(t).compare(Li.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return pr.fromString(t.substring(4,t.length-2))}}class de extends Li{construct(t,i,a){return new de(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new dt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new de(i)}static emptyPath(){return new de([])}}const YS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Li{construct(t,i,a){return new en(t,i,a)}static isValidIdentifier(t){return YS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_0}static keyField(){return new en([_0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new dt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const g=t[o];if(g==="\\"){if(o+1===t.length)throw new dt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new dt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else g==="`"?(d=!d,o++):g!=="."||d?(a+=g,o++):(c(),o++)}if(c(),d)throw new dt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(i)}static emptyPath(){return new en([])}}class _t{constructor(t){this.path=t}static fromPath(t){return new _t(de.fromString(t))}static fromName(t){return new _t(de.fromString(t).popFirst(5))}static empty(){return new _t(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&de.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return de.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new _t(new de(t.slice()))}}function iE(r,t,i){if(!i)throw new dt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function XS(r,t,i,a){if(t===!0&&a===!0)throw new dt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function v0(r){if(!_t.isDocumentKey(r))throw new dt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function E0(r){if(_t.isDocumentKey(r))throw new dt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":Tt(12329,{type:typeof r})}function fi(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new dt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(r);throw new dt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Le(r,t){const i={typeString:r};return t&&(i.value=t),i}function su(r,t){if(!sE(r))throw new dt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new dt(Z.INVALID_ARGUMENT,i);return!0}const T0=-62135596800,b0=1e6;class me{static now(){return me.fromMillis(Date.now())}static fromDate(t){return me.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*b0);return new me(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new dt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new dt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<T0)throw new dt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new dt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/b0}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:me._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(su(t,me._jsonSchema))return new me(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-T0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}me._jsonSchemaVersion="firestore/timestamp/1.0",me._jsonSchema={type:Le("string",me._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new me(0,0))}static max(){return new Ct(new me(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $o=-1;function $S(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=Ct.fromTimestamp(a===1e9?new me(i+1,0):new me(i,a));return new vr(o,_t.empty(),t)}function JS(r){return new vr(r.readTime,r.key,$o)}class vr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new vr(Ct.min(),_t.empty(),$o)}static max(){return new vr(Ct.max(),_t.empty(),$o)}}function ZS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=_t.comparator(r.documentKey,t.documentKey),i!==0?i:Ht(r.largestBatchId,t.largestBatchId))}const WS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Rl(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==WS)throw r;ot("LocalStore","Unexpectedly lost primary lease")}class J{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&Tt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new J(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof J?i:J.resolve(i)}catch(i){return J.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):J.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):J.reject(i)}static resolve(t){return new J(((i,a)=>{i(t)}))}static reject(t){return new J(((i,a)=>{a(t)}))}static waitFor(t){return new J(((i,a)=>{let o=0,c=0,d=!1;t.forEach((g=>{++o,g.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=J.resolve(!1);for(const a of t)i=i.next((o=>o?J.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new J(((a,o)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++g,g===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new J(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function ex(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Nl(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const qm=-1;function Ah(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function nx(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const rE="";function ix(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=A0(t)),t=sx(r.get(i),t);return A0(t)}function sx(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case rE:i+="";break;default:i+=c}}return i}function A0(r){return r+rE+""}function S0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function wr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function aE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ve{constructor(t,i){this.comparator=t,this.root=i||tn.EMPTY}insert(t,i){return new ve(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new ve(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new jc(this.root,t,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new jc(this.root,t,this.comparator,!0)}}class jc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??tn.RED,this.left=o??tn.EMPTY,this.right=c??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new tn(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return tn.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Tt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Tt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Tt(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw Tt(57766)}get value(){throw Tt(16141)}get color(){throw Tt(16727)}get left(){throw Tt(29726)}get right(){throw Tt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new tn(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class qe{constructor(t){this.comparator=t,this.data=new ve(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new x0(this.data.getIterator())}getIteratorFrom(t){return new x0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof qe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new qe(this.comparator);return i.data=t,i}}class x0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new jn([])}unionWith(t){let i=new qe(en.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new jn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return _l(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new lE("Invalid base64 string: "+c):c}})(t);return new nn(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new nn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const rx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Er(r){if(Wt(!!r,39018),typeof r=="string"){let t=0;const i=rx.exec(r);if(Wt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ce(r.seconds),nanos:Ce(r.nanos)}}function Ce(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Tr(r){return typeof r=="string"?nn.fromBase64String(r):nn.fromUint8Array(r)}const oE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[uE]?.stringValue===oE}function Sh(r){const t=r.mapValue.fields[cE];return Hm(t)?Sh(t):t}function Jo(r){const t=Er(r.mapValue.fields[hE].timestampValue);return new me(t.seconds,t.nanos)}class ax{constructor(t,i,a,o,c,d,g,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const ih="(default)";class Zo{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Zo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Zo&&t.projectId===this.projectId&&t.database===this.database}}const fE="__type__",lx="__max__",Uc={mapValue:{}},dE="__vector__",sh="value";function br(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:ux(r)?9007199254740991:ox(r)?10:11:Tt(28295,{value:r})}function Qi(r,t){if(r===t)return!0;const i=br(r);if(i!==br(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Jo(r).isEqual(Jo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=Er(o.timestampValue),g=Er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return Tr(o.bytesValue).isEqual(Tr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return Ce(o.geoPointValue.latitude)===Ce(c.geoPointValue.latitude)&&Ce(o.geoPointValue.longitude)===Ce(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return Ce(o.integerValue)===Ce(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Ce(o.doubleValue),g=Ce(c.doubleValue);return d===g?nh(d)===nh(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return _l(r.arrayValue.values||[],t.arrayValue.values||[],Qi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},g=c.mapValue.fields||{};if(S0(d)!==S0(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Qi(d[y],g[y])))return!1;return!0})(r,t);default:return Tt(52216,{left:r})}}function Wo(r,t){return(r.values||[]).find((i=>Qi(i,t)))!==void 0}function vl(r,t){if(r===t)return 0;const i=br(r),a=br(t);if(i!==a)return Ht(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=Ce(c.integerValue||c.doubleValue),y=Ce(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(r,t);case 3:return w0(r.timestampValue,t.timestampValue);case 4:return w0(Jo(r),Jo(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=Tr(c),y=Tr(d);return g.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const A=Ht(g[_],y[_]);if(A!==0)return A}return Ht(g.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Ht(Ce(c.latitude),Ce(d.latitude));return g!==0?g:Ht(Ce(c.longitude),Ce(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return C0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[sh]?.arrayValue,A=y[sh]?.arrayValue,S=Ht(_?.values?.length||0,A?.values?.length||0);return S!==0?S:C0(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Uc.mapValue&&d===Uc.mapValue)return 0;if(c===Uc.mapValue)return 1;if(d===Uc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const O=fm(y[S],A[S]);if(O!==0)return O;const G=vl(g[y[S]],_[A[S]]);if(G!==0)return G}return Ht(y.length,A.length)})(r.mapValue,t.mapValue);default:throw Tt(23264,{he:i})}}function w0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ht(r,t);const i=Er(r),a=Er(t),o=Ht(i.seconds,a.seconds);return o!==0?o:Ht(i.nanos,a.nanos)}function C0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=vl(i[o],a[o]);if(c)return c}return Ht(i.length,a.length)}function El(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=Er(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Tr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return _t.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=dm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${dm(i.fields[d])}`;return o+"}"})(r.mapValue):Tt(61005,{value:r})}function Fc(r){switch(br(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(r);return t?16+Fc(t):16;case 5:return 2*r.stringValue.length;case 6:return Tr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Fc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return wr(a.fields,((c,d)=>{o+=c.length+Fc(d)})),o})(r.mapValue);default:throw Tt(13486,{value:r})}}function mm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function R0(r){return!!r&&"nullValue"in r}function N0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Gc(r){return!!r&&"mapValue"in r}function ox(r){return(r?.mapValue?.fields||{})[fE]?.stringValue===dE}function Fo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return wr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Fo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Fo(r.arrayValue.values[i]);return t}return{...r}}function ux(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lx}class wn{constructor(t){this.value=t}static empty(){return new wn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Gc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Fo(i)}setAll(t){let i=en.emptyPath(),a={},o=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=g.popLast()}d?a[g.lastSegment()]=Fo(d):o.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Gc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Qi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Gc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){wr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new wn(Fo(this.value))}}function mE(r){const t=[];return wr(r.fields,((i,a)=>{const o=new en([i]);if(Gc(a)){const c=mE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new jn(t)}class un{constructor(t,i,a,o,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new un(t,0,Ct.min(),Ct.min(),Ct.min(),wn.empty(),0)}static newFoundDocument(t,i,a,o){return new un(t,1,i,Ct.min(),a,o,0)}static newNoDocument(t,i){return new un(t,2,i,Ct.min(),Ct.min(),wn.empty(),0)}static newUnknownDocument(t,i){return new un(t,3,i,Ct.min(),Ct.min(),wn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function I0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=_t.comparator(_t.fromName(d.referenceValue),i.key):a=vl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function D0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Qi(r.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function cx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class pE{}class Be extends pE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new fx(t,i,a):i==="array-contains"?new px(t,a):i==="in"?new gx(t,a):i==="not-in"?new yx(t,a):i==="array-contains-any"?new _x(t,a):new Be(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new dx(t,a):new mx(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(vl(i,this.value)):i!==null&&br(this.value)===br(i)&&this.matchesComparison(vl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Tt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ki extends pE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Ki(t,i)}matches(t){return gE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(r){return r.op==="and"}function yE(r){return hx(r)&&gE(r)}function hx(r){for(const t of r.filters)if(t instanceof Ki)return!1;return!0}function pm(r){if(r instanceof Be)return r.field.canonicalString()+r.op.toString()+El(r.value);if(yE(r))return r.filters.map((t=>pm(t))).join(",");{const t=r.filters.map((i=>pm(i))).join(",");return`${r.op}(${t})`}}function _E(r,t){return r instanceof Be?(function(a,o){return o instanceof Be&&a.op===o.op&&a.field.isEqual(o.field)&&Qi(a.value,o.value)})(r,t):r instanceof Ki?(function(a,o){return o instanceof Ki&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,g)=>c&&_E(d,o.filters[g])),!0):!1})(r,t):void Tt(19439)}function vE(r){return r instanceof Be?(function(i){return`${i.field.canonicalString()} ${i.op} ${El(i.value)}`})(r):r instanceof Ki?(function(i){return i.op.toString()+" {"+i.getFilters().map(vE).join(" ,")+"}"})(r):"Filter"}class fx extends Be{constructor(t,i,a){super(t,i,a),this.key=_t.fromName(a.referenceValue)}matches(t){const i=_t.comparator(t.key,this.key);return this.matchesComparison(i)}}class dx extends Be{constructor(t,i){super(t,"in",i),this.keys=EE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class mx extends Be{constructor(t,i){super(t,"not-in",i),this.keys=EE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function EE(r,t){return(t.arrayValue?.values||[]).map((i=>_t.fromName(i.referenceValue)))}class px extends Be{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Wo(i.arrayValue,this.value)}}class gx extends Be{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Wo(this.value.arrayValue,i)}}class yx extends Be{constructor(t,i){super(t,"not-in",i)}matches(t){if(Wo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Wo(this.value.arrayValue,i)}}class _x extends Be{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Wo(this.value.arrayValue,a)))}}class vx{constructor(t,i=null,a=[],o=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function M0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new vx(r,t,i,a,o,c,d)}function Gm(r){const t=It(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>El(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>El(a))).join(",")),t.Te=i}return t.Te}function Qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!cx(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!_E(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!D0(r.startAt,t.startAt)&&D0(r.endAt,t.endAt)}function gm(r){return _t.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class xh{constructor(t,i=null,a=[],o=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Ex(r,t,i,a,o,c,d,g){return new xh(r,t,i,a,o,c,d,g)}function wh(r){return new xh(r)}function O0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Tx(r){return r.collectionGroup!==null}function Go(r){const t=It(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new qe(en.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(en.keyField().canonicalString())||t.Ie.push(new ah(en.keyField(),a))}return t.Ie}function zi(r){const t=It(r);return t.Ee||(t.Ee=bx(t,Go(r))),t.Ee}function bx(r,t){if(r.limitType==="F")return M0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return M0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function ym(r,t,i){return new xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ch(r,t){return Qm(zi(r),zi(t))&&r.limitType===t.limitType}function TE(r){return`${Gm(zi(r))}|lt:${r.limitType}`}function ll(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>vE(o))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>El(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>El(o))).join(",")),`Target(${a})`})(zi(r))}; limitType=${r.limitType})`}function Rh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):_t.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of Go(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,g,y){const _=I0(d,g,y);return d.inclusive?_<=0:_<0})(a.startAt,Go(a),o)||a.endAt&&!(function(d,g,y){const _=I0(d,g,y);return d.inclusive?_>=0:_>0})(a.endAt,Go(a),o))})(r,t)}function Ax(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bE(r){return(t,i)=>{let a=!1;for(const o of Go(r)){const c=Sx(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Sx(r,t,i){const a=r.field.isKeyField()?_t.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?vl(y,_):Tt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return Tt(19790,{direction:r.dir})}}class pa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){wr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}const xx=new ve(_t.comparator);function Es(){return xx}const AE=new ve(_t.comparator);function zo(...r){let t=AE;for(const i of r)t=t.insert(i.key,i);return t}function SE(r){let t=AE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function la(){return Qo()}function xE(){return Qo()}function Qo(){return new pa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const wx=new ve(_t.comparator),Cx=new qe(_t.comparator);function Ft(...r){let t=Cx;for(const i of r)t=t.add(i);return t}const Rx=new qe(Ht);function Nx(){return Rx}function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function wE(r){return{integerValue:""+r}}function CE(r,t){return nx(t)?wE(t):Km(r,t)}class Nh{constructor(){this._=void 0}}function Ix(r,t,i){return r instanceof lh?(function(o,c){const d={fields:{[uE]:{stringValue:oE},[hE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Hm(c)&&(c=Sh(c)),c&&(d.fields[cE]=c),{mapValue:d}})(i,t):r instanceof Tl?NE(r,t):r instanceof bl?IE(r,t):(function(o,c){const d=RE(o,c),g=V0(d)+V0(o.Ae);return mm(d)&&mm(o.Ae)?wE(g):Km(o.serializer,g)})(r,t)}function Dx(r,t,i){return r instanceof Tl?NE(r,t):r instanceof bl?IE(r,t):i}function RE(r,t){return r instanceof tu?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class lh extends Nh{}class Tl extends Nh{constructor(t){super(),this.elements=t}}function NE(r,t){const i=DE(t);for(const a of r.elements)i.some((o=>Qi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class bl extends Nh{constructor(t){super(),this.elements=t}}function IE(r,t){let i=DE(t);for(const a of r.elements)i=i.filter((o=>!Qi(o,a)));return{arrayValue:{values:i}}}class tu extends Nh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function V0(r){return Ce(r.integerValue||r.doubleValue)}function DE(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ym{constructor(t,i){this.field=t,this.transform=i}}function Mx(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof Tl&&o instanceof Tl||a instanceof bl&&o instanceof bl?_l(a.elements,o.elements,Qi):a instanceof tu&&o instanceof tu?Qi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(r.transform,t.transform)}class Ox{constructor(t,i){this.version=t,this.transformResults=i}}class di{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Qc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ih{}function ME(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Xm(r.key,di.none()):new ru(r.key,r.data,di.none());{const i=r.data,a=wn.empty();let o=new qe(en.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Cr(r.key,a,new jn(o.toArray()),di.none())}}function Vx(r,t,i){r instanceof ru?(function(o,c,d){const g=o.value.clone(),y=j0(o.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof Cr?(function(o,c,d){if(!Qc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const g=j0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(OE(o)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ko(r,t,i,a){return r instanceof ru?(function(c,d,g,y){if(!Qc(c.precondition,d))return g;const _=c.value.clone(),A=U0(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Cr?(function(c,d,g,y){if(!Qc(c.precondition,d))return g;const _=U0(c.fieldTransforms,y,d),A=d.data;return A.setAll(OE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,g){return Qc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function kx(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=RE(a.transform,o||null);c!=null&&(i===null&&(i=wn.empty()),i.set(a.field,c))}return i||null}function k0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&_l(a,o,((c,d)=>Mx(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ru extends Ih{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Cr extends Ih{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function j0(r,t,i){const a=new Map;Wt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,g=t.data.field(c.field);a.set(c.field,Dx(d,g,i[o]))}return a}function U0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Ix(c,d,t))}return a}class Xm extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jx extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ux{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Vx(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ko(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ko(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=xE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(o.key)?null:g;const y=ME(d,g);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(Ct.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&_l(this.mutations,t.mutations,((i,a)=>k0(i,a)))&&_l(this.baseMutations,t.baseMutations,((i,a)=>k0(i,a)))}}class $m{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Wt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return wx})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new $m(t,i,a,o)}}class Lx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Px{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,Qt;function zx(r){switch(r){case Z.OK:return Tt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return Tt(15467,{code:r})}}function VE(r){if(r===void 0)return vs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ue.OK:return Z.OK;case Ue.CANCELLED:return Z.CANCELLED;case Ue.UNKNOWN:return Z.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return Z.INTERNAL;case Ue.UNAVAILABLE:return Z.UNAVAILABLE;case Ue.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ue.NOT_FOUND:return Z.NOT_FOUND;case Ue.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ue.ABORTED:return Z.ABORTED;case Ue.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ue.DATA_LOSS:return Z.DATA_LOSS;default:return Tt(39323,{code:r})}}(Qt=Ue||(Ue={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function Bx(){return new TextEncoder}const qx=new pr([4294967295,4294967295],0);function L0(r){const t=Bx().encode(r),i=new Xv;return i.update(t),new Uint8Array(i.digest())}function P0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new pr([i,a],0),new pr([o,c],0)]}class Jm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Bo(`Invalid padding: ${i}`);if(a<0)throw new Bo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Bo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Bo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=pr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(pr.fromNumber(a)));return o.compare(qx)===1&&(o=new pr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=L0(t),[a,o]=P0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Jm(c,o,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=L0(t),[a,o]=P0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Bo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,au.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Dh(Ct.min(),o,new ve(Ht),Es(),Ft())}}class au{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new au(a,i,Ft(),Ft(),Ft())}}class Kc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class kE{constructor(t,i){this.targetId=t,this.Ce=i}}class jE{constructor(t,i,a=nn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class z0{constructor(){this.ve=0,this.Fe=B0(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),i=Ft(),a=Ft();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:Tt(38017,{changeType:c})}})),new au(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=B0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Hx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.Je=Lc(),this.He=Lc(),this.Ye=new ve(Ht)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:Tt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gm(c))if(a===0){const d=new _t(c.path);this.et(i,d,un.newNoDocument(d,Ct.min()))}else Wt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,g;try{d=Tr(a).toUint8Array()}catch(y){if(y instanceof lE)return yl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new Jm(d,o,c)}catch(y){return yl(y instanceof Bo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&gm(g.target)){const y=new _t(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,un.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ft();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Dh(t,i,this.Ye,this.je,a);return this.je=Es(),this.Je=Lc(),this.He=Lc(),this.Ye=new ve(Ht),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new z0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new qe(Ht),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new qe(Ht),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||ot("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new z0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Lc(){return new ve(_t.comparator)}function B0(){return new ve(_t.comparator)}const Fx={asc:"ASCENDING",desc:"DESCENDING"},Gx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Qx={and:"AND",or:"OR"};class Kx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function oh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function UE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Yx(r,t){return oh(r,t.toTimestamp())}function Bi(r){return Wt(!!r,49232),Ct.fromTimestamp((function(i){const a=Er(i);return new me(a.seconds,a.nanos)})(r))}function Zm(r,t){return vm(r,t).canonicalString()}function vm(r,t){const i=(function(o){return new de(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function LE(r){const t=de.fromString(r);return Wt(HE(t),10190,{key:t.toString()}),t}function Em(r,t){return Zm(r.databaseId,t.path)}function Wd(r,t){const i=LE(t);if(i.get(1)!==r.databaseId.projectId)throw new dt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new dt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new _t(zE(i))}function PE(r,t){return Zm(r.databaseId,t)}function Xx(r){const t=LE(r);return t.length===4?de.emptyPath():zE(t)}function Tm(r){return new de(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return Wt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function q0(r,t,i){return{name:Em(r,t),fields:i.value.mapValue.fields}}function $x(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:Tt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Wt(A===void 0||typeof A=="string",58123),nn.fromBase64String(A||"")):(Wt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),nn.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const A=_.code===void 0?Z.UNKNOWN:VE(_.code);return new dt(A,_.message||"")})(d);i=new jE(a,o,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(r,a.document.name),c=Bi(a.document.updateTime),d=a.document.createTime?Bi(a.document.createTime):Ct.min(),g=new wn({mapValue:{fields:a.document.fields}}),y=un.newFoundDocument(o,c,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Kc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Wd(r,a.document),c=a.readTime?Bi(a.readTime):Ct.min(),d=un.newNoDocument(o,c),g=a.removedTargetIds||[];i=new Kc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Wd(r,a.document),c=a.removedTargetIds||[];i=new Kc([],c,o,null)}else{if(!("filter"in t))return Tt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Px(o,c),g=a.targetId;i=new kE(g,d)}}return i}function Jx(r,t){let i;if(t instanceof ru)i={update:q0(r,t.key,t.value)};else if(t instanceof Xm)i={delete:Em(r,t.key)};else if(t instanceof Cr)i={update:q0(r,t.key,t.data),updateMask:aw(t.fieldMask)};else{if(!(t instanceof jx))return Tt(16599,{Vt:t.type});i={verify:Em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Tl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof bl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof tu)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw Tt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Yx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:Tt(27497)})(r,t.precondition)),i}function Zx(r,t){return r&&r.length>0?(Wt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Bi(o.updateTime):Bi(c);return d.isEqual(Ct.min())&&(d=Bi(c)),new Ox(d,o.transformResults||[])})(i,t)))):[]}function Wx(r,t){return{documents:[PE(r,t.path)]}}function tw(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=PE(r,o);const c=(function(_){if(_.length!==0)return qE(Ki.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:ol(O.field),direction:iw(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=_m(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function ew(r){let t=Xx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Wt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=BE(S);return O instanceof Ki&&yE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(tt){return new ah(ul(tt.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let O;return O=typeof S=="object"?S.value:S,Ah(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(S){const O=!!S.before,G=S.values||[];return new rh(G,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const O=!S.before,G=S.values||[];return new rh(G,O)})(i.endAt)),Ex(t,o,d,c,g,"F",y,_)}function nw(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Tt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function BE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ul(i.unaryFilter.field);return Be.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=ul(i.unaryFilter.field);return Be.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=ul(i.unaryFilter.field);return Be.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ul(i.unaryFilter.field);return Be.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Tt(61313);default:return Tt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Be.create(ul(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Tt(58110);default:return Tt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Ki.create(i.compositeFilter.filters.map((a=>BE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Tt(1026)}})(i.compositeFilter.op))})(r):Tt(30097,{filter:r})}function iw(r){return Fx[r]}function sw(r){return Gx[r]}function rw(r){return Qx[r]}function ol(r){return{fieldPath:r.canonicalString()}}function ul(r){return en.fromServerFormat(r.fieldPath)}function qE(r){return r instanceof Be?(function(i){if(i.op==="=="){if(N0(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NAN"}};if(R0(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(N0(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NOT_NAN"}};if(R0(i.value))return{unaryFilter:{field:ol(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ol(i.field),op:sw(i.op),value:i.value}}})(r):r instanceof Ki?(function(i){const a=i.getFilters().map((o=>qE(o)));return a.length===1?a[0]:{compositeFilter:{op:rw(i.op),filters:a}}})(r):Tt(54877,{filter:r})}function aw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class hr{constructor(t,i,a,o,c=Ct.min(),d=Ct.min(),g=nn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new hr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new hr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class lw{constructor(t){this.yt=t}}function ow(r){const t=ew({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(t,t.limit,"L"):t}class uw{constructor(){this.Cn=new cw}addToCollectionParentIndex(t,i){return this.Cn.add(i),J.resolve()}getCollectionParents(t,i){return J.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return J.resolve()}deleteFieldIndex(t,i){return J.resolve()}deleteAllFieldIndexes(t){return J.resolve()}createTargetIndexes(t,i){return J.resolve()}getDocumentsMatchingTarget(t,i){return J.resolve(null)}getIndexType(t,i){return J.resolve(0)}getFieldIndexes(t,i){return J.resolve([])}getNextCollectionGroupToUpdate(t){return J.resolve(null)}getMinOffset(t,i){return J.resolve(vr.min())}getMinOffsetFromCollectionGroup(t,i){return J.resolve(vr.min())}updateCollectionGroup(t,i,a){return J.resolve()}updateIndexEntries(t,i){return J.resolve()}}class cw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new qe(de.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new qe(de.comparator)).toArray()}}const H0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class Sn{static withCacheSize(t){return new Sn(t,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Sn.DEFAULT_COLLECTION_PERCENTILE=10,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Sn.DEFAULT=new Sn(FE,Sn.DEFAULT_COLLECTION_PERCENTILE,Sn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Sn.DISABLED=new Sn(-1,0,0);class Al{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Al(0)}static cr(){return new Al(-1)}}const F0="LruGarbageCollector",hw=1048576;function G0([r,t],[i,a]){const o=Ht(r,i);return o===0?Ht(t,a):o}class fw{constructor(t){this.Ir=t,this.buffer=new qe(G0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();G0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class dw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){ot(F0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Nl(i)?ot(F0,"Ignoring IndexedDB error during garbage collection: ",i):await Rl(i)}await this.Vr(3e5)}))}}class mw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return J.resolve(bh.ce);const a=new fw(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(ot("LruGarbageCollector","Garbage collection skipped; disabled"),J.resolve(H0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(ot("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),H0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,g,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(ot("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),al()<=qt.DEBUG&&ot("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),J.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function pw(r,t){return new mw(r,t)}class gw{constructor(){this.changes=new pa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?J.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class yw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class _w{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Ko(a.mutation,o,jn.empty(),me.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ft()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ft()){const o=la();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=zo();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=la();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ft())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,o){let c=Es();const d=Qo(),g=(function(){return Qo()})();return i.forEach(((y,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Cr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Ko(A.mutation,_,A.mutation.getFieldMask(),me.now())):d.set(_.key,jn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>g.set(_,new yw(A,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Qo();let o=new ve(((d,g)=>d-g)),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||jn.empty();A=g.applyToLocalView(_,A),a.set(y,A);const S=(o.get(g.batchId)||Ft()).add(y);o=o.insert(g.batchId,S)}))})).next((()=>{const d=[],g=o.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,A=y.value,S=xE();A.forEach((O=>{if(!c.has(O)){const G=ME(i.get(O),a.get(O));G!==null&&S.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return J.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return _t.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Tx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):J.resolve(la());let g=$o,y=c;return d.next((_=>J.forEach(_,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?J.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{y=y.insert(A,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ft()))).next((A=>({batchId:g,changes:SE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new _t(i)).next((a=>{let o=zo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=zo();return this.indexManager.getCollectionParents(t,c).next((g=>J.forEach(g,(y=>{const _=(function(S,O){return new xh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,un.newInvalidDocument(A)))}));let g=zo();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Ko(A.mutation,_,jn.empty(),me.now()),Rh(i,_)&&(g=g.insert(y,_))})),g}))}}class vw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return J.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Bi(o.createTime)}})(i)),J.resolve()}getNamedQuery(t,i){return J.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:ow(o.bundledQuery),readTime:Bi(o.readTime)}})(i)),J.resolve()}}class Ew{constructor(){this.overlays=new ve(_t.comparator),this.qr=new Map}getOverlay(t,i){return J.resolve(this.overlays.get(i))}getOverlays(t,i){const a=la();return J.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),J.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),J.resolve()}getOverlaysForCollection(t,i,a){const o=la(),c=i.length+1,d=new _t(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return J.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ve(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=la(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=la(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>g.set(_,A))),!(g.size()>=o)););return J.resolve(g)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Lx(i,a));let c=this.qr.get(i);c===void 0&&(c=Ft(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Tw{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return J.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,J.resolve()}}class Wm{constructor(){this.Qr=new qe(Ye.$r),this.Ur=new qe(Ye.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ye(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ye(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new _t(new de([])),a=new Ye(i,t),o=new Ye(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new _t(new de([])),a=new Ye(i,t),o=new Ye(i,t+1);let c=Ft();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ye(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ye{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return _t.comparator(t.key,i.key)||Ht(t.Yr,i.Yr)}static Kr(t,i){return Ht(t.Yr,i.Yr)||_t.comparator(t.key,i.key)}}class bw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new qe(Ye.$r)}checkEmpty(t){return J.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Ux(c,i,a,o);this.mutationQueue.push(d);for(const g of o)this.Zr=this.Zr.add(new Ye(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return J.resolve(d)}lookupMutationBatch(t,i){return J.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return J.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return J.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(t){return J.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ye(i,0),o=new Ye(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const g=this.Xr(d.Yr);c.push(g)})),J.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new qe(Ht);return i.forEach((o=>{const c=new Ye(o,0),d=new Ye(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),J.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;_t.isDocumentKey(c)||(c=c.child(""));const d=new Ye(new _t(c),0);let g=new qe(Ht);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(g=g.add(y.Yr)),!0)}),d),J.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Wt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return J.forEach(i.mutations,(o=>{const c=new Ye(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ye(i,0),o=this.Zr.firstAfterOrEqual(a);return J.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,J.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Aw{constructor(t){this.ri=t,this.docs=(function(){return new ve(_t.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return J.resolve(a?a.document.mutableCopy():un.newInvalidDocument(i))}getEntries(t,i){let a=Es();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():un.newInvalidDocument(o))})),J.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=Es();const d=i.path,g=new _t(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ZS(JS(A),a)<=0||(o.has(A.key)||Rh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return J.resolve(c)}getAllFromCollectionGroup(t,i,a,o){Tt(9500)}ii(t,i){return J.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Sw(this)}getSize(t){return J.resolve(this.size)}}class Sw extends gw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),J.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class xw{constructor(t){this.persistence=t,this.si=new pa((i=>Gm(i)),Qm),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=Al.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),J.resolve()}getLastRemoteSnapshotVersion(t){return J.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return J.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),J.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),J.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new Al(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,J.resolve()}updateTargetData(t,i){return this.Pr(i),J.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,J.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),o++)})),J.waitFor(c).next((()=>o))}getTargetCount(t){return J.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return J.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),J.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),J.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),J.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return J.resolve(a)}containsKey(t,i){return J.resolve(this._i.containsKey(i))}}class GE{constructor(t,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new Tw,this.referenceDelegate=t(this),this.Pi=new xw(this),this.indexManager=new uw,this.remoteDocumentCache=(function(o){return new Aw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new lw(i),this.Ii=new vw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Ew,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new bw(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){ot("MemoryPersistence","Starting transaction:",t);const o=new ww(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return J.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class ww extends tx{constructor(t){super(),this.currentSequenceNumber=t}}class tp{constructor(t){this.persistence=t,this.Ri=new Wm,this.Vi=null}static mi(t){return new tp(t)}get fi(){if(this.Vi)return this.Vi;throw Tt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),J.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),J.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),J.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return J.forEach(this.fi,(a=>{const o=_t.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,Ct.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return J.or([()=>J.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class uh{constructor(t,i){this.persistence=t,this.pi=new pa((a=>ix(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=pw(this,i)}static mi(t,i){return new uh(t,i)}Ei(){}di(t){return J.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return J.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?J.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Ct.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),J.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),J.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Fc(t.data.value)),i}br(t,i,a){return J.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return J.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ep{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ft(),o=Ft();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ep(t,i.fromCache,a,o)}}class Cw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Rw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return TA()?8:ex(cn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Cw;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(al()<=qt.DEBUG&&ot("QueryEngine","SDK will not create cache indexes for query:",ll(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),J.resolve()):(al()<=qt.DEBUG&&ot("QueryEngine","Query:",ll(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(al()<=qt.DEBUG&&ot("QueryEngine","The SDK decides to create cache indexes for query:",ll(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,zi(i))):J.resolve())}ys(t,i){if(O0(i))return J.resolve(null);let a=zi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ym(i,null,"F"),a=zi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ft(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,ym(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return O0(i)||o.isEqual(Ct.min())?J.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?J.resolve(null):(al()<=qt.DEBUG&&ot("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),ll(i)),this.vs(t,d,i,$S(o,$o)).next((g=>g)))}))}Ds(t,i){let a=new qe(bE(t));return i.forEach(((o,c)=>{Rh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return al()<=qt.DEBUG&&ot("QueryEngine","Using full collection scan to execute query:",ll(i)),this.ps.getDocumentsMatchingQuery(t,i,vr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const np="LocalStore",Nw=3e8;class Iw{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ve(Ht),this.xs=new pa((c=>Gm(c)),Qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _w(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Dw(r,t,i,a){return new Iw(r,t,i,a)}async function QE(r,t){const i=It(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let y=Ft();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){g.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function Mw(r,t){const i=It(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,A){const S=_.batch,O=S.keys();let G=J.resolve();return O.forEach((tt=>{G=G.next((()=>A.getEntry(y,tt))).next((et=>{const Q=_.docVersions.get(tt);Wt(Q!==null,48541),et.version.compareTo(Q)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),A.addEntry(et)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let y=Ft();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function KE(r){const t=It(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Ow(r,t){const i=It(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const O=o.get(S);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(nn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),o=o.insert(S,G),(function(et,Q,ct){return et.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=Nw?!0:ct.addedDocuments.size+ct.modifiedDocuments.size+ct.removedDocuments.size>0})(O,G,A)&&g.push(i.Pi.updateTargetData(c,G))}));let y=Es(),_=Ft();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(Vw(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(Ct.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return J.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function Vw(r,t,i){let a=Ft(),o=Ft();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Es();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(g)),y.isNoDocument()&&y.version.isEqual(Ct.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):ot(np,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function kw(r,t){const i=It(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function jw(r,t){const i=It(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,J.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new hr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function bm(r,t,i){const a=It(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!Nl(d))throw d;ot(np,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Q0(r,t,i){const a=It(r);let o=Ct.min(),c=Ft();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=It(y),O=S.xs.get(A);return O!==void 0?J.resolve(S.Ms.get(O)):S.Pi.getTargetData(_,A)})(a,d,zi(t)).next((g=>{if(g)return o=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:Ct.min(),i?c:Ft()))).next((g=>(Uw(a,Ax(t),g),{documents:g,Qs:c})))))}function Uw(r,t,i){let a=r.Os.get(t)||Ct.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class K0{constructor(){this.activeTargetIds=Nx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Lw{constructor(){this.Mo=new K0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new K0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Pw{Oo(t){}shutdown(){}}const Y0="ConnectivityMonitor";class X0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ot(Y0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){ot(Y0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Pc=null;function Am(){return Pc===null?Pc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Pc++,"0x"+Pc.toString(16)}const tm="RestConnection",zw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Bw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=Am(),g=this.zo(t,i.toUriEncodedString());ot(tm,`Sending RPC '${t}' ${d}:`,g,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(g),A=xl(_);return this.Jo(t,g,y,a,A).then((S=>(ot(tm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw yl(tm,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Cl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=zw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class qw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const ln="WebChannelConnection";class Hw extends Bw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=Am();return new Promise(((g,y)=>{const _=new $v;_.setWithCredentials(!0),_.listenOnce(Jv.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Hc.NO_ERROR:const S=_.getResponseJson();ot(ln,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Hc.TIMEOUT:ot(ln,`RPC '${t}' ${d} timed out`),y(new dt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Hc.HTTP_ERROR:const O=_.getStatus();if(ot(ln,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const et=(function(ct){const mt=ct.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(mt)>=0?mt:Z.UNKNOWN})(tt.status);y(new dt(et,tt.message))}else y(new dt(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new dt(Z.UNAVAILABLE,"Connection failed."));break;default:Tt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{ot(ln,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);ot(ln,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=tE(),g=Wv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");ot(ln,`Creating RPC '${t}' stream ${o}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let O=!1,G=!1;const tt=new qw({Yo:Q=>{G?ot(ln,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(O||(ot(ln,`Opening RPC '${t}' stream ${o} transport.`),S.open(),O=!0),ot(ln,`RPC '${t}' stream ${o} sending:`,Q),S.send(Q))},Zo:()=>S.close()}),et=(Q,ct,mt)=>{Q.listen(ct,(lt=>{try{mt(lt)}catch(bt){setTimeout((()=>{throw bt}),0)}}))};return et(S,Po.EventType.OPEN,(()=>{G||(ot(ln,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),et(S,Po.EventType.CLOSE,(()=>{G||(G=!0,ot(ln,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(S))})),et(S,Po.EventType.ERROR,(Q=>{G||(G=!0,yl(ln,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),tt.a_(new dt(Z.UNAVAILABLE,"The operation could not be completed")))})),et(S,Po.EventType.MESSAGE,(Q=>{if(!G){const ct=Q.data[0];Wt(!!ct,16349);const mt=ct,lt=mt?.error||mt[0]?.error;if(lt){ot(ln,`RPC '${t}' stream ${o} received error:`,lt);const bt=lt.status;let kt=(function(w){const C=Ue[w];if(C!==void 0)return VE(C)})(bt),vt=lt.message;kt===void 0&&(kt=Z.INTERNAL,vt="Unknown error status: "+bt+" with message "+lt.message),G=!0,tt.a_(new dt(kt,vt)),S.close()}else ot(ln,`RPC '${t}' stream ${o} received:`,ct),tt.u_(ct)}})),et(g,Zv.STAT_EVENT,(Q=>{Q.stat===hm.PROXY?ot(ln,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===hm.NOPROXY&&ot(ln,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function em(){return typeof document<"u"?document:null}function Mh(r){return new Kx(r,!0)}class YE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&ot("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const $0="PersistentStream";class XE{constructor(t,i,a,o,c,d,g,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new dt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return ot($0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(ot($0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Fw extends XE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=$x(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Ct.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ct.min():d.readTime?Bi(d.readTime):Ct.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=gm(y)?{documents:Wx(c,y)}:{query:tw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=UE(c,d.resumeToken);const _=_m(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(Ct.min())>0){g.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=_m(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const a=nw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Tm(this.serializer),i.removeTarget=t,this.q_(i)}}class Gw extends XE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Zx(t.writeResults,t.commitTime),a=Bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Jx(this.serializer,a)))};this.q_(i)}}class Qw{}class Kw extends Qw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new dt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,vm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new dt(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,vm(i,a),o,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new dt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Yw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):ot("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ha="RemoteStore";class Xw{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ga(this)&&(ot(ha,"Restarting streams for network reachability change."),await(async function(y){const _=It(y);_.Ea.add(4),await lu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Ra=new Yw(a,o)}}async function Oh(r){if(ga(r))for(const t of r.da)await t(!0)}async function lu(r){for(const t of r.da)await t(!1)}function $E(r,t){const i=It(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ap(i)?rp(i):Il(i).O_()&&sp(i,t))}function ip(r,t){const i=It(r),a=Il(i);i.Ia.delete(t),a.O_()&&JE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ga(i)&&i.Ra.set("Unknown"))}function sp(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Il(r).Y_(t)}function JE(r,t){r.Va.Ue(t),Il(r).Z_(t)}function rp(r){r.Va=new Hx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),Il(r).start(),r.Ra.ua()}function ap(r){return ga(r)&&!Il(r).x_()&&r.Ia.size>0}function ga(r){return It(r).Ea.size===0}function ZE(r){r.Va=void 0}async function $w(r){r.Ra.set("Online")}async function Jw(r){r.Ia.forEach(((t,i)=>{sp(r,t)}))}async function Zw(r,t){ZE(r),ap(r)?(r.Ra.ha(t),rp(r)):r.Ra.set("Unknown")}async function Ww(r,t,i){if(r.Ra.set("Online"),t instanceof jE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const g of c.targetIds)o.Ia.has(g)&&(await o.remoteSyncer.rejectListen(g,d),o.Ia.delete(g),o.Va.removeTarget(g))})(r,t)}catch(a){ot(ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ch(r,a)}else if(t instanceof Kc?r.Va.Ze(t):t instanceof kE?r.Va.st(t):r.Va.tt(t),!i.isEqual(Ct.min()))try{const a=await KE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(nn.EMPTY_BYTE_STRING,A.snapshotVersion)),JE(c,y);const S=new hr(A.target,y,_,A.sequenceNumber);sp(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){ot(ha,"Failed to raise snapshot:",a),await ch(r,a)}}async function ch(r,t,i){if(!Nl(t))throw t;r.Ea.add(1),await lu(r),r.Ra.set("Offline"),i||(i=()=>KE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ot(ha,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Oh(r)}))}function WE(r,t){return t().catch((i=>ch(r,i,t)))}async function Vh(r){const t=It(r),i=Ar(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;t2(t);)try{const o=await kw(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,e2(t,o)}catch(o){await ch(t,o)}t1(t)&&e1(t)}function t2(r){return ga(r)&&r.Ta.length<10}function e2(r,t){r.Ta.push(t);const i=Ar(r);i.O_()&&i.X_&&i.ea(t.mutations)}function t1(r){return ga(r)&&!Ar(r).x_()&&r.Ta.length>0}function e1(r){Ar(r).start()}async function n2(r){Ar(r).ra()}async function i2(r){const t=Ar(r);for(const i of r.Ta)t.ea(i.mutations)}async function s2(r,t,i){const a=r.Ta.shift(),o=$m.from(a,t,i);await WE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vh(r)}async function r2(r,t){t&&Ar(r).X_&&await(async function(a,o){if((function(d){return zx(d)&&d!==Z.ABORTED})(o.code)){const c=a.Ta.shift();Ar(a).B_(),await WE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Vh(a)}})(r,t),t1(r)&&e1(r)}async function J0(r,t){const i=It(r);i.asyncQueue.verifyOperationInProgress(),ot(ha,"RemoteStore received new credentials");const a=ga(i);i.Ea.add(3),await lu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function a2(r,t){const i=It(r);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await lu(i),i.Ra.set("Unknown"))}function Il(r){return r.ma||(r.ma=(function(i,a,o){const c=It(i);return c.sa(),new Fw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:$w.bind(null,r),t_:Jw.bind(null,r),r_:Zw.bind(null,r),H_:Ww.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ap(r)?rp(r):r.Ra.set("Unknown")):(await r.ma.stop(),ZE(r))}))),r.ma}function Ar(r){return r.fa||(r.fa=(function(i,a,o){const c=It(i);return c.sa(),new Gw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:n2.bind(null,r),r_:r2.bind(null,r),ta:i2.bind(null,r),na:s2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(ot(ha,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class lp{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,g=new lp(t,i,d,o,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new dt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,t){if(vs("AsyncQueue",`${t}: ${r}`),Nl(r))return new dt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class hl{static emptySet(t){return new hl(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||_t.comparator(i.key,a.key):(i,a)=>_t.comparator(i.key,a.key),this.keyedMap=zo(),this.sortedSet=new ve(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof hl)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new hl;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Z0{constructor(){this.ga=new ve(_t.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):Tt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class Sl{constructor(t,i,a,o,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new Sl(t,i,hl.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class l2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class o2{constructor(){this.queries=W0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=It(i),c=o.queries;o.queries=W0(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(a)}))})(this,new dt(Z.ABORTED,"Firestore shutting down"))}}function W0(){return new pa((r=>TE(r)),Ch)}async function n1(r,t){const i=It(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new l2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const g=op(d,`Initialization of query '${ll(t.query)}' failed`);return void t.onError(g)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&up(i)}async function i1(r,t){const i=It(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function u2(r,t){const i=It(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(o)&&(a=!0);d.wa=o}}a&&up(i)}function c2(r,t,i){const a=It(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function up(r){r.Ca.forEach((t=>{t.next()}))}var Sm,tv;(tv=Sm||(Sm={})).Ma="default",tv.Cache="cache";class s1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new Sl(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=Sl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}class r1{constructor(t){this.key=t}}class a1{constructor(t){this.key=t}}class h2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=bE(t),this.tu=new hl(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Z0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,g=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,S)=>{const O=o.get(A),G=Rh(this.query,S)?S:null,tt=!!O&&this.mutatedKeys.has(O.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Q=!1;O&&G?O.data.isEqual(G.data)?tt!==et&&(a.track({type:3,doc:G}),Q=!0):this.su(O,G)||(a.track({type:2,doc:G}),Q=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(g=!0)):!O&&G?(a.track({type:0,doc:G}),Q=!0):O&&!G&&(a.track({type:1,doc:O}),Q=!0,(y||_)&&(g=!0)),Q&&(G?(d=d.add(G),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,tt){const et=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Tt(20277,{Rt:Q})}};return et(G)-et(tt)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const g=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new Sl(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new a1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new r1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ft();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return Sl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class f2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class d2{constructor(t){this.key=t,this.hu=!1}}class m2{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new pa((g=>TE(g)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new ve(_t.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=Al.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function p2(r,t,i=!0){const a=f1(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await l1(a,t,i,!0),o}async function g2(r,t){const i=f1(r);await l1(i,t,!0,!1)}async function l1(r,t,i,a){const o=await jw(r.localStore,zi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await y2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&$E(r.remoteStore,o),g}async function y2(r,t,i,a,o){r.pu=(S,O,G)=>(async function(et,Q,ct,mt){let lt=Q.view.ru(ct);lt.Cs&&(lt=await Q0(et.localStore,Q.query,!1).then((({documents:N})=>Q.view.ru(N,lt))));const bt=mt&&mt.targetChanges.get(Q.targetId),kt=mt&&mt.targetMismatches.get(Q.targetId)!=null,vt=Q.view.applyChanges(lt,et.isPrimaryClient,bt,kt);return nv(et,Q.targetId,vt.au),vt.snapshot})(r,S,O,G);const c=await Q0(r.localStore,t,!0),d=new h2(t,c.Qs),g=d.ru(c.documents),y=au.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(g,r.isPrimaryClient,y);nv(r,i,_.au);const A=new f2(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function _2(r,t,i){const a=It(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await bm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&ip(a.remoteStore,o.targetId),xm(a,o.targetId)})).catch(Rl)):(xm(a,o.targetId),await bm(a.localStore,o.targetId,!0))}async function v2(r,t){const i=It(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ip(i.remoteStore,a.targetId))}async function E2(r,t,i){const a=C2(r);try{const o=await(function(d,g){const y=It(d),_=me.now(),A=g.reduce(((G,tt)=>G.add(tt.key)),Ft());let S,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=Es(),et=Ft();return y.Ns.getEntries(G,A).next((Q=>{tt=Q,tt.forEach(((ct,mt)=>{mt.isValidDocument()||(et=et.add(ct))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,tt))).next((Q=>{S=Q;const ct=[];for(const mt of g){const lt=kx(mt,S.get(mt.key).overlayedDocument);lt!=null&&ct.push(new Cr(mt.key,lt,mE(lt.value.mapValue),di.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,ct,g)})).next((Q=>{O=Q;const ct=Q.applyToLocalDocumentSet(S,et);return y.documentOverlayCache.saveOverlays(G,Q.batchId,ct)}))})).then((()=>({batchId:O.batchId,changes:SE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ve(Ht)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await ou(a,o.changes),await Vh(a.remoteStore)}catch(o){const c=op(o,"Failed to persist write");i.reject(c)}}async function o1(r,t){const i=It(r);try{const a=await Ow(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Wt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Wt(d.hu,14607):o.removedDocuments.size>0&&(Wt(d.hu,42227),d.hu=!1))})),await ou(i,a,t)}catch(a){await Rl(a)}}function ev(r,t,i){const a=It(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&o.push(g.snapshot)})),(function(d,g){const y=It(d);y.onlineState=g;let _=!1;y.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(g)&&(_=!0)})),_&&up(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function T2(r,t,i){const a=It(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ve(_t.comparator);d=d.insert(c,un.newNoDocument(c,Ct.min()));const g=Ft().add(c),y=new Dh(Ct.min(),new Map,new ve(Ht),d,g);await o1(a,y),a.du=a.du.remove(c),a.Au.delete(t),hp(a)}else await bm(a.localStore,t,!1).then((()=>xm(a,t,i))).catch(Rl)}async function b2(r,t){const i=It(r),a=t.batch.batchId;try{const o=await Mw(i.localStore,t);c1(i,a,null),u1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ou(i,o)}catch(o){await Rl(o)}}async function A2(r,t,i){const a=It(r);try{const o=await(function(d,g){const y=It(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,g).next((S=>(Wt(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);c1(a,t,i),u1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await ou(a,o)}catch(o){await Rl(o)}}function u1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function c1(r,t,i){const a=It(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function xm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||h1(r,a)}))}function h1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(ip(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),hp(r))}function nv(r,t,i){for(const a of i)a instanceof r1?(r.Ru.addReference(a.key,t),S2(r,a)):a instanceof a1?(ot(cp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||h1(r,a.key)):Tt(19791,{wu:a})}function S2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(ot(cp,"New document in limbo: "+i),r.Eu.add(a),hp(r))}function hp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new _t(de.fromString(t)),a=r.fu.next();r.Au.set(a,new d2(i)),r.du=r.du.insert(i,a),$E(r.remoteStore,new hr(zi(wh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function ou(r,t,i){const a=It(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=ep.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const A=It(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>J.forEach(_,(O=>J.forEach(O.Es,(G=>A.persistence.referenceDelegate.addReference(S,O.targetId,G))).next((()=>J.forEach(O.ds,(G=>A.persistence.referenceDelegate.removeReference(S,O.targetId,G)))))))))}catch(S){if(!Nl(S))throw S;ot(np,"Failed to update sequence numbers: "+S)}for(const S of _){const O=S.targetId;if(!S.fromCache){const G=A.Ms.get(O),tt=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(O,et)}}})(a.localStore,c))}async function x2(r,t){const i=It(r);if(!i.currentUser.isEqual(t)){ot(cp,"User change. New user:",t.toKey());const a=await QE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new dt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ou(i,a.Ls)}}function w2(r,t){const i=It(r),a=i.Au.get(t);if(a&&a.hu)return Ft().add(a.key);{let o=Ft();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const g=i.Tu.get(d);o=o.unionWith(g.view.nu)}return o}}function f1(r){const t=It(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=o1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=w2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=T2.bind(null,t),t.Pu.H_=u2.bind(null,t.eventManager),t.Pu.yu=c2.bind(null,t.eventManager),t}function C2(r){const t=It(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=b2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=A2.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Dw(this.persistence,new Rw,t.initialUser,this.serializer)}Cu(t){return new GE(tp.mi,this.serializer)}Du(t){return new Lw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class R2 extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Wt(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new dw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Sn.withCacheSize(this.cacheSizeBytes):Sn.DEFAULT;return new GE((a=>uh.mi(a,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>ev(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=x2.bind(null,this.syncEngine),await a2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new o2})()}createDatastore(t){const i=Mh(t.databaseInfo.databaseId),a=(function(c){return new Hw(c)})(t.databaseInfo);return(function(c,d,g,y){return new Kw(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,g){return new Xw(a,o,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>ev(this.syncEngine,i,0)),(function(){return X0.v()?new X0:new Pw})())}createSyncEngine(t,i){return(function(o,c,d,g,y,_,A){const S=new m2(o,c,d,g,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=It(i);ot(ha,"RemoteStore shutting down."),a.Ea.add(5),await lu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class d1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Sr="FirestoreClient";class N2{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=on.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{ot(Sr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(ot(Sr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=op(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function nm(r,t){r.asyncQueue.verifyOperationInProgress(),ot(Sr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await QE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function iv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await I2(r);ot(Sr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>J0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>J0(t.remoteStore,o))),r._onlineComponents=t}async function I2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ot(Sr,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===Z.FAILED_PRECONDITION||o.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;yl("Error using user provided cache. Falling back to memory cache: "+i),await nm(r,new hh)}}else ot(Sr,"Using default OfflineComponentProvider"),await nm(r,new R2(void 0));return r._offlineComponents}async function m1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ot(Sr,"Using user provided OnlineComponentProvider"),await iv(r,r._uninitializedComponentsProvider._online)):(ot(Sr,"Using default OnlineComponentProvider"),await iv(r,new wm))),r._onlineComponents}function D2(r){return m1(r).then((t=>t.syncEngine))}async function Cm(r){const t=await m1(r),i=t.eventManager;return i.onListen=p2.bind(null,t.syncEngine),i.onUnlisten=_2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=g2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=v2.bind(null,t.syncEngine),i}function M2(r,t,i={}){const a=new gr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,y,_){const A=new d1({next:O=>{A.Nu(),d.enqueueAndForget((()=>i1(c,S)));const G=O.docs.has(g);!G&&O.fromCache?_.reject(new dt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&y&&y.source==="server"?_.reject(new dt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),S=new s1(wh(g.path),A,{includeMetadataChanges:!0,qa:!0});return n1(c,S)})(await Cm(r),r.asyncQueue,t,i,a))),a.promise}function p1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const sv=new Map;const g1="firestore.googleapis.com",rv=!0;class av{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new dt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=rv}else this.host=t.host,this.ssl=t.ssl??rv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<hw)throw new dt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}XS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new dt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new dt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new dt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new av({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new dt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new dt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new av(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new PS;switch(a.type){case"firstParty":return new HS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new dt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=sv.get(i);a&&(ot("ComponentProvider","Removing Datastore"),sv.delete(i),a.terminate())})(this),Promise.resolve()}}function O2(r,t,i,a={}){r=fi(r,kh);const o=xl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;o&&(Bv(`https://${g}`),qv("Firestore",!0)),c.host!==g1&&c.host!==g&&yl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:o,emulatorOptions:a};if(!ys(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=on.MOCK_USER;else{_=fA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new dt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new on(S)}r._authCredentials=new zS(new nE(_,A))}}class jh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new jh(this.firestore,t,this._query)}}class Re{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Re(this.firestore,t,this._key)}toJSON(){return{type:Re._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(su(i,Re._jsonSchema))return new Re(t,a||null,new _t(de.fromString(i.referencePath)))}}Re._jsonSchemaVersion="firestore/documentReference/1.0",Re._jsonSchema={type:Le("string",Re._jsonSchemaVersion),referencePath:Le("string")};class yr extends jh{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Re(this.firestore,null,new _t(t))}withConverter(t){return new yr(this.firestore,t,this._path)}}function ms(r,t,...i){if(r=hn(r),iE("collection","path",t),r instanceof kh){const a=de.fromString(t,...i);return E0(a),new yr(r,null,a)}{if(!(r instanceof Re||r instanceof yr))throw new dt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(de.fromString(t,...i));return E0(a),new yr(r.firestore,null,a)}}function ce(r,t,...i){if(r=hn(r),arguments.length===1&&(t=zm.newId()),iE("doc","path",t),r instanceof kh){const a=de.fromString(t,...i);return v0(a),new Re(r,null,new _t(a))}{if(!(r instanceof Re||r instanceof yr))throw new dt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(de.fromString(t,...i));return v0(a),new Re(r.firestore,r instanceof yr?r.converter:null,new _t(a))}}const lv="AsyncQueue";class ov{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&ot(lv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new gr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Nl(t))throw t;ot(lv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",uv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=lp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&Tt(47125,{Pc:uv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function uv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function cv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class fa extends kh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new ov,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new ov(t),this._firestoreClient=void 0,await t}}}function V2(r,t){const i=typeof r=="object"?r:Qv(),a=typeof r=="string"?r:ih,o=Lm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=cA("firestore");c&&O2(o,...c)}return o}function fp(r){if(r._terminated)throw new dt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||k2(r),r._firestoreClient}function k2(r){const t=r._freezeSettings(),i=(function(o,c,d,g){return new ax(o,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,p1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new N2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class $n{constructor(t){this._byteString=t}static fromBase64String(t){try{return new $n(nn.fromBase64String(t))}catch(i){throw new dt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new $n(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:$n._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(su(t,$n._jsonSchema))return $n.fromBase64String(t.bytes)}}$n._jsonSchemaVersion="firestore/bytes/1.0",$n._jsonSchema={type:Le("string",$n._jsonSchemaVersion),bytes:Le("string")};class Uh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new dt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Dl{constructor(t){this._methodName=t}}class qi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new dt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new dt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qi._jsonSchemaVersion}}static fromJSON(t){if(su(t,qi._jsonSchema))return new qi(t.latitude,t.longitude)}}qi._jsonSchemaVersion="firestore/geoPoint/1.0",qi._jsonSchema={type:Le("string",qi._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class Hi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Hi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(su(t,Hi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Hi(t.vectorValues);throw new dt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Hi._jsonSchemaVersion="firestore/vectorValue/1.0",Hi._jsonSchema={type:Le("string",Hi._jsonSchemaVersion),vectorValues:Le("object")};const j2=/^__.*__$/;class U2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Cr(t,this.data,this.fieldMask,i,this.fieldTransforms):new ru(t,this.data,i,this.fieldTransforms)}}class y1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Cr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function _1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Tt(40011,{Ac:r})}}class Lh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_1(this.Ac)&&j2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class L2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(t)}Cc(t,i,a,o=!1){return new Lh({Ac:t,methodName:i,Dc:a,path:en.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function v1(r){const t=r._freezeSettings(),i=Mh(r._databaseId);return new L2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function P2(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);gp("Data must be an object, but it was:",d,a);const g=T1(a,d);let y,_;if(c.merge)y=new jn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=Rm(t,S,i);if(!d.contains(O))throw new dt(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);A1(A,O)||A.push(O)}y=new jn(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new U2(new wn(g),y,_)}class Ph extends Dl{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ph}}function E1(r,t,i){return new Lh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class dp extends Dl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=E1(this,t,!0),a=this.vc.map((c=>Ml(c,i))),o=new Tl(a);return new Ym(t.path,o)}isEqual(t){return t instanceof dp&&ys(this.vc,t.vc)}}class mp extends Dl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=E1(this,t,!0),a=this.vc.map((c=>Ml(c,i))),o=new bl(a);return new Ym(t.path,o)}isEqual(t){return t instanceof mp&&ys(this.vc,t.vc)}}class pp extends Dl{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new tu(t.serializer,CE(t.serializer,this.Fc));return new Ym(t.path,i)}isEqual(t){return t instanceof pp&&this.Fc===t.Fc}}function z2(r,t,i,a){const o=r.Cc(1,t,i);gp("Data must be an object, but it was:",o,a);const c=[],d=wn.empty();wr(a,((y,_)=>{const A=yp(t,y,i);_=hn(_);const S=o.yc(A);if(_ instanceof Ph)c.push(A);else{const O=Ml(_,S);O!=null&&(c.push(A),d.set(A,O))}}));const g=new jn(c);return new y1(d,g,o.fieldTransforms)}function B2(r,t,i,a,o,c){const d=r.Cc(1,t,i),g=[Rm(t,a,i)],y=[o];if(c.length%2!=0)throw new dt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(Rm(t,c[O])),y.push(c[O+1]);const _=[],A=wn.empty();for(let O=g.length-1;O>=0;--O)if(!A1(_,g[O])){const G=g[O];let tt=y[O];tt=hn(tt);const et=d.yc(G);if(tt instanceof Ph)_.push(G);else{const Q=Ml(tt,et);Q!=null&&(_.push(G),A.set(G,Q))}}const S=new jn(_);return new y1(A,S,d.fieldTransforms)}function Ml(r,t){if(b1(r=hn(r)))return gp("Unsupported field value:",t,r),T1(r,t);if(r instanceof Dl)return(function(a,o){if(!_1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const g of a){let y=Ml(g,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=hn(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=me.fromDate(a);return{timestampValue:oh(o.serializer,c)}}if(a instanceof me){const c=new me(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(o.serializer,c)}}if(a instanceof qi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof $n)return{bytesValue:UE(o.serializer,a._byteString)};if(a instanceof Re){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Hi)return(function(d,g){return{mapValue:{fields:{[fE]:{stringValue:dE},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Km(g.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Bm(a)}`)})(r,t)}function T1(r,t){const i={};return aE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):wr(r,((a,o)=>{const c=Ml(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function b1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof me||r instanceof qi||r instanceof $n||r instanceof Re||r instanceof Dl||r instanceof Hi)}function gp(r,t,i){if(!b1(i)||!sE(i)){const a=Bm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Rm(r,t,i){if((t=hn(t))instanceof Uh)return t._internalPath;if(typeof t=="string")return yp(r,t);throw fh("Field path arguments must be of type string or ",r,!1,void 0,i)}const q2=new RegExp("[~\\*/\\[\\]]");function yp(r,t,i){if(t.search(q2)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Uh(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new dt(Z.INVALID_ARGUMENT,g+r+y)}function A1(r,t){return r.some((i=>i.isEqual(t)))}class S1{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Re(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new H2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(x1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class H2 extends S1{data(){return super.data()}}function x1(r,t){return typeof t=="string"?yp(r,t):t instanceof Uh?t._internalPath:t._delegate._internalPath}function F2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new dt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class G2{convertValue(t,i="none"){switch(br(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ce(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Tr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw Tt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return wr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>Ce(a.doubleValue)));return new Hi(i)}convertGeoPoint(t){return new qi(Ce(t.latitude),Ce(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Sh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Jo(t));default:return null}}convertTimestamp(t){const i=Er(t);return new me(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=de.fromString(t);Wt(HE(a),9688,{name:t});const o=new Zo(a.get(1),a.get(3)),c=new _t(a.popFirst(5));return o.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function Q2(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class qo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oa extends S1{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Yc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(x1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=oa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}oa._jsonSchemaVersion="firestore/documentSnapshot/1.0",oa._jsonSchema={type:Le("string",oa._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class Yc extends oa{data(t={}){return super.data(t)}}class fl{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new qo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Yc(this._firestore,this._userDataWriter,a.key,a,new qo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new dt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((g=>{const y=new Yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new qo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Yc(o._firestore,o._userDataWriter,g.doc.key,g.doc,new qo(o._snapshot.mutatedKeys.has(g.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:K2(g.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new dt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=fl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function K2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Tt(61501,{type:r})}}function Xc(r){r=fi(r,Re);const t=fi(r.firestore,fa);return M2(fp(t),r._key).then((i=>C1(t,r,i)))}fl._jsonSchemaVersion="firestore/querySnapshot/1.0",fl._jsonSchema={type:Le("string",fl._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class w1 extends G2{constructor(t){super(),this.firestore=t}convertBytes(t){return new $n(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Re(this.firestore,null,i)}}function ar(r,t,i){r=fi(r,Re);const a=fi(r.firestore,fa),o=Q2(r.converter,t,i);return _p(a,[P2(v1(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,di.none())])}function Ke(r,t,i,...a){r=fi(r,Re);const o=fi(r.firestore,fa),c=v1(o);let d;return d=typeof(t=hn(t))=="string"||t instanceof Uh?B2(c,"updateDoc",r._key,t,i,a):z2(c,"updateDoc",r._key,t),_p(o,[d.toMutation(r._key,di.exists(!0))])}function zc(r){return _p(fi(r.firestore,fa),[new Xm(r._key,di.none())])}function Pi(r,...t){r=hn(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||cv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(cv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,g;if(r instanceof Re)d=fi(r.firestore,fa),g=wh(r._key.path),c={next:y=>{t[a]&&t[a](C1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=fi(r,jh);d=fi(y.firestore,fa),g=y._query;const _=new w1(d);c={next:A=>{t[a]&&t[a](new fl(d,_,y,A))},error:t[a+1],complete:t[a+2]},F2(r._query)}return(function(_,A,S,O){const G=new d1(O),tt=new s1(A,G,S);return _.asyncQueue.enqueueAndForget((async()=>n1(await Cm(_),tt))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>i1(await Cm(_),tt)))}})(fp(d),g,o,c)}function _p(r,t){return(function(a,o){const c=new gr;return a.asyncQueue.enqueueAndForget((async()=>E2(await D2(a),o,c))),c.promise})(fp(r),t)}function C1(r,t,i){const a=i.docs.get(t._key),o=new w1(r);return new oa(r,o,t._key,a,new qo(i.hasPendingWrites,i.fromCache),t.converter)}function Y2(...r){return new dp("arrayUnion",r)}function dh(...r){return new mp("arrayRemove",r)}function gn(r){return new pp("increment",r)}(function(t,i=!0){(function(o){Cl=o})(wl),gl(new ua("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new fa(new BS(a.getProvider("auth-internal")),new FS(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new dt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),mr(p0,g0,t),mr(p0,g0,"esm2020")})();function R1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const X2=R1,N1=new nu("auth","Firebase",R1());const mh=new jm("@firebase/auth");function $2(r,...t){mh.logLevel<=qt.WARN&&mh.warn(`Auth (${wl}): ${r}`,...t)}function $c(r,...t){mh.logLevel<=qt.ERROR&&mh.error(`Auth (${wl}): ${r}`,...t)}function Ts(r,...t){throw vp(r,...t)}function Fi(r,...t){return vp(r,...t)}function I1(r,t,i){const a={...X2(),[t]:i};return new nu("auth","Firebase",a).create(t,{appName:r.name})}function _r(r){return I1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return N1.create(r,...t)}function xt(r,t,...i){if(!r)throw vp(t,...i)}function ps(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function bs(r,t){r||ps(t)}function Nm(){return typeof self<"u"&&self.location?.href||""}function J2(){return hv()==="http:"||hv()==="https:"}function hv(){return typeof self<"u"&&self.location?.protocol||null}function Z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(J2()||_A()||"connection"in navigator)?navigator.onLine:!0}function W2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class uu{constructor(t,i){this.shortDelay=t,this.longDelay=i,bs(i>t,"Short delay should be less than long delay!"),this.isMobile=pA()||vA()}get(){return Z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ep(r,t){bs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class D1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const tC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const eC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],nC=new uu(3e4,6e4);function zh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Ol(r,t,i,a,o={}){return M1(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=iu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return yA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&xl(r.emulatorConfig.host)&&(_.credentials="include"),D1.fetch()(await V1(r,r.config.apiHost,i,g),_)})}async function M1(r,t,i){r._canInitEmulator=!1;const a={...tC,...t};try{const o=new iC(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Bc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw I1(r,A,_);Ts(r,A)}}catch(o){if(o instanceof As)throw o;Ts(r,"network-request-failed",{message:String(o)})}}async function O1(r,t,i,a,o={}){const c=await Ol(r,t,i,a,o);return"mfaPendingCredential"in c&&Ts(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function V1(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Ep(r.config,o):`${r.config.apiScheme}://${o}`;return eC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class iC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Fi(this.auth,"network-request-failed")),nC.get())})}}function Bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Fi(r,t,a);return o.customData._tokenResponse=i,o}async function sC(r,t){return Ol(r,"POST","/v1/accounts:delete",t)}async function ph(r,t){return Ol(r,"POST","/v1/accounts:lookup",t)}function Yo(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function rC(r,t=!1){const i=hn(r),a=await i.getIdToken(t),o=Tp(a);xt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Yo(im(o.auth_time)),issuedAtTime:Yo(im(o.iat)),expirationTime:Yo(im(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(r){return Number(r)*1e3}function Tp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=Uv(i);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o?.toString()),null}}function fv(r){const t=Tp(r);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function eu(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof As&&aC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function aC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Yo(this.lastLoginAt),this.creationTime=Yo(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const t=r.auth,i=await r.getIdToken(),a=await eu(r,ph(t,{idToken:i}));xt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?k1(o.providerUserInfo):[],d=uC(r.providerData,c),g=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=g?y:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function oC(r){const t=hn(r);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function uC(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function k1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function cC(r,t){const i=await M1(r,{},async()=>{const a=iu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await V1(r,o,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:a};return r.emulatorConfig&&xl(r.emulatorConfig.host)&&(y.credentials="include"),D1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function hC(r,t){return Ol(r,"POST","/v2/accounts:revokeToken",zh(r,t))}class dl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):fv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const i=fv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await cC(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new dl;return a&&(xt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(xt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(xt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new dl,this.toJSON())}_performRefresh(){return ps("not implemented")}}function ir(r,t){xt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class hi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new lC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await eu(this,this.stsTokenManager.getToken(this.auth,t));return xt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return rC(this,t)}reload(){return oC(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ci(this.auth.app))return Promise.reject(_r(this.auth));const t=await this.getIdToken();return await eu(this,sC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:G,providerData:tt,stsTokenManager:et}=i;xt(S&&et,t,"internal-error");const Q=dl.fromJSON(this.name,et);xt(typeof S=="string",t,"internal-error"),ir(a,t.name),ir(o,t.name),xt(typeof O=="boolean",t,"internal-error"),xt(typeof G=="boolean",t,"internal-error"),ir(c,t.name),ir(d,t.name),ir(g,t.name),ir(y,t.name),ir(_,t.name),ir(A,t.name);const ct=new hi({uid:S,auth:t,email:o,emailVerified:O,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Q,createdAt:_,lastLoginAt:A});return tt&&Array.isArray(tt)&&(ct.providerData=tt.map(mt=>({...mt}))),y&&(ct._redirectEventId=y),ct}static async _fromIdTokenResponse(t,i,a=!1){const o=new dl;o.updateFromServerResponse(i);const c=new hi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await gh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];xt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?k1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,g=new dl;g.updateFromIdToken(a);const y=new hi({uid:o.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const dv=new Map;function gs(r){bs(r instanceof Function,"Expected a class definition");let t=dv.get(r);return t?(bs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,dv.set(r,t),t)}class j1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}j1.type="NONE";const mv=j1;function Jc(r,t,i){return`firebase:${r}:${t}:${i}`}class ml{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Jc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Jc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ph(this.auth,{idToken:t}).catch(()=>{});return i?hi._fromGetAccountInfoResponse(this.auth,i,t):null}return hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new ml(gs(mv),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||gs(mv);const d=Jc(a,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const O=await ph(t,{idToken:A}).catch(()=>{});if(!O)break;S=await hi._fromGetAccountInfoResponse(t,O,A)}else S=hi._fromJSON(t,A);_!==c&&(g=S),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new ml(c,t,a):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new ml(c,t,a))}}function pv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(z1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(U1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(q1(t))return"Blackberry";if(H1(t))return"Webos";if(L1(t))return"Safari";if((t.includes("chrome/")||P1(t))&&!t.includes("edge/"))return"Chrome";if(B1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function U1(r=cn()){return/firefox\//i.test(r)}function L1(r=cn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function P1(r=cn()){return/crios\//i.test(r)}function z1(r=cn()){return/iemobile/i.test(r)}function B1(r=cn()){return/android/i.test(r)}function q1(r=cn()){return/blackberry/i.test(r)}function H1(r=cn()){return/webos/i.test(r)}function bp(r=cn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function fC(r=cn()){return bp(r)&&!!window.navigator?.standalone}function dC(){return EA()&&document.documentMode===10}function F1(r=cn()){return bp(r)||B1(r)||H1(r)||q1(r)||/windows phone/i.test(r)||z1(r)}function G1(r,t=[]){let i;switch(r){case"Browser":i=pv(cn());break;case"Worker":i=`${pv(cn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${wl}/${a}`}class mC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function pC(r,t={}){return Ol(r,"GET","/v2/passwordPolicy",zh(r,t))}const gC=6;class yC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??gC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class _C{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new gv(this),this.idTokenSubscription=new gv(this),this.beforeStateQueue=new mC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=N1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await ml.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ph(this,{idToken:t}),a=await hi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ci(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=W2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ci(this.app))return Promise.reject(_r(this));const i=t?hn(t):null;return i&&xt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ci(this.app)?Promise.reject(_r(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ci(this.app)?Promise.reject(_r(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await pC(this),i=new yC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new nu("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await hC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gs(t)||this._popupRedirectResolver;xt(i,this,"argument-error"),this.redirectPersistenceManager=await ml.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=G1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ci(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&$2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bh(r){return hn(r)}class gv{constructor(t){this.auth=t,this.observer=null,this.addObserver=RA(i=>this.observer=i)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ap={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function vC(r){Ap=r}function EC(r){return Ap.loadJS(r)}function TC(){return Ap.gapiScript}function bC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function AC(r,t){const i=Lm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ys(c,t??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:t})}function SC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function xC(r,t,i){const a=Bh(r);xt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=Q1(t),{host:d,port:g}=wC(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xt(ys(_,a.config.emulator)&&ys(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,xl(d)?(Bv(`${c}//${d}${y}`),qv("Auth",!0)):CC()}function Q1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wC(r){const t=Q1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:yv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:yv(d)}}}function yv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function CC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class K1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,i){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}async function pl(r,t){return O1(r,"POST","/v1/accounts:signInWithIdp",zh(r,t))}const RC="http://localhost";class da extends K1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new da(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new da(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return pl(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,pl(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,pl(t,i)}buildRequest(){const t={requestUri:RC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=iu(i)}return t}}class Y1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class cu extends Y1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class lr extends cu{constructor(){super("facebook.com")}static credential(t){return da._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return lr.credential(t.oauthAccessToken)}catch{return null}}}lr.FACEBOOK_SIGN_IN_METHOD="facebook.com";lr.PROVIDER_ID="facebook.com";class or extends cu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return da._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return or.credentialFromTaggedObject(t)}static credentialFromError(t){return or.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return or.credential(i,a)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";class ur extends cu{constructor(){super("github.com")}static credential(t){return da._fromParams({providerId:ur.PROVIDER_ID,signInMethod:ur.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ur.credentialFromTaggedObject(t)}static credentialFromError(t){return ur.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ur.credential(t.oauthAccessToken)}catch{return null}}}ur.GITHUB_SIGN_IN_METHOD="github.com";ur.PROVIDER_ID="github.com";class cr extends cu{constructor(){super("twitter.com")}static credential(t,i){return da._fromParams({providerId:cr.PROVIDER_ID,signInMethod:cr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return cr.credentialFromTaggedObject(t)}static credentialFromError(t){return cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return cr.credential(i,a)}catch{return null}}}cr.TWITTER_SIGN_IN_METHOD="twitter.com";cr.PROVIDER_ID="twitter.com";async function NC(r,t){return O1(r,"POST","/v1/accounts:signUp",zh(r,t))}class xr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await hi._fromIdTokenResponse(t,a,o),d=_v(a);return new xr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=_v(a);return new xr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function _v(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function IC(r){if(ci(r.app))return Promise.reject(_r(r));const t=Bh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new xr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await NC(t,{returnSecureToken:!0}),a=await xr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class yh extends As{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new yh(t,i,a,o)}}function X1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,c,t,a):c})}async function DC(r,t,i=!1){const a=await eu(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return xr._forOperation(r,"link",a)}async function MC(r,t,i=!1){const{auth:a}=r;if(ci(a.app))return Promise.reject(_r(a));const o="reauthenticate";try{const c=await eu(r,X1(a,o,t,r),i);xt(c.idToken,a,"internal-error");const d=Tp(c.idToken);xt(d,a,"internal-error");const{sub:g}=d;return xt(r.uid===g,a,"user-mismatch"),xr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function OC(r,t,i=!1){if(ci(r.app))return Promise.reject(_r(r));const a="signIn",o=await X1(r,a,t),c=await xr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function VC(r,t,i,a){return hn(r).onIdTokenChanged(t,i,a)}function kC(r,t,i){return hn(r).beforeAuthStateChanged(t,i)}function jC(r,t,i,a){return hn(r).onAuthStateChanged(t,i,a)}const _h="__sak";class $1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const UC=1e3,LC=10;class J1 extends $1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=F1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);dC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,LC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},UC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}J1.type="LOCAL";const PC=J1;class Z1 extends $1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Z1.type="SESSION";const W1=Z1;function zC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new qh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await zC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function Sp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class BC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=Sp("",20);o.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const O=S;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Gi(){return window}function qC(r){Gi().location.href=r}function tT(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function HC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function FC(){return navigator?.serviceWorker?.controller||null}function GC(){return tT()?self:null}const eT="firebaseLocalStorageDb",QC=1,vh="firebaseLocalStorage",nT="fbase_key";class hu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Hh(r,t){return r.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function KC(){const r=indexedDB.deleteDatabase(eT);return new hu(r).toPromise()}function Dm(){const r=indexedDB.open(eT,QC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(vh,{keyPath:nT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(vh)?t(a):(a.close(),await KC(),t(await Dm()))})})}async function vv(r,t,i){const a=Hh(r,!0).put({[nT]:t,value:i});return new hu(a).toPromise()}async function YC(r,t){const i=Hh(r,!1).get(t),a=await new hu(i).toPromise();return a===void 0?null:a.value}function Ev(r,t){const i=Hh(r,!0).delete(t);return new hu(i).toPromise()}const XC=800,$C=3;class iT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>$C)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return tT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(GC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await HC(),!this.activeServiceWorker)return;this.sender=new BC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||FC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Dm();return await vv(t,_h,"1"),await Ev(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>vv(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>YC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ev(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Hh(o,!1).getAll();return new hu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),XC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}iT.type="LOCAL";const JC=iT;new uu(3e4,6e4);function ZC(r,t){return t?gs(t):(xt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class xp extends K1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return pl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return pl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return pl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function WC(r){return OC(r.auth,new xp(r),r.bypassAuthState)}function tR(r){const{auth:t,user:i}=r;return xt(i,t,"internal-error"),MC(i,new xp(r),r.bypassAuthState)}async function eR(r){const{auth:t,user:i}=r;return xt(i,t,"internal-error"),DC(i,new xp(r),r.bypassAuthState)}class sT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return WC;case"linkViaPopup":case"linkViaRedirect":return eR;case"reauthViaPopup":case"reauthViaRedirect":return tR;default:Ts(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nR=new uu(2e3,1e4);class cl extends sT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,cl.currentPopupAction&&cl.currentPopupAction.cancel(),cl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Sp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Fi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Fi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Fi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,nR.get())};t()}}cl.currentPopupAction=null;const iR="pendingRedirect",Zc=new Map;class sR extends sT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const a=await rR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function rR(r,t){const i=oR(t),a=lR(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function aR(r,t){Zc.set(r._key(),t)}function lR(r){return gs(r._redirectPersistence)}function oR(r){return Jc(iR,r.config.apiKey,r.name)}async function uR(r,t,i=!1){if(ci(r.app))return Promise.reject(_r(r));const a=Bh(r),o=ZC(a,t),d=await new sR(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const cR=600*1e3;class hR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!fR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!rT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Fi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=cR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Tv(t))}saveEventToCache(t){this.cachedEventUids.add(Tv(t)),this.lastProcessedEventTime=Date.now()}}function Tv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function rT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function fR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return rT(r);default:return!1}}async function dR(r,t={}){return Ol(r,"GET","/v1/projects",t)}const mR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pR=/^https?/;async function gR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await dR(r);for(const i of t)try{if(yR(i))return}catch{}Ts(r,"unauthorized-domain")}function yR(r){const t=Nm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!pR.test(i))return!1;if(mR.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const _R=new uu(3e4,6e4);function bv(){const r=Gi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function vR(r){return new Promise((t,i)=>{function a(){bv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{bv(),i(Fi(r,"network-request-failed"))},timeout:_R.get()})}if(Gi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Gi().gapi?.load)a();else{const o=bC("iframefcb");return Gi()[o]=()=>{gapi.load?a():i(Fi(r,"network-request-failed"))},EC(`${TC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function ER(r){return Wc=Wc||vR(r),Wc}const TR=new uu(5e3,15e3),bR="__/auth/iframe",AR="emulator/auth/iframe",SR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wR(r){const t=r.config;xt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Ep(t,AR):`https://${r.config.authDomain}/${bR}`,a={apiKey:t.apiKey,appName:r.name,v:wl},o=xR.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${iu(a).slice(1)}`}async function CR(r){const t=await ER(r),i=Gi().gapi;return xt(i,r,"internal-error"),t.open({where:document.body,url:wR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:SR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Fi(r,"network-request-failed"),g=Gi().setTimeout(()=>{c(d)},TR.get());function y(){Gi().clearTimeout(g),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const RR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},NR=500,IR=600,DR="_blank",MR="http://localhost";class Av{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function OR(r,t,i,a=NR,o=IR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const y={...RR,width:a.toString(),height:o.toString(),top:c,left:d},_=cn().toLowerCase();i&&(g=P1(_)?DR:i),U1(_)&&(t=t||MR,y.scrollbars="yes");const A=Object.entries(y).reduce((O,[G,tt])=>`${O}${G}=${tt},`,"");if(fC(_)&&g!=="_self")return VR(t||"",g),new Av(null);const S=window.open(t||"",g,A);xt(S,r,"popup-blocked");try{S.focus()}catch{}return new Av(S)}function VR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const kR="__/auth/handler",jR="emulator/auth/handler",UR=encodeURIComponent("fac");async function Sv(r,t,i,a,o,c){xt(r.config.authDomain,r,"auth-domain-config-required"),xt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:wl,eventId:o};if(t instanceof Y1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",CA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof cu){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const y=await r._getAppCheckToken(),_=y?`#${UR}=${encodeURIComponent(y)}`:"";return`${LR(r)}?${iu(g).slice(1)}${_}`}function LR({config:r}){return r.emulator?Ep(r,jR):`https://${r.authDomain}/${kR}`}const sm="webStorageSupport";class PR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=W1,this._completeRedirectFn=uR,this._overrideRedirectResult=aR}async _openPopup(t,i,a,o){bs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Sv(t,i,a,Nm(),o);return OR(t,c,Sp())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await Sv(t,i,a,Nm(),o);return qC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await CR(t),a=new hR(t);return i.register("authEvent",o=>(xt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(sm,{type:sm},o=>{const c=o?.[0]?.[sm];c!==void 0&&i(!!c),Ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=gR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return F1()||L1()||bp()}}const zR=PR;var xv="@firebase/auth",wv="1.12.0";class BR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function qR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HR(r){gl(new ua("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;xt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:G1(r)},_=new _C(a,o,c,y);return SC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),gl(new ua("auth-internal",t=>{const i=Bh(t.getProvider("auth").getImmediate());return(a=>new BR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(xv,wv,qR(r)),mr(xv,wv,"esm2020")}const FR=300,GR=zv("authIdTokenMaxAge")||FR;let Cv=null;const QR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>GR)return;const o=i?.token;Cv!==o&&(Cv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function KR(r=Qv()){const t=Lm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=AC(r,{popupRedirectResolver:zR,persistence:[JC,PC,W1]}),a=zv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=QR(c.toString());kC(i,d,()=>d(i.currentUser)),VC(i,g=>d(g))}}const o=Lv("auth");return o&&xC(i,`http://${o}`),i}function YR(){return document.getElementsByTagName("head")?.[0]??document}vC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Fi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",YR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HR("Browser");var XR="firebase",$R="12.7.0";mr(XR,$R,"app");const JR={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"532608246067",appId:"1:532608246067:web:2c6d4838637777085c7c22"},aT=Gv(JR),Bt=V2(aT),pn=KR(aT);const ZR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Rv=r=>{const t=WR(r);return t.charAt(0).toUpperCase()+t.slice(1)},lT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),tN=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var eN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const nN=yt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...g},y)=>yt.createElement("svg",{ref:y,...eN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:lT("lucide",o),...!c&&!tN(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,A])=>yt.createElement(_,A)),...Array.isArray(c)?c:[c]]));const te=(r,t)=>{const i=yt.forwardRef(({className:a,...o},c)=>yt.createElement(nN,{ref:c,iconNode:t,className:lT(`lucide-${ZR(Rv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Rv(r),i};const iN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],sN=te("activity",iN);const rN=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],aN=te("arrow-left",rN);const lN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],oN=te("book-open",lN);const uN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eh=te("calendar",uN);const cN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],oT=te("check",cN);const hN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],fN=te("circle-check-big",hN);const dN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],mN=te("circle-x",dN);const pN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],uT=te("clipboard-list",pN);const gN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Nv=te("dollar-sign",gN);const yN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],_N=te("eye-off",yN);const vN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],EN=te("eye",vN);const TN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],bN=te("heart",TN);const AN=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],SN=te("house",AN);const xN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],wN=te("info",xN);const CN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Mm=te("key",CN);const RN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Om=te("loader-circle",RN);const NN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],IN=te("log-out",NN);const DN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],MN=te("party-popper",DN);const ON=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],VN=te("refresh-cw",ON);const kN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],jN=te("shield-check",kN);const UN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],cT=te("stethoscope",UN);const LN=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],PN=te("toggle-left",LN);const zN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],BN=te("toggle-right",zN);const qN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qc=te("trash-2",qN);const HN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],hT=te("trophy",HN);const FN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rm=te("user-check",FN);const GN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Iv=te("user-plus",GN);const QN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Dv=te("user-x",QN);const KN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Vm=te("users",KN);const YN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mv=te("x",YN),XN=({onLogin:r,error:t})=>{const[i,a]=yt.useState(""),[o,c]=yt.useState(""),[d,g]=yt.useState(!1),[y,_]=yt.useState(!1),A=async S=>{S.preventDefault(),_(!0),await r(i,o),_(!1)};return E.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[E.jsx("div",{className:"absolute inset-0 bg-[#1A3A3E]/40 backdrop-blur-sm"}),E.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:E.jsxs("div",{className:"bg-white/70 backdrop-blur-xl p-10 rounded-3xl shadow-2xl border border-white/40",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h1",{className:"font-serif text-5xl text-[#1A3A3E] mb-2 italic font-bold",children:"Ballet Fit"}),E.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-black",children:"Portal alumnas"})]}),E.jsxs("form",{onSubmit:A,className:"space-y-6",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-500 tracking-widest ml-1",children:"ID o Usuario"}),E.jsx("input",{type:"text",required:!0,placeholder:"Ingresa tu ID",className:"w-full p-4 bg-white/50 border border-white/50 rounded-xl focus:border-[#369EAD] focus:bg-white/80 outline-none font-sans uppercase text-sm transition-all shadow-inner",value:i,onChange:S=>a(S.target.value)})]}),E.jsxs("div",{className:"space-y-1 relative",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-500 tracking-widest ml-1",children:"Contrasea"}),E.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-white/50 border border-white/50 rounded-xl focus:border-[#369EAD] focus:bg-white/80 outline-none font-sans text-sm transition-all shadow-inner",value:o,onChange:S=>c(S.target.value)}),E.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-4 bottom-4 text-gray-400 hover:text-[#369EAD]",children:d?E.jsx(_N,{size:18}):E.jsx(EN,{size:18})})]}),t&&E.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50/80 p-3 rounded-xl border border-red-100",children:t}),E.jsx("button",{type:"submit",disabled:y,className:"w-full bg-[#1A3A3E]/90 hover:bg-[#369EAD] text-white py-5 rounded-xl font-sans uppercase tracking-[0.3em] text-[11px] font-bold transition-all shadow-lg active:scale-95 border border-white/20 backdrop-blur-sm flex justify-center items-center gap-2",children:y?E.jsx(Om,{className:"animate-spin",size:16}):"ENTRAR"})]})]})})]})},xn=({children:r,className:t=""})=>E.jsx("div",{className:`backdrop-blur-md bg-white/30 border border-white/20 shadow-xl rounded-2xl p-6 ${t}`,children:r}),ma=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],Ov=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],fT=(r,t)=>{const i=new Date,a=new Date,[o,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const y=i.getHours()*60+i.getMinutes(),_=o*60+c;y>_+120&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(o,c,0,0),(a-i)/(1e3*60*60)},dT=(r,t)=>{const i=new Date,a=i.getDay(),[o,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),g=o*60+c;return a>r||a===r&&d>=g},mT=(r=null)=>{let t=ma;return r&&(t=ma.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:fT(a.dayIdx,a.time)})).sort((a,o)=>a.diff-o.diff)[0]},wp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase(),_e="balletfitbyjen-6b36a",Vv=[{plan:"4 clases x sem",price:850},{plan:"3 clases x sem",price:720},{plan:"2 clases x sem",price:620},{plan:"1 clase x sem",price:450},{plan:"Clase Suelta",price:150}],sr=({children:r,onClick:t,className:i="",disabled:a})=>E.jsx("button",{onClick:t,disabled:a,className:`px-6 py-3 bg-[#369EAD] text-white rounded-xl font-bold uppercase tracking-widest text-[10px] hover:bg-white hover:text-[#369EAD] transition-all shadow-lg btn-shine disabled:opacity-50 ${i}`,children:r}),$N=({onLogout:r,showNotification:t})=>{const[i,a]=yt.useState([]),[o,c]=yt.useState([]),[d,g]=yt.useState({}),[y,_]=yt.useState([]),[A,S]=yt.useState({}),[O,G]=yt.useState(!1),[tt,et]=yt.useState(!1),[Q,ct]=yt.useState(null),[mt,lt]=yt.useState(null),[bt,kt]=yt.useState(""),[vt,N]=yt.useState(null),[w,C]=yt.useState(""),[V,D]=yt.useState(""),[j,x]=yt.useState(""),[rt,jt]=yt.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:"",registrationDate:new Date().toISOString().split("T")[0]}),[z,W]=yt.useState({id:"",name:"",password:"",role:"teacher"}),[st,pt]=yt.useState(!1),[Dt,I]=yt.useState(null),[X,it]=yt.useState(0),at=wp(),[At,wt]=yt.useState(!1),[Rt,ye]=yt.useState({name:"",type:"Clase Suelta"}),[ee,Jn]=yt.useState(null),[Un,Zn]=yt.useState(1);yt.useEffect(()=>{const B=Pi(ms(Bt,"artifacts",_e,"public","data","alumnas"),sn=>{const fn=sn.docs.map(rn=>({id:rn.id,...rn.data()}));a(fn)}),ht=Pi(ms(Bt,"artifacts",_e,"public","data","maestros"),sn=>{const fn=sn.docs.map(rn=>({id:rn.id,...rn.data()}));c(fn)}),St=Pi(ms(Bt,"artifacts",_e,"public","data","sesiones"),sn=>{const fn={};sn.docs.forEach(rn=>{fn[rn.id]=rn.data()}),g(fn)}),Yt=Pi(ms(Bt,"artifacts",_e,"public","data","asistencias_extras"),sn=>{const fn=sn.docs.map(rn=>({id:rn.id,...rn.data()}));_(fn)}),Kt=Pi(ce(Bt,"artifacts",_e,"public","data","config","metadata"),sn=>{sn.exists()&&S(sn.data())});return()=>{B(),ht(),St(),Yt(),Kt()}},[]);const Ss=B=>{const ht=B.map(Yt=>Yt.id).filter(Yt=>Yt.startsWith("BF-")).map(Yt=>parseInt(Yt.split("-")[1])).filter(Yt=>!isNaN(Yt)),St=ht.length>0?Math.max(...ht):0;return`BF-${String(St+1).padStart(3,"0")}`};yt.useEffect(()=>{if(O){const B=Ss(i);jt(ht=>({...ht,id:B}))}},[O,i]);const Pe=mT(),Rr=i.filter(B=>B.status!=="inactive"),mi=i.filter(B=>B.history?.includes(Pe?.id)&&B.status!=="inactive"),Nr=i.reduce((B,ht)=>B+(ht.monthlyPayment||0),0),xs=y?y.reduce((B,ht)=>B+(ht.totalPaid||0),0):0,Ee=Nr+xs,Ae=async(B,ht)=>{pn.currentUser&&(await ar(ce(Bt,"artifacts",_e,"public","data","sesiones",B),{isClosed:!ht},{merge:!0}),t("Estado actualizado"))},pi=async()=>{if(!(!pn.currentUser||!ee))try{await Ke(ce(Bt,"artifacts",_e,"public","data","alumnas",ee),{credits:gn(parseInt(Un))}),t(`Se agregaron ${Un} crditos`),Jn(null),Zn(1)}catch{t("Error","error")}},Vl=async(B,ht)=>{if(pn.currentUser&&window.confirm("Confirmar asistencia?"))try{const St=ce(Bt,"artifacts",_e,"public","data","alumnas",B),Yt=ce(Bt,"artifacts",_e,"public","data","sesiones",ht),Kt=await Xc(Yt);Kt.exists()&&Kt.data().isCounted||(await Ke(ce(Bt,"artifacts",_e,"public","data","config","metadata"),{totalClassesTaught:gn(1)}),await ar(Yt,{isCounted:!0},{merge:!0})),await Ke(St,{totalAttendance:gn(1),history:dh(ht)}),await Ke(Yt,{booked:gn(-1)}),t("Asistencia confirmada")}catch(St){console.error(St)}},ya=async B=>{if(!Rt.name.trim())return t("Escribe un nombre","error");try{const ht=Rt.name.trim().toUpperCase(),St=ce(Bt,"artifacts",_e,"public","data","asistencias_extras",ht),Yt=await Xc(St);Yt.exists()?await Ke(St,{totalVisits:gn(1),lastSessionId:B,lastDate:new Date().toISOString(),totalPaid:gn(Rt.type==="Clase Suelta"?150:0)}):await ar(St,{name:ht,type:Rt.type,totalVisits:1,totalPaid:Rt.type==="Clase Suelta"?150:0,firstVisit:new Date().toISOString(),lastSessionId:B,status:"prospect"});const Kt=ce(Bt,"artifacts",_e,"public","data","sesiones",B);await ar(Kt,{booked:gn(1)},{merge:!0}),t(Yt.exists()?"Visita recurrente":"Nueva invitada"),wt(!1),ye({name:"",type:"Clase Suelta"})}catch{t("Error","error")}},He=async(B,ht,St)=>{if(!pn.currentUser)return;const Yt=St==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus?"))try{await Ke(ce(Bt,"artifacts",_e,"public","data",B,ht),{status:Yt}),t("Estatus actualizado")}catch(Kt){console.error(Kt)}},Yi=async(B,ht)=>{if(pn.currentUser&&bt.trim())try{await Ke(ce(Bt,"artifacts",_e,"public","data",B,ht),{password:bt.trim()}),t("Contrasea actualizada"),ct(null),lt(null),kt("")}catch(St){console.error(St)}},Ir=async B=>{if(!pn.currentUser)return;B.preventDefault();const ht=rt.id.trim().toUpperCase();if(!ht||!rt.name||!rt.password){t("Completa los campos","error");return}pt(!0);try{const St=ce(Bt,"artifacts",_e,"public","data","alumnas",ht);if((await Xc(St)).exists()){t("ID ya usado","error"),pt(!1);return}const Kt=parseInt(rt.plan.split(" ")[0])||2;await ar(St,{id:ht,name:rt.name.trim().toUpperCase(),password:rt.password,plan:rt.plan,maxCredits:Kt,credits:Kt,history:[],monthlyPayment:0,totalAttendance:0,notes:rt.notes.trim(),registrationDate:rt.registrationDate,status:"active"}),t("Registrada"),G(!1),jt({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(St){console.error(St)}pt(!1)},Dr=async B=>{try{await Ke(ce(Bt,"artifacts",_e,"public","data","alumnas",B),{name:w.trim().toUpperCase(),registrationDate:V,notes:j.trim()}),t("Datos actualizados"),N(null)}catch{t("Error","error")}},gi=async B=>{if(!pn.currentUser)return;B.preventDefault();const ht=z.id.trim().toUpperCase();if(!ht||!z.name||!z.password){t("Completa los campos","error");return}pt(!0);try{await ar(ce(Bt,"artifacts",_e,"public","data","maestros",ht),{...z,id:ht,name:z.name.trim().toUpperCase(),status:"active"}),t("Staff registrado"),et(!1),W({id:"",name:"",password:"",role:"teacher"})}catch(St){console.error(St)}pt(!1)},kl=async()=>{if(!(!pn.currentUser||!Dt))try{await Ke(ce(Bt,"artifacts",_e,"public","data","alumnas",Dt),{monthlyPayment:parseFloat(X)}),t("Pago registrado"),I(null),it(0)}catch(B){console.error(B)}},_a=async(B,ht)=>{if(pn.currentUser&&window.confirm(`Borrar a ${ht}?`))try{await zc(ce(Bt,"artifacts",_e,"public","data","alumnas",B)),t("Eliminada")}catch{t("Error","error")}},va=async(B,ht)=>{if(pn.currentUser&&window.confirm(`Borrar a ${ht}?`))try{await zc(ce(Bt,"artifacts",_e,"public","data","maestros",B)),t("Eliminado")}catch{t("Error","error")}};return E.jsxs("div",{className:"pb-20 relative z-10",children:[E.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs(xn,{className:"lg:col-span-1 !bg-[#1A3A3E]/90 !border-[#C5A059] text-white",children:[E.jsxs("div",{className:"mb-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[E.jsx(uT,{size:20})," Roster"]}),E.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[Pe?.day||"Sin clase"," ",Pe?.time||""]})]}),E.jsxs("button",{onClick:()=>wt(!0),className:"w-full py-3 bg-[#C5A059] text-[#1A3A3E] text-[10px] font-black uppercase tracking-[0.2em] rounded-xl hover:bg-white transition-all flex items-center justify-center gap-2 shadow-lg",children:[E.jsx(Iv,{size:14})," + Invitada Extra"]})]}),E.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[mi.map(B=>E.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl flex justify-between items-center gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-serif italic font-bold text-sm",children:B.name}),E.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:B.id})]})}),E.jsx("button",{onClick:()=>Vl(B.id,Pe.id),className:"p-2 bg-[#369EAD] text-white rounded-full hover:bg-white hover:text-[#369EAD] transition-all",children:E.jsx(oT,{size:18})})]},B.id)),y&&y.filter(B=>B.sessionId===Pe?.id).map(B=>E.jsxs("div",{className:"p-4 bg-[#C5A059]/10 border border-[#C5A059]/30 rounded-xl flex justify-between items-center gap-4 border-l-4 border-l-[#C5A059]",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-serif italic font-bold text-sm text-[#C5A059]",children:B.name}),E.jsx("span",{className:"text-[8px] font-sans uppercase font-black opacity-60",children:B.type})]})}),E.jsx("button",{onClick:async()=>{if(window.confirm("Eliminar?")){await zc(ce(Bt,"artifacts",_e,"public","data","asistencias_extras",B.id));const ht=ce(Bt,"artifacts",_e,"public","data","sesiones",Pe.id);await Ke(ht,{booked:gn(-1)}),t("Eliminada")}},className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:E.jsx(qc,{size:16})})]},B.id)),mi.length===0&&(!y||y.filter(B=>B.sessionId===Pe?.id).length===0)&&E.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay nadie anotado"})]})]}),E.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[E.jsxs(xn,{className:"!bg-[#1A3A3E]/90 !border-[#C5A059] text-white flex items-center gap-6 group",children:[E.jsx("div",{className:"p-4 bg-[#C5A059] rounded-xl text-[#1A3A3E] group-hover:rotate-6 transition-transform",children:E.jsx(Nv,{size:28})}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1 flex justify-between",children:[E.jsxs("span",{children:["Caja ",at]}),E.jsxs("span",{className:"text-[#C5A059] opacity-70",children:["Incluye $",xs," de extras"]})]}),E.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",Ee.toLocaleString()]})]})]}),E.jsxs(xn,{className:"!bg-[#1A3A3E]/90 border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[E.jsx(MN,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),E.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),E.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 px-4",children:"Cada alumna nueva es un paso ms"})]}),E.jsxs(xn,{className:"flex items-center gap-6 !border-[#369EAD] group",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-xl group-hover:scale-110 transition-transform",children:E.jsx(hT,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),E.jsxs("p",{className:"text-3xl font-bold",children:[A?.totalClassesTaught||0," clases dadas"]})]})]}),E.jsxs(xn,{className:"!bg-[#EBF5F6]/50 border-white flex items-center gap-6 md:col-span-2",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] rounded-xl text-white",children:E.jsx(Vm,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),E.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[Rr.length," Alumnas pagando"]})]})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[E.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[E.jsxs(xn,{className:"border-[#C5A059]",children:[E.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[E.jsx(wN,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),E.jsx("div",{className:"space-y-3 font-sans text-[11px]",children:Vv.map((B,ht)=>E.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100/50 pb-2",children:[E.jsx("span",{className:"text-gray-400 uppercase font-bold",children:B.plan}),E.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",B.price]})]},ht))})]}),E.jsxs(xn,{className:"border-[#369EAD]",children:[E.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),E.jsx("div",{className:"space-y-4 font-sans text-xs",children:ma.map(B=>{const ht=d[B.id]?.isClosed||!1;return E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"font-bold opacity-60 uppercase",children:B.day}),E.jsx("button",{onClick:()=>Ae(B.id,ht),children:ht?E.jsx(PN,{size:30,className:"text-red-300"}):E.jsx(BN,{size:30,className:"text-[#369EAD]"})})]},B.id)})})]})]}),E.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[E.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl shadow-xl border border-white/50 overflow-hidden font-sans",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100/50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[E.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[E.jsx(jN,{size:20,className:"text-[#369EAD]"})," Control Maestras"]}),E.jsx(sr,{onClick:()=>et(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50/50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4",children:"Nombre"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),E.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100/50",children:o.map(B=>E.jsxs("tr",{className:`hover:bg-white/50 text-sm ${B.status==="inactive"?"opacity-40":""}`,children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${B.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold font-serif italic",children:B.name}),E.jsxs("div",{className:"text-[9px] uppercase text-gray-400",children:[B.id,"  ",B.role]})]})]})}),E.jsx("td",{className:"px-6 py-4 text-center font-bold text-[#C5A059]",children:B.password}),E.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[E.jsx("button",{onClick:()=>lt(B.id),className:"p-2 text-gray-400 hover:text-[#C5A059]",children:E.jsx(Mm,{size:16})}),E.jsx("button",{onClick:()=>He("maestros",B.id,B.status),className:`p-2 rounded-full ${B.status==="inactive"?"text-green-500":"text-red-400"}`,children:B.status==="inactive"?E.jsx(rm,{size:16}):E.jsx(Dv,{size:16})}),E.jsx("button",{onClick:()=>va(B.id,B.name),className:"p-2 text-red-200 hover:text-red-500",children:E.jsx(qc,{size:16})})]})]},B.id))})]})})]}),E.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl shadow-xl border border-white/50 overflow-hidden font-sans",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100/50 bg-gray-50/30 flex justify-between items-center",children:[E.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control Alumnas"}),E.jsx(sr,{onClick:()=>G(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50/50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-5",children:"Nombre"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Clave"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Asis."}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Pago"}),E.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100/50",children:i.map(B=>{const ht=B.status==="inactive";return E.jsxs("tr",{className:`hover:bg-white/50 transition-all text-sm ${ht?"opacity-40 grayscale-[0.5]":""}`,children:[E.jsx("td",{className:"px-6 py-5",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-[10px] font-black text-[#369EAD] bg-[#EBF5F6]/80 px-2 py-0.5 rounded-sm w-fit mb-1",children:B.id}),vt===B.id?E.jsxs("div",{className:"space-y-2 bg-gray-50/80 p-2 rounded-xl border border-[#369EAD]/30 animate-in fade-in duration-300",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Nombre"}),E.jsx("input",{type:"text",className:"w-full font-bold font-serif italic border-b border-[#369EAD] outline-none bg-transparent text-[#1A3A3E] uppercase",value:w,onChange:St=>C(St.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Fecha Inscripcin"}),E.jsx("input",{type:"date",className:"w-full text-xs font-sans border-b border-gray-300 outline-none bg-transparent text-gray-600",value:V,onChange:St=>D(St.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Notas Mdicas"}),E.jsx("textarea",{className:"w-full text-[10px] border-b border-gray-300 outline-none bg-transparent text-red-400 italic",value:j,onChange:St=>x(St.target.value)})]}),E.jsxs("div",{className:"flex gap-2 pt-1",children:[E.jsx("button",{onClick:()=>Dr(B.id),className:"text-[8px] bg-[#369EAD] text-white px-3 py-1 font-black uppercase tracking-widest rounded-md",children:"Guardar"}),E.jsx("button",{onClick:()=>N(null),className:"text-[8px] bg-gray-200 text-gray-500 px-3 py-1 font-black uppercase tracking-widest rounded-md",children:"Cancelar"})]})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E] text-base",children:B.name}),E.jsxs("div",{className:"text-[9px] text-gray-400 font-sans uppercase tracking-tighter flex items-center gap-1 mt-1",children:[E.jsx(Eh,{size:10})," Inscrita: ",B.registrationDate||"Sin fecha"]}),B.notes&&E.jsxs("div",{className:"text-[10px] text-red-400 italic flex items-center gap-1 mt-1 bg-red-50/50 w-fit px-1 rounded-sm",children:[E.jsx(cT,{size:10})," ",B.notes]})]})]})}),E.jsx("td",{className:"px-6 py-5 text-center font-mono text-xs font-bold text-[#369EAD]",children:B.password}),E.jsxs("td",{className:"px-6 py-5 text-center font-bold",children:[E.jsx("span",{className:B.credits===0?"text-red-400":"text-[#369EAD]",children:B.credits})," / ",B.maxCredits]}),E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold",children:B.totalAttendance||0})}),E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsxs("button",{onClick:()=>{I(B.id),it(B.monthlyPayment||0)},className:`font-bold px-3 py-1 rounded text-xs transition-colors ${B.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",B.monthlyPayment||0]})}),E.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[E.jsx("button",{onClick:()=>{N(B.id),C(B.name),D(B.registrationDate||""),x(B.notes||"")},className:"p-2 text-gray-400 hover:text-[#369EAD]",children:E.jsx(Iv,{size:16})}),E.jsx("button",{onClick:()=>ct(B.id),className:"p-2 text-gray-400 hover:text-[#C5A059]",children:E.jsx(Mm,{size:16})}),E.jsx("button",{onClick:()=>He("alumnas",B.id,B.status),className:`p-2 rounded-full ${ht?"text-green-500":"text-gray-300"}`,children:ht?E.jsx(rm,{size:16}):E.jsx(Dv,{size:16})}),E.jsxs("button",{onClick:()=>{Jn(B.id),Zn(1)},className:"p-2 text-[#369EAD] hover:bg-[#EBF5F6] rounded-full transition-all",title:"Sumar crditos",children:[" ",E.jsx(VN,{size:16})]}),E.jsx("button",{onClick:()=>_a(B.id,B.name),className:"p-2 text-red-200 hover:text-red-500",children:E.jsx(qc,{size:16})})]})]},B.id)})})]})})]}),E.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl shadow-xl border border-white/50 overflow-hidden font-sans mt-12",children:[E.jsxs("div",{className:"p-6 border-b border-[#C5A059]/20 bg-[#C5A059]/5 flex justify-between items-center",children:[E.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[E.jsx(Vm,{size:20,className:"text-[#C5A059]"})," Historial de Invitadas"]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:"Recaudacin Sueltas"}),E.jsxs("p",{className:"text-xl font-bold text-[#C5A059]",children:["$",y?y.reduce((B,ht)=>B+(ht.totalPaid||0),0).toLocaleString():0]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50/50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4",children:"Nombre"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Visitas"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Tipo"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"$$"}),E.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100/50",children:y&&y.length>0?y.map(B=>E.jsxs("tr",{className:"hover:bg-white/50 text-sm",children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E]",children:B.name}),E.jsx("div",{className:"text-[9px] text-gray-400 uppercase",children:B.firstVisit?`Desde: ${new Date(B.firstVisit).toLocaleDateString()}`:"Registro antiguo"})]}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsx("span",{className:"bg-[#1A3A3E] text-white px-2 py-0.5 rounded-full text-xs font-bold",children:B.totalVisits||1})}),E.jsx("td",{className:"px-6 py-4 text-center text-[10px] font-black uppercase",children:B.type}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsxs("span",{className:"text-green-600 font-bold",children:["$",B.totalPaid||0]})}),E.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-2",children:[E.jsx("button",{onClick:()=>{window.confirm(`Convertir a ${B.name}?`)&&(jt({...rt,name:B.name}),G(!0))},className:"p-2 text-[#369EAD] hover:bg-[#EBF5F6] rounded-full transition-all",children:E.jsx(rm,{size:18})}),E.jsx("button",{onClick:async()=>{window.confirm("Borrar historial?")&&(await zc(ce(Bt,"artifacts",_e,"public","data","asistencias_extras",B.id)),t("Borrado"))},className:"p-2 text-red-200 hover:text-red-500 rounded-full transition-all",children:E.jsx(qc,{size:16})})]})]},B.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"text-center py-10 opacity-30 italic text-sm",children:"No hay registro"})})})]})})]})]})]})]}),O&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-md p-10 rounded-3xl shadow-2xl relative border border-white/50",children:[E.jsx("button",{onClick:()=>G(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:E.jsx(Mv,{size:28})}),E.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),E.jsxs("form",{onSubmit:Ir,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none uppercase text-sm font-bold text-[#369EAD]",value:rt.id,onChange:B=>jt({...rt,id:B.target.value}),placeholder:"ID"}),E.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-sm font-bold",value:rt.password,onChange:B=>jt({...rt,password:B.target.value})})]}),E.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none uppercase text-sm font-serif italic font-bold",value:rt.name,onChange:B=>jt({...rt,name:B.target.value})}),E.jsx("select",{className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-sm",value:rt.plan,onChange:B=>jt({...rt,plan:B.target.value}),children:Vv.slice(0,4).map((B,ht)=>E.jsx("option",{value:B.plan,children:B.plan},ht))}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Fecha de Inscripcin"}),E.jsx("input",{type:"date",required:!0,className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-sm font-bold text-[#1A3A3E]",value:rt.registrationDate,onChange:B=>jt({...rt,registrationDate:B.target.value})})]}),E.jsx("textarea",{placeholder:"NOTAS MDICAS",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-xs h-24 italic",value:rt.notes,onChange:B=>jt({...rt,notes:B.target.value})}),E.jsx(sr,{disabled:st,className:"w-full !py-4",children:st?E.jsx(Om,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),tt&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-md p-10 rounded-3xl shadow-2xl relative border border-white/50",children:[E.jsx("button",{onClick:()=>et(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:E.jsx(Mv,{size:28})}),E.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nuevo Staff"}),E.jsxs("form",{onSubmit:gi,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",required:!0,placeholder:"ID",className:"p-4 bg-gray-50/50 rounded-xl outline-none uppercase text-xs font-bold border border-gray-200",value:z.id,onChange:B=>W({...z,id:B.target.value})}),E.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"p-4 bg-gray-50/50 rounded-xl outline-none text-xs font-bold border border-gray-200",value:z.password,onChange:B=>W({...z,password:B.target.value})})]}),E.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50/50 rounded-xl outline-none uppercase text-xs font-serif italic border border-gray-200",value:z.name,onChange:B=>W({...z,name:B.target.value})}),E.jsxs("select",{className:"w-full p-4 bg-gray-50/50 rounded-xl outline-none text-xs border border-gray-200",value:z.role,onChange:B=>W({...z,role:B.target.value}),children:[E.jsx("option",{value:"teacher",children:"Maestra"}),E.jsx("option",{value:"admin",children:"Admin Secundario"})]}),E.jsx(sr,{disabled:st,className:"w-full !py-4",children:st?E.jsx(Om,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),(Q||mt)&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50 text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Nueva Clave"}),E.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:Q||mt}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:bt,onChange:B=>kt(B.target.value)}),E.jsx(sr,{onClick:()=>Yi(Q?"alumnas":"maestros",Q||mt),className:"w-full !py-4",children:"Actualizar"}),E.jsx("button",{onClick:()=>{ct(null),lt(null),kt("")},className:"text-[10px] uppercase font-bold text-gray-400 hover:text-red-400",children:"Cancelar"})]})]})}),Dt&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),E.jsxs("div",{className:"space-y-4 text-center",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Nv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-xl font-bold",value:X,onChange:B=>it(B.target.value)})]}),E.jsx(sr,{onClick:kl,className:"w-full !py-4",children:"Confirmar"}),E.jsx("button",{onClick:()=>I(null),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-red-400",children:"Cancelar"})]})]})}),At&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center text-[#1A3A3E]",children:"Invitada Extra"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Nombre Completo"}),E.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50/50 rounded-xl border border-gray-200 outline-none font-bold uppercase text-sm",value:Rt.name,onChange:B=>ye({...Rt,name:B.target.value}),placeholder:"Ingresa nombre",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Tipo de Ingreso"}),E.jsxs("select",{className:"w-full p-3 bg-gray-50/50 rounded-xl border border-gray-200 outline-none font-bold text-sm",value:Rt.type,onChange:B=>ye({...Rt,type:B.target.value}),children:[E.jsx("option",{value:"Clase Suelta",children:"Clase Suelta ($)"}),E.jsx("option",{value:"Clase de Prueba",children:"Clase de Prueba (Gratis)"})]})]}),E.jsx(sr,{onClick:()=>ya(Pe.id),className:"w-full !py-4",children:"Registrar Asistencia"}),E.jsx("button",{onClick:()=>wt(!1),className:"w-full text-[10px] uppercase font-bold text-gray-400 hover:text-red-400 mt-2",children:"Cancelar"})]})]})}),ee&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2 text-center text-[#1A3A3E]",children:"Ajuste de Crditos"}),E.jsxs("p",{className:"text-[10px] text-center text-gray-400 uppercase font-black mb-6",children:["ID: ",ee]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-center gap-6",children:[E.jsx("button",{onClick:()=>Zn(Math.max(1,Un-1)),className:"w-10 h-10 rounded-full border-2 border-gray-200 flex items-center justify-center text-xl font-bold hover:bg-gray-50",children:" - "}),E.jsx("span",{className:"text-4xl font-sans font-bold text-[#369EAD]",children:Un}),E.jsx("button",{onClick:()=>Zn(Un+1),className:"w-10 h-10 rounded-full border-2 border-gray-200 flex items-center justify-center text-xl font-bold hover:bg-gray-50",children:" + "})]}),E.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Esto sumar los crditos a los que la alumna ya tenga disponibles actualmente."}),E.jsx(sr,{onClick:pi,className:"w-full !py-4",children:"Confirmar y Sumar"}),E.jsx("button",{onClick:()=>Jn(null),className:"w-full text-[10px] uppercase font-bold text-gray-400 hover:text-red-400",children:"Cancelar"})]})]})})]})},pT=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:o=""})=>{const c="px-6 py-3 rounded-xl font-sans font-bold tracking-widest uppercase text-[10px] transition-all transform active:scale-95 flex items-center justify-center gap-2 shadow-lg backdrop-blur-sm",d={primary:"bg-[#369EAD]/90 text-white hover:bg-[#1A3A3E] border border-white/20",secondary:"bg-white/50 border border-[#369EAD] text-[#369EAD] hover:bg-white",disabled:"bg-gray-200/50 text-gray-400 cursor-not-allowed border border-gray-200"};return E.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${o}`,disabled:a,children:r})},Lo="balletfitbyjen-6b36a",JN=({user:r,onLogout:t,showNotification:i,onUpdatePassword:a})=>{const[o,c]=yt.useState([]),[d,g]=yt.useState({}),[y,_]=yt.useState(!1),[A,S]=yt.useState("");yt.useEffect(()=>{const Q=Pi(ms(Bt,"artifacts",Lo,"public","data","alumnas"),mt=>{c(mt.docs.map(lt=>({id:lt.id,...lt.data()})))}),ct=Pi(ms(Bt,"artifacts",Lo,"public","data","sesiones"),mt=>{const lt={};mt.docs.forEach(bt=>lt[bt.id]=bt.data()),g(lt)});return()=>{Q(),ct()}},[]),wp();const O=ma.filter(Q=>Q.teacher.toUpperCase()===r.firstName.toUpperCase()),G=mT(r.firstName),tt=o.filter(Q=>Q.history?.includes(G?.id)&&Q.status!=="inactive"),et=async(Q,ct)=>{if(pn.currentUser&&window.confirm("Confirmar asistencia?"))try{const mt=ce(Bt,"artifacts",Lo,"public","data","alumnas",Q),lt=ce(Bt,"artifacts",Lo,"public","data","sesiones",ct),bt=await Xc(lt);bt.exists()&&bt.data().isCounted||(await Ke(ce(Bt,"artifacts",Lo,"public","data","config","metadata"),{totalClassesTaught:gn(1)}),await ar(lt,{isCounted:!0},{merge:!0})),await Ke(mt,{totalAttendance:gn(1),history:dh(ct)}),await Ke(lt,{booked:gn(-1)}),i("Asistencia marcada")}catch(mt){console.error(mt)}};return E.jsx("div",{className:"pb-20 relative z-10",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[E.jsxs("div",{className:"mb-10 text-center md:text-left",children:[E.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),E.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Tu pasin no solo mueve pesas, mueve vidas enteras."})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[E.jsxs(xn,{className:"border-[#C5A059] flex items-center gap-6",children:[E.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-xl",children:E.jsx(oN,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1",children:"Disciplina"}),E.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),E.jsxs(xn,{className:"!bg-[#EBF5F6]/50 border-[#369EAD] flex items-center gap-6",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-xl",children:E.jsx(hT,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1",children:"Impacto"}),E.jsx("p",{className:"text-3xl font-bold text-[#369EAD]",children:"Enseando"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs(xn,{className:"lg:col-span-1 !bg-[#1A3A3E]/90 !border-[#C5A059] text-white",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[E.jsx(uT,{size:20})," Asistencia"]}),G&&E.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-bold uppercase",children:[G.day," ",G.time]})]}),E.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:tt.length>0?tt.map(Q=>E.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-serif italic font-bold text-sm",children:Q.name}),Q.notes&&E.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[E.jsx(cT,{size:12}),E.jsx("p",{className:"text-[10px] italic",children:Q.notes})]})]}),E.jsx("button",{onClick:()=>et(Q.id,G.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:E.jsx(oT,{size:18})})]},Q.id)):E.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay inscritas"})})]}),E.jsx("div",{className:"lg:col-span-2 space-y-8",children:E.jsxs(xn,{children:[E.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[E.jsx(Eh,{size:20,className:"text-[#369EAD]"})," Horario"]}),E.jsx("div",{className:"grid grid-cols-1 gap-4",children:O.map(Q=>E.jsxs("div",{className:"p-10 bg-gray-50/50 rounded-2xl border-l-8 border-[#369EAD] flex flex-col justify-center",children:[E.jsx("span",{className:"text-xs font-black uppercase text-gray-400",children:Q.day}),E.jsx("p",{className:"text-5xl font-bold text-[#1A3A3E] my-2",children:Q.time}),E.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase",children:Q.type})]},Q.id))})]})})]})]})})},ZN=({user:r,quote:t,sessionsData:i,onBook:a,onCancel:o,onLogout:c,onUpdatePassword:d})=>{const g=ma,y=r.history||[],_=g.filter(Q=>y.includes(Q.id)),A=_.length>0?_[0]:null,S=wp(),[O,G]=yt.useState(!1),[tt,et]=yt.useState("");return E.jsx("div",{className:"pb-20 relative z-10",children:E.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[E.jsxs("div",{className:"mb-10 text-center md:text-left",children:[E.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),E.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[E.jsx(bN,{size:16,fill:"#369EAD"})," ",t]})]}),E.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[E.jsxs(xn,{className:"md:col-span-2 flex flex-col justify-between !border-t border-white/40",children:[E.jsxs("div",{className:"flex justify-between items-start mb-6",children:[E.jsx("div",{children:E.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",S]})}),E.jsx("div",{className:"p-3 rounded-full bg-white/50 text-[#369EAD] shadow-sm",children:E.jsx(sN,{size:24})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-[#EBF5F6]/50 backdrop-blur-sm px-6 py-4 rounded-xl border border-[#369EAD]/10",children:[E.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases de la semana"}),E.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[E.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),E.jsxs("span",{className:"text-gray-400 text-lg",children:["/ ",r.maxCredits]})]})]}),E.jsxs("div",{className:"bg-[#1A3A3E]/90 backdrop-blur-sm px-6 py-4 rounded-xl border border-white/10 text-white shadow-lg",children:[E.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),E.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[E.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),E.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),E.jsxs(xn,{className:"!bg-[#1A3A3E]/90 border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:E.jsx(Eh,{size:120})}),E.jsx(Eh,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),E.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),A?E.jsxs("div",{className:"animate-in fade-in duration-500",children:[E.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:A.day}),E.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:A.time}),E.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",A.teacher]})]}):E.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),E.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),E.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:g.map(Q=>{const ct=y.includes(Q.id),mt=i[Q.id]||{booked:0,isClosed:!1},lt=(mt.booked||0)>=Q.spots,bt=mt.isClosed,kt=dT(Q.dayIdx,Q.time),vt=r.credits>0&&!ct&&!lt&&!bt&&!kt;return E.jsxs(xn,{className:`!p-8 transition-all duration-300 ${ct?"!bg-[#EBF5F6]/80 !border-[#369EAD]/50":bt||kt?"opacity-50 grayscale":"hover:!bg-white/90"}`,children:[E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex justify-between items-start font-sans",children:[E.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:Q.day}),bt?E.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):kt?E.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),E.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:Q.time}),E.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:Q.teacher})]}),E.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-100/50 font-sans",children:[E.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[E.jsx(Vm,{size:12})," ",mt.booked||0,"/",Q.spots]}),ct?kt?E.jsx("span",{className:"text-[9px] text-[#369EAD] font-bold uppercase italic opacity-60",children:"Asistencia registrada"}):E.jsx("button",{onClick:()=>o(Q.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):E.jsx(pT,{onClick:()=>a(Q.id),disabled:!vt,className:"!px-4 !py-2 !text-[9px]",children:bt?"Cerrado":kt?"Pasada":lt?"Lleno":"Reservar"})]})]},Q.id)})})]})})},rr="balletfitbyjen-6b36a",WN="JENNY2024",tI=({user:r,onLogout:t,onGoHome:i,onChangePass:a})=>E.jsx("nav",{className:"fixed top-0 w-full z-50 bg-white/90 backdrop-blur-md border-b border-white/40 shadow-sm h-16 transition-all",children:E.jsxs("div",{className:"max-w-7xl mx-auto px-4 h-full flex justify-between items-center",children:[E.jsxs("button",{onClick:i,className:"flex items-center gap-2 text-[#1A3A3E] hover:text-[#369EAD] transition-colors group",children:[E.jsx("div",{className:"p-2 bg-gray-100 rounded-full group-hover:bg-[#EBF5F6] transition-colors",children:E.jsx(aN,{size:16})}),E.jsx("span",{className:"hidden md:inline text-[10px] font-sans font-bold uppercase tracking-widest",children:"Volver al Sitio"})]}),E.jsxs("div",{className:"font-serif font-bold text-xl text-[#1A3A3E] italic",children:["Ballet Fit ",E.jsx("span",{className:"text-[#369EAD]",children:"System"})]}),E.jsx("div",{className:"flex items-center gap-3",children:r?E.jsxs(E.Fragment,{children:[r.role!=="admin"&&E.jsx("button",{onClick:a,className:"p-2 text-gray-400 hover:text-[#C5A059] hover:bg-[#C5A059]/10 rounded-full transition-all",title:"Cambiar Contrasea",children:E.jsx(Mm,{size:18})}),E.jsxs("div",{className:"hidden md:flex flex-col items-end leading-none mr-2",children:[E.jsx("span",{className:"text-[10px] font-bold text-gray-400 uppercase tracking-widest",children:r.role==="admin"?"Admin":"Hola"}),E.jsx("span",{className:"text-xs font-bold text-[#369EAD] uppercase",children:r.firstName})]}),E.jsx("button",{onClick:t,className:"p-2 text-gray-400 hover:text-red-400 hover:bg-red-50 rounded-full transition-all",title:"Cerrar Sesin",children:E.jsx(IN,{size:18})})]}):E.jsxs("span",{className:"text-[10px] text-gray-400 uppercase font-bold tracking-widest flex items-center gap-1",children:[E.jsx(SN,{size:14})," Portal"]})})]})});function eI(){const[r,t]=yt.useState("login"),[i,a]=yt.useState(null),[o,c]=yt.useState([]),[d,g]=yt.useState([]),[y,_]=yt.useState({}),[A,S]=yt.useState(null),[O,G]=yt.useState(!0),[tt,et]=yt.useState(null),[Q,ct]=yt.useState(""),[mt,lt]=yt.useState(!1),[bt,kt]=yt.useState(""),vt=(x,rt="success")=>{S({msg:x,type:rt}),setTimeout(()=>S(null),4e3)};yt.useEffect(()=>{ct(Ov[Math.floor(Math.random()*Ov.length)]),(async()=>{try{await IC(pn)}catch(rt){console.error("Error Auth:",rt)}jC(pn,rt=>{if(!rt)return;const jt=Pi(ms(Bt,"artifacts",rr,"public","data","alumnas"),st=>c(st.docs.map(pt=>({id:pt.id,...pt.data()})))),z=Pi(ms(Bt,"artifacts",rr,"public","data","maestros"),st=>g(st.docs.map(pt=>({id:pt.id,...pt.data()})))),W=Pi(ms(Bt,"artifacts",rr,"public","data","sesiones"),st=>{const pt={};st.docs.forEach(Dt=>pt[Dt.id]=Dt.data()),_(pt)});return G(!1),()=>{jt(),z(),W()}})})()},[]),yt.useEffect(()=>{if(i&&i.role==="student"){const x=o.find(rt=>rt.id===i.id);x&&a(rt=>({...rt,...x}))}},[o]);const N=()=>{window.toggleSystem?window.toggleSystem(!1):window.location.reload()},w=(x,rt)=>{const jt=x.trim().toUpperCase(),z=rt.trim();if(et(null),jt==="ADMIN-JEN"||jt==="JENNY")if(z===WN){a({firstName:"JENNY",role:"admin"}),t("admin"),vt("Acceso Admin");return}else{et("Contrasea Admin incorrecta.");return}const W=d.find(pt=>pt.id.toUpperCase()===jt);if(W)if(W.password===z){if(W.status==="inactive"){et("Cuenta inactiva.");return}a({...W,firstName:W.name.split(" ")[0],role:"teacher"}),t("teacher"),vt("Acceso Maestra");return}else{et("Contrasea incorrecta.");return}const st=o.find(pt=>pt.id.toUpperCase()===jt);if(st){if(st.password&&st.password!==z){et("Contrasea incorrecta.");return}if(st.status==="inactive"){et("Cuenta inactiva.");return}a({...st,firstName:st.name.split(" ")[0],role:"student"}),t("student")}else et("ID no encontrado.")},C=()=>{a(null),t("login"),et(null)},V=async x=>{if(!pn.currentUser)return;const rt=ma.find(z=>z.id===x),jt=y[x];if(dT(rt.dayIdx,rt.time)){vt("Clase finalizada.","error");return}if(jt?.isClosed){vt("Clase cerrada.","error");return}if(i.credits<=0){vt("Sin crditos.","error");return}try{await Ke(ce(Bt,"artifacts",rr,"public","data","alumnas",i.id),{credits:gn(-1),history:Y2(x)}),await ar(ce(Bt,"artifacts",rr,"public","data","sesiones",x),{booked:gn(1)},{merge:!0}),vt("Clase reservada!");const z="5213331844195",W=encodeURIComponent("Hola Jen! "),st=encodeURIComponent(` Soy *${i.firstName}*.
Acabo de reservar mi clase de *Ballet Fit* para el:
`),pt=encodeURIComponent(` *${rt.day}* a las *${rt.time}*.

Nos vemos en el estudio! `),Dt=`https://wa.me/${z}?text=${W}%F0%9F%A9%B0${st}%F0%9F%97%93${pt}%E2%9C%A8`;setTimeout(()=>{window.confirm("Enviar confirmacin por WhatsApp?")&&window.open(Dt,"_blank")},500)}catch{vt("Error al reservar","error")}},D=async x=>{if(!pn.currentUser)return;const rt=ma.find(W=>W.id===x),z=fT(rt.dayIdx,rt.time)<6;if(!(z&&!window.confirm("Faltan menos de 6h. El lugar se libera pero NO se te devuelve el crdito. Deseas continuar?")))try{const W=ce(Bt,"artifacts",rr,"public","data","alumnas",i.id);z?await Ke(W,{history:dh(x)}):await Ke(W,{credits:gn(1),history:dh(x)}),await Ke(ce(Bt,"artifacts",rr,"public","data","sesiones",x),{booked:gn(-1)}),vt(z?"Cancelada (sin reembolso).":"Clase cancelada.");const st="5213331844195";let pt="";if(z){const Dt=encodeURIComponent("Hola Jen "),I=encodeURIComponent(` Soy *${i.firstName}*.
Tuve un imprevisto y no podr llegar a mi clase de hoy *${rt.day}* a las *${rt.time}*.
S que es tarde, libera mi lugar para alguien ms. `);pt=`https://wa.me/${st}?text=${Dt}%F0%9F%A5%BA${I}%F0%9F%99%8F`}else{const Dt=encodeURIComponent("Hola Jen "),I=encodeURIComponent(` Soy *${i.firstName}*.
Te aviso que liber mi lugar para la clase del *${rt.day}* a las *${rt.time}* para que alguien ms pueda aprovecharlo. `);pt=`https://wa.me/${st}?text=${Dt}%F0%9F%91%8B${I}%E2%9C%A8`}setTimeout(()=>{window.confirm("Notificar cancelacin por WhatsApp?")&&window.open(pt,"_blank")},500)}catch{vt("Error al cancelar","error")}},j=async()=>{if(!bt.trim())return;const x=i.role==="teacher"?"maestros":"alumnas";try{await Ke(ce(Bt,"artifacts",rr,"public","data",x,i.id),{password:bt.trim()}),vt("Contrasea actualizada"),a(rt=>({...rt,password:bt.trim()})),lt(!1),kt("")}catch{vt("Error al actualizar","error")}};return O?E.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-gradient-to-br from-[#EBF5F6] to-white italic text-xl",children:"Cargando Ballet Fit..."}):E.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased min-h-screen bg-gradient-to-br from-[#EBF5F6] via-[#d4e9ed] to-[#EBF5F6]",children:[E.jsx("div",{className:"fixed top-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-[#369EAD]/10 blur-[100px] pointer-events-none"}),E.jsx("div",{className:"fixed bottom-[-10%] right-[-10%] w-[500px] h-[500px] rounded-full bg-[#C5A059]/10 blur-[100px] pointer-events-none"}),E.jsx(tI,{user:i,onLogout:C,onGoHome:N,onChangePass:()=>lt(!0)}),E.jsxs("div",{className:"pt-20",children:[A&&E.jsxs("div",{className:`fixed top-24 right-4 z-[150] px-6 py-4 rounded-xl shadow-2xl backdrop-blur-md flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border ${A.type==="error"?"bg-red-500/90 text-white border-red-700":"bg-[#1A3A3E]/90 text-white border-[#369EAD]"}`,children:[A.type==="error"?E.jsx(mN,{size:18}):E.jsx(fN,{size:18}),E.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:A.msg})]}),r==="login"&&E.jsx(XN,{onLogin:w,error:tt}),r==="student"&&E.jsx(ZN,{user:i,quote:Q,sessionsData:y,onBook:V,onCancel:D}),r==="admin"&&E.jsx($N,{onLogout:C,showNotification:vt}),r==="teacher"&&E.jsx(JN,{user:i,onLogout:C,showNotification:vt})]}),mt&&E.jsx("div",{className:"fixed top-0 left-0 h-screen w-screen z-[5000] flex items-center justify-center bg-[#1A3A3E]/80 backdrop-blur-md p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50 text-center animate-in zoom-in duration-300 relative",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2 text-[#1A3A3E]",children:"Cambiar mi clave"}),E.jsxs("p",{className:"text-[10px] uppercase font-bold text-gray-400 mb-6",children:["Usuario: ",i.firstName]}),E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-center font-bold mb-6 text-[#1A3A3E] focus:border-[#369EAD] transition-colors",placeholder:"Nueva contrasea",value:bt,onChange:x=>kt(x.target.value),autoFocus:!0}),E.jsx(pT,{onClick:j,className:"w-full !py-4",children:"Actualizar"}),E.jsx("button",{onClick:()=>{lt(!1),kt("")},className:"mt-4 text-[10px] uppercase font-bold text-gray-400 hover:text-red-400 transition-colors",children:"Cancelar"})]})})]})}eA.createRoot(document.getElementById("root")).render(E.jsx(yt.StrictMode,{children:E.jsx(eI,{})}));
