(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var zd={exports:{}},wl={};var G_;function Kb(){if(G_)return wl;G_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=t,wl.jsx=i,wl.jsxs=i,wl}var Q_;function Yb(){return Q_||(Q_=1,zd.exports=Kb()),zd.exports}var T=Yb(),Bd={exports:{}},wt={};var K_;function Xb(){if(K_)return wt;K_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),O=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function et(I,Q,st){this.props=I,this.context=Q,this.refs=Z,this.updater=st||tt}et.prototype.isReactComponent={},et.prototype.setState=function(I,Q){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,Q,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function at(){}at.prototype=et.prototype;function ct(I,Q,st){this.props=I,this.context=Q,this.refs=Z,this.updater=st||tt}var ut=ct.prototype=new at;ut.constructor=ct,nt(ut,et.prototype),ut.isPureReactComponent=!0;var It=Array.isArray;function Ct(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(I,Q,st){var ot=st.ref;return{$$typeof:r,type:I,key:Q,ref:ot!==void 0?ot:null,props:st}}function V(I,Q){return C(I.type,Q,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function U(I){var Q={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(st){return Q[st]})}var x=/\/+/g;function vt(I,Q){return typeof I=="object"&&I!==null&&I.key!=null?U(""+I.key):Q.toString(36)}function Rt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(Ct,Ct):(I.status="pending",I.then(function(Q){I.status==="pending"&&(I.status="fulfilled",I.value=Q)},function(Q){I.status==="pending"&&(I.status="rejected",I.reason=Q)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function B(I,Q,st,ot,Et){var Nt=typeof I;(Nt==="undefined"||Nt==="boolean")&&(I=null);var Lt=!1;if(I===null)Lt=!0;else switch(Nt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(I.$$typeof){case r:case t:Lt=!0;break;case A:return Lt=I._init,B(Lt(I._payload),Q,st,ot,Et)}}if(Lt)return Et=Et(I),Lt=ot===""?"."+vt(I,0):ot,It(Et)?(st="",Lt!=null&&(st=Lt.replace(x,"$&/")+"/"),B(Et,Q,st,"",function(gt){return gt})):Et!=null&&(D(Et)&&(Et=V(Et,st+(Et.key==null||I&&I.key===Et.key?"":(""+Et.key).replace(x,"$&/")+"/")+Lt)),Q.push(Et)),1;Lt=0;var ye=ot===""?".":ot+":";if(It(I))for(var F=0;F<I.length;F++)ot=I[F],Nt=ye+vt(ot,F),Lt+=B(ot,Q,st,Nt,Et);else if(F=G(I),typeof F=="function")for(I=F.call(I),F=0;!(ot=I.next()).done;)ot=ot.value,Nt=ye+vt(ot,F++),Lt+=B(ot,Q,st,Nt,Et);else if(Nt==="object"){if(typeof I.then=="function")return B(Rt(I),Q,st,ot,Et);throw Q=String(I),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function W(I,Q,st){if(I==null)return I;var ot=[],Et=0;return B(I,ot,"","",function(Nt){return Q.call(st,Nt,Et++)}),ot}function rt(I){if(I._status===-1){var Q=I._result;Q=Q(),Q.then(function(st){(I._status===0||I._status===-1)&&(I._status=1,I._result=st)},function(st){(I._status===0||I._status===-1)&&(I._status=2,I._result=st)}),I._status===-1&&(I._status=0,I._result=Q)}if(I._status===1)return I._result.default;throw I._result}var bt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Q=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(Q))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},At={map:W,forEach:function(I,Q,st){W(I,function(){Q.apply(this,arguments)},st)},count:function(I){var Q=0;return W(I,function(){Q++}),Q},toArray:function(I){return W(I,function(Q){return Q})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return wt.Activity=S,wt.Children=At,wt.Component=et,wt.Fragment=i,wt.Profiler=l,wt.PureComponent=ct,wt.StrictMode=a,wt.Suspense=_,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,wt.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},wt.cache=function(I){return function(){return I.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(I,Q,st){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var ot=nt({},I.props),Et=I.key;if(Q!=null)for(Nt in Q.key!==void 0&&(Et=""+Q.key),Q)!w.call(Q,Nt)||Nt==="key"||Nt==="__self"||Nt==="__source"||Nt==="ref"&&Q.ref===void 0||(ot[Nt]=Q[Nt]);var Nt=arguments.length-2;if(Nt===1)ot.children=st;else if(1<Nt){for(var Lt=Array(Nt),ye=0;ye<Nt;ye++)Lt[ye]=arguments[ye+2];ot.children=Lt}return C(I.type,Et,ot)},wt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},wt.createElement=function(I,Q,st){var ot,Et={},Nt=null;if(Q!=null)for(ot in Q.key!==void 0&&(Nt=""+Q.key),Q)w.call(Q,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Et[ot]=Q[ot]);var Lt=arguments.length-2;if(Lt===1)Et.children=st;else if(1<Lt){for(var ye=Array(Lt),F=0;F<Lt;F++)ye[F]=arguments[F+2];Et.children=ye}if(I&&I.defaultProps)for(ot in Lt=I.defaultProps,Lt)Et[ot]===void 0&&(Et[ot]=Lt[ot]);return C(I,Nt,Et)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(I){return{$$typeof:p,render:I}},wt.isValidElement=D,wt.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:rt}},wt.memo=function(I,Q){return{$$typeof:y,type:I,compare:Q===void 0?null:Q}},wt.startTransition=function(I){var Q=N.T,st={};N.T=st;try{var ot=I(),Et=N.S;Et!==null&&Et(st,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(Ct,bt)}catch(Nt){bt(Nt)}finally{Q!==null&&st.types!==null&&(Q.types=st.types),N.T=Q}},wt.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},wt.use=function(I){return N.H.use(I)},wt.useActionState=function(I,Q,st){return N.H.useActionState(I,Q,st)},wt.useCallback=function(I,Q){return N.H.useCallback(I,Q)},wt.useContext=function(I){return N.H.useContext(I)},wt.useDebugValue=function(){},wt.useDeferredValue=function(I,Q){return N.H.useDeferredValue(I,Q)},wt.useEffect=function(I,Q){return N.H.useEffect(I,Q)},wt.useEffectEvent=function(I){return N.H.useEffectEvent(I)},wt.useId=function(){return N.H.useId()},wt.useImperativeHandle=function(I,Q,st){return N.H.useImperativeHandle(I,Q,st)},wt.useInsertionEffect=function(I,Q){return N.H.useInsertionEffect(I,Q)},wt.useLayoutEffect=function(I,Q){return N.H.useLayoutEffect(I,Q)},wt.useMemo=function(I,Q){return N.H.useMemo(I,Q)},wt.useOptimistic=function(I,Q){return N.H.useOptimistic(I,Q)},wt.useReducer=function(I,Q,st){return N.H.useReducer(I,Q,st)},wt.useRef=function(I){return N.H.useRef(I)},wt.useState=function(I){return N.H.useState(I)},wt.useSyncExternalStore=function(I,Q,st){return N.H.useSyncExternalStore(I,Q,st)},wt.useTransition=function(){return N.H.useTransition()},wt.version="19.2.3",wt}var Y_;function km(){return Y_||(Y_=1,Bd.exports=Xb()),Bd.exports}var Ut=km(),qd={exports:{}},xl={},Hd={exports:{}},Fd={};var X_;function $b(){return X_||(X_=1,(function(r){function t(B,W){var rt=B.length;B.push(W);t:for(;0<rt;){var bt=rt-1>>>1,At=B[bt];if(0<l(At,W))B[bt]=W,B[rt]=At,rt=bt;else break t}}function i(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var W=B[0],rt=B.pop();if(rt!==W){B[0]=rt;t:for(var bt=0,At=B.length,I=At>>>1;bt<I;){var Q=2*(bt+1)-1,st=B[Q],ot=Q+1,Et=B[ot];if(0>l(st,rt))ot<At&&0>l(Et,st)?(B[bt]=Et,B[ot]=rt,bt=ot):(B[bt]=st,B[Q]=rt,bt=Q);else if(ot<At&&0>l(Et,rt))B[bt]=Et,B[ot]=rt,bt=ot;else break t}}return W}function l(B,W){var rt=B.sortIndex-W.sortIndex;return rt!==0?rt:B.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,S=null,O=3,G=!1,tt=!1,nt=!1,Z=!1,et=typeof setTimeout=="function"?setTimeout:null,at=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function ut(B){for(var W=i(y);W!==null;){if(W.callback===null)a(y);else if(W.startTime<=B)a(y),W.sortIndex=W.expirationTime,t(_,W);else break;W=i(y)}}function It(B){if(nt=!1,ut(B),!tt)if(i(_)!==null)tt=!0,Ct||(Ct=!0,U());else{var W=i(y);W!==null&&Rt(It,W.startTime-B)}}var Ct=!1,N=-1,w=5,C=-1;function V(){return Z?!0:!(r.unstable_now()-C<w)}function D(){if(Z=!1,Ct){var B=r.unstable_now();C=B;var W=!0;try{t:{tt=!1,nt&&(nt=!1,at(N),N=-1),G=!0;var rt=O;try{e:{for(ut(B),S=i(_);S!==null&&!(S.expirationTime>B&&V());){var bt=S.callback;if(typeof bt=="function"){S.callback=null,O=S.priorityLevel;var At=bt(S.expirationTime<=B);if(B=r.unstable_now(),typeof At=="function"){S.callback=At,ut(B),W=!0;break e}S===i(_)&&a(_),ut(B)}else a(_);S=i(_)}if(S!==null)W=!0;else{var I=i(y);I!==null&&Rt(It,I.startTime-B),W=!1}}break t}finally{S=null,O=rt,G=!1}W=void 0}}finally{W?U():Ct=!1}}}var U;if(typeof ct=="function")U=function(){ct(D)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,vt=x.port2;x.port1.onmessage=D,U=function(){vt.postMessage(null)}}else U=function(){et(D,0)};function Rt(B,W){N=et(function(){B(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(B){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var rt=O;O=W;try{return B()}finally{O=rt}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(B,W){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var rt=O;O=B;try{return W()}finally{O=rt}},r.unstable_scheduleCallback=function(B,W,rt){var bt=r.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?bt+rt:bt):rt=bt,B){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=rt+At,B={id:A++,callback:W,priorityLevel:B,startTime:rt,expirationTime:At,sortIndex:-1},rt>bt?(B.sortIndex=rt,t(y,B),i(_)===null&&B===i(y)&&(nt?(at(N),N=-1):nt=!0,Rt(It,rt-bt))):(B.sortIndex=At,t(_,B),tt||G||(tt=!0,Ct||(Ct=!0,U()))),B},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(B){var W=O;return function(){var rt=O;O=W;try{return B.apply(this,arguments)}finally{O=rt}}}})(Fd)),Fd}var $_;function Zb(){return $_||($_=1,Hd.exports=$b()),Hd.exports}var Gd={exports:{}},en={};var Z_;function Jb(){if(Z_)return en;Z_=1;var r=km();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},en.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},en.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},en.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},en.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,G=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:O,fetchPriority:G}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:O,fetchPriority:G,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},en.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},en.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},en.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},en.requestFormReset=function(_){a.d.r(_)},en.unstable_batchedUpdates=function(_,y){return _(y)},en.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var J_;function Wb(){if(J_)return Gd.exports;J_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Gd.exports=Jb(),Gd.exports}var W_;function tA(){if(W_)return xl;W_=1;var r=Zb(),t=km(),i=Wb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),at=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),ut=Symbol.for("react.forward_ref"),It=Symbol.for("react.suspense"),Ct=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function vt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case et:return"Profiler";case Z:return"StrictMode";case It:return"Suspense";case Ct:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ct:return e.displayName||"Context";case at:return(e._context.displayName||"Context")+".Consumer";case ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:vt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return vt(e(n))}catch{}}return null}var Rt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},bt=[],At=-1;function I(e){return{current:e}}function Q(e){0>At||(e.current=bt[At],bt[At]=null,At--)}function st(e,n){At++,bt[At]=e.current,e.current=n}var ot=I(null),Et=I(null),Nt=I(null),Lt=I(null);function ye(e,n){switch(st(Nt,n),st(Et,e),st(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?m_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=m_(n),e=p_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ot),st(ot,e)}function F(){Q(ot),Q(Et),Q(Nt)}function gt(e){e.memoizedState!==null&&st(Lt,e);var n=ot.current,s=p_(n,e.type);n!==s&&(st(Et,e),st(ot,s))}function $t(e){Et.current===e&&(Q(ot),Q(Et)),Lt.current===e&&(Q(Lt),Tl._currentValue=rt)}var Pe,ae;function tn(e){if(Pe===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Pe=n&&n[1]||"",ae=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+e+ae}var qi=!1;function Tr(e,n){if(!e||qi)return"";qi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var R=g.split(`
`),P=E.split(`
`);for(h=o=0;o<R.length&&!R[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===R.length||h===P.length)for(o=R.length-1,h=P.length-1;1<=o&&0<=h&&R[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(R[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||R[o]!==P[h]){var K=`
`+R[o].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=o&&0<=h);break}}}finally{qi=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?tn(s):""}function bo(e,n){switch(e.tag){case 26:case 27:case 5:return tn(e.type);case 16:return tn("Lazy");case 13:return e.child!==n&&n!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Tr(e.type,!1);case 11:return Tr(e.type.render,!1);case 1:return Tr(e.type,!0);case 31:return tn("Activity");default:return""}}function Ao(e){try{var n="",s=null;do n+=bo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Se=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,ys=r.unstable_cancelCallback,Bh=r.unstable_shouldYield,eu=r.unstable_requestPaint,ln=r.unstable_now,br=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,wo=r.unstable_UserBlockingPriority,_s=r.unstable_NormalPriority,qh=r.unstable_LowPriority,nu=r.unstable_IdlePriority,iu=r.log,su=r.unstable_setDisableYieldValue,Yn=null,Ge=null;function On(e){if(typeof iu=="function"&&su(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Yn,e)}catch{}}var _e=Math.clz32?Math.clz32:au,ru=Math.log,aa=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/aa|0)|0}var ci=256,Ar=262144,we=4194304;function hi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function fi(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=hi(o):(g&=E,g!==0?h=hi(g):s||(s=E&~e,s!==0&&(h=hi(s))))):(E=o&~f,E!==0?h=hi(E):g!==0?h=hi(g):s||(s=o&~e,s!==0&&(h=hi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Hh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function di(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var K=31-_e(s),X=1<<K;E[K]=0,R[K]=-1;var z=P[K];if(z!==null)for(P[K]=null,K=0;K<z.length;K++){var H=z[K];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&wr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function wr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function xo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function Co(e,n){var s=n&-n;return s=(s&42)!==0?1:xr(s),(s&(e.suspendedLanes|n))!==0?0:s}function xr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Hi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:j_(e.type))}function $n(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var Zn=Math.random().toString(36).slice(2),xe="__reactFiber$"+Zn,ze="__reactProps$"+Zn,mi="__reactContainer$"+Zn,oa="__reactEvents$"+Zn,Gh="__reactListeners$"+Zn,uu="__reactHandles$"+Zn,cu="__reactResources$"+Zn,pi="__reactMarker$"+Zn;function la(e){delete e[xe],delete e[ze],delete e[oa],delete e[Gh],delete e[uu]}function gi(e){var n=e[xe];if(n)return n;for(var s=e.parentNode;s;){if(n=s[mi]||s[xe]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=b_(e);e!==null;){if(s=e[xe])return s;e=b_(e)}return n}e=s,s=e.parentNode}return null}function Vn(e){if(e=e[xe]||e[mi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function yi(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ce(e){e[pi]=!0}var Ro=new Set,No={};function _i(e,n){vi(e,n),vi(e+"Capture",n)}function vi(e,n){for(No[e]=n,e=0;e<n.length;e++)Ro.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Mo={};function hu(e){return Se.call(Mo,e)?!0:Se.call(Do,e)?!1:Io.test(e)?Mo[e]=!0:(Do[e]=!0,!1)}function ua(e,n,s){if(hu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function An(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Re(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function vs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=vs(e)?"checked":"value";e._valueTracker=Oo(e,n,""+e[n])}}function Cr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=vs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function Ei(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Rr=/[\n"\\]/g;function fn(e){return e.replace(Rr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Vo(e,g,Be(n)):s!=null?Vo(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function fu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function Vo(e,n,s){n==="number"&&Ei(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Es(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function Ts(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Rt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Zt(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Uo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&ko(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),bs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return bs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Lo=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,Ti=null;function Nr(e){var n=Vn(e);if(n&&(e=n.stateNode)){var s=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ze]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Cr(o)}break t;case"textarea":du(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Es(e,!!s.multiple,n,!1)}}}var da=!1;function Ss(e,n,s){if(da)return e(n,s);da=!0;try{var o=e(n);return o}finally{if(da=!1,(As!==null||Ti!==null)&&(lc(),As&&(n=As,e=Ti,Ti=As=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function Wn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ze]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Un)try{var te={};Object.defineProperty(te,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ir=!1}var bi=null,jo=null,Dr=null;function Po(){if(Dr)return Dr;var e,n=jo,s=n.length,o,h="value"in bi?bi.value:bi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Dr=h.slice(e,1<o?1-o:void 0)}function Mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fi(){return!0}function ti(){return!1}function Qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fi:ti,this.isPropagationStopped=ti,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Fi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Fi)},persist:function(){},isPersistent:Fi}),n}var Gi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ai=Qe(Gi),ws=S({},Gi,{view:0,detail:0}),zo=Qe(ws),xs,ma,Si,pa=S({},ws,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Si&&(Si&&e.type==="mousemove"?(xs=e.screenX-Si.screenX,ma=e.screenY-Si.screenY):ma=xs=0,Si=e),xs)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Bo=Qe(pa),Or=S({},pa,{dataTransfer:0}),gu=Qe(Or),yu=S({},ws,{relatedTarget:0}),Vr=Qe(yu),qo=S({},Gi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Qe(qo),ga=S({},Gi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=Qe(ga),Eu=S({},Gi,{data:0}),wi=Qe(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Au={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Au[e])?!!n[e]:!1}function Cs(){return Su}var un=S({},ws,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?bu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cs,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=Qe(un),xu=S({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qi=Qe(xu),u=S({},ws,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cs}),m=Qe(u),v=S({},Gi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Qe(v),L=S({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Qe(L),it=S({},Gi,{newState:0,oldState:0}),Dt=Qe(it),ve=[9,13,27,32],Kt=Un&&"CompositionEvent"in window,he=null;Un&&"documentMode"in document&&(he=document.documentMode);var Ln=Un&&"TextEvent"in window&&!he,xi=Un&&(!Kt||he&&8<he&&11>=he),ei=" ",ni=!1;function kr(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function yT(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function _T(e,n){if(_a)return e==="compositionend"||!Kt&&kr(e,n)?(e=Po(),Dr=jo=bi=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return xi&&n.locale!=="ko"?null:n.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vT[e.type]:n==="textarea"}function xp(e,n,s,o){As?Ti?Ti.push(o):Ti=[o]:As=o,n=pc(n,"onChange"),0<n.length&&(s=new Ai("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ho=null,Fo=null;function ET(e){l_(e,0)}function Cu(e){var n=bn(e);if(Cr(n))return e}function Cp(e,n){if(e==="change")return n}var Rp=!1;if(Un){var Qh;if(Un){var Kh="oninput"in document;if(!Kh){var Np=document.createElement("div");Np.setAttribute("oninput","return;"),Kh=typeof Np.oninput=="function"}Qh=Kh}else Qh=!1;Rp=Qh&&(!document.documentMode||9<document.documentMode)}function Ip(){Ho&&(Ho.detachEvent("onpropertychange",Dp),Fo=Ho=null)}function Dp(e){if(e.propertyName==="value"&&Cu(Fo)){var n=[];xp(n,Fo,e,kn(e)),Ss(ET,n)}}function TT(e,n,s){e==="focusin"?(Ip(),Ho=n,Fo=s,Ho.attachEvent("onpropertychange",Dp)):e==="focusout"&&Ip()}function bT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Cu(Fo)}function AT(e,n){if(e==="click")return Cu(n)}function ST(e,n){if(e==="input"||e==="change")return Cu(n)}function wT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:wT;function Go(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Se.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Mp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Op(e,n){var s=Mp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Mp(s)}}function Vp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function kp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ei(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ei(e.document)}return n}function Yh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var xT=Un&&"documentMode"in document&&11>=document.documentMode,va=null,Xh=null,Qo=null,$h=!1;function Up(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;$h||va==null||va!==Ei(o)||(o=va,"selectionStart"in o&&Yh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Go(Qo,o)||(Qo=o,o=pc(Xh,"onSelect"),0<o.length&&(n=new Ai("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=va)))}function Ur(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ea={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},Zh={},Lp={};Un&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Lr(e){if(Zh[e])return Zh[e];if(!Ea[e])return e;var n=Ea[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Lp)return Zh[e]=n[s];return e}var jp=Lr("animationend"),Pp=Lr("animationiteration"),zp=Lr("animationstart"),CT=Lr("transitionrun"),RT=Lr("transitionstart"),NT=Lr("transitioncancel"),Bp=Lr("transitionend"),qp=new Map,Jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Jh.push("scrollEnd");function ii(e,n){qp.set(e,n),_i(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Ta=0,Wh=0;function Nu(){for(var e=Ta,n=Wh=Ta=0;n<e;){var s=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Hp(s,h,f)}}function Iu(e,n,s,o){jn[Ta++]=e,jn[Ta++]=n,jn[Ta++]=s,jn[Ta++]=o,Wh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function tf(e,n,s,o){return Iu(e,n,s,o),Du(e)}function jr(e,n){return Iu(e,null,null,n),Du(e)}function Hp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Du(e){if(50<ml)throw ml=0,cd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ba={};function IT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,o){return new IT(e,n,s,o)}function ef(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Ki(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Fp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Mu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")ef(e)&&(g=1);else if(typeof e=="string")g=kb(e,s,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=wn(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return Pr(s.children,h,f,n);case Z:g=8,h|=24;break;case et:return e=wn(12,s,n,h|2),e.elementType=et,e.lanes=f,e;case It:return e=wn(13,s,n,h),e.elementType=It,e.lanes=f,e;case Ct:return e=wn(19,s,n,h),e.elementType=Ct,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:g=10;break t;case at:g=9;break t;case ut:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=wn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Pr(e,n,s,o){return e=wn(7,e,o,n),e.lanes=s,e}function nf(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function Gp(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function sf(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Qp=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var s=Qp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Ao(n)},Qp.set(e,n),n)}return{value:e,source:n,stack:Ao(n)}}var Aa=[],Sa=0,Ou=null,Ko=0,zn=[],Bn=0,Rs=null,Ci=1,Ri="";function Yi(e,n){Aa[Sa++]=Ko,Aa[Sa++]=Ou,Ou=e,Ko=n}function Kp(e,n,s){zn[Bn++]=Ci,zn[Bn++]=Ri,zn[Bn++]=Rs,Rs=e;var o=Ci;e=Ri;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,Ci=1<<32-_e(n)+h|s<<h|o,Ri=f+e}else Ci=1<<f|s<<h|o,Ri=e}function rf(e){e.return!==null&&(Yi(e,1),Kp(e,1,0))}function af(e){for(;e===Ou;)Ou=Aa[--Sa],Aa[Sa]=null,Ko=Aa[--Sa],Aa[Sa]=null;for(;e===Rs;)Rs=zn[--Bn],zn[Bn]=null,Ri=zn[--Bn],zn[Bn]=null,Ci=zn[--Bn],zn[Bn]=null}function Yp(e,n){zn[Bn++]=Ci,zn[Bn++]=Ri,zn[Bn++]=Rs,Ci=n.id,Ri=n.overflow,Rs=e}var Ke=null,oe=null,Ht=!1,Ns=null,qn=!1,of=Error(a(519));function Is(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Pn(n,e)),of}function Xp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[xe]=e,n[ze]=o,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<gl.length;s++)kt(gl[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Ts(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||f_(n.textContent,s)?(o.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),o.onScroll!=null&&kt("scroll",n),o.onScrollEnd!=null&&kt("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Is(e,!0)}function $p(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Ke=Ke.return}}function wa(e){if(e!==Ke)return!1;if(!Ht)return $p(e),Ht=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wd(e.type,e.memoizedProps)),s=!s),s&&oe&&Is(e),$p(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=T_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=T_(e)}else n===27?(n=oe,Fs(e.type)?(e=Id,Id=null,oe=e):oe=n):oe=Ke?Fn(e.stateNode.nextSibling):null;return!0}function zr(){oe=Ke=null,Ht=!1}function lf(){var e=Ns;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),Ns=null),e}function Yo(e){Ns===null?Ns=[e]:Ns.push(e)}var uf=I(null),Br=null,Xi=null;function Ds(e,n,s){st(uf,n._currentValue),n._currentValue=s}function $i(e){e._currentValue=uf.current,Q(uf)}function cf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function hf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var R=0;R<n.length;R++)if(E.context===n[R]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),cf(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),cf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function xa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Lt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&hf(n,e,s,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,Xi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return Zp(Br,e)}function ku(e,n){return Br===null&&qr(e),Zp(e,n)}function Zp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Xi===null){if(e===null)throw Error(a(308));Xi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Xi=Xi.next=n;return s}var DT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},MT=r.unstable_scheduleCallback,OT=r.unstable_NormalPriority,Ne={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ff(){return{controller:new DT,data:new Map,refCount:0}}function Xo(e){e.refCount--,e.refCount===0&&MT(OT,function(){e.controller.abort()})}var $o=null,df=0,Ca=0,Ra=null;function VT(e,n){if($o===null){var s=$o=[];df=0,Ca=gd(),Ra={status:"pending",value:void 0,then:function(o){s.push(o)}}}return df++,n.then(Jp,Jp),n}function Jp(){if(--df===0&&$o!==null){Ra!==null&&(Ra.status="fulfilled");var e=$o;$o=null,Ca=0,Ra=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function kT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Wp=B.S;B.S=function(e,n){Uy=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VT(e,n),Wp!==null&&Wp(e,n)};var Hr=I(null);function mf(){var e=Hr.current;return e!==null?e:se.pooledCache}function Uu(e,n){n===null?st(Hr,Hr.current):st(Hr,n.pool)}function tg(){var e=mf();return e===null?null:{parent:Ne._currentValue,pool:e}}var Na=Error(a(460)),pf=Error(a(474)),Lu=Error(a(542)),ju={then:function(){}};function eg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ng(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sg(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,sg(e),e}throw Gr=n,Na}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Gr=s,Na):s}}var Gr=null;function ig(){if(Gr===null)throw Error(a(459));var e=Gr;return Gr=null,e}function sg(e){if(e===Na||e===Lu)throw Error(a(483))}var Ia=null,Zo=0;function Pu(e){var n=Zo;return Zo+=1,Ia===null&&(Ia=[]),ng(Ia,e,n)}function Jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function rg(e){function n(k,M){if(e){var j=k.deletions;j===null?(k.deletions=[M],k.flags|=16):j.push(M)}}function s(k,M){if(!e)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function o(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=Ki(k,M),k.index=0,k.sibling=null,k}function f(k,M,j){return k.index=j,e?(j=k.alternate,j!==null?(j=j.index,j<M?(k.flags|=67108866,M):j):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function E(k,M,j,Y){return M===null||M.tag!==6?(M=nf(j,k.mode,Y),M.return=k,M):(M=h(M,j),M.return=k,M)}function R(k,M,j,Y){var mt=j.type;return mt===nt?K(k,M,j.props.children,Y,j.key):M!==null&&(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Fr(mt)===M.type)?(M=h(M,j.props),Jo(M,j),M.return=k,M):(M=Mu(j.type,j.key,j.props,null,k.mode,Y),Jo(M,j),M.return=k,M)}function P(k,M,j,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==j.containerInfo||M.stateNode.implementation!==j.implementation?(M=sf(j,k.mode,Y),M.return=k,M):(M=h(M,j.children||[]),M.return=k,M)}function K(k,M,j,Y,mt){return M===null||M.tag!==7?(M=Pr(j,k.mode,Y,mt),M.return=k,M):(M=h(M,j),M.return=k,M)}function X(k,M,j){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=nf(""+M,k.mode,j),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return j=Mu(M.type,M.key,M.props,null,k.mode,j),Jo(j,M),j.return=k,j;case tt:return M=sf(M,k.mode,j),M.return=k,M;case w:return M=Fr(M),X(k,M,j)}if(Rt(M)||U(M))return M=Pr(M,k.mode,j,null),M.return=k,M;if(typeof M.then=="function")return X(k,Pu(M),j);if(M.$$typeof===ct)return X(k,ku(k,M),j);zu(k,M)}return null}function z(k,M,j,Y){var mt=M!==null?M.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:E(k,M,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===mt?R(k,M,j,Y):null;case tt:return j.key===mt?P(k,M,j,Y):null;case w:return j=Fr(j),z(k,M,j,Y)}if(Rt(j)||U(j))return mt!==null?null:K(k,M,j,Y,null);if(typeof j.then=="function")return z(k,M,Pu(j),Y);if(j.$$typeof===ct)return z(k,M,ku(k,j),Y);zu(k,j)}return null}function H(k,M,j,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(j)||null,E(M,k,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?j:Y.key)||null,R(M,k,Y,mt);case tt:return k=k.get(Y.key===null?j:Y.key)||null,P(M,k,Y,mt);case w:return Y=Fr(Y),H(k,M,j,Y,mt)}if(Rt(Y)||U(Y))return k=k.get(j)||null,K(M,k,Y,mt,null);if(typeof Y.then=="function")return H(k,M,j,Pu(Y),mt);if(Y.$$typeof===ct)return H(k,M,j,ku(M,Y),mt);zu(M,Y)}return null}function ht(k,M,j,Y){for(var mt=null,Gt=null,dt=M,Ot=M=0,Pt=null;dt!==null&&Ot<j.length;Ot++){dt.index>Ot?(Pt=dt,dt=null):Pt=dt.sibling;var Qt=z(k,dt,j[Ot],Y);if(Qt===null){dt===null&&(dt=Pt);break}e&&dt&&Qt.alternate===null&&n(k,dt),M=f(Qt,M,Ot),Gt===null?mt=Qt:Gt.sibling=Qt,Gt=Qt,dt=Pt}if(Ot===j.length)return s(k,dt),Ht&&Yi(k,Ot),mt;if(dt===null){for(;Ot<j.length;Ot++)dt=X(k,j[Ot],Y),dt!==null&&(M=f(dt,M,Ot),Gt===null?mt=dt:Gt.sibling=dt,Gt=dt);return Ht&&Yi(k,Ot),mt}for(dt=o(dt);Ot<j.length;Ot++)Pt=H(dt,k,Ot,j[Ot],Y),Pt!==null&&(e&&Pt.alternate!==null&&dt.delete(Pt.key===null?Ot:Pt.key),M=f(Pt,M,Ot),Gt===null?mt=Pt:Gt.sibling=Pt,Gt=Pt);return e&&dt.forEach(function(Xs){return n(k,Xs)}),Ht&&Yi(k,Ot),mt}function yt(k,M,j,Y){if(j==null)throw Error(a(151));for(var mt=null,Gt=null,dt=M,Ot=M=0,Pt=null,Qt=j.next();dt!==null&&!Qt.done;Ot++,Qt=j.next()){dt.index>Ot?(Pt=dt,dt=null):Pt=dt.sibling;var Xs=z(k,dt,Qt.value,Y);if(Xs===null){dt===null&&(dt=Pt);break}e&&dt&&Xs.alternate===null&&n(k,dt),M=f(Xs,M,Ot),Gt===null?mt=Xs:Gt.sibling=Xs,Gt=Xs,dt=Pt}if(Qt.done)return s(k,dt),Ht&&Yi(k,Ot),mt;if(dt===null){for(;!Qt.done;Ot++,Qt=j.next())Qt=X(k,Qt.value,Y),Qt!==null&&(M=f(Qt,M,Ot),Gt===null?mt=Qt:Gt.sibling=Qt,Gt=Qt);return Ht&&Yi(k,Ot),mt}for(dt=o(dt);!Qt.done;Ot++,Qt=j.next())Qt=H(dt,k,Ot,Qt.value,Y),Qt!==null&&(e&&Qt.alternate!==null&&dt.delete(Qt.key===null?Ot:Qt.key),M=f(Qt,M,Ot),Gt===null?mt=Qt:Gt.sibling=Qt,Gt=Qt);return e&&dt.forEach(function(Qb){return n(k,Qb)}),Ht&&Yi(k,Ot),mt}function ie(k,M,j,Y){if(typeof j=="object"&&j!==null&&j.type===nt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:t:{for(var mt=j.key;M!==null;){if(M.key===mt){if(mt=j.type,mt===nt){if(M.tag===7){s(k,M.sibling),Y=h(M,j.props.children),Y.return=k,k=Y;break t}}else if(M.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Fr(mt)===M.type){s(k,M.sibling),Y=h(M,j.props),Jo(Y,j),Y.return=k,k=Y;break t}s(k,M);break}else n(k,M);M=M.sibling}j.type===nt?(Y=Pr(j.props.children,k.mode,Y,j.key),Y.return=k,k=Y):(Y=Mu(j.type,j.key,j.props,null,k.mode,Y),Jo(Y,j),Y.return=k,k=Y)}return g(k);case tt:t:{for(mt=j.key;M!==null;){if(M.key===mt)if(M.tag===4&&M.stateNode.containerInfo===j.containerInfo&&M.stateNode.implementation===j.implementation){s(k,M.sibling),Y=h(M,j.children||[]),Y.return=k,k=Y;break t}else{s(k,M);break}else n(k,M);M=M.sibling}Y=sf(j,k.mode,Y),Y.return=k,k=Y}return g(k);case w:return j=Fr(j),ie(k,M,j,Y)}if(Rt(j))return ht(k,M,j,Y);if(U(j)){if(mt=U(j),typeof mt!="function")throw Error(a(150));return j=mt.call(j),yt(k,M,j,Y)}if(typeof j.then=="function")return ie(k,M,Pu(j),Y);if(j.$$typeof===ct)return ie(k,M,ku(k,j),Y);zu(k,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,M!==null&&M.tag===6?(s(k,M.sibling),Y=h(M,j),Y.return=k,k=Y):(s(k,M),Y=nf(j,k.mode,Y),Y.return=k,k=Y),g(k)):s(k,M)}return function(k,M,j,Y){try{Zo=0;var mt=ie(k,M,j,Y);return Ia=null,mt}catch(dt){if(dt===Na||dt===Lu)throw dt;var Gt=wn(29,dt,null,k.mode);return Gt.lanes=Y,Gt.return=k,Gt}}}var Qr=rg(!0),ag=rg(!1),Ms=!1;function gf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function yf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Os(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Vs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),Hp(e,null,s),n}return Iu(e,o,n,s),Du(e)}function Wo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,xo(e,s)}}function _f(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var vf=!1;function tl(){if(vf){var e=Ra;if(e!==null)throw e}}function el(e,n,s,o){vf=!1;var h=e.updateQueue;Ms=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var R=E,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var K=e.alternate;K!==null&&(K=K.updateQueue,E=K.lastBaseUpdate,E!==g&&(E===null?K.firstBaseUpdate=P:E.next=P,K.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,K=P=R=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(jt&z)===z:(o&z)===z){z!==0&&z===Ca&&(vf=!0),K!==null&&(K=K.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ht=e,yt=E;z=n;var ie=s;switch(yt.tag){case 1:if(ht=yt.payload,typeof ht=="function"){X=ht.call(ie,X,z);break t}X=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=yt.payload,z=typeof ht=="function"?ht.call(ie,X,z):ht,z==null)break t;X=S({},X,z);break t;case 2:Ms=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},K===null?(P=K=H,R=X):K=K.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);K===null&&(R=X),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Ps|=g,e.lanes=g,e.memoizedState=X}}function og(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function lg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)og(s[e],n)}var Da=I(null),Bu=I(0);function ug(e,n){e=rs,st(Bu,e),st(Da,n),rs=e|n.baseLanes}function Ef(){st(Bu,rs),st(Da,Da.current)}function Tf(){rs=Bu.current,Q(Da),Q(Bu)}var xn=I(null),Hn=null;function ks(e){var n=e.alternate;st(Ee,Ee.current&1),st(xn,e),Hn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Hn=e)}function bf(e){st(Ee,Ee.current),st(xn,e),Hn===null&&(Hn=e)}function cg(e){e.tag===22?(st(Ee,Ee.current),st(xn,e),Hn===null&&(Hn=e)):Us()}function Us(){st(Ee,Ee.current),st(xn,xn.current)}function Cn(e){Q(xn),Hn===e&&(Hn=null),Q(Ee)}var Ee=I(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Rd(s)||Nd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Zi=0,Mt=null,ee=null,Ie=null,Hu=!1,Ma=!1,Kr=!1,Fu=0,nl=0,Oa=null,UT=0;function pe(){throw Error(a(321))}function Af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function Sf(e,n,s,o,h,f){return Zi=f,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?Kg:Pf,Kr=!1,f=s(o,h),Kr=!1,Ma&&(f=fg(n,s,o,h)),hg(e),f}function hg(e){B.H=rl;var n=ee!==null&&ee.next!==null;if(Zi=0,Ie=ee=Mt=null,Hu=!1,nl=0,Oa=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&Vu(e)&&(De=!0))}function fg(e,n,s,o){Mt=e;var h=0;do{if(Ma&&(Oa=null),nl=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Ie=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Yg,f=n(s,o)}while(Ma);return f}function LT(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?il(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Mt.flags|=1024),n}function wf(){var e=Fu!==0;return Fu=0,e}function xf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Cf(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}Zi=0,Ie=ee=Mt=null,Ma=!1,nl=Fu=0,Oa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Mt.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Te(){if(ee===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ie===null?Mt.memoizedState:Ie.next;if(n!==null)Ie=n,ee=e;else{if(e===null)throw Mt.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?Mt.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var n=nl;return nl+=1,Oa===null&&(Oa=[]),e=ng(Oa,e,n),n=Mt,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?Kg:Pf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===ct)return Ye(e)}throw Error(a(438,String(e)))}function Rf(e){var n=null,s=Mt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Mt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),Mt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Ji(e,n){return typeof n=="function"?n(e):n}function Ku(e){var n=Te();return Nf(n,ee,e)}function Nf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,R=null,P=n,K=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(jt&X)===X:(Zi&X)===X){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===Ca&&(K=!0);else if((Zi&z)===z){P=P.next,z===Ca&&(K=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=X,g=f):R=R.next=X,Mt.lanes|=z,Ps|=z;X=P.action,Kr&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(E=R=z,g=f):R=R.next=z,Mt.lanes|=X,Ps|=X;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=E,!Sn(f,e.memoizedState)&&(De=!0,K&&(s=Ra,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function If(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function dg(e,n,s){var o=Mt,h=Te(),f=Ht;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Sn((ee||h).memoizedState,s);if(g&&(h.memoizedState=s,De=!0),h=h.queue,Of(gg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},pg.bind(null,o,h,s,n),null),se===null)throw Error(a(349));f||(Zi&127)!==0||mg(o,n,s)}return s}function mg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Mt.updateQueue,n===null?(n=Gu(),Mt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function pg(e,n,s,o){n.value=s,n.getSnapshot=o,yg(n)&&_g(e)}function gg(e,n,s){return s(function(){yg(n)&&_g(e)})}function yg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function _g(e){var n=jr(e,2);n!==null&&_n(n,e,2)}function Df(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Kr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:e},n}function vg(e,n,s,o){return e.baseState=s,Nf(e,ee,typeof o=="function"?o:Ji)}function jT(e,n,s,o,h){if($u(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,Eg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Eg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=B.T,g={};B.T=g;try{var E=s(h,o),R=B.S;R!==null&&R(g,E),Tg(e,n,E)}catch(P){Mf(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=s(h,o),Tg(e,n,f)}catch(P){Mf(e,n,P)}}function Tg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){bg(e,n,o)},function(o){return Mf(e,n,o)}):bg(e,n,s)}function bg(e,n,s){n.status="fulfilled",n.value=s,Ag(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Eg(e,s)))}function Mf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ag(n),n=n.next;while(n!==o)}e.action=null}function Ag(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sg(e,n){return n}function wg(e,n){if(Ht){var s=se.formState;if(s!==null){t:{var o=Mt;if(Ht){if(oe){e:{for(var h=oe,f=qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Fn(h.nextSibling),o=h.data==="F!";break t}}Is(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sg,lastRenderedState:n},s.queue=o,s=Fg.bind(null,Mt,o),o.dispatch=s,o=Df(!1),f=jf.bind(null,Mt,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=jT.bind(null,Mt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function xg(e){var n=Te();return Cg(n,ee,e)}function Cg(e,n,s){if(n=Nf(e,n,Sg)[0],e=Ku(Ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(g){throw g===Na?Lu:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Mt.flags|=2048,Va(9,{destroy:void 0},PT.bind(null,h,s),null)),[o,f,e]}function PT(e,n){e.action=n}function Rg(e){var n=Te(),s=ee;if(s!==null)return Cg(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Va(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=Gu(),Mt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Ng(){return Te().memoizedState}function Yu(e,n,s,o){var h=cn();Mt.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},s,o===void 0?null:o)}function Xu(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&Af(o,ee.memoizedState.deps)?h.memoizedState=Va(n,f,s,o):(Mt.flags|=e,h.memoizedState=Va(1|n,f,s,o))}function Ig(e,n){Yu(8390656,8,e,n)}function Of(e,n){Xu(2048,8,e,n)}function zT(e){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=Gu(),Mt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Dg(e){var n=Te().memoizedState;return zT({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Mg(e,n){return Xu(4,2,e,n)}function Og(e,n){return Xu(4,4,e,n)}function Vg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function kg(e,n,s){s=s!=null?s.concat([e]):null,Xu(4,4,Vg.bind(null,n,e),s)}function Vf(){}function Ug(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Lg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Af(n,o[1]))return o[0];if(o=e(),Kr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[o,n],o}function kf(e,n,s){return s===void 0||(Zi&1073741824)!==0&&(jt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=jy(),Mt.lanes|=e,Ps|=e,s)}function jg(e,n,s,o){return Sn(s,n)?s:Da.current!==null?(e=kf(e,s,o),Sn(e,n)||(De=!0),e):(Zi&42)===0||(Zi&1073741824)!==0&&(jt&261930)===0?(De=!0,e.memoizedState=s):(e=jy(),Mt.lanes|=e,Ps|=e,n)}function Pg(e,n,s,o,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=B.T,E={};B.T=E,jf(e,!1,n,s);try{var R=h(),P=B.S;if(P!==null&&P(E,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=kT(R,o);sl(e,n,K,In(e))}else sl(e,n,o,In(e))}catch(X){sl(e,n,{then:function(){},status:"rejected",reason:X},In())}finally{W.p=f,g!==null&&E.types!==null&&(g.types=E.types),B.T=g}}function BT(){}function Uf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=zg(e).queue;Pg(e,h,n,rt,s===null?BT:function(){return Bg(e),s(o)})}function zg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:rt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Bg(e){var n=zg(e);n.next===null&&(n=e.alternate.memoizedState),sl(e,n.next.queue,{},In())}function Lf(){return Ye(Tl)}function qg(){return Te().memoizedState}function Hg(){return Te().memoizedState}function qT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Os(s);var o=Vs(n,e,s);o!==null&&(_n(o,n,s),Wo(o,n,s)),n={cache:ff()},e.payload=n;return}n=n.return}}function HT(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(e)?Gg(n,s):(s=tf(e,n,s,o),s!==null&&(_n(s,e,o),Qg(s,n,o)))}function Fg(e,n,s){var o=In();sl(e,n,s,o)}function sl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(e))Gg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,g))return Iu(e,n,h,0),se===null&&Nu(),!1}catch{}if(s=tf(e,n,h,o),s!==null)return _n(s,e,o),Qg(s,n,o),!0}return!1}function jf(e,n,s,o){if(o={lane:2,revertLane:gd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(a(479))}else n=tf(e,s,o,2),n!==null&&_n(n,e,2)}function $u(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function Gg(e,n){Ma=Hu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Qg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,xo(e,s)}}var rl={readContext:Ye,use:Qu,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};rl.useEffectEvent=pe;var Kg={readContext:Ye,use:Qu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:Ig,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Yu(4194308,4,Vg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Kr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Kr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=HT.bind(null,Mt,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=Df(e);var n=e.queue,s=Fg.bind(null,Mt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Vf,useDeferredValue:function(e,n){var s=cn();return kf(s,e,n)},useTransition:function(){var e=Df(!1);return e=Pg.bind(null,Mt,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Mt,h=cn();if(Ht){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(jt&127)!==0||mg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ig(gg.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},pg.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=se.identifierPrefix;if(Ht){var s=Ri,o=Ci;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Fu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=UT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Lf,useFormState:wg,useActionState:wg,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=jf.bind(null,Mt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Rf,useCacheRefresh:function(){return cn().memoizedState=qT.bind(null,Mt)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Pf={readContext:Ye,use:Qu,useCallback:Ug,useContext:Ye,useEffect:Of,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:Lg,useReducer:Ku,useRef:Ng,useState:function(){return Ku(Ji)},useDebugValue:Vf,useDeferredValue:function(e,n){var s=Te();return jg(s,ee.memoizedState,e,n)},useTransition:function(){var e=Ku(Ji)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Lf,useFormState:xg,useActionState:xg,useOptimistic:function(e,n){var s=Te();return vg(s,ee,e,n)},useMemoCache:Rf,useCacheRefresh:Hg};Pf.useEffectEvent=Dg;var Yg={readContext:Ye,use:Qu,useCallback:Ug,useContext:Ye,useEffect:Of,useImperativeHandle:kg,useInsertionEffect:Mg,useLayoutEffect:Og,useMemo:Lg,useReducer:If,useRef:Ng,useState:function(){return If(Ji)},useDebugValue:Vf,useDeferredValue:function(e,n){var s=Te();return ee===null?kf(s,e,n):jg(s,ee.memoizedState,e,n)},useTransition:function(){var e=If(Ji)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:dg,useId:qg,useHostTransitionStatus:Lf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e,n){var s=Te();return ee!==null?vg(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Rf,useCacheRefresh:Hg};Yg.useEffectEvent=Dg;function zf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Bf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Os(o);h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Wo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Os(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Vs(e,h,o),n!==null&&(_n(n,e,o),Wo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Os(s);o.tag=2,n!=null&&(o.callback=n),n=Vs(e,o,s),n!==null&&(_n(n,e,s),Wo(n,e,s))}};function Xg(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Go(s,o)||!Go(h,f):!0}function $g(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Bf.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Zg(e){Ru(e)}function Jg(e){console.error(e)}function Wg(e){Ru(e)}function Zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function ty(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function qf(e,n,s){return s=Os(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(e,n)},s}function ey(e){return e=Os(e),e.tag=3,e}function ny(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){ty(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ty(n,s,o),typeof h!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function FT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&xa(n,s,h,!0),s=xn.current,s!==null){switch(s.tag){case 31:case 13:return Hn===null?uc():s.alternate===null&&ge===0&&(ge=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ju?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),dd(e,o,h)),!1;case 22:return s.flags|=65536,o===ju?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),dd(e,o,h)),!1}throw Error(a(435,s.tag))}return dd(e,o,h),uc(),!1}if(Ht)return n=xn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==of&&(e=Error(a(422),{cause:o}),Yo(Pn(e,s)))):(o!==of&&(n=Error(a(423),{cause:o}),Yo(Pn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Pn(o,s),h=qf(e.stateNode,o,h),_f(e,h),ge!==4&&(ge=2)),!1;var f=Error(a(520),{cause:o});if(f=Pn(f,s),dl===null?dl=[f]:dl.push(f),ge!==4&&(ge=2),n===null)return!0;o=Pn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=qf(s.stateNode,o,e),_f(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(zs===null||!zs.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ey(h),ny(h,e,s,o),_f(s,h),!1}s=s.return}while(s!==null);return!1}var Hf=Error(a(461)),De=!1;function Xe(e,n,s,o){n.child=e===null?ag(n,null,s,o):Qr(n,e.child,s,o)}function iy(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return qr(n),o=Sf(e,n,s,g,f,h),E=wf(),e!==null&&!De?(xf(e,n,h),Wi(e,n,h)):(Ht&&E&&rf(n),n.flags|=1,Xe(e,n,o,h),n.child)}function sy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!ef(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ry(e,n,f,o,h)):(e=Mu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Go,s(g,o)&&e.ref===n.ref)return Wi(e,n,h)}return n.flags|=1,e=Ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function ry(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Go(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,Zf(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Wi(e,n,h)}return Ff(e,n,s,o,h)}function ay(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return oy(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?ug(n,f):Ef(),cg(n);else return o=n.lanes=536870912,oy(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),ug(n,f),Us(),n.memoizedState=null):(e!==null&&Uu(n,null),Ef(),Us());return Xe(e,n,h,s),n.child}function al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(e,n,s,o,h){var f=mf();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(n,null),Ef(),cg(n),e!==null&&xa(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ly(e,n,s){return Qr(n,e.child,null,s),e=Ju(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function GT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ht){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,al(null,e);if(bf(n),(e=oe)?(e=E_(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Gp(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Is(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(bf(n),h)if(n.flags&256)n.flags&=-257,n=ly(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||xa(e,n,s,!1),h=(s&e.childLanes)!==0,De||h){if(o=se,o!==null&&(g=Co(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,jr(e,g),_n(o,e,g),Hf;uc(),n=ly(e,n,s)}else e=f.treeContext,oe=Fn(g.nextSibling),Ke=n,Ht=!0,Ns=null,qn=!1,e!==null&&Yp(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=Ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Ff(e,n,s,o,h){return qr(n),s=Sf(e,n,s,o,void 0,h),o=wf(),e!==null&&!De?(xf(e,n,h),Wi(e,n,h)):(Ht&&o&&rf(n),n.flags|=1,Xe(e,n,s,h),n.child)}function uy(e,n,s,o,h,f){return qr(n),n.updateQueue=null,s=fg(n,o,s,h),hg(e),o=wf(),e!==null&&!De?(xf(e,n,f),Wi(e,n,f)):(Ht&&o&&rf(n),n.flags|=1,Xe(e,n,s,f),n.child)}function cy(e,n,s,o,h){if(qr(n),n.stateNode===null){var f=ba,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Bf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},gf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):ba,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(zf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Bf.enqueueReplaceState(f,f.state,null),el(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,R=Yr(s,E);f.props=R;var P=f.context,K=s.contextType;g=ba,typeof K=="object"&&K!==null&&(g=Ye(K));var X=s.getDerivedStateFromProps;K=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&$g(n,f,o,g),Ms=!1;var z=n.memoizedState;f.state=z,el(n,o,f,h),tl(),P=n.memoizedState,E||z!==P||Ms?(typeof X=="function"&&(zf(n,s,X,o),P=n.memoizedState),(R=Ms||Xg(n,s,R,o,z,P,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,yf(e,n),g=n.memoizedProps,K=Yr(s,g),f.props=K,X=n.pendingProps,z=f.context,P=s.contextType,R=ba,typeof P=="object"&&P!==null&&(R=Ye(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==R)&&$g(n,f,o,R),Ms=!1,z=n.memoizedState,f.state=z,el(n,o,f,h),tl();var H=n.memoizedState;g!==X||z!==H||Ms||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(zf(n,s,E,o),H=n.memoizedState),(K=Ms||Xg(n,s,K,o,z,H,R)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=R,o=K):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Wi(e,n,h),e}function hy(e,n,s,o){return zr(),n.flags|=256,Xe(e,n,s,o),n.child}var Gf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qf(e){return{baseLanes:e,cachePool:tg()}}function Kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function fy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ht){if(h?ks(n):Us(),(e=oe)?(e=E_(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Rs!==null?{id:Ci,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Gp(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Is(n);return Nd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Us(),h=n.mode,E=tc({mode:"hidden",children:E},h),o=Pr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Qf(s),o.childLanes=Kf(e,g,s),n.memoizedState=Gf,al(null,o)):(ks(n),Yf(n,E))}var R=e.memoizedState;if(R!==null&&(E=R.dehydrated,E!==null)){if(f)n.flags&256?(ks(n),n.flags&=-257,n=Xf(e,n,s)):n.memoizedState!==null?(Us(),n.child=e.child,n.flags|=128,n=null):(Us(),E=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),E=Pr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,e.child,null,s),o=n.child,o.memoizedState=Qf(s),o.childLanes=Kf(e,g,s),n.memoizedState=Gf,n=al(null,o));else if(ks(n),Nd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Yo({value:o,source:null,stack:null}),n=Xf(e,n,s)}else if(De||xa(e,n,s,!1),g=(s&e.childLanes)!==0,De||g){if(g=se,g!==null&&(o=Co(g,s),o!==0&&o!==R.retryLane))throw R.retryLane=o,jr(e,o),_n(g,e,o),Hf;Rd(E)||uc(),n=Xf(e,n,s)}else Rd(E)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=Fn(E.nextSibling),Ke=n,Ht=!0,Ns=null,qn=!1,e!==null&&Yp(n,e),n=Yf(n,o.children),n.flags|=4096);return n}return h?(Us(),E=o.fallback,h=n.mode,R=e.child,P=R.sibling,o=Ki(R,{mode:"hidden",children:o.children}),o.subtreeFlags=R.subtreeFlags&65011712,P!==null?E=Ki(P,E):(E=Pr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Qf(s):(h=E.cachePool,h!==null?(R=Ne._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=tg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Kf(e,g,s),n.memoizedState=Gf,al(e.child,o)):(ks(n),s=e.child,e=s.sibling,s=Ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Yf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Xf(e,n,s){return Qr(n,e.child,null,s),e=Yf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function dy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),cf(e.return,n,s)}function $f(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function my(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,st(Ee,g),Xe(e,n,o,s),o=Ht?Ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dy(e,s,n);else if(e.tag===19)dy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),$f(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}$f(n,!0,s,null,f,o);break;case"together":$f(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Wi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ps|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(xa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function QT(e,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Ds(n,Ne,e.memoizedState.cache),zr();break;case 27:case 5:gt(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Ds(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,bf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ks(n),n.flags|=128,null):(s&n.child.childLanes)!==0?fy(e,n,s):(ks(n),e=Wi(e,n,s),e!==null?e.sibling:null);ks(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(xa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return my(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,ay(e,n,s,n.pendingProps);case 24:Ds(n,Ne,e.memoizedState.cache)}return Wi(e,n,s)}function py(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!Zf(e,s)&&(n.flags&128)===0)return De=!1,QT(e,n,s);De=(e.flags&131072)!==0}else De=!1,Ht&&(n.flags&1048576)!==0&&Kp(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")ef(e)?(o=Yr(e,o),n.tag=1,n=cy(null,n,e,o,s)):(n.tag=0,n=Ff(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===ut){n.tag=11,n=iy(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=sy(null,n,e,o,s);break t}}throw n=vt(e)||e,Error(a(306,n,""))}}return n;case 0:return Ff(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Yr(o,n.pendingProps),cy(e,n,o,h,s);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,yf(e,n),el(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Ds(n,Ne,o),o!==f.cache&&hf(n,[Ne],s,!0),tl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=hy(e,n,o,s);break t}else if(o!==h){h=Pn(Error(a(424)),n),Yo(h),n=hy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=Fn(e.firstChild),Ke=n,Ht=!0,Ns=null,qn=!0,s=ag(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zr(),o===h){n=Wi(e,n,s);break t}Xe(e,n,o,s)}n=n.child}return n;case 26:return Wu(e,n),e===null?(s=x_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Ht||(s=n.type,e=n.pendingProps,o=gc(Nt.current).createElement(s),o[xe]=n,o[ze]=e,$e(o,s,e),Ce(o),n.stateNode=o):n.memoizedState=x_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return gt(n),e===null&&Ht&&(o=n.stateNode=A_(n.type,n.pendingProps,Nt.current),Ke=n,qn=!0,h=oe,Fs(n.type)?(Id=h,oe=Fn(o.firstChild)):oe=h),Xe(e,n,n.pendingProps.children,s),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ht&&((h=o=oe)&&(o=bb(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,Ke=n,oe=Fn(o.firstChild),qn=!1,h=!0):h=!1),h||Is(n)),gt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,wd(h,f)?o=null:g!==null&&wd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Sf(e,n,LT,null,null,s),Tl._currentValue=h),Wu(e,n),Xe(e,n,o,s),n.child;case 6:return e===null&&Ht&&((e=s=oe)&&(s=Ab(s,n.pendingProps,qn),s!==null?(n.stateNode=s,Ke=n,oe=null,e=!0):e=!1),e||Is(n)),null;case 13:return fy(e,n,s);case 4:return ye(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qr(n,null,o,s):Xe(e,n,o,s),n.child;case 11:return iy(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ds(n,n.type,o.value),Xe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,s),n.child;case 14:return sy(e,n,n.type,n.pendingProps,s);case 15:return ry(e,n,n.type,n.pendingProps,s);case 19:return my(e,n,s);case 31:return GT(e,n,s);case 22:return ay(e,n,s,n.pendingProps);case 24:return qr(n),o=Ye(Ne),e===null?(h=mf(),h===null&&(h=se,f=ff(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},gf(n),Ds(n,Ne,h)):((e.lanes&s)!==0&&(yf(e,n),el(n,null,null,s),tl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ds(n,Ne,o)):(o=f.cache,Ds(n,Ne,o),o!==h.cache&&hf(n,[Ne],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function ts(e){e.flags|=4}function Jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(qy())e.flags|=8192;else throw Gr=ju,pf}else e.flags&=-16777217}function gy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!D_(n))if(qy())e.flags|=8192;else throw Gr=ju,pf}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,ja|=n)}function ol(e,n){if(!Ht)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function KT(e,n,s){var o=n.pendingProps;switch(af(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),$i(Ne),F(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wa(n)?ts(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,lf())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(ts(n),f!==null?(le(n),gy(n,f)):(le(n),Jf(n,h,null,o,s))):f?f!==e.memoizedState?(ts(n),le(n),gy(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&ts(n),le(n),Jf(n,h,e,o,s)),null;case 27:if($t(n),s=Nt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=ot.current,wa(n)?Xp(n):(e=A_(h,o,s),n.stateNode=e,ts(n))}return le(n),null;case 5:if($t(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=ot.current,wa(n))Xp(n);else{var g=gc(Nt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[xe]=n,f[ze]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch($e(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&ts(n)}}return le(n),Jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&ts(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Nt.current,wa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[xe]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||f_(e.nodeValue,s)),e||Is(n,!0)}else e=gc(e).createTextNode(o),e[xe]=n,n.stateNode=e}return le(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[xe]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else s=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[xe]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=lf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),le(n),null);case 4:return F(),e===null&&Ed(n.stateNode.containerInfo),le(n),null;case 10:return $i(n.type),le(n),null;case 19:if(Q(Ee),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(ge!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,ol(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Fp(s,e),s=s.sibling;return st(Ee,Ee.current&1|2),Ht&&Yi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>ac&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Ht)return le(n),null}else 2*ln()-o.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,s=Ee.current,st(Ee,h?s&1|2:s&1),Ht&&Yi(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return Cn(n),Tf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Q(Hr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),$i(Ne),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function YT(e,n){switch(af(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return $i(Ne),F(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $t(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Ee),null;case 4:return F(),null;case 10:return $i(n.type),null;case 22:case 23:return Cn(n),Tf(),e!==null&&Q(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return $i(Ne),null;case 25:return null;default:return null}}function yy(e,n){switch(af(n),n.tag){case 3:$i(Ne),F();break;case 26:case 27:case 5:$t(n);break;case 4:F();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:Q(Ee);break;case 10:$i(n.type);break;case 22:case 23:Cn(n),Tf(),e!==null&&Q(Hr);break;case 24:$i(Ne)}}function ll(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Wt(n,n.return,E)}}function Ls(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var R=s,P=E;try{P()}catch(K){Wt(h,R,K)}}}o=o.next}while(o!==f)}}catch(K){Wt(n,n.return,K)}}function _y(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{lg(n,s)}catch(o){Wt(e,e.return,o)}}}function vy(e,n,s){s.props=Yr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,n,o)}}function ul(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Wt(e,n,h)}}function Ni(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function Ey(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Wf(e,n,s){try{var o=e.stateNode;gb(o,e.type,s,n),o[ze]=n}catch(h){Wt(e,e.return,h)}}function Ty(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Fs(e.type)||e.tag===4}function td(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ty(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Fs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ed(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(ed(e,n,s),e=e.sibling;e!==null;)ed(e,n,s),e=e.sibling}function nc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Fs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(nc(e,n,s),e=e.sibling;e!==null;)nc(e,n,s),e=e.sibling}function by(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,o,s),n[xe]=e,n[ze]=s}catch(f){Wt(e,e.return,f)}}var es=!1,Me=!1,nd=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,qe=null;function XT(e,n){if(e=e.containerInfo,Ad=Ac,e=kp(e),Yh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,R=-1,P=0,K=0,X=e,z=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(R=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++K===o&&(R=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=E===-1||R===-1?null:{start:E,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Sd={focusedElem:e,selectionRange:s},Ac=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ht=Yr(s.type,h);e=o.getSnapshotBeforeUpdate(ht,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Cd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function Sy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:is(e,s),o&4&&ll(5,s);break;case 1:if(is(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(s,s.return,g)}else{var h=Yr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(s,s.return,g)}}o&64&&_y(s),o&512&&ul(s,s.return);break;case 3:if(is(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{lg(e,n)}catch(g){Wt(s,s.return,g)}}break;case 27:n===null&&o&4&&by(s);case 26:case 5:is(e,s),n===null&&o&4&&Ey(s),o&512&&ul(s,s.return);break;case 12:is(e,s);break;case 31:is(e,s),o&4&&Cy(e,s);break;case 13:is(e,s),o&4&&Ry(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=sb.bind(null,s),Sb(e,s))));break;case 22:if(o=s.memoizedState!==null||es,!o){n=n!==null&&n.memoizedState!==null||Me,h=es;var f=Me;es=o,(Me=n)&&!f?ss(e,s,(s.subtreeFlags&8772)!==0):is(e,s),es=h,Me=f}break;case 30:break;default:is(e,s)}}function wy(e){var n=e.alternate;n!==null&&(e.alternate=null,wy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,mn=!1;function ns(e,n,s){for(s=s.child;s!==null;)xy(e,n,s),s=s.sibling}function xy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Yn,s)}catch{}switch(s.tag){case 26:Me||Ni(s,n),ns(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||Ni(s,n);var o=fe,h=mn;Fs(s.type)&&(fe=s.stateNode,mn=!1),ns(e,n,s),_l(s.stateNode),fe=o,mn=h;break;case 5:Me||Ni(s,n);case 6:if(o=fe,h=mn,fe=null,ns(e,n,s),fe=o,mn=h,fe!==null)if(mn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{fe.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:fe!==null&&(mn?(e=fe,__(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qa(e)):__(fe,s.stateNode));break;case 4:o=fe,h=mn,fe=s.stateNode.containerInfo,mn=!0,ns(e,n,s),fe=o,mn=h;break;case 0:case 11:case 14:case 15:Ls(2,s,n),Me||Ls(4,s,n),ns(e,n,s);break;case 1:Me||(Ni(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&vy(s,n,o)),ns(e,n,s);break;case 21:ns(e,n,s);break;case 22:Me=(o=Me)||s.memoizedState!==null,ns(e,n,s),Me=o;break;default:ns(e,n,s)}}function Cy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(s){Wt(n,n.return,s)}}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(s){Wt(n,n.return,s)}}function $T(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ay),n;default:throw Error(a(435,e.tag))}}function ic(e,n){var s=$T(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=rb.bind(null,e,o);o.then(h,h)}})}function pn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Fs(E.type)){fe=E.stateNode,mn=!1;break t}break;case 5:fe=E.stateNode,mn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,mn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));xy(f,g,h),fe=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Ny(n,e),n=n.sibling}var si=null;function Ny(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),gn(e),o&4&&(Ls(3,e,e.return),ll(3,e),Ls(5,e,e.return));break;case 1:pn(n,e),gn(e),o&512&&(Me||s===null||Ni(s,s.return)),o&64&&es&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=si;if(pn(n,e),gn(e),o&512&&(Me||s===null||Ni(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[pi]||f[xe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,o,s),f[xe]=e,Ce(f),o=f;break t;case"link":var g=N_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;case"meta":if(g=N_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[xe]=e,Ce(f),o=f}e.stateNode=o}else I_(h,e.type,e.stateNode);else e.stateNode=R_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?I_(h,e.type,e.stateNode):R_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Wf(e,e.memoizedProps,s.memoizedProps)}break;case 27:pn(n,e),gn(e),o&512&&(Me||s===null||Ni(s,s.return)),s!==null&&o&4&&Wf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,e),gn(e),o&512&&(Me||s===null||Ni(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ht){Wt(e,e.return,ht)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Wf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(nd=!0);break;case 6:if(pn(n,e),gn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ht){Wt(e,e.return,ht)}}break;case 3:if(vc=null,h=si,si=yc(n.containerInfo),pn(n,e),si=h,gn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(ht){Wt(e,e.return,ht)}nd&&(nd=!1,Iy(e));break;case 4:o=si,si=yc(e.stateNode.containerInfo),pn(n,e),gn(e),si=o;break;case 12:pn(n,e),gn(e);break;case 31:pn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:pn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=es,K=Me;if(es=P||h,Me=K||R,pn(n,e),Me=K,es=P,gn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||es||Me||Xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=R.stateNode;var X=R.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ht){Wt(R,R.return,ht)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ht){Wt(R,R.return,ht)}}}else if(n.tag===18){if(s===null){R=n;try{var H=R.stateNode;h?v_(H,!0):v_(R.stateNode,!1)}catch(ht){Wt(R,R.return,ht)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ic(e,s))));break;case 19:pn(n,e),gn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:pn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Ty(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=td(e);nc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var E=td(e);nc(e,E,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=td(e);ed(e,P,R);break;default:throw Error(a(161))}}catch(K){Wt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Iy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Iy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function is(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Sy(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Ls(4,n,n.return),Xr(n);break;case 1:Ni(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&vy(n,n.return,s),Xr(n);break;case 27:_l(n.stateNode);case 26:case 5:Ni(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function ss(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:ss(h,f,s),ll(4,f);break;case 1:if(ss(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Wt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)og(R[h],E)}catch(P){Wt(o,o.return,P)}}s&&g&64&&_y(f),ul(f,f.return);break;case 27:by(f);case 26:case 5:ss(h,f,s),s&&o===null&&g&4&&Ey(f),ul(f,f.return);break;case 12:ss(h,f,s);break;case 31:ss(h,f,s),s&&g&4&&Cy(h,f);break;case 13:ss(h,f,s),s&&g&4&&Ry(h,f);break;case 22:f.memoizedState===null&&ss(h,f,s),ul(f,f.return);break;case 30:break;default:ss(h,f,s)}n=n.sibling}}function id(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Xo(s))}function sd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e))}function ri(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Dy(e,n,s,o),n=n.sibling}function Dy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,s,o),h&2048&&ll(9,n);break;case 1:ri(e,n,s,o);break;case 3:ri(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e)));break;case 12:if(h&2048){ri(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ri(e,n,s,o);break;case 31:ri(e,n,s,o);break;case 13:ri(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,s,o):cl(e,n):f._visibility&2?ri(e,n,s,o):(f._visibility|=2,ka(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&id(g,n);break;case 24:ri(e,n,s,o),h&2048&&sd(n.alternate,n);break;default:ri(e,n,s,o)}}function ka(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,R=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,E,R,h),ll(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?ka(f,g,E,R,h):cl(f,g):(K._visibility|=2,ka(f,g,E,R,h)),h&&P&2048&&id(g.alternate,g);break;case 24:ka(f,g,E,R,h),h&&P&2048&&sd(g.alternate,g);break;default:ka(f,g,E,R,h)}n=n.sibling}}function cl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:cl(s,o),h&2048&&id(o.alternate,o);break;case 24:cl(s,o),h&2048&&sd(o.alternate,o);break;default:cl(s,o)}n=n.sibling}}var hl=8192;function Ua(e,n,s){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)My(e,n,s),e=e.sibling}function My(e,n,s){switch(e.tag){case 26:Ua(e,n,s),e.flags&hl&&e.memoizedState!==null&&Ub(s,si,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,s);break;case 3:case 4:var o=si;si=yc(e.stateNode.containerInfo),Ua(e,n,s),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ua(e,n,s),hl=o):Ua(e,n,s));break;default:Ua(e,n,s)}}function Oy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,ky(o,e)}Oy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vy(e),e=e.sibling}function Vy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Ls(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):fl(e);break;default:fl(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,ky(o,e)}Oy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Ls(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function ky(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Ls(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(wy(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var ZT={getCacheForType:function(e){var n=Ye(Ne),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(Ne).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,Yt=0,se=null,Vt=null,jt=0,Jt=0,Rn=null,js=!1,La=!1,rd=!1,rs=0,ge=0,Ps=0,$r=0,ad=0,Nn=0,ja=0,dl=null,yn=null,od=!1,rc=0,Uy=0,ac=1/0,oc=null,zs=null,Ue=0,Bs=null,Pa=null,as=0,ld=0,ud=null,Ly=null,ml=0,cd=null;function In(){return(Yt&2)!==0&&jt!==0?jt&-jt:B.T!==null?gd():lu()}function jy(){if(Nn===0)if((jt&536870912)===0||Ht){var e=Ar;Ar<<=1,(Ar&3932160)===0&&(Ar=262144),Nn=e}else Nn=536870912;return e=xn.current,e!==null&&(e.flags|=32),Nn}function _n(e,n,s){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(za(e,0),qs(e,jt,Nn,!1)),Sr(e,s),((Yt&2)===0||e!==se)&&(e===se&&((Yt&2)===0&&($r|=s),ge===4&&qs(e,jt,Nn,!1)),Ii(e))}function Py(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?eb(e,n):fd(e,n,!0),f=o;do{if(h===0){La&&!o&&qs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!WT(s)){h=fd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=dl;var R=E.current.memoizedState.isDehydrated;if(R&&(za(E,g).flags|=256),g=fd(E,g,!1),g!==2){if(rd&&!R){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(e,0),qs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:qs(o,n,Nn,!js);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-ln(),10<h)){if(qs(o,n,Nn,!js),fi(o,0,!0)!==0)break t;as=n,o.timeoutHandle=g_(zy.bind(null,o,s,yn,oc,od,n,Nn,$r,ja,js,f,"Throttled",-0,0),h);break t}zy(o,s,yn,oc,od,n,Nn,$r,ja,js,f,null,-0,0)}}break}while(!0);Ii(e)}function zy(e,n,s,o,h,f,g,E,R,P,K,X,z,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},My(n,f,X);var ht=(f&62914560)===f?rc-ln():(f&4194048)===f?Uy-ln():0;if(ht=Lb(X,ht),ht!==null){as=f,e.cancelPendingCommit=ht(Yy.bind(null,e,n,f,s,o,h,g,E,R,K,X,null,z,H)),qs(e,f,g,!P);return}}Yy(e,n,f,s,o,h,g,E,R)}function WT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function qs(e,n,s,o){n&=~ad,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&wr(e,s,n)}function lc(){return(Yt&6)===0?(pl(0),!1):!0}function hd(){if(Vt!==null){if(Jt===0)var e=Vt.return;else e=Vt,Xi=Br=null,Cf(e),Ia=null,Zo=0,e=Vt;for(;e!==null;)yy(e.alternate,e),e=e.return;Vt=null}}function za(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,vb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),as=0,hd(),se=e,Vt=s=Ki(e.current,null),jt=n,Jt=0,Rn=null,js=!1,La=Xn(e,n),rd=!1,ja=Nn=ad=$r=Ps=ge=0,yn=dl=null,od=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return rs=n,Nu(),s}function By(e,n){Mt=null,B.H=rl,n===Na||n===Lu?(n=ig(),Jt=3):n===pf?(n=ig(),Jt=4):Jt=n===Hf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Vt===null&&(ge=1,Zu(e,Pn(n,e.current)))}function qy(){var e=xn.current;return e===null?!0:(jt&4194048)===jt?Hn===null:(jt&62914560)===jt||(jt&536870912)!==0?e===Hn:!1}function Hy(){var e=B.H;return B.H=rl,e===null?rl:e}function Fy(){var e=B.A;return B.A=ZT,e}function uc(){ge=4,js||(jt&4194048)!==jt&&xn.current!==null||(La=!0),(Ps&134217727)===0&&($r&134217727)===0||se===null||qs(se,jt,Nn,!1)}function fd(e,n,s){var o=Yt;Yt|=2;var h=Hy(),f=Fy();(se!==e||jt!==n)&&(oc=null,za(e,n)),n=!1;var g=ge;t:do try{if(Jt!==0&&Vt!==null){var E=Vt,R=Rn;switch(Jt){case 8:hd(),g=6;break t;case 3:case 2:case 9:case 6:xn.current===null&&(n=!0);var P=Jt;if(Jt=0,Rn=null,Ba(e,E,R,P),s&&La){g=0;break t}break;default:P=Jt,Jt=0,Rn=null,Ba(e,E,R,P)}}tb(),g=ge;break}catch(K){By(e,K)}while(!0);return n&&e.shellSuspendCounter++,Xi=Br=null,Yt=o,B.H=h,B.A=f,Vt===null&&(se=null,jt=0,Nu()),g}function tb(){for(;Vt!==null;)Gy(Vt)}function eb(e,n){var s=Yt;Yt|=2;var o=Hy(),h=Fy();se!==e||jt!==n?(oc=null,ac=ln()+500,za(e,n)):La=Xn(e,n);t:do try{if(Jt!==0&&Vt!==null){n=Vt;var f=Rn;e:switch(Jt){case 1:Jt=0,Rn=null,Ba(e,n,f,1);break;case 2:case 9:if(eg(f)){Jt=0,Rn=null,Qy(n);break}n=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),Ii(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:eg(f)?(Jt=0,Rn=null,Qy(n)):(Jt=0,Rn=null,Ba(e,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var E=Vt;if(g?D_(g):E.stateNode.complete){Jt=0,Rn=null;var R=E.sibling;if(R!==null)Vt=R;else{var P=E.return;P!==null?(Vt=P,cc(P)):Vt=null}break e}}Jt=0,Rn=null,Ba(e,n,f,5);break;case 6:Jt=0,Rn=null,Ba(e,n,f,6);break;case 8:hd(),ge=6;break t;default:throw Error(a(462))}}nb();break}catch(K){By(e,K)}while(!0);return Xi=Br=null,B.H=o,B.A=h,Yt=s,Vt!==null?0:(se=null,jt=0,Nu(),ge)}function nb(){for(;Vt!==null&&!Bh();)Gy(Vt)}function Gy(e){var n=py(e.alternate,e,rs);e.memoizedProps=e.pendingProps,n===null?cc(e):Vt=n}function Qy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=uy(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=uy(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Cf(n);default:yy(s,n),n=Vt=Fp(n,rs),n=py(s,n,rs)}e.memoizedProps=e.pendingProps,n===null?cc(e):Vt=n}function Ba(e,n,s,o){Xi=Br=null,Cf(n),Ia=null,Zo=0;var h=n.return;try{if(FT(e,h,n,s,jt)){ge=1,Zu(e,Pn(s,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;ge=1,Zu(e,Pn(s,e.current)),Vt=null;return}n.flags&32768?(Ht||o===1?e=!0:La||(jt&536870912)!==0?e=!1:(js=e=!0,(o===2||o===9||o===3||o===6)&&(o=xn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ky(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){Ky(n,js);return}e=n.return;var s=KT(n.alternate,n,rs);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);ge===0&&(ge=5)}function Ky(e,n){do{var s=YT(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);ge=6,Vt=null}function Yy(e,n,s,o,h,f,g,E,R){e.cancelPendingCommit=null;do hc();while(Ue!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Wh,Fh(e,s,f,g,E,R),e===se&&(Vt=se=null,jt=0),Pa=n,Bs=e,as=s,ld=f,ud=h,Ly=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ab(_s,function(){return Wy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=W.p,W.p=2,g=Yt,Yt|=4;try{XT(e,n,s)}finally{Yt=g,W.p=h,B.T=o}}Ue=1,Xy(),$y(),Zy()}}function Xy(){if(Ue===1){Ue=0;var e=Bs,n=Pa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var o=W.p;W.p=2;var h=Yt;Yt|=4;try{Ny(n,e);var f=Sd,g=kp(e.containerInfo),E=f.focusedElem,R=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Vp(E.ownerDocument.documentElement,E)){if(R!==null&&Yh(E)){var P=R.start,K=R.end;if(K===void 0&&(K=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(K,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),ht=E.textContent.length,yt=Math.min(R.start,ht),ie=R.end===void 0?yt:Math.min(R.end,ht);!H.extend&&yt>ie&&(g=ie,ie=yt,yt=g);var k=Op(E,yt),M=Op(E,ie);if(k&&M&&(H.rangeCount!==1||H.anchorNode!==k.node||H.anchorOffset!==k.offset||H.focusNode!==M.node||H.focusOffset!==M.offset)){var j=X.createRange();j.setStart(k.node,k.offset),H.removeAllRanges(),yt>ie?(H.addRange(j),H.extend(M.node,M.offset)):(j.setEnd(M.node,M.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Ac=!!Ad,Sd=Ad=null}finally{Yt=h,W.p=o,B.T=s}}e.current=n,Ue=2}}function $y(){if(Ue===2){Ue=0;var e=Bs,n=Pa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var o=W.p;W.p=2;var h=Yt;Yt|=4;try{Sy(e,n.alternate,n)}finally{Yt=h,W.p=o,B.T=s}}Ue=3}}function Zy(){if(Ue===4||Ue===3){Ue=0,eu();var e=Bs,n=Pa,s=as,o=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Pa=Bs=null,Jy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(zs=null),Hi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,h=W.p,W.p=2,B.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{B.T=n,W.p=h}}(as&3)!==0&&hc(),Ii(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===cd?ml++:(ml=0,cd=e):ml=0,pl(0)}}function Jy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Xo(n)))}function hc(){return Xy(),$y(),Zy(),Wy()}function Wy(){if(Ue!==5)return!1;var e=Bs,n=ld;ld=0;var s=Hi(as),o=B.T,h=W.p;try{W.p=32>s?32:s,B.T=null,s=ud,ud=null;var f=Bs,g=as;if(Ue=0,Pa=Bs=null,as=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,Vy(f.current),Dy(f,f.current,g,s),Yt=E,pl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{W.p=h,B.T=o,Jy(e,n)}}function t_(e,n,s){n=Pn(s,n),n=qf(e.stateNode,n,2),e=Vs(e,n,2),e!==null&&(Sr(e,2),Ii(e))}function Wt(e,n,s){if(e.tag===3)t_(e,e,s);else for(;n!==null;){if(n.tag===3){t_(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(zs===null||!zs.has(o))){e=Pn(s,e),s=ey(2),o=Vs(n,s,2),o!==null&&(ny(s,o,n,e),Sr(o,2),Ii(o));break}}n=n.return}}function dd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new JT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(rd=!0,h.add(s),e=ib.bind(null,e,n,s),n.then(e,e))}function ib(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(jt&s)===s&&(ge===4||ge===3&&(jt&62914560)===jt&&300>ln()-rc?(Yt&2)===0&&za(e,0):ad|=s,ja===jt&&(ja=0)),Ii(e)}function e_(e,n){n===0&&(n=ou()),e=jr(e,n),e!==null&&(Sr(e,n),Ii(e))}function sb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),e_(e,s)}function rb(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),e_(e,s)}function ab(e,n){return ke(e,n)}var fc=null,qa=null,md=!1,dc=!1,pd=!1,Hs=0;function Ii(e){e!==qa&&e.next===null&&(qa===null?fc=qa=e:qa=qa.next=e),dc=!0,md||(md=!0,lb())}function pl(e,n){if(!pd&&dc){pd=!0;do for(var s=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,r_(o,f))}else f=jt,f=fi(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(s=!0,r_(o,f));o=o.next}while(s);pd=!1}}function ob(){n_()}function n_(){dc=md=!1;var e=0;Hs!==0&&_b()&&(e=Hs);for(var n=ln(),s=null,o=fc;o!==null;){var h=o.next,f=i_(o,n);f===0?(o.next=null,s===null?fc=h:s.next=h,h===null&&(qa=s)):(s=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Ue!==0&&Ue!==5||pl(e),Hs!==0&&(Hs=0)}function i_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,R=h[g];R===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Hh(E,n)):R<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,s=jt,s=fi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ys(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Xn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ys(o),Hi(s)){case 2:case 8:s=wo;break;case 32:s=_s;break;case 268435456:s=nu;break;default:s=_s}return o=s_.bind(null,e),s=ke(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ys(o),e.callbackPriority=2,e.callbackNode=null,2}function s_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(hc()&&e.callbackNode!==s)return null;var o=jt;return o=fi(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Py(e,o,n),i_(e,ln()),e.callbackNode!=null&&e.callbackNode===s?s_.bind(null,e):null)}function r_(e,n){if(hc())return null;Py(e,n,!0)}function lb(){Eb(function(){(Yt&6)!==0?ke(So,ob):n_()})}function gd(){if(Hs===0){var e=Ca;e===0&&(e=ci,ci<<=1,(ci&261888)===0&&(ci=256)),Hs=e}return Hs}function a_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function o_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function ub(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=a_((h[ze]||null).action),g=o.submitter;g&&(n=(n=g[ze]||null)?a_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ai("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Hs!==0){var R=g?o_(h,g):new FormData(h);Uf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(E.preventDefault(),R=g?o_(h,g):new FormData(h),Uf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var yd=0;yd<Jh.length;yd++){var _d=Jh[yd],cb=_d.toLowerCase(),hb=_d[0].toUpperCase()+_d.slice(1);ii(cb,"on"+hb)}ii(jp,"onAnimationEnd"),ii(Pp,"onAnimationIteration"),ii(zp,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(CT,"onTransitionRun"),ii(RT,"onTransitionStart"),ii(NT,"onTransitionCancel"),ii(Bp,"onTransitionEnd"),vi("onMouseEnter",["mouseout","mouseover"]),vi("onMouseLeave",["mouseout","mouseover"]),vi("onPointerEnter",["pointerout","pointerover"]),vi("onPointerLeave",["pointerout","pointerover"]),_i("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),_i("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),_i("onBeforeInput",["compositionend","keypress","textInput","paste"]),_i("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),_i("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function l_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],R=E.instance,P=E.currentTarget;if(E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(K){Ru(K)}h.currentTarget=null,f=R}else for(g=0;g<o.length;g++){if(E=o[g],R=E.instance,P=E.currentTarget,E=E.listener,R!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(K){Ru(K)}h.currentTarget=null,f=R}}}}function kt(e,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var o=e+"__bubble";s.has(o)||(u_(n,e,2,!1),s.add(o))}function vd(e,n,s){var o=0;n&&(o|=4),u_(s,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function Ed(e){if(!e[mc]){e[mc]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(fb.has(s)||vd(s,!1,e),vd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,vd("selectionchange",!1,n))}}function u_(e,n,s,o){switch(j_(n)){case 2:var h=zb;break;case 8:h=Bb;break;default:h=kd}s=h.bind(null,n,s,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Td(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=gi(E),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){o=f=g;continue t}E=E.parentNode}}o=o.return}Ss(function(){var P=f,K=kn(s),X=[];t:{var z=qp.get(e);if(z!==void 0){var H=Ai,ht=e;switch(e){case"keypress":if(Mr(s)===0)break t;case"keydown":case"keyup":H=wu;break;case"focusin":ht="focus",H=Vr;break;case"focusout":ht="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case jp:case Pp:case zp:H=_u;break;case Bp:H=b;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Qi;break;case"toggle":case"beforetoggle":H=Dt}var yt=(n&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),k=yt?z!==null?z+"Capture":null:z;yt=[];for(var M=P,j;M!==null;){var Y=M;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||k===null||(Y=Wn(M,k),Y!=null&&yt.push(yl(M,Y,j))),ie)break;M=M.return}0<yt.length&&(z=new H(z,ht,null,s,K),X.push({event:z,listeners:yt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&s!==Lo&&(ht=s.relatedTarget||s.fromElement)&&(gi(ht)||ht[mi]))break t;if((H||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,H?(ht=s.relatedTarget||s.toElement,H=P,ht=ht?gi(ht):null,ht!==null&&(ie=c(ht),yt=ht.tag,ht!==ie||yt!==5&&yt!==27&&yt!==6)&&(ht=null)):(H=null,ht=P),H!==ht)){if(yt=Bo,Y="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Qi,Y="onPointerLeave",k="onPointerEnter",M="pointer"),ie=H==null?z:bn(H),j=ht==null?z:bn(ht),z=new yt(Y,M+"leave",H,s,K),z.target=ie,z.relatedTarget=j,Y=null,gi(K)===P&&(yt=new yt(k,M+"enter",ht,s,K),yt.target=j,yt.relatedTarget=ie,Y=yt),ie=Y,H&&ht)e:{for(yt=db,k=H,M=ht,j=0,Y=k;Y;Y=yt(Y))j++;Y=0;for(var mt=M;mt;mt=yt(mt))Y++;for(;0<j-Y;)k=yt(k),j--;for(;0<Y-j;)M=yt(M),Y--;for(;j--;){if(k===M||M!==null&&k===M.alternate){yt=k;break e}k=yt(k),M=yt(M)}yt=null}else yt=null;H!==null&&c_(X,z,H,yt,!1),ht!==null&&ie!==null&&c_(X,ie,ht,yt,!0)}}t:{if(z=P?bn(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Gt=Cp;else if(wp(z))if(Rp)Gt=ST;else{Gt=bT;var dt=TT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ha(P.elementType)&&(Gt=Cp):Gt=AT;if(Gt&&(Gt=Gt(e,P))){xp(X,Gt,s,K);break t}dt&&dt(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(dt=P?bn(P):window,e){case"focusin":(wp(dt)||dt.contentEditable==="true")&&(va=dt,Xh=P,Qo=null);break;case"focusout":Qo=Xh=va=null;break;case"mousedown":$h=!0;break;case"contextmenu":case"mouseup":case"dragend":$h=!1,Up(X,s,K);break;case"selectionchange":if(xT)break;case"keydown":case"keyup":Up(X,s,K)}var Ot;if(Kt)t:{switch(e){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else _a?kr(e,s)&&(Pt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Pt="onCompositionStart");Pt&&(xi&&s.locale!=="ko"&&(_a||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&_a&&(Ot=Po()):(bi=K,jo="value"in bi?bi.value:bi.textContent,_a=!0)),dt=pc(P,Pt),0<dt.length&&(Pt=new wi(Pt,e,null,s,K),X.push({event:Pt,listeners:dt}),Ot?Pt.data=Ot:(Ot=ya(s),Ot!==null&&(Pt.data=Ot)))),(Ot=Ln?yT(e,s):_T(e,s))&&(Pt=pc(P,"onBeforeInput"),0<Pt.length&&(dt=new wi("onBeforeInput","beforeinput",null,s,K),X.push({event:dt,listeners:Pt}),dt.data=Ot)),ub(X,e,P,s,K)}l_(X,n)})}function yl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function pc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,s),h!=null&&o.unshift(yl(e,h,f)),h=Wn(e,n),h!=null&&o.push(yl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function db(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function c_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,R=E.alternate,P=E.stateNode;if(E=E.tag,R!==null&&R===o)break;E!==5&&E!==26&&E!==27||P===null||(R=P,h?(P=Wn(s,f),P!=null&&g.unshift(yl(s,P,R))):h||(P=Wn(s,f),P!=null&&g.push(yl(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var mb=/\r\n?/g,pb=/\u0000|\uFFFD/g;function h_(e){return(typeof e=="string"?e:""+e).replace(mb,`
`).replace(pb,"")}function f_(e,n){return n=h_(n),h_(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||dn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&dn(e,""+o);break;case"className":An(e,"class",o);break;case"tabIndex":An(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,s,o);break;case"style":Uo(e,o,f);break;case"data":if(n!=="object"){An(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":kt("beforetoggle",e),kt("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":Re(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Re(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Re(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Re(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Re(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Re(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Re(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Re(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Re(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pu.get(s)||s,ua(e,s,o))}}function bd(e,n,s,o,h,f){switch(s){case"style":Uo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?dn(e,o):(typeof o=="number"||typeof o=="bigint")&&dn(e,""+o);break;case"onScroll":o!=null&&kt("scroll",e);break;case"onScrollEnd":o!=null&&kt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ua(e,s,o)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var E=f=g=h=null,R=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var K=s[o];if(K!=null)switch(o){case"name":h=K;break;case"type":g=K;break;case"checked":R=K;break;case"defaultChecked":P=K;break;case"value":f=K;break;case"defaultValue":E=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ne(e,n,o,K,s,null)}}fu(e,f,E,R,P,g,h,!1);return;case"select":kt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?Es(e,!!o,n,!1):s!=null&&Es(e,!!o,s,!0);return;case"textarea":kt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,s,null)}Ts(e,o,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(o=s[R],o!=null)&&(R==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,R,o,s,null));return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(o=0;o<gl.length;o++)kt(gl[o],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,P,o,s,null)}return;default:if(ha(n)){for(K in s)s.hasOwnProperty(K)&&(o=s[K],o!==void 0&&bd(e,n,K,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,n,E,o,s,null))}function gb(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,R=null,P=null,K=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":R=X;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=s[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":K=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ne(e,n,z,H,o,X)}}ca(e,g,E,R,P,K,f,h);return;case"select":H=g=E=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":H=R;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,R)}for(h in o)if(f=o[h],R=s[h],o.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==R&&ne(e,n,h,f,o,R)}n=E,s=g,o=H,z!=null?Es(e,!!s,z,!1):!!o!=!!s&&(n!=null?Es(e,!!s,n,!0):Es(e,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}du(e,z,H);return;case"option":for(var ht in s)z=s[ht],s.hasOwnProperty(ht)&&z!=null&&!o.hasOwnProperty(ht)&&(ht==="selected"?e.selected=!1:ne(e,n,ht,null,o,z));for(R in o)z=o[R],H=s[R],o.hasOwnProperty(R)&&z!==H&&(z!=null||H!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ne(e,n,R,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)z=s[yt],s.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt)&&ne(e,n,yt,null,o,z);for(P in o)if(z=o[P],H=s[P],o.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ne(e,n,P,z,o,H)}return;default:if(ha(n)){for(var ie in s)z=s[ie],s.hasOwnProperty(ie)&&z!==void 0&&!o.hasOwnProperty(ie)&&bd(e,n,ie,void 0,o,z);for(K in o)z=o[K],H=s[K],!o.hasOwnProperty(K)||z===H||z===void 0&&H===void 0||bd(e,n,K,z,o,H);return}}for(var k in s)z=s[k],s.hasOwnProperty(k)&&z!=null&&!o.hasOwnProperty(k)&&ne(e,n,k,null,o,z);for(X in o)z=o[X],H=s[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||ne(e,n,X,z,o,H)}function d_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yb(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&d_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var R=s[o],P=R.startTime;if(P>E)break;var K=R.transferSize,X=R.initiatorType;K&&d_(X)&&(R=R.responseEnd,g+=K*(R<E?1:(E-P)/(R-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,Sd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function m_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var xd=null;function _b(){var e=window.event;return e&&e.type==="popstate"?e===xd?!1:(xd=e,!0):(xd=null,!1)}var g_=typeof setTimeout=="function"?setTimeout:void 0,vb=typeof clearTimeout=="function"?clearTimeout:void 0,y_=typeof Promise=="function"?Promise:void 0,Eb=typeof queueMicrotask=="function"?queueMicrotask:typeof y_<"u"?function(e){return y_.resolve(null).then(e).catch(Tb)}:g_;function Tb(e){setTimeout(function(){throw e})}function Fs(e){return e==="head"}function __(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")_l(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,_l(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[pi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&_l(e.ownerDocument.body);s=h}while(s);Qa(n)}function v_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Cd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Cd(s),la(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function bb(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[pi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function Ab(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function E_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function Rd(e){return e.data==="$?"||e.data==="$~"}function Nd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Sb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Id=null;function T_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Fn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function b_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function A_(e,n,s){switch(n=gc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function _l(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var Gn=new Map,S_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var os=W.d;W.d={f:wb,r:xb,D:Cb,C:Rb,L:Nb,m:Ib,X:Mb,S:Db,M:Ob};function wb(){var e=os.f(),n=lc();return e||n}function xb(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?Bg(n):os.r(e)}var Ha=typeof document>"u"?null:document;function w_(e,n,s){var o=Ha;if(o&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),S_.has(h)||(S_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),Ce(n),o.head.appendChild(n)))}}function Cb(e){os.D(e),w_("dns-prefetch",e,null)}function Rb(e,n){os.C(e,n),w_("preconnect",e,n)}function Nb(e,n,s){os.L(e,n,s);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Fa(e);break;case"script":f=Ga(e)}Gn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Gn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),$e(n,"link",e),Ce(n),o.head.appendChild(n)))}}function Ib(e,n){os.m(e,n);var s=Ha;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(o)+'"][href="'+fn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!Gn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Gn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(El(f)))return}o=s.createElement("link"),$e(o,"link",e),Ce(o),s.head.appendChild(o)}}}function Db(e,n,s){os.S(e,n,s);var o=Ha;if(o&&e){var h=yi(o).hoistableStyles,f=Fa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(vl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Gn.get(f))&&Dd(e,s);var R=g=o.createElement("link");Ce(R),$e(R,"link",e),R._p=new Promise(function(P,K){R.onload=P,R.onerror=K}),R.addEventListener("load",function(){E.loading|=1}),R.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function Mb(e,n){os.X(e,n);var s=Ha;if(s&&e){var o=yi(s).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=s.querySelector(El(h)),f||(e=S({src:e,async:!0},n),(n=Gn.get(h))&&Md(e,n),f=s.createElement("script"),Ce(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function Ob(e,n){os.M(e,n);var s=Ha;if(s&&e){var o=yi(s).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=s.querySelector(El(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&Md(e,n),f=s.createElement("script"),Ce(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function x_(e,n,s,o){var h=(h=Nt.current)?yc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Fa(s.href),s=yi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Fa(s.href);var f=yi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(vl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(e,s),f||Vb(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(s),s=yi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Fa(e){return'href="'+fn(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function C_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Vb(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",s),Ce(n),e.head.appendChild(n))}function Ga(e){return'[src="'+fn(e)+'"]'}function El(e){return"script[async]"+e}function R_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(o)return n.instance=o,Ce(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ce(o),$e(o,"style",h),_c(o,s.precedence,e),n.instance=o;case"stylesheet":h=Fa(s.href);var f=e.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,Ce(f),f;o=C_(s),(h=Gn.get(h))&&Dd(o,h),f=(e.ownerDocument||e).createElement("link"),Ce(f);var g=f;return g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),$e(f,"link",o),n.state.loading|=4,_c(f,s.precedence,e),n.instance=f;case"script":return f=Ga(s.src),(h=e.querySelector(El(f)))?(n.instance=h,Ce(h),h):(o=s,(h=Gn.get(f))&&(o=S({},s),Md(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ce(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,s.precedence,e));return n.instance}function _c(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function N_(e,n,s){if(vc===null){var o=new Map,h=vc=new Map;h.set(s,o)}else h=vc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[pi]||f[xe]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function I_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function kb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function D_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ub(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Fa(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ce(f);return}f=n.ownerDocument||n,o=C_(o),(h=Gn.get(h))&&Dd(o,h),f=f.createElement("link"),Ce(f);var g=f;g._p=new Promise(function(E,R){g.onload=E,g.onerror=R}),$e(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ec.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Od=0;function Lb(e,n){return e.stylesheets&&e.count===0&&bc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Od===0&&(Od=62500*yb());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&bc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Od?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)bc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function bc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(jb,e),Tc=null,Ec.call(e))}function jb(e,n){if(!(n.state.loading&4)){var s=Tc.get(e);if(s)var o=s.get(null);else{s=new Map,Tc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Tl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function Pb(e,n,s,o,h,f,g,E,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=di(0),this.hiddenUpdates=di(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function M_(e,n,s,o,h,f,g,E,R,P,K,X){return e=new Pb(e,n,s,g,R,P,K,X,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=ff(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},gf(f),e}function O_(e){return e?(e=ba,e):ba}function V_(e,n,s,o,h,f){h=O_(h),o.context===null?o.context=h:o.pendingContext=h,o=Os(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Vs(e,o,n),s!==null&&(_n(s,e,n),Wo(s,e,n))}function k_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Vd(e,n){k_(e,n),(e=e.alternate)&&k_(e,n)}function U_(e){if(e.tag===13||e.tag===31){var n=jr(e,67108864);n!==null&&_n(n,e,67108864),Vd(e,67108864)}}function L_(e){if(e.tag===13||e.tag===31){var n=In();n=xr(n);var s=jr(e,n);s!==null&&_n(s,e,n),Vd(e,n)}}var Ac=!0;function zb(e,n,s,o){var h=B.T;B.T=null;var f=W.p;try{W.p=2,kd(e,n,s,o)}finally{W.p=f,B.T=h}}function Bb(e,n,s,o){var h=B.T;B.T=null;var f=W.p;try{W.p=8,kd(e,n,s,o)}finally{W.p=f,B.T=h}}function kd(e,n,s,o){if(Ac){var h=Ud(o);if(h===null)Td(e,n,o,Sc,s),P_(e,o);else if(Hb(h,e,n,s,o))o.stopPropagation();else if(P_(e,o),n&4&&-1<qb.indexOf(e)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=hi(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var R=1<<31-_e(g);E.entanglements[1]|=R,g&=~R}Ii(f),(Yt&6)===0&&(ac=ln()+500,pl(0))}}break;case 31:case 13:E=jr(f,2),E!==null&&_n(E,f,2),lc(),Vd(f,2)}if(f=Ud(o),f===null&&Td(e,n,o,Sc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Td(e,n,o,null,s)}}function Ud(e){return e=kn(e),Ld(e)}var Sc=null;function Ld(e){if(Sc=null,e=gi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function j_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(br()){case So:return 2;case wo:return 8;case _s:case qh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var jd=!1,Gs=null,Qs=null,Ks=null,bl=new Map,Al=new Map,Ys=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function P_(e,n){switch(e){case"focusin":case"focusout":Gs=null;break;case"dragenter":case"dragleave":Qs=null;break;case"mouseover":case"mouseout":Ks=null;break;case"pointerover":case"pointerout":bl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Al.delete(n.pointerId)}}function Sl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&U_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Hb(e,n,s,o,h){switch(n){case"focusin":return Gs=Sl(Gs,e,n,s,o,h),!0;case"dragenter":return Qs=Sl(Qs,e,n,s,o,h),!0;case"mouseover":return Ks=Sl(Ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return bl.set(f,Sl(bl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Al.set(f,Sl(Al.get(f)||null,e,n,s,o,h)),!0}return!1}function z_(e){var n=gi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,$n(e.priority,function(){L_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,$n(e.priority,function(){L_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Lo=o,s.target.dispatchEvent(o),Lo=null}else return n=Vn(s),n!==null&&U_(n),e.blockedOn=s,!1;n.shift()}return!0}function B_(e,n,s){wc(e)&&s.delete(n)}function Fb(){jd=!1,Gs!==null&&wc(Gs)&&(Gs=null),Qs!==null&&wc(Qs)&&(Qs=null),Ks!==null&&wc(Ks)&&(Ks=null),bl.forEach(B_),Al.forEach(B_)}function xc(e,n){e.blockedOn===n&&(e.blockedOn=null,jd||(jd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Fb)))}var Cc=null;function q_(e){Cc!==e&&(Cc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Cc===e&&(Cc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ld(o||s)===null)continue;break}var f=Vn(s);f!==null&&(e.splice(n,3),n-=3,Uf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Qa(e){function n(R){return xc(R,e)}Gs!==null&&xc(Gs,e),Qs!==null&&xc(Qs,e),Ks!==null&&xc(Ks,e),bl.forEach(n),Al.forEach(n);for(var s=0;s<Ys.length;s++){var o=Ys[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ys.length&&(s=Ys[0],s.blockedOn===null);)z_(s),s.blockedOn===null&&Ys.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ze]||null;if(typeof f=="function")g||q_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ze]||null)E=g.formAction;else if(Ld(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),q_(s)}}}function H_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Pd(e){this._internalRoot=e}Rc.prototype.render=Pd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();V_(s,o,e,n,null,null)},Rc.prototype.unmount=Pd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;V_(e.current,2,null,e,null,null),lc(),n[mi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ys.length&&n!==0&&n<Ys[s].priority;s++);Ys.splice(s,0,e),s===0&&z_(e)}};var F_=t.version;if(F_!=="19.2.3")throw Error(a(527,F_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Yn=Nc.inject(Gb),Ge=Nc}catch{}}return xl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Zg,f=Jg,g=Wg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=M_(e,1,!1,null,null,s,o,null,h,f,g,H_),e[mi]=n.current,Ed(e),new Pd(n)},xl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Zg,g=Jg,E=Wg,R=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=M_(e,1,!0,n,s??null,o,h,R,f,g,E,H_),n.context=O_(null),s=n.current,o=In(),o=xr(o),h=Os(o),h.callback=null,Vs(s,h,o),s=o,n.current.lanes=s,Sr(n,s),Ii(n),e[mi]=n.current,Ed(e),new Rc(n)},xl.version="19.2.3",xl}var tv;function eA(){if(tv)return qd.exports;tv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),qd.exports=tA(),qd.exports}var nA=eA();const iA=()=>{};var ev={};const k0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},sA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let O=(p&15)<<2|y>>6,G=y&63;_||(G=64,d||(O=64)),a.push(i[A],i[S],i[O],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(k0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):sA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||S==null)throw new rA;const O=c<<2|p>>4;if(a.push(O),y!==64){const G=p<<4&240|y>>2;if(a.push(G),S!==64){const tt=y<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aA=function(r){const t=k0(r);return U0.encodeByteArray(t,!0)},Xc=function(r){return aA(r).replace(/\./g,"")},L0=function(r){try{return U0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lA=()=>oA().__FIREBASE_DEFAULTS__,uA=()=>{if(typeof process>"u"||typeof ev>"u")return;const r=ev.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&L0(r[1]);return t&&JSON.parse(t)},gh=()=>{try{return iA()||lA()||uA()||cA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>gh()?.emulatorHosts?.[r],hA=r=>{const t=j0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},P0=()=>gh()?.config,z0=r=>gh()?.[`_${r}`];class fA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(r){return(await fetch(r,{credentials:"include"})).ok}function dA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Dl={};function mA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function pA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let nv=!1;function q0(r,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Dl[r]===t||Dl[r]||nv)return;Dl[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=mA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{nv=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function S(){const O=pA(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),et=i("preprendIcon"),at=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ct=O.element;p(ct),A(Z,nt);const ut=y();_(at,et),ct.append(at,tt,Z,ut),document.body.appendChild(ct)}c?(tt.innerText="Preview backend disconnected.",at.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(at.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function yA(){const r=gh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _A(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function EA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function TA(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function bA(){return!yA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AA(){try{return typeof indexedDB=="object"}catch{return!1}}function SA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const wA="FirebaseError";class gs extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=wA,Object.setPrototypeOf(this,gs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?xA(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new gs(l,p,a)}}function xA(r,t){return r.replace(CA,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const CA=/\{\$([^}]+)}/g;function RA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function cs(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(iv(c)&&iv(d)){if(!cs(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function iv(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function NA(r,t){const i=new IA(r,t);return i.subscribe.bind(i)}class IA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");DA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Qd),l.error===void 0&&(l.error=Qd),l.complete===void 0&&(l.complete=Qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function DA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Qd(){}function Fe(r){return r&&r._delegate?r._delegate:r}class ta{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class MA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new fA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VA(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:OA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OA(r){return r===Zr?void 0:r}function VA(r){return r.instantiationMode==="EAGER"}class kA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new MA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var zt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(zt||(zt={}));const UA={debug:zt.DEBUG,verbose:zt.VERBOSE,info:zt.INFO,warn:zt.WARN,error:zt.ERROR,silent:zt.SILENT},LA=zt.INFO,jA={[zt.DEBUG]:"log",[zt.VERBOSE]:"log",[zt.INFO]:"info",[zt.WARN]:"warn",[zt.ERROR]:"error"},PA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=jA[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Um{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=PA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in zt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,zt.DEBUG,...t),this._logHandler(this,zt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,zt.VERBOSE,...t),this._logHandler(this,zt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,zt.INFO,...t),this._logHandler(this,zt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,zt.WARN,...t),this._logHandler(this,zt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,zt.ERROR,...t),this._logHandler(this,zt.ERROR,...t)}}const zA=(r,t)=>t.some(i=>r instanceof i);let sv,rv;function BA(){return sv||(sv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qA(){return rv||(rv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,am=new WeakMap,F0=new WeakMap,Kd=new WeakMap,Lm=new WeakMap;function HA(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ir(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&H0.set(i,r)}).catch(()=>{}),Lm.set(t,r),t}function FA(r){if(am.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});am.set(r,t)}let om={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||F0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function GA(r){om=r(om)}function QA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Yd(this),t,...i);return F0.set(a,t.sort?t.sort():[t]),ir(a)}:qA().includes(r)?function(...t){return r.apply(Yd(this),t),ir(H0.get(this))}:function(...t){return ir(r.apply(Yd(this),t))}}function KA(r){return typeof r=="function"?QA(r):(r instanceof IDBTransaction&&FA(r),zA(r,BA())?new Proxy(r,om):r)}function ir(r){if(r instanceof IDBRequest)return HA(r);if(Kd.has(r))return Kd.get(r);const t=KA(r);return t!==r&&(Kd.set(r,t),Lm.set(t,r)),t}const Yd=r=>Lm.get(r);function YA(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=ir(d);return a&&d.addEventListener("upgradeneeded",_=>{a(ir(d.result),_.oldVersion,_.newVersion,ir(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const XA=["get","getKey","getAll","getAllKeys","count"],$A=["put","add","delete","clear"],Xd=new Map;function av(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Xd.get(t))return Xd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=$A.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||XA.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Xd.set(t,c),c}GA(r=>({...r,get:(t,i,a)=>av(t,i)||r.get(t,i,a),has:(t,i)=>!!av(t,i)||r.has(t,i)}));class ZA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(JA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function JA(r){return r.getComponent()?.type==="VERSION"}const lm="@firebase/app",ov="0.14.6";const hs=new Um("@firebase/app"),WA="@firebase/app-compat",tS="@firebase/analytics-compat",eS="@firebase/analytics",nS="@firebase/app-check-compat",iS="@firebase/app-check",sS="@firebase/auth",rS="@firebase/auth-compat",aS="@firebase/database",oS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",cS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",dS="@firebase/messaging",mS="@firebase/messaging-compat",pS="@firebase/performance",gS="@firebase/performance-compat",yS="@firebase/remote-config",_S="@firebase/remote-config-compat",vS="@firebase/storage",ES="@firebase/storage-compat",TS="@firebase/firestore",bS="@firebase/ai",AS="@firebase/firestore-compat",SS="firebase",wS="12.6.0";const um="[DEFAULT]",xS={[lm]:"fire-core",[WA]:"fire-core-compat",[eS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[nS]:"fire-app-check-compat",[sS]:"fire-auth",[rS]:"fire-auth-compat",[aS]:"fire-rtdb",[oS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[cS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[dS]:"fire-fcm",[mS]:"fire-fcm-compat",[pS]:"fire-perf",[gS]:"fire-perf-compat",[yS]:"fire-rc",[_S]:"fire-rc-compat",[vS]:"fire-gcs",[ES]:"fire-gcs-compat",[TS]:"fire-fst",[AS]:"fire-fst-compat",[bS]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};const $c=new Map,CS=new Map,cm=new Map;function lv(r,t){try{r.container.addComponent(t)}catch(i){hs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const t=r.name;if(cm.has(t))return hs.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,r);for(const i of $c.values())lv(i,r);for(const i of CS.values())lv(i,r);return!0}function jm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function li(r){return r==null?!1:r.settings!==void 0}const RS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Fl("app","Firebase",RS);class NS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const mo=wS;function G0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:um,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(i||(i=P0()),!i)throw sr.create("no-options");const c=$c.get(l);if(c){if(cs(i,c.options)&&cs(a,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new kA(l);for(const _ of cm.values())d.addComponent(_);const p=new NS(i,a,d);return $c.set(l,p),p}function Q0(r=um){const t=$c.get(r);if(!t&&r===um&&P0())return G0();if(!t)throw sr.create("no-app",{appName:r});return t}function rr(r,t,i){let a=xS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),hs.warn(d.join(" "));return}io(new ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const IS="firebase-heartbeat-database",DS=1,Ll="firebase-heartbeat-store";let $d=null;function K0(){return $d||($d=YA(IS,DS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(r=>{throw sr.create("idb-open",{originalErrorMessage:r.message})})),$d}async function MS(r){try{const i=(await K0()).transaction(Ll),a=await i.objectStore(Ll).get(Y0(r));return await i.done,a}catch(t){if(t instanceof gs)hs.warn(t.message);else{const i=sr.create("idb-get",{originalErrorMessage:t?.message});hs.warn(i.message)}}}async function uv(r,t){try{const a=(await K0()).transaction(Ll,"readwrite");await a.objectStore(Ll).put(t,Y0(r)),await a.done}catch(i){if(i instanceof gs)hs.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i?.message});hs.warn(a.message)}}}function Y0(r){return`${r.name}!${r.options.appId}`}const OS=1024,VS=30;class kS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=cv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VS){const l=jS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){hs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=cv(),{heartbeatsToSend:i,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return hs.warn(t),""}}}function cv(){return new Date().toISOString().substring(0,10)}function US(r,t=OS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),hv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),hv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class LS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AA()?SA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return uv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function hv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function jS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function PS(r){io(new ta("platform-logger",t=>new ZA(t),"PRIVATE")),io(new ta("heartbeat",t=>new kS(t),"PRIVATE")),rr(lm,ov,r),rr(lm,ov,"esm2020"),rr("fire-js","")}PS("");var zS="firebase",BS="12.7.0";rr(zS,BS,"app");var fv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,X0;(function(){var r;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,U){for(var x=Array(arguments.length-2),vt=2;vt<arguments.length;vt++)x[vt-2]=arguments[vt];return w.prototype[D].apply(V,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let U=N.g[3],x;x=w+(U^C&(D^U))+V[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[1]+3905402710&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[2]+606105819&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[3]+3250441966&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+V[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[5]+1200080426&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[6]+2821735955&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[7]+4249261313&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+V[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[9]+2336552879&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[10]+4294925233&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[11]+2304563134&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(U^C&(D^U))+V[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=U+(D^w&(C^D))+V[13]+4254626195&4294967295,U=w+(x<<12&4294967295|x>>>20),x=D+(C^U&(w^C))+V[14]+2792965006&4294967295,D=U+(x<<17&4294967295|x>>>15),x=C+(w^D&(U^w))+V[15]+1236535329&4294967295,C=D+(x<<22&4294967295|x>>>10),x=w+(D^U&(C^D))+V[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[6]+3225465664&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[11]+643717713&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[0]+3921069994&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+V[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[10]+38016083&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[15]+3634488961&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[4]+3889429448&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+V[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[14]+3275163606&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[3]+4107603335&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[8]+1163531501&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(D^U&(C^D))+V[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=U+(C^D&(w^C))+V[2]+4243563512&4294967295,U=w+(x<<9&4294967295|x>>>23),x=D+(w^C&(U^w))+V[7]+1735328473&4294967295,D=U+(x<<14&4294967295|x>>>18),x=C+(U^w&(D^U))+V[12]+2368359562&4294967295,C=D+(x<<20&4294967295|x>>>12),x=w+(C^D^U)+V[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[8]+2272392833&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[11]+1839030562&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[14]+4259657740&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+V[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[4]+1272893353&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[7]+4139469664&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[10]+3200236656&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+V[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[0]+3936430074&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[3]+3572445317&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[6]+76029189&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(C^D^U)+V[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=U+(w^C^D)+V[12]+3873151461&4294967295,U=w+(x<<11&4294967295|x>>>21),x=D+(U^w^C)+V[15]+530742520&4294967295,D=U+(x<<16&4294967295|x>>>16),x=C+(D^U^w)+V[2]+3299628645&4294967295,C=D+(x<<23&4294967295|x>>>9),x=w+(D^(C|~U))+V[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[7]+1126891415&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[14]+2878612391&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[5]+4237533241&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+V[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[3]+2399980690&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[10]+4293915773&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[1]+2240044497&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+V[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[15]+4264355552&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[6]+2734768916&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[13]+1309151649&4294967295,C=D+(x<<21&4294967295|x>>>11),x=w+(D^(C|~U))+V[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=U+(C^(w|~D))+V[11]+3174756917&4294967295,U=w+(x<<10&4294967295|x>>>22),x=D+(w^(U|~C))+V[2]+718787259&4294967295,D=U+(x<<15&4294967295|x>>>17),x=C+(U^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(x<<21&4294967295|x>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+U&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,U=0;for(;U<w;){if(D==0)for(;U<=C;)l(this,N,U),U+=this.blockSize;if(typeof N=="string"){for(;U<w;)if(V[D++]=N.charCodeAt(U++),D==this.blockSize){l(this,V),D=0;break}}else for(;U<w;)if(V[D++]=N[U++],D==this.blockSize){l(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const U=N[D]|0;V&&U==w||(C[D]=U,V=!1)}this.g=C}var p={};function _(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return Z(y(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return Z(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let V=S;for(let U=0;U<N.length;U+=8){var D=Math.min(8,N.length-U);const x=parseInt(N.substring(U,U+D),w);D<8?(D=y(Math.pow(w,D)),V=V.j(D).add(y(x))):(V=V.j(C),V=V.add(y(x)))}return V}var S=_(0),O=_(1),G=_(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(nt(this))return"-"+Z(this).toString(N);const w=y(Math.pow(N,6));var C=this;let V="";for(;;){const D=ut(C,w).g;C=et(C,D.j(w));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,tt(C))return U+V;for(;U.length<6;)U="0"+U;V=U+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=et(this,N),nt(N)?-1:tt(N)?0:1};function Z(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(O)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let U=V+(this.i(D)&65535)+(N.i(D)&65535),x=(U>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=x>>>16,U&=65535,x&=65535,C[D]=x<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function et(N,w){return N.add(Z(w))}r.j=function(N){if(tt(this)||tt(N))return S;if(nt(this))return nt(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(nt(N))return Z(this.j(Z(N)));if(this.l(G)<0&&N.l(G)<0)return y(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const U=this.i(V)>>>16,x=this.i(V)&65535,vt=N.i(D)>>>16,Rt=N.i(D)&65535;C[2*V+2*D]+=x*Rt,at(C,2*V+2*D),C[2*V+2*D+1]+=U*Rt,at(C,2*V+2*D+1),C[2*V+2*D+1]+=x*vt,at(C,2*V+2*D+1),C[2*V+2*D+2]+=U*vt,at(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function at(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ct(N,w){this.g=N,this.h=w}function ut(N,w){if(tt(w))throw Error("division by zero");if(tt(N))return new ct(S,S);if(nt(N))return w=ut(Z(N),w),new ct(Z(w.g),Z(w.h));if(nt(w))return w=ut(N,Z(w)),new ct(Z(w.g),w.h);if(N.g.length>30){if(nt(N)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=w;V.l(N)<=0;)C=It(C),V=It(V);var D=Ct(C,1),U=Ct(V,1);for(V=Ct(V,2),C=Ct(C,2);!tt(V);){var x=U.add(V);x.l(N)<=0&&(D=D.add(C),U=x),V=Ct(V,1),C=Ct(C,1)}return w=et(N,D.j(w)),new ct(D,w)}for(D=S;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),U=y(C),x=U.j(w);nt(x)||x.l(N)>0;)C-=V,U=y(C),x=U.j(w);tt(U)&&(U=O),D=D.add(U),N=et(N,x)}return new ct(D,N)}r.B=function(N){return ut(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function It(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function Ct(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let U=0;U<V;U++)D[U]=w>0?N.i(U+C)>>>w|N.i(U+C+1)<<32-w:N.i(U+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,X0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,ar=d}).apply(typeof fv<"u"?fv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $0,Cl,Z0,jc,hm,J0,W0,tE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var L=u[b];if(!(L in v))break t;v=v[L]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,L,q){for(var it=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)it[Dt-2]=arguments[Dt];return m.prototype[L].apply(b,it)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const L=arguments[b];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let it=0;it<q;it++)u[v+it]=L[it]}else u.push(L)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function et(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class at{constructor(){this.h=this.g=null}add(m,v){const b=ct.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ct=new nt(()=>new ut,u=>u.reset());class ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let It,Ct=!1,N=new at,w=()=>{const u=Promise.resolve(void 0);It=()=>{u.then(C)}};function C(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){Z(v)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}Ct=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function vt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(vt,D),vt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&vt.Z.h.call(this)},vt.prototype.h=function(){vt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Rt="closure_listenable_"+(Math.random()*1e6|0),B=0;function W(u,m,v,b,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=L,this.key=++B,this.da=this.fa=!1}function rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function bt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function At(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const Q="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,b;for(let L=1;L<arguments.length;L++){b=arguments[L];for(v in b)u[v]=b[v];for(let q=0;q<Q.length;q++)v=Q[q],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function ot(u){this.src=u,this.g={},this.h=0}ot.prototype.add=function(u,m,v,b,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const it=Nt(u,m,b,L);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new W(m,this.src,q,!!b,L),m.fa=v,u.push(m)),m};function Et(u,m){const v=m.type;if(v in u.g){var b=u.g[v],L=Array.prototype.indexOf.call(b,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(b,L,1),q&&(rt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Nt(u,m,v,b){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==b)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),ye={};function F(u,m,v,b,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)F(u,m[q],v,b,L);return null}return v=Ao(v),u&&u[Rt]?u.J(m,v,p(b)?!!b.capture:!1,L):gt(u,m,v,!1,b,L)}function gt(u,m,v,b,L,q){if(!m)throw Error("Invalid event type");const it=p(L)?!!L.capture:!!L;let Dt=Tr(u);if(Dt||(u[Lt]=Dt=new ot(u)),v=Dt.add(m,v,b,it,q),v.proxy)return v;if(b=$t(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)U||(L=it),L===void 0&&(L=!1),u.addEventListener(m.toString(),b,L);else if(u.attachEvent)u.attachEvent(tn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $t(){function u(v){return m.call(u.src,u.listener,v)}const m=qi;return u}function Pe(u,m,v,b,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Pe(u,m[q],v,b,L);else b=p(b)?!!b.capture:!!b,v=Ao(v),u&&u[Rt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Nt(m,v,b,L),v>-1&&(rt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Nt(m,v,b,L)),(v=u>-1?m[u]:null)&&ae(v))}function ae(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Rt])Et(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(tn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Tr(m))?(Et(v,u),v.h==0&&(v.src=null,m[Lt]=null)):rt(u)}}}function tn(u){return u in ye?ye[u]:ye[u]="on"+u}function qi(u,m){if(u.da)u=!0;else{m=new vt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&ae(u),u=v.call(b,m)}return u}function Tr(u){return u=u[Lt],u instanceof ot?u:null}var bo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ao(u){return typeof u=="function"?u:(u[bo]||(u[bo]=function(m){return u.handleEvent(m)}),u[bo])}function Se(){V.call(this),this.i=new ot(this),this.M=this,this.G=null}S(Se,V),Se.prototype[Rt]=!0,Se.prototype.removeEventListener=function(u,m,v,b){Pe(this,u,m,v,b)};function ke(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(b,u),st(m,L)}L=!0;let q,it;if(v)for(it=v.length-1;it>=0;it--)q=m.g=v[it],L=ys(q,b,!0,m)&&L;if(q=m.g=u,L=ys(q,b,!0,m)&&L,L=ys(q,b,!1,m)&&L,v)for(it=0;it<v.length;it++)q=m.g=v[it],L=ys(q,b,!1,m)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)rt(v[b]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},Se.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function ys(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const it=m[q];if(it&&!it.da&&it.capture==v){const Dt=it.listener,ve=it.ha||it.src;it.fa&&Et(u.i,it),L=Dt.call(ve,b)!==!1&&L}}return L&&!b.defaultPrevented}function Bh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function eu(u){u.g=Bh(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function br(u){V.call(this),this.h=u,this.g={}}S(br,V);var So=[];function wo(u){bt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ae(m)},u),u.g={}}br.prototype.N=function(){br.Z.N.call(this),wo(this)},br.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=d.JSON.stringify,qh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){D.call(this,"d")}S(Ge,D);function On(){D.call(this,"c")}S(On,D);var _e={},ru=null;function aa(){return ru=ru||new Se}_e.Ia="serverreachability";function au(u){D.call(this,_e.Ia,u)}S(au,D);function ci(u){const m=aa();ke(m,new au(m))}_e.STAT_EVENT="statevent";function Ar(u,m){D.call(this,_e.STAT_EVENT,u),this.stat=m}S(Ar,D);function we(u){const m=aa();ke(m,new Ar(m,u))}_e.Ja="timingevent";function hi(u,m){D.call(this,_e.Ja,u),this.size=m}S(hi,D);function fi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function Hh(u,m,v,b,L,q){u.info(function(){if(u.g)if(q){var it="",Dt=q.split("&");for(let Kt=0;Kt<Dt.length;Kt++){var ve=Dt[Kt].split("=");if(ve.length>1){const he=ve[0];ve=ve[1];const Ln=he.split("_");it=Ln.length>=2&&Ln[1]=="type"?it+(he+"="+ve+"&"):it+(he+"=redacted&")}}}else it=null;else it=q;return"XMLHTTP REQ ("+b+") [attempt "+L+"]: "+m+`
`+v+`
`+it})}function ou(u,m,v,b,L,q,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+it})}function di(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Fh(u,v)+(b?" "+b:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function Fh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var L=b[0];if(L!="noop"&&L!="stop"&&L!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return _s(q)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},xo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Co;function xr(){}S(xr,iu),xr.prototype.g=function(){return new XMLHttpRequest},Co=new xr;function Hi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function $n(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new br(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var xe={},ze={};function mi(u,m,v){u.M=1,u.A=Cr(Re(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),pi(u),u.B=Re(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),ha(v.i,"t",b),u.C=0,v=u.j.L,u.h=new Zn,u.g=Au(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(So[0]=L.toString()),L=So);for(let q=0;q<L.length;q++){const it=F(v,L[q],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ci(),Hh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const Dt=ti(this.g),ve=this.g.ya(),Kt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||Dt!=4||ve==7||(ve==8||Kt<=0?ci(3):ci(2)),gi(this);var m=this.g.ca();this.X=m;var v=Gh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,Dt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,L=this.g;if((b=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(b)){var q=b;break e}}q=null}if(u=q)di(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,yi(this,u);else{this.o=!1,this.m=3,we(12),bn(this),Vn(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=cu(this,v),he==ze){Dt==4&&(this.m=4,we(14),u=!1),di(this.i,this.l,null,"[Incomplete Response]");break}else if(he==xe){this.m=4,we(15),di(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else di(this.i,this.l,he,null),yi(this,he);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)di(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(it),it.P=!0,we(11))}}else di(this.i,this.l,v,null),yi(this,v);Dt==4&&bn(this),this.o&&!this.K&&(Dt==4?vu(this.j,this):(this.o=!1,pi(this)))}else Gi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),bn(this),Vn(this)}}}catch{}};function Gh(u){if(!uu(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const b=m.length,L=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<b;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?ze:(v=Number(m.substring(v,b)),isNaN(v)?xe:(b+=1,b+v>m.length?ze:(m=m.slice(b,b+v),u.C=b+v,m)))}$n.prototype.cancel=function(){this.K=!0,bn(this)};function pi(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=fi(y(u.aa,u),m)}function gi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(ci(),we(17)),bn(this),this.m=2,Vn(this)):la(this,this.T-u)};function Vn(u){u.j.I==0||u.K||vu(u.j,u)}function bn(u){gi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function yi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||vi(v.h,u))){if(!u.L&&vi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var L=b;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ga(v),xs(v);else break t;Vr(v),we(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=fi(y(v.Va,v),6e3));_i(v.h)<=1&&v.ta&&(v.ta=void 0)}else wi(v,11)}else if((u.L||v.g==u)&&ga(v),!x(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const he=Kt[0];if(!(he<=v.K))if(v.K=he,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Ln=Kt[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const xi=Kt[4];xi!=null&&(v.za=xi,v.j.info("SVER="+v.za));const ei=Kt[5];ei!=null&&typeof ei=="number"&&ei>0&&(b=1.5*ei,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ni=u.g;if(ni){const kr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var q=b.h;q.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(b.G){const ya=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(b.wa=ya,Zt(b.J,b.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var it=u;if(b.na=bu(b,b.L?b.ba:null,b.W),it.L){Do(b.h,it);var Dt=it,ve=b.O;ve&&(Dt.H=ve),Dt.D&&(gi(Dt),pi(Dt)),b.g=it}else yu(b);v.i.length>0&&Si(v)}else Kt[0]!="stop"&&Kt[0]!="close"||wi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?wi(v,7):zo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}ci(4)}catch{}}var Ce=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function _i(u){return u.h?1:u.g?u.g.size:0}function vi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let L,q=null;b>=0?(L=u[v].substring(0,b),q=u[v].substring(b+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,vs(this,u.u),this.h=u.h,Oo(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=Ei(m[2]||""),this.g=Ei(m[3]||"",!0),vs(this,m[4]),this.h=Ei(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=Ei(m[7]||"")):(this.l=!1,this.i=new Ts(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Rr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Rr(m,ca,!0),"@"),u.push(Hi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Rr(v,v.charAt(0)=="/"?Vo:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Rr(v,du)),u.join("")},An.prototype.resolve=function(u){const m=Re(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)vs(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var L=m.h.lastIndexOf("/");L!=-1&&(b=m.h.slice(0,L+1)+b)}if(L=b,L==".."||L==".")b="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){b=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let it=0;it<L.length;){const Dt=L[it++];Dt=="."?b&&it==L.length&&q.push(""):Dt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),b&&it==L.length&&q.push("")):(q.push(Dt),b=!0)}b=q.join("/")}else b=L}return v?m.h=b:v=u.i.toString()!=="",v?Oo(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Re(u){return new An(u)}function Be(u,m,v){u.j=v?Ei(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function vs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof Ts?(u.i=m,fa(u.i,u.l)):(v||(m=Rr(m,Es)),u.i=new Ts(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function Cr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ei(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Rr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,fu=/[#\?:]/g,Vo=/[#\?]/g,Es=/[#\?@]/g,du=/#/g;function Ts(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Ts.prototype,r.add=function(u,m){dn(this),this.i=null,u=bs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){dn(u),m=bs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return dn(u),m=bs(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,b){v.forEach(function(L){u.call(m,L,b,this)},this)},this)};function Uo(u,m){dn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(bs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=bs(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Uo(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(bs(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const L=Hi(v);v=Uo(this,v);for(let q=0;q<v.length;q++){let it=L;v[q]!==""&&(it+="="+Hi(v[q])),u.push(it)}}return this.i=u.join("&")};function pu(u){const m=new Ts;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function bs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,b){const L=b.toLowerCase();b!=L&&(mu(this,b),ha(this,L,v))},u)),u.j=m}function Jn(u,m){const v=new Xn;if(d.Image){const b=new Image;b.onload=A(kn,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(kn,v,"TestLoadImage: error",!1,m,b),b.onabort=A(kn,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(kn,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Lo(u,m){const v=new Xn,b=new AbortController,L=setTimeout(()=>{b.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(q=>{clearTimeout(L),q.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,b,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),b(v)}catch{}}function As(){this.g=new nu}function Ti(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ti,iu),Ti.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,Se),r=Nr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ss(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ss(this):Wn(this),this.readyState==3&&da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ss(this))},r.Na=function(u){this.g&&(this.response=u,Ss(this))},r.ga=function(){this.g&&Ss(this)};function Ss(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return bt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Un(v),typeof u=="string"?v!=null&&Hi(v):Zt(u,m,v))}function te(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,Se);var bi=/^https?$/i,jo=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Co.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Dr(this,q);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var L in b)v.set(L,b[L]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const q of b.keys())v.set(q,b.get(q));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jo,m,void 0)>=0)||b||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,it]of v)this.g.setRequestHeader(q,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Dr(this,q)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Fi(u)}function Po(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ke(this,"complete"),ke(this,"abort"),Fi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Fi(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},r.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(ke(u,"readystatechange"),ti(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=q===0){let it=String(u.D).match(hu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),b=!bi.test(it?it.toLowerCase():"")}v=b}if(v)ke(u,"complete"),ke(u,"success");else{u.o=6;try{var L=ti(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Po(u)}}finally{Fi(u)}}}}function Fi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ke(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),qh(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Gi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(x(u[b]))continue;var v=lu(u[b]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}At(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ai(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ws(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ai("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ai("baseRetryDelayMs",5e3,u),this.Za=Ai("retryDelaySeedMs",1e4,u),this.Ta=Ai("forwardChannelMaxRetries",2,u),this.va=Ai("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ws.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){we(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=bu(this,null,this.W),Si(this)};function zo(u){if(ma(u),u.I==3){var m=u.V++,v=Re(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),Or(u,v),m=new $n(u,u.j,m),m.M=2,m.A=Cr(Re(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Au(m.j,null),m.g.ea(m.A)),m.F=Date.now(),pi(m)}Tu(u)}function xs(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function ma(u){xs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Si(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;It||w(),Ct||(It(),Ct=!0),N.add(m,u),u.D=0}}function pa(u,m){return _i(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=fi(y(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new $n(this,this.j,u);let q=this.o;if(this.U&&(q?(q=I(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=Re(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),Or(this,v),q&&(this.R?m="headers="+Hi(Un(q))+"&"+m:this.u&&Ir(v,this.u,q)),Io(this.h,L),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),L.U=!0,mi(L,v,null)):mi(L,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||No(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const b=Re(u.J);Zt(b,"SID",u.M),Zt(b,"RID",v),Zt(b,"AID",u.K),Or(u,b),u.u&&u.o&&Ir(b,u.u,u.o),v=new $n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),mi(v,b,m)}function Or(u,m){u.H&&bt(u.H,function(v,b){Zt(m,b,v)}),u.l&&bt({},function(v,b){Zt(m,b,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?y(u.l.Ka,u.l,u):null;t:{var L=u.i;let Dt=-1;for(;;){const ve=["count="+v];Dt==-1?v>0?(Dt=L[0].g,ve.push("ofs="+Dt)):Dt=0:ve.push("ofs="+Dt);let Kt=!0;for(let he=0;he<v;he++){var q=L[he].g;const Ln=L[he].map;if(q-=Dt,q<0)Dt=Math.max(0,L[he].g-100),Kt=!1;else try{q="req"+q+"_"||"";try{var it=Ln instanceof Map?Ln:Object.entries(Ln);for(const[xi,ei]of it){let ni=ei;p(ei)&&(ni=_s(ei)),ve.push(q+xi+"="+encodeURIComponent(ni))}}catch(xi){throw ve.push(q+"type="+encodeURIComponent("_badmap")),xi}}catch{b&&b(Ln)}}if(Kt){it=ve.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;It||w(),Ct||(It(),Ct=!0),N.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=fi(y(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=fi(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),xs(this),_u(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Re(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Cr(Re(m)),v.u=null,v.R=!0,oa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,xs(this),Vr(this),we(19))};function ga(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){ga(u),qo(u),u.g=null;var b=2}else if(vi(u.h,m))v=m.G,Do(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;b=aa(),ke(b,new hi(b,v)),Si(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(b==1&&pa(u,m)||b==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:wi(u,5);break;case 4:wi(u,10);break;case 3:wi(u,6);break;default:wi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function wi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),b=u.Ua;const L=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(b,"https"),Cr(b),L?Jn(b.toString(),v):Lo(b.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ma(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function bu(u,m,v){var b=v instanceof An?Re(v):new An(v);if(b.g!="")m&&(b.g=m+"."+b.g),vs(b,b.u);else{var L=d.location;b=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new An(null);b&&Be(q,b),m&&(q.g=m),L&&vs(q,L),v&&(q.h=v),b=q}return v=u.G,m=u.wa,v&&m&&Zt(b,v,m),Zt(b,"VER",u.ka),Or(u,b),b}function Au(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new Ti({ab:v})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Cs(){}Cs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Se.call(this),this.g=new ws(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Qi(this)}S(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=_s(u),u=v);m.i.push(new Ce(m.Ya++,u)),m.I==3&&Si(m)},un.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,un.Z.N.call(this)};function wu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(wu,Ge);function xu(){On.call(this),this.status=1}S(xu,On);function Qi(u){this.g=u}S(Qi,Su),Qi.prototype.ra=function(){ke(this.g,"a")},Qi.prototype.qa=function(u){ke(this.g,new wu(u))},Qi.prototype.pa=function(u){ke(this.g,new xu)},Qi.prototype.oa=function(){ke(this.g,"b")},Cs.prototype.createWebChannel=Cs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,tE=function(){return new Cs},W0=function(){return aa()},J0=_e,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,jc=wr,xo.COMPLETE="complete",Z0=xo,su.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,Cl=su,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,$0=te}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore",mv="4.9.3";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let po="12.7.0";const ea=new Um("@firebase/firestore");function Ka(){return ea.logLevel}function lt(r,...t){if(ea.logLevel<=zt.DEBUG){const i=t.map(Pm);ea.debug(`Firestore (${po}): ${r}`,...i)}}function fs(r,...t){if(ea.logLevel<=zt.ERROR){const i=t.map(Pm);ea.error(`Firestore (${po}): ${r}`,...i)}}function so(r,...t){if(ea.logLevel<=zt.WARN){const i=t.map(Pm);ea.warn(`Firestore (${po}): ${r}`,...i)}}function Pm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function _t(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,eE(r,a,i)}function eE(r,t,i){let a=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw fs(a),new Error(a)}function Xt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||eE(t,l,a)}function xt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends gs{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class nE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class HS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class FS{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new nE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class GS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new GS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,li(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new pv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class zm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=YS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Bt(r,t){return r<t?-1:r>t?1:0}function fm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Zd(l)===Zd(c)?Bt(l,c):Zd(l)?1:-1}return Bt(r.length,t.length)}const XS=55296,$S=57343;function Zd(r){const t=r.charCodeAt(0);return t>=XS&&t<=$S}function ro(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const gv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&_t(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&_t(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Bt(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ue extends Di{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ft(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const ZS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Di{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return ZS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===gv}static keyField(){return new Je([gv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ft(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ft(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ft(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ft(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ue.fromString(t))}static fromName(t){return new pt(ue.fromString(t).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ue(t.slice()))}}function iE(r,t,i){if(!i)throw new ft(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function JS(r,t,i,a){if(t===!0&&a===!0)throw new ft(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function yv(r){if(!pt.isDocumentKey(r))throw new ft(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _v(r){if(pt.isDocumentKey(r))throw new ft(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Bm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":_t(12329,{type:typeof r})}function Kn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ft(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Bm(r);throw new ft(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ql(r,t){if(!sE(r))throw new ft(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ft(J.INVALID_ARGUMENT,i);return!0}const vv=-62135596800,Ev=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Ev);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ft(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<vv)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ev}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Ve("string",ce._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class St{static fromTimestamp(t){return new St(t)}static min(){return new St(new ce(0,0))}static max(){return new St(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function WS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=St.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new hr(l,pt.empty(),t)}function tw(r){return new hr(r.readTime,r.key,jl)}class hr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new hr(St.min(),pt.empty(),jl)}static max(){return new hr(St.max(),pt.empty(),jl)}}function ew(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Bt(r.largestBatchId,t.largestBatchId))}const nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==nw)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&_t(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function sw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(r){return r.name==="IndexedDbTransactionError"}class yh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}yh.ce=-1;const qm=-1;function _h(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function rw(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const rE="";function aw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Tv(t)),t=ow(r.get(i),t);return Tv(t)}function ow(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case rE:i+="";break;default:i+=c}}return i}function Tv(r){return r+rE+""}function bv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function vr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function aE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class me{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new me(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw _t(43730,{key:this.key,value:this.value});if(this.right.isRed())throw _t(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw _t(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw _t(57766)}get value(){throw _t(16141)}get color(){throw _t(16727)}get left(){throw _t(29726)}get right(){throw _t(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Mn([])}unionWith(t){let i=new je(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const i=lw.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:be(r.seconds),nanos:be(r.nanos)}}function be(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function dr(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const lE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function Hm(r){return(r?.mapValue?.fields||{})[uE]?.stringValue===lE}function vh(r){const t=r.mapValue.fields[cE];return Hm(t)?vh(t):t}function Pl(r){const t=fr(r.mapValue.fields[hE].timestampValue);return new ce(t.seconds,t.nanos)}class uw{constructor(t,i,a,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Jc="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const fE="__type__",cw="__max__",Mc={mapValue:{}},dE="__vector__",Wc="value";function mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Hm(r)?4:fw(r)?9007199254740991:hw(r)?10:11:_t(28295,{value:r})}function zi(r,t){if(r===t)return!0;const i=mr(r);if(i!==mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),p=fr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return be(l.geoPointValue.latitude)===be(c.geoPointValue.latitude)&&be(l.geoPointValue.longitude)===be(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return be(l.integerValue)===be(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=be(l.doubleValue),p=be(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],zi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(bv(d)!==bv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!zi(d[_],p[_])))return!1;return!0})(r,t);default:return _t(52216,{left:r})}}function Bl(r,t){return(r.values||[]).find((i=>zi(i,t)))!==void 0}function ao(r,t){if(r===t)return 0;const i=mr(r),a=mr(t);if(i!==a)return Bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Bt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=be(c.integerValue||c.doubleValue),_=be(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return Sv(r.timestampValue,t.timestampValue);case 4:return Sv(Pl(r),Pl(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=dr(c),_=dr(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Bt(p[y],_[y]);if(A!==0)return A}return Bt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Bt(be(c.latitude),be(d.latitude));return p!==0?p:Bt(be(c.longitude),be(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return wv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Wc]?.arrayValue,A=_[Wc]?.arrayValue,S=Bt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:wv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const O=fm(_[S],A[S]);if(O!==0)return O;const G=ao(p[_[S]],y[A[S]]);if(G!==0)return G}return Bt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw _t(23264,{he:i})}}function Sv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Bt(r,t);const i=fr(r),a=fr(t),l=Bt(i.seconds,a.seconds);return l!==0?l:Bt(i.nanos,a.nanos)}function wv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return Bt(i.length,a.length)}function oo(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return dr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=dm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${dm(i.fields[d])}`;return l+"}"})(r.mapValue):_t(61005,{value:r})}function Pc(r){switch(mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vh(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return dr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return vr(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw _t(13486,{value:r})}}function mm(r){return!!r&&"integerValue"in r}function Fm(r){return!!r&&"arrayValue"in r}function xv(r){return!!r&&"nullValue"in r}function Cv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function hw(r){return(r?.mapValue?.fields||{})[fE]?.stringValue===dE}function Ml(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return vr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ml(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ml(r.arrayValue.values[i]);return t}return{...r}}function fw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cw}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ml(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return zi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){vr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new En(Ml(this.value))}}function mE(r){const t=[];return vr(r.fields,((i,a)=>{const l=new Je([i]);if(zc(a)){const c=mE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Mn(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,St.min(),St.min(),St.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,St.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,St.min(),St.min(),En.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,St.min(),St.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(St.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=St.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function Rv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Nv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!zi(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function dw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class pE{}class Le extends pE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new pw(t,i,a):i==="array-contains"?new _w(t,a):i==="in"?new vw(t,a):i==="not-in"?new Ew(t,a):i==="array-contains-any"?new Tw(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new gw(t,a):new yw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return _t(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bi extends pE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Bi(t,i)}matches(t){return gE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(r){return r.op==="and"}function yE(r){return mw(r)&&gE(r)}function mw(r){for(const t of r.filters)if(t instanceof Bi)return!1;return!0}function pm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(yE(r))return r.filters.map((t=>pm(t))).join(",");{const t=r.filters.map((i=>pm(i))).join(",");return`${r.op}(${t})`}}function _E(r,t){return r instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&zi(a.value,l.value)})(r,t):r instanceof Bi?(function(a,l){return l instanceof Bi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&_E(d,l.filters[p])),!0):!1})(r,t):void _t(19439)}function vE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof Bi?(function(i){return i.op.toString()+" {"+i.getFilters().map(vE).join(" ,")+"}"})(r):"Filter"}class pw extends Le{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class gw extends Le{constructor(t,i){super(t,"in",i),this.keys=EE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class yw extends Le{constructor(t,i){super(t,"not-in",i),this.keys=EE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function EE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class _w extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Fm(i)&&Bl(i.arrayValue,this.value)}}class vw extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class Ew extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class Tw extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Fm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class bw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Iv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new bw(r,t,i,a,l,c,d)}function Gm(r){const t=xt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),_h(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>oo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>oo(a))).join(",")),t.Te=i}return t.Te}function Qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!_E(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Nv(r.startAt,t.startAt)&&Nv(r.endAt,t.endAt)}function gm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class Eh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Aw(r,t,i,a,l,c,d,p){return new Eh(r,t,i,a,l,c,d,p)}function Th(r){return new Eh(r)}function Dv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Sw(r){return r.collectionGroup!==null}function Ol(r){const t=xt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(Je.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new eh(Je.keyField(),a))}return t.Ie}function Vi(r){const t=xt(r);return t.Ee||(t.Ee=ww(t,Ol(r))),t.Ee}function ww(r,t){if(r.limitType==="F")return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Iv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function ym(r,t,i){return new Eh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function bh(r,t){return Qm(Vi(r),Vi(t))&&r.limitType===t.limitType}function TE(r){return`${Gm(Vi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>vE(l))).join(", ")}]`),_h(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(Vi(r))}; limitType=${r.limitType})`}function Ah(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=Rv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,p,_){const y=Rv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Ol(a),l))})(r,t)}function xw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function bE(r){return(t,i)=>{let a=!1;for(const l of Ol(r)){const c=Cw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Cw(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?ao(_,y):_t(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return _t(19790,{direction:r.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}const Rw=new me(pt.comparator);function ds(){return Rw}const AE=new me(pt.comparator);function Rl(...r){let t=AE;for(const i of r)t=t.insert(i.key,i);return t}function SE(r){let t=AE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Jr(){return Vl()}function wE(){return Vl()}function Vl(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Nw=new me(pt.comparator),Iw=new je(pt.comparator);function qt(...r){let t=Iw;for(const i of r)t=t.add(i);return t}const Dw=new je(Bt);function Mw(){return Dw}function Km(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function xE(r){return{integerValue:""+r}}function CE(r,t){return rw(t)?xE(t):Km(r,t)}class Sh{constructor(){this._=void 0}}function Ow(r,t,i){return r instanceof nh?(function(l,c){const d={fields:{[uE]:{stringValue:lE},[hE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Hm(c)&&(c=vh(c)),c&&(d.fields[cE]=c),{mapValue:d}})(i,t):r instanceof lo?NE(r,t):r instanceof uo?IE(r,t):(function(l,c){const d=RE(l,c),p=Mv(d)+Mv(l.Ae);return mm(d)&&mm(l.Ae)?xE(p):Km(l.serializer,p)})(r,t)}function Vw(r,t,i){return r instanceof lo?NE(r,t):r instanceof uo?IE(r,t):i}function RE(r,t){return r instanceof ql?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends Sh{}class lo extends Sh{constructor(t){super(),this.elements=t}}function NE(r,t){const i=DE(t);for(const a of r.elements)i.some((l=>zi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class uo extends Sh{constructor(t){super(),this.elements=t}}function IE(r,t){let i=DE(t);for(const a of r.elements)i=i.filter((l=>!zi(l,a)));return{arrayValue:{values:i}}}class ql extends Sh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Mv(r){return be(r.integerValue||r.doubleValue)}function DE(r){return Fm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Ym{constructor(t,i){this.field=t,this.transform=i}}function kw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof lo&&l instanceof lo||a instanceof uo&&l instanceof uo?ro(a.elements,l.elements,zi):a instanceof ql&&l instanceof ql?zi(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,t.transform)}class Uw{constructor(t,i){this.version=t,this.transformResults=i}}class Tn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Tn}static exists(t){return new Tn(void 0,t)}static updateTime(t){return new Tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class wh{}function ME(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new xh(r.key,Tn.none()):new Kl(r.key,r.data,Tn.none());{const i=r.data,a=En.empty();let l=new je(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Er(r.key,a,new Mn(l.toArray()),Tn.none())}}function Lw(r,t,i){r instanceof Kl?(function(l,c,d){const p=l.value.clone(),_=Vv(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Er?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Vv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(OE(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function kl(r,t,i,a){return r instanceof Kl?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=c.value.clone(),A=kv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof Er?(function(c,d,p,_){if(!Bc(c.precondition,d))return p;const y=kv(c.fieldTransforms,_,d),A=d.data;return A.setAll(OE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function jw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=RE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function Ov(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>kw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends wh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends wh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Vv(r,t,i){const a=new Map;Xt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Vw(d,p,i[l]))}return a}function kv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Ow(c,d,t))}return a}class xh extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends wh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Lw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=kl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=kl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=wE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=ME(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(St.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),qt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((i,a)=>Ov(i,a)))&&ro(this.baseMutations,t.baseMutations,((i,a)=>Ov(i,a)))}}class Xm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Nw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Xm(t,i,a,l)}}class Bw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Oe,Ft;function Hw(r){switch(r){case J.OK:return _t(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return _t(15467,{code:r})}}function VE(r){if(r===void 0)return fs("GRPC error has no .code"),J.UNKNOWN;switch(r){case Oe.OK:return J.OK;case Oe.CANCELLED:return J.CANCELLED;case Oe.UNKNOWN:return J.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return J.INTERNAL;case Oe.UNAVAILABLE:return J.UNAVAILABLE;case Oe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Oe.NOT_FOUND:return J.NOT_FOUND;case Oe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Oe.ABORTED:return J.ABORTED;case Oe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Oe.DATA_LOSS:return J.DATA_LOSS;default:return _t(39323,{code:r})}}(Ft=Oe||(Oe={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function Fw(){return new TextEncoder}const Gw=new ar([4294967295,4294967295],0);function Uv(r){const t=Fw().encode(r),i=new X0;return i.update(t),new Uint8Array(i.digest())}function Lv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ar([i,a],0),new ar([l,c],0)]}class $m{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ar.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ar.fromNumber(a)));return l.compare(Gw)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Uv(t),[a,l]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new $m(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Uv(t),[a,l]=Lv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ch{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ch(St.min(),l,new me(Bt),ds(),qt())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,qt(),qt(),qt())}}class qc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class kE{constructor(t,i){this.targetId=t,this.Ce=i}}class UE{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class jv{constructor(){this.ve=0,this.Fe=Pv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),i=qt(),a=qt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:_t(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Pv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ds(),this.Je=Oc(),this.He=Oc(),this.Ye=new me(Bt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:_t(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(gm(c))if(a===0){const d=new pt(c.path);this.et(i,d,an.newNoDocument(d,St.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=dr(a).toUint8Array()}catch(_){if(_ instanceof oE)return so("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new $m(d,l,c)}catch(_){return so(_ instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&gm(p.target)){const _=new pt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,an.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=qt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ch(t,i,this.Ye,this.je,a);return this.je=ds(),this.Je=Oc(),this.He=Oc(),this.Ye=new me(Bt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new jv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(Bt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(Bt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new jv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new me(pt.comparator)}function Pv(){return new me(pt.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},Yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class $w{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(r,t){return r.useProto3Json||_h(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Zw(r,t){return ih(r,t.toTimestamp())}function ki(r){return Xt(!!r,49232),St.fromTimestamp((function(i){const a=fr(i);return new ce(a.seconds,a.nanos)})(r))}function Zm(r,t){return vm(r,t).canonicalString()}function vm(r,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function jE(r){const t=ue.fromString(r);return Xt(HE(t),10190,{key:t.toString()}),t}function Em(r,t){return Zm(r.databaseId,t.path)}function Jd(r,t){const i=jE(t);if(i.get(1)!==r.databaseId.projectId)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ft(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(zE(i))}function PE(r,t){return Zm(r.databaseId,t)}function Jw(r){const t=jE(r);return t.length===4?ue.emptyPath():zE(t)}function Tm(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function zv(r,t,i){return{name:Em(r,t),fields:i.value.mapValue.fields}}function Ww(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:_t(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Xt(A===void 0||typeof A=="string",58123),We.fromBase64String(A||"")):(Xt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),We.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:VE(y.code);return new ft(A,y.message||"")})(d);i=new UE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Jd(r,a.document.name),c=ki(a.document.updateTime),d=a.document.createTime?ki(a.document.createTime):St.min(),p=new En({mapValue:{fields:a.document.fields}}),_=an.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new qc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Jd(r,a.document),c=a.readTime?ki(a.readTime):St.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Jd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return _t(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new qw(l,c),p=a.targetId;i=new kE(p,d)}}return i}function t2(r,t){let i;if(t instanceof Kl)i={update:zv(r,t.key,t.value)};else if(t instanceof xh)i={delete:Em(r,t.key)};else if(t instanceof Er)i={update:zv(r,t.key,t.data),updateMask:u2(t.fieldMask)};else{if(!(t instanceof Pw))return _t(16599,{Vt:t.type});i={verify:Em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw _t(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Zw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:_t(27497)})(r,t.precondition)),i}function e2(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?ki(l.updateTime):ki(c);return d.isEqual(St.min())&&(d=ki(c)),new Uw(d,l.transformResults||[])})(i,t)))):[]}function n2(r,t){return{documents:[PE(r,t.path)]}}function i2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=PE(r,l);const c=(function(y){if(y.length!==0)return qE(Bi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:Xa(O.field),direction:a2(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function s2(r){let t=Jw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const O=BE(S);return O instanceof Bi&&yE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((O=>(function(tt){return new eh($a(tt.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let O;return O=typeof S=="object"?S.value:S,_h(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(S){const O=!!S.before,G=S.values||[];return new th(G,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const O=!S.before,G=S.values||[];return new th(G,O)})(i.endAt)),Aw(t,l,d,c,p,"F",_,y)}function r2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return _t(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function BE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return _t(61313);default:return _t(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return _t(58110);default:return _t(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Bi.create(i.compositeFilter.filters.map((a=>BE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return _t(1026)}})(i.compositeFilter.op))})(r):_t(30097,{filter:r})}function a2(r){return Kw[r]}function o2(r){return Yw[r]}function l2(r){return Xw[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Je.fromServerFormat(r.fieldPath)}function qE(r){return r instanceof Le?(function(i){if(i.op==="=="){if(Cv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(xv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Cv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(xv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:o2(i.op),value:i.value}}})(r):r instanceof Bi?(function(i){const a=i.getFilters().map((l=>qE(l)));return a.length===1?a[0]:{compositeFilter:{op:l2(i.op),filters:a}}})(r):_t(54877,{filter:r})}function u2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class nr{constructor(t,i,a,l,c=St.min(),d=St.min(),p=We.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class c2{constructor(t){this.yt=t}}function h2(r){const t=s2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(t,t.limit,"L"):t}class f2{constructor(){this.Cn=new d2}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(hr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class d2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new je(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new je(ue.comparator)).toArray()}}const Bv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(FE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const qv="LruGarbageCollector",m2=1048576;function Hv([r,t],[i,a]){const l=Bt(r,i);return l===0?Bt(t,a):l}class p2{constructor(t){this.Ir=t,this.buffer=new je(Hv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(qv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?lt(qv,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Vr(3e5)}))}}class y2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(yh.ce);const a=new p2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Bv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Ka()<=zt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function _2(r,t){return new y2(r,t)}class v2{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class E2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class T2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&kl(a.mutation,l,Mn.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,qt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=qt()){const l=Jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Rl();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,qt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=ds();const d=Vl(),p=(function(){return Vl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof Er)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),kl(A.mutation,y,A.mutation.getFieldMask(),ce.now())):d.set(y.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new E2(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Vl();let l=new me(((d,p)=>d-p)),c=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||Mn.empty();A=p.applyToLocalView(y,A),a.set(_,A);const S=(l.get(p.batchId)||qt()).add(_);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,S=wE();A.forEach((O=>{if(!c.has(O)){const G=ME(i.get(O),a.get(O));G!==null&&S.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Sw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Jr());let p=jl,_=c;return d.next((y=>$.forEach(y,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,qt()))).next((A=>({batchId:p,changes:SE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(_=>{const y=(function(S,O){return new Eh(O,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((S,O)=>{d=d.insert(S,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=Rl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&kl(A.mutation,y,Mn.empty(),ce.now()),Ah(i,y)&&(p=p.insert(_,y))})),p}))}}class b2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:ki(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:h2(l.bundledQuery),readTime:ki(l.readTime)}})(i)),$.resolve()}}class A2{constructor(){this.overlays=new me(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Jr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Jr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new me(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Jr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=Jr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Bw(i,a));let c=this.qr.get(i);c===void 0&&(c=qt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class S2{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Jm{constructor(){this.Qr=new je(He.$r),this.Ur=new je(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new ue([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new ue([])),a=new He(i,t),l=new He(i,t+1);let c=qt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Bt(t.Yr,i.Yr)}static Kr(t,i){return Bt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class w2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(He.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?qm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(Bt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new He(new pt(c),0);let p=new je(Bt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class x2{constructor(t){this.ri=t,this.docs=(function(){return new me(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=ds();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ds();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||ew(tw(A),a)<=0||(l.has(A.key)||Ah(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){_t(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new C2(this)}getSize(t){return $.resolve(this.size)}}class C2 extends v2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class R2{constructor(t){this.persistence=t,this.si=new sa((i=>Gm(i)),Qm),this.lastRemoteSnapshotVersion=St.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=co.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new co(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class GE{constructor(t,i){this.ui={},this.overlays={},this.ci=new yh(0),this.li=!1,this.li=!0,this.hi=new S2,this.referenceDelegate=t(this),this.Pi=new R2(this),this.indexManager=new f2,this.remoteDocumentCache=(function(l){return new x2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new c2(i),this.Ii=new b2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new A2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new w2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const l=new N2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class N2 extends iw{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new Jm,this.Vi=null}static mi(t){return new Wm(t)}get fi(){if(this.Vi)return this.Vi;throw _t(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,St.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new sa((a=>aw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=_2(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,St.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tp{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=qt(),l=qt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new tp(t,i.fromCache,a,l)}}class I2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class D2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bA()?8:sw(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new I2;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ka()<=zt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=zt.DEBUG&&lt("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ka()<=zt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Vi(i))):$.resolve())}ys(t,i){if(Dv(i))return $.resolve(null);let a=Vi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=ym(i,null,"F"),a=Vi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=qt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,ym(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Dv(i)||l.isEqual(St.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ka()<=zt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.vs(t,d,i,WS(l,jl)).next((p=>p)))}))}Ds(t,i){let a=new je(bE(t));return i.forEach(((l,c)=>{Ah(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ka()<=zt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(t,i,hr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ep="LocalStore",M2=3e8;class O2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new me(Bt),this.xs=new sa((c=>Gm(c)),Qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new T2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function V2(r,t,i,a){return new O2(r,t,i,a)}async function QE(r,t){const i=xt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=qt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function k2(r,t){const i=xt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const S=y.batch,O=S.keys();let G=$.resolve();return O.forEach((tt=>{G=G.next((()=>A.getEntry(_,tt))).next((nt=>{const Z=y.docVersions.get(tt);Xt(Z!==null,48541),nt.version.compareTo(Z)<0&&(S.applyToRemoteDocument(nt,y),nt.isValidDocument()&&(nt.setReadTime(y.commitVersion),A.addEntry(nt)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=qt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function KE(r){const t=xt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function U2(r,t){const i=xt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const O=l.get(S);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(We.EMPTY_BYTE_STRING,St.min()).withLastLimboFreeSnapshotVersion(St.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),l=l.insert(S,G),(function(nt,Z,et){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=M2?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(O,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let _=ds(),y=qt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(L2(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(St.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function L2(r,t,i){let a=qt(),l=qt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ds();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(St.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):lt(ep,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function j2(r,t){const i=xt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=qm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function P2(r,t){const i=xt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new nr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function bm(r,t,i){const a=xt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;lt(ep,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Fv(r,t,i){const a=xt(r);let l=St.min(),c=qt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=xt(_),O=S.xs.get(A);return O!==void 0?$.resolve(S.Ms.get(O)):S.Pi.getTargetData(y,A)})(a,d,Vi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:St.min(),i?c:qt()))).next((p=>(z2(a,xw(t),p),{documents:p,Qs:c})))))}function z2(r,t,i){let a=r.Os.get(t)||St.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Gv{constructor(){this.activeTargetIds=Mw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class B2{constructor(){this.Mo=new Gv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Gv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class q2{Oo(t){}shutdown(){}}const Qv="ConnectivityMonitor";class Kv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(Qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Am(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Wd="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Am(),p=this.zo(t,i.toUriEncodedString());lt(Wd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=fo(y);return this.Jo(t,p,_,a,A).then((S=>(lt(Wd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw so(Wd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=H2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class G2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class Q2 extends F2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Am();return new Promise(((p,_)=>{const y=new $0;y.setWithCredentials(!0),y.listenOnce(Z0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case jc.NO_ERROR:const S=y.getResponseJson();lt(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case jc.TIMEOUT:lt(nn,`RPC '${t}' ${d} timed out`),_(new ft(J.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const O=y.getStatus();if(lt(nn,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let G=y.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const nt=(function(et){const at=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(at)>=0?at:J.UNKNOWN})(tt.status);_(new ft(nt,tt.message))}else _(new ft(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ft(J.UNAVAILABLE,"Connection failed."));break;default:_t(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{lt(nn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);lt(nn,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=tE(),p=W0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");lt(nn,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let O=!1,G=!1;const tt=new G2({Yo:Z=>{G?lt(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(O||(lt(nn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),O=!0),lt(nn,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),nt=(Z,et,at)=>{Z.listen(et,(ct=>{try{at(ct)}catch(ut){setTimeout((()=>{throw ut}),0)}}))};return nt(S,Cl.EventType.OPEN,(()=>{G||(lt(nn,`RPC '${t}' stream ${l} transport opened.`),tt.o_())})),nt(S,Cl.EventType.CLOSE,(()=>{G||(G=!0,lt(nn,`RPC '${t}' stream ${l} transport closed`),tt.a_(),this.E_(S))})),nt(S,Cl.EventType.ERROR,(Z=>{G||(G=!0,so(nn,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),tt.a_(new ft(J.UNAVAILABLE,"The operation could not be completed")))})),nt(S,Cl.EventType.MESSAGE,(Z=>{if(!G){const et=Z.data[0];Xt(!!et,16349);const at=et,ct=at?.error||at[0]?.error;if(ct){lt(nn,`RPC '${t}' stream ${l} received error:`,ct);const ut=ct.status;let It=(function(w){const C=Oe[w];if(C!==void 0)return VE(C)})(ut),Ct=ct.message;It===void 0&&(It=J.INTERNAL,Ct="Unknown error status: "+ut+" with message "+ct.message),G=!0,tt.a_(new ft(It,Ct)),S.close()}else lt(nn,`RPC '${t}' stream ${l} received:`,et),tt.u_(et)}})),nt(p,J0.STAT_EVENT,(Z=>{Z.stat===hm.PROXY?lt(nn,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===hm.NOPROXY&&lt(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function tm(){return typeof document<"u"?document:null}function Rh(r){return new $w(r,!0)}class YE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&lt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Yv="PersistentStream";class XE{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(fs(i.toString()),fs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ft(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(Yv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(Yv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K2 extends XE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ww(this.serializer,t),a=(function(c){if(!("targetChange"in c))return St.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?St.min():d.readTime?ki(d.readTime):St.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=gm(_)?{documents:n2(c,_)}:{query:i2(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=LE(c,d.resumeToken);const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(St.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const y=_m(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=r2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Tm(this.serializer),i.removeTarget=t,this.q_(i)}}class Y2 extends XE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=e2(t.writeResults,t.commitTime),a=ki(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>t2(this.serializer,a)))};this.q_(i)}}class X2{}class $2 extends X2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,vm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ft(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,vm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ft(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Z2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fs(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class J2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(lt(na,"Restarting streams for network reachability change."),await(async function(_){const y=xt(_);y.Ea.add(4),await Xl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Nh(y)})(this))}))})),this.Ra=new Z2(a,l)}}async function Nh(r){if(ra(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function $E(r,t){const i=xt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rp(i)?sp(i):_o(i).O_()&&ip(i,t))}function np(r,t){const i=xt(r),a=_o(i);i.Ia.delete(t),a.O_()&&ZE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Ra.set("Unknown"))}function ip(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(St.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_o(r).Y_(t)}function ZE(r,t){r.Va.Ue(t),_o(r).Z_(t)}function sp(r){r.Va=new Qw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function rp(r){return ra(r)&&!_o(r).x_()&&r.Ia.size>0}function ra(r){return xt(r).Ea.size===0}function JE(r){r.Va=void 0}async function W2(r){r.Ra.set("Online")}async function tx(r){r.Ia.forEach(((t,i)=>{ip(r,t)}))}async function ex(r,t){JE(r),rp(r)?(r.Ra.ha(t),sp(r)):r.Ra.set("Unknown")}async function nx(r,t,i){if(r.Ra.set("Online"),t instanceof UE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){lt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof qc?r.Va.Ze(t):t instanceof kE?r.Va.st(t):r.Va.tt(t),!i.isEqual(St.min()))try{const a=await KE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(We.EMPTY_BYTE_STRING,A.snapshotVersion)),ZE(c,_);const S=new nr(A.target,_,y,A.sequenceNumber);ip(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(na,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!yo(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>KE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(na,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Nh(r)}))}function WE(r,t){return t().catch((i=>rh(r,i,t)))}async function Ih(r){const t=xt(r),i=pr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:qm;for(;ix(t);)try{const l=await j2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,sx(t,l)}catch(l){await rh(t,l)}t1(t)&&e1(t)}function ix(r){return ra(r)&&r.Ta.length<10}function sx(r,t){r.Ta.push(t);const i=pr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function t1(r){return ra(r)&&!pr(r).x_()&&r.Ta.length>0}function e1(r){pr(r).start()}async function rx(r){pr(r).ra()}async function ax(r){const t=pr(r);for(const i of r.Ta)t.ea(i.mutations)}async function ox(r,t,i){const a=r.Ta.shift(),l=Xm.from(a,t,i);await WE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Ih(r)}async function lx(r,t){t&&pr(r).X_&&await(async function(a,l){if((function(d){return Hw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();pr(a).B_(),await WE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Ih(a)}})(r,t),t1(r)&&e1(r)}async function Xv(r,t){const i=xt(r);i.asyncQueue.verifyOperationInProgress(),lt(na,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Nh(i)}async function ux(r,t){const i=xt(r);t?(i.Ea.delete(2),await Nh(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(i,a,l){const c=xt(i);return c.sa(),new K2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:W2.bind(null,r),t_:tx.bind(null,r),r_:ex.bind(null,r),H_:nx.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),rp(r)?sp(r):r.Ra.set("Unknown")):(await r.ma.stop(),JE(r))}))),r.ma}function pr(r){return r.fa||(r.fa=(function(i,a,l){const c=xt(i);return c.sa(),new Y2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:rx.bind(null,r),r_:lx.bind(null,r),ta:ax.bind(null,r),na:ox.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Ih(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ap{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new ap(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function op(r,t){if(fs("AsyncQueue",`${t}: ${r}`),yo(r))return new ft(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Rl(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class $v{constructor(){this.ga=new me(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):_t(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ho{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ho(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&bh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class cx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hx{constructor(){this.queries=Zv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=xt(i),c=l.queries;l.queries=Zv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ft(J.ABORTED,"Firestore shutting down"))}}function Zv(){return new sa((r=>TE(r)),bh)}async function n1(r,t){const i=xt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new cx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=op(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&lp(i)}async function i1(r,t){const i=xt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function fx(r,t){const i=xt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&lp(i)}function dx(r,t,i){const a=xt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function lp(r){r.Ca.forEach((t=>{t.next()}))}var Sm,Jv;(Jv=Sm||(Sm={})).Ma="default",Jv.Cache="cache";class s1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ho(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}class r1{constructor(t){this.key=t}}class a1{constructor(t){this.key=t}}class mx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=bE(t),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new $v,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const O=l.get(A),G=Ah(this.query,S)?S:null,tt=!!O&&this.mutatedKeys.has(O.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;O&&G?O.data.isEqual(G.data)?tt!==nt&&(a.track({type:3,doc:G}),Z=!0):this.su(O,G)||(a.track({type:2,doc:G}),Z=!0,(_&&this.eu(G,_)>0||y&&this.eu(G,y)<0)&&(p=!0)):!O&&G?(a.track({type:0,doc:G}),Z=!0):O&&!G&&(a.track({type:1,doc:O}),Z=!0,(_||y)&&(p=!0)),Z&&(G?(d=d.add(G),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,tt){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _t(20277,{Rt:Z})}};return nt(G)-nt(tt)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ho(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new $v,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new a1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new r1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=qt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const up="SyncEngine";class px{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class gx{constructor(t){this.key=t,this.hu=!1}}class yx{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>TE(p)),bh),this.Iu=new Map,this.Eu=new Set,this.du=new me(pt.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _x(r,t,i=!0){const a=f1(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await o1(a,t,i,!0),l}async function vx(r,t){const i=f1(r);await o1(i,t,!0,!1)}async function o1(r,t,i,a){const l=await P2(r.localStore,Vi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await Ex(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&$E(r.remoteStore,l),p}async function Ex(r,t,i,a,l){r.pu=(S,O,G)=>(async function(nt,Z,et,at){let ct=Z.view.ru(et);ct.Cs&&(ct=await Fv(nt.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,ct))));const ut=at&&at.targetChanges.get(Z.targetId),It=at&&at.targetMismatches.get(Z.targetId)!=null,Ct=Z.view.applyChanges(ct,nt.isPrimaryClient,ut,It);return t0(nt,Z.targetId,Ct.au),Ct.snapshot})(r,S,O,G);const c=await Fv(r.localStore,t,!0),d=new mx(t,c.Qs),p=d.ru(c.documents),_=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);t0(r,i,y.au);const A=new px(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function Tx(r,t,i){const a=xt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!bh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await bm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&np(a.remoteStore,l.targetId),wm(a,l.targetId)})).catch(go)):(wm(a,l.targetId),await bm(a.localStore,l.targetId,!0))}async function bx(r,t){const i=xt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),np(i.remoteStore,a.targetId))}async function Ax(r,t,i){const a=Ix(r);try{const l=await(function(d,p){const _=xt(d),y=ce.now(),A=p.reduce(((G,tt)=>G.add(tt.key)),qt());let S,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=ds(),nt=qt();return _.Ns.getEntries(G,A).next((Z=>{tt=Z,tt.forEach(((et,at)=>{at.isValidDocument()||(nt=nt.add(et))}))})).next((()=>_.localDocuments.getOverlayedDocuments(G,tt))).next((Z=>{S=Z;const et=[];for(const at of p){const ct=jw(at,S.get(at.key).overlayedDocument);ct!=null&&et.push(new Er(at.key,ct,mE(ct.value.mapValue),Tn.exists(!0)))}return _.mutationQueue.addMutationBatch(G,y,et,p)})).next((Z=>{O=Z;const et=Z.applyToLocalDocumentSet(S,nt);return _.documentOverlayCache.saveOverlays(G,Z.batchId,et)}))})).then((()=>({batchId:O.batchId,changes:SE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new me(Bt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await $l(a,l.changes),await Ih(a.remoteStore)}catch(l){const c=op(l,"Failed to persist write");i.reject(c)}}async function l1(r,t){const i=xt(r);try{const a=await U2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await $l(i,a,t)}catch(a){await go(a)}}function Wv(r,t,i){const a=xt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=xt(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,S)=>{for(const O of S.Sa)O.va(p)&&(y=!0)})),y&&lp(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Sx(r,t,i){const a=xt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new me(pt.comparator);d=d.insert(c,an.newNoDocument(c,St.min()));const p=qt().add(c),_=new Ch(St.min(),new Map,new me(Bt),d,p);await l1(a,_),a.du=a.du.remove(c),a.Au.delete(t),cp(a)}else await bm(a.localStore,t,!1).then((()=>wm(a,t,i))).catch(go)}async function wx(r,t){const i=xt(r),a=t.batch.batchId;try{const l=await k2(i.localStore,t);c1(i,a,null),u1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await go(l)}}async function xx(r,t,i){const a=xt(r);try{const l=await(function(d,p){const _=xt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((S=>(Xt(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);c1(a,t,i),u1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $l(a,l)}catch(l){await go(l)}}function u1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function c1(r,t,i){const a=xt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function wm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||h1(r,a)}))}function h1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(np(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),cp(r))}function t0(r,t,i){for(const a of i)a instanceof r1?(r.Ru.addReference(a.key,t),Cx(r,a)):a instanceof a1?(lt(up,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||h1(r,a.key)):_t(19791,{wu:a})}function Cx(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(up,"New document in limbo: "+i),r.Eu.add(a),cp(r))}function cp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(ue.fromString(t)),a=r.fu.next();r.Au.set(a,new gx(i)),r.du=r.du.insert(i,a),$E(r.remoteStore,new nr(Vi(Th(i.path)),a,"TargetPurposeLimboResolution",yh.ce))}}async function $l(r,t,i){const a=xt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=tp.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=xt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(O=>$.forEach(O.Es,(G=>A.persistence.referenceDelegate.addReference(S,O.targetId,G))).next((()=>$.forEach(O.ds,(G=>A.persistence.referenceDelegate.removeReference(S,O.targetId,G)))))))))}catch(S){if(!yo(S))throw S;lt(ep,"Failed to update sequence numbers: "+S)}for(const S of y){const O=S.targetId;if(!S.fromCache){const G=A.Ms.get(O),tt=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(O,nt)}}})(a.localStore,c))}async function Rx(r,t){const i=xt(r);if(!i.currentUser.isEqual(t)){lt(up,"User change. New user:",t.toKey());const a=await QE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ft(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ls)}}function Nx(r,t){const i=xt(r),a=i.Au.get(t);if(a&&a.hu)return qt().add(a.key);{let l=qt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function f1(r){const t=xt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Nx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Sx.bind(null,t),t.Pu.H_=fx.bind(null,t.eventManager),t.Pu.yu=dx.bind(null,t.eventManager),t}function Ix(r){const t=xt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=xx.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Rh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return V2(this.persistence,new D2,t.initialUser,this.serializer)}Cu(t){return new GE(Wm.mi,this.serializer)}Du(t){return new B2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class Dx extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new g2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new GE((a=>sh.mi(a,i)),this.serializer)}}class xm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=Rx.bind(null,this.syncEngine),await ux(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hx})()}createDatastore(t){const i=Rh(t.databaseInfo.databaseId),a=(function(c){return new Q2(c)})(t.databaseInfo);return(function(c,d,p,_){return new $2(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new J2(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Wv(this.syncEngine,i,0)),(function(){return Kv.v()?new Kv:new q2})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const S=new yx(l,c,d,p,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=xt(i);lt(na,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}xm.provider={build:()=>new xm};class d1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):fs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const gr="FirestoreClient";class Mx{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=zm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=op(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function em(r,t){r.asyncQueue.verifyOperationInProgress(),lt(gr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await QE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function e0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Ox(r);lt(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Xv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Xv(t.remoteStore,l))),r._onlineComponents=t}async function Ox(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(gr,"Using user provided OfflineComponentProvider");try{await em(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await em(r,new ah)}}else lt(gr,"Using default OfflineComponentProvider"),await em(r,new Dx(void 0));return r._offlineComponents}async function m1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(gr,"Using user provided OnlineComponentProvider"),await e0(r,r._uninitializedComponentsProvider._online)):(lt(gr,"Using default OnlineComponentProvider"),await e0(r,new xm))),r._onlineComponents}function Vx(r){return m1(r).then((t=>t.syncEngine))}async function Cm(r){const t=await m1(r),i=t.eventManager;return i.onListen=_x.bind(null,t.syncEngine),i.onUnlisten=Tx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=vx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=bx.bind(null,t.syncEngine),i}function kx(r,t,i={}){const a=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new d1({next:O=>{A.Nu(),d.enqueueAndForget((()=>i1(c,S)));const G=O.docs.has(p);!G&&O.fromCache?y.reject(new ft(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&_&&_.source==="server"?y.reject(new ft(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),S=new s1(Th(p.path),A,{includeMetadataChanges:!0,qa:!0});return n1(c,S)})(await Cm(r),r.asyncQueue,t,i,a))),a.promise}function p1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const n0=new Map;const g1="firestore.googleapis.com",i0=!0;class s0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=i0}else this.host=t.host,this.ssl=t.ssl??i0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<m2)throw new ft(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ft(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new qS;switch(a.type){case"firstParty":return new QS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ft(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=n0.get(i);a&&(lt("ComponentProvider","Removing Datastore"),n0.delete(i),a.terminate())})(this),Promise.resolve()}}function Ux(r,t,i,a={}){r=Kn(r,Dh);const l=fo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(B0(`https://${p}`),q0("Firestore",!0)),c.host!==g1&&c.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!cs(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=rn.MOCK_USER;else{y=dA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ft(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(S)}r._authCredentials=new HS(new nE(y,A))}}class Mh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Mh(this.firestore,t,this._query)}}class Ae{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ae(this.firestore,t,this._key)}toJSON(){return{type:Ae._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,Ae._jsonSchema))return new Ae(t,a||null,new pt(ue.fromString(i.referencePath)))}}Ae._jsonSchemaVersion="firestore/documentReference/1.0",Ae._jsonSchema={type:Ve("string",Ae._jsonSchemaVersion),referencePath:Ve("string")};class lr extends Mh{constructor(t,i,a){super(t,i,Th(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ae(this.firestore,null,new pt(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function nm(r,t,...i){if(r=Fe(r),iE("collection","path",t),r instanceof Dh){const a=ue.fromString(t,...i);return _v(a),new lr(r,null,a)}{if(!(r instanceof Ae||r instanceof lr))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return _v(a),new lr(r.firestore,null,a)}}function de(r,t,...i){if(r=Fe(r),arguments.length===1&&(t=zm.newId()),iE("doc","path",t),r instanceof Dh){const a=ue.fromString(t,...i);return yv(a),new Ae(r,null,new pt(a))}{if(!(r instanceof Ae||r instanceof lr))throw new ft(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return yv(a),new Ae(r.firestore,r instanceof lr?r.converter:null,new pt(a))}}const r0="AsyncQueue";class a0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YE(this,"async_queue_retry"),this._c=()=>{const a=tm();a&&lt(r0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=tm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=tm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;lt(r0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,fs("INTERNAL UNHANDLED ERROR: ",o0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ap.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&_t(47125,{Pc:o0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function o0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function l0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class yr extends Dh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new a0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new a0(t),this._firestoreClient=void 0,await t}}}function Lx(r,t){const i=typeof r=="object"?r:Q0(),a=typeof r=="string"?r:Jc,l=jm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=hA("firestore");c&&Ux(l,...c)}return l}function Oh(r){if(r._terminated)throw new ft(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jx(r),r._firestoreClient}function jx(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new uw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Mx(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(We.fromBase64String(t))}catch(i){throw new ft(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ve("string",Qn._jsonSchemaVersion),bytes:Ve("string")};class Zl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ft(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vo{constructor(t){this._methodName=t}}class Ui{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ft(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ft(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ui._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,Ui._jsonSchema))return new Ui(t.latitude,t.longitude)}}Ui._jsonSchemaVersion="firestore/geoPoint/1.0",Ui._jsonSchema={type:Ve("string",Ui._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Li{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Li(t.vectorValues);throw new ft(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:Ve("string",Li._jsonSchemaVersion),vectorValues:Ve("object")};const Px=/^__.*__$/;class zx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class y1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Er(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function _1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _t(40011,{Ac:r})}}class Vh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Vh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_1(this.Ac)&&Px.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Bx{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Rh(t)}Cc(t,i,a,l=!1){return new Vh({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function hp(r){const t=r._freezeSettings(),i=Rh(r._databaseId);return new Bx(r._databaseId,!!t.ignoreUndefinedProperties,i)}function v1(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);pp("Data must be an object, but it was:",d,a);const p=A1(a,d);let _,y;if(c.merge)_=new Mn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const O=Rm(t,S,i);if(!d.contains(O))throw new ft(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);w1(A,O)||A.push(O)}_=new Mn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new zx(new En(p),_,y)}class kh extends vo{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof kh}}function E1(r,t,i){return new Vh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fp extends vo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=E1(this,t,!0),a=this.vc.map((c=>Eo(c,i))),l=new lo(a);return new Ym(t.path,l)}isEqual(t){return t instanceof fp&&cs(this.vc,t.vc)}}class dp extends vo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=E1(this,t,!0),a=this.vc.map((c=>Eo(c,i))),l=new uo(a);return new Ym(t.path,l)}isEqual(t){return t instanceof dp&&cs(this.vc,t.vc)}}class mp extends vo{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new ql(t.serializer,CE(t.serializer,this.Fc));return new Ym(t.path,i)}isEqual(t){return t instanceof mp&&this.Fc===t.Fc}}function T1(r,t,i,a){const l=r.Cc(1,t,i);pp("Data must be an object, but it was:",l,a);const c=[],d=En.empty();vr(a,((_,y)=>{const A=gp(t,_,i);y=Fe(y);const S=l.yc(A);if(y instanceof kh)c.push(A);else{const O=Eo(y,S);O!=null&&(c.push(A),d.set(A,O))}}));const p=new Mn(c);return new y1(d,p,l.fieldTransforms)}function b1(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[Rm(t,a,i)],_=[l];if(c.length%2!=0)throw new ft(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Rm(t,c[O])),_.push(c[O+1]);const y=[],A=En.empty();for(let O=p.length-1;O>=0;--O)if(!w1(y,p[O])){const G=p[O];let tt=_[O];tt=Fe(tt);const nt=d.yc(G);if(tt instanceof kh)y.push(G);else{const Z=Eo(tt,nt);Z!=null&&(y.push(G),A.set(G,Z))}}const S=new Mn(y);return new y1(A,S,d.fieldTransforms)}function Eo(r,t){if(S1(r=Fe(r)))return pp("Unsupported field value:",t,r),A1(r,t);if(r instanceof vo)return(function(a,l){if(!_1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=Eo(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Fe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return CE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof Ui)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:LE(l.serializer,a._byteString)};if(a instanceof Ae){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Li)return(function(d,p){return{mapValue:{fields:{[fE]:{stringValue:dE},[Wc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return Km(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Bm(a)}`)})(r,t)}function A1(r,t){const i={};return aE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(r,((a,l)=>{const c=Eo(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function S1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof Ui||r instanceof Qn||r instanceof Ae||r instanceof vo||r instanceof Li)}function pp(r,t,i){if(!S1(i)||!sE(i)){const a=Bm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Rm(r,t,i){if((t=Fe(t))instanceof Zl)return t._internalPath;if(typeof t=="string")return gp(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const qx=new RegExp("[~\\*/\\[\\]]");function gp(r,t,i){if(t.search(qx)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zl(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ft(J.INVALID_ARGUMENT,p+r+_)}function w1(r,t){return r.some((i=>i.isEqual(t)))}class x1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ae(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Hx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(C1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Hx extends x1{data(){return super.data()}}function C1(r,t){return typeof t=="string"?gp(r,t):t instanceof Zl?t._internalPath:t._delegate._internalPath}function Fx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ft(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Gx{convertValue(t,i="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return be(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw _t(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return vr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>be(a.doubleValue)));return new Li(i)}convertGeoPoint(t){return new Ui(be(t.latitude),be(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=vh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=fr(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Xt(HE(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||fs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function R1(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wr extends x1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(C1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Ve("string",Wr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Hc extends Wr{data(t={}){return super.data(t)}}class Wa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Il(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ft(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Qx(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=zm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Qx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _t(61501,{type:r})}}function Fc(r){r=Kn(r,Ae);const t=Kn(r.firestore,yr);return kx(Oh(t),r._key).then((i=>I1(t,r,i)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Ve("string",Wa._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class N1 extends Gx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ae(this.firestore,null,i)}}function Zs(r,t,i){r=Kn(r,Ae);const a=Kn(r.firestore,yr),l=R1(r.converter,t,i);return Uh(a,[v1(hp(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Tn.none())])}function hn(r,t,i,...a){r=Kn(r,Ae);const l=Kn(r.firestore,yr),c=hp(l);let d;return d=typeof(t=Fe(t))=="string"||t instanceof Zl?b1(c,"updateDoc",r._key,t,i,a):T1(c,"updateDoc",r._key,t),Uh(l,[d.toMutation(r._key,Tn.exists(!0))])}function u0(r){return Uh(Kn(r.firestore,yr),[new xh(r._key,Tn.none())])}function kc(r,...t){r=Fe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||l0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(l0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof Ae)d=Kn(r.firestore,yr),p=Th(r._key.path),c={next:_=>{t[a]&&t[a](I1(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Kn(r,Mh);d=Kn(_.firestore,yr),p=_._query;const y=new N1(d);c={next:A=>{t[a]&&t[a](new Wa(d,y,_,A))},error:t[a+1],complete:t[a+2]},Fx(r._query)}return(function(y,A,S,O){const G=new d1(O),tt=new s1(A,G,S);return y.asyncQueue.enqueueAndForget((async()=>n1(await Cm(y),tt))),()=>{G.Nu(),y.asyncQueue.enqueueAndForget((async()=>i1(await Cm(y),tt)))}})(Oh(d),p,l,c)}function Uh(r,t){return(function(a,l){const c=new or;return a.asyncQueue.enqueueAndForget((async()=>Ax(await Vx(a),l,c))),c.promise})(Oh(r),t)}function I1(r,t,i){const a=i.docs.get(t._key),l=new N1(r);return new Wr(r,l,t._key,a,new Il(i.hasPendingWrites,i.fromCache),t.converter)}class Kx{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=hp(t)}set(t,i,a){this._verifyNotCommitted();const l=im(t,this._firestore),c=R1(l.converter,i,a),d=v1(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,Tn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=im(t,this._firestore);let d;return d=typeof(i=Fe(i))=="string"||i instanceof Zl?b1(this._dataReader,"WriteBatch.update",c._key,i,a,l):T1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Tn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=im(t,this._firestore);return this._mutations=this._mutations.concat(new xh(i._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ft(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function im(r,t){if((r=Fe(r)).firestore!==t)throw new ft(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Yx(...r){return new fp("arrayUnion",r)}function lh(...r){return new dp("arrayRemove",r)}function Oi(r){return new mp("increment",r)}function Xx(r){return Oh(r=Kn(r,yr)),new Kx(r,(t=>Uh(r,t)))}(function(t,i=!0){(function(l){po=l})(mo),io(new ta("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new yr(new FS(a.getProvider("auth-internal")),new KS(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ft(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(dv,mv,t),rr(dv,mv,"esm2020")})();function D1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $x=D1,M1=new Fl("auth","Firebase",D1());const uh=new Um("@firebase/auth");function Zx(r,...t){uh.logLevel<=zt.WARN&&uh.warn(`Auth (${mo}): ${r}`,...t)}function Gc(r,...t){uh.logLevel<=zt.ERROR&&uh.error(`Auth (${mo}): ${r}`,...t)}function ms(r,...t){throw yp(r,...t)}function ji(r,...t){return yp(r,...t)}function O1(r,t,i){const a={...$x(),[t]:i};return new Fl("auth","Firebase",a).create(t,{appName:r.name})}function ur(r){return O1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return M1.create(r,...t)}function Tt(r,t,...i){if(!r)throw yp(t,...i)}function ls(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Gc(t),new Error(t)}function ps(r,t){r||ls(t)}function Nm(){return typeof self<"u"&&self.location?.href||""}function Jx(){return c0()==="http:"||c0()==="https:"}function c0(){return typeof self<"u"&&self.location?.protocol||null}function Wx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Jx()||vA()||"connection"in navigator)?navigator.onLine:!0}function tC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ps(i>t,"Short delay should be less than long delay!"),this.isMobile=gA()||EA()}get(){return Wx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function _p(r,t){ps(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class V1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ls("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ls("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ls("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const eC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iC=new Jl(3e4,6e4);function Lh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function To(r,t,i,a,l={}){return k1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Gl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return _A()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),V1.fetch()(await L1(r,r.config.apiHost,i,p),y)})}async function k1(r,t,i){r._canInitEmulator=!1;const a={...eC,...t};try{const l=new sC(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Uc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw O1(r,A,y);ms(r,A)}}catch(l){if(l instanceof gs)throw l;ms(r,"network-request-failed",{message:String(l)})}}async function U1(r,t,i,a,l={}){const c=await To(r,t,i,a,l);return"mfaPendingCredential"in c&&ms(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function L1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?_p(r.config,l):`${r.config.apiScheme}://${l}`;return nC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class sC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(ji(this.auth,"network-request-failed")),iC.get())})}}function Uc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=ji(r,t,a);return l.customData._tokenResponse=i,l}async function rC(r,t){return To(r,"POST","/v1/accounts:delete",t)}async function ch(r,t){return To(r,"POST","/v1/accounts:lookup",t)}function Ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function aC(r,t=!1){const i=Fe(r),a=await i.getIdToken(t),l=vp(a);Tt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ul(sm(l.auth_time)),issuedAtTime:Ul(sm(l.iat)),expirationTime:Ul(sm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function sm(r){return Number(r)*1e3}function vp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function h0(r){const t=vp(r);return Tt(t,"internal-error"),Tt(typeof t.exp<"u","internal-error"),Tt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof gs&&oC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function oC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(r){const t=r.auth,i=await r.getIdToken(),a=await Hl(r,ch(t,{idToken:i}));Tt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?j1(l.providerUserInfo):[],d=cC(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Im(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function uC(r){const t=Fe(r);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function j1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hC(r,t){const i=await k1(r,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await L1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(_.credentials="include"),V1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fC(r,t){return To(r,"POST","/v2/accounts:revokeToken",Lh(r,t))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Tt(t.idToken,"internal-error"),Tt(typeof t.idToken<"u","internal-error"),Tt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):h0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){Tt(t.length!==0,"internal-error");const i=h0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(Tt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await hC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(Tt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(Tt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(Tt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return ls("not implemented")}}function $s(r,t){Tt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ui{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new lC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Im(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return Tt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return aC(this,t)}reload(){return uC(this)}_assign(t){this!==t&&(Tt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ui({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){Tt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(li(this.auth.app))return Promise.reject(ur(this.auth));const t=await this.getIdToken();return await Hl(this,rC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:O,isAnonymous:G,providerData:tt,stsTokenManager:nt}=i;Tt(S&&nt,t,"internal-error");const Z=to.fromJSON(this.name,nt);Tt(typeof S=="string",t,"internal-error"),$s(a,t.name),$s(l,t.name),Tt(typeof O=="boolean",t,"internal-error"),Tt(typeof G=="boolean",t,"internal-error"),$s(c,t.name),$s(d,t.name),$s(p,t.name),$s(_,t.name),$s(y,t.name),$s(A,t.name);const et=new ui({uid:S,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return tt&&Array.isArray(tt)&&(et.providerData=tt.map(at=>({...at}))),_&&(et._redirectEventId=_),et}static async _fromIdTokenResponse(t,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new ui({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await hh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];Tt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?j1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new to;p.updateFromIdToken(a);const _=new ui({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Im(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const f0=new Map;function us(r){ps(r instanceof Function,"Expected a class definition");let t=f0.get(r);return t?(ps(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,f0.set(r,t),t)}class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}P1.type="NONE";const d0=P1;function Qc(r,t,i){return`firebase:${r}:${t}:${i}`}class eo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ch(this.auth,{idToken:t}).catch(()=>{});return i?ui._fromGetAccountInfoResponse(this.auth,i,t):null}return ui._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new eo(us(d0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||us(d0);const d=Qc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const O=await ch(t,{idToken:A}).catch(()=>{});if(!O)break;S=await ui._fromGetAccountInfoResponse(t,O,A)}else S=ui._fromJSON(t,A);y!==c&&(p=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new eo(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new eo(c,t,a))}}function m0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(H1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G1(t))return"Blackberry";if(Q1(t))return"Webos";if(B1(t))return"Safari";if((t.includes("chrome/")||q1(t))&&!t.includes("edge/"))return"Chrome";if(F1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function z1(r=on()){return/firefox\//i.test(r)}function B1(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function q1(r=on()){return/crios\//i.test(r)}function H1(r=on()){return/iemobile/i.test(r)}function F1(r=on()){return/android/i.test(r)}function G1(r=on()){return/blackberry/i.test(r)}function Q1(r=on()){return/webos/i.test(r)}function Ep(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dC(r=on()){return Ep(r)&&!!window.navigator?.standalone}function mC(){return TA()&&document.documentMode===10}function K1(r=on()){return Ep(r)||F1(r)||Q1(r)||G1(r)||/windows phone/i.test(r)||H1(r)}function Y1(r,t=[]){let i;switch(r){case"Browser":i=m0(on());break;case"Worker":i=`${m0(on())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${a}`}class pC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function gC(r,t={}){return To(r,"GET","/v2/passwordPolicy",Lh(r,t))}const yC=6;class _C{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class vC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new p0(this),this.idTokenSubscription=new p0(this),this.beforeStateQueue=new pC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=us(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ch(this,{idToken:t}),a=await ui._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(li(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return Tt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(li(this.app))return Promise.reject(ur(this));const i=t?Fe(t):null;return i&&Tt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&Tt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return li(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return li(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(us(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gC(this),i=new _C(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await fC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&us(t)||this._popupRedirectResolver;Tt(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[us(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(Tt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Tt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(li(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Zx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function jh(r){return Fe(r)}class p0{constructor(t){this.auth=t,this.observer=null,this.addObserver=NA(i=>this.observer=i)}get next(){return Tt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Tp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function EC(r){Tp=r}function TC(r){return Tp.loadJS(r)}function bC(){return Tp.gapiScript}function AC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function SC(r,t){const i=jm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(cs(c,t??{}))return l;ms(l,"already-initialized")}return i.initialize({options:t})}function wC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(us);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function xC(r,t,i){const a=jh(r);Tt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=X1(t),{host:d,port:p}=CC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){Tt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),Tt(cs(y,a.config.emulator)&&cs(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,fo(d)?(B0(`${c}//${d}${_}`),q0("Auth",!0)):RC()}function X1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function CC(r){const t=X1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:g0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:g0(d)}}}function g0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function RC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class $1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ls("not implemented")}_getIdTokenResponse(t){return ls("not implemented")}_linkToIdToken(t,i){return ls("not implemented")}_getReauthenticationResolver(t){return ls("not implemented")}}async function no(r,t){return U1(r,"POST","/v1/accounts:signInWithIdp",Lh(r,t))}const NC="http://localhost";class ia extends $1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ms("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ia(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return no(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,no(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,no(t,i)}buildRequest(){const t={requestUri:NC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class Z1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wl extends Z1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Js extends Wl{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Ws extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ia._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class tr extends Wl{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class er extends Wl{constructor(){super("twitter.com")}static credential(t,i){return ia._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function IC(r,t){return U1(r,"POST","/v1/accounts:signUp",Lh(r,t))}class _r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ui._fromIdTokenResponse(t,a,l),d=y0(a);return new _r({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=y0(a);return new _r({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function y0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function DC(r){if(li(r.app))return Promise.reject(ur(r));const t=jh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new _r({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await IC(t,{returnSecureToken:!0}),a=await _r._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class fh extends gs{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new fh(t,i,a,l)}}function J1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,c,t,a):c})}async function MC(r,t,i=!1){const a=await Hl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return _r._forOperation(r,"link",a)}async function OC(r,t,i=!1){const{auth:a}=r;if(li(a.app))return Promise.reject(ur(a));const l="reauthenticate";try{const c=await Hl(r,J1(a,l,t,r),i);Tt(c.idToken,a,"internal-error");const d=vp(c.idToken);Tt(d,a,"internal-error");const{sub:p}=d;return Tt(r.uid===p,a,"user-mismatch"),_r._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ms(a,"user-mismatch"),c}}async function VC(r,t,i=!1){if(li(r.app))return Promise.reject(ur(r));const a="signIn",l=await J1(r,a,t),c=await _r._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function kC(r,t,i,a){return Fe(r).onIdTokenChanged(t,i,a)}function UC(r,t,i){return Fe(r).beforeAuthStateChanged(t,i)}function LC(r,t,i,a){return Fe(r).onAuthStateChanged(t,i,a)}const dh="__sak";class W1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jC=1e3,PC=10;class tT extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);mC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,PC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}tT.type="LOCAL";const zC=tT;class eT extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}eT.type="SESSION";const nT=eT;function BC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ph{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ph(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await BC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ph.receivers=[];function bp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class qC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=bp("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const O=S;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Pi(){return window}function HC(r){Pi().location.href=r}function iT(){return typeof Pi().WorkerGlobalScope<"u"&&typeof Pi().importScripts=="function"}async function FC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function GC(){return navigator?.serviceWorker?.controller||null}function QC(){return iT()?self:null}const sT="firebaseLocalStorageDb",KC=1,mh="firebaseLocalStorage",rT="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function zh(r,t){return r.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function YC(){const r=indexedDB.deleteDatabase(sT);return new tu(r).toPromise()}function Dm(){const r=indexedDB.open(sT,KC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(mh,{keyPath:rT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(mh)?t(a):(a.close(),await YC(),t(await Dm()))})})}async function _0(r,t,i){const a=zh(r,!0).put({[rT]:t,value:i});return new tu(a).toPromise()}async function XC(r,t){const i=zh(r,!1).get(t),a=await new tu(i).toPromise();return a===void 0?null:a.value}function v0(r,t){const i=zh(r,!0).delete(t);return new tu(i).toPromise()}const $C=800,ZC=3;class aT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>ZC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ph._getInstance(QC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await FC(),!this.activeServiceWorker)return;this.sender=new qC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||GC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Dm();return await _0(t,dh,"1"),await v0(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>XC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>v0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=zh(l,!1).getAll();return new tu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$C)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aT.type="LOCAL";const JC=aT;new Jl(3e4,6e4);function WC(r,t){return t?us(t):(Tt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ap extends $1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,i){return no(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function tR(r){return VC(r.auth,new Ap(r),r.bypassAuthState)}function eR(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),OC(i,new Ap(r),r.bypassAuthState)}async function nR(r){const{auth:t,user:i}=r;return Tt(i,t,"internal-error"),MC(i,new Ap(r),r.bypassAuthState)}class oT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tR;case"linkViaPopup":case"linkViaRedirect":return nR;case"reauthViaPopup":case"reauthViaRedirect":return eR;default:ms(this.auth,"internal-error")}}resolve(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ps(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iR=new Jl(2e3,1e4);class Za extends oT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Tt(t,this.auth,"internal-error"),t}async onExecution(){ps(this.filter.length===1,"Popup operations only handle one event");const t=bp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(ji(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(ji(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ji(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iR.get())};t()}}Za.currentPopupAction=null;const sR="pendingRedirect",Kc=new Map;class rR extends oT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Kc.get(this.auth._key());if(!t){try{const a=await aR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Kc.set(this.auth._key(),t)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aR(r,t){const i=uR(t),a=lR(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function oR(r,t){Kc.set(r._key(),t)}function lR(r){return us(r._redirectPersistence)}function uR(r){return Qc(sR,r.config.apiKey,r.name)}async function cR(r,t,i=!1){if(li(r.app))return Promise.reject(ur(r));const a=jh(r),l=WC(a,t),d=await new rR(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const hR=600*1e3;class fR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!lT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(ji(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hR&&this.cachedEventUids.clear(),this.cachedEventUids.has(E0(t))}saveEventToCache(t){this.cachedEventUids.add(E0(t)),this.lastProcessedEventTime=Date.now()}}function E0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function lT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function dR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(r);default:return!1}}async function mR(r,t={}){return To(r,"GET","/v1/projects",t)}const pR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gR=/^https?/;async function yR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mR(r);for(const i of t)try{if(_R(i))return}catch{}ms(r,"unauthorized-domain")}function _R(r){const t=Nm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!gR.test(i))return!1;if(pR.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const vR=new Jl(3e4,6e4);function T0(){const r=Pi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function ER(r){return new Promise((t,i)=>{function a(){T0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{T0(),i(ji(r,"network-request-failed"))},timeout:vR.get()})}if(Pi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Pi().gapi?.load)a();else{const l=AC("iframefcb");return Pi()[l]=()=>{gapi.load?a():i(ji(r,"network-request-failed"))},TC(`${bC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Yc=null,t})}let Yc=null;function TR(r){return Yc=Yc||ER(r),Yc}const bR=new Jl(5e3,15e3),AR="__/auth/iframe",SR="emulator/auth/iframe",wR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},xR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function CR(r){const t=r.config;Tt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?_p(t,SR):`https://${r.config.authDomain}/${AR}`,a={apiKey:t.apiKey,appName:r.name,v:mo},l=xR.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function RR(r){const t=await TR(r),i=Pi().gapi;return Tt(i,r,"internal-error"),t.open({where:document.body,url:CR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wR,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=ji(r,"network-request-failed"),p=Pi().setTimeout(()=>{c(d)},bR.get());function _(){Pi().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const NR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IR=500,DR=600,MR="_blank",OR="http://localhost";class b0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VR(r,t,i,a=IR,l=DR){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...NR,width:a.toString(),height:l.toString(),top:c,left:d},y=on().toLowerCase();i&&(p=q1(y)?MR:i),z1(y)&&(t=t||OR,_.scrollbars="yes");const A=Object.entries(_).reduce((O,[G,tt])=>`${O}${G}=${tt},`,"");if(dC(y)&&p!=="_self")return kR(t||"",p),new b0(null);const S=window.open(t||"",p,A);Tt(S,r,"popup-blocked");try{S.focus()}catch{}return new b0(S)}function kR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const UR="__/auth/handler",LR="emulator/auth/handler",jR=encodeURIComponent("fac");async function A0(r,t,i,a,l,c){Tt(r.config.authDomain,r,"auth-domain-config-required"),Tt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:mo,eventId:l};if(t instanceof Z1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",RA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof Wl){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${jR}=${encodeURIComponent(_)}`:"";return`${PR(r)}?${Gl(p).slice(1)}${y}`}function PR({config:r}){return r.emulator?_p(r,LR):`https://${r.authDomain}/${UR}`}const rm="webStorageSupport";class zR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=cR,this._overrideRedirectResult=oR}async _openPopup(t,i,a,l){ps(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await A0(t,i,a,Nm(),l);return VR(t,c,bp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await A0(t,i,a,Nm(),l);return HC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ps(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await RR(t),a=new fR(t);return i.register("authEvent",l=>(Tt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(rm,{type:rm},l=>{const c=l?.[0]?.[rm];c!==void 0&&i(!!c),ms(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=yR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return K1()||B1()||Ep()}}const BR=zR;var S0="@firebase/auth",w0="1.12.0";class qR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){Tt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FR(r){io(new ta("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;Tt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y1(r)},y=new vC(a,l,c,_);return wC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new ta("auth-internal",t=>{const i=jh(t.getProvider("auth").getImmediate());return(a=>new qR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(S0,w0,HR(r)),rr(S0,w0,"esm2020")}const GR=300,QR=z0("authIdTokenMaxAge")||GR;let x0=null;const KR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>QR)return;const l=i?.token;x0!==l&&(x0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YR(r=Q0()){const t=jm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=SC(r,{popupRedirectResolver:BR,persistence:[JC,zC,nT]}),a=z0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=KR(c.toString());UC(i,d,()=>d(i.currentUser)),kC(i,p=>d(p))}}const l=j0("auth");return l&&xC(i,`http://${l}`),i}function XR(){return document.getElementsByTagName("head")?.[0]??document}EC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=ji("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",XR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FR("Browser");const $R=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),C0=r=>{const t=ZR(r);return t.charAt(0).toUpperCase()+t.slice(1)},uT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),JR=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var WR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tN=Ut.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>Ut.createElement("svg",{ref:_,...WR,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:uT("lucide",l),...!c&&!JR(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>Ut.createElement(y,A)),...Array.isArray(c)?c:[c]]));const re=(r,t)=>{const i=Ut.forwardRef(({className:a,...l},c)=>Ut.createElement(tN,{ref:c,iconNode:t,className:uT(`lucide-${$R(C0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=C0(r),i};const eN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nN=re("activity",eN);const iN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sN=re("book-open",iN);const rN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mm=re("calendar",rN);const aN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cT=re("check",aN);const oN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lN=re("circle-check-big",oN);const uN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cN=re("circle-x",uN);const hN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],hT=re("clipboard-list",hN);const fN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dN=re("clock",fN);const mN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],R0=re("dollar-sign",mN);const pN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gN=re("eye-off",pN);const yN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_N=re("eye",yN);const vN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],EN=re("heart",vN);const TN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],bN=re("info",TN);const AN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ph=re("key",AN);const SN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],N0=re("loader-circle",SN);const wN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xN=re("log-out",wN);const CN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],RN=re("party-popper",CN);const NN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IN=re("shield-check",NN);const DN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Om=re("stethoscope",DN);const MN=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ON=re("toggle-left",MN);const VN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],kN=re("toggle-right",VN);const UN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],I0=re("trash-2",UN);const LN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fT=re("trophy",LN);const jN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],D0=re("user-check",jN);const PN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],M0=re("user-x",PN);const zN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dT=re("users",zN);const BN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O0=re("x",BN),qN={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},mT=G0(qN),ai=Lx(mT),sn=YR(mT),oi="balletfitbyjen-6b36a",HN="JENNY2024",cr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],V0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Lc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],Dn=({children:r,className:t=""})=>T.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),Mi=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return T.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${l}`,disabled:a,children:r})},pT=(r,t)=>{const i=new Date,a=new Date,[l,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const _=i.getHours()*60+i.getMinutes(),y=l*60+c;_>y&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(l,c,0,0),(a-i)/(1e3*60*60)},FN=r=>{const t=new Date(r.valueOf()),i=r.getDay();t.setDate(t.getDate()-i+3);const a=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((a-t)/6048e5)},Vm=(r,t)=>{const i=new Date,a=i.getDay(),[l,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),p=l*60+c;return a>r||a===r&&d>=p},gT=(r=null)=>{let t=cr;return r&&(t=cr.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:pT(a.dayIdx,a.time)})).sort((a,l)=>a.diff-l.diff)[0]},Sp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function GN(){const[r,t]=Ut.useState("login"),[i,a]=Ut.useState(null),[l,c]=Ut.useState([]),[d,p]=Ut.useState([]),[_,y]=Ut.useState({}),[A,S]=Ut.useState({totalClassesTaught:0}),[O,G]=Ut.useState(null),[tt,nt]=Ut.useState(!0),[Z,et]=Ut.useState(null),[at,ct]=Ut.useState(""),ut=(vt,Rt="success")=>{G({msg:vt,type:Rt}),setTimeout(()=>G(null),4e3)},It=nm(ai,"artifacts",oi,"public","data","alumnas"),Ct=nm(ai,"artifacts",oi,"public","data","maestros"),N=nm(ai,"artifacts",oi,"public","data","sesiones"),w=de(ai,"artifacts",oi,"public","data","config","metadata");Ut.useEffect(()=>{ct(Lc[Math.floor(Math.random()*Lc.length)]),(async()=>{try{await DC(sn)}catch(Rt){console.error("Error Auth:",Rt)}LC(sn,Rt=>{if(!Rt)return;const B=kc(It,At=>{const I=At.docs.map(Q=>({id:Q.id,...Q.data()}));c(I),nt(!1)},At=>console.error("Error alumnas:",At)),W=kc(Ct,At=>{const I=At.docs.map(Q=>({id:Q.id,...Q.data()}));p(I)}),rt=kc(N,At=>{const I={};At.docs.forEach(Q=>I[Q.id]=Q.data()),y(I)}),bt=kc(w,At=>{At.exists()?S(At.data()):Zs(w,{totalClassesTaught:0,lastResetWeek:0},{merge:!0})});return()=>{B(),W(),rt(),bt()}})})()},[]),Ut.useEffect(()=>{if(i&&i.role==="student"){const vt=l.find(Rt=>Rt.id===i.id);vt&&a(Rt=>({...Rt,...vt}))}},[l]);const C=(vt,Rt)=>{const B=vt.trim().toUpperCase(),W=Rt.trim();if(et(null),B==="ADMIN-JEN"||B==="JENNY")if(W===HN){a({firstName:"JENNY",role:"admin"}),t("admin"),ut("Acceso Admin concedido");return}else{et("Contrasea de Admin incorrecta.");return}const rt=d.find(At=>At.id.toUpperCase()===B);if(rt)if(rt.password===W){if(rt.status==="inactive"){et("Cuenta de maestra inactiva.");return}a({...rt,firstName:rt.name.split(" ")[0],role:"teacher"}),t("teacher"),ut("Acceso Maestra concedido");return}else{et("Contrasea de maestra incorrecta.");return}const bt=l.find(At=>At.id.toUpperCase()===B);if(bt){if(bt.password&&bt.password!==W){et("Contrasea incorrecta.");return}if(bt.status==="inactive"){et("Cuenta inactiva. Contacta a Jenny.");return}a({...bt,firstName:bt.name.split(" ")[0],role:"student"}),ct(Lc[Math.floor(Math.random()*Lc.length)]),t("student")}else et("ID no encontrado o datos incorrectos.")},V=async vt=>{if(!sn.currentUser)return;const Rt=cr.find(W=>W.id===vt),B=_[vt];if(Vm(Rt.dayIdx,Rt.time)){ut("Esta clase ya ocurri.","error");return}if(B?.isClosed){ut("Clase cerrada.","error");return}if(i.credits<=0){ut("Sin crditos.","error");return}try{const W=de(ai,"artifacts",oi,"public","data","alumnas",i.id),rt=de(ai,"artifacts",oi,"public","data","sesiones",vt);await hn(W,{credits:Oi(-1),history:Yx(vt)}),await Zs(rt,{booked:Oi(1)},{merge:!0}),ut("Clase reservada!")}catch{ut("Error al reservar","error")}},D=async(vt,Rt,B)=>{if(!B.trim()){ut("La contrasea no puede estar vaca","error");return}try{await hn(de(ai,"artifacts",oi,"public","data",vt,Rt),{password:B.trim()}),ut("Contrasea actualizada con xito"),a(W=>({...W,password:B.trim()}))}catch{ut("Error al actualizar contrasea","error")}},U=async vt=>{if(!sn.currentUser)return;const Rt=cr.find(rt=>rt.id===vt);if(Vm(Rt.dayIdx,Rt.time)){ut("No se puede cancelar una clase que ya finaliz.","error");return}const W=pT(Rt.dayIdx,Rt.time)<6;if(!(W&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const rt=de(ai,"artifacts",oi,"public","data","alumnas",i.id),bt=de(ai,"artifacts",oi,"public","data","sesiones",vt);W?await hn(rt,{history:lh(vt)}):await hn(rt,{credits:Oi(1),history:lh(vt)}),await hn(bt,{booked:Oi(-1)}),ut(W?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{ut("Error al cancelar","error")}},x=()=>{a(null),t("login"),et(null)};return tt?T.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):T.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[O&&T.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${O.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[O.type==="error"?T.jsx(cN,{size:18}):T.jsx(lN,{size:18}),T.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:O.msg})]}),r==="login"&&T.jsx(QN,{onLogin:C,error:Z}),r==="student"&&T.jsx(KN,{user:i,quote:at,sessions:cr,sessionsData:_,onBook:V,onCancel:U,onLogout:x,onUpdatePassword:D}),r==="admin"&&T.jsx(YN,{students:l,teachers:d,sessionsData:_,settings:A,db:ai,appId:oi,onLogout:x,showNotification:ut}),r==="teacher"&&T.jsx(XN,{user:i,students:l,sessionsData:_,db:ai,appId:oi,onLogout:x,showNotification:ut,onUpdatePassword:D})]})}const QN=({onLogin:r,error:t})=>{const[i,a]=Ut.useState(""),[l,c]=Ut.useState(""),[d,p]=Ut.useState(!1);return T.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[T.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),T.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:T.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),T.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Portal alumnas"})]}),T.jsxs("form",{onSubmit:_=>{_.preventDefault(),r(i,l)},className:"space-y-6",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),T.jsx("input",{type:"text",required:!0,placeholder:"Ingresa tu ID",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:_=>a(_.target.value)})]}),T.jsxs("div",{className:"space-y-1 relative",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),T.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:l,onChange:_=>c(_.target.value)}),T.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?T.jsx(gN,{size:18}):T.jsx(_N,{size:18})})]}),t&&T.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),T.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"})]})]})})]})},KN=({user:r,quote:t,sessions:i,sessionsData:a,onBook:l,onCancel:c,onLogout:d,onUpdatePassword:p})=>{const _=r.history||[],y=i.filter(Z=>_.includes(Z.id)),A=y.length>0?y[0]:null,S=Sp(),[O,G]=Ut.useState(!1),[tt,nt]=Ut.useState("");return T.jsxs("div",{className:"pb-20",children:[T.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[T.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("button",{onClick:()=>G(!0),className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[T.jsx(ph,{size:16})," ",T.jsx("span",{children:"Mi Clave"})]}),T.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[T.jsx("span",{children:"Salir"}),T.jsx(xN,{size:16})]})]}),O&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Mi Nueva Clave"}),T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold mb-4",placeholder:"Escribe aqu",value:tt,onChange:Z=>nt(Z.target.value)}),T.jsx(Mi,{onClick:()=>{p("alumnas",r.id,tt),G(!1)},className:"w-full !py-4",children:"Actualizar"}),T.jsx("button",{onClick:()=>G(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-300",children:"Cerrar"})]})})]})}),T.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),T.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[T.jsx(EN,{size:16,fill:"#369EAD"})," ",t]})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[T.jsxs(Dn,{className:"md:col-span-2 flex flex-col justify-between",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsx("div",{children:T.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",S]})}),T.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:T.jsx(nN,{size:24})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases de la semana"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),T.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",r.maxCredits]})]})]}),T.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),T.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),T.jsxs(Dn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:T.jsx(Mm,{size:120})}),T.jsx(Mm,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),T.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),A?T.jsxs("div",{className:"animate-in fade-in duration-500",children:[T.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:A.day}),T.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:A.time}),T.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",A.teacher]})]}):T.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),T.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),T.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(Z=>{const et=_.includes(Z.id),at=a[Z.id]||{booked:0,isClosed:!1},ct=(at.booked||0)>=Z.spots,ut=at.isClosed,It=Vm(Z.dayIdx,Z.time),Ct=r.credits>0&&!et&&!ct&&!ut&&!It;return T.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${et?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":ut||It?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex justify-between items-start font-sans",children:[T.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:Z.day}),ut?T.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):It?T.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),T.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:Z.time}),T.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:Z.teacher})]}),T.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[T.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[T.jsx(dT,{size:12})," ",at.booked||0,"/",Z.spots]}),et?It?T.jsx("span",{className:"text-[9px] text-[#369EAD] font-bold uppercase italic opacity-60",children:"Asistencia registrada"}):T.jsx("button",{onClick:()=>c(Z.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):T.jsx(Mi,{onClick:()=>l(Z.id),disabled:!Ct,className:"!px-4 !py-2 !text-[9px]",children:ut?"Cerrado":It?"Pasada":ct?"Lleno":"Reservar"})]})]},Z.id)})})]})]})},YN=({students:r,teachers:t,sessionsData:i,settings:a,db:l,appId:c,onLogout:d,showNotification:p})=>{const[_,y]=Ut.useState(!1),[A,S]=Ut.useState(!1),[O,G]=Ut.useState(null),[tt,nt]=Ut.useState(null),[Z,et]=Ut.useState(""),[at,ct]=Ut.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:""}),[ut,It]=Ut.useState({id:"",name:"",password:"",role:"teacher"}),[Ct,N]=Ut.useState(!1),[w,C]=Ut.useState(null),[V,D]=Ut.useState(0),U=Sp(),x=r.filter(F=>F.status!=="inactive"),vt=de(l,"artifacts",c,"public","data","config","metadata"),Rt=F=>{const gt=F.map(ae=>ae.id).filter(ae=>ae.startsWith("BF-")).map(ae=>parseInt(ae.split("-")[1])).filter(ae=>!isNaN(ae)),Pe=(gt.length>0?Math.max(...gt):0)+1;return`BF-${String(Pe).padStart(3,"0")}`};Ut.useEffect(()=>{if(_){const F=Rt(r);ct(gt=>({...gt,id:F}))}},[_,r]),Ut.useEffect(()=>{const F=async()=>{if(!sn.currentUser)return;const gt=FN(new Date);try{const $t=await Fc(vt);let Pe=0;if($t.exists()&&(Pe=$t.data().lastResetWeek||0),gt!==Pe&&r.length>0){const ae=Xx(l);x.forEach(tn=>{const qi=de(l,"artifacts",c,"public","data","alumnas",tn.id);ae.update(qi,{credits:tn.maxCredits,history:[]})}),cr.forEach(tn=>{const qi=de(l,"artifacts",c,"public","data","sesiones",tn.id);ae.set(qi,{booked:0,isCounted:!1},{merge:!0})}),await Zs(vt,{lastResetWeek:gt},{merge:!0}),await ae.commit(),p("Semana reiniciada!","success")}}catch($t){console.error("Error in auto-reset:",$t)}};r.length>0&&F()},[r.length]);const B=gT(),W=r.filter(F=>F.history?.includes(B.id)&&F.status!=="inactive"),rt=r.reduce((F,gt)=>F+(gt.monthlyPayment||0),0),bt=async(F,gt)=>{sn.currentUser&&(await Zs(de(l,"artifacts",c,"public","data","sesiones",F),{isClosed:!gt},{merge:!0}),p("Estado actualizado"))},At=async(F,gt)=>{if(sn.currentUser&&window.confirm("Confirmar asistencia?"))try{const $t=de(l,"artifacts",c,"public","data","alumnas",F),Pe=de(l,"artifacts",c,"public","data","sesiones",gt),ae=await Fc(Pe);ae.exists()&&ae.data().isCounted||(await hn(vt,{totalClassesTaught:Oi(1)}),await Zs(Pe,{isCounted:!0},{merge:!0})),await hn($t,{totalAttendance:Oi(1),history:lh(gt)}),await hn(Pe,{booked:Oi(-1)}),p("Asistencia confirmada")}catch($t){console.error($t)}},I=async(F,gt,$t)=>{if(!sn.currentUser)return;const Pe=$t==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus?"))try{await hn(de(l,"artifacts",c,"public","data",F,gt),{status:Pe}),p("Estatus actualizado")}catch(ae){console.error(ae)}},Q=async(F,gt)=>{if(sn.currentUser&&Z.trim())try{await hn(de(l,"artifacts",c,"public","data",F,gt),{password:Z.trim()}),p("Contrasea actualizada"),G(null),nt(null),et("")}catch($t){console.error($t)}},st=async F=>{if(!sn.currentUser)return;F.preventDefault();const gt=at.id.trim().toUpperCase();if(!gt||!at.name||!at.password){p("Completa los campos","error");return}N(!0);try{const $t=de(l,"artifacts",c,"public","data","alumnas",gt);if((await Fc($t)).exists()){p("ID ya usado","error"),N(!1);return}const ae=parseInt(at.plan.split(" ")[0])||2;await Zs($t,{id:gt,name:at.name.trim().toUpperCase(),password:at.password,plan:at.plan,maxCredits:ae,credits:ae,history:[],monthlyPayment:0,totalAttendance:0,notes:at.notes.trim(),status:"active",registrationDate:new Date().toISOString()}),p("Registrada"),y(!1),ct({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch($t){console.error($t)}N(!1)},ot=async F=>{if(!sn.currentUser)return;F.preventDefault();const gt=ut.id.trim().toUpperCase();if(!gt||!ut.name||!ut.password){p("Completa los campos","error");return}N(!0);try{await Zs(de(l,"artifacts",c,"public","data","maestros",gt),{...ut,id:gt,name:ut.name.trim().toUpperCase(),status:"active"}),p("Staff registrado"),S(!1),It({id:"",name:"",password:"",role:"teacher"})}catch($t){console.error($t)}N(!1)},Et=async()=>{if(!(!sn.currentUser||!w))try{await hn(de(l,"artifacts",c,"public","data","alumnas",w),{monthlyPayment:parseFloat(V)}),p("Pago registrado"),C(null),D(0)}catch(F){console.error(F)}},Nt=async(F,gt)=>{sn.currentUser&&window.confirm("Reiniciar semana?")&&await hn(de(l,"artifacts",c,"public","data","alumnas",F),{credits:gt,history:[]})},Lt=async(F,gt)=>{if(sn.currentUser&&window.confirm(`Borrar a ${gt}?`))try{await u0(de(l,"artifacts",c,"public","data","alumnas",F)),p("Eliminada")}catch{p("Error","error")}},ye=async(F,gt)=>{if(sn.currentUser&&window.confirm(`Borrar a ${gt}?`))try{await u0(de(l,"artifacts",c,"public","data","maestros",F)),p("Eliminado")}catch{p("Error","error")}};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),T.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:U})]}),T.jsx("button",{onClick:d,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Dn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(hT,{size:20})," Roster: Prxima Clase"]}),T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[B.day," ",B.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:W.length>0?W.map(F=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-serif italic font-bold text-sm",children:F.name}),T.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:F.id})]}),F.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Om,{size:12,className:"mt-1 flex-shrink-0"}),T.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:F.notes})]})]}),T.jsx("button",{onClick:()=>At(F.id,B.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:T.jsx(cT,{size:18})})]},F.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas"})})]}),T.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[T.jsxs(Dn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] group-hover:rotate-6 transition-transform",children:T.jsx(R0,{size:28})}),T.jsxs("div",{children:[T.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",U]}),T.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",rt.toLocaleString()]})]})]}),T.jsxs(Dn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[T.jsx(RN,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),T.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),T.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 px-4",children:"Cada alumna nueva es un paso ms"})]}),T.jsxs(Dn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm group-hover:scale-110 transition-transform",children:T.jsx(fT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),T.jsxs("p",{className:"text-3xl font-bold",children:[a?.totalClassesTaught||0," clases dadas"]})]})]}),T.jsxs(Dn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 md:col-span-2",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:T.jsx(dT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),T.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[x.length," Alumnas pagando"]})]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[T.jsxs(Dn,{className:"bg-white border-[#C5A059]",children:[T.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(bN,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),T.jsx("div",{className:"space-y-3 font-sans text-[11px]",children:V0.map((F,gt)=>T.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-2",children:[T.jsx("span",{className:"text-gray-400 uppercase font-bold",children:F.plan}),T.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",F.price]})]},gt))})]}),T.jsxs(Dn,{className:"bg-white border-[#369EAD]",children:[T.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),T.jsx("div",{className:"space-y-4 font-sans text-xs",children:cr.map(F=>{const gt=i[F.id]?.isClosed||!1;return T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"font-bold opacity-60 uppercase",children:F.day}),T.jsx("button",{onClick:()=>bt(F.id,gt),children:gt?T.jsx(ON,{size:30,className:"text-red-300"}):T.jsx(kN,{size:30,className:"text-[#369EAD]"})})]},F.id)})})]})]}),T.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[T.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[T.jsx(IN,{size:20,className:"text-[#369EAD]"})," Control Maestras"]}),T.jsx(Mi,{onClick:()=>S(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-4",children:"Nombre"}),T.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),T.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(F=>T.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${F.status==="inactive"?"opacity-40":""}`,children:[T.jsx("td",{className:"px-6 py-4",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${F.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold font-serif italic",children:F.name}),T.jsxs("div",{className:"text-[9px] uppercase text-gray-400",children:[F.id,"  ",F.role]})]})]})}),T.jsx("td",{className:"px-6 py-4 text-center font-bold text-[#C5A059]",children:F.password}),T.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>nt(F.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:T.jsx(ph,{size:16})}),T.jsx("button",{onClick:()=>I("maestros",F.id,F.status),className:`p-2 rounded-full ${F.status==="inactive"?"text-green-500":"text-red-400"}`,children:F.status==="inactive"?T.jsx(D0,{size:16}):T.jsx(M0,{size:16})}),T.jsx("button",{onClick:()=>ye(F.id,F.name),className:"p-2 text-red-100 hover:text-red-500",children:T.jsx(I0,{size:16})})]})]},F.id))})]})})]}),T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[T.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control Alumnas"}),T.jsx(Mi,{onClick:()=>y(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-5",children:"Nombre"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Clave"})," ",T.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Asistencias"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Pago"}),T.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(F=>{const gt=F.status==="inactive";return T.jsxs("tr",{className:`hover:bg-gray-50 transition-all text-sm ${gt?"opacity-40 grayscale-[0.5]":""}`,children:[T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[10px] font-black text-[#369EAD] bg-[#EBF5F6] px-2 py-0.5 rounded-sm w-fit mb-1",children:F.id}),T.jsx("div",{className:"font-bold font-serif italic",children:F.name}),F.notes&&T.jsxs("div",{className:"text-[10px] text-red-400 italic flex items-center gap-1",children:[T.jsx(Om,{size:10})," ",F.notes]})]})}),T.jsx("td",{className:"px-6 py-5 text-center font-mono text-xs font-bold text-[#369EAD]",children:F.password}),T.jsxs("td",{className:"px-6 py-5 text-center font-bold",children:[T.jsx("span",{className:F.credits===0?"text-red-400":"text-[#369EAD]",children:F.credits})," / ",F.maxCredits]}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold",children:F.totalAttendance||0})}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsxs("button",{onClick:()=>{C(F.id),D(F.monthlyPayment||0)},className:`font-bold px-3 py-1 rounded text-xs transition-colors ${F.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",F.monthlyPayment||0]})}),T.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>G(F.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:T.jsx(ph,{size:16})}),T.jsx("button",{onClick:()=>I("alumnas",F.id,F.status),className:`p-2 rounded-full ${gt?"text-green-500":"text-gray-300"}`,children:gt?T.jsx(D0,{size:16}):T.jsx(M0,{size:16})}),T.jsx("button",{onClick:()=>Nt(F.id,F.maxCredits),className:"p-2 text-[#C5A059]",children:T.jsx(dN,{size:16})}),T.jsx("button",{onClick:()=>Lt(F.id,F.name),className:"p-2 text-red-100 hover:text-red-500",children:T.jsx(I0,{size:16})})]})]},F.id)})})]})})]})]})]})]}),O&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Alumna"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:O}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:Z,onChange:F=>et(F.target.value)}),T.jsx(Mi,{onClick:()=>Q("alumnas",O),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{G(null),et("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),tt&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Staff"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:tt}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:Z,onChange:F=>et(F.target.value)}),T.jsx(Mi,{onClick:()=>Q("maestros",tt),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{nt(null),et("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),_&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[T.jsx("button",{onClick:()=>y(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(O0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),T.jsxs("form",{onSubmit:st,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-bold text-[#369EAD]",value:at.id,onChange:F=>ct({...at,id:F.target.value}),placeholder:"ID"}),T.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"w-full p-4 bg-gray-50 border-b outline-none text-sm font-bold",value:at.password,onChange:F=>ct({...at,password:F.target.value})})]}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-serif italic font-bold",value:at.name,onChange:F=>ct({...at,name:F.target.value})}),T.jsx("select",{className:"w-full p-4 bg-gray-50 border-b outline-none text-sm",value:at.plan,onChange:F=>ct({...at,plan:F.target.value}),children:V0.slice(0,4).map((F,gt)=>T.jsx("option",{value:F.plan,children:F.plan},gt))}),T.jsx("textarea",{placeholder:"NOTAS MDICAS",className:"w-full p-4 bg-gray-50 border-b outline-none text-xs h-24 italic",value:at.notes,onChange:F=>ct({...at,notes:F.target.value})}),T.jsx(Mi,{disabled:Ct,className:"w-full !py-4 font-bold",children:Ct?T.jsx(N0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),A&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[T.jsx("button",{onClick:()=>S(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(O0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nuevo Staff"}),T.jsxs("form",{onSubmit:ot,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",required:!0,placeholder:"ID",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b",value:ut.id,onChange:F=>It({...ut,id:F.target.value})}),T.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b",value:ut.password,onChange:F=>It({...ut,password:F.target.value})})]}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b",value:ut.name,onChange:F=>It({...ut,name:F.target.value})}),T.jsxs("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b",value:ut.role,onChange:F=>It({...ut,role:F.target.value}),children:[T.jsx("option",{value:"teacher",children:"Maestra"}),T.jsx("option",{value:"admin",children:"Admin Secundario"})]}),T.jsx(Mi,{disabled:Ct,className:"w-full !py-4 font-bold",children:Ct?T.jsx(N0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),w&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059]",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),T.jsxs("div",{className:"space-y-4 text-center",children:[T.jsxs("div",{className:"relative",children:[T.jsx(R0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),T.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50 border-b outline-none text-xl font-bold",value:V,onChange:F=>D(F.target.value)})]}),T.jsx(Mi,{onClick:Et,className:"w-full !py-4 font-bold",children:"Confirmar"}),T.jsx("button",{onClick:()=>C(null),className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})})]})},XN=({user:r,students:t,sessionsData:i,db:a,appId:l,onLogout:c,showNotification:d,onUpdatePassword:p})=>{Sp();const _=cr.filter(et=>et.teacher.toUpperCase()===r.firstName.toUpperCase()),y=gT(r.firstName),A=t.filter(et=>et.history?.includes(y?.id)&&et.status!=="inactive"),S=de(a,"artifacts",l,"public","data","config","metadata"),[O,G]=Ut.useState(!1),[tt,nt]=Ut.useState(""),Z=async(et,at)=>{if(sn.currentUser&&window.confirm("Confirmar asistencia?"))try{const ct=de(a,"artifacts",l,"public","data","alumnas",et),ut=de(a,"artifacts",l,"public","data","sesiones",at),It=await Fc(ut);It.exists()&&It.data().isCounted||(await hn(S,{totalClassesTaught:Oi(1)}),await Zs(ut,{isCounted:!0},{merge:!0})),await hn(ct,{totalAttendance:Oi(1),history:lh(at)}),await hn(ut,{booked:Oi(-1)}),d("Asistencia marcada")}catch(ct){console.error(ct)}};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Portal Maestras"}),T.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] px-2 py-0.5 rounded font-black uppercase",children:r.firstName})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("button",{onClick:()=>G(!0),className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest flex items-center gap-2",children:[T.jsx(ph,{size:14})," Clave"]}),T.jsx("button",{onClick:c,className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),O&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Cambiar mi clave"}),T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b outline-none text-center font-bold mb-6 text-[#1A3A3E]",value:tt,onChange:et=>nt(et.target.value)}),T.jsx(Mi,{onClick:()=>{p("maestros",r.id,tt),G(!1),nt("")},className:"w-full",children:"Actualizar"}),T.jsx("button",{onClick:()=>G(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-400",children:"Cerrar"})]})})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),T.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Tu pasin no solo mueve pesas, mueve vidas enteras. Sigue inspirando!"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[T.jsxs(Dn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:T.jsx(sN,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1",children:"Disciplina"}),T.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),T.jsxs(Dn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:T.jsx(fT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1",children:"Impacto"}),T.jsx("p",{className:"text-3xl font-bold text-[#369EAD]",children:"Enseando"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Dn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(hT,{size:20})," Asistencia"]}),y&&T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-bold uppercase",children:[y.day," ",y.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:A.length>0?A.map(et=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"font-serif italic font-bold text-sm",children:et.name}),et.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Om,{size:12}),T.jsx("p",{className:"text-[10px] italic",children:et.notes})]})]}),T.jsx("button",{onClick:()=>Z(et.id,y.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:T.jsx(cT,{size:18})})]},et.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay inscritas"})})]}),T.jsx("div",{className:"lg:col-span-2 space-y-8",children:T.jsxs(Dn,{className:"bg-white",children:[T.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(Mm,{size:20,className:"text-[#369EAD]"})," Horario"]}),T.jsx("div",{className:"grid grid-cols-1 gap-4",children:_.map(et=>T.jsxs("div",{className:"p-10 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[T.jsx("span",{className:"text-xs font-black uppercase text-gray-400",children:et.day}),T.jsx("p",{className:"text-5xl font-bold text-[#1A3A3E] my-2",children:et.time}),T.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase",children:et.type})]},et.id))})]})})]})]})]})};nA.createRoot(document.getElementById("root")).render(T.jsx(Ut.StrictMode,{children:T.jsx(GN,{})}));
