(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))o(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const m of h.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&o(m)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function o(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var qd={exports:{}},xl={};var Q_;function Yb(){if(Q_)return xl;Q_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(o,u,h){var m=null;if(h!==void 0&&(m=""+h),u.key!==void 0&&(m=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:a,type:o,key:m,ref:u!==void 0?u:null,props:h}}return xl.Fragment=t,xl.jsx=i,xl.jsxs=i,xl}var K_;function Xb(){return K_||(K_=1,qd.exports=Yb()),qd.exports}var T=Xb(),Hd={exports:{}},Nt={};var Y_;function $b(){if(Y_)return Nt;Y_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.iterator;function G(M){return M===null||typeof M!="object"?null:(M=V&&M[V]||M["@@iterator"],typeof M=="function"?M:null)}var et={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,J={};function nt(M,Y,rt){this.props=M,this.context=Y,this.refs=J,this.updater=rt||et}nt.prototype.isReactComponent={},nt.prototype.setState=function(M,Y){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,Y,"setState")},nt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function gt(){}gt.prototype=nt.prototype;function ht(M,Y,rt){this.props=M,this.context=Y,this.refs=J,this.updater=rt||et}var mt=ht.prototype=new gt;mt.constructor=ht,it(mt,nt.prototype),mt.isPureReactComponent=!0;var Vt=Array.isArray;function dt(){}var I={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(M,Y,rt){var ot=rt.ref;return{$$typeof:a,type:M,key:Y,ref:ot!==void 0?ot:null,props:rt}}function k(M,Y){return R(M.type,Y,M.props)}function D(M){return typeof M=="object"&&M!==null&&M.$$typeof===a}function j(M){var Y={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(rt){return Y[rt]})}var C=/\/+/g;function At(M,Y){return typeof M=="object"&&M!==null&&M.key!=null?j(""+M.key):Y.toString(36)}function xt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(dt,dt):(M.status="pending",M.then(function(Y){M.status==="pending"&&(M.status="fulfilled",M.value=Y)},function(Y){M.status==="pending"&&(M.status="rejected",M.reason=Y)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,Y,rt,ot,Tt){var Rt=typeof M;(Rt==="undefined"||Rt==="boolean")&&(M=null);var Lt=!1;if(M===null)Lt=!0;else switch(Rt){case"bigint":case"string":case"number":Lt=!0;break;case"object":switch(M.$$typeof){case a:case t:Lt=!0;break;case S:return Lt=M._init,H(Lt(M._payload),Y,rt,ot,Tt)}}if(Lt)return Tt=Tt(M),Lt=ot===""?"."+At(M,0):ot,Vt(Tt)?(rt="",Lt!=null&&(rt=Lt.replace(C,"$&/")+"/"),H(Tt,Y,rt,"",function(Hi){return Hi})):Tt!=null&&(D(Tt)&&(Tt=k(Tt,rt+(Tt.key==null||M&&M.key===Tt.key?"":(""+Tt.key).replace(C,"$&/")+"/")+Lt)),Y.push(Tt)),1;Lt=0;var Te=ot===""?".":ot+":";if(Vt(M))for(var oe=0;oe<M.length;oe++)ot=M[oe],Rt=Te+At(ot,oe),Lt+=H(ot,Y,rt,Rt,Tt);else if(oe=G(M),typeof oe=="function")for(M=oe.call(M),oe=0;!(ot=M.next()).done;)ot=ot.value,Rt=Te+At(ot,oe++),Lt+=H(ot,Y,rt,Rt,Tt);else if(Rt==="object"){if(typeof M.then=="function")return H(xt(M),Y,rt,ot,Tt);throw Y=String(M),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Lt}function tt(M,Y,rt){if(M==null)return M;var ot=[],Tt=0;return H(M,ot,"","",function(Rt){return Y.call(rt,Rt,Tt++)}),ot}function at(M){if(M._status===-1){var Y=M._result;Y=Y(),Y.then(function(rt){(M._status===0||M._status===-1)&&(M._status=1,M._result=rt)},function(rt){(M._status===0||M._status===-1)&&(M._status=2,M._result=rt)}),M._status===-1&&(M._status=0,M._result=Y)}if(M._status===1)return M._result.default;throw M._result}var wt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Et={map:tt,forEach:function(M,Y,rt){tt(M,function(){Y.apply(this,arguments)},rt)},count:function(M){var Y=0;return tt(M,function(){Y++}),Y},toArray:function(M){return tt(M,function(Y){return Y})||[]},only:function(M){if(!D(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Nt.Activity=x,Nt.Children=Et,Nt.Component=nt,Nt.Fragment=i,Nt.Profiler=u,Nt.PureComponent=ht,Nt.StrictMode=o,Nt.Suspense=v,Nt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Nt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Nt.cache=function(M){return function(){return M.apply(null,arguments)}},Nt.cacheSignal=function(){return null},Nt.cloneElement=function(M,Y,rt){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var ot=it({},M.props),Tt=M.key;if(Y!=null)for(Rt in Y.key!==void 0&&(Tt=""+Y.key),Y)!w.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(ot[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)ot.children=rt;else if(1<Rt){for(var Lt=Array(Rt),Te=0;Te<Rt;Te++)Lt[Te]=arguments[Te+2];ot.children=Lt}return R(M.type,Tt,ot)},Nt.createContext=function(M){return M={$$typeof:m,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:h,_context:M},M},Nt.createElement=function(M,Y,rt){var ot,Tt={},Rt=null;if(Y!=null)for(ot in Y.key!==void 0&&(Rt=""+Y.key),Y)w.call(Y,ot)&&ot!=="key"&&ot!=="__self"&&ot!=="__source"&&(Tt[ot]=Y[ot]);var Lt=arguments.length-2;if(Lt===1)Tt.children=rt;else if(1<Lt){for(var Te=Array(Lt),oe=0;oe<Lt;oe++)Te[oe]=arguments[oe+2];Tt.children=Te}if(M&&M.defaultProps)for(ot in Lt=M.defaultProps,Lt)Tt[ot]===void 0&&(Tt[ot]=Lt[ot]);return R(M,Rt,Tt)},Nt.createRef=function(){return{current:null}},Nt.forwardRef=function(M){return{$$typeof:g,render:M}},Nt.isValidElement=D,Nt.lazy=function(M){return{$$typeof:S,_payload:{_status:-1,_result:M},_init:at}},Nt.memo=function(M,Y){return{$$typeof:_,type:M,compare:Y===void 0?null:Y}},Nt.startTransition=function(M){var Y=I.T,rt={};I.T=rt;try{var ot=M(),Tt=I.S;Tt!==null&&Tt(rt,ot),typeof ot=="object"&&ot!==null&&typeof ot.then=="function"&&ot.then(dt,wt)}catch(Rt){wt(Rt)}finally{Y!==null&&rt.types!==null&&(Y.types=rt.types),I.T=Y}},Nt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Nt.use=function(M){return I.H.use(M)},Nt.useActionState=function(M,Y,rt){return I.H.useActionState(M,Y,rt)},Nt.useCallback=function(M,Y){return I.H.useCallback(M,Y)},Nt.useContext=function(M){return I.H.useContext(M)},Nt.useDebugValue=function(){},Nt.useDeferredValue=function(M,Y){return I.H.useDeferredValue(M,Y)},Nt.useEffect=function(M,Y){return I.H.useEffect(M,Y)},Nt.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Nt.useId=function(){return I.H.useId()},Nt.useImperativeHandle=function(M,Y,rt){return I.H.useImperativeHandle(M,Y,rt)},Nt.useInsertionEffect=function(M,Y){return I.H.useInsertionEffect(M,Y)},Nt.useLayoutEffect=function(M,Y){return I.H.useLayoutEffect(M,Y)},Nt.useMemo=function(M,Y){return I.H.useMemo(M,Y)},Nt.useOptimistic=function(M,Y){return I.H.useOptimistic(M,Y)},Nt.useReducer=function(M,Y,rt){return I.H.useReducer(M,Y,rt)},Nt.useRef=function(M){return I.H.useRef(M)},Nt.useState=function(M){return I.H.useState(M)},Nt.useSyncExternalStore=function(M,Y,rt){return I.H.useSyncExternalStore(M,Y,rt)},Nt.useTransition=function(){return I.H.useTransition()},Nt.version="19.2.3",Nt}var X_;function Um(){return X_||(X_=1,Hd.exports=$b()),Hd.exports}var kt=Um(),Fd={exports:{}},Cl={},Gd={exports:{}},Qd={};var $_;function Zb(){return $_||($_=1,(function(a){function t(H,tt){var at=H.length;H.push(tt);t:for(;0<at;){var wt=at-1>>>1,Et=H[wt];if(0<u(Et,tt))H[wt]=tt,H[at]=Et,at=wt;else break t}}function i(H){return H.length===0?null:H[0]}function o(H){if(H.length===0)return null;var tt=H[0],at=H.pop();if(at!==tt){H[0]=at;t:for(var wt=0,Et=H.length,M=Et>>>1;wt<M;){var Y=2*(wt+1)-1,rt=H[Y],ot=Y+1,Tt=H[ot];if(0>u(rt,at))ot<Et&&0>u(Tt,rt)?(H[wt]=Tt,H[ot]=at,wt=ot):(H[wt]=rt,H[Y]=at,wt=Y);else if(ot<Et&&0>u(Tt,at))H[wt]=Tt,H[ot]=at,wt=ot;else break t}}return tt}function u(H,tt){var at=H.sortIndex-tt.sortIndex;return at!==0?at:H.id-tt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var m=Date,g=m.now();a.unstable_now=function(){return m.now()-g}}var v=[],_=[],S=1,x=null,V=3,G=!1,et=!1,it=!1,J=!1,nt=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function mt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)o(_);else if(tt.startTime<=H)o(_),tt.sortIndex=tt.expirationTime,t(v,tt);else break;tt=i(_)}}function Vt(H){if(it=!1,mt(H),!et)if(i(v)!==null)et=!0,dt||(dt=!0,j());else{var tt=i(_);tt!==null&&xt(Vt,tt.startTime-H)}}var dt=!1,I=-1,w=5,R=-1;function k(){return J?!0:!(a.unstable_now()-R<w)}function D(){if(J=!1,dt){var H=a.unstable_now();R=H;var tt=!0;try{t:{et=!1,it&&(it=!1,gt(I),I=-1),G=!0;var at=V;try{e:{for(mt(H),x=i(v);x!==null&&!(x.expirationTime>H&&k());){var wt=x.callback;if(typeof wt=="function"){x.callback=null,V=x.priorityLevel;var Et=wt(x.expirationTime<=H);if(H=a.unstable_now(),typeof Et=="function"){x.callback=Et,mt(H),tt=!0;break e}x===i(v)&&o(v),mt(H)}else o(v);x=i(v)}if(x!==null)tt=!0;else{var M=i(_);M!==null&&xt(Vt,M.startTime-H),tt=!1}}break t}finally{x=null,V=at,G=!1}tt=void 0}}finally{tt?j():dt=!1}}}var j;if(typeof ht=="function")j=function(){ht(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,At=C.port2;C.port1.onmessage=D,j=function(){At.postMessage(null)}}else j=function(){nt(D,0)};function xt(H,tt){I=nt(function(){H(a.unstable_now())},tt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(H){switch(V){case 1:case 2:case 3:var tt=3;break;default:tt=V}var at=V;V=tt;try{return H()}finally{V=at}},a.unstable_requestPaint=function(){J=!0},a.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var at=V;V=H;try{return tt()}finally{V=at}},a.unstable_scheduleCallback=function(H,tt,at){var wt=a.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?wt+at:wt):at=wt,H){case 1:var Et=-1;break;case 2:Et=250;break;case 5:Et=1073741823;break;case 4:Et=1e4;break;default:Et=5e3}return Et=at+Et,H={id:S++,callback:tt,priorityLevel:H,startTime:at,expirationTime:Et,sortIndex:-1},at>wt?(H.sortIndex=at,t(_,H),i(v)===null&&H===i(_)&&(it?(gt(I),I=-1):it=!0,xt(Vt,at-wt))):(H.sortIndex=Et,t(v,H),et||G||(et=!0,dt||(dt=!0,j()))),H},a.unstable_shouldYield=k,a.unstable_wrapCallback=function(H){var tt=V;return function(){var at=V;V=tt;try{return H.apply(this,arguments)}finally{V=at}}}})(Qd)),Qd}var Z_;function Jb(){return Z_||(Z_=1,Gd.exports=Zb()),Gd.exports}var Kd={exports:{}},nn={};var J_;function Wb(){if(J_)return nn;J_=1;var a=Um();function t(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)_+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var o={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,S){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:x==null?null:""+x,children:v,containerInfo:_,implementation:S}}var m=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,nn.createPortal=function(v,_){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return h(v,_,null,S)},nn.flushSync=function(v){var _=m.T,S=o.p;try{if(m.T=null,o.p=2,v)return v()}finally{m.T=_,o.p=S,o.d.f()}},nn.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,o.d.C(v,_))},nn.prefetchDNS=function(v){typeof v=="string"&&o.d.D(v)},nn.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;S==="style"?o.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:V,fetchPriority:G}):S==="script"&&o.d.X(v,{crossOrigin:x,integrity:V,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var S=g(_.as,_.crossOrigin);o.d.M(v,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&o.d.M(v)},nn.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var S=_.as,x=g(S,_.crossOrigin);o.d.L(v,S,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(v,_){if(typeof v=="string")if(_){var S=g(_.as,_.crossOrigin);o.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else o.d.m(v)},nn.requestFormReset=function(v){o.d.r(v)},nn.unstable_batchedUpdates=function(v,_){return v(_)},nn.useFormState=function(v,_,S){return m.H.useFormState(v,_,S)},nn.useFormStatus=function(){return m.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var W_;function tA(){if(W_)return Kd.exports;W_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Kd.exports=Wb(),Kd.exports}var tv;function eA(){if(tv)return Cl;tv=1;var a=Jb(),t=Um(),i=tA();function o(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function m(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function v(e){if(h(e)!==e)throw Error(o(188))}function _(e){var n=e.alternate;if(!n){if(n=h(e),n===null)throw Error(o(188));return n!==e?null:e}for(var r=e,l=n;;){var f=r.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){r=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===r)return v(f),e;if(d===l)return v(f),n;d=d.sibling}throw Error(o(188))}if(r.return!==l.return)r=f,l=d;else{for(var y=!1,b=f.child;b;){if(b===r){y=!0,r=f,l=d;break}if(b===l){y=!0,l=f,r=d;break}b=b.sibling}if(!y){for(b=d.child;b;){if(b===r){y=!0,r=d,l=f;break}if(b===l){y=!0,l=d,r=f;break}b=b.sibling}if(!y)throw Error(o(189))}}if(r.alternate!==l)throw Error(o(190))}if(r.tag!==3)throw Error(o(188));return r.stateNode.current===r?e:n}function S(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=S(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,V=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),et=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),nt=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),mt=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),dt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function At(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case nt:return"Profiler";case J:return"StrictMode";case Vt:return"Suspense";case dt:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case et:return"Portal";case ht:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case mt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:At(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return At(e(n))}catch{}}return null}var xt=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},wt=[],Et=-1;function M(e){return{current:e}}function Y(e){0>Et||(e.current=wt[Et],wt[Et]=null,Et--)}function rt(e,n){Et++,wt[Et]=e.current,e.current=n}var ot=M(null),Tt=M(null),Rt=M(null),Lt=M(null);function Te(e,n){switch(rt(Rt,n),rt(Tt,e),rt(ot,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?p_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=p_(n),e=g_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ot),rt(ot,e)}function oe(){Y(ot),Y(Tt),Y(Rt)}function Hi(e){e.memoizedState!==null&&rt(Lt,e);var n=ot.current,r=g_(n,e.type);n!==r&&(rt(Tt,e),rt(ot,r))}function _s(e){Tt.current===e&&(Y(ot),Y(Tt)),Lt.current===e&&(Y(Lt),bl._currentValue=at)}var vs,Es;function Q(e){if(vs===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);vs=n&&n[1]||"",Es=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+vs+e+Es}var _t=!1;function Qt(e,n){if(!e||_t)return"";_t=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var B=F}Reflect.construct(e,[],$)}else{try{$.call()}catch(F){B=F}e.call($.prototype)}}else{try{throw Error()}catch(F){B=F}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),y=d[0],b=d[1];if(y&&b){var N=y.split(`
`),z=b.split(`
`);for(f=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;f<z.length&&!z[f].includes("DetermineComponentFrameRoot");)f++;if(l===N.length||f===z.length)for(l=N.length-1,f=z.length-1;1<=l&&0<=f&&N[l]!==z[f];)f--;for(;1<=l&&0<=f;l--,f--)if(N[l]!==z[f]){if(l!==1||f!==1)do if(l--,f--,0>f||N[l]!==z[f]){var K=`
`+N[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=f);break}}}finally{_t=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?Q(r):""}function Qe(e,n){switch(e.tag){case 26:case 27:case 5:return Q(e.type);case 16:return Q("Lazy");case 13:return e.child!==n&&n!==null?Q("Suspense Fallback"):Q("Suspense");case 19:return Q("SuspenseList");case 0:case 15:return Qt(e.type,!1);case 11:return Qt(e.type.render,!1);case 1:return Qt(e.type,!0);case 31:return Q("Activity");default:return""}}function ue(e){try{var n="",r=null;do n+=Qe(e,r),r=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var le=Object.prototype.hasOwnProperty,ye=a.unstable_scheduleCallback,Ts=a.unstable_cancelCallback,Hh=a.unstable_shouldYield,nu=a.unstable_requestPaint,cn=a.unstable_now,wr=a.unstable_getCurrentPriorityLevel,wo=a.unstable_ImmediatePriority,xo=a.unstable_UserBlockingPriority,bs=a.unstable_NormalPriority,Fh=a.unstable_LowPriority,iu=a.unstable_IdlePriority,su=a.log,ru=a.unstable_setDisableYieldValue,Xn=null,Ke=null;function Vn(e){if(typeof su=="function"&&ru(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Xn,e)}catch{}}var be=Math.clz32?Math.clz32:ou,au=Math.log,ua=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(au(e)/ua|0)|0}var hi=256,xr=262144,Re=4194304;function fi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function di(e,n,r){var l=e.pendingLanes;if(l===0)return 0;var f=0,d=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var b=l&134217727;return b!==0?(l=b&~d,l!==0?f=fi(l):(y&=b,y!==0?f=fi(y):r||(r=b&~e,r!==0&&(f=fi(r))))):(b=l&~d,b!==0?f=fi(b):y!==0?f=fi(y):r||(r=l&~e,r!==0&&(f=fi(r)))),f===0?0:n!==0&&n!==f&&(n&d)===0&&(d=f&-f,r=n&-n,d>=r||d===32&&(r&4194048)!==0)?n:f}function $n(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Gh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function lu(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function mi(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function Cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Qh(e,n,r,l,f,d){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var b=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(r=y&~r;0<r;){var K=31-be(r),$=1<<K;b[K]=0,N[K]=-1;var B=z[K];if(B!==null)for(z[K]=null,K=0;K<B.length;K++){var F=B[K];F!==null&&(F.lane&=-536870913)}r&=~$}l!==0&&Rr(e,l,0),d!==0&&f===0&&e.tag!==0&&(e.suspendedLanes|=d&~(y&~n))}function Rr(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-be(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|r&261930}function Co(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var l=31-be(r),f=1<<l;f&n|e[l]&n&&(e[l]|=n),r&=~f}}function Ro(e,n){var r=n&-n;return r=(r&42)!==0?1:Nr(r),(r&(e.suspendedLanes|n))!==0?0:r}function Nr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Fi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function uu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function Zn(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Jn=Math.random().toString(36).slice(2),Ne="__reactFiber$"+Jn,Be="__reactProps$"+Jn,pi="__reactContainer$"+Jn,ca="__reactEvents$"+Jn,Kh="__reactListeners$"+Jn,cu="__reactHandles$"+Jn,hu="__reactResources$"+Jn,gi="__reactMarker$"+Jn;function ha(e){delete e[Ne],delete e[Be],delete e[ca],delete e[Kh],delete e[cu]}function yi(e){var n=e[Ne];if(n)return n;for(var r=e.parentNode;r;){if(n=r[pi]||r[Ne]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=A_(e);e!==null;){if(r=e[Ne])return r;e=A_(e)}return n}e=r,r=e.parentNode}return null}function kn(e){if(e=e[Ne]||e[pi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(o(33))}function _i(e){var n=e[hu];return n||(n=e[hu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[gi]=!0}var No=new Set,Io={};function vi(e,n){Ei(e,n),Ei(e+"Capture",n)}function Ei(e,n){for(Io[e]=n,e=0;e<n.length;e++)No.add(n[e])}var Do=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Mo={},Oo={};function fu(e){return le.call(Oo,e)?!0:le.call(Mo,e)?!1:Do.test(e)?Oo[e]=!0:(Mo[e]=!0,!1)}function fa(e,n,r){if(fu(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function Sn(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function De(e,n,r,l){if(l===null)e.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+l)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function As(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Vo(e,n,r){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,d=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return f.call(this)},set:function(y){r=""+y,d.call(this,y)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return r},setValue:function(y){r=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=As(e)?"checked":"value";e._valueTracker=Vo(e,n,""+e[n])}}function Ir(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return e&&(l=As(e)?e.checked?"true":"false":e.value),e=l,e!==r?(n.setValue(e),!0):!1}function Ti(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Dr=/[\n"\\]/g;function dn(e){return e.replace(Dr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function da(e,n,r,l,f,d,y,b){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?ko(e,y,qe(n)):r!=null?ko(e,y,qe(r)):l!=null&&e.removeAttribute("value"),f==null&&d!=null&&(e.defaultChecked=!!d),f!=null&&(e.checked=f&&typeof f!="function"&&typeof f!="symbol"),b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?e.name=""+qe(b):e.removeAttribute("name")}function du(e,n,r,l,f,d,y,b){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.type=d),n!=null||r!=null){if(!(d!=="submit"&&d!=="reset"||n!=null)){Jt(e);return}r=r!=null?""+qe(r):"",n=n!=null?""+qe(n):r,b||n===e.value||(e.value=n),e.defaultValue=n}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=b?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Jt(e)}function ko(e,n,r){n==="number"&&Ti(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function Ss(e,n,r,l){if(e=e.options,n){n={};for(var f=0;f<r.length;f++)n["$"+r[f]]=!0;for(r=0;r<e.length;r++)f=n.hasOwnProperty("$"+e[r].value),e[r].selected!==f&&(e[r].selected=f),f&&l&&(e[r].defaultSelected=!0)}else{for(r=""+qe(r),n=null,f=0;f<e.length;f++){if(e[f].value===r){e[f].selected=!0,l&&(e[f].defaultSelected=!0);return}n!==null||e[f].disabled||(n=e[f])}n!==null&&(n.selected=!0)}}function mu(e,n,r){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+qe(r):""}function ws(e,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(o(92));if(xt(l)){if(1<l.length)throw Error(o(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=qe(n),e.defaultValue=r,l=e.textContent,l===r&&l!==""&&l!==null&&(e.value=l),Jt(e)}function mn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var pu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Uo(e,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,r):typeof r!="number"||r===0||pu.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function jo(e,n,r){if(n!=null&&typeof n!="object")throw Error(o(62));if(e=e.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var f in n)l=n[f],n.hasOwnProperty(f)&&r[f]!==l&&Uo(e,f,l)}else for(var d in n)n.hasOwnProperty(d)&&Uo(e,d,n[d])}function ma(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var gu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pa(e){return xs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Wn(){}var Lo=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Cs=null,bi=null;function Mr(e){var n=kn(e);if(n&&(e=n.stateNode)){var r=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(da(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+dn(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==e&&l.form===e.form){var f=l[Be]||null;if(!f)throw Error(o(90));da(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===e.form&&Ir(l)}break t;case"textarea":mu(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&Ss(e,!!r.multiple,n,!1)}}}var ga=!1;function Rs(e,n,r){if(ga)return e(n,r);ga=!0;try{var l=e(n);return l}finally{if(ga=!1,(Cs!==null||bi!==null)&&(uc(),Cs&&(n=Cs,e=bi,bi=Cs=null,Mr(n),e)))for(n=0;n<e.length;n++)Mr(e[n])}}function ti(e,n){var r=e.stateNode;if(r===null)return null;var l=r[Be]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(o(231,n,typeof r));return r}var jn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Or=!1;if(jn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){Or=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{Or=!1}var Ai=null,Po=null,Vr=null;function zo(){if(Vr)return Vr;var e,n=Po,r=n.length,l,f="value"in Ai?Ai.value:Ai.textContent,d=f.length;for(e=0;e<r&&n[e]===f[e];e++);var y=r-e;for(l=1;l<=y&&n[r-l]===f[d-l];l++);return Vr=f.slice(e,1<l?1-l:void 0)}function kr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Gi(){return!0}function ei(){return!1}function Ye(e){function n(r,l,f,d,y){this._reactName=r,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=y,this.currentTarget=null;for(var b in e)e.hasOwnProperty(b)&&(r=e[b],this[b]=r?r(d):d[b]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?Gi:ei,this.isPropagationStopped=ei,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),n}var Qi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Si=Ye(Qi),Ns=x({},Qi,{view:0,detail:0}),Bo=Ye(Ns),Is,ya,wi,_a=x({},Ns,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ds,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==wi&&(wi&&e.type==="mousemove"?(Is=e.screenX-wi.screenX,ya=e.screenY-wi.screenY):ya=Is=0,wi=e),Is)},movementY:function(e){return"movementY"in e?e.movementY:ya}}),qo=Ye(_a),Ur=x({},_a,{dataTransfer:0}),yu=Ye(Ur),_u=x({},Ns,{relatedTarget:0}),jr=Ye(_u),Ho=x({},Qi,{animationName:0,elapsedTime:0,pseudoElement:0}),vu=Ye(Ho),va=x({},Qi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Eu=Ye(va),Tu=x({},Qi,{data:0}),xi=Ye(Tu),bu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Su={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Su[e])?!!n[e]:!1}function Ds(){return wu}var hn=x({},Ns,{key:function(e){if(e.key){var n=bu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=kr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ds,charCode:function(e){return e.type==="keypress"?kr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?kr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),xu=Ye(hn),Cu=x({},_a,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ki=Ye(Cu),c=x({},Ns,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ds}),p=Ye(c),E=x({},Qi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Ye(E),L=x({},_a,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Ye(L),st=x({},Qi,{newState:0,oldState:0}),Dt=Ye(st),Ae=[9,13,27,32],Xt=jn&&"CompositionEvent"in window,me=null;jn&&"documentMode"in document&&(me=document.documentMode);var Ln=jn&&"TextEvent"in window&&!me,Ci=jn&&(!Xt||me&&8<me&&11>=me),ni=" ",ii=!1;function Lr(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ea(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ta=!1;function _T(e,n){switch(e){case"compositionend":return Ea(n);case"keypress":return n.which!==32?null:(ii=!0,ni);case"textInput":return e=n.data,e===ni&&ii?null:e;default:return null}}function vT(e,n){if(Ta)return e==="compositionend"||!Xt&&Lr(e,n)?(e=zo(),Vr=Po=Ai=null,Ta=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ci&&n.locale!=="ko"?null:n.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ET[e.type]:n==="textarea"}function Cp(e,n,r,l){Cs?bi?bi.push(l):bi=[l]:Cs=l,n=gc(n,"onChange"),0<n.length&&(r=new Si("onChange","change",null,r,l),e.push({event:r,listeners:n}))}var Fo=null,Go=null;function TT(e){u_(e,0)}function Ru(e){var n=An(e);if(Ir(n))return e}function Rp(e,n){if(e==="change")return n}var Np=!1;if(jn){var Yh;if(jn){var Xh="oninput"in document;if(!Xh){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Xh=typeof Ip.oninput=="function"}Yh=Xh}else Yh=!1;Np=Yh&&(!document.documentMode||9<document.documentMode)}function Dp(){Fo&&(Fo.detachEvent("onpropertychange",Mp),Go=Fo=null)}function Mp(e){if(e.propertyName==="value"&&Ru(Go)){var n=[];Cp(n,Go,e,Un(e)),Rs(TT,n)}}function bT(e,n,r){e==="focusin"?(Dp(),Fo=n,Go=r,Fo.attachEvent("onpropertychange",Mp)):e==="focusout"&&Dp()}function AT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ru(Go)}function ST(e,n){if(e==="click")return Ru(n)}function wT(e,n){if(e==="input"||e==="change")return Ru(n)}function xT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:xT;function Qo(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var f=r[l];if(!le.call(n,f)||!wn(e[f],n[f]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vp(e,n){var r=Op(e);e=0;for(var l;r;){if(r.nodeType===3){if(l=e+r.textContent.length,e<=n&&l>=n)return{node:r,offset:n-e};e=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=Op(r)}}function kp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Up(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ti(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ti(e.document)}return n}function $h(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var CT=jn&&"documentMode"in document&&11>=document.documentMode,ba=null,Zh=null,Ko=null,Jh=!1;function jp(e,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Jh||ba==null||ba!==Ti(l)||(l=ba,"selectionStart"in l&&$h(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ko&&Qo(Ko,l)||(Ko=l,l=gc(Zh,"onSelect"),0<l.length&&(n=new Si("onSelect","select",null,n,r),e.push({event:n,listeners:l}),n.target=ba)))}function Pr(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Aa={animationend:Pr("Animation","AnimationEnd"),animationiteration:Pr("Animation","AnimationIteration"),animationstart:Pr("Animation","AnimationStart"),transitionrun:Pr("Transition","TransitionRun"),transitionstart:Pr("Transition","TransitionStart"),transitioncancel:Pr("Transition","TransitionCancel"),transitionend:Pr("Transition","TransitionEnd")},Wh={},Lp={};jn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Aa.animationend.animation,delete Aa.animationiteration.animation,delete Aa.animationstart.animation),"TransitionEvent"in window||delete Aa.transitionend.transition);function zr(e){if(Wh[e])return Wh[e];if(!Aa[e])return e;var n=Aa[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in Lp)return Wh[e]=n[r];return e}var Pp=zr("animationend"),zp=zr("animationiteration"),Bp=zr("animationstart"),RT=zr("transitionrun"),NT=zr("transitionstart"),IT=zr("transitioncancel"),qp=zr("transitionend"),Hp=new Map,tf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");tf.push("scrollEnd");function si(e,n){Hp.set(e,n),vi(n,[e])}var Nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Pn=[],Sa=0,ef=0;function Iu(){for(var e=Sa,n=ef=Sa=0;n<e;){var r=Pn[n];Pn[n++]=null;var l=Pn[n];Pn[n++]=null;var f=Pn[n];Pn[n++]=null;var d=Pn[n];if(Pn[n++]=null,l!==null&&f!==null){var y=l.pending;y===null?f.next=f:(f.next=y.next,y.next=f),l.pending=f}d!==0&&Fp(r,f,d)}}function Du(e,n,r,l){Pn[Sa++]=e,Pn[Sa++]=n,Pn[Sa++]=r,Pn[Sa++]=l,ef|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function nf(e,n,r,l){return Du(e,n,r,l),Mu(e)}function Br(e,n){return Du(e,null,null,n),Mu(e)}function Fp(e,n,r){e.lanes|=r;var l=e.alternate;l!==null&&(l.lanes|=r);for(var f=!1,d=e.return;d!==null;)d.childLanes|=r,l=d.alternate,l!==null&&(l.childLanes|=r),d.tag===22&&(e=d.stateNode,e===null||e._visibility&1||(f=!0)),e=d,d=d.return;return e.tag===3?(d=e.stateNode,f&&n!==null&&(f=31-be(r),e=d.hiddenUpdates,l=e[f],l===null?e[f]=[n]:l.push(n),n.lane=r|536870912),d):null}function Mu(e){if(50<pl)throw pl=0,fd=null,Error(o(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var wa={};function DT(e,n,r,l){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,r,l){return new DT(e,n,r,l)}function sf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Yi(e,n){var r=e.alternate;return r===null?(r=xn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&65011712,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function Gp(e,n){e.flags&=65011714;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ou(e,n,r,l,f,d){var y=0;if(l=e,typeof e=="function")sf(e)&&(y=1);else if(typeof e=="string")y=Ub(e,r,ot.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=xn(31,r,n,f),e.elementType=R,e.lanes=d,e;case it:return qr(r.children,f,d,n);case J:y=8,f|=24;break;case nt:return e=xn(12,r,n,f|2),e.elementType=nt,e.lanes=d,e;case Vt:return e=xn(13,r,n,f),e.elementType=Vt,e.lanes=d,e;case dt:return e=xn(19,r,n,f),e.elementType=dt,e.lanes=d,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:y=10;break t;case gt:y=9;break t;case mt:y=11;break t;case I:y=14;break t;case w:y=16,l=null;break t}y=29,r=Error(o(130,e===null?"null":typeof e,"")),l=null}return n=xn(y,r,n,f),n.elementType=e,n.type=l,n.lanes=d,n}function qr(e,n,r,l){return e=xn(7,e,l,n),e.lanes=r,e}function rf(e,n,r){return e=xn(6,e,null,n),e.lanes=r,e}function Qp(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function af(e,n,r){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kp=new WeakMap;function zn(e,n){if(typeof e=="object"&&e!==null){var r=Kp.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ue(n)},Kp.set(e,n),n)}return{value:e,source:n,stack:ue(n)}}var xa=[],Ca=0,Vu=null,Yo=0,Bn=[],qn=0,Ms=null,Ri=1,Ni="";function Xi(e,n){xa[Ca++]=Yo,xa[Ca++]=Vu,Vu=e,Yo=n}function Yp(e,n,r){Bn[qn++]=Ri,Bn[qn++]=Ni,Bn[qn++]=Ms,Ms=e;var l=Ri;e=Ni;var f=32-be(l)-1;l&=~(1<<f),r+=1;var d=32-be(n)+f;if(30<d){var y=f-f%5;d=(l&(1<<y)-1).toString(32),l>>=y,f-=y,Ri=1<<32-be(n)+f|r<<f|l,Ni=d+e}else Ri=1<<d|r<<f|l,Ni=e}function of(e){e.return!==null&&(Xi(e,1),Yp(e,1,0))}function lf(e){for(;e===Vu;)Vu=xa[--Ca],xa[Ca]=null,Yo=xa[--Ca],xa[Ca]=null;for(;e===Ms;)Ms=Bn[--qn],Bn[qn]=null,Ni=Bn[--qn],Bn[qn]=null,Ri=Bn[--qn],Bn[qn]=null}function Xp(e,n){Bn[qn++]=Ri,Bn[qn++]=Ni,Bn[qn++]=Ms,Ri=n.id,Ni=n.overflow,Ms=e}var Xe=null,ce=null,Ft=!1,Os=null,Hn=!1,uf=Error(o(519));function Vs(e){var n=Error(o(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Xo(zn(n,e)),uf}function $p(e){var n=e.stateNode,r=e.type,l=e.memoizedProps;switch(n[Ne]=e,n[Be]=l,r){case"dialog":jt("cancel",n),jt("close",n);break;case"iframe":case"object":case"embed":jt("load",n);break;case"video":case"audio":for(r=0;r<yl.length;r++)jt(yl[r],n);break;case"source":jt("error",n);break;case"img":case"image":case"link":jt("error",n),jt("load",n);break;case"details":jt("toggle",n);break;case"input":jt("invalid",n),du(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":jt("invalid",n);break;case"textarea":jt("invalid",n),ws(n,l.value,l.defaultValue,l.children)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||d_(n.textContent,r)?(l.popover!=null&&(jt("beforetoggle",n),jt("toggle",n)),l.onScroll!=null&&jt("scroll",n),l.onScrollEnd!=null&&jt("scrollend",n),l.onClick!=null&&(n.onclick=Wn),n=!0):n=!1,n||Vs(e,!0)}function Zp(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Xe=Xe.return}}function Ra(e){if(e!==Xe)return!1;if(!Ft)return Zp(e),Ft=!0,!1;var n=e.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||Cd(e.type,e.memoizedProps)),r=!r),r&&ce&&Vs(e),Zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ce=b_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(317));ce=b_(e)}else n===27?(n=ce,Ys(e.type)?(e=Md,Md=null,ce=e):ce=n):ce=Xe?Gn(e.stateNode.nextSibling):null;return!0}function Hr(){ce=Xe=null,Ft=!1}function cf(){var e=Os;return e!==null&&(_n===null?_n=e:_n.push.apply(_n,e),Os=null),e}function Xo(e){Os===null?Os=[e]:Os.push(e)}var hf=M(null),Fr=null,$i=null;function ks(e,n,r){rt(hf,n._currentValue),n._currentValue=r}function Zi(e){e._currentValue=hf.current,Y(hf)}function ff(e,n,r){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===r)break;e=e.return}}function df(e,n,r,l){var f=e.child;for(f!==null&&(f.return=e);f!==null;){var d=f.dependencies;if(d!==null){var y=f.child;d=d.firstContext;t:for(;d!==null;){var b=d;d=f;for(var N=0;N<n.length;N++)if(b.context===n[N]){d.lanes|=r,b=d.alternate,b!==null&&(b.lanes|=r),ff(d.return,r,e),l||(y=null);break t}d=b.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(o(341));y.lanes|=r,d=y.alternate,d!==null&&(d.lanes|=r),ff(y,r,e),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===e){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Na(e,n,r,l){e=null;for(var f=n,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(o(387));if(y=y.memoizedProps,y!==null){var b=f.type;wn(f.pendingProps.value,y.value)||(e!==null?e.push(b):e=[b])}}else if(f===Lt.current){if(y=f.alternate,y===null)throw Error(o(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(e!==null?e.push(bl):e=[bl])}f=f.return}e!==null&&df(n,e,r,l),n.flags|=262144}function ku(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Gr(e){Fr=e,$i=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Jp(Fr,e)}function Uu(e,n){return Fr===null&&Gr(e),Jp(e,n)}function Jp(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},$i===null){if(e===null)throw Error(o(308));$i=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else $i=$i.next=n;return r}var MT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},OT=a.unstable_scheduleCallback,VT=a.unstable_NormalPriority,Me={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function mf(){return{controller:new MT,data:new Map,refCount:0}}function $o(e){e.refCount--,e.refCount===0&&OT(VT,function(){e.controller.abort()})}var Zo=null,pf=0,Ia=0,Da=null;function kT(e,n){if(Zo===null){var r=Zo=[];pf=0,Ia=_d(),Da={status:"pending",value:void 0,then:function(l){r.push(l)}}}return pf++,n.then(Wp,Wp),n}function Wp(){if(--pf===0&&Zo!==null){Da!==null&&(Da.status="fulfilled");var e=Zo;Zo=null,Ia=0,Da=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function UT(e,n){var r=[],l={status:"pending",value:null,reason:null,then:function(f){r.push(f)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var f=0;f<r.length;f++)(0,r[f])(n)},function(f){for(l.status="rejected",l.reason=f,f=0;f<r.length;f++)(0,r[f])(void 0)}),l}var tg=H.S;H.S=function(e,n){jy=cn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kT(e,n),tg!==null&&tg(e,n)};var Qr=M(null);function gf(){var e=Qr.current;return e!==null?e:re.pooledCache}function ju(e,n){n===null?rt(Qr,Qr.current):rt(Qr,n.pool)}function eg(){var e=gf();return e===null?null:{parent:Me._currentValue,pool:e}}var Ma=Error(o(460)),yf=Error(o(474)),Lu=Error(o(542)),Pu={then:function(){}};function ng(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ig(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Wn,Wn),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e;default:if(typeof n.status=="string")n.then(Wn,Wn);else{if(e=re,e!==null&&100<e.shellSuspendCounter)throw Error(o(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var f=n;f.status="fulfilled",f.value=l}},function(l){if(n.status==="pending"){var f=n;f.status="rejected",f.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e}throw Yr=n,Ma}}function Kr(e){try{var n=e._init;return n(e._payload)}catch(r){throw r!==null&&typeof r=="object"&&typeof r.then=="function"?(Yr=r,Ma):r}}var Yr=null;function sg(){if(Yr===null)throw Error(o(459));var e=Yr;return Yr=null,e}function rg(e){if(e===Ma||e===Lu)throw Error(o(483))}var Oa=null,Jo=0;function zu(e){var n=Jo;return Jo+=1,Oa===null&&(Oa=[]),ig(Oa,e,n)}function Wo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Bu(e,n){throw n.$$typeof===V?Error(o(525)):(e=Object.prototype.toString.call(n),Error(o(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ag(e){function n(U,O){if(e){var P=U.deletions;P===null?(U.deletions=[O],U.flags|=16):P.push(O)}}function r(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function f(U,O){return U=Yi(U,O),U.index=0,U.sibling=null,U}function d(U,O,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<O?(U.flags|=67108866,O):P):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function y(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function b(U,O,P,X){return O===null||O.tag!==6?(O=rf(P,U.mode,X),O.return=U,O):(O=f(O,P),O.return=U,O)}function N(U,O,P,X){var pt=P.type;return pt===it?K(U,O,P.props.children,X,P.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Kr(pt)===O.type)?(O=f(O,P.props),Wo(O,P),O.return=U,O):(O=Ou(P.type,P.key,P.props,null,U.mode,X),Wo(O,P),O.return=U,O)}function z(U,O,P,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=af(P,U.mode,X),O.return=U,O):(O=f(O,P.children||[]),O.return=U,O)}function K(U,O,P,X,pt){return O===null||O.tag!==7?(O=qr(P,U.mode,X,pt),O.return=U,O):(O=f(O,P),O.return=U,O)}function $(U,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=rf(""+O,U.mode,P),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return P=Ou(O.type,O.key,O.props,null,U.mode,P),Wo(P,O),P.return=U,P;case et:return O=af(O,U.mode,P),O.return=U,O;case w:return O=Kr(O),$(U,O,P)}if(xt(O)||j(O))return O=qr(O,U.mode,P,null),O.return=U,O;if(typeof O.then=="function")return $(U,zu(O),P);if(O.$$typeof===ht)return $(U,Uu(U,O),P);Bu(U,O)}return null}function B(U,O,P,X){var pt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return pt!==null?null:b(U,O,""+P,X);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case G:return P.key===pt?N(U,O,P,X):null;case et:return P.key===pt?z(U,O,P,X):null;case w:return P=Kr(P),B(U,O,P,X)}if(xt(P)||j(P))return pt!==null?null:K(U,O,P,X,null);if(typeof P.then=="function")return B(U,O,zu(P),X);if(P.$$typeof===ht)return B(U,O,Uu(U,P),X);Bu(U,P)}return null}function F(U,O,P,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return U=U.get(P)||null,b(O,U,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return U=U.get(X.key===null?P:X.key)||null,N(O,U,X,pt);case et:return U=U.get(X.key===null?P:X.key)||null,z(O,U,X,pt);case w:return X=Kr(X),F(U,O,P,X,pt)}if(xt(X)||j(X))return U=U.get(P)||null,K(O,U,X,pt,null);if(typeof X.then=="function")return F(U,O,P,zu(X),pt);if(X.$$typeof===ht)return F(U,O,P,Uu(O,X),pt);Bu(O,X)}return null}function ut(U,O,P,X){for(var pt=null,Kt=null,ft=O,Ot=O=0,zt=null;ft!==null&&Ot<P.length;Ot++){ft.index>Ot?(zt=ft,ft=null):zt=ft.sibling;var Yt=B(U,ft,P[Ot],X);if(Yt===null){ft===null&&(ft=zt);break}e&&ft&&Yt.alternate===null&&n(U,ft),O=d(Yt,O,Ot),Kt===null?pt=Yt:Kt.sibling=Yt,Kt=Yt,ft=zt}if(Ot===P.length)return r(U,ft),Ft&&Xi(U,Ot),pt;if(ft===null){for(;Ot<P.length;Ot++)ft=$(U,P[Ot],X),ft!==null&&(O=d(ft,O,Ot),Kt===null?pt=ft:Kt.sibling=ft,Kt=ft);return Ft&&Xi(U,Ot),pt}for(ft=l(ft);Ot<P.length;Ot++)zt=F(ft,U,Ot,P[Ot],X),zt!==null&&(e&&zt.alternate!==null&&ft.delete(zt.key===null?Ot:zt.key),O=d(zt,O,Ot),Kt===null?pt=zt:Kt.sibling=zt,Kt=zt);return e&&ft.forEach(function(Ws){return n(U,Ws)}),Ft&&Xi(U,Ot),pt}function vt(U,O,P,X){if(P==null)throw Error(o(151));for(var pt=null,Kt=null,ft=O,Ot=O=0,zt=null,Yt=P.next();ft!==null&&!Yt.done;Ot++,Yt=P.next()){ft.index>Ot?(zt=ft,ft=null):zt=ft.sibling;var Ws=B(U,ft,Yt.value,X);if(Ws===null){ft===null&&(ft=zt);break}e&&ft&&Ws.alternate===null&&n(U,ft),O=d(Ws,O,Ot),Kt===null?pt=Ws:Kt.sibling=Ws,Kt=Ws,ft=zt}if(Yt.done)return r(U,ft),Ft&&Xi(U,Ot),pt;if(ft===null){for(;!Yt.done;Ot++,Yt=P.next())Yt=$(U,Yt.value,X),Yt!==null&&(O=d(Yt,O,Ot),Kt===null?pt=Yt:Kt.sibling=Yt,Kt=Yt);return Ft&&Xi(U,Ot),pt}for(ft=l(ft);!Yt.done;Ot++,Yt=P.next())Yt=F(ft,U,Ot,Yt.value,X),Yt!==null&&(e&&Yt.alternate!==null&&ft.delete(Yt.key===null?Ot:Yt.key),O=d(Yt,O,Ot),Kt===null?pt=Yt:Kt.sibling=Yt,Kt=Yt);return e&&ft.forEach(function(Kb){return n(U,Kb)}),Ft&&Xi(U,Ot),pt}function se(U,O,P,X){if(typeof P=="object"&&P!==null&&P.type===it&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case G:t:{for(var pt=P.key;O!==null;){if(O.key===pt){if(pt=P.type,pt===it){if(O.tag===7){r(U,O.sibling),X=f(O,P.props.children),X.return=U,U=X;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===w&&Kr(pt)===O.type){r(U,O.sibling),X=f(O,P.props),Wo(X,P),X.return=U,U=X;break t}r(U,O);break}else n(U,O);O=O.sibling}P.type===it?(X=qr(P.props.children,U.mode,X,P.key),X.return=U,U=X):(X=Ou(P.type,P.key,P.props,null,U.mode,X),Wo(X,P),X.return=U,U=X)}return y(U);case et:t:{for(pt=P.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){r(U,O.sibling),X=f(O,P.children||[]),X.return=U,U=X;break t}else{r(U,O);break}else n(U,O);O=O.sibling}X=af(P,U.mode,X),X.return=U,U=X}return y(U);case w:return P=Kr(P),se(U,O,P,X)}if(xt(P))return ut(U,O,P,X);if(j(P)){if(pt=j(P),typeof pt!="function")throw Error(o(150));return P=pt.call(P),vt(U,O,P,X)}if(typeof P.then=="function")return se(U,O,zu(P),X);if(P.$$typeof===ht)return se(U,O,Uu(U,P),X);Bu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(r(U,O.sibling),X=f(O,P),X.return=U,U=X):(r(U,O),X=rf(P,U.mode,X),X.return=U,U=X),y(U)):r(U,O)}return function(U,O,P,X){try{Jo=0;var pt=se(U,O,P,X);return Oa=null,pt}catch(ft){if(ft===Ma||ft===Lu)throw ft;var Kt=xn(29,ft,null,U.mode);return Kt.lanes=X,Kt.return=U,Kt}}}var Xr=ag(!0),og=ag(!1),Us=!1;function _f(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function vf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function js(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(e,n,r){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var f=l.pending;return f===null?n.next=n:(n.next=f.next,f.next=n),l.pending=n,n=Mu(e),Fp(e,null,r),n}return Du(e,l,n,r),Mu(e)}function tl(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Co(e,r)}}function Ef(e,n){var r=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var f=null,d=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};d===null?f=d=y:d=d.next=y,r=r.next}while(r!==null);d===null?f=d=n:d=d.next=n}else f=d=n;r={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Tf=!1;function el(){if(Tf){var e=Da;if(e!==null)throw e}}function nl(e,n,r,l){Tf=!1;var f=e.updateQueue;Us=!1;var d=f.firstBaseUpdate,y=f.lastBaseUpdate,b=f.shared.pending;if(b!==null){f.shared.pending=null;var N=b,z=N.next;N.next=null,y===null?d=z:y.next=z,y=N;var K=e.alternate;K!==null&&(K=K.updateQueue,b=K.lastBaseUpdate,b!==y&&(b===null?K.firstBaseUpdate=z:b.next=z,K.lastBaseUpdate=N))}if(d!==null){var $=f.baseState;y=0,K=z=N=null,b=d;do{var B=b.lane&-536870913,F=B!==b.lane;if(F?(Pt&B)===B:(l&B)===B){B!==0&&B===Ia&&(Tf=!0),K!==null&&(K=K.next={lane:0,tag:b.tag,payload:b.payload,callback:null,next:null});t:{var ut=e,vt=b;B=n;var se=r;switch(vt.tag){case 1:if(ut=vt.payload,typeof ut=="function"){$=ut.call(se,$,B);break t}$=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=vt.payload,B=typeof ut=="function"?ut.call(se,$,B):ut,B==null)break t;$=x({},$,B);break t;case 2:Us=!0}}B=b.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=f.callbacks,F===null?f.callbacks=[B]:F.push(B))}else F={lane:B,tag:b.tag,payload:b.payload,callback:b.callback,next:null},K===null?(z=K=F,N=$):K=K.next=F,y|=B;if(b=b.next,b===null){if(b=f.shared.pending,b===null)break;F=b,b=F.next,F.next=null,f.lastBaseUpdate=F,f.shared.pending=null}}while(!0);K===null&&(N=$),f.baseState=N,f.firstBaseUpdate=z,f.lastBaseUpdate=K,d===null&&(f.shared.lanes=0),Hs|=y,e.lanes=y,e.memoizedState=$}}function lg(e,n){if(typeof e!="function")throw Error(o(191,e));e.call(n)}function ug(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)lg(r[e],n)}var Va=M(null),qu=M(0);function cg(e,n){e=as,rt(qu,e),rt(Va,n),as=e|n.baseLanes}function bf(){rt(qu,as),rt(Va,Va.current)}function Af(){as=qu.current,Y(Va),Y(qu)}var Cn=M(null),Fn=null;function Ps(e){var n=e.alternate;rt(Se,Se.current&1),rt(Cn,e),Fn===null&&(n===null||Va.current!==null||n.memoizedState!==null)&&(Fn=e)}function Sf(e){rt(Se,Se.current),rt(Cn,e),Fn===null&&(Fn=e)}function hg(e){e.tag===22?(rt(Se,Se.current),rt(Cn,e),Fn===null&&(Fn=e)):zs()}function zs(){rt(Se,Se.current),rt(Cn,Cn.current)}function Rn(e){Y(Cn),Fn===e&&(Fn=null),Y(Se)}var Se=M(0);function Hu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||Id(r)||Dd(r)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Ji=0,Mt=null,ne=null,Oe=null,Fu=!1,ka=!1,$r=!1,Gu=0,il=0,Ua=null,jT=0;function ve(){throw Error(o(321))}function wf(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!wn(e[r],n[r]))return!1;return!0}function xf(e,n,r,l,f,d){return Ji=d,Mt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=e===null||e.memoizedState===null?Yg:Bf,$r=!1,d=r(l,f),$r=!1,ka&&(d=dg(n,r,l,f)),fg(e),d}function fg(e){H.H=al;var n=ne!==null&&ne.next!==null;if(Ji=0,Oe=ne=Mt=null,Fu=!1,il=0,Ua=null,n)throw Error(o(300));e===null||Ve||(e=e.dependencies,e!==null&&ku(e)&&(Ve=!0))}function dg(e,n,r,l){Mt=e;var f=0;do{if(ka&&(Ua=null),il=0,ka=!1,25<=f)throw Error(o(301));if(f+=1,Oe=ne=null,e.updateQueue!=null){var d=e.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}H.H=Xg,d=n(r,l)}while(ka);return d}function LT(){var e=H.H,n=e.useState()[0];return n=typeof n.then=="function"?sl(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(Mt.flags|=1024),n}function Cf(){var e=Gu!==0;return Gu=0,e}function Rf(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function Nf(e){if(Fu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Fu=!1}Ji=0,Oe=ne=Mt=null,ka=!1,il=Gu=0,Ua=null}function fn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?Mt.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function we(){if(ne===null){var e=Mt.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Oe===null?Mt.memoizedState:Oe.next;if(n!==null)Oe=n,ne=e;else{if(e===null)throw Mt.alternate===null?Error(o(467)):Error(o(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Oe===null?Mt.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function sl(e){var n=il;return il+=1,Ua===null&&(Ua=[]),e=ig(Ua,e,n),n=Mt,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Yg:Bf),e}function Ku(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return sl(e);if(e.$$typeof===ht)return $e(e)}throw Error(o(438,String(e)))}function If(e){var n=null,r=Mt.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=Mt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(f){return f.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=Qu(),Mt.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),l=0;l<e;l++)r[l]=k;return n.index++,r}function Wi(e,n){return typeof n=="function"?n(e):n}function Yu(e){var n=we();return Df(n,ne,e)}function Df(e,n,r){var l=e.queue;if(l===null)throw Error(o(311));l.lastRenderedReducer=r;var f=e.baseQueue,d=l.pending;if(d!==null){if(f!==null){var y=f.next;f.next=d.next,d.next=y}n.baseQueue=f=d,l.pending=null}if(d=e.baseState,f===null)e.memoizedState=d;else{n=f.next;var b=y=null,N=null,z=n,K=!1;do{var $=z.lane&-536870913;if($!==z.lane?(Pt&$)===$:(Ji&$)===$){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),$===Ia&&(K=!0);else if((Ji&B)===B){z=z.next,B===Ia&&(K=!0);continue}else $={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=$,y=d):N=N.next=$,Mt.lanes|=B,Hs|=B;$=z.action,$r&&r(d,$),d=z.hasEagerState?z.eagerState:r(d,$)}else B={lane:$,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(b=N=B,y=d):N=N.next=B,Mt.lanes|=$,Hs|=$;z=z.next}while(z!==null&&z!==n);if(N===null?y=d:N.next=b,!wn(d,e.memoizedState)&&(Ve=!0,K&&(r=Da,r!==null)))throw r;e.memoizedState=d,e.baseState=y,e.baseQueue=N,l.lastRenderedState=d}return f===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Mf(e){var n=we(),r=n.queue;if(r===null)throw Error(o(311));r.lastRenderedReducer=e;var l=r.dispatch,f=r.pending,d=n.memoizedState;if(f!==null){r.pending=null;var y=f=f.next;do d=e(d,y.action),y=y.next;while(y!==f);wn(d,n.memoizedState)||(Ve=!0),n.memoizedState=d,n.baseQueue===null&&(n.baseState=d),r.lastRenderedState=d}return[d,l]}function mg(e,n,r){var l=Mt,f=we(),d=Ft;if(d){if(r===void 0)throw Error(o(407));r=r()}else r=n();var y=!wn((ne||f).memoizedState,r);if(y&&(f.memoizedState=r,Ve=!0),f=f.queue,kf(yg.bind(null,l,f,e),[e]),f.getSnapshot!==n||y||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,ja(9,{destroy:void 0},gg.bind(null,l,f,r,n),null),re===null)throw Error(o(349));d||(Ji&127)!==0||pg(l,n,r)}return r}function pg(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=Mt.updateQueue,n===null?(n=Qu(),Mt.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function gg(e,n,r,l){n.value=r,n.getSnapshot=l,_g(n)&&vg(e)}function yg(e,n,r){return r(function(){_g(n)&&vg(e)})}function _g(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!wn(e,r)}catch{return!0}}function vg(e){var n=Br(e,2);n!==null&&vn(n,e,2)}function Of(e){var n=fn();if(typeof e=="function"){var r=e;if(e=r(),$r){Vn(!0);try{r()}finally{Vn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:e},n}function Eg(e,n,r,l){return e.baseState=r,Df(e,ne,typeof l=="function"?l:Wi)}function PT(e,n,r,l,f){if(Zu(e))throw Error(o(485));if(e=n.action,e!==null){var d={payload:f,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){d.listeners.push(y)}};H.T!==null?r(!0):d.isTransition=!1,l(d),r=n.pending,r===null?(d.next=n.pending=d,Tg(n,d)):(d.next=r.next,n.pending=r.next=d)}}function Tg(e,n){var r=n.action,l=n.payload,f=e.state;if(n.isTransition){var d=H.T,y={};H.T=y;try{var b=r(f,l),N=H.S;N!==null&&N(y,b),bg(e,n,b)}catch(z){Vf(e,n,z)}finally{d!==null&&y.types!==null&&(d.types=y.types),H.T=d}}else try{d=r(f,l),bg(e,n,d)}catch(z){Vf(e,n,z)}}function bg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Ag(e,n,l)},function(l){return Vf(e,n,l)}):Ag(e,n,r)}function Ag(e,n,r){n.status="fulfilled",n.value=r,Sg(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,Tg(e,r)))}function Vf(e,n,r){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Sg(n),n=n.next;while(n!==l)}e.action=null}function Sg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function wg(e,n){return n}function xg(e,n){if(Ft){var r=re.formState;if(r!==null){t:{var l=Mt;if(Ft){if(ce){e:{for(var f=ce,d=Hn;f.nodeType!==8;){if(!d){f=null;break e}if(f=Gn(f.nextSibling),f===null){f=null;break e}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ce=Gn(f.nextSibling),l=f.data==="F!";break t}}Vs(l)}l=!1}l&&(n=r[0])}}return r=fn(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:wg,lastRenderedState:n},r.queue=l,r=Gg.bind(null,Mt,l),l.dispatch=r,l=Of(!1),d=zf.bind(null,Mt,!1,l.queue),l=fn(),f={state:n,dispatch:null,action:e,pending:null},l.queue=f,r=PT.bind(null,Mt,f,d,r),f.dispatch=r,l.memoizedState=e,[n,r,!1]}function Cg(e){var n=we();return Rg(n,ne,e)}function Rg(e,n,r){if(n=Df(e,n,wg)[0],e=Yu(Wi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=sl(n)}catch(y){throw y===Ma?Lu:y}else l=n;n=we();var f=n.queue,d=f.dispatch;return r!==n.memoizedState&&(Mt.flags|=2048,ja(9,{destroy:void 0},zT.bind(null,f,r),null)),[l,d,e]}function zT(e,n){e.action=n}function Ng(e){var n=we(),r=ne;if(r!==null)return Rg(n,r,e);we(),n=n.memoizedState,r=we();var l=r.queue.dispatch;return r.memoizedState=e,[n,l,!1]}function ja(e,n,r,l){return e={tag:e,create:r,deps:l,inst:n,next:null},n=Mt.updateQueue,n===null&&(n=Qu(),Mt.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(l=r.next,r.next=e,e.next=l,n.lastEffect=e),e}function Ig(){return we().memoizedState}function Xu(e,n,r,l){var f=fn();Mt.flags|=e,f.memoizedState=ja(1|n,{destroy:void 0},r,l===void 0?null:l)}function $u(e,n,r,l){var f=we();l=l===void 0?null:l;var d=f.memoizedState.inst;ne!==null&&l!==null&&wf(l,ne.memoizedState.deps)?f.memoizedState=ja(n,d,r,l):(Mt.flags|=e,f.memoizedState=ja(1|n,d,r,l))}function Dg(e,n){Xu(8390656,8,e,n)}function kf(e,n){$u(2048,8,e,n)}function BT(e){Mt.flags|=4;var n=Mt.updateQueue;if(n===null)n=Qu(),Mt.updateQueue=n,n.events=[e];else{var r=n.events;r===null?n.events=[e]:r.push(e)}}function Mg(e){var n=we().memoizedState;return BT({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(o(440));return n.impl.apply(void 0,arguments)}}function Og(e,n){return $u(4,2,e,n)}function Vg(e,n){return $u(4,4,e,n)}function kg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ug(e,n,r){r=r!=null?r.concat([e]):null,$u(4,4,kg.bind(null,n,e),r)}function Uf(){}function jg(e,n){var r=we();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&wf(n,l[1])?l[0]:(r.memoizedState=[e,n],e)}function Lg(e,n){var r=we();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&wf(n,l[1]))return l[0];if(l=e(),$r){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[l,n],l}function jf(e,n,r){return r===void 0||(Ji&1073741824)!==0&&(Pt&261930)===0?e.memoizedState=n:(e.memoizedState=r,e=Py(),Mt.lanes|=e,Hs|=e,r)}function Pg(e,n,r,l){return wn(r,n)?r:Va.current!==null?(e=jf(e,r,l),wn(e,n)||(Ve=!0),e):(Ji&42)===0||(Ji&1073741824)!==0&&(Pt&261930)===0?(Ve=!0,e.memoizedState=r):(e=Py(),Mt.lanes|=e,Hs|=e,n)}function zg(e,n,r,l,f){var d=tt.p;tt.p=d!==0&&8>d?d:8;var y=H.T,b={};H.T=b,zf(e,!1,n,r);try{var N=f(),z=H.S;if(z!==null&&z(b,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var K=UT(N,l);rl(e,n,K,Dn(e))}else rl(e,n,l,Dn(e))}catch($){rl(e,n,{then:function(){},status:"rejected",reason:$},Dn())}finally{tt.p=d,y!==null&&b.types!==null&&(y.types=b.types),H.T=y}}function qT(){}function Lf(e,n,r,l){if(e.tag!==5)throw Error(o(476));var f=Bg(e).queue;zg(e,f,n,at,r===null?qT:function(){return qg(e),r(l)})}function Bg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:at},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wi,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function qg(e){var n=Bg(e);n.next===null&&(n=e.alternate.memoizedState),rl(e,n.next.queue,{},Dn())}function Pf(){return $e(bl)}function Hg(){return we().memoizedState}function Fg(){return we().memoizedState}function HT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=Dn();e=js(r);var l=Ls(n,e,r);l!==null&&(vn(l,n,r),tl(l,n,r)),n={cache:mf()},e.payload=n;return}n=n.return}}function FT(e,n,r){var l=Dn();r={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},Zu(e)?Qg(n,r):(r=nf(e,n,r,l),r!==null&&(vn(r,e,l),Kg(r,n,l)))}function Gg(e,n,r){var l=Dn();rl(e,n,r,l)}function rl(e,n,r,l){var f={lane:l,revertLane:0,gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null};if(Zu(e))Qg(n,f);else{var d=e.alternate;if(e.lanes===0&&(d===null||d.lanes===0)&&(d=n.lastRenderedReducer,d!==null))try{var y=n.lastRenderedState,b=d(y,r);if(f.hasEagerState=!0,f.eagerState=b,wn(b,y))return Du(e,n,f,0),re===null&&Iu(),!1}catch{}if(r=nf(e,n,f,l),r!==null)return vn(r,e,l),Kg(r,n,l),!0}return!1}function zf(e,n,r,l){if(l={lane:2,revertLane:_d(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Zu(e)){if(n)throw Error(o(479))}else n=nf(e,r,l,2),n!==null&&vn(n,e,2)}function Zu(e){var n=e.alternate;return e===Mt||n!==null&&n===Mt}function Qg(e,n){ka=Fu=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Kg(e,n,r){if((r&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,r|=l,n.lanes=r,Co(e,r)}}var al={readContext:$e,use:Ku,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};al.useEffectEvent=ve;var Yg={readContext:$e,use:Ku,useCallback:function(e,n){return fn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Dg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,Xu(4194308,4,kg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return Xu(4194308,4,e,n)},useInsertionEffect:function(e,n){Xu(4,2,e,n)},useMemo:function(e,n){var r=fn();n=n===void 0?null:n;var l=e();if($r){Vn(!0);try{e()}finally{Vn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(e,n,r){var l=fn();if(r!==void 0){var f=r(n);if($r){Vn(!0);try{r(n)}finally{Vn(!1)}}}else f=n;return l.memoizedState=l.baseState=f,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:f},l.queue=e,e=e.dispatch=FT.bind(null,Mt,e),[l.memoizedState,e]},useRef:function(e){var n=fn();return e={current:e},n.memoizedState=e},useState:function(e){e=Of(e);var n=e.queue,r=Gg.bind(null,Mt,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Uf,useDeferredValue:function(e,n){var r=fn();return jf(r,e,n)},useTransition:function(){var e=Of(!1);return e=zg.bind(null,Mt,e.queue,!0,!1),fn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var l=Mt,f=fn();if(Ft){if(r===void 0)throw Error(o(407));r=r()}else{if(r=n(),re===null)throw Error(o(349));(Pt&127)!==0||pg(l,n,r)}f.memoizedState=r;var d={value:r,getSnapshot:n};return f.queue=d,Dg(yg.bind(null,l,d,e),[e]),l.flags|=2048,ja(9,{destroy:void 0},gg.bind(null,l,d,r,n),null),r},useId:function(){var e=fn(),n=re.identifierPrefix;if(Ft){var r=Ni,l=Ri;r=(l&~(1<<32-be(l)-1)).toString(32)+r,n="_"+n+"R_"+r,r=Gu++,0<r&&(n+="H"+r.toString(32)),n+="_"}else r=jT++,n="_"+n+"r_"+r.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Pf,useFormState:xg,useActionState:xg,useOptimistic:function(e){var n=fn();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=zf.bind(null,Mt,!0,r),r.dispatch=n,[e,n]},useMemoCache:If,useCacheRefresh:function(){return fn().memoizedState=HT.bind(null,Mt)},useEffectEvent:function(e){var n=fn(),r={impl:e};return n.memoizedState=r,function(){if(($t&2)!==0)throw Error(o(440));return r.impl.apply(void 0,arguments)}}},Bf={readContext:$e,use:Ku,useCallback:jg,useContext:$e,useEffect:kf,useImperativeHandle:Ug,useInsertionEffect:Og,useLayoutEffect:Vg,useMemo:Lg,useReducer:Yu,useRef:Ig,useState:function(){return Yu(Wi)},useDebugValue:Uf,useDeferredValue:function(e,n){var r=we();return Pg(r,ne.memoizedState,e,n)},useTransition:function(){var e=Yu(Wi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:sl(e),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Pf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,n){var r=we();return Eg(r,ne,e,n)},useMemoCache:If,useCacheRefresh:Fg};Bf.useEffectEvent=Mg;var Xg={readContext:$e,use:Ku,useCallback:jg,useContext:$e,useEffect:kf,useImperativeHandle:Ug,useInsertionEffect:Og,useLayoutEffect:Vg,useMemo:Lg,useReducer:Mf,useRef:Ig,useState:function(){return Mf(Wi)},useDebugValue:Uf,useDeferredValue:function(e,n){var r=we();return ne===null?jf(r,e,n):Pg(r,ne.memoizedState,e,n)},useTransition:function(){var e=Mf(Wi)[0],n=we().memoizedState;return[typeof e=="boolean"?e:sl(e),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Pf,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var r=we();return ne!==null?Eg(r,ne,e,n):(r.baseState=e,[e,r.queue.dispatch])},useMemoCache:If,useCacheRefresh:Fg};Xg.useEffectEvent=Mg;function qf(e,n,r,l){n=e.memoizedState,r=r(l,n),r=r==null?n:x({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Hf={enqueueSetState:function(e,n,r){e=e._reactInternals;var l=Dn(),f=js(l);f.payload=n,r!=null&&(f.callback=r),n=Ls(e,f,l),n!==null&&(vn(n,e,l),tl(n,e,l))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var l=Dn(),f=js(l);f.tag=1,f.payload=n,r!=null&&(f.callback=r),n=Ls(e,f,l),n!==null&&(vn(n,e,l),tl(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=Dn(),l=js(r);l.tag=2,n!=null&&(l.callback=n),n=Ls(e,l,r),n!==null&&(vn(n,e,r),tl(n,e,r))}};function $g(e,n,r,l,f,d,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,d,y):n.prototype&&n.prototype.isPureReactComponent?!Qo(r,l)||!Qo(f,d):!0}function Zg(e,n,r,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==e&&Hf.enqueueReplaceState(n,n.state,null)}function Zr(e,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(e=e.defaultProps){r===n&&(r=x({},r));for(var f in e)r[f]===void 0&&(r[f]=e[f])}return r}function Jg(e){Nu(e)}function Wg(e){console.error(e)}function ty(e){Nu(e)}function Ju(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ey(e,n,r){try{var l=e.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Ff(e,n,r){return r=js(r),r.tag=3,r.payload={element:null},r.callback=function(){Ju(e,n)},r}function ny(e){return e=js(e),e.tag=3,e}function iy(e,n,r,l){var f=r.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;e.payload=function(){return f(d)},e.callback=function(){ey(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ey(n,r,l),typeof f!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var b=l.stack;this.componentDidCatch(l.value,{componentStack:b!==null?b:""})})}function GT(e,n,r,l,f){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Na(n,r,f,!0),r=Cn.current,r!==null){switch(r.tag){case 31:case 13:return Fn===null?cc():r.alternate===null&&Ee===0&&(Ee=3),r.flags&=-257,r.flags|=65536,r.lanes=f,l===Pu?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),pd(e,l,f)),!1;case 22:return r.flags|=65536,l===Pu?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),pd(e,l,f)),!1}throw Error(o(435,r.tag))}return pd(e,l,f),cc(),!1}if(Ft)return n=Cn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=f,l!==uf&&(e=Error(o(422),{cause:l}),Xo(zn(e,r)))):(l!==uf&&(n=Error(o(423),{cause:l}),Xo(zn(n,r))),e=e.current.alternate,e.flags|=65536,f&=-f,e.lanes|=f,l=zn(l,r),f=Ff(e.stateNode,l,f),Ef(e,f),Ee!==4&&(Ee=2)),!1;var d=Error(o(520),{cause:l});if(d=zn(d,r),ml===null?ml=[d]:ml.push(d),Ee!==4&&(Ee=2),n===null)return!0;l=zn(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=f&-f,r.lanes|=e,e=Ff(r.stateNode,l,e),Ef(r,e),!1;case 1:if(n=r.type,d=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(Fs===null||!Fs.has(d))))return r.flags|=65536,f&=-f,r.lanes|=f,f=ny(f),iy(f,e,r,l),Ef(r,f),!1}r=r.return}while(r!==null);return!1}var Gf=Error(o(461)),Ve=!1;function Ze(e,n,r,l){n.child=e===null?og(n,null,r,l):Xr(n,e.child,r,l)}function sy(e,n,r,l,f){r=r.render;var d=n.ref;if("ref"in l){var y={};for(var b in l)b!=="ref"&&(y[b]=l[b])}else y=l;return Gr(n),l=xf(e,n,r,y,d,f),b=Cf(),e!==null&&!Ve?(Rf(e,n,f),ts(e,n,f)):(Ft&&b&&of(n),n.flags|=1,Ze(e,n,l,f),n.child)}function ry(e,n,r,l,f){if(e===null){var d=r.type;return typeof d=="function"&&!sf(d)&&d.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=d,ay(e,n,d,l,f)):(e=Ou(r.type,null,l,n,n.mode,f),e.ref=n.ref,e.return=n,n.child=e)}if(d=e.child,!Wf(e,f)){var y=d.memoizedProps;if(r=r.compare,r=r!==null?r:Qo,r(y,l)&&e.ref===n.ref)return ts(e,n,f)}return n.flags|=1,e=Yi(d,l),e.ref=n.ref,e.return=n,n.child=e}function ay(e,n,r,l,f){if(e!==null){var d=e.memoizedProps;if(Qo(d,l)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=l=d,Wf(e,f))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,ts(e,n,f)}return Qf(e,n,r,l,f)}function oy(e,n,r,l){var f=l.children,d=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(d=d!==null?d.baseLanes|r:r,e!==null){for(l=n.child=e.child,f=0;l!==null;)f=f|l.lanes|l.childLanes,l=l.sibling;l=f&~d}else l=0,n.child=null;return ly(e,n,d,r,l)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ju(n,d!==null?d.cachePool:null),d!==null?cg(n,d):bf(),hg(n);else return l=n.lanes=536870912,ly(e,n,d!==null?d.baseLanes|r:r,r,l)}else d!==null?(ju(n,d.cachePool),cg(n,d),zs(),n.memoizedState=null):(e!==null&&ju(n,null),bf(),zs());return Ze(e,n,f,r),n.child}function ol(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ly(e,n,r,l,f){var d=gf();return d=d===null?null:{parent:Me._currentValue,pool:d},n.memoizedState={baseLanes:r,cachePool:d},e!==null&&ju(n,null),bf(),hg(n),e!==null&&Na(e,n,l,!0),n.childLanes=f,null}function Wu(e,n){return n=ec({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function uy(e,n,r){return Xr(n,e.child,null,r),e=Wu(n,n.pendingProps),e.flags|=2,Rn(n),n.memoizedState=null,e}function QT(e,n,r){var l=n.pendingProps,f=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Ft){if(l.mode==="hidden")return e=Wu(n,l),n.lanes=536870912,ol(null,e);if(Sf(n),(e=ce)?(e=T_(e,Hn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Ri,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},r=Qp(e),r.return=n,n.child=r,Xe=n,ce=null)):e=null,e===null)throw Vs(n);return n.lanes=536870912,null}return Wu(n,l)}var d=e.memoizedState;if(d!==null){var y=d.dehydrated;if(Sf(n),f)if(n.flags&256)n.flags&=-257,n=uy(e,n,r);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(o(558));else if(Ve||Na(e,n,r,!1),f=(r&e.childLanes)!==0,Ve||f){if(l=re,l!==null&&(y=Ro(l,r),y!==0&&y!==d.retryLane))throw d.retryLane=y,Br(e,y),vn(l,e,y),Gf;cc(),n=uy(e,n,r)}else e=d.treeContext,ce=Gn(y.nextSibling),Xe=n,Ft=!0,Os=null,Hn=!1,e!==null&&Xp(n,e),n=Wu(n,l),n.flags|=4096;return n}return e=Yi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function tc(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(o(284));(e===null||e.ref!==r)&&(n.flags|=4194816)}}function Qf(e,n,r,l,f){return Gr(n),r=xf(e,n,r,l,void 0,f),l=Cf(),e!==null&&!Ve?(Rf(e,n,f),ts(e,n,f)):(Ft&&l&&of(n),n.flags|=1,Ze(e,n,r,f),n.child)}function cy(e,n,r,l,f,d){return Gr(n),n.updateQueue=null,r=dg(n,l,r,f),fg(e),l=Cf(),e!==null&&!Ve?(Rf(e,n,d),ts(e,n,d)):(Ft&&l&&of(n),n.flags|=1,Ze(e,n,r,d),n.child)}function hy(e,n,r,l,f){if(Gr(n),n.stateNode===null){var d=wa,y=r.contextType;typeof y=="object"&&y!==null&&(d=$e(y)),d=new r(l,d),n.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Hf,n.stateNode=d,d._reactInternals=n,d=n.stateNode,d.props=l,d.state=n.memoizedState,d.refs={},_f(n),y=r.contextType,d.context=typeof y=="object"&&y!==null?$e(y):wa,d.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(qf(n,r,y,l),d.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(y=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),y!==d.state&&Hf.enqueueReplaceState(d,d.state,null),nl(n,l,d,f),el(),d.state=n.memoizedState),typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){d=n.stateNode;var b=n.memoizedProps,N=Zr(r,b);d.props=N;var z=d.context,K=r.contextType;y=wa,typeof K=="object"&&K!==null&&(y=$e(K));var $=r.getDerivedStateFromProps;K=typeof $=="function"||typeof d.getSnapshotBeforeUpdate=="function",b=n.pendingProps!==b,K||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(b||z!==y)&&Zg(n,d,l,y),Us=!1;var B=n.memoizedState;d.state=B,nl(n,l,d,f),el(),z=n.memoizedState,b||B!==z||Us?(typeof $=="function"&&(qf(n,r,$,l),z=n.memoizedState),(N=Us||$g(n,r,N,l,B,z,y))?(K||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(n.flags|=4194308)):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),d.props=l,d.state=z,d.context=y,l=N):(typeof d.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{d=n.stateNode,vf(e,n),y=n.memoizedProps,K=Zr(r,y),d.props=K,$=n.pendingProps,B=d.context,z=r.contextType,N=wa,typeof z=="object"&&z!==null&&(N=$e(z)),b=r.getDerivedStateFromProps,(z=typeof b=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(y!==$||B!==N)&&Zg(n,d,l,N),Us=!1,B=n.memoizedState,d.state=B,nl(n,l,d,f),el();var F=n.memoizedState;y!==$||B!==F||Us||e!==null&&e.dependencies!==null&&ku(e.dependencies)?(typeof b=="function"&&(qf(n,r,b,l),F=n.memoizedState),(K=Us||$g(n,r,K,l,B,F,N)||e!==null&&e.dependencies!==null&&ku(e.dependencies))?(z||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,F,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,F,N)),typeof d.componentDidUpdate=="function"&&(n.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),d.props=l,d.state=F,d.context=N,l=K):(typeof d.componentDidUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return d=l,tc(e,n),l=(n.flags&128)!==0,d||l?(d=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:d.render(),n.flags|=1,e!==null&&l?(n.child=Xr(n,e.child,null,f),n.child=Xr(n,null,r,f)):Ze(e,n,r,f),n.memoizedState=d.state,e=n.child):e=ts(e,n,f),e}function fy(e,n,r,l){return Hr(),n.flags|=256,Ze(e,n,r,l),n.child}var Kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Yf(e){return{baseLanes:e,cachePool:eg()}}function Xf(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=In),e}function dy(e,n,r){var l=n.pendingProps,f=!1,d=(n.flags&128)!==0,y;if((y=d)||(y=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),y&&(f=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(Ft){if(f?Ps(n):zs(),(e=ce)?(e=T_(e,Hn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ms!==null?{id:Ri,overflow:Ni}:null,retryLane:536870912,hydrationErrors:null},r=Qp(e),r.return=n,n.child=r,Xe=n,ce=null)):e=null,e===null)throw Vs(n);return Dd(e)?n.lanes=32:n.lanes=536870912,null}var b=l.children;return l=l.fallback,f?(zs(),f=n.mode,b=ec({mode:"hidden",children:b},f),l=qr(l,f,r,null),b.return=n,l.return=n,b.sibling=l,n.child=b,l=n.child,l.memoizedState=Yf(r),l.childLanes=Xf(e,y,r),n.memoizedState=Kf,ol(null,l)):(Ps(n),$f(n,b))}var N=e.memoizedState;if(N!==null&&(b=N.dehydrated,b!==null)){if(d)n.flags&256?(Ps(n),n.flags&=-257,n=Zf(e,n,r)):n.memoizedState!==null?(zs(),n.child=e.child,n.flags|=128,n=null):(zs(),b=l.fallback,f=n.mode,l=ec({mode:"visible",children:l.children},f),b=qr(b,f,r,null),b.flags|=2,l.return=n,b.return=n,l.sibling=b,n.child=l,Xr(n,e.child,null,r),l=n.child,l.memoizedState=Yf(r),l.childLanes=Xf(e,y,r),n.memoizedState=Kf,n=ol(null,l));else if(Ps(n),Dd(b)){if(y=b.nextSibling&&b.nextSibling.dataset,y)var z=y.dgst;y=z,l=Error(o(419)),l.stack="",l.digest=y,Xo({value:l,source:null,stack:null}),n=Zf(e,n,r)}else if(Ve||Na(e,n,r,!1),y=(r&e.childLanes)!==0,Ve||y){if(y=re,y!==null&&(l=Ro(y,r),l!==0&&l!==N.retryLane))throw N.retryLane=l,Br(e,l),vn(y,e,l),Gf;Id(b)||cc(),n=Zf(e,n,r)}else Id(b)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ce=Gn(b.nextSibling),Xe=n,Ft=!0,Os=null,Hn=!1,e!==null&&Xp(n,e),n=$f(n,l.children),n.flags|=4096);return n}return f?(zs(),b=l.fallback,f=n.mode,N=e.child,z=N.sibling,l=Yi(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,z!==null?b=Yi(z,b):(b=qr(b,f,r,null),b.flags|=2),b.return=n,l.return=n,l.sibling=b,n.child=l,ol(null,l),l=n.child,b=e.child.memoizedState,b===null?b=Yf(r):(f=b.cachePool,f!==null?(N=Me._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=eg(),b={baseLanes:b.baseLanes|r,cachePool:f}),l.memoizedState=b,l.childLanes=Xf(e,y,r),n.memoizedState=Kf,ol(e.child,l)):(Ps(n),r=e.child,e=r.sibling,r=Yi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function $f(e,n){return n=ec({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function ec(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function Zf(e,n,r){return Xr(n,e.child,null,r),e=$f(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function my(e,n,r){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),ff(e.return,n,r)}function Jf(e,n,r,l,f,d){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:f,treeForkCount:d}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=r,y.tailMode=f,y.treeForkCount=d)}function py(e,n,r){var l=n.pendingProps,f=l.revealOrder,d=l.tail;l=l.children;var y=Se.current,b=(y&2)!==0;if(b?(y=y&1|2,n.flags|=128):y&=1,rt(Se,y),Ze(e,n,l,r),l=Ft?Yo:0,!b&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,r,n);else if(e.tag===19)my(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(f){case"forwards":for(r=n.child,f=null;r!==null;)e=r.alternate,e!==null&&Hu(e)===null&&(f=r),r=r.sibling;r=f,r===null?(f=n.child,n.child=null):(f=r.sibling,r.sibling=null),Jf(n,!1,f,r,d,l);break;case"backwards":case"unstable_legacy-backwards":for(r=null,f=n.child,n.child=null;f!==null;){if(e=f.alternate,e!==null&&Hu(e)===null){n.child=f;break}e=f.sibling,f.sibling=r,r=f,f=e}Jf(n,!0,r,null,d,l);break;case"together":Jf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ts(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),Hs|=n.lanes,(r&n.childLanes)===0)if(e!==null){if(Na(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(o(153));if(n.child!==null){for(e=n.child,r=Yi(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=Yi(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Wf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ku(e)))}function KT(e,n,r){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),ks(n,Me,e.memoizedState.cache),Hr();break;case 27:case 5:Hi(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:ks(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Sf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Ps(n),n.flags|=128,null):(r&n.child.childLanes)!==0?dy(e,n,r):(Ps(n),e=ts(e,n,r),e!==null?e.sibling:null);Ps(n);break;case 19:var f=(e.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Na(e,n,r,!1),l=(r&n.childLanes)!==0),f){if(l)return py(e,n,r);n.flags|=128}if(f=n.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),rt(Se,Se.current),l)break;return null;case 22:return n.lanes=0,oy(e,n,r,n.pendingProps);case 24:ks(n,Me,e.memoizedState.cache)}return ts(e,n,r)}function gy(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Wf(e,r)&&(n.flags&128)===0)return Ve=!1,KT(e,n,r);Ve=(e.flags&131072)!==0}else Ve=!1,Ft&&(n.flags&1048576)!==0&&Yp(n,Yo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Kr(n.elementType),n.type=e,typeof e=="function")sf(e)?(l=Zr(e,l),n.tag=1,n=hy(null,n,e,l,r)):(n.tag=0,n=Qf(null,n,e,l,r));else{if(e!=null){var f=e.$$typeof;if(f===mt){n.tag=11,n=sy(null,n,e,l,r);break t}else if(f===I){n.tag=14,n=ry(null,n,e,l,r);break t}}throw n=At(e)||e,Error(o(306,n,""))}}return n;case 0:return Qf(e,n,n.type,n.pendingProps,r);case 1:return l=n.type,f=Zr(l,n.pendingProps),hy(e,n,l,f,r);case 3:t:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(o(387));l=n.pendingProps;var d=n.memoizedState;f=d.element,vf(e,n),nl(n,l,null,r);var y=n.memoizedState;if(l=y.cache,ks(n,Me,l),l!==d.cache&&df(n,[Me],r,!0),el(),l=y.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=d,n.memoizedState=d,n.flags&256){n=fy(e,n,l,r);break t}else if(l!==f){f=zn(Error(o(424)),n),Xo(f),n=fy(e,n,l,r);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ce=Gn(e.firstChild),Xe=n,Ft=!0,Os=null,Hn=!0,r=og(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Hr(),l===f){n=ts(e,n,r);break t}Ze(e,n,l,r)}n=n.child}return n;case 26:return tc(e,n),e===null?(r=C_(n.type,null,n.pendingProps,null))?n.memoizedState=r:Ft||(r=n.type,e=n.pendingProps,l=yc(Rt.current).createElement(r),l[Ne]=n,l[Be]=e,Je(l,r,e),Ie(l),n.stateNode=l):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Hi(n),e===null&&Ft&&(l=n.stateNode=S_(n.type,n.pendingProps,Rt.current),Xe=n,Hn=!0,f=ce,Ys(n.type)?(Md=f,ce=Gn(l.firstChild)):ce=f),Ze(e,n,n.pendingProps.children,r),tc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Ft&&((f=l=ce)&&(l=Ab(l,n.type,n.pendingProps,Hn),l!==null?(n.stateNode=l,Xe=n,ce=Gn(l.firstChild),Hn=!1,f=!0):f=!1),f||Vs(n)),Hi(n),f=n.type,d=n.pendingProps,y=e!==null?e.memoizedProps:null,l=d.children,Cd(f,d)?l=null:y!==null&&Cd(f,y)&&(n.flags|=32),n.memoizedState!==null&&(f=xf(e,n,LT,null,null,r),bl._currentValue=f),tc(e,n),Ze(e,n,l,r),n.child;case 6:return e===null&&Ft&&((e=r=ce)&&(r=Sb(r,n.pendingProps,Hn),r!==null?(n.stateNode=r,Xe=n,ce=null,e=!0):e=!1),e||Vs(n)),null;case 13:return dy(e,n,r);case 4:return Te(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Xr(n,null,l,r):Ze(e,n,l,r),n.child;case 11:return sy(e,n,n.type,n.pendingProps,r);case 7:return Ze(e,n,n.pendingProps,r),n.child;case 8:return Ze(e,n,n.pendingProps.children,r),n.child;case 12:return Ze(e,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ks(n,n.type,l.value),Ze(e,n,l.children,r),n.child;case 9:return f=n.type._context,l=n.pendingProps.children,Gr(n),f=$e(f),l=l(f),n.flags|=1,Ze(e,n,l,r),n.child;case 14:return ry(e,n,n.type,n.pendingProps,r);case 15:return ay(e,n,n.type,n.pendingProps,r);case 19:return py(e,n,r);case 31:return QT(e,n,r);case 22:return oy(e,n,r,n.pendingProps);case 24:return Gr(n),l=$e(Me),e===null?(f=gf(),f===null&&(f=re,d=mf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=r),f=d),n.memoizedState={parent:l,cache:f},_f(n),ks(n,Me,f)):((e.lanes&r)!==0&&(vf(e,n),nl(n,null,null,r),el()),f=e.memoizedState,d=n.memoizedState,f.parent!==l?(f={parent:l,cache:l},n.memoizedState=f,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=f),ks(n,Me,l)):(l=d.cache,ks(n,Me,l),l!==f.cache&&df(n,[Me],r,!0))),Ze(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(o(156,n.tag))}function es(e){e.flags|=4}function td(e,n,r,l,f){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(f&335544128)===f)if(e.stateNode.complete)e.flags|=8192;else if(Hy())e.flags|=8192;else throw Yr=Pu,yf}else e.flags&=-16777217}function yy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(n))if(Hy())e.flags|=8192;else throw Yr=Pu,yf}function nc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?lu():536870912,e.lanes|=n,Ba|=n)}function ll(e,n){if(!Ft)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,l=0;if(n)for(var f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=e,f=f.sibling;else for(f=e.child;f!==null;)r|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=e,f=f.sibling;return e.subtreeFlags|=l,e.childLanes=r,n}function YT(e,n,r){var l=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return r=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),Zi(Me),oe(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ra(n)?es(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,cf())),he(n),null;case 26:var f=n.type,d=n.memoizedState;return e===null?(es(n),d!==null?(he(n),yy(n,d)):(he(n),td(n,f,null,l,r))):d?d!==e.memoizedState?(es(n),he(n),yy(n,d)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&es(n),he(n),td(n,f,e,l,r)),null;case 27:if(_s(n),r=Rt.current,f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&es(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return he(n),null}e=ot.current,Ra(n)?$p(n):(e=S_(f,l,r),n.stateNode=e,es(n))}return he(n),null;case 5:if(_s(n),f=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&es(n);else{if(!l){if(n.stateNode===null)throw Error(o(166));return he(n),null}if(d=ot.current,Ra(n))$p(n);else{var y=yc(Rt.current);switch(d){case 1:d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=y.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=y.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=y.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?d.multiple=!0:l.size&&(d.size=l.size);break;default:d=typeof l.is=="string"?y.createElement(f,{is:l.is}):y.createElement(f)}}d[Ne]=n,d[Be]=l;t:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)d.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break t;for(;y.sibling===null;){if(y.return===null||y.return===n)break t;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=d;t:switch(Je(d,f,l),f){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&es(n)}}return he(n),td(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,r),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&es(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(o(166));if(e=Rt.current,Ra(n)){if(e=n.stateNode,r=n.memoizedProps,l=null,f=Xe,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||d_(e.nodeValue,r)),e||Vs(n,!0)}else e=yc(e).createTextNode(l),e[Ne]=n,n.stateNode=e}return he(n),null;case 31:if(r=n.memoizedState,e===null||e.memoizedState!==null){if(l=Ra(n),r!==null){if(e===null){if(!l)throw Error(o(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(o(557));e[Ne]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else r=cf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=r),e=!0;if(!e)return n.flags&256?(Rn(n),n):(Rn(n),null);if((n.flags&128)!==0)throw Error(o(558))}return he(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(f=Ra(n),l!==null&&l.dehydrated!==null){if(e===null){if(!f)throw Error(o(318));if(f=n.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(o(317));f[Ne]=n}else Hr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),f=!1}else f=cf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=f),f=!0;if(!f)return n.flags&256?(Rn(n),n):(Rn(n),null)}return Rn(n),(n.flags&128)!==0?(n.lanes=r,n):(r=l!==null,e=e!==null&&e.memoizedState!==null,r&&(l=n.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool),d=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)),r!==e&&r&&(n.child.flags|=8192),nc(n,n.updateQueue),he(n),null);case 4:return oe(),e===null&&bd(n.stateNode.containerInfo),he(n),null;case 10:return Zi(n.type),he(n),null;case 19:if(Y(Se),l=n.memoizedState,l===null)return he(n),null;if(f=(n.flags&128)!==0,d=l.rendering,d===null)if(f)ll(l,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(d=Hu(e),d!==null){for(n.flags|=128,ll(l,!1),e=d.updateQueue,n.updateQueue=e,nc(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)Gp(r,e),r=r.sibling;return rt(Se,Se.current&1|2),Ft&&Xi(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&cn()>oc&&(n.flags|=128,f=!0,ll(l,!1),n.lanes=4194304)}else{if(!f)if(e=Hu(d),e!==null){if(n.flags|=128,f=!0,e=e.updateQueue,n.updateQueue=e,nc(n,e),ll(l,!0),l.tail===null&&l.tailMode==="hidden"&&!d.alternate&&!Ft)return he(n),null}else 2*cn()-l.renderingStartTime>oc&&r!==536870912&&(n.flags|=128,f=!0,ll(l,!1),n.lanes=4194304);l.isBackwards?(d.sibling=n.child,n.child=d):(e=l.last,e!==null?e.sibling=d:n.child=d,l.last=d)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=cn(),e.sibling=null,r=Se.current,rt(Se,f?r&1|2:r&1),Ft&&Xi(n,l.treeForkCount),e):(he(n),null);case 22:case 23:return Rn(n),Af(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),r=n.updateQueue,r!==null&&nc(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),e!==null&&Y(Qr),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Zi(Me),he(n),null;case 25:return null;case 30:return null}throw Error(o(156,n.tag))}function XT(e,n){switch(lf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Zi(Me),oe(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return _s(n),null;case 31:if(n.memoizedState!==null){if(Rn(n),n.alternate===null)throw Error(o(340));Hr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Rn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(o(340));Hr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Se),null;case 4:return oe(),null;case 10:return Zi(n.type),null;case 22:case 23:return Rn(n),Af(),e!==null&&Y(Qr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Zi(Me),null;case 25:return null;default:return null}}function _y(e,n){switch(lf(n),n.tag){case 3:Zi(Me),oe();break;case 26:case 27:case 5:_s(n);break;case 4:oe();break;case 31:n.memoizedState!==null&&Rn(n);break;case 13:Rn(n);break;case 19:Y(Se);break;case 10:Zi(n.type);break;case 22:case 23:Rn(n),Af(),e!==null&&Y(Qr);break;case 24:Zi(Me)}}function ul(e,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var f=l.next;r=f;do{if((r.tag&e)===e){l=void 0;var d=r.create,y=r.inst;l=d(),y.destroy=l}r=r.next}while(r!==f)}}catch(b){te(n,n.return,b)}}function Bs(e,n,r){try{var l=n.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&e)===e){var y=l.inst,b=y.destroy;if(b!==void 0){y.destroy=void 0,f=n;var N=r,z=b;try{z()}catch(K){te(f,N,K)}}}l=l.next}while(l!==d)}}catch(K){te(n,n.return,K)}}function vy(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{ug(n,r)}catch(l){te(e,e.return,l)}}}function Ey(e,n,r){r.props=Zr(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(l){te(e,n,l)}}function cl(e,n){try{var r=e.ref;if(r!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof r=="function"?e.refCleanup=r(l):r.current=l}}catch(f){te(e,n,f)}}function Ii(e,n){var r=e.ref,l=e.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(f){te(e,n,f)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(f){te(e,n,f)}else r.current=null}function Ty(e){var n=e.type,r=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(f){te(e,e.return,f)}}function ed(e,n,r){try{var l=e.stateNode;yb(l,e.type,r,n),l[Be]=n}catch(f){te(e,e.return,f)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ys(e.type)||e.tag===4}function nd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ys(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function id(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(e,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(e),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Wn));else if(l!==4&&(l===27&&Ys(e.type)&&(r=e.stateNode,n=null),e=e.child,e!==null))for(id(e,n,r),e=e.sibling;e!==null;)id(e,n,r),e=e.sibling}function ic(e,n,r){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(l!==4&&(l===27&&Ys(e.type)&&(r=e.stateNode),e=e.child,e!==null))for(ic(e,n,r),e=e.sibling;e!==null;)ic(e,n,r),e=e.sibling}function Ay(e){var n=e.stateNode,r=e.memoizedProps;try{for(var l=e.type,f=n.attributes;f.length;)n.removeAttributeNode(f[0]);Je(n,l,r),n[Ne]=e,n[Be]=r}catch(d){te(e,e.return,d)}}var ns=!1,ke=!1,sd=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,He=null;function $T(e,n){if(e=e.containerInfo,wd=Sc,e=Up(e),$h(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{r.nodeType,d.nodeType}catch{r=null;break t}var y=0,b=-1,N=-1,z=0,K=0,$=e,B=null;e:for(;;){for(var F;$!==r||f!==0&&$.nodeType!==3||(b=y+f),$!==d||l!==0&&$.nodeType!==3||(N=y+l),$.nodeType===3&&(y+=$.nodeValue.length),(F=$.firstChild)!==null;)B=$,$=F;for(;;){if($===e)break e;if(B===r&&++z===f&&(b=y),B===d&&++K===l&&(N=y),(F=$.nextSibling)!==null)break;$=B,B=$.parentNode}$=F}r=b===-1||N===-1?null:{start:b,end:N}}else r=null}r=r||{start:0,end:0}}else r=null;for(xd={focusedElem:e,selectionRange:r},Sc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,d=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(r=0;r<e.length;r++)f=e[r],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&d!==null){e=void 0,r=n,f=d.memoizedProps,d=d.memoizedState,l=r.stateNode;try{var ut=Zr(r.type,f);e=l.getSnapshotBeforeUpdate(ut,d),l.__reactInternalSnapshotBeforeUpdate=e}catch(vt){te(r,r.return,vt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Nd(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Nd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(o(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function wy(e,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:ss(e,r),l&4&&ul(5,r);break;case 1:if(ss(e,r),l&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(y){te(r,r.return,y)}else{var f=Zr(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(f,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){te(r,r.return,y)}}l&64&&vy(r),l&512&&cl(r,r.return);break;case 3:if(ss(e,r),l&64&&(e=r.updateQueue,e!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{ug(e,n)}catch(y){te(r,r.return,y)}}break;case 27:n===null&&l&4&&Ay(r);case 26:case 5:ss(e,r),n===null&&l&4&&Ty(r),l&512&&cl(r,r.return);break;case 12:ss(e,r);break;case 31:ss(e,r),l&4&&Ry(e,r);break;case 13:ss(e,r),l&4&&Ny(e,r),l&64&&(e=r.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(r=rb.bind(null,r),wb(e,r))));break;case 22:if(l=r.memoizedState!==null||ns,!l){n=n!==null&&n.memoizedState!==null||ke,f=ns;var d=ke;ns=l,(ke=n)&&!d?rs(e,r,(r.subtreeFlags&8772)!==0):ss(e,r),ns=f,ke=d}break;case 30:break;default:ss(e,r)}}function xy(e){var n=e.alternate;n!==null&&(e.alternate=null,xy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ha(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,pn=!1;function is(e,n,r){for(r=r.child;r!==null;)Cy(e,n,r),r=r.sibling}function Cy(e,n,r){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Xn,r)}catch{}switch(r.tag){case 26:ke||Ii(r,n),is(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ke||Ii(r,n);var l=pe,f=pn;Ys(r.type)&&(pe=r.stateNode,pn=!1),is(e,n,r),vl(r.stateNode),pe=l,pn=f;break;case 5:ke||Ii(r,n);case 6:if(l=pe,f=pn,pe=null,is(e,n,r),pe=l,pn=f,pe!==null)if(pn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(r.stateNode)}catch(d){te(r,n,d)}else try{pe.removeChild(r.stateNode)}catch(d){te(r,n,d)}break;case 18:pe!==null&&(pn?(e=pe,v_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,r.stateNode),Xa(e)):v_(pe,r.stateNode));break;case 4:l=pe,f=pn,pe=r.stateNode.containerInfo,pn=!0,is(e,n,r),pe=l,pn=f;break;case 0:case 11:case 14:case 15:Bs(2,r,n),ke||Bs(4,r,n),is(e,n,r);break;case 1:ke||(Ii(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Ey(r,n,l)),is(e,n,r);break;case 21:is(e,n,r);break;case 22:ke=(l=ke)||r.memoizedState!==null,is(e,n,r),ke=l;break;default:is(e,n,r)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Xa(e)}catch(r){te(n,n.return,r)}}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Xa(e)}catch(r){te(n,n.return,r)}}function ZT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sy),n;default:throw Error(o(435,e.tag))}}function sc(e,n){var r=ZT(e);n.forEach(function(l){if(!r.has(l)){r.add(l);var f=ab.bind(null,e,l);l.then(f,f)}})}function gn(e,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var f=r[l],d=e,y=n,b=y;t:for(;b!==null;){switch(b.tag){case 27:if(Ys(b.type)){pe=b.stateNode,pn=!1;break t}break;case 5:pe=b.stateNode,pn=!1;break t;case 3:case 4:pe=b.stateNode.containerInfo,pn=!0;break t}b=b.return}if(pe===null)throw Error(o(160));Cy(d,y,f),pe=null,pn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,e),n=n.sibling}var ri=null;function Iy(e,n){var r=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gn(n,e),yn(e),l&4&&(Bs(3,e,e.return),ul(3,e),Bs(5,e,e.return));break;case 1:gn(n,e),yn(e),l&512&&(ke||r===null||Ii(r,r.return)),l&64&&ns&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var f=ri;if(gn(n,e),yn(e),l&512&&(ke||r===null||Ii(r,r.return)),l&4){var d=r!==null?r.memoizedState:null;if(l=e.memoizedState,r===null)if(l===null)if(e.stateNode===null){t:{l=e.type,r=e.memoizedProps,f=f.ownerDocument||f;e:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[gi]||d[Ne]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),Je(d,l,r),d[Ne]=e,Ie(d),l=d;break t;case"link":var y=I_("link","href",f).get(l+(r.href||""));if(y){for(var b=0;b<y.length;b++)if(d=y[b],d.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&d.getAttribute("rel")===(r.rel==null?null:r.rel)&&d.getAttribute("title")===(r.title==null?null:r.title)&&d.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(b,1);break e}}d=f.createElement(l),Je(d,l,r),f.head.appendChild(d);break;case"meta":if(y=I_("meta","content",f).get(l+(r.content||""))){for(b=0;b<y.length;b++)if(d=y[b],d.getAttribute("content")===(r.content==null?null:""+r.content)&&d.getAttribute("name")===(r.name==null?null:r.name)&&d.getAttribute("property")===(r.property==null?null:r.property)&&d.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&d.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(b,1);break e}}d=f.createElement(l),Je(d,l,r),f.head.appendChild(d);break;default:throw Error(o(468,l))}d[Ne]=e,Ie(d),l=d}e.stateNode=l}else D_(f,e.type,e.stateNode);else e.stateNode=N_(f,l,e.memoizedProps);else d!==l?(d===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):d.count--,l===null?D_(f,e.type,e.stateNode):N_(f,l,e.memoizedProps)):l===null&&e.stateNode!==null&&ed(e,e.memoizedProps,r.memoizedProps)}break;case 27:gn(n,e),yn(e),l&512&&(ke||r===null||Ii(r,r.return)),r!==null&&l&4&&ed(e,e.memoizedProps,r.memoizedProps);break;case 5:if(gn(n,e),yn(e),l&512&&(ke||r===null||Ii(r,r.return)),e.flags&32){f=e.stateNode;try{mn(f,"")}catch(ut){te(e,e.return,ut)}}l&4&&e.stateNode!=null&&(f=e.memoizedProps,ed(e,f,r!==null?r.memoizedProps:f)),l&1024&&(sd=!0);break;case 6:if(gn(n,e),yn(e),l&4){if(e.stateNode===null)throw Error(o(162));l=e.memoizedProps,r=e.stateNode;try{r.nodeValue=l}catch(ut){te(e,e.return,ut)}}break;case 3:if(Ec=null,f=ri,ri=_c(n.containerInfo),gn(n,e),ri=f,yn(e),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Xa(n.containerInfo)}catch(ut){te(e,e.return,ut)}sd&&(sd=!1,Dy(e));break;case 4:l=ri,ri=_c(e.stateNode.containerInfo),gn(n,e),yn(e),ri=l;break;case 12:gn(n,e),yn(e);break;case 31:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 13:gn(n,e),yn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(ac=cn()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 22:f=e.memoizedState!==null;var N=r!==null&&r.memoizedState!==null,z=ns,K=ke;if(ns=z||f,ke=K||N,gn(n,e),ke=K,ns=z,yn(e),l&8192)t:for(n=e.stateNode,n._visibility=f?n._visibility&-2:n._visibility|1,f&&(r===null||N||ns||ke||Jr(e)),r=null,n=e;;){if(n.tag===5||n.tag===26){if(r===null){N=r=n;try{if(d=N.stateNode,f)y=d.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{b=N.stateNode;var $=N.memoizedProps.style,B=$!=null&&$.hasOwnProperty("display")?$.display:null;b.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ut){te(N,N.return,ut)}}}else if(n.tag===6){if(r===null){N=n;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(ut){te(N,N.return,ut)}}}else if(n.tag===18){if(r===null){N=n;try{var F=N.stateNode;f?E_(F,!0):E_(N.stateNode,!1)}catch(ut){te(N,N.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,sc(e,r))));break;case 19:gn(n,e),yn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,sc(e,l)));break;case 30:break;case 21:break;default:gn(n,e),yn(e)}}function yn(e){var n=e.flags;if(n&2){try{for(var r,l=e.return;l!==null;){if(by(l)){r=l;break}l=l.return}if(r==null)throw Error(o(160));switch(r.tag){case 27:var f=r.stateNode,d=nd(e);ic(e,d,f);break;case 5:var y=r.stateNode;r.flags&32&&(mn(y,""),r.flags&=-33);var b=nd(e);ic(e,b,y);break;case 3:case 4:var N=r.stateNode.containerInfo,z=nd(e);id(e,z,N);break;default:throw Error(o(161))}}catch(K){te(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ss(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)wy(e,n.alternate,n),n=n.sibling}function Jr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Bs(4,n,n.return),Jr(n);break;case 1:Ii(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Ey(n,n.return,r),Jr(n);break;case 27:vl(n.stateNode);case 26:case 5:Ii(n,n.return),Jr(n);break;case 22:n.memoizedState===null&&Jr(n);break;case 30:Jr(n);break;default:Jr(n)}e=e.sibling}}function rs(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,f=e,d=n,y=d.flags;switch(d.tag){case 0:case 11:case 15:rs(f,d,r),ul(4,d);break;case 1:if(rs(f,d,r),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(z){te(l,l.return,z)}if(l=d,f=l.updateQueue,f!==null){var b=l.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)lg(N[f],b)}catch(z){te(l,l.return,z)}}r&&y&64&&vy(d),cl(d,d.return);break;case 27:Ay(d);case 26:case 5:rs(f,d,r),r&&l===null&&y&4&&Ty(d),cl(d,d.return);break;case 12:rs(f,d,r);break;case 31:rs(f,d,r),r&&y&4&&Ry(f,d);break;case 13:rs(f,d,r),r&&y&4&&Ny(f,d);break;case 22:d.memoizedState===null&&rs(f,d,r),cl(d,d.return);break;case 30:break;default:rs(f,d,r)}n=n.sibling}}function rd(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&$o(r))}function ad(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e))}function ai(e,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(e,n,r,l),n=n.sibling}function My(e,n,r,l){var f=n.flags;switch(n.tag){case 0:case 11:case 15:ai(e,n,r,l),f&2048&&ul(9,n);break;case 1:ai(e,n,r,l);break;case 3:ai(e,n,r,l),f&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&$o(e)));break;case 12:if(f&2048){ai(e,n,r,l),e=n.stateNode;try{var d=n.memoizedProps,y=d.id,b=d.onPostCommit;typeof b=="function"&&b(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){te(n,n.return,N)}}else ai(e,n,r,l);break;case 31:ai(e,n,r,l);break;case 13:ai(e,n,r,l);break;case 23:break;case 22:d=n.stateNode,y=n.alternate,n.memoizedState!==null?d._visibility&2?ai(e,n,r,l):hl(e,n):d._visibility&2?ai(e,n,r,l):(d._visibility|=2,La(e,n,r,l,(n.subtreeFlags&10256)!==0||!1)),f&2048&&rd(y,n);break;case 24:ai(e,n,r,l),f&2048&&ad(n.alternate,n);break;default:ai(e,n,r,l)}}function La(e,n,r,l,f){for(f=f&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var d=e,y=n,b=r,N=l,z=y.flags;switch(y.tag){case 0:case 11:case 15:La(d,y,b,N,f),ul(8,y);break;case 23:break;case 22:var K=y.stateNode;y.memoizedState!==null?K._visibility&2?La(d,y,b,N,f):hl(d,y):(K._visibility|=2,La(d,y,b,N,f)),f&&z&2048&&rd(y.alternate,y);break;case 24:La(d,y,b,N,f),f&&z&2048&&ad(y.alternate,y);break;default:La(d,y,b,N,f)}n=n.sibling}}function hl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,l=n,f=l.flags;switch(l.tag){case 22:hl(r,l),f&2048&&rd(l.alternate,l);break;case 24:hl(r,l),f&2048&&ad(l.alternate,l);break;default:hl(r,l)}n=n.sibling}}var fl=8192;function Pa(e,n,r){if(e.subtreeFlags&fl)for(e=e.child;e!==null;)Oy(e,n,r),e=e.sibling}function Oy(e,n,r){switch(e.tag){case 26:Pa(e,n,r),e.flags&fl&&e.memoizedState!==null&&jb(r,ri,e.memoizedState,e.memoizedProps);break;case 5:Pa(e,n,r);break;case 3:case 4:var l=ri;ri=_c(e.stateNode.containerInfo),Pa(e,n,r),ri=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=fl,fl=16777216,Pa(e,n,r),fl=l):Pa(e,n,r));break;default:Pa(e,n,r)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function dl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];He=l,Uy(l,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ky(e),e=e.sibling}function ky(e){switch(e.tag){case 0:case 11:case 15:dl(e),e.flags&2048&&Bs(9,e,e.return);break;case 3:dl(e);break;case 12:dl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,rc(e)):dl(e);break;default:dl(e)}}function rc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];He=l,Uy(l,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Bs(8,n,n.return),rc(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,rc(n));break;default:rc(n)}e=e.sibling}}function Uy(e,n){for(;He!==null;){var r=He;switch(r.tag){case 0:case 11:case 15:Bs(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$o(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,He=l;else t:for(r=e;He!==null;){l=He;var f=l.sibling,d=l.return;if(xy(l),l===r){He=null;break t}if(f!==null){f.return=d,He=f;break t}He=d}}}var JT={getCacheForType:function(e){var n=$e(Me),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r},cacheSignal:function(){return $e(Me).controller.signal}},WT=typeof WeakMap=="function"?WeakMap:Map,$t=0,re=null,Ut=null,Pt=0,Wt=0,Nn=null,qs=!1,za=!1,od=!1,as=0,Ee=0,Hs=0,Wr=0,ld=0,In=0,Ba=0,ml=null,_n=null,ud=!1,ac=0,jy=0,oc=1/0,lc=null,Fs=null,Le=0,Gs=null,qa=null,os=0,cd=0,hd=null,Ly=null,pl=0,fd=null;function Dn(){return($t&2)!==0&&Pt!==0?Pt&-Pt:H.T!==null?_d():uu()}function Py(){if(In===0)if((Pt&536870912)===0||Ft){var e=xr;xr<<=1,(xr&3932160)===0&&(xr=262144),In=e}else In=536870912;return e=Cn.current,e!==null&&(e.flags|=32),In}function vn(e,n,r){(e===re&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Ha(e,0),Qs(e,Pt,In,!1)),Cr(e,r),(($t&2)===0||e!==re)&&(e===re&&(($t&2)===0&&(Wr|=r),Ee===4&&Qs(e,Pt,In,!1)),Di(e))}function zy(e,n,r){if(($t&6)!==0)throw Error(o(327));var l=!r&&(n&127)===0&&(n&e.expiredLanes)===0||$n(e,n),f=l?nb(e,n):md(e,n,!0),d=l;do{if(f===0){za&&!l&&Qs(e,n,0,!1);break}else{if(r=e.current.alternate,d&&!tb(r)){f=md(e,n,!1),d=!1;continue}if(f===2){if(d=n,e.errorRecoveryDisabledLanes&d)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var b=e;f=ml;var N=b.current.memoizedState.isDehydrated;if(N&&(Ha(b,y).flags|=256),y=md(b,y,!1),y!==2){if(od&&!N){b.errorRecoveryDisabledLanes|=d,Wr|=d,f=4;break t}d=_n,_n=f,d!==null&&(_n===null?_n=d:_n.push.apply(_n,d))}f=y}if(d=!1,f!==2)continue}}if(f===1){Ha(e,0),Qs(e,n,0,!0);break}t:{switch(l=e,d=f,d){case 0:case 1:throw Error(o(345));case 4:if((n&4194048)!==n)break;case 6:Qs(l,n,In,!qs);break t;case 2:_n=null;break;case 3:case 5:break;default:throw Error(o(329))}if((n&62914560)===n&&(f=ac+300-cn(),10<f)){if(Qs(l,n,In,!qs),di(l,0,!0)!==0)break t;os=n,l.timeoutHandle=y_(By.bind(null,l,r,_n,lc,ud,n,In,Wr,Ba,qs,d,"Throttled",-0,0),f);break t}By(l,r,_n,lc,ud,n,In,Wr,Ba,qs,d,null,-0,0)}}break}while(!0);Di(e)}function By(e,n,r,l,f,d,y,b,N,z,K,$,B,F){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Wn},Oy(n,d,$);var ut=(d&62914560)===d?ac-cn():(d&4194048)===d?jy-cn():0;if(ut=Lb($,ut),ut!==null){os=d,e.cancelPendingCommit=ut(Xy.bind(null,e,n,d,r,l,f,y,b,N,K,$,null,B,F)),Qs(e,d,y,!z);return}}Xy(e,n,d,r,l,f,y,b,N)}function tb(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var f=r[l],d=f.getSnapshot;f=f.value;try{if(!wn(d(),f))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Qs(e,n,r,l){n&=~ld,n&=~Wr,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var f=n;0<f;){var d=31-be(f),y=1<<d;l[d]=-1,f&=~y}r!==0&&Rr(e,r,n)}function uc(){return($t&6)===0?(gl(0),!1):!0}function dd(){if(Ut!==null){if(Wt===0)var e=Ut.return;else e=Ut,$i=Fr=null,Nf(e),Oa=null,Jo=0,e=Ut;for(;e!==null;)_y(e.alternate,e),e=e.return;Ut=null}}function Ha(e,n){var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,Eb(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),os=0,dd(),re=e,Ut=r=Yi(e.current,null),Pt=n,Wt=0,Nn=null,qs=!1,za=$n(e,n),od=!1,Ba=In=ld=Wr=Hs=Ee=0,_n=ml=null,ud=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var f=31-be(l),d=1<<f;n|=e[f],l&=~d}return as=n,Iu(),r}function qy(e,n){Mt=null,H.H=al,n===Ma||n===Lu?(n=sg(),Wt=3):n===yf?(n=sg(),Wt=4):Wt=n===Gf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Nn=n,Ut===null&&(Ee=1,Ju(e,zn(n,e.current)))}function Hy(){var e=Cn.current;return e===null?!0:(Pt&4194048)===Pt?Fn===null:(Pt&62914560)===Pt||(Pt&536870912)!==0?e===Fn:!1}function Fy(){var e=H.H;return H.H=al,e===null?al:e}function Gy(){var e=H.A;return H.A=JT,e}function cc(){Ee=4,qs||(Pt&4194048)!==Pt&&Cn.current!==null||(za=!0),(Hs&134217727)===0&&(Wr&134217727)===0||re===null||Qs(re,Pt,In,!1)}function md(e,n,r){var l=$t;$t|=2;var f=Fy(),d=Gy();(re!==e||Pt!==n)&&(lc=null,Ha(e,n)),n=!1;var y=Ee;t:do try{if(Wt!==0&&Ut!==null){var b=Ut,N=Nn;switch(Wt){case 8:dd(),y=6;break t;case 3:case 2:case 9:case 6:Cn.current===null&&(n=!0);var z=Wt;if(Wt=0,Nn=null,Fa(e,b,N,z),r&&za){y=0;break t}break;default:z=Wt,Wt=0,Nn=null,Fa(e,b,N,z)}}eb(),y=Ee;break}catch(K){qy(e,K)}while(!0);return n&&e.shellSuspendCounter++,$i=Fr=null,$t=l,H.H=f,H.A=d,Ut===null&&(re=null,Pt=0,Iu()),y}function eb(){for(;Ut!==null;)Qy(Ut)}function nb(e,n){var r=$t;$t|=2;var l=Fy(),f=Gy();re!==e||Pt!==n?(lc=null,oc=cn()+500,Ha(e,n)):za=$n(e,n);t:do try{if(Wt!==0&&Ut!==null){n=Ut;var d=Nn;e:switch(Wt){case 1:Wt=0,Nn=null,Fa(e,n,d,1);break;case 2:case 9:if(ng(d)){Wt=0,Nn=null,Ky(n);break}n=function(){Wt!==2&&Wt!==9||re!==e||(Wt=7),Di(e)},d.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:ng(d)?(Wt=0,Nn=null,Ky(n)):(Wt=0,Nn=null,Fa(e,n,d,7));break;case 5:var y=null;switch(Ut.tag){case 26:y=Ut.memoizedState;case 5:case 27:var b=Ut;if(y?M_(y):b.stateNode.complete){Wt=0,Nn=null;var N=b.sibling;if(N!==null)Ut=N;else{var z=b.return;z!==null?(Ut=z,hc(z)):Ut=null}break e}}Wt=0,Nn=null,Fa(e,n,d,5);break;case 6:Wt=0,Nn=null,Fa(e,n,d,6);break;case 8:dd(),Ee=6;break t;default:throw Error(o(462))}}ib();break}catch(K){qy(e,K)}while(!0);return $i=Fr=null,H.H=l,H.A=f,$t=r,Ut!==null?0:(re=null,Pt=0,Iu(),Ee)}function ib(){for(;Ut!==null&&!Hh();)Qy(Ut)}function Qy(e){var n=gy(e.alternate,e,as);e.memoizedProps=e.pendingProps,n===null?hc(e):Ut=n}function Ky(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=cy(r,n,n.pendingProps,n.type,void 0,Pt);break;case 11:n=cy(r,n,n.pendingProps,n.type.render,n.ref,Pt);break;case 5:Nf(n);default:_y(r,n),n=Ut=Gp(n,as),n=gy(r,n,as)}e.memoizedProps=e.pendingProps,n===null?hc(e):Ut=n}function Fa(e,n,r,l){$i=Fr=null,Nf(n),Oa=null,Jo=0;var f=n.return;try{if(GT(e,f,n,r,Pt)){Ee=1,Ju(e,zn(r,e.current)),Ut=null;return}}catch(d){if(f!==null)throw Ut=f,d;Ee=1,Ju(e,zn(r,e.current)),Ut=null;return}n.flags&32768?(Ft||l===1?e=!0:za||(Pt&536870912)!==0?e=!1:(qs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Cn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yy(n,e)):hc(n)}function hc(e){var n=e;do{if((n.flags&32768)!==0){Yy(n,qs);return}e=n.return;var r=YT(n.alternate,n,as);if(r!==null){Ut=r;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);Ee===0&&(Ee=5)}function Yy(e,n){do{var r=XT(e.alternate,e);if(r!==null){r.flags&=32767,Ut=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=r}while(e!==null);Ee=6,Ut=null}function Xy(e,n,r,l,f,d,y,b,N){e.cancelPendingCommit=null;do fc();while(Le!==0);if(($t&6)!==0)throw Error(o(327));if(n!==null){if(n===e.current)throw Error(o(177));if(d=n.lanes|n.childLanes,d|=ef,Qh(e,r,d,y,b,N),e===re&&(Ut=re=null,Pt=0),qa=n,Gs=e,os=r,cd=d,hd=f,Ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,ob(bs,function(){return t_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,f=tt.p,tt.p=2,y=$t,$t|=4;try{$T(e,n,r)}finally{$t=y,tt.p=f,H.T=l}}Le=1,$y(),Zy(),Jy()}}function $y(){if(Le===1){Le=0;var e=Gs,n=qa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var f=$t;$t|=4;try{Iy(n,e);var d=xd,y=Up(e.containerInfo),b=d.focusedElem,N=d.selectionRange;if(y!==b&&b&&b.ownerDocument&&kp(b.ownerDocument.documentElement,b)){if(N!==null&&$h(b)){var z=N.start,K=N.end;if(K===void 0&&(K=z),"selectionStart"in b)b.selectionStart=z,b.selectionEnd=Math.min(K,b.value.length);else{var $=b.ownerDocument||document,B=$&&$.defaultView||window;if(B.getSelection){var F=B.getSelection(),ut=b.textContent.length,vt=Math.min(N.start,ut),se=N.end===void 0?vt:Math.min(N.end,ut);!F.extend&&vt>se&&(y=se,se=vt,vt=y);var U=Vp(b,vt),O=Vp(b,se);if(U&&O&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var P=$.createRange();P.setStart(U.node,U.offset),F.removeAllRanges(),vt>se?(F.addRange(P),F.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),F.addRange(P))}}}}for($=[],F=b;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof b.focus=="function"&&b.focus(),b=0;b<$.length;b++){var X=$[b];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}Sc=!!wd,xd=wd=null}finally{$t=f,tt.p=l,H.T=r}}e.current=n,Le=2}}function Zy(){if(Le===2){Le=0;var e=Gs,n=qa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var f=$t;$t|=4;try{wy(e,n.alternate,n)}finally{$t=f,tt.p=l,H.T=r}}Le=3}}function Jy(){if(Le===4||Le===3){Le=0,nu();var e=Gs,n=qa,r=os,l=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,qa=Gs=null,Wy(e,e.pendingLanes));var f=e.pendingLanes;if(f===0&&(Fs=null),Fi(r),n=n.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Xn,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,f=tt.p,tt.p=2,H.T=null;try{for(var d=e.onRecoverableError,y=0;y<l.length;y++){var b=l[y];d(b.value,{componentStack:b.stack})}}finally{H.T=n,tt.p=f}}(os&3)!==0&&fc(),Di(e),f=e.pendingLanes,(r&261930)!==0&&(f&42)!==0?e===fd?pl++:(pl=0,fd=e):pl=0,gl(0)}}function Wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,$o(n)))}function fc(){return $y(),Zy(),Jy(),t_()}function t_(){if(Le!==5)return!1;var e=Gs,n=cd;cd=0;var r=Fi(os),l=H.T,f=tt.p;try{tt.p=32>r?32:r,H.T=null,r=hd,hd=null;var d=Gs,y=os;if(Le=0,qa=Gs=null,os=0,($t&6)!==0)throw Error(o(331));var b=$t;if($t|=4,ky(d.current),My(d,d.current,y,r),$t=b,gl(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Xn,d)}catch{}return!0}finally{tt.p=f,H.T=l,Wy(e,n)}}function e_(e,n,r){n=zn(r,n),n=Ff(e.stateNode,n,2),e=Ls(e,n,2),e!==null&&(Cr(e,2),Di(e))}function te(e,n,r){if(e.tag===3)e_(e,e,r);else for(;n!==null;){if(n.tag===3){e_(n,e,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Fs===null||!Fs.has(l))){e=zn(r,e),r=ny(2),l=Ls(n,r,2),l!==null&&(iy(r,l,n,e),Cr(l,2),Di(l));break}}n=n.return}}function pd(e,n,r){var l=e.pingCache;if(l===null){l=e.pingCache=new WT;var f=new Set;l.set(n,f)}else f=l.get(n),f===void 0&&(f=new Set,l.set(n,f));f.has(r)||(od=!0,f.add(r),e=sb.bind(null,e,n,r),n.then(e,e))}function sb(e,n,r){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,re===e&&(Pt&r)===r&&(Ee===4||Ee===3&&(Pt&62914560)===Pt&&300>cn()-ac?($t&2)===0&&Ha(e,0):ld|=r,Ba===Pt&&(Ba=0)),Di(e)}function n_(e,n){n===0&&(n=lu()),e=Br(e,n),e!==null&&(Cr(e,n),Di(e))}function rb(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),n_(e,r)}function ab(e,n){var r=0;switch(e.tag){case 31:case 13:var l=e.stateNode,f=e.memoizedState;f!==null&&(r=f.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(o(314))}l!==null&&l.delete(n),n_(e,r)}function ob(e,n){return ye(e,n)}var dc=null,Ga=null,gd=!1,mc=!1,yd=!1,Ks=0;function Di(e){e!==Ga&&e.next===null&&(Ga===null?dc=Ga=e:Ga=Ga.next=e),mc=!0,gd||(gd=!0,ub())}function gl(e,n){if(!yd&&mc){yd=!0;do for(var r=!1,l=dc;l!==null;){if(e!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var y=l.suspendedLanes,b=l.pingedLanes;d=(1<<31-be(42|e)+1)-1,d&=f&~(y&~b),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(r=!0,a_(l,d))}else d=Pt,d=di(l,l===re?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||$n(l,d)||(r=!0,a_(l,d));l=l.next}while(r);yd=!1}}function lb(){i_()}function i_(){mc=gd=!1;var e=0;Ks!==0&&vb()&&(e=Ks);for(var n=cn(),r=null,l=dc;l!==null;){var f=l.next,d=s_(l,n);d===0?(l.next=null,r===null?dc=f:r.next=f,f===null&&(Ga=r)):(r=l,(e!==0||(d&3)!==0)&&(mc=!0)),l=f}Le!==0&&Le!==5||gl(e),Ks!==0&&(Ks=0)}function s_(e,n){for(var r=e.suspendedLanes,l=e.pingedLanes,f=e.expirationTimes,d=e.pendingLanes&-62914561;0<d;){var y=31-be(d),b=1<<y,N=f[y];N===-1?((b&r)===0||(b&l)!==0)&&(f[y]=Gh(b,n)):N<=n&&(e.expiredLanes|=b),d&=~b}if(n=re,r=Pt,r=di(e,e===n?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,r===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Ts(l),e.callbackNode=null,e.callbackPriority=0;if((r&3)===0||$n(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(l!==null&&Ts(l),Fi(r)){case 2:case 8:r=xo;break;case 32:r=bs;break;case 268435456:r=iu;break;default:r=bs}return l=r_.bind(null,e),r=ye(r,l),e.callbackPriority=n,e.callbackNode=r,n}return l!==null&&l!==null&&Ts(l),e.callbackPriority=2,e.callbackNode=null,2}function r_(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var r=e.callbackNode;if(fc()&&e.callbackNode!==r)return null;var l=Pt;return l=di(e,e===re?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(zy(e,l,n),s_(e,cn()),e.callbackNode!=null&&e.callbackNode===r?r_.bind(null,e):null)}function a_(e,n){if(fc())return null;zy(e,n,!0)}function ub(){Tb(function(){($t&6)!==0?ye(wo,lb):i_()})}function _d(){if(Ks===0){var e=Ia;e===0&&(e=hi,hi<<=1,(hi&261888)===0&&(hi=256)),Ks=e}return Ks}function o_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:pa(""+e)}function l_(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function cb(e,n,r,l,f){if(n==="submit"&&r&&r.stateNode===f){var d=o_((f[Be]||null).action),y=l.submitter;y&&(n=(n=y[Be]||null)?o_(n.formAction):y.getAttribute("formAction"),n!==null&&(d=n,y=null));var b=new Si("action","action",null,l,f);e.push({event:b,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Ks!==0){var N=y?l_(f,y):new FormData(f);Lf(r,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(b.preventDefault(),N=y?l_(f,y):new FormData(f),Lf(r,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var vd=0;vd<tf.length;vd++){var Ed=tf[vd],hb=Ed.toLowerCase(),fb=Ed[0].toUpperCase()+Ed.slice(1);si(hb,"on"+fb)}si(Pp,"onAnimationEnd"),si(zp,"onAnimationIteration"),si(Bp,"onAnimationStart"),si("dblclick","onDoubleClick"),si("focusin","onFocus"),si("focusout","onBlur"),si(RT,"onTransitionRun"),si(NT,"onTransitionStart"),si(IT,"onTransitionCancel"),si(qp,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(yl));function u_(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var l=e[r],f=l.event;l=l.listeners;t:{var d=void 0;if(n)for(var y=l.length-1;0<=y;y--){var b=l[y],N=b.instance,z=b.currentTarget;if(b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=z;try{d(f)}catch(K){Nu(K)}f.currentTarget=null,d=N}else for(y=0;y<l.length;y++){if(b=l[y],N=b.instance,z=b.currentTarget,b=b.listener,N!==d&&f.isPropagationStopped())break t;d=b,f.currentTarget=z;try{d(f)}catch(K){Nu(K)}f.currentTarget=null,d=N}}}}function jt(e,n){var r=n[ca];r===void 0&&(r=n[ca]=new Set);var l=e+"__bubble";r.has(l)||(c_(n,e,2,!1),r.add(l))}function Td(e,n,r){var l=0;n&&(l|=4),c_(r,e,l,n)}var pc="_reactListening"+Math.random().toString(36).slice(2);function bd(e){if(!e[pc]){e[pc]=!0,No.forEach(function(r){r!=="selectionchange"&&(db.has(r)||Td(r,!1,e),Td(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[pc]||(n[pc]=!0,Td("selectionchange",!1,n))}}function c_(e,n,r,l){switch(P_(n)){case 2:var f=Bb;break;case 8:f=qb;break;default:f=jd}r=f.bind(null,n,r,e),f=void 0,!Or||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(f=!0),l?f!==void 0?e.addEventListener(n,r,{capture:!0,passive:f}):e.addEventListener(n,r,!0):f!==void 0?e.addEventListener(n,r,{passive:f}):e.addEventListener(n,r,!1)}function Ad(e,n,r,l,f){var d=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var b=l.stateNode.containerInfo;if(b===f)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;b!==null;){if(y=yi(b),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=d=y;continue t}b=b.parentNode}}l=l.return}Rs(function(){var z=d,K=Un(r),$=[];t:{var B=Hp.get(e);if(B!==void 0){var F=Si,ut=e;switch(e){case"keypress":if(kr(r)===0)break t;case"keydown":case"keyup":F=xu;break;case"focusin":ut="focus",F=jr;break;case"focusout":ut="blur",F=jr;break;case"beforeblur":case"afterblur":F=jr;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=yu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=p;break;case Pp:case zp:case Bp:F=vu;break;case qp:F=A;break;case"scroll":case"scrollend":F=Bo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=Eu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ki;break;case"toggle":case"beforetoggle":F=Dt}var vt=(n&4)!==0,se=!vt&&(e==="scroll"||e==="scrollend"),U=vt?B!==null?B+"Capture":null:B;vt=[];for(var O=z,P;O!==null;){var X=O;if(P=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||P===null||U===null||(X=ti(O,U),X!=null&&vt.push(_l(O,X,P))),se)break;O=O.return}0<vt.length&&(B=new F(B,ut,null,r,K),$.push({event:B,listeners:vt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&r!==Lo&&(ut=r.relatedTarget||r.fromElement)&&(yi(ut)||ut[pi]))break t;if((F||B)&&(B=K.window===K?K:(B=K.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ut=r.relatedTarget||r.toElement,F=z,ut=ut?yi(ut):null,ut!==null&&(se=h(ut),vt=ut.tag,ut!==se||vt!==5&&vt!==27&&vt!==6)&&(ut=null)):(F=null,ut=z),F!==ut)){if(vt=qo,X="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(vt=Ki,X="onPointerLeave",U="onPointerEnter",O="pointer"),se=F==null?B:An(F),P=ut==null?B:An(ut),B=new vt(X,O+"leave",F,r,K),B.target=se,B.relatedTarget=P,X=null,yi(K)===z&&(vt=new vt(U,O+"enter",ut,r,K),vt.target=P,vt.relatedTarget=se,X=vt),se=X,F&&ut)e:{for(vt=mb,U=F,O=ut,P=0,X=U;X;X=vt(X))P++;X=0;for(var pt=O;pt;pt=vt(pt))X++;for(;0<P-X;)U=vt(U),P--;for(;0<X-P;)O=vt(O),X--;for(;P--;){if(U===O||O!==null&&U===O.alternate){vt=U;break e}U=vt(U),O=vt(O)}vt=null}else vt=null;F!==null&&h_($,B,F,vt,!1),ut!==null&&se!==null&&h_($,se,ut,vt,!0)}}t:{if(B=z?An(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Kt=Rp;else if(xp(B))if(Np)Kt=wT;else{Kt=AT;var ft=bT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&ma(z.elementType)&&(Kt=Rp):Kt=ST;if(Kt&&(Kt=Kt(e,z))){Cp($,Kt,r,K);break t}ft&&ft(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&ko(B,"number",B.value)}switch(ft=z?An(z):window,e){case"focusin":(xp(ft)||ft.contentEditable==="true")&&(ba=ft,Zh=z,Ko=null);break;case"focusout":Ko=Zh=ba=null;break;case"mousedown":Jh=!0;break;case"contextmenu":case"mouseup":case"dragend":Jh=!1,jp($,r,K);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":jp($,r,K)}var Ot;if(Xt)t:{switch(e){case"compositionstart":var zt="onCompositionStart";break t;case"compositionend":zt="onCompositionEnd";break t;case"compositionupdate":zt="onCompositionUpdate";break t}zt=void 0}else Ta?Lr(e,r)&&(zt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(zt="onCompositionStart");zt&&(Ci&&r.locale!=="ko"&&(Ta||zt!=="onCompositionStart"?zt==="onCompositionEnd"&&Ta&&(Ot=zo()):(Ai=K,Po="value"in Ai?Ai.value:Ai.textContent,Ta=!0)),ft=gc(z,zt),0<ft.length&&(zt=new xi(zt,e,null,r,K),$.push({event:zt,listeners:ft}),Ot?zt.data=Ot:(Ot=Ea(r),Ot!==null&&(zt.data=Ot)))),(Ot=Ln?_T(e,r):vT(e,r))&&(zt=gc(z,"onBeforeInput"),0<zt.length&&(ft=new xi("onBeforeInput","beforeinput",null,r,K),$.push({event:ft,listeners:zt}),ft.data=Ot)),cb($,e,z,r,K)}u_($,n)})}function _l(e,n,r){return{instance:e,listener:n,currentTarget:r}}function gc(e,n){for(var r=n+"Capture",l=[];e!==null;){var f=e,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ti(e,r),f!=null&&l.unshift(_l(e,f,d)),f=ti(e,n),f!=null&&l.push(_l(e,f,d))),e.tag===3)return l;e=e.return}return[]}function mb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h_(e,n,r,l,f){for(var d=n._reactName,y=[];r!==null&&r!==l;){var b=r,N=b.alternate,z=b.stateNode;if(b=b.tag,N!==null&&N===l)break;b!==5&&b!==26&&b!==27||z===null||(N=z,f?(z=ti(r,d),z!=null&&y.unshift(_l(r,z,N))):f||(z=ti(r,d),z!=null&&y.push(_l(r,z,N)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var pb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function f_(e){return(typeof e=="string"?e:""+e).replace(pb,`
`).replace(gb,"")}function d_(e,n){return n=f_(n),f_(e)===n}function ie(e,n,r,l,f,d){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||mn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&mn(e,""+l);break;case"className":Sn(e,"class",l);break;case"tabIndex":Sn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(e,r,l);break;case"style":jo(e,l,d);break;case"data":if(n!=="object"){Sn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=pa(""+l),e.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(r==="formAction"?(n!=="input"&&ie(e,n,"name",f.name,f,null),ie(e,n,"formEncType",f.formEncType,f,null),ie(e,n,"formMethod",f.formMethod,f,null),ie(e,n,"formTarget",f.formTarget,f,null)):(ie(e,n,"encType",f.encType,f,null),ie(e,n,"method",f.method,f,null),ie(e,n,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(r);break}l=pa(""+l),e.setAttribute(r,l);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}r=pa(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""+l):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":l===!0?e.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(r,l):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(r,l):e.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(r):e.setAttribute(r,l);break;case"popover":jt("beforetoggle",e),jt("toggle",e),fa(e,"popover",l);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":fa(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=gu.get(r)||r,fa(e,r,l))}}function Sd(e,n,r,l,f,d){switch(r){case"style":jo(e,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(o(61));if(r=l.__html,r!=null){if(f.children!=null)throw Error(o(60));e.innerHTML=r}}break;case"children":typeof l=="string"?mn(e,l):(typeof l=="number"||typeof l=="bigint")&&mn(e,""+l);break;case"onScroll":l!=null&&jt("scroll",e);break;case"onScrollEnd":l!=null&&jt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Wn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Io.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(f=r.endsWith("Capture"),n=r.slice(2,f?r.length-7:void 0),d=e[Be]||null,d=d!=null?d[r]:null,typeof d=="function"&&e.removeEventListener(n,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,l,f);break t}r in e?e[r]=l:l===!0?e.setAttribute(r,""):fa(e,r,l)}}}function Je(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":jt("error",e),jt("load",e);var l=!1,f=!1,d;for(d in r)if(r.hasOwnProperty(d)){var y=r[d];if(y!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:ie(e,n,d,y,r,null)}}f&&ie(e,n,"srcSet",r.srcSet,r,null),l&&ie(e,n,"src",r.src,r,null);return;case"input":jt("invalid",e);var b=d=y=f=null,N=null,z=null;for(l in r)if(r.hasOwnProperty(l)){var K=r[l];if(K!=null)switch(l){case"name":f=K;break;case"type":y=K;break;case"checked":N=K;break;case"defaultChecked":z=K;break;case"value":d=K;break;case"defaultValue":b=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(o(137,n));break;default:ie(e,n,l,K,r,null)}}du(e,d,b,N,z,y,f,!1);return;case"select":jt("invalid",e),l=y=d=null;for(f in r)if(r.hasOwnProperty(f)&&(b=r[f],b!=null))switch(f){case"value":d=b;break;case"defaultValue":y=b;break;case"multiple":l=b;default:ie(e,n,f,b,r,null)}n=d,r=y,e.multiple=!!l,n!=null?Ss(e,!!l,n,!1):r!=null&&Ss(e,!!l,r,!0);return;case"textarea":jt("invalid",e),d=f=l=null;for(y in r)if(r.hasOwnProperty(y)&&(b=r[y],b!=null))switch(y){case"value":l=b;break;case"defaultValue":f=b;break;case"children":d=b;break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(o(91));break;default:ie(e,n,y,b,r,null)}ws(e,l,f,d);return;case"option":for(N in r)r.hasOwnProperty(N)&&(l=r[N],l!=null)&&(N==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ie(e,n,N,l,r,null));return;case"dialog":jt("beforetoggle",e),jt("toggle",e),jt("cancel",e),jt("close",e);break;case"iframe":case"object":jt("load",e);break;case"video":case"audio":for(l=0;l<yl.length;l++)jt(yl[l],e);break;case"image":jt("error",e),jt("load",e);break;case"details":jt("toggle",e);break;case"embed":case"source":case"link":jt("error",e),jt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in r)if(r.hasOwnProperty(z)&&(l=r[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,n));default:ie(e,n,z,l,r,null)}return;default:if(ma(n)){for(K in r)r.hasOwnProperty(K)&&(l=r[K],l!==void 0&&Sd(e,n,K,l,r,void 0));return}}for(b in r)r.hasOwnProperty(b)&&(l=r[b],l!=null&&ie(e,n,b,l,r,null))}function yb(e,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,y=null,b=null,N=null,z=null,K=null;for(F in r){var $=r[F];if(r.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=$;default:l.hasOwnProperty(F)||ie(e,n,F,null,l,$)}}for(var B in l){var F=l[B];if($=r[B],l.hasOwnProperty(B)&&(F!=null||$!=null))switch(B){case"type":d=F;break;case"name":f=F;break;case"checked":z=F;break;case"defaultChecked":K=F;break;case"value":y=F;break;case"defaultValue":b=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(o(137,n));break;default:F!==$&&ie(e,n,B,F,l,$)}}da(e,y,b,N,z,K,d,f);return;case"select":F=y=b=B=null;for(d in r)if(N=r[d],r.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":F=N;default:l.hasOwnProperty(d)||ie(e,n,d,null,l,N)}for(f in l)if(d=l[f],N=r[f],l.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":B=d;break;case"defaultValue":b=d;break;case"multiple":y=d;default:d!==N&&ie(e,n,f,d,l,N)}n=b,r=y,l=F,B!=null?Ss(e,!!r,B,!1):!!l!=!!r&&(n!=null?Ss(e,!!r,n,!0):Ss(e,!!r,r?[]:"",!1));return;case"textarea":F=B=null;for(b in r)if(f=r[b],r.hasOwnProperty(b)&&f!=null&&!l.hasOwnProperty(b))switch(b){case"value":break;case"children":break;default:ie(e,n,b,null,l,f)}for(y in l)if(f=l[y],d=r[y],l.hasOwnProperty(y)&&(f!=null||d!=null))switch(y){case"value":B=f;break;case"defaultValue":F=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(o(91));break;default:f!==d&&ie(e,n,y,f,l,d)}mu(e,B,F);return;case"option":for(var ut in r)B=r[ut],r.hasOwnProperty(ut)&&B!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:ie(e,n,ut,null,l,B));for(N in l)B=l[N],F=r[N],l.hasOwnProperty(N)&&B!==F&&(B!=null||F!=null)&&(N==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":ie(e,n,N,B,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var vt in r)B=r[vt],r.hasOwnProperty(vt)&&B!=null&&!l.hasOwnProperty(vt)&&ie(e,n,vt,null,l,B);for(z in l)if(B=l[z],F=r[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(o(137,n));break;default:ie(e,n,z,B,l,F)}return;default:if(ma(n)){for(var se in r)B=r[se],r.hasOwnProperty(se)&&B!==void 0&&!l.hasOwnProperty(se)&&Sd(e,n,se,void 0,l,B);for(K in l)B=l[K],F=r[K],!l.hasOwnProperty(K)||B===F||B===void 0&&F===void 0||Sd(e,n,K,B,l,F);return}}for(var U in r)B=r[U],r.hasOwnProperty(U)&&B!=null&&!l.hasOwnProperty(U)&&ie(e,n,U,null,l,B);for($ in l)B=l[$],F=r[$],!l.hasOwnProperty($)||B===F||B==null&&F==null||ie(e,n,$,B,l,F)}function m_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _b(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,r=performance.getEntriesByType("resource"),l=0;l<r.length;l++){var f=r[l],d=f.transferSize,y=f.initiatorType,b=f.duration;if(d&&b&&m_(y)){for(y=0,b=f.responseEnd,l+=1;l<r.length;l++){var N=r[l],z=N.startTime;if(z>b)break;var K=N.transferSize,$=N.initiatorType;K&&m_($)&&(N=N.responseEnd,y+=K*(N<b?1:(b-z)/(N-z)))}if(--l,n+=8*(d+y)/(f.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var wd=null,xd=null;function yc(e){return e.nodeType===9?e:e.ownerDocument}function p_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Cd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rd=null;function vb(){var e=window.event;return e&&e.type==="popstate"?e===Rd?!1:(Rd=e,!0):(Rd=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(e){return __.resolve(null).then(e).catch(bb)}:y_;function bb(e){setTimeout(function(){throw e})}function Ys(e){return e==="head"}function v_(e,n){var r=n,l=0;do{var f=r.nextSibling;if(e.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"||r==="/&"){if(l===0){e.removeChild(f),Xa(n);return}l--}else if(r==="$"||r==="$?"||r==="$~"||r==="$!"||r==="&")l++;else if(r==="html")vl(e.ownerDocument.documentElement);else if(r==="head"){r=e.ownerDocument.head,vl(r);for(var d=r.firstChild;d;){var y=d.nextSibling,b=d.nodeName;d[gi]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&d.rel.toLowerCase()==="stylesheet"||r.removeChild(d),d=y}}else r==="body"&&vl(e.ownerDocument.body);r=f}while(r);Xa(n)}function E_(e,n){var r=e;e=0;do{var l=r.nextSibling;if(r.nodeType===1?n?(r._stashedDisplay=r.style.display,r.style.display="none"):(r.style.display=r._stashedDisplay||"",r.getAttribute("style")===""&&r.removeAttribute("style")):r.nodeType===3&&(n?(r._stashedText=r.nodeValue,r.nodeValue=""):r.nodeValue=r._stashedText||""),l&&l.nodeType===8)if(r=l.data,r==="/$"){if(e===0)break;e--}else r!=="$"&&r!=="$?"&&r!=="$~"&&r!=="$!"||e++;r=l}while(r)}function Nd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Nd(r),ha(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function Ab(e,n,r,l){for(;e.nodeType===1;){var f=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[gi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(d=e.getAttribute("rel"),d==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(d!==f.rel||e.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||e.getAttribute("title")!==(f.title==null?null:f.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(d=e.getAttribute("src"),(d!==(f.src==null?null:f.src)||e.getAttribute("type")!==(f.type==null?null:f.type)||e.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&e.getAttribute("name")===d)return e}else return e;if(e=Gn(e.nextSibling),e===null)break}return null}function Sb(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Gn(e.nextSibling),e===null))return null;return e}function T_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Gn(e.nextSibling),e===null))return null;return e}function Id(e){return e.data==="$?"||e.data==="$~"}function Dd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function wb(e,n){var r=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||r.readyState!=="loading")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Gn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Md=null;function b_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"||r==="/&"){if(n===0)return Gn(e.nextSibling);n--}else r!=="$"&&r!=="$!"&&r!=="$?"&&r!=="$~"&&r!=="&"||n++}e=e.nextSibling}return null}function A_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"){if(n===0)return e;n--}else r!=="/$"&&r!=="/&"||n++}e=e.previousSibling}return null}function S_(e,n,r){switch(n=yc(r),e){case"html":if(e=n.documentElement,!e)throw Error(o(452));return e;case"head":if(e=n.head,!e)throw Error(o(453));return e;case"body":if(e=n.body,!e)throw Error(o(454));return e;default:throw Error(o(451))}}function vl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ha(e)}var Qn=new Map,w_=new Set;function _c(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ls=tt.d;tt.d={f:xb,r:Cb,D:Rb,C:Nb,L:Ib,m:Db,X:Ob,S:Mb,M:Vb};function xb(){var e=ls.f(),n=uc();return e||n}function Cb(e){var n=kn(e);n!==null&&n.tag===5&&n.type==="form"?qg(n):ls.r(e)}var Qa=typeof document>"u"?null:document;function x_(e,n,r){var l=Qa;if(l&&typeof n=="string"&&n){var f=dn(n);f='link[rel="'+e+'"][href="'+f+'"]',typeof r=="string"&&(f+='[crossorigin="'+r+'"]'),w_.has(f)||(w_.add(f),e={rel:e,crossOrigin:r,href:n},l.querySelector(f)===null&&(n=l.createElement("link"),Je(n,"link",e),Ie(n),l.head.appendChild(n)))}}function Rb(e){ls.D(e),x_("dns-prefetch",e,null)}function Nb(e,n){ls.C(e,n),x_("preconnect",e,n)}function Ib(e,n,r){ls.L(e,n,r);var l=Qa;if(l&&e&&n){var f='link[rel="preload"][as="'+dn(n)+'"]';n==="image"&&r&&r.imageSrcSet?(f+='[imagesrcset="'+dn(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(f+='[imagesizes="'+dn(r.imageSizes)+'"]')):f+='[href="'+dn(e)+'"]';var d=f;switch(n){case"style":d=Ka(e);break;case"script":d=Ya(e)}Qn.has(d)||(e=x({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),Qn.set(d,e),l.querySelector(f)!==null||n==="style"&&l.querySelector(El(d))||n==="script"&&l.querySelector(Tl(d))||(n=l.createElement("link"),Je(n,"link",e),Ie(n),l.head.appendChild(n)))}}function Db(e,n){ls.m(e,n);var r=Qa;if(r&&e){var l=n&&typeof n.as=="string"?n.as:"script",f='link[rel="modulepreload"][as="'+dn(l)+'"][href="'+dn(e)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Ya(e)}if(!Qn.has(d)&&(e=x({rel:"modulepreload",href:e},n),Qn.set(d,e),r.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Tl(d)))return}l=r.createElement("link"),Je(l,"link",e),Ie(l),r.head.appendChild(l)}}}function Mb(e,n,r){ls.S(e,n,r);var l=Qa;if(l&&e){var f=_i(l).hoistableStyles,d=Ka(e);n=n||"default";var y=f.get(d);if(!y){var b={loading:0,preload:null};if(y=l.querySelector(El(d)))b.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},r),(r=Qn.get(d))&&Od(e,r);var N=y=l.createElement("link");Ie(N),Je(N,"link",e),N._p=new Promise(function(z,K){N.onload=z,N.onerror=K}),N.addEventListener("load",function(){b.loading|=1}),N.addEventListener("error",function(){b.loading|=2}),b.loading|=4,vc(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:b},f.set(d,y)}}}function Ob(e,n){ls.X(e,n);var r=Qa;if(r&&e){var l=_i(r).hoistableScripts,f=Ya(e),d=l.get(f);d||(d=r.querySelector(Tl(f)),d||(e=x({src:e,async:!0},n),(n=Qn.get(f))&&Vd(e,n),d=r.createElement("script"),Ie(d),Je(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function Vb(e,n){ls.M(e,n);var r=Qa;if(r&&e){var l=_i(r).hoistableScripts,f=Ya(e),d=l.get(f);d||(d=r.querySelector(Tl(f)),d||(e=x({src:e,async:!0,type:"module"},n),(n=Qn.get(f))&&Vd(e,n),d=r.createElement("script"),Ie(d),Je(d,"link",e),r.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function C_(e,n,r,l){var f=(f=Rt.current)?_c(f):null;if(!f)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=Ka(r.href),r=_i(f).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=Ka(r.href);var d=_i(f).hoistableStyles,y=d.get(e);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(e,y),(d=f.querySelector(El(e)))&&!d._p&&(y.instance=d,y.state.loading=5),Qn.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},Qn.set(e,r),d||kb(f,e,r,y.state))),n&&l===null)throw Error(o(528,""));return y}if(n&&l!==null)throw Error(o(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ya(r),r=_i(f).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Ka(e){return'href="'+dn(e)+'"'}function El(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function kb(e,n,r,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Je(n,"link",r),Ie(n),e.head.appendChild(n))}function Ya(e){return'[src="'+dn(e)+'"]'}function Tl(e){return"script[async]"+e}function N_(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+dn(r.href)+'"]');if(l)return n.instance=l,Ie(l),l;var f=x({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),Je(l,"style",f),vc(l,r.precedence,e),n.instance=l;case"stylesheet":f=Ka(r.href);var d=e.querySelector(El(f));if(d)return n.state.loading|=4,n.instance=d,Ie(d),d;l=R_(r),(f=Qn.get(f))&&Od(l,f),d=(e.ownerDocument||e).createElement("link"),Ie(d);var y=d;return y._p=new Promise(function(b,N){y.onload=b,y.onerror=N}),Je(d,"link",l),n.state.loading|=4,vc(d,r.precedence,e),n.instance=d;case"script":return d=Ya(r.src),(f=e.querySelector(Tl(d)))?(n.instance=f,Ie(f),f):(l=r,(f=Qn.get(d))&&(l=x({},r),Vd(l,f)),e=e.ownerDocument||e,f=e.createElement("script"),Ie(f),Je(f,"link",l),e.head.appendChild(f),n.instance=f);case"void":return null;default:throw Error(o(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,vc(l,r.precedence,e));return n.instance}function vc(e,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,y=0;y<l.length;y++){var b=l[y];if(b.dataset.precedence===n)d=b;else if(d!==f)break}d?d.parentNode.insertBefore(e,d.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function Od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ec=null;function I_(e,n,r){if(Ec===null){var l=new Map,f=Ec=new Map;f.set(r,l)}else f=Ec,l=f.get(r),l||(l=new Map,f.set(r,l));if(l.has(e))return l;for(l.set(e,null),r=r.getElementsByTagName(e),f=0;f<r.length;f++){var d=r[f];if(!(d[gi]||d[Ne]||e==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var y=d.getAttribute(n)||"";y=e+y;var b=l.get(y);b?b.push(d):l.set(y,[d])}}return l}function D_(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function Ub(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function jb(e,n,r,l){if(r.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=Ka(l.href),d=n.querySelector(El(f));if(d){n=d._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Tc.bind(e),n.then(e,e)),r.state.loading|=4,r.instance=d,Ie(d);return}d=n.ownerDocument||n,l=R_(l),(f=Qn.get(f))&&Od(l,f),d=d.createElement("link"),Ie(d);var y=d;y._p=new Promise(function(b,N){y.onload=b,y.onerror=N}),Je(d,"link",l),r.instance=d}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(r,n),(n=r.state.preload)&&(r.state.loading&3)===0&&(e.count++,r=Tc.bind(e),n.addEventListener("load",r),n.addEventListener("error",r))}}var kd=0;function Lb(e,n){return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(r){var l=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var d=e.unsuspend;e.unsuspend=null,d()}},6e4+n);0<e.imgBytes&&kd===0&&(kd=62500*_b());var f=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend)){var d=e.unsuspend;e.unsuspend=null,d()}},(e.imgBytes>kd?50:800)+n);return e.unsuspend=r,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(f)}}:null}function Tc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var bc=null;function Ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,bc=new Map,n.forEach(Pb,e),bc=null,Tc.call(e))}function Pb(e,n){if(!(n.state.loading&4)){var r=bc.get(e);if(r)var l=r.get(null);else{r=new Map,bc.set(e,r);for(var f=e.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var y=f[d];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}f=n.instance,y=f.getAttribute("data-precedence"),d=r.get(y)||l,d===l&&r.set(null,f),r.set(y,f),this.count++,l=Tc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(f,e.firstChild)),n.state.loading|=4}}var bl={$$typeof:ht,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function zb(e,n,r,l,f,d,y,b,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=mi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mi(0),this.hiddenUpdates=mi(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function O_(e,n,r,l,f,d,y,b,N,z,K,$){return e=new zb(e,n,r,y,N,z,K,$,b),n=1,d===!0&&(n|=24),d=xn(3,null,null,n),e.current=d,d.stateNode=e,n=mf(),n.refCount++,e.pooledCache=n,n.refCount++,d.memoizedState={element:l,isDehydrated:r,cache:n},_f(d),e}function V_(e){return e?(e=wa,e):wa}function k_(e,n,r,l,f,d){f=V_(f),l.context===null?l.context=f:l.pendingContext=f,l=js(n),l.payload={element:r},d=d===void 0?null:d,d!==null&&(l.callback=d),r=Ls(e,l,n),r!==null&&(vn(r,e,n),tl(r,e,n))}function U_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Ud(e,n){U_(e,n),(e=e.alternate)&&U_(e,n)}function j_(e){if(e.tag===13||e.tag===31){var n=Br(e,67108864);n!==null&&vn(n,e,67108864),Ud(e,67108864)}}function L_(e){if(e.tag===13||e.tag===31){var n=Dn();n=Nr(n);var r=Br(e,n);r!==null&&vn(r,e,n),Ud(e,n)}}var Sc=!0;function Bb(e,n,r,l){var f=H.T;H.T=null;var d=tt.p;try{tt.p=2,jd(e,n,r,l)}finally{tt.p=d,H.T=f}}function qb(e,n,r,l){var f=H.T;H.T=null;var d=tt.p;try{tt.p=8,jd(e,n,r,l)}finally{tt.p=d,H.T=f}}function jd(e,n,r,l){if(Sc){var f=Ld(l);if(f===null)Ad(e,n,l,wc,r),z_(e,l);else if(Fb(f,e,n,r,l))l.stopPropagation();else if(z_(e,l),n&4&&-1<Hb.indexOf(e)){for(;f!==null;){var d=kn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var y=fi(d.pendingLanes);if(y!==0){var b=d;for(b.pendingLanes|=2,b.entangledLanes|=2;y;){var N=1<<31-be(y);b.entanglements[1]|=N,y&=~N}Di(d),($t&6)===0&&(oc=cn()+500,gl(0))}}break;case 31:case 13:b=Br(d,2),b!==null&&vn(b,d,2),uc(),Ud(d,2)}if(d=Ld(l),d===null&&Ad(e,n,l,wc,r),d===f)break;f=d}f!==null&&l.stopPropagation()}else Ad(e,n,l,null,r)}}function Ld(e){return e=Un(e),Pd(e)}var wc=null;function Pd(e){if(wc=null,e=yi(e),e!==null){var n=h(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=m(n),e!==null)return e;e=null}else if(r===31){if(e=g(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wc=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(wr()){case wo:return 2;case xo:return 8;case bs:case Fh:return 32;case iu:return 268435456;default:return 32}default:return 32}}var zd=!1,Xs=null,$s=null,Zs=null,Al=new Map,Sl=new Map,Js=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,n){switch(e){case"focusin":case"focusout":Xs=null;break;case"dragenter":case"dragleave":$s=null;break;case"mouseover":case"mouseout":Zs=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sl.delete(n.pointerId)}}function wl(e,n,r,l,f,d){return e===null||e.nativeEvent!==d?(e={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},n!==null&&(n=kn(n),n!==null&&j_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,f!==null&&n.indexOf(f)===-1&&n.push(f),e)}function Fb(e,n,r,l,f){switch(n){case"focusin":return Xs=wl(Xs,e,n,r,l,f),!0;case"dragenter":return $s=wl($s,e,n,r,l,f),!0;case"mouseover":return Zs=wl(Zs,e,n,r,l,f),!0;case"pointerover":var d=f.pointerId;return Al.set(d,wl(Al.get(d)||null,e,n,r,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Sl.set(d,wl(Sl.get(d)||null,e,n,r,l,f)),!0}return!1}function B_(e){var n=yi(e.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=m(r),n!==null){e.blockedOn=n,Zn(e.priority,function(){L_(r)});return}}else if(n===31){if(n=g(r),n!==null){e.blockedOn=n,Zn(e.priority,function(){L_(r)});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function xc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Ld(e.nativeEvent);if(r===null){r=e.nativeEvent;var l=new r.constructor(r.type,r);Lo=l,r.target.dispatchEvent(l),Lo=null}else return n=kn(r),n!==null&&j_(n),e.blockedOn=r,!1;n.shift()}return!0}function q_(e,n,r){xc(e)&&r.delete(n)}function Gb(){zd=!1,Xs!==null&&xc(Xs)&&(Xs=null),$s!==null&&xc($s)&&($s=null),Zs!==null&&xc(Zs)&&(Zs=null),Al.forEach(q_),Sl.forEach(q_)}function Cc(e,n){e.blockedOn===n&&(e.blockedOn=null,zd||(zd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Gb)))}var Rc=null;function H_(e){Rc!==e&&(Rc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){Rc===e&&(Rc=null);for(var n=0;n<e.length;n+=3){var r=e[n],l=e[n+1],f=e[n+2];if(typeof l!="function"){if(Pd(l||r)===null)continue;break}var d=kn(r);d!==null&&(e.splice(n,3),n-=3,Lf(d,{pending:!0,data:f,method:r.method,action:l},l,f))}}))}function Xa(e){function n(N){return Cc(N,e)}Xs!==null&&Cc(Xs,e),$s!==null&&Cc($s,e),Zs!==null&&Cc(Zs,e),Al.forEach(n),Sl.forEach(n);for(var r=0;r<Js.length;r++){var l=Js[r];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Js.length&&(r=Js[0],r.blockedOn===null);)B_(r),r.blockedOn===null&&Js.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var f=r[l],d=r[l+1],y=f[Be]||null;if(typeof d=="function")y||H_(r);else if(y){var b=null;if(d&&d.hasAttribute("formAction")){if(f=d,y=d[Be]||null)b=y.formAction;else if(Pd(f)!==null)continue}else b=y.action;typeof b=="function"?r[l+1]=b:(r.splice(l,3),l-=3),H_(r)}}}function F_(){function e(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(y){return f=y})},focusReset:"manual",scroll:"manual"})}function n(){f!==null&&(f(),f=null),l||setTimeout(r,20)}function r(){if(!l&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,f=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(r,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),f!==null&&(f(),f=null)}}}function Bd(e){this._internalRoot=e}Nc.prototype.render=Bd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(o(409));var r=n.current,l=Dn();k_(r,l,e,n,null,null)},Nc.prototype.unmount=Bd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;k_(e.current,2,null,e,null,null),uc(),n[pi]=null}};function Nc(e){this._internalRoot=e}Nc.prototype.unstable_scheduleHydration=function(e){if(e){var n=uu();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Js.length&&n!==0&&n<Js[r].priority;r++);Js.splice(r,0,e),r===0&&B_(e)}};var G_=t.version;if(G_!=="19.2.3")throw Error(o(527,G_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(o(188)):(e=Object.keys(e).join(","),Error(o(268,e)));return e=_(n),e=e!==null?S(e):null,e=e===null?null:e.stateNode,e};var Qb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{Xn=Ic.inject(Qb),Ke=Ic}catch{}}return Cl.createRoot=function(e,n){if(!u(e))throw Error(o(299));var r=!1,l="",f=Jg,d=Wg,y=ty;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(f=n.onUncaughtError),n.onCaughtError!==void 0&&(d=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=O_(e,1,!1,null,null,r,l,null,f,d,y,F_),e[pi]=n.current,bd(e),new Bd(n)},Cl.hydrateRoot=function(e,n,r){if(!u(e))throw Error(o(299));var l=!1,f="",d=Jg,y=Wg,b=ty,N=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(f=r.identifierPrefix),r.onUncaughtError!==void 0&&(d=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(b=r.onRecoverableError),r.formState!==void 0&&(N=r.formState)),n=O_(e,1,!0,n,r??null,l,f,N,d,y,b,F_),n.context=V_(null),r=n.current,l=Dn(),l=Nr(l),f=js(l),f.callback=null,Ls(r,f,l),r=l,n.current.lanes=r,Cr(n,r),Di(n),e[pi]=n.current,bd(e),new Nc(n)},Cl.version="19.2.3",Cl}var ev;function nA(){if(ev)return Fd.exports;ev=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Fd.exports=eA(),Fd.exports}var iA=nA();const sA=()=>{};var nv={};const U0=function(a){const t=[];let i=0;for(let o=0;o<a.length;o++){let u=a.charCodeAt(o);u<128?t[i++]=u:u<2048?(t[i++]=u>>6|192,t[i++]=u&63|128):(u&64512)===55296&&o+1<a.length&&(a.charCodeAt(o+1)&64512)===56320?(u=65536+((u&1023)<<10)+(a.charCodeAt(++o)&1023),t[i++]=u>>18|240,t[i++]=u>>12&63|128,t[i++]=u>>6&63|128,t[i++]=u&63|128):(t[i++]=u>>12|224,t[i++]=u>>6&63|128,t[i++]=u&63|128)}return t},rA=function(a){const t=[];let i=0,o=0;for(;i<a.length;){const u=a[i++];if(u<128)t[o++]=String.fromCharCode(u);else if(u>191&&u<224){const h=a[i++];t[o++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=a[i++],m=a[i++],g=a[i++],v=((u&7)<<18|(h&63)<<12|(m&63)<<6|g&63)-65536;t[o++]=String.fromCharCode(55296+(v>>10)),t[o++]=String.fromCharCode(56320+(v&1023))}else{const h=a[i++],m=a[i++];t[o++]=String.fromCharCode((u&15)<<12|(h&63)<<6|m&63)}}return t.join("")},j0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,o=[];for(let u=0;u<a.length;u+=3){const h=a[u],m=u+1<a.length,g=m?a[u+1]:0,v=u+2<a.length,_=v?a[u+2]:0,S=h>>2,x=(h&3)<<4|g>>4;let V=(g&15)<<2|_>>6,G=_&63;v||(G=64,m||(V=64)),o.push(i[S],i[x],i[V],i[G])}return o.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(U0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):rA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,o=[];for(let u=0;u<a.length;){const h=i[a.charAt(u++)],g=u<a.length?i[a.charAt(u)]:0;++u;const _=u<a.length?i[a.charAt(u)]:64;++u;const x=u<a.length?i[a.charAt(u)]:64;if(++u,h==null||g==null||_==null||x==null)throw new aA;const V=h<<2|g>>4;if(o.push(V),_!==64){const G=g<<4&240|_>>2;if(o.push(G),x!==64){const et=_<<6&192|x;o.push(et)}}}return o},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class aA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const oA=function(a){const t=U0(a);return j0.encodeByteArray(t,!0)},$c=function(a){return oA(a).replace(/\./g,"")},L0=function(a){try{return j0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function lA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uA=()=>lA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof nv>"u")return;const a=nv.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},hA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&L0(a[1]);return t&&JSON.parse(t)},_h=()=>{try{return sA()||uA()||cA()||hA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},P0=a=>_h()?.emulatorHosts?.[a],fA=a=>{const t=P0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const o=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),o]:[t.substring(0,i),o]},z0=()=>_h()?.config,B0=a=>_h()?.[`_${a}`];class dA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,o)=>{i?this.reject(i):this.resolve(o),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,o))}}}function go(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(a){return(await fetch(a,{credentials:"include"})).ok}function mA(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},o=t||"demo-project",u=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const m={iss:`https://securetoken.google.com/${o}`,aud:o,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}},...a};return[$c(JSON.stringify(i)),$c(JSON.stringify(m)),""].join(".")}const Ml={};function pA(){const a={prod:[],emulator:[]};for(const t of Object.keys(Ml))Ml[t]?a.emulator.push(t):a.prod.push(t);return a}function gA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let iv=!1;function H0(a,t){if(typeof window>"u"||typeof document>"u"||!go(window.location.host)||Ml[a]===t||Ml[a]||iv)return;Ml[a]=t;function i(V){return`__firebase__banner__${V}`}const o="__firebase__banner",h=pA().prod.length>0;function m(){const V=document.getElementById(o);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function v(V,G){V.setAttribute("width","24"),V.setAttribute("id",G),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{iv=!0,m()},V}function S(V,G){V.setAttribute("id",G),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function x(){const V=gA(o),G=i("text"),et=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),J=document.getElementById(it)||document.createElement("a"),nt=i("preprendIcon"),gt=document.getElementById(nt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ht=V.element;g(ht),S(J,it);const mt=_();v(gt,nt),ht.append(gt,et,J,mt),document.body.appendChild(ht)}h?(et.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,et.innerText="Preview backend running in this workspace."),et.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function un(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(un())}function _A(){const a=_h()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EA(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function TA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bA(){const a=un();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function AA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function wA(){return new Promise((a,t)=>{try{let i=!0;const o="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(o);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(o),a(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{t(u.error?.message||"")}}catch(i){t(i)}})}const xA="FirebaseError";class ys extends Error{constructor(t,i,o){super(i),this.code=t,this.customData=o,this.name=xA,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Gl.prototype.create)}}class Gl{constructor(t,i,o){this.service=t,this.serviceName=i,this.errors=o}create(t,...i){const o=i[0]||{},u=`${this.service}/${t}`,h=this.errors[t],m=h?CA(h,o):"Error",g=`${this.serviceName}: ${m} (${u}).`;return new ys(u,g,o)}}function CA(a,t){return a.replace(RA,(i,o)=>{const u=t[o];return u!=null?String(u):`<${o}?>`})}const RA=/\{\$([^}]+)}/g;function NA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function hs(a,t){if(a===t)return!0;const i=Object.keys(a),o=Object.keys(t);for(const u of i){if(!o.includes(u))return!1;const h=a[u],m=t[u];if(sv(h)&&sv(m)){if(!hs(h,m))return!1}else if(h!==m)return!1}for(const u of o)if(!i.includes(u))return!1;return!0}function sv(a){return a!==null&&typeof a=="object"}function Ql(a){const t=[];for(const[i,o]of Object.entries(a))Array.isArray(o)?o.forEach(u=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(o));return t.length?"&"+t.join("&"):""}function IA(a,t){const i=new DA(a,t);return i.subscribe.bind(i)}class DA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(o=>{this.error(o)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,o){let u;if(t===void 0&&i===void 0&&o===void 0)throw new Error("Missing Observer.");MA(t,["next","error","complete"])?u=t:u={next:t,error:i,complete:o},u.next===void 0&&(u.next=Yd),u.error===void 0&&(u.error=Yd),u.complete===void 0&&(u.complete=Yd);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(o){typeof console<"u"&&console.error&&console.error(o)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Yd(){}function Ge(a){return a&&a._delegate?a._delegate:a}class ia{constructor(t,i,o){this.name=t,this.instanceFactory=i,this.type=o,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ta="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const o=new dA;if(this.instancesDeferred.set(i,o),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&o.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),o=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kA(t))try{this.getOrInitializeService({instanceIdentifier:ta})}catch{}for(const[i,o]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});o.resolve(h)}catch{}}}}clearInstance(t=ta){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ta){return this.instances.has(t)}getOptions(t=ta){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(`${this.name}(${o}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:o,options:i});for(const[h,m]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);o===g&&m.resolve(u)}return u}onInit(t,i){const o=this.normalizeInstanceIdentifier(i),u=this.onInitCallbacks.get(o)??new Set;u.add(t),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&t(h,o),()=>{u.delete(t)}}invokeOnInitCallbacks(t,i){const o=this.onInitCallbacks.get(i);if(o)for(const u of o)try{u(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let o=this.instances.get(t);if(!o&&this.component&&(o=this.component.instanceFactory(this.container,{instanceIdentifier:VA(t),options:i}),this.instances.set(t,o),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(o,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,o)}catch{}return o||null}normalizeInstanceIdentifier(t=ta){return this.component?this.component.multipleInstances?t:ta:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(a){return a===ta?void 0:a}function kA(a){return a.instantiationMode==="EAGER"}class UA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Bt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Bt||(Bt={}));const jA={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},LA=Bt.INFO,PA={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},zA=(a,t,...i)=>{if(t<a.logLevel)return;const o=new Date().toISOString(),u=PA[t];if(u)console[u](`[${o}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class jm{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?jA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const BA=(a,t)=>t.some(i=>a instanceof i);let rv,av;function qA(){return rv||(rv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return av||(av=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,lm=new WeakMap,G0=new WeakMap,Xd=new WeakMap,Lm=new WeakMap;function FA(a){const t=new Promise((i,o)=>{const u=()=>{a.removeEventListener("success",h),a.removeEventListener("error",m)},h=()=>{i(or(a.result)),u()},m=()=>{o(a.error),u()};a.addEventListener("success",h),a.addEventListener("error",m)});return t.then(i=>{i instanceof IDBCursor&&F0.set(i,a)}).catch(()=>{}),Lm.set(t,a),t}function GA(a){if(lm.has(a))return;const t=new Promise((i,o)=>{const u=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",m),a.removeEventListener("abort",m)},h=()=>{i(),u()},m=()=>{o(a.error||new DOMException("AbortError","AbortError")),u()};a.addEventListener("complete",h),a.addEventListener("error",m),a.addEventListener("abort",m)});lm.set(a,t)}let um={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return lm.get(a);if(t==="objectStoreNames")return a.objectStoreNames||G0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return or(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function QA(a){um=a(um)}function KA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const o=a.call($d(this),t,...i);return G0.set(o,t.sort?t.sort():[t]),or(o)}:HA().includes(a)?function(...t){return a.apply($d(this),t),or(F0.get(this))}:function(...t){return or(a.apply($d(this),t))}}function YA(a){return typeof a=="function"?KA(a):(a instanceof IDBTransaction&&GA(a),BA(a,qA())?new Proxy(a,um):a)}function or(a){if(a instanceof IDBRequest)return FA(a);if(Xd.has(a))return Xd.get(a);const t=YA(a);return t!==a&&(Xd.set(a,t),Lm.set(t,a)),t}const $d=a=>Lm.get(a);function XA(a,t,{blocked:i,upgrade:o,blocking:u,terminated:h}={}){const m=indexedDB.open(a,t),g=or(m);return o&&m.addEventListener("upgradeneeded",v=>{o(or(m.result),v.oldVersion,v.newVersion,or(m.transaction),v)}),i&&m.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const $A=["get","getKey","getAll","getAllKeys","count"],ZA=["put","add","delete","clear"],Zd=new Map;function ov(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Zd.get(t))return Zd.get(t);const i=t.replace(/FromIndex$/,""),o=t!==i,u=ZA.includes(i);if(!(i in(o?IDBIndex:IDBObjectStore).prototype)||!(u||$A.includes(i)))return;const h=async function(m,...g){const v=this.transaction(m,u?"readwrite":"readonly");let _=v.store;return o&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return Zd.set(t,h),h}QA(a=>({...a,get:(t,i,o)=>ov(t,i)||a.get(t,i,o),has:(t,i)=>!!ov(t,i)||a.has(t,i)}));class JA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WA(i)){const o=i.getImmediate();return`${o.library}/${o.version}`}else return null}).filter(i=>i).join(" ")}}function WA(a){return a.getComponent()?.type==="VERSION"}const cm="@firebase/app",lv="0.14.6";const fs=new jm("@firebase/app"),tS="@firebase/app-compat",eS="@firebase/analytics-compat",nS="@firebase/analytics",iS="@firebase/app-check-compat",sS="@firebase/app-check",rS="@firebase/auth",aS="@firebase/auth-compat",oS="@firebase/database",lS="@firebase/data-connect",uS="@firebase/database-compat",cS="@firebase/functions",hS="@firebase/functions-compat",fS="@firebase/installations",dS="@firebase/installations-compat",mS="@firebase/messaging",pS="@firebase/messaging-compat",gS="@firebase/performance",yS="@firebase/performance-compat",_S="@firebase/remote-config",vS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",bS="@firebase/firestore",AS="@firebase/ai",SS="@firebase/firestore-compat",wS="firebase",xS="12.6.0";const hm="[DEFAULT]",CS={[cm]:"fire-core",[tS]:"fire-core-compat",[nS]:"fire-analytics",[eS]:"fire-analytics-compat",[sS]:"fire-app-check",[iS]:"fire-app-check-compat",[rS]:"fire-auth",[aS]:"fire-auth-compat",[oS]:"fire-rtdb",[lS]:"fire-data-connect",[uS]:"fire-rtdb-compat",[cS]:"fire-fn",[hS]:"fire-fn-compat",[fS]:"fire-iid",[dS]:"fire-iid-compat",[mS]:"fire-fcm",[pS]:"fire-fcm-compat",[gS]:"fire-perf",[yS]:"fire-perf-compat",[_S]:"fire-rc",[vS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[bS]:"fire-fst",[SS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[wS]:"fire-js-all"};const Zc=new Map,RS=new Map,fm=new Map;function uv(a,t){try{a.container.addComponent(t)}catch(i){fs.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function ao(a){const t=a.name;if(fm.has(t))return fs.debug(`There were multiple attempts to register component ${t}.`),!1;fm.set(t,a);for(const i of Zc.values())uv(i,a);for(const i of RS.values())uv(i,a);return!0}function Pm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function ui(a){return a==null?!1:a.settings!==void 0}const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},lr=new Gl("app","Firebase",NS);class IS{constructor(t,i,o){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=o,this.container.addComponent(new ia("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw lr.create("app-deleted",{appName:this._name})}}const yo=xS;function Q0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const o={name:hm,automaticDataCollectionEnabled:!0,...t},u=o.name;if(typeof u!="string"||!u)throw lr.create("bad-app-name",{appName:String(u)});if(i||(i=z0()),!i)throw lr.create("no-options");const h=Zc.get(u);if(h){if(hs(i,h.options)&&hs(o,h.config))return h;throw lr.create("duplicate-app",{appName:u})}const m=new UA(u);for(const v of fm.values())m.addComponent(v);const g=new IS(i,o,m);return Zc.set(u,g),g}function K0(a=hm){const t=Zc.get(a);if(!t&&a===hm&&z0())return Q0();if(!t)throw lr.create("no-app",{appName:a});return t}function ur(a,t,i){let o=CS[a]??a;i&&(o+=`-${i}`);const u=o.match(/\s|\//),h=t.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${t}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${t}" contains illegal characters (whitespace or "/")`),fs.warn(m.join(" "));return}ao(new ia(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}const DS="firebase-heartbeat-database",MS=1,Ll="firebase-heartbeat-store";let Jd=null;function Y0(){return Jd||(Jd=XA(DS,MS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(a=>{throw lr.create("idb-open",{originalErrorMessage:a.message})})),Jd}async function OS(a){try{const i=(await Y0()).transaction(Ll),o=await i.objectStore(Ll).get(X0(a));return await i.done,o}catch(t){if(t instanceof ys)fs.warn(t.message);else{const i=lr.create("idb-get",{originalErrorMessage:t?.message});fs.warn(i.message)}}}async function cv(a,t){try{const o=(await Y0()).transaction(Ll,"readwrite");await o.objectStore(Ll).put(t,X0(a)),await o.done}catch(i){if(i instanceof ys)fs.warn(i.message);else{const o=lr.create("idb-set",{originalErrorMessage:i?.message});fs.warn(o.message)}}}function X0(a){return`${a.name}!${a.options.appId}`}const VS=1024,kS=30;class US{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LS(i),this._heartbeatsCachePromise=this._storage.read().then(o=>(this._heartbeatsCache=o,o))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(u=>u.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>kS){const u=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){fs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=hv(),{heartbeatsToSend:i,unsentEntries:o}=jS(this._heartbeatsCache.heartbeats),u=$c(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(t){return fs.warn(t),""}}}function hv(){return new Date().toISOString().substring(0,10)}function jS(a,t=VS){const i=[];let o=a.slice();for(const u of a){const h=i.find(m=>m.agent===u.agent);if(h){if(h.dates.push(u.date),fv(i)>t){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),fv(i)>t){i.pop();break}o=o.slice(1)}return{heartbeatsToSend:i,unsentEntries:o}}class LS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?wA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const o=await this.read();return cv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...t.heartbeats]})}else return}}function fv(a){return $c(JSON.stringify({version:2,heartbeats:a})).length}function PS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let o=1;o<a.length;o++)a[o].date<i&&(i=a[o].date,t=o);return t}function zS(a){ao(new ia("platform-logger",t=>new JA(t),"PRIVATE")),ao(new ia("heartbeat",t=>new US(t),"PRIVATE")),ur(cm,lv,a),ur(cm,lv,"esm2020"),ur("fire-js","")}zS("");var BS="firebase",qS="12.7.0";ur(BS,qS,"app");var dv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var cr,$0;(function(){var a;function t(I,w){function R(){}R.prototype=w.prototype,I.F=w.prototype,I.prototype=new R,I.prototype.constructor=I,I.D=function(k,D,j){for(var C=Array(arguments.length-2),At=2;At<arguments.length;At++)C[At-2]=arguments[At];return w.prototype[D].apply(k,C)}}function i(){this.blockSize=-1}function o(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(o,i),o.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(I,w,R){R||(R=0);const k=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)k[D]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(D=0;D<16;++D)k[D]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=I.g[0],R=I.g[1],D=I.g[2];let j=I.g[3],C;C=w+(j^R&(D^j))+k[0]+3614090360&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[1]+3905402710&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[2]+606105819&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(j^R&(D^j))+k[4]+4118548399&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[5]+1200080426&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[6]+2821735955&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(j^R&(D^j))+k[8]+1770035416&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[9]+2336552879&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[10]+4294925233&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(j^R&(D^j))+k[12]+1804603682&4294967295,w=R+(C<<7&4294967295|C>>>25),C=j+(D^w&(R^D))+k[13]+4254626195&4294967295,j=w+(C<<12&4294967295|C>>>20),C=D+(R^j&(w^R))+k[14]+2792965006&4294967295,D=j+(C<<17&4294967295|C>>>15),C=R+(w^D&(j^w))+k[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=w+(D^j&(R^D))+k[1]+4129170786&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[6]+3225465664&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[11]+643717713&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(R^D))+k[5]+3593408605&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[10]+38016083&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[15]+3634488961&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(R^D))+k[9]+568446438&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[14]+3275163606&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[3]+4107603335&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(D^j&(R^D))+k[13]+2850285829&4294967295,w=R+(C<<5&4294967295|C>>>27),C=j+(R^D&(w^R))+k[2]+4243563512&4294967295,j=w+(C<<9&4294967295|C>>>23),C=D+(w^R&(j^w))+k[7]+1735328473&4294967295,D=j+(C<<14&4294967295|C>>>18),C=R+(j^w&(D^j))+k[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=w+(R^D^j)+k[5]+4294588738&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[8]+2272392833&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[11]+1839030562&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^j)+k[1]+2763975236&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[4]+1272893353&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[7]+4139469664&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^j)+k[13]+681279174&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[0]+3936430074&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[3]+3572445317&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(R^D^j)+k[9]+3654602809&4294967295,w=R+(C<<4&4294967295|C>>>28),C=j+(w^R^D)+k[12]+3873151461&4294967295,j=w+(C<<11&4294967295|C>>>21),C=D+(j^w^R)+k[15]+530742520&4294967295,D=j+(C<<16&4294967295|C>>>16),C=R+(D^j^w)+k[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=w+(D^(R|~j))+k[0]+4096336452&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[7]+1126891415&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[14]+2878612391&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~j))+k[12]+1700485571&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[3]+2399980690&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[10]+4293915773&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~j))+k[8]+1873313359&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[15]+4264355552&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[6]+2734768916&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=w+(D^(R|~j))+k[4]+4149444226&4294967295,w=R+(C<<6&4294967295|C>>>26),C=j+(R^(w|~D))+k[11]+3174756917&4294967295,j=w+(C<<10&4294967295|C>>>22),C=D+(w^(j|~R))+k[2]+718787259&4294967295,D=j+(C<<15&4294967295|C>>>17),C=R+(j^(D|~w))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+w&4294967295,I.g[1]=I.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+j&4294967295}o.prototype.v=function(I,w){w===void 0&&(w=I.length);const R=w-this.blockSize,k=this.C;let D=this.h,j=0;for(;j<w;){if(D==0)for(;j<=R;)u(this,I,j),j+=this.blockSize;if(typeof I=="string"){for(;j<w;)if(k[D++]=I.charCodeAt(j++),D==this.blockSize){u(this,k),D=0;break}}else for(;j<w;)if(k[D++]=I[j++],D==this.blockSize){u(this,k),D=0;break}}this.h=D,this.o+=w},o.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var w=1;w<I.length-8;++w)I[w]=0;w=this.o*8;for(var R=I.length-8;R<I.length;++R)I[R]=w&255,w/=256;for(this.v(I),I=Array(16),w=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)I[w++]=this.g[R]>>>k&255;return I};function h(I,w){var R=g;return Object.prototype.hasOwnProperty.call(R,I)?R[I]:R[I]=w(I)}function m(I,w){this.h=w;const R=[];let k=!0;for(let D=I.length-1;D>=0;D--){const j=I[D]|0;k&&j==w||(R[D]=j,k=!1)}this.g=R}var g={};function v(I){return-128<=I&&I<128?h(I,function(w){return new m([w|0],w<0?-1:0)}):new m([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return x;if(I<0)return J(_(-I));const w=[];let R=1;for(let k=0;I>=R;k++)w[k]=I/R|0,R*=4294967296;return new m(w,0)}function S(I,w){if(I.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(I.charAt(0)=="-")return J(S(I.substring(1),w));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=_(Math.pow(w,8));let k=x;for(let j=0;j<I.length;j+=8){var D=Math.min(8,I.length-j);const C=parseInt(I.substring(j,j+D),w);D<8?(D=_(Math.pow(w,D)),k=k.j(D).add(_(C))):(k=k.j(R),k=k.add(_(C)))}return k}var x=v(0),V=v(1),G=v(16777216);a=m.prototype,a.m=function(){if(it(this))return-J(this).m();let I=0,w=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);I+=(k>=0?k:4294967296+k)*w,w*=4294967296}return I},a.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(et(this))return"0";if(it(this))return"-"+J(this).toString(I);const w=_(Math.pow(I,6));var R=this;let k="";for(;;){const D=mt(R,w).g;R=nt(R,D.j(w));let j=((R.g.length>0?R.g[0]:R.h)>>>0).toString(I);if(R=D,et(R))return j+k;for(;j.length<6;)j="0"+j;k=j+k}},a.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function et(I){if(I.h!=0)return!1;for(let w=0;w<I.g.length;w++)if(I.g[w]!=0)return!1;return!0}function it(I){return I.h==-1}a.l=function(I){return I=nt(this,I),it(I)?-1:et(I)?0:1};function J(I){const w=I.g.length,R=[];for(let k=0;k<w;k++)R[k]=~I.g[k];return new m(R,~I.h).add(V)}a.abs=function(){return it(this)?J(this):this},a.add=function(I){const w=Math.max(this.g.length,I.g.length),R=[];let k=0;for(let D=0;D<=w;D++){let j=k+(this.i(D)&65535)+(I.i(D)&65535),C=(j>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=C>>>16,j&=65535,C&=65535,R[D]=C<<16|j}return new m(R,R[R.length-1]&-2147483648?-1:0)};function nt(I,w){return I.add(J(w))}a.j=function(I){if(et(this)||et(I))return x;if(it(this))return it(I)?J(this).j(J(I)):J(J(this).j(I));if(it(I))return J(this.j(J(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const w=this.g.length+I.g.length,R=[];for(var k=0;k<2*w;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const j=this.i(k)>>>16,C=this.i(k)&65535,At=I.i(D)>>>16,xt=I.i(D)&65535;R[2*k+2*D]+=C*xt,gt(R,2*k+2*D),R[2*k+2*D+1]+=j*xt,gt(R,2*k+2*D+1),R[2*k+2*D+1]+=C*At,gt(R,2*k+2*D+1),R[2*k+2*D+2]+=j*At,gt(R,2*k+2*D+2)}for(I=0;I<w;I++)R[I]=R[2*I+1]<<16|R[2*I];for(I=w;I<2*w;I++)R[I]=0;return new m(R,0)};function gt(I,w){for(;(I[w]&65535)!=I[w];)I[w+1]+=I[w]>>>16,I[w]&=65535,w++}function ht(I,w){this.g=I,this.h=w}function mt(I,w){if(et(w))throw Error("division by zero");if(et(I))return new ht(x,x);if(it(I))return w=mt(J(I),w),new ht(J(w.g),J(w.h));if(it(w))return w=mt(I,J(w)),new ht(J(w.g),w.h);if(I.g.length>30){if(it(I)||it(w))throw Error("slowDivide_ only works with positive integers.");for(var R=V,k=w;k.l(I)<=0;)R=Vt(R),k=Vt(k);var D=dt(R,1),j=dt(k,1);for(k=dt(k,2),R=dt(R,2);!et(k);){var C=j.add(k);C.l(I)<=0&&(D=D.add(R),j=C),k=dt(k,1),R=dt(R,1)}return w=nt(I,D.j(w)),new ht(D,w)}for(D=x;I.l(w)>=0;){for(R=Math.max(1,Math.floor(I.m()/w.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),j=_(R),C=j.j(w);it(C)||C.l(I)>0;)R-=k,j=_(R),C=j.j(w);et(j)&&(j=V),D=D.add(j),I=nt(I,C)}return new ht(D,I)}a.B=function(I){return mt(this,I).h},a.and=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)&I.i(k);return new m(R,this.h&I.h)},a.or=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)|I.i(k);return new m(R,this.h|I.h)},a.xor=function(I){const w=Math.max(this.g.length,I.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)^I.i(k);return new m(R,this.h^I.h)};function Vt(I){const w=I.g.length+1,R=[];for(let k=0;k<w;k++)R[k]=I.i(k)<<1|I.i(k-1)>>>31;return new m(R,I.h)}function dt(I,w){const R=w>>5;w%=32;const k=I.g.length-R,D=[];for(let j=0;j<k;j++)D[j]=w>0?I.i(j+R)>>>w|I.i(j+R+1)<<32-w:I.i(j+R);return new m(D,I.h)}o.prototype.digest=o.prototype.A,o.prototype.reset=o.prototype.u,o.prototype.update=o.prototype.v,$0=o,m.prototype.add=m.prototype.add,m.prototype.multiply=m.prototype.j,m.prototype.modulo=m.prototype.B,m.prototype.compare=m.prototype.l,m.prototype.toNumber=m.prototype.m,m.prototype.toString=m.prototype.toString,m.prototype.getBits=m.prototype.i,m.fromNumber=_,m.fromString=S,cr=m}).apply(typeof dv<"u"?dv:typeof self<"u"?self:typeof window<"u"?window:{});var Dc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z0,Rl,J0,Pc,dm,W0,tE,eE;(function(){var a,t=Object.defineProperty;function i(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Dc=="object"&&Dc];for(var p=0;p<c.length;++p){var E=c[p];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var o=i(this);function u(c,p){if(p)t:{var E=o;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in E))break t;E=E[L]}c=c[c.length-1],A=E[c],p=p(A),p!=A&&p!=null&&t(E,c,{configurable:!0,writable:!0,value:p})}}u("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),u("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),u("Object.entries",function(c){return c||function(p){var E=[],A;for(A in p)Object.prototype.hasOwnProperty.call(p,A)&&E.push([A,p[A]]);return E}});var h=h||{},m=this||self;function g(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function v(c,p,E){return c.call.apply(c.bind,arguments)}function _(c,p,E){return _=v,_.apply(null,arguments)}function S(c,p){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function x(c,p){function E(){}E.prototype=p.prototype,c.Z=p.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(A,L,q){for(var st=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)st[Dt-2]=arguments[Dt];return p.prototype[L].apply(A,st)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function G(c){const p=c.length;if(p>0){const E=Array(p);for(let A=0;A<p;A++)E[A]=c[A];return E}return[]}function et(c,p){for(let A=1;A<arguments.length;A++){const L=arguments[A];var E=typeof L;if(E=E!="object"?E:L?Array.isArray(L)?"array":E:"null",E=="array"||E=="object"&&typeof L.length=="number"){E=c.length||0;const q=L.length||0;c.length=E+q;for(let st=0;st<q;st++)c[E+st]=L[st]}else c.push(L)}}class it{constructor(p,E){this.i=p,this.j=E,this.h=0,this.g=null}get(){let p;return this.h>0?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function J(c){m.setTimeout(()=>{throw c},0)}function nt(){var c=I;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class gt{constructor(){this.h=this.g=null}add(p,E){const A=ht.get();A.set(p,E),this.h?this.h.next=A:this.g=A,this.h=A}}var ht=new it(()=>new mt,c=>c.reset());class mt{constructor(){this.next=this.g=this.h=null}set(p,E){this.h=p,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,dt=!1,I=new gt,w=()=>{const c=Promise.resolve(void 0);Vt=()=>{c.then(R)}};function R(){for(var c;c=nt();){try{c.h.call(c.g)}catch(E){J(E)}var p=ht;p.j(c),p.h<100&&(p.h++,c.next=p.g,p.g=c)}dt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};m.addEventListener("test",E,p),m.removeEventListener("test",E,p)}catch{}return c})();function C(c){return/^[\s\xa0]*$/.test(c)}function At(c,p){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,p)}x(At,D),At.prototype.init=function(c,p){const E=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget,p||(E=="mouseover"?p=c.fromElement:E=="mouseout"&&(p=c.toElement)),this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&At.Z.h.call(this)},At.prototype.h=function(){At.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var xt="closure_listenable_"+(Math.random()*1e6|0),H=0;function tt(c,p,E,A,L){this.listener=c,this.proxy=null,this.src=p,this.type=E,this.capture=!!A,this.ha=L,this.key=++H,this.da=this.fa=!1}function at(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function wt(c,p,E){for(const A in c)p.call(E,c[A],A,c)}function Et(c,p){for(const E in c)p.call(void 0,c[E],E,c)}function M(c){const p={};for(const E in c)p[E]=c[E];return p}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rt(c,p){let E,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(E in A)c[E]=A[E];for(let q=0;q<Y.length;q++)E=Y[q],Object.prototype.hasOwnProperty.call(A,E)&&(c[E]=A[E])}}function ot(c){this.src=c,this.g={},this.h=0}ot.prototype.add=function(c,p,E,A,L){const q=c.toString();c=this.g[q],c||(c=this.g[q]=[],this.h++);const st=Rt(c,p,A,L);return st>-1?(p=c[st],E||(p.fa=!1)):(p=new tt(p,this.src,q,!!A,L),p.fa=E,c.push(p)),p};function Tt(c,p){const E=p.type;if(E in c.g){var A=c.g[E],L=Array.prototype.indexOf.call(A,p,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(at(p),c.g[E].length==0&&(delete c.g[E],c.h--))}}function Rt(c,p,E,A){for(let L=0;L<c.length;++L){const q=c[L];if(!q.da&&q.listener==p&&q.capture==!!E&&q.ha==A)return L}return-1}var Lt="closure_lm_"+(Math.random()*1e6|0),Te={};function oe(c,p,E,A,L){if(Array.isArray(p)){for(let q=0;q<p.length;q++)oe(c,p[q],E,A,L);return null}return E=ue(E),c&&c[xt]?c.J(p,E,g(A)?!!A.capture:!1,L):Hi(c,p,E,!1,A,L)}function Hi(c,p,E,A,L,q){if(!p)throw Error("Invalid event type");const st=g(L)?!!L.capture:!!L;let Dt=Qt(c);if(Dt||(c[Lt]=Dt=new ot(c)),E=Dt.add(p,E,A,st,q),E.proxy)return E;if(A=_s(),E.proxy=A,A.src=c,A.listener=E,c.addEventListener)j||(L=st),L===void 0&&(L=!1),c.addEventListener(p.toString(),A,L);else if(c.attachEvent)c.attachEvent(Q(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function _s(){function c(E){return p.call(c.src,c.listener,E)}const p=_t;return c}function vs(c,p,E,A,L){if(Array.isArray(p))for(var q=0;q<p.length;q++)vs(c,p[q],E,A,L);else A=g(A)?!!A.capture:!!A,E=ue(E),c&&c[xt]?(c=c.i,q=String(p).toString(),q in c.g&&(p=c.g[q],E=Rt(p,E,A,L),E>-1&&(at(p[E]),Array.prototype.splice.call(p,E,1),p.length==0&&(delete c.g[q],c.h--)))):c&&(c=Qt(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Rt(p,E,A,L)),(E=c>-1?p[c]:null)&&Es(E))}function Es(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[xt])Tt(p.i,c);else{var E=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(E,A,c.capture):p.detachEvent?p.detachEvent(Q(E),A):p.addListener&&p.removeListener&&p.removeListener(A),(E=Qt(p))?(Tt(E,c),E.h==0&&(E.src=null,p[Lt]=null)):at(c)}}}function Q(c){return c in Te?Te[c]:Te[c]="on"+c}function _t(c,p){if(c.da)c=!0;else{p=new At(p,this);const E=c.listener,A=c.ha||c.src;c.fa&&Es(c),c=E.call(A,p)}return c}function Qt(c){return c=c[Lt],c instanceof ot?c:null}var Qe="__closure_events_fn_"+(Math.random()*1e9>>>0);function ue(c){return typeof c=="function"?c:(c[Qe]||(c[Qe]=function(p){return c.handleEvent(p)}),c[Qe])}function le(){k.call(this),this.i=new ot(this),this.M=this,this.G=null}x(le,k),le.prototype[xt]=!0,le.prototype.removeEventListener=function(c,p,E,A){vs(this,c,p,E,A)};function ye(c,p){var E,A=c.G;if(A)for(E=[];A;A=A.G)E.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new D(p,c);else if(p instanceof D)p.target=p.target||c;else{var L=p;p=new D(A,c),rt(p,L)}L=!0;let q,st;if(E)for(st=E.length-1;st>=0;st--)q=p.g=E[st],L=Ts(q,A,!0,p)&&L;if(q=p.g=c,L=Ts(q,A,!0,p)&&L,L=Ts(q,A,!1,p)&&L,E)for(st=0;st<E.length;st++)q=p.g=E[st],L=Ts(q,A,!1,p)&&L}le.prototype.N=function(){if(le.Z.N.call(this),this.i){var c=this.i;for(const p in c.g){const E=c.g[p];for(let A=0;A<E.length;A++)at(E[A]);delete c.g[p],c.h--}}this.G=null},le.prototype.J=function(c,p,E,A){return this.i.add(String(c),p,!1,E,A)},le.prototype.K=function(c,p,E,A){return this.i.add(String(c),p,!0,E,A)};function Ts(c,p,E,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();let L=!0;for(let q=0;q<p.length;++q){const st=p[q];if(st&&!st.da&&st.capture==E){const Dt=st.listener,Ae=st.ha||st.src;st.fa&&Tt(c.i,st),L=Dt.call(Ae,A)!==!1&&L}}return L&&!A.defaultPrevented}function Hh(c,p){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(p)>2147483647?-1:m.setTimeout(c,p||0)}function nu(c){c.g=Hh(()=>{c.g=null,c.i&&(c.i=!1,nu(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class cn extends k{constructor(p,E){super(),this.m=p,this.l=E,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:nu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function wr(c){k.call(this),this.h=c,this.g={}}x(wr,k);var wo=[];function xo(c){wt(c.g,function(p,E){this.g.hasOwnProperty(E)&&Es(p)},c),c.g={}}wr.prototype.N=function(){wr.Z.N.call(this),xo(this)},wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var bs=m.JSON.stringify,Fh=m.JSON.parse,iu=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function su(){}function ru(){}var Xn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){D.call(this,"d")}x(Ke,D);function Vn(){D.call(this,"c")}x(Vn,D);var be={},au=null;function ua(){return au=au||new le}be.Ia="serverreachability";function ou(c){D.call(this,be.Ia,c)}x(ou,D);function hi(c){const p=ua();ye(p,new ou(p))}be.STAT_EVENT="statevent";function xr(c,p){D.call(this,be.STAT_EVENT,c),this.stat=p}x(xr,D);function Re(c){const p=ua();ye(p,new xr(p,c))}be.Ja="timingevent";function fi(c,p){D.call(this,be.Ja,c),this.size=p}x(fi,D);function di(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function $n(){this.g=!0}$n.prototype.ua=function(){this.g=!1};function Gh(c,p,E,A,L,q){c.info(function(){if(c.g)if(q){var st="",Dt=q.split("&");for(let Xt=0;Xt<Dt.length;Xt++){var Ae=Dt[Xt].split("=");if(Ae.length>1){const me=Ae[0];Ae=Ae[1];const Ln=me.split("_");st=Ln.length>=2&&Ln[1]=="type"?st+(me+"="+Ae+"&"):st+(me+"=redacted&")}}}else st=null;else st=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+E+`
`+st})}function lu(c,p,E,A,L,q,st){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+E+`
`+q+" "+st})}function mi(c,p,E,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+Qh(c,E)+(A?" "+A:"")})}function Cr(c,p){c.info(function(){return"TIMEOUT: "+p})}$n.prototype.info=function(){};function Qh(c,p){if(!c.g)return p;if(!p)return null;try{const q=JSON.parse(p);if(q){for(c=0;c<q.length;c++)if(Array.isArray(q[c])){var E=q[c];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let st=1;st<A.length;st++)A[st]=""}}}}return bs(q)}catch{return p}}var Rr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Co={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ro;function Nr(){}x(Nr,su),Nr.prototype.g=function(){return new XMLHttpRequest},Ro=new Nr;function Fi(c){return encodeURIComponent(String(c))}function uu(c){var p=1;c=c.split(":");const E=[];for(;p>0&&c.length;)E.push(c.shift()),p--;return c.length&&E.push(c.join(":")),E}function Zn(c,p,E,A){this.j=c,this.i=p,this.l=E,this.S=A||1,this.V=new wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Jn}function Jn(){this.i=null,this.g="",this.h=!1}var Ne={},Be={};function pi(c,p,E){c.M=1,c.A=Ir(De(p)),c.u=E,c.R=!0,ca(c,null)}function ca(c,p){c.F=Date.now(),gi(c),c.B=De(c.A);var E=c.B,A=c.S;Array.isArray(A)||(A=[String(A)]),ma(E.i,"t",A),c.C=0,E=c.j.L,c.h=new Jn,c.g=Su(c.j,E?p:null,!c.u),c.P>0&&(c.O=new cn(_(c.Y,c,c.g),c.P)),p=c.V,E=c.g,A=c.ba;var L="readystatechange";Array.isArray(L)||(L&&(wo[0]=L.toString()),L=wo);for(let q=0;q<L.length;q++){const st=oe(E,L[q],A||p.handleEvent,!1,p.h||p);if(!st)break;p.g[st.key]=st}p=c.J?M(c.J):{},c.u?(c.v||(c.v="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,p)):(c.v="GET",c.g.ea(c.B,c.v,null,p)),hi(),Gh(c.i,c.v,c.B,c.l,c.S,c.u)}Zn.prototype.ba=function(c){c=c.target;const p=this.O;p&&ei(c)==3?p.j():this.Y(c)},Zn.prototype.Y=function(c){try{if(c==this.g)t:{const Dt=ei(this.g),Ae=this.g.ya(),Xt=this.g.ca();if(!(Dt<3)&&(Dt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Dt!=4||Ae==7||(Ae==8||Xt<=0?hi(3):hi(2)),yi(this);var p=this.g.ca();this.X=p;var E=Kh(this);if(this.o=p==200,lu(this.i,this.v,this.B,this.l,this.S,Dt,p),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(A)){var q=A;break e}}q=null}if(c=q)mi(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,_i(this,c);else{this.o=!1,this.m=3,Re(12),An(this),kn(this);break t}}if(this.R){c=!0;let me;for(;!this.K&&this.C<E.length;)if(me=hu(this,E),me==Be){Dt==4&&(this.m=4,Re(14),c=!1),mi(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Ne){this.m=4,Re(15),mi(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else mi(this.i,this.l,me,null),_i(this,me);if(cu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Dt!=4||E.length!=0||this.h.h||(this.m=1,Re(16),c=!1),this.o=this.o&&c,!c)mi(this.i,this.l,E,"[Invalid Chunked Response]"),An(this),kn(this);else if(E.length>0&&!this.W){this.W=!0;var st=this.j;st.g==this&&st.aa&&!st.P&&(st.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ho(st),st.P=!0,Re(11))}}else mi(this.i,this.l,E,null),_i(this,E);Dt==4&&An(this),this.o&&!this.K&&(Dt==4?Eu(this.j,this):(this.o=!1,gi(this)))}else Qi(this.g),p==400&&E.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),An(this),kn(this)}}}catch{}};function Kh(c){if(!cu(c))return c.g.la();const p=Ye(c.g);if(p==="")return"";let E="";const A=p.length,L=ei(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return An(c),kn(c),"";c.h.i=new m.TextDecoder}for(let q=0;q<A;q++)c.h.h=!0,E+=c.h.i.decode(p[q],{stream:!(L&&q==A-1)});return p.length=0,c.h.g+=E,c.C=0,c.h.g}function cu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function hu(c,p){var E=c.C,A=p.indexOf(`
`,E);return A==-1?Be:(E=Number(p.substring(E,A)),isNaN(E)?Ne:(A+=1,A+E>p.length?Be:(p=p.slice(A,A+E),c.C=A+E,p)))}Zn.prototype.cancel=function(){this.K=!0,An(this)};function gi(c){c.T=Date.now()+c.H,ha(c,c.H)}function ha(c,p){if(c.D!=null)throw Error("WatchDog timer not null");c.D=di(_(c.aa,c),p)}function yi(c){c.D&&(m.clearTimeout(c.D),c.D=null)}Zn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Cr(this.i,this.B),this.M!=2&&(hi(),Re(17)),An(this),this.m=2,kn(this)):ha(this,this.T-c)};function kn(c){c.j.I==0||c.K||Eu(c.j,c)}function An(c){yi(c);var p=c.O;p&&typeof p.dispose=="function"&&p.dispose(),c.O=null,xo(c.V),c.g&&(p=c.g,c.g=null,p.abort(),p.dispose())}function _i(c,p){try{var E=c.j;if(E.I!=0&&(E.g==c||Ei(E.h,c))){if(!c.L&&Ei(E.h,c)&&E.I==3){try{var A=E.Ba.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)va(E),Is(E);else break t;jr(E),Re(18)}}else E.xa=L[1],0<E.xa-E.K&&L[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=di(_(E.Va,E),6e3));vi(E.h)<=1&&E.ta&&(E.ta=void 0)}else xi(E,11)}else if((c.L||E.g==c)&&va(E),!C(p))for(L=E.Ba.g.parse(p),p=0;p<L.length;p++){let Xt=L[p];const me=Xt[0];if(!(me<=E.K))if(E.K=me,Xt=Xt[1],E.I==2)if(Xt[0]=="c"){E.M=Xt[1],E.ba=Xt[2];const Ln=Xt[3];Ln!=null&&(E.ka=Ln,E.j.info("VER="+E.ka));const Ci=Xt[4];Ci!=null&&(E.za=Ci,E.j.info("SVER="+E.za));const ni=Xt[5];ni!=null&&typeof ni=="number"&&ni>0&&(A=1.5*ni,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const ii=c.g;if(ii){const Lr=ii.g?ii.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Lr){var q=A.h;q.g||Lr.indexOf("spdy")==-1&&Lr.indexOf("quic")==-1&&Lr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Do(q,q.h),q.h=null))}if(A.G){const Ea=ii.g?ii.g.getResponseHeader("X-HTTP-Session-Id"):null;Ea&&(A.wa=Ea,Jt(A.J,A.G,Ea))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var st=c;if(A.na=Au(A,A.L?A.ba:null,A.W),st.L){Mo(A.h,st);var Dt=st,Ae=A.O;Ae&&(Dt.H=Ae),Dt.D&&(yi(Dt),gi(Dt)),A.g=st}else _u(A);E.i.length>0&&wi(E)}else Xt[0]!="stop"&&Xt[0]!="close"||xi(E,7);else E.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?xi(E,7):Bo(E):Xt[0]!="noop"&&E.l&&E.l.qa(Xt),E.A=0)}}hi(4)}catch{}}var Ie=class{constructor(c,p){this.g=c,this.map=p}};function No(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Io(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vi(c){return c.h?1:c.g?c.g.size:0}function Ei(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Do(c,p){c.g?c.g.add(p):c.h=p}function Mo(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}No.prototype.cancel=function(){if(this.i=Oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Oo(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const E of c.g.values())p=p.concat(E.G);return p}return G(c.i)}var fu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fa(c,p){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const A=c[E].indexOf("=");let L,q=null;A>=0?(L=c[E].substring(0,A),q=c[E].substring(A+1)):L=c[E],p(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function Sn(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let p;c instanceof Sn?(this.l=c.l,qe(this,c.j),this.o=c.o,this.g=c.g,As(this,c.u),this.h=c.h,Vo(this,gu(c.i)),this.m=c.m):c&&(p=String(c).match(fu))?(this.l=!1,qe(this,p[1]||"",!0),this.o=Ti(p[2]||""),this.g=Ti(p[3]||"",!0),As(this,p[4]),this.h=Ti(p[5]||"",!0),Vo(this,p[6]||"",!0),this.m=Ti(p[7]||"")):(this.l=!1,this.i=new ws(null,this.l))}Sn.prototype.toString=function(){const c=[];var p=this.j;p&&c.push(Dr(p,da,!0),":");var E=this.g;return(E||p=="file")&&(c.push("//"),(p=this.o)&&c.push(Dr(p,da,!0),"@"),c.push(Fi(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Dr(E,E.charAt(0)=="/"?ko:du,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Dr(E,mu)),c.join("")},Sn.prototype.resolve=function(c){const p=De(this);let E=!!c.j;E?qe(p,c.j):E=!!c.o,E?p.o=c.o:E=!!c.g,E?p.g=c.g:E=c.u!=null;var A=c.h;if(E)As(p,c.u);else if(E=!!c.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=p.h.lastIndexOf("/");L!=-1&&(A=p.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let st=0;st<L.length;){const Dt=L[st++];Dt=="."?A&&st==L.length&&q.push(""):Dt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&st==L.length&&q.push("")):(q.push(Dt),A=!0)}A=q.join("/")}else A=L}return E?p.h=A:E=c.i.toString()!=="",E?Vo(p,gu(c.i)):E=!!c.m,E&&(p.m=c.m),p};function De(c){return new Sn(c)}function qe(c,p,E){c.j=E?Ti(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function As(c,p){if(p){if(p=Number(p),isNaN(p)||p<0)throw Error("Bad port number "+p);c.u=p}else c.u=null}function Vo(c,p,E){p instanceof ws?(c.i=p,pa(c.i,c.l)):(E||(p=Dr(p,Ss)),c.i=new ws(p,c.l))}function Jt(c,p,E){c.i.set(p,E)}function Ir(c){return Jt(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Ti(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Dr(c,p,E){return typeof c=="string"?(c=encodeURI(c).replace(p,dn),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function dn(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var da=/[#\/\?@]/g,du=/[#\?:]/g,ko=/[#\?]/g,Ss=/[#\?@]/g,mu=/#/g;function ws(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function mn(c){c.g||(c.g=new Map,c.h=0,c.i&&fa(c.i,function(p,E){c.add(decodeURIComponent(p.replace(/\+/g," ")),E)}))}a=ws.prototype,a.add=function(c,p){mn(this),this.i=null,c=xs(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(p),this.h+=1,this};function pu(c,p){mn(c),p=xs(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Uo(c,p){return mn(c),p=xs(c,p),c.g.has(p)}a.forEach=function(c,p){mn(this),this.g.forEach(function(E,A){E.forEach(function(L){c.call(p,L,A,this)},this)},this)};function jo(c,p){mn(c);let E=[];if(typeof p=="string")Uo(c,p)&&(E=E.concat(c.g.get(xs(c,p))));else for(c=Array.from(c.g.values()),p=0;p<c.length;p++)E=E.concat(c[p]);return E}a.set=function(c,p){return mn(this),this.i=null,c=xs(this,c),Uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},a.get=function(c,p){return c?(c=jo(this,c),c.length>0?String(c[0]):p):p};function ma(c,p,E){pu(c,p),E.length>0&&(c.i=null,c.g.set(xs(c,p),G(E)),c.h+=E.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(let A=0;A<p.length;A++){var E=p[A];const L=Fi(E);E=jo(this,E);for(let q=0;q<E.length;q++){let st=L;E[q]!==""&&(st+="="+Fi(E[q])),c.push(st)}}return this.i=c.join("&")};function gu(c){const p=new ws;return p.i=c.i,c.g&&(p.g=new Map(c.g),p.h=c.h),p}function xs(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function pa(c,p){p&&!c.j&&(mn(c),c.i=null,c.g.forEach(function(E,A){const L=A.toLowerCase();A!=L&&(pu(this,A),ma(this,L,E))},c)),c.j=p}function Wn(c,p){const E=new $n;if(m.Image){const A=new Image;A.onload=S(Un,E,"TestLoadImage: loaded",!0,p,A),A.onerror=S(Un,E,"TestLoadImage: error",!1,p,A),A.onabort=S(Un,E,"TestLoadImage: abort",!1,p,A),A.ontimeout=S(Un,E,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Lo(c,p){const E=new $n,A=new AbortController,L=setTimeout(()=>{A.abort(),Un(E,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?Un(E,"TestPingServer: ok",!0,p):Un(E,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Un(E,"TestPingServer: error",!1,p)})}function Un(c,p,E,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(E)}catch{}}function Cs(){this.g=new iu}function bi(c){this.i=c.Sb||null,this.h=c.ab||!1}x(bi,su),bi.prototype.g=function(){return new Mr(this.i,this.h)};function Mr(c,p){le.call(this),this.H=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(Mr,le),a=Mr.prototype,a.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=p,this.readyState=1,ti(this)},a.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const p={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(p.body=c),(this.H||m).fetch(new Request(this.D,p)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Rs(this)),this.readyState=0},a.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ti(this)),this.g&&(this.readyState=3,ti(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ga(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function ga(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}a.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.B.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?Rs(this):ti(this),this.readyState==3&&ga(this)}},a.Oa=function(c){this.g&&(this.response=this.responseText=c,Rs(this))},a.Na=function(c){this.g&&(this.response=c,Rs(this))},a.ga=function(){this.g&&Rs(this)};function Rs(c){c.readyState=4,c.l=null,c.j=null,c.B=null,ti(c)}a.setRequestHeader=function(c,p){this.A.append(c,p)},a.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var E=p.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=p.next();return c.join(`\r
`)};function ti(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Mr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function jn(c){let p="";return wt(c,function(E,A){p+=A,p+=":",p+=E,p+=`\r
`}),p}function Or(c,p,E){t:{for(A in E){var A=!1;break t}A=!0}A||(E=jn(E),typeof c=="string"?E!=null&&Fi(E):Jt(c,p,E))}function ee(c){le.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ee,le);var Ai=/^https?$/i,Po=["POST","PUT"];a=ee.prototype,a.Fa=function(c){this.H=c},a.ea=function(c,p,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ro.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(q){Vr(this,q);return}if(c=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)E.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())E.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find(q=>q.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(Array.prototype.indexOf.call(Po,p,void 0)>=0)||A||L||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,st]of E)this.g.setRequestHeader(q,st);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(q){Vr(this,q)}};function Vr(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.o=5,zo(c),Gi(c)}function zo(c){c.A||(c.A=!0,ye(c,"complete"),ye(c,"error"))}a.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ye(this,"complete"),ye(this,"abort"),Gi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Gi(this,!0)),ee.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?kr(this):this.Xa())},a.Xa=function(){kr(this)};function kr(c){if(c.h&&typeof h<"u"){if(c.v&&ei(c)==4)setTimeout(c.Ca.bind(c),0);else if(ye(c,"readystatechange"),ei(c)==4){c.h=!1;try{const q=c.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break t;default:p=!1}var E;if(!(E=p)){var A;if(A=q===0){let st=String(c.D).match(fu)[1]||null;!st&&m.self&&m.self.location&&(st=m.self.location.protocol.slice(0,-1)),A=!Ai.test(st?st.toLowerCase():"")}E=A}if(E)ye(c,"complete"),ye(c,"success");else{c.o=6;try{var L=ei(c)>2?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.ca()+"]",zo(c)}}finally{Gi(c)}}}}function Gi(c,p){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,p||ye(c,"ready");try{E.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function ei(c){return c.g?c.g.readyState:0}a.ca=function(){try{return ei(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Fh(p)}};function Ye(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Qi(c){const p={};c=(c.g&&ei(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(C(c[A]))continue;var E=uu(c[A]);const L=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const q=p[L]||[];p[L]=q,q.push(E)}Et(p,function(A){return A.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Si(c,p,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||p}function Ns(c){this.za=0,this.i=[],this.j=new $n,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Si("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Si("baseRetryDelayMs",5e3,c),this.Za=Si("retryDelaySeedMs",1e4,c),this.Ta=Si("forwardChannelMaxRetries",2,c),this.va=Si("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new No(c&&c.concurrentRequestLimit),this.Ba=new Cs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=Ns.prototype,a.ka=8,a.I=1,a.connect=function(c,p,E,A){Re(0),this.W=c,this.H=p||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=Au(this,null,this.W),wi(this)};function Bo(c){if(ya(c),c.I==3){var p=c.V++,E=De(c.J);if(Jt(E,"SID",c.M),Jt(E,"RID",p),Jt(E,"TYPE","terminate"),Ur(c,E),p=new Zn(c,c.j,p),p.M=2,p.A=Ir(De(E)),E=!1,m.navigator&&m.navigator.sendBeacon)try{E=m.navigator.sendBeacon(p.A.toString(),"")}catch{}!E&&m.Image&&(new Image().src=p.A,E=!0),E||(p.g=Su(p.j,null),p.g.ea(p.A)),p.F=Date.now(),gi(p)}bu(c)}function Is(c){c.g&&(Ho(c),c.g.cancel(),c.g=null)}function ya(c){Is(c),c.v&&(m.clearTimeout(c.v),c.v=null),va(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&m.clearTimeout(c.m),c.m=null)}function wi(c){if(!Io(c.h)&&!c.m){c.m=!0;var p=c.Ea;Vt||w(),dt||(Vt(),dt=!0),I.add(p,c),c.D=0}}function _a(c,p){return vi(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=p.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=di(_(c.Ea,c,p),Tu(c,c.D)),c.D++,!0)}a.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const L=new Zn(this,this.j,c);let q=this.o;if(this.U&&(q?(q=M(q),rt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var p=0,E=0;E<this.i.length;E++){e:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(p+=A,p>4096){p=E;break t}if(p===4096||E===this.i.length-1){p=E+1;break t}}p=1e3}else p=1e3;p=yu(this,L,p),E=De(this.J),Jt(E,"RID",c),Jt(E,"CVER",22),this.G&&Jt(E,"X-HTTP-Session-Id",this.G),Ur(this,E),q&&(this.R?p="headers="+Fi(jn(q))+"&"+p:this.u&&Or(E,this.u,q)),Do(this.h,L),this.Ra&&Jt(E,"TYPE","init"),this.S?(Jt(E,"$req",p),Jt(E,"SID","null"),L.U=!0,pi(L,E,null)):pi(L,E,p),this.I=2}}else this.I==3&&(c?qo(this,c):this.i.length==0||Io(this.h)||qo(this))};function qo(c,p){var E;p?E=p.l:E=c.V++;const A=De(c.J);Jt(A,"SID",c.M),Jt(A,"RID",E),Jt(A,"AID",c.K),Ur(c,A),c.u&&c.o&&Or(A,c.u,c.o),E=new Zn(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),p&&(c.i=p.G.concat(c.i)),p=yu(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),Do(c.h,E),pi(E,A,p)}function Ur(c,p){c.H&&wt(c.H,function(E,A){Jt(p,A,E)}),c.l&&wt({},function(E,A){Jt(p,A,E)})}function yu(c,p,E){E=Math.min(c.i.length,E);const A=c.l?_(c.l.Ka,c.l,c):null;t:{var L=c.i;let Dt=-1;for(;;){const Ae=["count="+E];Dt==-1?E>0?(Dt=L[0].g,Ae.push("ofs="+Dt)):Dt=0:Ae.push("ofs="+Dt);let Xt=!0;for(let me=0;me<E;me++){var q=L[me].g;const Ln=L[me].map;if(q-=Dt,q<0)Dt=Math.max(0,L[me].g-100),Xt=!1;else try{q="req"+q+"_"||"";try{var st=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Ci,ni]of st){let ii=ni;g(ni)&&(ii=bs(ni)),Ae.push(q+Ci+"="+encodeURIComponent(ii))}}catch(Ci){throw Ae.push(q+"type="+encodeURIComponent("_badmap")),Ci}}catch{A&&A(Ln)}}if(Xt){st=Ae.join("&");break t}}st=void 0}return c=c.i.splice(0,E),p.G=c,st}function _u(c){if(!c.g&&!c.v){c.Y=1;var p=c.Da;Vt||w(),dt||(Vt(),dt=!0),I.add(p,c),c.A=0}}function jr(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=di(_(c.Da,c),Tu(c,c.A)),c.A++,!0)}a.Da=function(){if(this.v=null,vu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=di(_(this.Wa,this),c)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Is(this),vu(this))};function Ho(c){c.B!=null&&(m.clearTimeout(c.B),c.B=null)}function vu(c){c.g=new Zn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var p=De(c.na);Jt(p,"RID","rpc"),Jt(p,"SID",c.M),Jt(p,"AID",c.K),Jt(p,"CI",c.F?"0":"1"),!c.F&&c.ia&&Jt(p,"TO",c.ia),Jt(p,"TYPE","xmlhttp"),Ur(c,p),c.u&&c.o&&Or(p,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Ir(De(p)),E.u=null,E.R=!0,ca(E,c)}a.Va=function(){this.C!=null&&(this.C=null,Is(this),jr(this),Re(19))};function va(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Eu(c,p){var E=null;if(c.g==p){va(c),Ho(c),c.g=null;var A=2}else if(Ei(c.h,p))E=p.G,Mo(c.h,p),A=1;else return;if(c.I!=0){if(p.o)if(A==1){E=p.u?p.u.length:0,p=Date.now()-p.F;var L=c.D;A=ua(),ye(A,new fi(A,E)),wi(c)}else _u(c);else if(L=p.m,L==3||L==0&&p.X>0||!(A==1&&_a(c,p)||A==2&&jr(c)))switch(E&&E.length>0&&(p=c.h,p.i=p.i.concat(E)),L){case 1:xi(c,5);break;case 4:xi(c,10);break;case 3:xi(c,6);break;default:xi(c,2)}}}function Tu(c,p){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*p}function xi(c,p){if(c.j.info("Error code "+p),p==2){var E=_(c.bb,c),A=c.Ua;const L=!A;A=new Sn(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||qe(A,"https"),Ir(A),L?Wn(A.toString(),E):Lo(A.toString(),E)}else Re(2);c.I=0,c.l&&c.l.pa(p),bu(c),ya(c)}a.bb=function(c){c?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function bu(c){if(c.I=0,c.ja=[],c.l){const p=Oo(c.h);(p.length!=0||c.i.length!=0)&&(et(c.ja,p),et(c.ja,c.i),c.h.i.length=0,G(c.i),c.i.length=0),c.l.oa()}}function Au(c,p,E){var A=E instanceof Sn?De(E):new Sn(E);if(A.g!="")p&&(A.g=p+"."+A.g),As(A,A.u);else{var L=m.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;const q=new Sn(null);A&&qe(q,A),p&&(q.g=p),L&&As(q,L),E&&(q.h=E),A=q}return E=c.G,p=c.wa,E&&p&&Jt(A,E,p),Jt(A,"VER",c.ka),Ur(c,A),A}function Su(c,p,E){if(p&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Aa&&!c.ma?new ee(new bi({ab:E})):new ee(c.ma),p.Fa(c.L),p}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}a=wu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function Ds(){}Ds.prototype.g=function(c,p){return new hn(c,p)};function hn(c,p){le.call(this),this.g=new Ns(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.sa&&(c?c["X-WebChannel-Client-Profile"]=p.sa:c={"X-WebChannel-Client-Profile":p.sa}),this.g.U=c,(c=p&&p.Qb)&&!C(c)&&(this.g.u=c),this.A=p&&p.supportsCrossDomainXhr||!1,this.v=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!C(p)&&(this.g.G=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new Ki(this)}x(hn,le),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Bo(this.g)},hn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=bs(c),c=E);p.i.push(new Ie(p.Ya++,c)),p.I==3&&wi(p)},hn.prototype.N=function(){this.g.l=null,delete this.j,Bo(this.g),delete this.g,hn.Z.N.call(this)};function xu(c){Ke.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){t:{for(const E in p){c=E;break t}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}x(xu,Ke);function Cu(){Vn.call(this),this.status=1}x(Cu,Vn);function Ki(c){this.g=c}x(Ki,wu),Ki.prototype.ra=function(){ye(this.g,"a")},Ki.prototype.qa=function(c){ye(this.g,new xu(c))},Ki.prototype.pa=function(c){ye(this.g,new Cu)},Ki.prototype.oa=function(){ye(this.g,"b")},Ds.prototype.createWebChannel=Ds.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,eE=function(){return new Ds},tE=function(){return ua()},W0=be,dm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Rr.NO_ERROR=0,Rr.TIMEOUT=8,Rr.HTTP_ERROR=6,Pc=Rr,Co.COMPLETE="complete",J0=Co,ru.EventType=Xn,Xn.OPEN="a",Xn.CLOSE="b",Xn.ERROR="c",Xn.MESSAGE="d",le.prototype.listen=le.prototype.J,Rl=ru,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,Z0=ee}).apply(typeof Dc<"u"?Dc:typeof self<"u"?self:typeof window<"u"?window:{});const mv="@firebase/firestore",pv="4.9.3";class an{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}an.UNAUTHENTICATED=new an(null),an.GOOGLE_CREDENTIALS=new an("google-credentials-uid"),an.FIRST_PARTY=new an("first-party-uid"),an.MOCK_USER=new an("mock-user");let _o="12.7.0";const sa=new jm("@firebase/firestore");function $a(){return sa.logLevel}function lt(a,...t){if(sa.logLevel<=Bt.DEBUG){const i=t.map(zm);sa.debug(`Firestore (${_o}): ${a}`,...i)}}function ds(a,...t){if(sa.logLevel<=Bt.ERROR){const i=t.map(zm);sa.error(`Firestore (${_o}): ${a}`,...i)}}function oo(a,...t){if(sa.logLevel<=Bt.WARN){const i=t.map(zm);sa.warn(`Firestore (${_o}): ${a}`,...i)}}function zm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function bt(a,t,i){let o="Unexpected state";typeof t=="string"?o=t:i=t,nE(a,o,i)}function nE(a,t,i){let o=`FIRESTORE (${_o}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{o+=" CONTEXT: "+JSON.stringify(i)}catch{o+=" CONTEXT: "+i}throw ds(o),new Error(o)}function Zt(a,t,i,o){let u="Unexpected state";typeof i=="string"?u=i:o=i,a||nE(t,u,o)}function It(a,t){return a}const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ys{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class hr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class iE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(an.UNAUTHENTICATED)))}shutdown(){}}class FS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class GS{constructor(t){this.t=t,this.currentUser=an.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let o=this.i;const u=v=>this.i!==o?(o=this.i,i(v)):Promise.resolve();let h=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new hr,t.enqueueRetryable((()=>u(this.currentUser)))};const m=()=>{const v=h;t.enqueueRetryable((async()=>{await v.promise,await u(this.currentUser)}))},g=v=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),m())};this.t.onInit((v=>g(v))),setTimeout((()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new hr)}}),0),m()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((o=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(Zt(typeof o.accessToken=="string",31837,{l:o}),new iE(o.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new an(t)}}class QS{constructor(t,i,o){this.P=t,this.T=i,this.I=o,this.type="FirstParty",this.user=an.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KS{constructor(t,i,o){this.P=t,this.T=i,this.I=o}getToken(){return Promise.resolve(new QS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(an.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class gv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ui(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const o=h=>{h.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const m=h.token!==this.m;return this.m=h.token,lt("FirebaseAppCheckTokenProvider",`Received ${m?"new":"existing"} token.`),m?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable((()=>o(h)))};const u=h=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((h=>u(h))),setTimeout((()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new gv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new gv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let o=0;o<a;o++)i[o]=Math.floor(256*Math.random());return i}class Bm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let o="";for(;o.length<20;){const u=XS(40);for(let h=0;h<u.length;++h)o.length<20&&u[h]<i&&(o+=t.charAt(u[h]%62))}return o}}function qt(a,t){return a<t?-1:a>t?1:0}function mm(a,t){const i=Math.min(a.length,t.length);for(let o=0;o<i;o++){const u=a.charAt(o),h=t.charAt(o);if(u!==h)return Wd(u)===Wd(h)?qt(u,h):Wd(u)?1:-1}return qt(a.length,t.length)}const $S=55296,ZS=57343;function Wd(a){const t=a.charCodeAt(0);return t>=$S&&t<=ZS}function lo(a,t,i){return a.length===t.length&&a.every(((o,u)=>i(o,t[u])))}const yv="__name__";class Mi{constructor(t,i,o){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),o===void 0?o=t.length-i:o>t.length-i&&bt(1746,{length:o,range:t.length-i}),this.segments=t,this.offset=i,this.len=o}get length(){return this.len}isEqual(t){return Mi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Mi?t.forEach((o=>{i.push(o)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,o=this.limit();i<o;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const o=Math.min(t.length,i.length);for(let u=0;u<o;u++){const h=Mi.compareSegments(t.get(u),i.get(u));if(h!==0)return h}return qt(t.length,i.length)}static compareSegments(t,i){const o=Mi.isNumericId(t),u=Mi.isNumericId(i);return o&&!u?-1:!o&&u?1:o&&u?Mi.extractNumericId(t).compare(Mi.extractNumericId(i)):mm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return cr.fromString(t.substring(4,t.length-2))}}class fe extends Mi{construct(t,i,o){return new fe(t,i,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const o of t){if(o.indexOf("//")>=0)throw new ct(W.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);i.push(...o.split("/").filter((u=>u.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Mi{construct(t,i,o){return new tn(t,i,o)}static isValidIdentifier(t){return JS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yv}static keyField(){return new tn([yv])}static fromServerFormat(t){const i=[];let o="",u=0;const h=()=>{if(o.length===0)throw new ct(W.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(o),o=""};let m=!1;for(;u<t.length;){const g=t[u];if(g==="\\"){if(u+1===t.length)throw new ct(W.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const v=t[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new ct(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);o+=v,u+=2}else g==="`"?(m=!m,u++):g!=="."||m?(o+=g,u++):(h(),u++)}if(h(),m)throw new ct(W.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class yt{constructor(t){this.path=t}static fromPath(t){return new yt(fe.fromString(t))}static fromName(t){return new yt(fe.fromString(t).popFirst(5))}static empty(){return new yt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new yt(new fe(t.slice()))}}function sE(a,t,i){if(!i)throw new ct(W.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function WS(a,t,i,o){if(t===!0&&o===!0)throw new ct(W.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function _v(a){if(!yt.isDocumentKey(a))throw new ct(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function vv(a){if(yt.isDocumentKey(a))throw new ct(W.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function rE(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function qm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(o){return o.constructor?o.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":bt(12329,{type:typeof a})}function Yn(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ct(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=qm(a);throw new ct(W.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function je(a,t){const i={typeString:a};return t&&(i.value=t),i}function Kl(a,t){if(!rE(a))throw new ct(W.INVALID_ARGUMENT,"JSON must be an object");let i;for(const o in t)if(t[o]){const u=t[o].typeString,h="value"in t[o]?{value:t[o].value}:void 0;if(!(o in a)){i=`JSON missing required field: '${o}'`;break}const m=a[o];if(u&&typeof m!==u){i=`JSON field '${o}' must be a ${u}.`;break}if(h!==void 0&&m!==h.value){i=`Expected '${o}' field to equal '${h.value}'`;break}}if(i)throw new ct(W.INVALID_ARGUMENT,i);return!0}const Ev=-62135596800,Tv=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),o=Math.floor((t-1e3*i)*Tv);return new de(i,o)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<Ev)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Tv}_compareTo(t){return this.seconds===t.seconds?qt(this.nanoseconds,t.nanoseconds):qt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Kl(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-Ev;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:je("string",de._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new de(0,0))}static max(){return new Ct(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Pl=-1;function tw(a,t){const i=a.toTimestamp().seconds,o=a.toTimestamp().nanoseconds+1,u=Ct.fromTimestamp(o===1e9?new de(i+1,0):new de(i,o));return new pr(u,yt.empty(),t)}function ew(a){return new pr(a.readTime,a.key,Pl)}class pr{constructor(t,i,o){this.readTime=t,this.documentKey=i,this.largestBatchId=o}static min(){return new pr(Ct.min(),yt.empty(),Pl)}static max(){return new pr(Ct.max(),yt.empty(),Pl)}}function nw(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=yt.comparator(a.documentKey,t.documentKey),i!==0?i:qt(a.largestBatchId,t.largestBatchId))}const iw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function vo(a){if(a.code!==W.FAILED_PRECONDITION||a.message!==iw)throw a;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((o,u)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(o,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(o,u)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,o)=>{i(t)}))}static reject(t){return new Z(((i,o)=>{o(t)}))}static waitFor(t){return new Z(((i,o)=>{let u=0,h=0,m=!1;t.forEach((g=>{++u,g.next((()=>{++h,m&&h===u&&i()}),(v=>o(v)))})),m=!0,h===u&&i()}))}static or(t){let i=Z.resolve(!1);for(const o of t)i=i.next((u=>u?Z.resolve(u):o()));return i}static forEach(t,i){const o=[];return t.forEach(((u,h)=>{o.push(i.call(this,u,h))})),this.waitFor(o)}static mapArray(t,i){return new Z(((o,u)=>{const h=t.length,m=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(t[_]).next((S=>{m[_]=S,++g,g===h&&o(m)}),(S=>u(S)))}}))}static doWhile(t,i){return new Z(((o,u)=>{const h=()=>{t()===!0?i().next((()=>{h()}),u):o()};h()}))}}function rw(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Eo(a){return a.name==="IndexedDbTransactionError"}class vh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=o=>this.ae(o),this.ue=o=>i.writeSequenceNumber(o))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}vh.ce=-1;const Hm=-1;function Eh(a){return a==null}function Jc(a){return a===0&&1/a==-1/0}function aw(a){return typeof a=="number"&&Number.isInteger(a)&&!Jc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const aE="";function ow(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=bv(t)),t=lw(a.get(i),t);return bv(t)}function lw(a,t){let i=t;const o=a.length;for(let u=0;u<o;u++){const h=a.charAt(u);switch(h){case"\0":i+="";break;case aE:i+="";break;default:i+=h}}return i}function bv(a){return a+aE+""}function Av(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function Ar(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function oE(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class _e{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new _e(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new _e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const o=this.comparator(t,i.key);if(o===0)return i.value;o<0?i=i.left:o>0&&(i=i.right)}return null}indexOf(t){let i=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(t,o.key);if(u===0)return i+o.left.size;u<0?o=o.left:(i+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,o)=>(t(i,o),!1)))}toString(){const t=[];return this.inorderTraversal(((i,o)=>(t.push(`${i}:${o}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Mc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Mc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Mc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Mc(this.root,t,this.comparator,!0)}}class Mc{constructor(t,i,o,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?o(t.key,i):1,i&&u&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,o,u,h){this.key=t,this.value=i,this.color=o??We.RED,this.left=u??We.EMPTY,this.right=h??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,o,u,h){return new We(t??this.key,i??this.value,o??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,o){let u=this;const h=o(t,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(t,i,o),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(t,i,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let o,u=this;if(i(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(t,u.key)===0){if(u.right.isEmpty())return We.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,o,u,h){return this}insert(t,i,o){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new _e(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,o)=>(t(i),!1)))}forEachInRange(t,i){const o=this.data.getIteratorFrom(t[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,t[1])>=0)return;i(u.key)}}forEachWhile(t,i){let o;for(o=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();o.hasNext();)if(!t(o.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sv(this.data.getIterator())}getIteratorFrom(t){return new Sv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((o=>{i=i.add(o)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),o=t.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class Sv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new On([])}unionWith(t){let i=new ze(tn.comparator);for(const o of this.fields)i=i.add(o);for(const o of t)i=i.add(o);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return lo(this.fields,t.fields,((i,o)=>i.isEqual(o)))}}class lE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new lE("Invalid base64 string: "+h):h}})(t);return new en(i)}static fromUint8Array(t){const i=(function(u){let h="";for(let m=0;m<u.length;++m)h+=String.fromCharCode(u[m]);return h})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const o=new Uint8Array(i.length);for(let u=0;u<i.length;u++)o[u]=i.charCodeAt(u);return o})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return qt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const uw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function gr(a){if(Zt(!!a,39018),typeof a=="string"){let t=0;const i=uw.exec(a);if(Zt(!!i,46558,{timestamp:a}),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),t=Number(u)}const o=new Date(a);return{seconds:Math.floor(o.getTime()/1e3),nanos:t}}return{seconds:xe(a.seconds),nanos:xe(a.nanos)}}function xe(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function yr(a){return typeof a=="string"?en.fromBase64String(a):en.fromUint8Array(a)}const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function Fm(a){return(a?.mapValue?.fields||{})[cE]?.stringValue===uE}function Th(a){const t=a.mapValue.fields[hE];return Fm(t)?Th(t):t}function zl(a){const t=gr(a.mapValue.fields[fE].timestampValue);return new de(t.seconds,t.nanos)}class cw{constructor(t,i,o,u,h,m,g,v,_,S){this.databaseId=t,this.appId=i,this.persistenceKey=o,this.host=u,this.ssl=h,this.forceLongPolling=m,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_,this.isUsingEmulator=S}}const Wc="(default)";class Bl{constructor(t,i){this.projectId=t,this.database=i||Wc}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Wc}isEqual(t){return t instanceof Bl&&t.projectId===this.projectId&&t.database===this.database}}const dE="__type__",hw="__max__",Oc={mapValue:{}},mE="__vector__",th="value";function _r(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Fm(a)?4:dw(a)?9007199254740991:fw(a)?10:11:bt(28295,{value:a})}function Bi(a,t){if(a===t)return!0;const i=_r(a);if(i!==_r(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return zl(a).isEqual(zl(t));case 3:return(function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const m=gr(u.timestampValue),g=gr(h.timestampValue);return m.seconds===g.seconds&&m.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(u,h){return yr(u.bytesValue).isEqual(yr(h.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(u,h){return xe(u.geoPointValue.latitude)===xe(h.geoPointValue.latitude)&&xe(u.geoPointValue.longitude)===xe(h.geoPointValue.longitude)})(a,t);case 2:return(function(u,h){if("integerValue"in u&&"integerValue"in h)return xe(u.integerValue)===xe(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const m=xe(u.doubleValue),g=xe(h.doubleValue);return m===g?Jc(m)===Jc(g):isNaN(m)&&isNaN(g)}return!1})(a,t);case 9:return lo(a.arrayValue.values||[],t.arrayValue.values||[],Bi);case 10:case 11:return(function(u,h){const m=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Av(m)!==Av(g))return!1;for(const v in m)if(m.hasOwnProperty(v)&&(g[v]===void 0||!Bi(m[v],g[v])))return!1;return!0})(a,t);default:return bt(52216,{left:a})}}function ql(a,t){return(a.values||[]).find((i=>Bi(i,t)))!==void 0}function uo(a,t){if(a===t)return 0;const i=_r(a),o=_r(t);if(i!==o)return qt(i,o);switch(i){case 0:case 9007199254740991:return 0;case 1:return qt(a.booleanValue,t.booleanValue);case 2:return(function(h,m){const g=xe(h.integerValue||h.doubleValue),v=xe(m.integerValue||m.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1})(a,t);case 3:return wv(a.timestampValue,t.timestampValue);case 4:return wv(zl(a),zl(t));case 5:return mm(a.stringValue,t.stringValue);case 6:return(function(h,m){const g=yr(h),v=yr(m);return g.compareTo(v)})(a.bytesValue,t.bytesValue);case 7:return(function(h,m){const g=h.split("/"),v=m.split("/");for(let _=0;_<g.length&&_<v.length;_++){const S=qt(g[_],v[_]);if(S!==0)return S}return qt(g.length,v.length)})(a.referenceValue,t.referenceValue);case 8:return(function(h,m){const g=qt(xe(h.latitude),xe(m.latitude));return g!==0?g:qt(xe(h.longitude),xe(m.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return xv(a.arrayValue,t.arrayValue);case 10:return(function(h,m){const g=h.fields||{},v=m.fields||{},_=g[th]?.arrayValue,S=v[th]?.arrayValue,x=qt(_?.values?.length||0,S?.values?.length||0);return x!==0?x:xv(_,S)})(a.mapValue,t.mapValue);case 11:return(function(h,m){if(h===Oc.mapValue&&m===Oc.mapValue)return 0;if(h===Oc.mapValue)return 1;if(m===Oc.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=m.fields||{},S=Object.keys(_);v.sort(),S.sort();for(let x=0;x<v.length&&x<S.length;++x){const V=mm(v[x],S[x]);if(V!==0)return V;const G=uo(g[v[x]],_[S[x]]);if(G!==0)return G}return qt(v.length,S.length)})(a.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function wv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return qt(a,t);const i=gr(a),o=gr(t),u=qt(i.seconds,o.seconds);return u!==0?u:qt(i.nanos,o.nanos)}function xv(a,t){const i=a.values||[],o=t.values||[];for(let u=0;u<i.length&&u<o.length;++u){const h=uo(i[u],o[u]);if(h)return h}return qt(i.length,o.length)}function co(a){return pm(a)}function pm(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const o=gr(i);return`time(${o.seconds},${o.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return yr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return yt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let o="[",u=!0;for(const h of i.values||[])u?u=!1:o+=",",o+=pm(h);return o+"]"})(a.arrayValue):"mapValue"in a?(function(i){const o=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const m of o)h?h=!1:u+=",",u+=`${m}:${pm(i.fields[m])}`;return u+"}"})(a.mapValue):bt(61005,{value:a})}function zc(a){switch(_r(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Th(a);return t?16+zc(t):16;case 5:return 2*a.stringValue.length;case 6:return yr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(o){return(o.values||[]).reduce(((u,h)=>u+zc(h)),0)})(a.arrayValue);case 10:case 11:return(function(o){let u=0;return Ar(o.fields,((h,m)=>{u+=h.length+zc(m)})),u})(a.mapValue);default:throw bt(13486,{value:a})}}function gm(a){return!!a&&"integerValue"in a}function Gm(a){return!!a&&"arrayValue"in a}function Cv(a){return!!a&&"nullValue"in a}function Rv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Bc(a){return!!a&&"mapValue"in a}function fw(a){return(a?.mapValue?.fields||{})[dE]?.stringValue===mE}function Ol(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return Ar(a.mapValue.fields,((i,o)=>t.mapValue.fields[i]=Ol(o))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ol(a.arrayValue.values[i]);return t}return{...a}}function dw(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===hw}class Tn{constructor(t){this.value=t}static empty(){return new Tn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let o=0;o<t.length-1;++o)if(i=(i.mapValue.fields||{})[t.get(o)],!Bc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ol(i)}setAll(t){let i=tn.emptyPath(),o={},u=[];t.forEach(((m,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,o,u),o={},u=[],i=g.popLast()}m?o[g.lastSegment()]=Ol(m):u.push(g.lastSegment())}));const h=this.getFieldsMap(i);this.applyChanges(h,o,u)}delete(t){const i=this.field(t.popLast());Bc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Bi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let o=0;o<t.length;++o){let u=i.mapValue.fields[t.get(o)];Bc(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[t.get(o)]=u),i=u}return i.mapValue.fields}applyChanges(t,i,o){Ar(i,((u,h)=>t[u]=h));for(const u of o)delete t[u]}clone(){return new Tn(Ol(this.value))}}function pE(a){const t=[];return Ar(a.fields,((i,o)=>{const u=new tn([i]);if(Bc(o)){const h=pE(o.mapValue).fields;if(h.length===0)t.push(u);else for(const m of h)t.push(u.child(m))}else t.push(u)})),new On(t)}class ln{constructor(t,i,o,u,h,m,g){this.key=t,this.documentType=i,this.version=o,this.readTime=u,this.createTime=h,this.data=m,this.documentState=g}static newInvalidDocument(t){return new ln(t,0,Ct.min(),Ct.min(),Ct.min(),Tn.empty(),0)}static newFoundDocument(t,i,o,u){return new ln(t,1,i,Ct.min(),o,u,0)}static newNoDocument(t,i){return new ln(t,2,i,Ct.min(),Ct.min(),Tn.empty(),0)}static newUnknownDocument(t,i){return new ln(t,3,i,Ct.min(),Ct.min(),Tn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Tn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class eh{constructor(t,i){this.position=t,this.inclusive=i}}function Nv(a,t,i){let o=0;for(let u=0;u<a.position.length;u++){const h=t[u],m=a.position[u];if(h.field.isKeyField()?o=yt.comparator(yt.fromName(m.referenceValue),i.key):o=uo(m,i.data.field(h.field)),h.dir==="desc"&&(o*=-1),o!==0)break}return o}function Iv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Bi(a.position[i],t.position[i]))return!1;return!0}class nh{constructor(t,i="asc"){this.field=t,this.dir=i}}function mw(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class gE{}class Pe extends gE{constructor(t,i,o){super(),this.field=t,this.op=i,this.value=o}static create(t,i,o){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,o):new gw(t,i,o):i==="array-contains"?new vw(t,o):i==="in"?new Ew(t,o):i==="not-in"?new Tw(t,o):i==="array-contains-any"?new bw(t,o):new Pe(t,i,o)}static createKeyFieldInFilter(t,i,o){return i==="in"?new yw(t,o):new _w(t,o)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(uo(i,this.value)):i!==null&&_r(this.value)===_r(i)&&this.matchesComparison(uo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class qi extends gE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new qi(t,i)}matches(t){return yE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(a){return a.op==="and"}function _E(a){return pw(a)&&yE(a)}function pw(a){for(const t of a.filters)if(t instanceof qi)return!1;return!0}function ym(a){if(a instanceof Pe)return a.field.canonicalString()+a.op.toString()+co(a.value);if(_E(a))return a.filters.map((t=>ym(t))).join(",");{const t=a.filters.map((i=>ym(i))).join(",");return`${a.op}(${t})`}}function vE(a,t){return a instanceof Pe?(function(o,u){return u instanceof Pe&&o.op===u.op&&o.field.isEqual(u.field)&&Bi(o.value,u.value)})(a,t):a instanceof qi?(function(o,u){return u instanceof qi&&o.op===u.op&&o.filters.length===u.filters.length?o.filters.reduce(((h,m,g)=>h&&vE(m,u.filters[g])),!0):!1})(a,t):void bt(19439)}function EE(a){return a instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${co(i.value)}`})(a):a instanceof qi?(function(i){return i.op.toString()+" {"+i.getFilters().map(EE).join(" ,")+"}"})(a):"Filter"}class gw extends Pe{constructor(t,i,o){super(t,i,o),this.key=yt.fromName(o.referenceValue)}matches(t){const i=yt.comparator(t.key,this.key);return this.matchesComparison(i)}}class yw extends Pe{constructor(t,i){super(t,"in",i),this.keys=TE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class _w extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=TE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function TE(a,t){return(t.arrayValue?.values||[]).map((i=>yt.fromName(i.referenceValue)))}class vw extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Gm(i)&&ql(i.arrayValue,this.value)}}class Ew extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&ql(this.value.arrayValue,i)}}class Tw extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!ql(this.value.arrayValue,i)}}class bw extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Gm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((o=>ql(this.value.arrayValue,o)))}}class Aw{constructor(t,i=null,o=[],u=[],h=null,m=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=o,this.filters=u,this.limit=h,this.startAt=m,this.endAt=g,this.Te=null}}function Dv(a,t=null,i=[],o=[],u=null,h=null,m=null){return new Aw(a,t,i,o,u,h,m)}function Qm(a){const t=It(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((o=>ym(o))).join(","),i+="|ob:",i+=t.orderBy.map((o=>(function(h){return h.field.canonicalString()+h.dir})(o))).join(","),Eh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((o=>co(o))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((o=>co(o))).join(",")),t.Te=i}return t.Te}function Km(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!mw(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!vE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!Iv(a.startAt,t.startAt)&&Iv(a.endAt,t.endAt)}function _m(a){return yt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class bh{constructor(t,i=null,o=[],u=[],h=null,m="F",g=null,v=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=o,this.filters=u,this.limit=h,this.limitType=m,this.startAt=g,this.endAt=v,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sw(a,t,i,o,u,h,m,g){return new bh(a,t,i,o,u,h,m,g)}function Ah(a){return new bh(a)}function Mv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ww(a){return a.collectionGroup!==null}function Vl(a){const t=It(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const h of t.explicitOrderBy)t.Ie.push(h),i.add(h.field.canonicalString());const o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(m){let g=new ze(tn.comparator);return m.filters.forEach((v=>{v.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((h=>{i.has(h.canonicalString())||h.isKeyField()||t.Ie.push(new nh(h,o))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new nh(tn.keyField(),o))}return t.Ie}function ki(a){const t=It(a);return t.Ee||(t.Ee=xw(t,Vl(a))),t.Ee}function xw(a,t){if(a.limitType==="F")return Dv(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((u=>{const h=u.dir==="desc"?"asc":"desc";return new nh(u.field,h)}));const i=a.endAt?new eh(a.endAt.position,a.endAt.inclusive):null,o=a.startAt?new eh(a.startAt.position,a.startAt.inclusive):null;return Dv(a.path,a.collectionGroup,t,a.filters,a.limit,i,o)}}function vm(a,t,i){return new bh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Sh(a,t){return Km(ki(a),ki(t))&&a.limitType===t.limitType}function bE(a){return`${Qm(ki(a))}|lt:${a.limitType}`}function Za(a){return`Query(target=${(function(i){let o=i.path.canonicalString();return i.collectionGroup!==null&&(o+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(o+=`, filters: [${i.filters.map((u=>EE(u))).join(", ")}]`),Eh(i.limit)||(o+=", limit: "+i.limit),i.orderBy.length>0&&(o+=`, orderBy: [${i.orderBy.map((u=>(function(m){return`${m.field.canonicalString()} (${m.dir})`})(u))).join(", ")}]`),i.startAt&&(o+=", startAt: ",o+=i.startAt.inclusive?"b:":"a:",o+=i.startAt.position.map((u=>co(u))).join(",")),i.endAt&&(o+=", endAt: ",o+=i.endAt.inclusive?"a:":"b:",o+=i.endAt.position.map((u=>co(u))).join(",")),`Target(${o})`})(ki(a))}; limitType=${a.limitType})`}function wh(a,t){return t.isFoundDocument()&&(function(o,u){const h=u.key.path;return o.collectionGroup!==null?u.key.hasCollectionId(o.collectionGroup)&&o.path.isPrefixOf(h):yt.isDocumentKey(o.path)?o.path.isEqual(h):o.path.isImmediateParentOf(h)})(a,t)&&(function(o,u){for(const h of Vl(o))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0})(a,t)&&(function(o,u){for(const h of o.filters)if(!h.matches(u))return!1;return!0})(a,t)&&(function(o,u){return!(o.startAt&&!(function(m,g,v){const _=Nv(m,g,v);return m.inclusive?_<=0:_<0})(o.startAt,Vl(o),u)||o.endAt&&!(function(m,g,v){const _=Nv(m,g,v);return m.inclusive?_>=0:_>0})(o.endAt,Vl(o),u))})(a,t)}function Cw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function AE(a){return(t,i)=>{let o=!1;for(const u of Vl(a)){const h=Rw(u,t,i);if(h!==0)return h;o=o||u.field.isKeyField()}return 0}}function Rw(a,t,i){const o=a.field.isKeyField()?yt.comparator(t.key,i.key):(function(h,m,g){const v=m.data.field(h),_=g.data.field(h);return v!==null&&_!==null?uo(v,_):bt(42886)})(a.field,t,i);switch(a.dir){case"asc":return o;case"desc":return-1*o;default:return bt(19790,{direction:a.dir})}}class oa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),o=this.inner[i];if(o!==void 0){for(const[u,h]of o)if(this.equalsFn(u,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const o=this.mapKeyFn(t),u=this.inner[o];if(u===void 0)return this.inner[o]=[[t,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],t))return void(u[h]=[t,i]);u.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),o=this.inner[i];if(o===void 0)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],t))return o.length===1?delete this.inner[i]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,((i,o)=>{for(const[u,h]of o)t(u,h)}))}isEmpty(){return oE(this.inner)}size(){return this.innerSize}}const Nw=new _e(yt.comparator);function ms(){return Nw}const SE=new _e(yt.comparator);function Nl(...a){let t=SE;for(const i of a)t=t.insert(i.key,i);return t}function wE(a){let t=SE;return a.forEach(((i,o)=>t=t.insert(i,o.overlayedDocument))),t}function ea(){return kl()}function xE(){return kl()}function kl(){return new oa((a=>a.toString()),((a,t)=>a.isEqual(t)))}const Iw=new _e(yt.comparator),Dw=new ze(yt.comparator);function Ht(...a){let t=Dw;for(const i of a)t=t.add(i);return t}const Mw=new ze(qt);function Ow(){return Mw}function Ym(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Jc(t)?"-0":t}}function CE(a){return{integerValue:""+a}}function RE(a,t){return aw(t)?CE(t):Ym(a,t)}class xh{constructor(){this._=void 0}}function Vw(a,t,i){return a instanceof ih?(function(u,h){const m={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Fm(h)&&(h=Th(h)),h&&(m.fields[hE]=h),{mapValue:m}})(i,t):a instanceof ho?IE(a,t):a instanceof fo?DE(a,t):(function(u,h){const m=NE(u,h),g=Ov(m)+Ov(u.Ae);return gm(m)&&gm(u.Ae)?CE(g):Ym(u.serializer,g)})(a,t)}function kw(a,t,i){return a instanceof ho?IE(a,t):a instanceof fo?DE(a,t):i}function NE(a,t){return a instanceof Hl?(function(o){return gm(o)||(function(h){return!!h&&"doubleValue"in h})(o)})(t)?t:{integerValue:0}:null}class ih extends xh{}class ho extends xh{constructor(t){super(),this.elements=t}}function IE(a,t){const i=ME(t);for(const o of a.elements)i.some((u=>Bi(u,o)))||i.push(o);return{arrayValue:{values:i}}}class fo extends xh{constructor(t){super(),this.elements=t}}function DE(a,t){let i=ME(t);for(const o of a.elements)i=i.filter((u=>!Bi(u,o)));return{arrayValue:{values:i}}}class Hl extends xh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Ov(a){return xe(a.integerValue||a.doubleValue)}function ME(a){return Gm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Xm{constructor(t,i){this.field=t,this.transform=i}}function Uw(a,t){return a.field.isEqual(t.field)&&(function(o,u){return o instanceof ho&&u instanceof ho||o instanceof fo&&u instanceof fo?lo(o.elements,u.elements,Bi):o instanceof Hl&&u instanceof Hl?Bi(o.Ae,u.Ae):o instanceof ih&&u instanceof ih})(a.transform,t.transform)}class jw{constructor(t,i){this.version=t,this.transformResults=i}}class bn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bn}static exists(t){return new bn(void 0,t)}static updateTime(t){return new bn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function qc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Ch{}function OE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Rh(a.key,bn.none()):new Yl(a.key,a.data,bn.none());{const i=a.data,o=Tn.empty();let u=new ze(tn.comparator);for(let h of t.fields)if(!u.has(h)){let m=i.field(h);m===null&&h.length>1&&(h=h.popLast(),m=i.field(h)),m===null?o.delete(h):o.set(h,m),u=u.add(h)}return new Sr(a.key,o,new On(u.toArray()),bn.none())}}function Lw(a,t,i){a instanceof Yl?(function(u,h,m){const g=u.value.clone(),v=kv(u.fieldTransforms,h,m.transformResults);g.setAll(v),h.convertToFoundDocument(m.version,g).setHasCommittedMutations()})(a,t,i):a instanceof Sr?(function(u,h,m){if(!qc(u.precondition,h))return void h.convertToUnknownDocument(m.version);const g=kv(u.fieldTransforms,h,m.transformResults),v=h.data;v.setAll(VE(u)),v.setAll(g),h.convertToFoundDocument(m.version,v).setHasCommittedMutations()})(a,t,i):(function(u,h,m){h.convertToNoDocument(m.version).setHasCommittedMutations()})(0,t,i)}function Ul(a,t,i,o){return a instanceof Yl?(function(h,m,g,v){if(!qc(h.precondition,m))return g;const _=h.value.clone(),S=Uv(h.fieldTransforms,v,m);return _.setAll(S),m.convertToFoundDocument(m.version,_).setHasLocalMutations(),null})(a,t,i,o):a instanceof Sr?(function(h,m,g,v){if(!qc(h.precondition,m))return g;const _=Uv(h.fieldTransforms,v,m),S=m.data;return S.setAll(VE(h)),S.setAll(_),m.convertToFoundDocument(m.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map((x=>x.field)))})(a,t,i,o):(function(h,m,g){return qc(h.precondition,m)?(m.convertToNoDocument(m.version).setHasLocalMutations(),null):g})(a,t,i)}function Pw(a,t){let i=null;for(const o of a.fieldTransforms){const u=t.data.field(o.field),h=NE(o.transform,u||null);h!=null&&(i===null&&(i=Tn.empty()),i.set(o.field,h))}return i||null}function Vv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(o,u){return o===void 0&&u===void 0||!(!o||!u)&&lo(o,u,((h,m)=>Uw(h,m)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Yl extends Ch{constructor(t,i,o,u=[]){super(),this.key=t,this.value=i,this.precondition=o,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Sr extends Ch{constructor(t,i,o,u,h=[]){super(),this.key=t,this.data=i,this.fieldMask=o,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function VE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const o=a.data.field(i);t.set(i,o)}})),t}function kv(a,t,i){const o=new Map;Zt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let u=0;u<i.length;u++){const h=a[u],m=h.transform,g=t.data.field(h.field);o.set(h.field,kw(m,g,i[u]))}return o}function Uv(a,t,i){const o=new Map;for(const u of a){const h=u.transform,m=i.data.field(u.field);o.set(u.field,Vw(h,m,t))}return o}class Rh extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zw extends Ch{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bw{constructor(t,i,o,u){this.batchId=t,this.localWriteTime=i,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(t,i){const o=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(t.key)&&Lw(h,t,o[u])}}applyToLocalView(t,i){for(const o of this.baseMutations)o.key.isEqual(t.key)&&(i=Ul(o,t,i,this.localWriteTime));for(const o of this.mutations)o.key.isEqual(t.key)&&(i=Ul(o,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const o=xE();return this.mutations.forEach((u=>{const h=t.get(u.key),m=h.overlayedDocument;let g=this.applyToLocalView(m,h.mutatedFields);g=i.has(u.key)?null:g;const v=OE(m,g);v!==null&&o.set(u.key,v),m.isValidDocument()||m.convertToNoDocument(Ct.min())})),o}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&lo(this.mutations,t.mutations,((i,o)=>Vv(i,o)))&&lo(this.baseMutations,t.baseMutations,((i,o)=>Vv(i,o)))}}class $m{constructor(t,i,o,u){this.batch=t,this.commitVersion=i,this.mutationResults=o,this.docVersions=u}static from(t,i,o){Zt(t.mutations.length===o.length,58842,{me:t.mutations.length,fe:o.length});let u=(function(){return Iw})();const h=t.mutations;for(let m=0;m<h.length;m++)u=u.insert(h[m].key,o[m].version);return new $m(t,i,o,u)}}class qw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ue,Gt;function Fw(a){switch(a){case W.OK:return bt(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return bt(15467,{code:a})}}function kE(a){if(a===void 0)return ds("GRPC error has no .code"),W.UNKNOWN;switch(a){case Ue.OK:return W.OK;case Ue.CANCELLED:return W.CANCELLED;case Ue.UNKNOWN:return W.UNKNOWN;case Ue.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case Ue.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case Ue.INTERNAL:return W.INTERNAL;case Ue.UNAVAILABLE:return W.UNAVAILABLE;case Ue.UNAUTHENTICATED:return W.UNAUTHENTICATED;case Ue.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case Ue.NOT_FOUND:return W.NOT_FOUND;case Ue.ALREADY_EXISTS:return W.ALREADY_EXISTS;case Ue.PERMISSION_DENIED:return W.PERMISSION_DENIED;case Ue.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case Ue.ABORTED:return W.ABORTED;case Ue.OUT_OF_RANGE:return W.OUT_OF_RANGE;case Ue.UNIMPLEMENTED:return W.UNIMPLEMENTED;case Ue.DATA_LOSS:return W.DATA_LOSS;default:return bt(39323,{code:a})}}(Gt=Ue||(Ue={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function Gw(){return new TextEncoder}const Qw=new cr([4294967295,4294967295],0);function jv(a){const t=Gw().encode(a),i=new $0;return i.update(t),new Uint8Array(i.digest())}function Lv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),o=t.getUint32(4,!0),u=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new cr([i,o],0),new cr([u,h],0)]}class Zm{constructor(t,i,o){if(this.bitmap=t,this.padding=i,this.hashCount=o,i<0||i>=8)throw new Il(`Invalid padding: ${i}`);if(o<0)throw new Il(`Invalid hash count: ${o}`);if(t.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${o}`);if(t.length===0&&i!==0)throw new Il(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=cr.fromNumber(this.ge)}ye(t,i,o){let u=t.add(i.multiply(cr.fromNumber(o)));return u.compare(Qw)===1&&(u=new cr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=jv(t),[o,u]=Lv(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(o,u,h);if(!this.we(m))return!1}return!0}static create(t,i,o){const u=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),m=new Zm(h,u,i);return o.forEach((g=>m.insert(g))),m}insert(t){if(this.ge===0)return;const i=jv(t),[o,u]=Lv(i);for(let h=0;h<this.hashCount;h++){const m=this.ye(o,u,h);this.Se(m)}}Se(t){const i=Math.floor(t/8),o=t%8;this.bitmap[i]|=1<<o}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nh{constructor(t,i,o,u,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,o){const u=new Map;return u.set(t,Xl.createSynthesizedTargetChangeForCurrentChange(t,i,o)),new Nh(Ct.min(),u,new _e(qt),ms(),Ht())}}class Xl{constructor(t,i,o,u,h){this.resumeToken=t,this.current=i,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,o){return new Xl(o,i,Ht(),Ht(),Ht())}}class Hc{constructor(t,i,o,u){this.be=t,this.removedTargetIds=i,this.key=o,this.De=u}}class UE{constructor(t,i){this.targetId=t,this.Ce=i}}class jE{constructor(t,i,o=en.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=i,this.resumeToken=o,this.cause=u}}class Pv{constructor(){this.ve=0,this.Fe=zv(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),i=Ht(),o=Ht();return this.Fe.forEach(((u,h)=>{switch(h){case 0:t=t.add(u);break;case 2:i=i.add(u);break;case 1:o=o.add(u);break;default:bt(38017,{changeType:h})}})),new Xl(this.Me,this.xe,t,i,o)}qe(){this.Oe=!1,this.Fe=zv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ms(),this.Je=Vc(),this.He=Vc(),this.Ye=new _e(qt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const o=this.nt(i);switch(t.state){case 0:this.rt(i)&&o.Le(t.resumeToken);break;case 1:o.Ke(),o.Ne||o.qe(),o.Le(t.resumeToken);break;case 2:o.Ke(),o.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(o.We(),o.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),o.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((o,u)=>{this.rt(u)&&i(u)}))}st(t){const i=t.targetId,o=t.Ce.count,u=this.ot(i);if(u){const h=u.target;if(_m(h))if(o===0){const m=new yt(h.path);this.et(i,m,ln.newNoDocument(m,Ct.min()))}else Zt(o===1,20013,{expectedCount:o});else{const m=this._t(i);if(m!==o){const g=this.ut(t),v=g?this.ct(g,t,m):1;if(v!==0){this.it(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:o="",padding:u=0},hashCount:h=0}=i;let m,g;try{m=yr(o).toUint8Array()}catch(v){if(v instanceof lE)return oo("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new Zm(m,u,h)}catch(v){return oo(v instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.ge===0?null:g}ct(t,i,o){return i.Ce.count===o-this.Pt(t,i.targetId)?0:2}Pt(t,i){const o=this.Ge.getRemoteKeysForTarget(i);let u=0;return o.forEach((h=>{const m=this.Ge.ht(),g=`projects/${m.projectId}/databases/${m.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.et(i,h,null),u++)})),u}Tt(t){const i=new Map;this.ze.forEach(((h,m)=>{const g=this.ot(m);if(g){if(h.current&&_m(g.target)){const v=new yt(g.target.path);this.It(v).has(m)||this.Et(m,v)||this.et(m,v,ln.newNoDocument(v,t))}h.Be&&(i.set(m,h.ke()),h.qe())}}));let o=Ht();this.He.forEach(((h,m)=>{let g=!0;m.forEachWhile((v=>{const _=this.ot(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(o=o.add(h))})),this.je.forEach(((h,m)=>m.setReadTime(t)));const u=new Nh(t,i,this.Ye,this.je,o);return this.je=ms(),this.Je=Vc(),this.He=Vc(),this.Ye=new _e(qt),u}Xe(t,i){if(!this.rt(t))return;const o=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,o),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,o){if(!this.rt(t))return;const u=this.nt(t);this.Et(t,i)?u.Qe(i,1):u.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),o&&(this.je=this.je.insert(i,o))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Pv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(qt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(qt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Pv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Vc(){return new _e(yt.comparator)}function zv(){return new _e(yt.comparator)}const Yw={asc:"ASCENDING",desc:"DESCENDING"},Xw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$w={and:"AND",or:"OR"};class Zw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function Em(a,t){return a.useProto3Json||Eh(t)?t:{value:t}}function sh(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Jw(a,t){return sh(a,t.toTimestamp())}function Ui(a){return Zt(!!a,49232),Ct.fromTimestamp((function(i){const o=gr(i);return new de(o.seconds,o.nanos)})(a))}function Jm(a,t){return Tm(a,t).canonicalString()}function Tm(a,t){const i=(function(u){return new fe(["projects",u.projectId,"databases",u.database])})(a).child("documents");return t===void 0?i:i.child(t)}function PE(a){const t=fe.fromString(a);return Zt(FE(t),10190,{key:t.toString()}),t}function bm(a,t){return Jm(a.databaseId,t.path)}function tm(a,t){const i=PE(t);if(i.get(1)!==a.databaseId.projectId)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new yt(BE(i))}function zE(a,t){return Jm(a.databaseId,t)}function Ww(a){const t=PE(a);return t.length===4?fe.emptyPath():BE(t)}function Am(a){return new fe(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function BE(a){return Zt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Bv(a,t,i){return{name:bm(a,t),fields:i.value.mapValue.fields}}function t2(a,t){let i;if("targetChange"in t){t.targetChange;const o=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],h=(function(_,S){return _.useProto3Json?(Zt(S===void 0||typeof S=="string",58123),en.fromBase64String(S||"")):(Zt(S===void 0||S instanceof Buffer||S instanceof Uint8Array,16193),en.fromUint8Array(S||new Uint8Array))})(a,t.targetChange.resumeToken),m=t.targetChange.cause,g=m&&(function(_){const S=_.code===void 0?W.UNKNOWN:kE(_.code);return new ct(S,_.message||"")})(m);i=new jE(o,u,h,g||null)}else if("documentChange"in t){t.documentChange;const o=t.documentChange;o.document,o.document.name,o.document.updateTime;const u=tm(a,o.document.name),h=Ui(o.document.updateTime),m=o.document.createTime?Ui(o.document.createTime):Ct.min(),g=new Tn({mapValue:{fields:o.document.fields}}),v=ln.newFoundDocument(u,h,m,g),_=o.targetIds||[],S=o.removedTargetIds||[];i=new Hc(_,S,v.key,v)}else if("documentDelete"in t){t.documentDelete;const o=t.documentDelete;o.document;const u=tm(a,o.document),h=o.readTime?Ui(o.readTime):Ct.min(),m=ln.newNoDocument(u,h),g=o.removedTargetIds||[];i=new Hc([],g,m.key,m)}else if("documentRemove"in t){t.documentRemove;const o=t.documentRemove;o.document;const u=tm(a,o.document),h=o.removedTargetIds||[];i=new Hc([],h,u,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const o=t.filter;o.targetId;const{count:u=0,unchangedNames:h}=o,m=new Hw(u,h),g=o.targetId;i=new UE(g,m)}}return i}function e2(a,t){let i;if(t instanceof Yl)i={update:Bv(a,t.key,t.value)};else if(t instanceof Rh)i={delete:bm(a,t.key)};else if(t instanceof Sr)i={update:Bv(a,t.key,t.data),updateMask:c2(t.fieldMask)};else{if(!(t instanceof zw))return bt(16599,{Vt:t.type});i={verify:bm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((o=>(function(h,m){const g=m.transform;if(g instanceof ih)return{fieldPath:m.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ho)return{fieldPath:m.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof fo)return{fieldPath:m.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Hl)return{fieldPath:m.field.canonicalString(),increment:g.Ae};throw bt(20930,{transform:m.transform})})(0,o)))),t.precondition.isNone||(i.currentDocument=(function(u,h){return h.updateTime!==void 0?{updateTime:Jw(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:bt(27497)})(a,t.precondition)),i}function n2(a,t){return a&&a.length>0?(Zt(t!==void 0,14353),a.map((i=>(function(u,h){let m=u.updateTime?Ui(u.updateTime):Ui(h);return m.isEqual(Ct.min())&&(m=Ui(h)),new jw(m,u.transformResults||[])})(i,t)))):[]}function i2(a,t){return{documents:[zE(a,t.path)]}}function s2(a,t){const i={structuredQuery:{}},o=t.path;let u;t.collectionGroup!==null?(u=o,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(u=o.popLast(),i.structuredQuery.from=[{collectionId:o.lastSegment()}]),i.parent=zE(a,u);const h=(function(_){if(_.length!==0)return HE(qi.create(_,"and"))})(t.filters);h&&(i.structuredQuery.where=h);const m=(function(_){if(_.length!==0)return _.map((S=>(function(V){return{field:Ja(V.field),direction:o2(V.dir)}})(S)))})(t.orderBy);m&&(i.structuredQuery.orderBy=m);const g=Em(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:u}}function r2(a){let t=Ww(a.parent);const i=a.structuredQuery,o=i.from?i.from.length:0;let u=null;if(o>0){Zt(o===1,65062);const S=i.from[0];S.allDescendants?u=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=(function(x){const V=qE(x);return V instanceof qi&&_E(V)?V.getFilters():[V]})(i.where));let m=[];i.orderBy&&(m=(function(x){return x.map((V=>(function(et){return new nh(Wa(et.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(et.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(x){let V;return V=typeof x=="object"?x.value:x,Eh(V)?null:V})(i.limit));let v=null;i.startAt&&(v=(function(x){const V=!!x.before,G=x.values||[];return new eh(G,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const V=!x.before,G=x.values||[];return new eh(G,V)})(i.endAt)),Sw(t,u,m,h,g,"F",v,_)}function a2(a,t){const i=(function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:u})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const o=Wa(i.unaryFilter.field);return Pe.create(o,"==",{doubleValue:NaN});case"IS_NULL":const u=Wa(i.unaryFilter.field);return Pe.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Wa(i.unaryFilter.field);return Pe.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const m=Wa(i.unaryFilter.field);return Pe.create(m,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Pe.create(Wa(i.fieldFilter.field),(function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return qi.create(i.compositeFilter.filters.map((o=>qE(o))),(function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(a):bt(30097,{filter:a})}function o2(a){return Yw[a]}function l2(a){return Xw[a]}function u2(a){return $w[a]}function Ja(a){return{fieldPath:a.canonicalString()}}function Wa(a){return tn.fromServerFormat(a.fieldPath)}function HE(a){return a instanceof Pe?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NAN"}};if(Cv(i.value))return{unaryFilter:{field:Ja(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ja(i.field),op:l2(i.op),value:i.value}}})(a):a instanceof qi?(function(i){const o=i.getFilters().map((u=>HE(u)));return o.length===1?o[0]:{compositeFilter:{op:u2(i.op),filters:o}}})(a):bt(54877,{filter:a})}function c2(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function FE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class ar{constructor(t,i,o,u,h=Ct.min(),m=Ct.min(),g=en.EMPTY_BYTE_STRING,v=null){this.target=t,this.targetId=i,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=m,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(t){return new ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class h2{constructor(t){this.yt=t}}function f2(a){const t=r2({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?vm(t,t.limit,"L"):t}class d2{constructor(){this.Cn=new m2}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(pr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(pr.min())}updateCollectionGroup(t,i,o){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class m2{constructor(){this.index={}}add(t){const i=t.lastSegment(),o=t.popLast(),u=this.index[i]||new ze(fe.comparator),h=!u.has(o);return this.index[i]=u.add(o),h}has(t){const i=t.lastSegment(),o=t.popLast(),u=this.index[i];return u&&u.has(o)}getEntries(t){return(this.index[t]||new ze(fe.comparator)).toArray()}}const qv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class En{static withCacheSize(t){return new En(t,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,o){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=o}}En.DEFAULT_COLLECTION_PERCENTILE=10,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,En.DEFAULT=new En(GE,En.DEFAULT_COLLECTION_PERCENTILE,En.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),En.DISABLED=new En(-1,0,0);class mo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new mo(0)}static cr(){return new mo(-1)}}const Hv="LruGarbageCollector",p2=1048576;function Fv([a,t],[i,o]){const u=qt(a,i);return u===0?qt(t,o):u}class g2{constructor(t){this.Ir=t,this.buffer=new ze(Fv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const o=this.buffer.last();Fv(i,o)<0&&(this.buffer=this.buffer.delete(o).add(i))}}get maxValue(){return this.buffer.last()[0]}}class y2{constructor(t,i,o){this.garbageCollector=t,this.asyncQueue=i,this.localStore=o,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Hv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Eo(i)?lt(Hv,"Ignoring IndexedDB error during garbage collection: ",i):await vo(i)}await this.Vr(3e5)}))}}class _2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((o=>Math.floor(i/100*o)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(vh.ce);const o=new g2(i);return this.mr.forEachTarget(t,(u=>o.Ar(u.sequenceNumber))).next((()=>this.mr.pr(t,(u=>o.Ar(u))))).next((()=>o.maxValue))}removeTargets(t,i,o){return this.mr.removeTargets(t,i,o)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(qv)):this.getCacheSize(t).next((o=>o<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let o,u,h,m,g,v,_;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),u=this.params.maximumSequenceNumbersToCollect):u=x,m=Date.now(),this.nthSequenceNumber(t,u)))).next((x=>(o=x,g=Date.now(),this.removeTargets(t,o,i)))).next((x=>(h=x,v=Date.now(),this.removeOrphanedDocuments(t,o)))).next((x=>(_=Date.now(),$a()<=Bt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${m-S}ms
	Determined least recently used ${u} in `+(g-m)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${x} documents in `+(_-v)+`ms
Total Duration: ${_-S}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:x}))))}}function v2(a,t){return new _2(a,t)}class E2{constructor(){this.changes=new oa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const o=this.changes.get(i);return o!==void 0?Z.resolve(o):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class T2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class b2{constructor(t,i,o,u){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=o,this.indexManager=u}getDocument(t,i){let o=null;return this.documentOverlayCache.getOverlay(t,i).next((u=>(o=u,this.remoteDocumentCache.getEntry(t,i)))).next((u=>(o!==null&&Ul(o.mutation,u,On.empty(),de.now()),u)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((o=>this.getLocalViewOfDocuments(t,o,Ht()).next((()=>o))))}getLocalViewOfDocuments(t,i,o=Ht()){const u=ea();return this.populateOverlays(t,u,i).next((()=>this.computeViews(t,i,u,o).next((h=>{let m=Nl();return h.forEach(((g,v)=>{m=m.insert(g,v.overlayedDocument)})),m}))))}getOverlayedDocuments(t,i){const o=ea();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,Ht())))}populateOverlays(t,i,o){const u=[];return o.forEach((h=>{i.has(h)||u.push(h)})),this.documentOverlayCache.getOverlays(t,u).next((h=>{h.forEach(((m,g)=>{i.set(m,g)}))}))}computeViews(t,i,o,u){let h=ms();const m=kl(),g=(function(){return kl()})();return i.forEach(((v,_)=>{const S=o.get(_.key);u.has(_.key)&&(S===void 0||S.mutation instanceof Sr)?h=h.insert(_.key,_):S!==void 0?(m.set(_.key,S.mutation.getFieldMask()),Ul(S.mutation,_,S.mutation.getFieldMask(),de.now())):m.set(_.key,On.empty())})),this.recalculateAndSaveOverlays(t,h).next((v=>(v.forEach(((_,S)=>m.set(_,S))),i.forEach(((_,S)=>g.set(_,new T2(S,m.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const o=kl();let u=new _e(((m,g)=>m-g)),h=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((m=>{for(const g of m)g.keys().forEach((v=>{const _=i.get(v);if(_===null)return;let S=o.get(v)||On.empty();S=g.applyToLocalView(_,S),o.set(v,S);const x=(u.get(g.batchId)||Ht()).add(v);u=u.insert(g.batchId,x)}))})).next((()=>{const m=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,S=v.value,x=xE();S.forEach((V=>{if(!h.has(V)){const G=OE(i.get(V),o.get(V));G!==null&&x.set(V,G),h=h.add(V)}})),m.push(this.documentOverlayCache.saveOverlays(t,_,x))}return Z.waitFor(m)})).next((()=>o))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((o=>this.recalculateAndSaveOverlays(t,o)))}getDocumentsMatchingQuery(t,i,o,u){return(function(m){return yt.isDocumentKey(m.path)&&m.collectionGroup===null&&m.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ww(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,o,u):this.getDocumentsMatchingCollectionQuery(t,i,o,u)}getNextDocuments(t,i,o,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,o,u).next((h=>{const m=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,o.largestBatchId,u-h.size):Z.resolve(ea());let g=Pl,v=h;return m.next((_=>Z.forEach(_,((S,x)=>(g<x.largestBatchId&&(g=x.largestBatchId),h.get(S)?Z.resolve():this.remoteDocumentCache.getEntry(t,S).next((V=>{v=v.insert(S,V)}))))).next((()=>this.populateOverlays(t,_,h))).next((()=>this.computeViews(t,v,_,Ht()))).next((S=>({batchId:g,changes:wE(S)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new yt(i)).next((o=>{let u=Nl();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u}))}getDocumentsMatchingCollectionGroupQuery(t,i,o,u){const h=i.collectionGroup;let m=Nl();return this.indexManager.getCollectionParents(t,h).next((g=>Z.forEach(g,(v=>{const _=(function(x,V){return new bh(V,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(t,_,o,u).next((S=>{S.forEach(((x,V)=>{m=m.insert(x,V)}))}))})).next((()=>m))))}getDocumentsMatchingCollectionQuery(t,i,o,u){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,o.largestBatchId).next((m=>(h=m,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,o,h,u)))).next((m=>{h.forEach(((v,_)=>{const S=_.getKey();m.get(S)===null&&(m=m.insert(S,ln.newInvalidDocument(S)))}));let g=Nl();return m.forEach(((v,_)=>{const S=h.get(v);S!==void 0&&Ul(S.mutation,_,On.empty(),de.now()),wh(i,_)&&(g=g.insert(v,_))})),g}))}}class A2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(u){return{id:u.id,version:u.version,createTime:Ui(u.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(u){return{name:u.name,query:f2(u.bundledQuery),readTime:Ui(u.readTime)}})(i)),Z.resolve()}}class S2{constructor(){this.overlays=new _e(yt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const o=ea();return Z.forEach(i,(u=>this.getOverlay(t,u).next((h=>{h!==null&&o.set(u,h)})))).next((()=>o))}saveOverlays(t,i,o){return o.forEach(((u,h)=>{this.St(t,i,h)})),Z.resolve()}removeOverlaysForBatchId(t,i,o){const u=this.qr.get(o);return u!==void 0&&(u.forEach((h=>this.overlays=this.overlays.remove(h))),this.qr.delete(o)),Z.resolve()}getOverlaysForCollection(t,i,o){const u=ea(),h=i.length+1,m=new yt(i.child("")),g=this.overlays.getIteratorFrom(m);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>o&&u.set(v.getKey(),v)}return Z.resolve(u)}getOverlaysForCollectionGroup(t,i,o,u){let h=new _e(((_,S)=>_-S));const m=this.overlays.getIterator();for(;m.hasNext();){const _=m.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>o){let S=h.get(_.largestBatchId);S===null&&(S=ea(),h=h.insert(_.largestBatchId,S)),S.set(_.getKey(),_)}}const g=ea(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach(((_,S)=>g.set(_,S))),!(g.size()>=u)););return Z.resolve(g)}St(t,i,o){const u=this.overlays.get(o.key);if(u!==null){const m=this.qr.get(u.largestBatchId).delete(o.key);this.qr.set(u.largestBatchId,m)}this.overlays=this.overlays.insert(o.key,new qw(i,o));let h=this.qr.get(i);h===void 0&&(h=Ht(),this.qr.set(i,h)),this.qr.set(i,h.add(o.key))}}class w2{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Wm{constructor(){this.Qr=new ze(Fe.$r),this.Ur=new ze(Fe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const o=new Fe(t,i);this.Qr=this.Qr.add(o),this.Ur=this.Ur.add(o)}Wr(t,i){t.forEach((o=>this.addReference(o,i)))}removeReference(t,i){this.Gr(new Fe(t,i))}zr(t,i){t.forEach((o=>this.removeReference(o,i)))}jr(t){const i=new yt(new fe([])),o=new Fe(i,t),u=new Fe(i,t+1),h=[];return this.Ur.forEachInRange([o,u],(m=>{this.Gr(m),h.push(m.key)})),h}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new yt(new fe([])),o=new Fe(i,t),u=new Fe(i,t+1);let h=Ht();return this.Ur.forEachInRange([o,u],(m=>{h=h.add(m.key)})),h}containsKey(t){const i=new Fe(t,0),o=this.Qr.firstAfterOrEqual(i);return o!==null&&t.isEqual(o.key)}}class Fe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return yt.comparator(t.key,i.key)||qt(t.Yr,i.Yr)}static Kr(t,i){return qt(t.Yr,i.Yr)||yt.comparator(t.key,i.key)}}class x2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Fe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,o,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const m=new Bw(h,i,o,u);this.mutationQueue.push(m);for(const g of u)this.Zr=this.Zr.add(new Fe(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return Z.resolve(m)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const o=i+1,u=this.ei(o),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Hm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const o=new Fe(i,0),u=new Fe(i,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([o,u],(m=>{const g=this.Xr(m.Yr);h.push(g)})),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let o=new ze(qt);return i.forEach((u=>{const h=new Fe(u,0),m=new Fe(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,m],(g=>{o=o.add(g.Yr)}))})),Z.resolve(this.ti(o))}getAllMutationBatchesAffectingQuery(t,i){const o=i.path,u=o.length+1;let h=o;yt.isDocumentKey(h)||(h=h.child(""));const m=new Fe(new yt(h),0);let g=new ze(qt);return this.Zr.forEachWhile((v=>{const _=v.key.path;return!!o.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Yr)),!0)}),m),Z.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((o=>{const u=this.Xr(o);u!==null&&i.push(u)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let o=this.Zr;return Z.forEach(i.mutations,(u=>{const h=new Fe(u.key,i.batchId);return o=o.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)})).next((()=>{this.Zr=o}))}ir(t){}containsKey(t,i){const o=new Fe(i,0),u=this.Zr.firstAfterOrEqual(o);return Z.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class C2{constructor(t){this.ri=t,this.docs=(function(){return new _e(yt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const o=i.key,u=this.docs.get(o),h=u?u.size:0,m=this.ri(i);return this.docs=this.docs.insert(o,{document:i.mutableCopy(),size:m}),this.size+=m-h,this.indexManager.addToCollectionParentIndex(t,o.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const o=this.docs.get(i);return Z.resolve(o?o.document.mutableCopy():ln.newInvalidDocument(i))}getEntries(t,i){let o=ms();return i.forEach((u=>{const h=this.docs.get(u);o=o.insert(u,h?h.document.mutableCopy():ln.newInvalidDocument(u))})),Z.resolve(o)}getDocumentsMatchingQuery(t,i,o,u){let h=ms();const m=i.path,g=new yt(m.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:S}}=v.getNext();if(!m.isPrefixOf(_.path))break;_.path.length>m.length+1||nw(ew(S),o)<=0||(u.has(S.key)||wh(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(t,i,o,u){bt(9500)}ii(t,i){return Z.forEach(this.docs,(o=>i(o)))}newChangeBuffer(t){return new R2(this)}getSize(t){return Z.resolve(this.size)}}class R2 extends E2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((o,u)=>{u.isValidDocument()?i.push(this.Nr.addEntry(t,u)):this.Nr.removeEntry(o)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class N2{constructor(t){this.persistence=t,this.si=new oa((i=>Qm(i)),Km),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new Wm,this.targetCount=0,this.ai=mo.ur()}forEachTarget(t,i){return this.si.forEach(((o,u)=>i(u))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,o){return o&&(this.lastRemoteSnapshotVersion=o),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new mo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,o){let u=0;const h=[];return this.si.forEach(((m,g)=>{g.sequenceNumber<=i&&o.get(g.targetId)===null&&(this.si.delete(m),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),u++)})),Z.waitFor(h).next((()=>u))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const o=this.si.get(i)||null;return Z.resolve(o)}addMatchingKeys(t,i,o){return this._i.Wr(i,o),Z.resolve()}removeMatchingKeys(t,i,o){this._i.zr(i,o);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach((m=>{h.push(u.markPotentiallyOrphaned(t,m))})),Z.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const o=this._i.Hr(i);return Z.resolve(o)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class QE{constructor(t,i){this.ui={},this.overlays={},this.ci=new vh(0),this.li=!1,this.li=!0,this.hi=new w2,this.referenceDelegate=t(this),this.Pi=new N2(this),this.indexManager=new d2,this.remoteDocumentCache=(function(u){return new C2(u)})((o=>this.referenceDelegate.Ti(o))),this.serializer=new h2(i),this.Ii=new A2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new S2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let o=this.ui[t.toKey()];return o||(o=new x2(i,this.referenceDelegate),this.ui[t.toKey()]=o),o}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,o){lt("MemoryPersistence","Starting transaction:",t);const u=new I2(this.ci.next());return this.referenceDelegate.Ei(),o(u).next((h=>this.referenceDelegate.di(u).next((()=>h)))).toPromise().then((h=>(u.raiseOnCommittedEvent(),h)))}Ai(t,i){return Z.or(Object.values(this.ui).map((o=>()=>o.containsKey(t,i))))}}class I2 extends sw{constructor(t){super(),this.currentSequenceNumber=t}}class tp{constructor(t){this.persistence=t,this.Ri=new Wm,this.Vi=null}static mi(t){return new tp(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,o){return this.Ri.addReference(o,i),this.fi.delete(o.toString()),Z.resolve()}removeReference(t,i,o){return this.Ri.removeReference(o,i),this.fi.add(o.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((u=>this.fi.add(u.toString())));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(t,i.targetId).next((u=>{u.forEach((h=>this.fi.add(h.toString())))})).next((()=>o.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(o=>{const u=yt.fromPath(o);return this.gi(t,u).next((h=>{h||i.removeEntry(u,Ct.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((o=>{o?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class rh{constructor(t,i){this.persistence=t,this.pi=new oa((o=>ow(o.path)),((o,u)=>o.isEqual(u))),this.garbageCollector=v2(this,i)}static mi(t,i){return new rh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((o=>i.next((u=>o+u))))}wr(t){let i=0;return this.pr(t,(o=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((o,u)=>this.br(t,o,u).next((h=>h?Z.resolve():i(u)))))}removeTargets(t,i,o){return this.persistence.getTargetCache().removeTargets(t,i,o)}removeOrphanedDocuments(t,i){let o=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(t,(m=>this.br(t,m,i).next((g=>{g||(o++,h.removeEntry(m,Ct.min()))})))).next((()=>h.apply(t))).next((()=>o))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const o=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,o)}addReference(t,i,o){return this.pi.set(o,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,o){return this.pi.set(o,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=zc(t.data.value)),i}br(t,i,o){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const u=this.pi.get(i);return Z.resolve(u!==void 0&&u>o)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ep{constructor(t,i,o,u){this.targetId=t,this.fromCache=i,this.Es=o,this.ds=u}static As(t,i){let o=Ht(),u=Ht();for(const h of i.docChanges)switch(h.type){case 0:o=o.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new ep(t,i.fromCache,o,u)}}class D2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class M2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AA()?8:rw(un())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,o,u){const h={result:null};return this.ys(t,i).next((m=>{h.result=m})).next((()=>{if(!h.result)return this.ws(t,i,u,o).next((m=>{h.result=m}))})).next((()=>{if(h.result)return;const m=new D2;return this.Ss(t,i,m).next((g=>{if(h.result=g,this.Vs)return this.bs(t,i,m,g.size)}))})).next((()=>h.result))}bs(t,i,o,u){return o.documentReadCount<this.fs?($a()<=Bt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",Za(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):($a()<=Bt.DEBUG&&lt("QueryEngine","Query:",Za(i),"scans",o.documentReadCount,"local documents and returns",u,"documents as results."),o.documentReadCount>this.gs*u?($a()<=Bt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",Za(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ki(i))):Z.resolve())}ys(t,i){if(Mv(i))return Z.resolve(null);let o=ki(i);return this.indexManager.getIndexType(t,o).next((u=>u===0?null:(i.limit!==null&&u===1&&(i=vm(i,null,"F"),o=ki(i)),this.indexManager.getDocumentsMatchingTarget(t,o).next((h=>{const m=Ht(...h);return this.ps.getDocuments(t,m).next((g=>this.indexManager.getMinOffset(t,o).next((v=>{const _=this.Ds(i,g);return this.Cs(i,_,m,v.readTime)?this.ys(t,vm(i,null,"F")):this.vs(t,_,i,v)}))))})))))}ws(t,i,o,u){return Mv(i)||u.isEqual(Ct.min())?Z.resolve(null):this.ps.getDocuments(t,o).next((h=>{const m=this.Ds(i,h);return this.Cs(i,m,o,u)?Z.resolve(null):($a()<=Bt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),Za(i)),this.vs(t,m,i,tw(u,Pl)).next((g=>g)))}))}Ds(t,i){let o=new ze(AE(t));return i.forEach(((u,h)=>{wh(t,h)&&(o=o.add(h))})),o}Cs(t,i,o,u){if(t.limit===null)return!1;if(o.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(t,i,o){return $a()<=Bt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",Za(i)),this.ps.getDocumentsMatchingQuery(t,i,pr.min(),o)}vs(t,i,o,u){return this.ps.getDocumentsMatchingQuery(t,o,u).next((h=>(i.forEach((m=>{h=h.insert(m.key,m)})),h)))}}const np="LocalStore",O2=3e8;class V2{constructor(t,i,o,u){this.persistence=t,this.Fs=i,this.serializer=u,this.Ms=new _e(qt),this.xs=new oa((h=>Qm(h)),Km),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(o)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new b2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function k2(a,t,i,o){return new V2(a,t,i,o)}async function KE(a,t){const i=It(a);return await i.persistence.runTransaction("Handle user change","readonly",(o=>{let u;return i.mutationQueue.getAllMutationBatches(o).next((h=>(u=h,i.Bs(t),i.mutationQueue.getAllMutationBatches(o)))).next((h=>{const m=[],g=[];let v=Ht();for(const _ of u){m.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}for(const _ of h){g.push(_.batchId);for(const S of _.mutations)v=v.add(S.key)}return i.localDocuments.getDocuments(o,v).next((_=>({Ls:_,removedBatchIds:m,addedBatchIds:g})))}))}))}function U2(a,t){const i=It(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(o=>{const u=t.batch.keys(),h=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,v,_,S){const x=_.batch,V=x.keys();let G=Z.resolve();return V.forEach((et=>{G=G.next((()=>S.getEntry(v,et))).next((it=>{const J=_.docVersions.get(et);Zt(J!==null,48541),it.version.compareTo(J)<0&&(x.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),S.addEntry(it)))}))})),G.next((()=>g.mutationQueue.removeMutationBatch(v,x)))})(i,o,t,h).next((()=>h.apply(o))).next((()=>i.mutationQueue.performConsistencyCheck(o))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(o,u,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(o,(function(g){let v=Ht();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v})(t)))).next((()=>i.localDocuments.getDocuments(o,u)))}))}function YE(a){const t=It(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function j2(a,t){const i=It(a),o=t.snapshotVersion;let u=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(h=>{const m=i.Ns.newChangeBuffer({trackRemovals:!0});u=i.Ms;const g=[];t.targetChanges.forEach(((S,x)=>{const V=u.get(x);if(!V)return;g.push(i.Pi.removeMatchingKeys(h,S.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(h,S.addedDocuments,x))));let G=V.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(x)!==null?G=G.withResumeToken(en.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):S.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(S.resumeToken,o)),u=u.insert(x,G),(function(it,J,nt){return it.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=O2?!0:nt.addedDocuments.size+nt.modifiedDocuments.size+nt.removedDocuments.size>0})(V,G,S)&&g.push(i.Pi.updateTargetData(h,G))}));let v=ms(),_=Ht();if(t.documentUpdates.forEach((S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))})),g.push(L2(h,m,t.documentUpdates).next((S=>{v=S.ks,_=S.qs}))),!o.isEqual(Ct.min())){const S=i.Pi.getLastRemoteSnapshotVersion(h).next((x=>i.Pi.setTargetsMetadata(h,h.currentSequenceNumber,o)));g.push(S)}return Z.waitFor(g).next((()=>m.apply(h))).next((()=>i.localDocuments.getLocalViewOfDocuments(h,v,_))).next((()=>v))})).then((h=>(i.Ms=u,h)))}function L2(a,t,i){let o=Ht(),u=Ht();return i.forEach((h=>o=o.add(h))),t.getEntries(a,o).next((h=>{let m=ms();return i.forEach(((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(Ct.min())?(t.removeEntry(g,v.readTime),m=m.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(v),m=m.insert(g,v)):lt(np,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)})),{ks:m,qs:u}}))}function P2(a,t){const i=It(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(o=>(t===void 0&&(t=Hm),i.mutationQueue.getNextMutationBatchAfterBatchId(o,t))))}function z2(a,t){const i=It(a);return i.persistence.runTransaction("Allocate target","readwrite",(o=>{let u;return i.Pi.getTargetData(o,t).next((h=>h?(u=h,Z.resolve(u)):i.Pi.allocateTargetId(o).next((m=>(u=new ar(t,m,"TargetPurposeListen",o.currentSequenceNumber),i.Pi.addTargetData(o,u).next((()=>u)))))))})).then((o=>{const u=i.Ms.get(o.targetId);return(u===null||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(o.targetId,o),i.xs.set(t,o.targetId)),o}))}async function Sm(a,t,i){const o=It(a),u=o.Ms.get(t),h=i?"readwrite":"readwrite-primary";try{i||await o.persistence.runTransaction("Release target",h,(m=>o.persistence.referenceDelegate.removeTarget(m,u)))}catch(m){if(!Eo(m))throw m;lt(np,`Failed to update sequence numbers for target ${t}: ${m}`)}o.Ms=o.Ms.remove(t),o.xs.delete(u.target)}function Gv(a,t,i){const o=It(a);let u=Ct.min(),h=Ht();return o.persistence.runTransaction("Execute query","readwrite",(m=>(function(v,_,S){const x=It(v),V=x.xs.get(S);return V!==void 0?Z.resolve(x.Ms.get(V)):x.Pi.getTargetData(_,S)})(o,m,ki(t)).next((g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,o.Pi.getMatchingKeysForTargetId(m,g.targetId).next((v=>{h=v}))})).next((()=>o.Fs.getDocumentsMatchingQuery(m,t,i?u:Ct.min(),i?h:Ht()))).next((g=>(B2(o,Cw(t),g),{documents:g,Qs:h})))))}function B2(a,t,i){let o=a.Os.get(t)||Ct.min();i.forEach(((u,h)=>{h.readTime.compareTo(o)>0&&(o=h.readTime)})),a.Os.set(t,o)}class Qv{constructor(){this.activeTargetIds=Ow()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class q2{constructor(){this.Mo=new Qv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,o){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,o){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Qv,Promise.resolve()}handleUserChange(t,i,o){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class H2{Oo(t){}shutdown(){}}const Kv="ConnectivityMonitor";class Yv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Kv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(Kv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let kc=null;function wm(){return kc===null?kc=(function(){return 268435456+Math.round(2147483648*Math.random())})():kc++,"0x"+kc.toString(16)}const em="RestConnection",F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class G2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${o}/databases/${u}`,this.Wo=this.databaseId.database===Wc?`project_id=${o}`:`project_id=${o}&database_id=${u}`}Go(t,i,o,u,h){const m=wm(),g=this.zo(t,i.toUriEncodedString());lt(em,`Sending RPC '${t}' ${m}:`,g,o);const v={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(v,u,h);const{host:_}=new URL(g),S=go(_);return this.Jo(t,g,v,o,S).then((x=>(lt(em,`Received RPC '${t}' ${m}: `,x),x)),(x=>{throw oo(em,`RPC '${t}' ${m} failed with error: `,x,"url: ",g,"request:",o),x}))}Ho(t,i,o,u,h,m){return this.Go(t,i,o,u,h)}jo(t,i,o){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+_o})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((u,h)=>t[h]=u)),o&&o.headers.forEach(((u,h)=>t[h]=u))}zo(t,i){const o=F2[t];return`${this.Uo}/v1/${i}:${o}`}terminate(){}}class Q2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class K2 extends G2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,o,u,h){const m=wm();return new Promise(((g,v)=>{const _=new Z0;_.setWithCredentials(!0),_.listenOnce(J0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Pc.NO_ERROR:const x=_.getResponseJson();lt(sn,`XHR for RPC '${t}' ${m} received:`,JSON.stringify(x)),g(x);break;case Pc.TIMEOUT:lt(sn,`RPC '${t}' ${m} timed out`),v(new ct(W.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const V=_.getStatus();if(lt(sn,`RPC '${t}' ${m} failed with status:`,V,"response text:",_.getResponseText()),V>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const et=G?.error;if(et&&et.status&&et.message){const it=(function(nt){const gt=nt.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(gt)>=0?gt:W.UNKNOWN})(et.status);v(new ct(it,et.message))}else v(new ct(W.UNKNOWN,"Server responded with status "+_.getStatus()))}else v(new ct(W.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:m,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(sn,`RPC '${t}' ${m} completed.`)}}));const S=JSON.stringify(u);lt(sn,`RPC '${t}' ${m} sending request:`,u),_.send(i,"POST",S,o,15)}))}T_(t,i,o){const u=wm(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],m=eE(),g=tE(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.jo(v.initMessageHeaders,i,o),v.encodeInitMessageHeaders=!0;const S=h.join("");lt(sn,`Creating RPC '${t}' stream ${u}: ${S}`,v);const x=m.createWebChannel(S,v);this.I_(x);let V=!1,G=!1;const et=new Q2({Yo:J=>{G?lt(sn,`Not sending because RPC '${t}' stream ${u} is closed:`,J):(V||(lt(sn,`Opening RPC '${t}' stream ${u} transport.`),x.open(),V=!0),lt(sn,`RPC '${t}' stream ${u} sending:`,J),x.send(J))},Zo:()=>x.close()}),it=(J,nt,gt)=>{J.listen(nt,(ht=>{try{gt(ht)}catch(mt){setTimeout((()=>{throw mt}),0)}}))};return it(x,Rl.EventType.OPEN,(()=>{G||(lt(sn,`RPC '${t}' stream ${u} transport opened.`),et.o_())})),it(x,Rl.EventType.CLOSE,(()=>{G||(G=!0,lt(sn,`RPC '${t}' stream ${u} transport closed`),et.a_(),this.E_(x))})),it(x,Rl.EventType.ERROR,(J=>{G||(G=!0,oo(sn,`RPC '${t}' stream ${u} transport errored. Name:`,J.name,"Message:",J.message),et.a_(new ct(W.UNAVAILABLE,"The operation could not be completed")))})),it(x,Rl.EventType.MESSAGE,(J=>{if(!G){const nt=J.data[0];Zt(!!nt,16349);const gt=nt,ht=gt?.error||gt[0]?.error;if(ht){lt(sn,`RPC '${t}' stream ${u} received error:`,ht);const mt=ht.status;let Vt=(function(w){const R=Ue[w];if(R!==void 0)return kE(R)})(mt),dt=ht.message;Vt===void 0&&(Vt=W.INTERNAL,dt="Unknown error status: "+mt+" with message "+ht.message),G=!0,et.a_(new ct(Vt,dt)),x.close()}else lt(sn,`RPC '${t}' stream ${u} received:`,nt),et.u_(nt)}})),it(g,W0.STAT_EVENT,(J=>{J.stat===dm.PROXY?lt(sn,`RPC '${t}' stream ${u} detected buffering proxy`):J.stat===dm.NOPROXY&&lt(sn,`RPC '${t}' stream ${u} detected no buffering proxy`)})),setTimeout((()=>{et.__()}),0),et}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function nm(){return typeof document<"u"?document:null}function Ih(a){return new Zw(a,!0)}class XE{constructor(t,i,o=1e3,u=1.5,h=6e4){this.Mi=t,this.timerId=i,this.d_=o,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),o=Math.max(0,Date.now()-this.f_),u=Math.max(0,i-o);u>0&&lt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${o} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Xv="PersistentStream";class $E{constructor(t,i,o,u,h,m,g,v){this.Mi=t,this.S_=o,this.b_=u,this.connection=h,this.authCredentialsProvider=m,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===W.RESOURCE_EXHAUSTED?(ds(i.toString()),ds("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([o,u])=>{this.D_===i&&this.G_(o,u)}),(o=>{t((()=>{const u=new ct(W.UNKNOWN,"Fetching auth token failed: "+o.message);return this.z_(u)}))}))}G_(t,i){const o=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{o((()=>this.listener.Xo()))})),this.stream.t_((()=>{o((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((u=>{o((()=>this.z_(u)))})),this.stream.onMessage((u=>{o((()=>++this.F_==1?this.J_(u):this.onNext(u)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(Xv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(Xv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Y2 extends $E{constructor(t,i,o,u,h,m){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,o,u,m),this.serializer=h}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=t2(this.serializer,t),o=(function(h){if(!("targetChange"in h))return Ct.min();const m=h.targetChange;return m.targetIds&&m.targetIds.length?Ct.min():m.readTime?Ui(m.readTime):Ct.min()})(t);return this.listener.H_(i,o)}Y_(t){const i={};i.database=Am(this.serializer),i.addTarget=(function(h,m){let g;const v=m.target;if(g=_m(v)?{documents:i2(h,v)}:{query:s2(h,v).ft},g.targetId=m.targetId,m.resumeToken.approximateByteSize()>0){g.resumeToken=LE(h,m.resumeToken);const _=Em(h,m.expectedCount);_!==null&&(g.expectedCount=_)}else if(m.snapshotVersion.compareTo(Ct.min())>0){g.readTime=sh(h,m.snapshotVersion.toTimestamp());const _=Em(h,m.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const o=a2(this.serializer,t);o&&(i.labels=o),this.q_(i)}Z_(t){const i={};i.database=Am(this.serializer),i.removeTarget=t,this.q_(i)}}class X2 extends $E{constructor(t,i,o,u,h,m){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,o,u,m),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=n2(t.writeResults,t.commitTime),o=Ui(t.commitTime);return this.listener.na(o,i)}ra(){const t={};t.database=Am(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((o=>e2(this.serializer,o)))};this.q_(i)}}class $2{}class Z2 extends $2{constructor(t,i,o,u){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=o,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,o,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([h,m])=>this.connection.Go(t,Tm(i,o),u,h,m))).catch((h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ct(W.UNKNOWN,h.toString())}))}Ho(t,i,o,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([m,g])=>this.connection.Ho(t,Tm(i,o),u,m,g,h))).catch((m=>{throw m.name==="FirebaseError"?(m.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),m):new ct(W.UNKNOWN,m.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class J2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ds(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ra="RemoteStore";class W2{constructor(t,i,o,u,h){this.localStore=t,this.datastore=i,this.asyncQueue=o,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo((m=>{o.enqueueAndForget((async()=>{la(this)&&(lt(ra,"Restarting streams for network reachability change."),await(async function(v){const _=It(v);_.Ea.add(4),await $l(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Dh(_)})(this))}))})),this.Ra=new J2(o,u)}}async function Dh(a){if(la(a))for(const t of a.da)await t(!0)}async function $l(a){for(const t of a.da)await t(!1)}function ZE(a,t){const i=It(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ap(i)?rp(i):To(i).O_()&&sp(i,t))}function ip(a,t){const i=It(a),o=To(i);i.Ia.delete(t),o.O_()&&JE(i,t),i.Ia.size===0&&(o.O_()?o.L_():la(i)&&i.Ra.set("Unknown"))}function sp(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}To(a).Y_(t)}function JE(a,t){a.Va.Ue(t),To(a).Z_(t)}function rp(a){a.Va=new Kw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),To(a).start(),a.Ra.ua()}function ap(a){return la(a)&&!To(a).x_()&&a.Ia.size>0}function la(a){return It(a).Ea.size===0}function WE(a){a.Va=void 0}async function tx(a){a.Ra.set("Online")}async function ex(a){a.Ia.forEach(((t,i)=>{sp(a,t)}))}async function nx(a,t){WE(a),ap(a)?(a.Ra.ha(t),rp(a)):a.Ra.set("Unknown")}async function ix(a,t,i){if(a.Ra.set("Online"),t instanceof jE&&t.state===2&&t.cause)try{await(async function(u,h){const m=h.cause;for(const g of h.targetIds)u.Ia.has(g)&&(await u.remoteSyncer.rejectListen(g,m),u.Ia.delete(g),u.Va.removeTarget(g))})(a,t)}catch(o){lt(ra,"Failed to remove targets %s: %s ",t.targetIds.join(","),o),await ah(a,o)}else if(t instanceof Hc?a.Va.Ze(t):t instanceof UE?a.Va.st(t):a.Va.tt(t),!i.isEqual(Ct.min()))try{const o=await YE(a.localStore);i.compareTo(o)>=0&&await(function(h,m){const g=h.Va.Tt(m);return g.targetChanges.forEach(((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const S=h.Ia.get(_);S&&h.Ia.set(_,S.withResumeToken(v.resumeToken,m))}})),g.targetMismatches.forEach(((v,_)=>{const S=h.Ia.get(v);if(!S)return;h.Ia.set(v,S.withResumeToken(en.EMPTY_BYTE_STRING,S.snapshotVersion)),JE(h,v);const x=new ar(S.target,v,_,S.sequenceNumber);sp(h,x)})),h.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(o){lt(ra,"Failed to raise snapshot:",o),await ah(a,o)}}async function ah(a,t,i){if(!Eo(t))throw t;a.Ea.add(1),await $l(a),a.Ra.set("Offline"),i||(i=()=>YE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{lt(ra,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Dh(a)}))}function t1(a,t){return t().catch((i=>ah(a,i,t)))}async function Mh(a){const t=It(a),i=vr(t);let o=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hm;for(;sx(t);)try{const u=await P2(t.localStore,o);if(u===null){t.Ta.length===0&&i.L_();break}o=u.batchId,rx(t,u)}catch(u){await ah(t,u)}e1(t)&&n1(t)}function sx(a){return la(a)&&a.Ta.length<10}function rx(a,t){a.Ta.push(t);const i=vr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function e1(a){return la(a)&&!vr(a).x_()&&a.Ta.length>0}function n1(a){vr(a).start()}async function ax(a){vr(a).ra()}async function ox(a){const t=vr(a);for(const i of a.Ta)t.ea(i.mutations)}async function lx(a,t,i){const o=a.Ta.shift(),u=$m.from(o,t,i);await t1(a,(()=>a.remoteSyncer.applySuccessfulWrite(u))),await Mh(a)}async function ux(a,t){t&&vr(a).X_&&await(async function(o,u){if((function(m){return Fw(m)&&m!==W.ABORTED})(u.code)){const h=o.Ta.shift();vr(o).B_(),await t1(o,(()=>o.remoteSyncer.rejectFailedWrite(h.batchId,u))),await Mh(o)}})(a,t),e1(a)&&n1(a)}async function $v(a,t){const i=It(a);i.asyncQueue.verifyOperationInProgress(),lt(ra,"RemoteStore received new credentials");const o=la(i);i.Ea.add(3),await $l(i),o&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Dh(i)}async function cx(a,t){const i=It(a);t?(i.Ea.delete(2),await Dh(i)):t||(i.Ea.add(2),await $l(i),i.Ra.set("Unknown"))}function To(a){return a.ma||(a.ma=(function(i,o,u){const h=It(i);return h.sa(),new Y2(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:tx.bind(null,a),t_:ex.bind(null,a),r_:nx.bind(null,a),H_:ix.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),ap(a)?rp(a):a.Ra.set("Unknown")):(await a.ma.stop(),WE(a))}))),a.ma}function vr(a){return a.fa||(a.fa=(function(i,o,u){const h=It(i);return h.sa(),new X2(o,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:ax.bind(null,a),r_:ux.bind(null,a),ta:ox.bind(null,a),na:lx.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Mh(a)):(await a.fa.stop(),a.Ta.length>0&&(lt(ra,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class op{constructor(t,i,o,u,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=o,this.op=u,this.removalCallback=h,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((m=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,o,u,h){const m=Date.now()+o,g=new op(t,i,m,u,h);return g.start(o),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(W.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(a,t){if(ds("AsyncQueue",`${t}: ${a}`),Eo(a))return new ct(W.UNAVAILABLE,`${t}: ${a}`);throw a}class eo{static emptySet(t){return new eo(t.comparator)}constructor(t){this.comparator=t?(i,o)=>t(i,o)||yt.comparator(i.key,o.key):(i,o)=>yt.comparator(i.key,o.key),this.keyedMap=Nl(),this.sortedSet=new _e(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,o)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof eo)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),o=t.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=o.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const o=new eo;return o.comparator=this.comparator,o.keyedMap=t,o.sortedSet=i,o}}class Zv{constructor(){this.ga=new _e(yt.comparator)}track(t){const i=t.doc.key,o=this.ga.get(i);o?t.type!==0&&o.type===3?this.ga=this.ga.insert(i,t):t.type===3&&o.type!==1?this.ga=this.ga.insert(i,{type:o.type,doc:t.doc}):t.type===2&&o.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&o.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&o.type===0?this.ga=this.ga.remove(i):t.type===1&&o.type===2?this.ga=this.ga.insert(i,{type:1,doc:o.doc}):t.type===0&&o.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:o}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,o)=>{t.push(o)})),t}}class po{constructor(t,i,o,u,h,m,g,v,_){this.query=t,this.docs=i,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=h,this.fromCache=m,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(t,i,o,u,h){const m=[];return i.forEach((g=>{m.push({type:0,doc:g})})),new po(t,i,eo.emptySet(i),m,o,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Sh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,o=t.docChanges;if(i.length!==o.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==o[u].type||!i[u].doc.isEqual(o[u].doc))return!1;return!0}}class hx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class fx{constructor(){this.queries=Jv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,o){const u=It(i),h=u.queries;u.queries=Jv(),h.forEach(((m,g)=>{for(const v of g.Sa)v.onError(o)}))})(this,new ct(W.ABORTED,"Firestore shutting down"))}}function Jv(){return new oa((a=>bE(a)),Sh)}async function i1(a,t){const i=It(a);let o=3;const u=t.query;let h=i.queries.get(u);h?!h.ba()&&t.Da()&&(o=2):(h=new hx,o=t.Da()?0:1);try{switch(o){case 0:h.wa=await i.onListen(u,!0);break;case 1:h.wa=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(m){const g=lp(m,`Initialization of query '${Za(t.query)}' failed`);return void t.onError(g)}i.queries.set(u,h),h.Sa.push(t),t.va(i.onlineState),h.wa&&t.Fa(h.wa)&&up(i)}async function s1(a,t){const i=It(a),o=t.query;let u=3;const h=i.queries.get(o);if(h){const m=h.Sa.indexOf(t);m>=0&&(h.Sa.splice(m,1),h.Sa.length===0?u=t.Da()?0:1:!h.ba()&&t.Da()&&(u=2))}switch(u){case 0:return i.queries.delete(o),i.onUnlisten(o,!0);case 1:return i.queries.delete(o),i.onUnlisten(o,!1);case 2:return i.onLastRemoteStoreUnlisten(o);default:return}}function dx(a,t){const i=It(a);let o=!1;for(const u of t){const h=u.query,m=i.queries.get(h);if(m){for(const g of m.Sa)g.Fa(u)&&(o=!0);m.wa=u}}o&&up(i)}function mx(a,t,i){const o=It(a),u=o.queries.get(t);if(u)for(const h of u.Sa)h.onError(i);o.queries.delete(t)}function up(a){a.Ca.forEach((t=>{t.next()}))}var xm,Wv;(Wv=xm||(xm={})).Ma="default",Wv.Cache="cache";class r1{constructor(t,i,o){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=o||{}}Fa(t){if(!this.options.includeMetadataChanges){const o=[];for(const u of t.docChanges)u.type!==3&&o.push(u);t=new po(t.query,t.docs,t.oldDocs,o,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const o=i!=="Offline";return(!this.options.qa||!o)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=po.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==xm.Cache}}class a1{constructor(t){this.key=t}}class o1{constructor(t){this.key=t}}class px{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=AE(t),this.tu=new eo(this.eu)}get nu(){return this.Ya}ru(t,i){const o=i?i.iu:new Zv,u=i?i.tu:this.tu;let h=i?i.mutatedKeys:this.mutatedKeys,m=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal(((S,x)=>{const V=u.get(S),G=wh(this.query,x)?x:null,et=!!V&&this.mutatedKeys.has(V.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;V&&G?V.data.isEqual(G.data)?et!==it&&(o.track({type:3,doc:G}),J=!0):this.su(V,G)||(o.track({type:2,doc:G}),J=!0,(v&&this.eu(G,v)>0||_&&this.eu(G,_)<0)&&(g=!0)):!V&&G?(o.track({type:0,doc:G}),J=!0):V&&!G&&(o.track({type:1,doc:V}),J=!0,(v||_)&&(g=!0)),J&&(G?(m=m.add(G),h=it?h.add(S):h.delete(S)):(m=m.delete(S),h=h.delete(S)))})),this.query.limit!==null)for(;m.size>this.query.limit;){const S=this.query.limitType==="F"?m.last():m.first();m=m.delete(S.key),h=h.delete(S.key),o.track({type:1,doc:S})}return{tu:m,iu:o,Cs:g,mutatedKeys:h}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,o,u){const h=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const m=t.iu.ya();m.sort(((S,x)=>(function(G,et){const it=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:J})}};return it(G)-it(et)})(S.type,x.type)||this.eu(S.doc,x.doc))),this.ou(o),u=u??!1;const g=i&&!u?this._u():[],v=this.Xa.size===0&&this.current&&!u?1:0,_=v!==this.Za;return this.Za=v,m.length!==0||_?{snapshot:new po(this.query,t.tu,h,m,t.mutatedKeys,v===0,_,!1,!!o&&o.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((o=>{this.uu(o.key)&&(this.Xa=this.Xa.add(o.key))}));const i=[];return t.forEach((o=>{this.Xa.has(o)||i.push(new o1(o))})),this.Xa.forEach((o=>{t.has(o)||i.push(new a1(o))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ht();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return po.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cp="SyncEngine";class gx{constructor(t,i,o){this.query=t,this.targetId=i,this.view=o}}class yx{constructor(t){this.key=t,this.hu=!1}}class _x{constructor(t,i,o,u,h,m){this.localStore=t,this.remoteStore=i,this.eventManager=o,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=m,this.Pu={},this.Tu=new oa((g=>bE(g)),Sh),this.Iu=new Map,this.Eu=new Set,this.du=new _e(yt.comparator),this.Au=new Map,this.Ru=new Wm,this.Vu={},this.mu=new Map,this.fu=mo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function vx(a,t,i=!0){const o=d1(a);let u;const h=o.Tu.get(t);return h?(o.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await l1(o,t,i,!0),u}async function Ex(a,t){const i=d1(a);await l1(i,t,!0,!1)}async function l1(a,t,i,o){const u=await z2(a.localStore,ki(t)),h=u.targetId,m=a.sharedClientState.addLocalQueryTarget(h,i);let g;return o&&(g=await Tx(a,t,h,m==="current",u.resumeToken)),a.isPrimaryClient&&i&&ZE(a.remoteStore,u),g}async function Tx(a,t,i,o,u){a.pu=(x,V,G)=>(async function(it,J,nt,gt){let ht=J.view.ru(nt);ht.Cs&&(ht=await Gv(it.localStore,J.query,!1).then((({documents:I})=>J.view.ru(I,ht))));const mt=gt&&gt.targetChanges.get(J.targetId),Vt=gt&&gt.targetMismatches.get(J.targetId)!=null,dt=J.view.applyChanges(ht,it.isPrimaryClient,mt,Vt);return e0(it,J.targetId,dt.au),dt.snapshot})(a,x,V,G);const h=await Gv(a.localStore,t,!0),m=new px(t,h.Qs),g=m.ru(h.documents),v=Xl.createSynthesizedTargetChangeForCurrentChange(i,o&&a.onlineState!=="Offline",u),_=m.applyChanges(g,a.isPrimaryClient,v);e0(a,i,_.au);const S=new gx(t,i,m);return a.Tu.set(t,S),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function bx(a,t,i){const o=It(a),u=o.Tu.get(t),h=o.Iu.get(u.targetId);if(h.length>1)return o.Iu.set(u.targetId,h.filter((m=>!Sh(m,t)))),void o.Tu.delete(t);o.isPrimaryClient?(o.sharedClientState.removeLocalQueryTarget(u.targetId),o.sharedClientState.isActiveQueryTarget(u.targetId)||await Sm(o.localStore,u.targetId,!1).then((()=>{o.sharedClientState.clearQueryState(u.targetId),i&&ip(o.remoteStore,u.targetId),Cm(o,u.targetId)})).catch(vo)):(Cm(o,u.targetId),await Sm(o.localStore,u.targetId,!0))}async function Ax(a,t){const i=It(a),o=i.Tu.get(t),u=i.Iu.get(o.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(o.targetId),ip(i.remoteStore,o.targetId))}async function Sx(a,t,i){const o=Dx(a);try{const u=await(function(m,g){const v=It(m),_=de.now(),S=g.reduce(((G,et)=>G.add(et.key)),Ht());let x,V;return v.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let et=ms(),it=Ht();return v.Ns.getEntries(G,S).next((J=>{et=J,et.forEach(((nt,gt)=>{gt.isValidDocument()||(it=it.add(nt))}))})).next((()=>v.localDocuments.getOverlayedDocuments(G,et))).next((J=>{x=J;const nt=[];for(const gt of g){const ht=Pw(gt,x.get(gt.key).overlayedDocument);ht!=null&&nt.push(new Sr(gt.key,ht,pE(ht.value.mapValue),bn.exists(!0)))}return v.mutationQueue.addMutationBatch(G,_,nt,g)})).next((J=>{V=J;const nt=J.applyToLocalDocumentSet(x,it);return v.documentOverlayCache.saveOverlays(G,J.batchId,nt)}))})).then((()=>({batchId:V.batchId,changes:wE(x)})))})(o.localStore,t);o.sharedClientState.addPendingMutation(u.batchId),(function(m,g,v){let _=m.Vu[m.currentUser.toKey()];_||(_=new _e(qt)),_=_.insert(g,v),m.Vu[m.currentUser.toKey()]=_})(o,u.batchId,i),await Zl(o,u.changes),await Mh(o.remoteStore)}catch(u){const h=lp(u,"Failed to persist write");i.reject(h)}}async function u1(a,t){const i=It(a);try{const o=await j2(i.localStore,t);t.targetChanges.forEach(((u,h)=>{const m=i.Au.get(h);m&&(Zt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?m.hu=!0:u.modifiedDocuments.size>0?Zt(m.hu,14607):u.removedDocuments.size>0&&(Zt(m.hu,42227),m.hu=!1))})),await Zl(i,o,t)}catch(o){await vo(o)}}function t0(a,t,i){const o=It(a);if(o.isPrimaryClient&&i===0||!o.isPrimaryClient&&i===1){const u=[];o.Tu.forEach(((h,m)=>{const g=m.view.va(t);g.snapshot&&u.push(g.snapshot)})),(function(m,g){const v=It(m);v.onlineState=g;let _=!1;v.queries.forEach(((S,x)=>{for(const V of x.Sa)V.va(g)&&(_=!0)})),_&&up(v)})(o.eventManager,t),u.length&&o.Pu.H_(u),o.onlineState=t,o.isPrimaryClient&&o.sharedClientState.setOnlineState(t)}}async function wx(a,t,i){const o=It(a);o.sharedClientState.updateQueryState(t,"rejected",i);const u=o.Au.get(t),h=u&&u.key;if(h){let m=new _e(yt.comparator);m=m.insert(h,ln.newNoDocument(h,Ct.min()));const g=Ht().add(h),v=new Nh(Ct.min(),new Map,new _e(qt),m,g);await u1(o,v),o.du=o.du.remove(h),o.Au.delete(t),hp(o)}else await Sm(o.localStore,t,!1).then((()=>Cm(o,t,i))).catch(vo)}async function xx(a,t){const i=It(a),o=t.batch.batchId;try{const u=await U2(i.localStore,t);h1(i,o,null),c1(i,o),i.sharedClientState.updateMutationState(o,"acknowledged"),await Zl(i,u)}catch(u){await vo(u)}}async function Cx(a,t,i){const o=It(a);try{const u=await(function(m,g){const v=It(m);return v.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let S;return v.mutationQueue.lookupMutationBatch(_,g).next((x=>(Zt(x!==null,37113),S=x.keys(),v.mutationQueue.removeMutationBatch(_,x)))).next((()=>v.mutationQueue.performConsistencyCheck(_))).next((()=>v.documentOverlayCache.removeOverlaysForBatchId(_,S,g))).next((()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,S))).next((()=>v.localDocuments.getDocuments(_,S)))}))})(o.localStore,t);h1(o,t,i),c1(o,t),o.sharedClientState.updateMutationState(t,"rejected",i),await Zl(o,u)}catch(u){await vo(u)}}function c1(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function h1(a,t,i){const o=It(a);let u=o.Vu[o.currentUser.toKey()];if(u){const h=u.get(t);h&&(i?h.reject(i):h.resolve(),u=u.remove(t)),o.Vu[o.currentUser.toKey()]=u}}function Cm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const o of a.Iu.get(t))a.Tu.delete(o),i&&a.Pu.yu(o,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((o=>{a.Ru.containsKey(o)||f1(a,o)}))}function f1(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(ip(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),hp(a))}function e0(a,t,i){for(const o of i)o instanceof a1?(a.Ru.addReference(o.key,t),Rx(a,o)):o instanceof o1?(lt(cp,"Document no longer in limbo: "+o.key),a.Ru.removeReference(o.key,t),a.Ru.containsKey(o.key)||f1(a,o.key)):bt(19791,{wu:o})}function Rx(a,t){const i=t.key,o=i.path.canonicalString();a.du.get(i)||a.Eu.has(o)||(lt(cp,"New document in limbo: "+i),a.Eu.add(o),hp(a))}function hp(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new yt(fe.fromString(t)),o=a.fu.next();a.Au.set(o,new yx(i)),a.du=a.du.insert(i,o),ZE(a.remoteStore,new ar(ki(Ah(i.path)),o,"TargetPurposeLimboResolution",vh.ce))}}async function Zl(a,t,i){const o=It(a),u=[],h=[],m=[];o.Tu.isEmpty()||(o.Tu.forEach(((g,v)=>{m.push(o.pu(v,t,i).then((_=>{if((_||i)&&o.isPrimaryClient){const S=_?!_.fromCache:i?.targetChanges.get(v.targetId)?.current;o.sharedClientState.updateQueryState(v.targetId,S?"current":"not-current")}if(_){u.push(_);const S=ep.As(v.targetId,_);h.push(S)}})))})),await Promise.all(m),o.Pu.H_(u),await(async function(v,_){const S=It(v);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>Z.forEach(_,(V=>Z.forEach(V.Es,(G=>S.persistence.referenceDelegate.addReference(x,V.targetId,G))).next((()=>Z.forEach(V.ds,(G=>S.persistence.referenceDelegate.removeReference(x,V.targetId,G)))))))))}catch(x){if(!Eo(x))throw x;lt(np,"Failed to update sequence numbers: "+x)}for(const x of _){const V=x.targetId;if(!x.fromCache){const G=S.Ms.get(V),et=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(et);S.Ms=S.Ms.insert(V,it)}}})(o.localStore,h))}async function Nx(a,t){const i=It(a);if(!i.currentUser.isEqual(t)){lt(cp,"User change. New user:",t.toKey());const o=await KE(i.localStore,t);i.currentUser=t,(function(h,m){h.mu.forEach((g=>{g.forEach((v=>{v.reject(new ct(W.CANCELLED,m))}))})),h.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,o.removedBatchIds,o.addedBatchIds),await Zl(i,o.Ls)}}function Ix(a,t){const i=It(a),o=i.Au.get(t);if(o&&o.hu)return Ht().add(o.key);{let u=Ht();const h=i.Iu.get(t);if(!h)return u;for(const m of h){const g=i.Tu.get(m);u=u.unionWith(g.view.nu)}return u}}function d1(a){const t=It(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ix.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=wx.bind(null,t),t.Pu.H_=dx.bind(null,t.eventManager),t.Pu.yu=mx.bind(null,t.eventManager),t}function Dx(a){const t=It(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=xx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Cx.bind(null,t),t}class oh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ih(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return k2(this.persistence,new M2,t.initialUser,this.serializer)}Cu(t){return new QE(tp.mi,this.serializer)}Du(t){return new q2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oh.provider={build:()=>new oh};class Mx extends oh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof rh,46915);const o=this.persistence.referenceDelegate.garbageCollector;return new y2(o,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?En.withCacheSize(this.cacheSizeBytes):En.DEFAULT;return new QE((o=>rh.mi(o,i)),this.serializer)}}class Rm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=o=>t0(this.syncEngine,o,1),this.remoteStore.remoteSyncer.handleCredentialChange=Nx.bind(null,this.syncEngine),await cx(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new fx})()}createDatastore(t){const i=Ih(t.databaseInfo.databaseId),o=(function(h){return new K2(h)})(t.databaseInfo);return(function(h,m,g,v){return new Z2(h,m,g,v)})(t.authCredentials,t.appCheckCredentials,o,i)}createRemoteStore(t){return(function(o,u,h,m,g){return new W2(o,u,h,m,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>t0(this.syncEngine,i,0)),(function(){return Yv.v()?new Yv:new H2})())}createSyncEngine(t,i){return(function(u,h,m,g,v,_,S){const x=new _x(u,h,m,g,v,_);return S&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const o=It(i);lt(ra,"RemoteStore shutting down."),o.Ea.add(5),await $l(o),o.Aa.shutdown(),o.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Rm.provider={build:()=>new Rm};class m1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ds("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Er="FirestoreClient";class Ox{constructor(t,i,o,u,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=o,this.databaseInfo=u,this.user=an.UNAUTHENTICATED,this.clientId=Bm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(o,(async m=>{lt(Er,"Received user=",m.uid),await this.authCredentialListener(m),this.user=m})),this.appCheckCredentials.start(o,(m=>(lt(Er,"Received new app check token=",m),this.appCheckCredentialListener(m,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const o=lp(i,"Failed to shutdown persistence");t.reject(o)}})),t.promise}}async function im(a,t){a.asyncQueue.verifyOperationInProgress(),lt(Er,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let o=i.initialUser;a.setCredentialChangeListener((async u=>{o.isEqual(u)||(await KE(t.localStore,u),o=u)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function n0(a,t){a.asyncQueue.verifyOperationInProgress();const i=await Vx(a);lt(Er,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((o=>$v(t.remoteStore,o))),a.setAppCheckTokenChangeListener(((o,u)=>$v(t.remoteStore,u))),a._onlineComponents=t}async function Vx(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){lt(Er,"Using user provided OfflineComponentProvider");try{await im(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(u){return u.name==="FirebaseError"?u.code===W.FAILED_PRECONDITION||u.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11})(i))throw i;oo("Error using user provided cache. Falling back to memory cache: "+i),await im(a,new oh)}}else lt(Er,"Using default OfflineComponentProvider"),await im(a,new Mx(void 0));return a._offlineComponents}async function p1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(lt(Er,"Using user provided OnlineComponentProvider"),await n0(a,a._uninitializedComponentsProvider._online)):(lt(Er,"Using default OnlineComponentProvider"),await n0(a,new Rm))),a._onlineComponents}function kx(a){return p1(a).then((t=>t.syncEngine))}async function Nm(a){const t=await p1(a),i=t.eventManager;return i.onListen=vx.bind(null,t.syncEngine),i.onUnlisten=bx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=Ex.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Ax.bind(null,t.syncEngine),i}function Ux(a,t,i={}){const o=new hr;return a.asyncQueue.enqueueAndForget((async()=>(function(h,m,g,v,_){const S=new m1({next:V=>{S.Nu(),m.enqueueAndForget((()=>s1(h,x)));const G=V.docs.has(g);!G&&V.fromCache?_.reject(new ct(W.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&V.fromCache&&v&&v.source==="server"?_.reject(new ct(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(V)},error:V=>_.reject(V)}),x=new r1(Ah(g.path),S,{includeMetadataChanges:!0,qa:!0});return i1(h,x)})(await Nm(a),a.asyncQueue,t,i,o))),o.promise}function g1(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const i0=new Map;const y1="firestore.googleapis.com",s0=!0;class r0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y1,this.ssl=s0}else this.host=t.host,this.ssl=t.ssl??s0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<p2)throw new ct(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1(t.experimentalLongPollingOptions??{}),(function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new ct(W.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(o,u){return o.timeoutSeconds===u.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Oh{constructor(t,i,o,u){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=o,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new r0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new r0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(o){if(!o)return new HS;switch(o.type){case"firstParty":return new KS(o.sessionIndex||"0",o.iamToken||null,o.authTokenFactory||null);case"provider":return o.client;default:throw new ct(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const o=i0.get(i);o&&(lt("ComponentProvider","Removing Datastore"),i0.delete(i),o.terminate())})(this),Promise.resolve()}}function jx(a,t,i,o={}){a=Yn(a,Oh);const u=go(t),h=a._getSettings(),m={...h,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;u&&(q0(`https://${g}`),H0("Firestore",!0)),h.host!==y1&&h.host!==g&&oo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v={...h,host:g,ssl:u,emulatorOptions:o};if(!hs(v,m)&&(a._setSettings(v),o.mockUserToken)){let _,S;if(typeof o.mockUserToken=="string")_=o.mockUserToken,S=an.MOCK_USER;else{_=mA(o.mockUserToken,a._app?.options.projectId);const x=o.mockUserToken.sub||o.mockUserToken.user_id;if(!x)throw new ct(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");S=new an(x)}a._authCredentials=new FS(new iE(_,S))}}class Vh{constructor(t,i,o){this.converter=i,this._query=o,this.type="query",this.firestore=t}withConverter(t){return new Vh(this.firestore,t,this._query)}}class Ce{constructor(t,i,o){this.converter=i,this._key=o,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,o){if(Kl(i,Ce._jsonSchema))return new Ce(t,o||null,new yt(fe.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:je("string",Ce._jsonSchemaVersion),referencePath:je("string")};class fr extends Vh{constructor(t,i,o){super(t,i,Ah(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new yt(t))}withConverter(t){return new fr(this.firestore,t,this._path)}}function sm(a,t,...i){if(a=Ge(a),sE("collection","path",t),a instanceof Oh){const o=fe.fromString(t,...i);return vv(o),new fr(a,null,o)}{if(!(a instanceof Ce||a instanceof fr))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(fe.fromString(t,...i));return vv(o),new fr(a.firestore,null,o)}}function ge(a,t,...i){if(a=Ge(a),arguments.length===1&&(t=Bm.newId()),sE("doc","path",t),a instanceof Oh){const o=fe.fromString(t,...i);return _v(o),new Ce(a,null,new yt(o))}{if(!(a instanceof Ce||a instanceof fr))throw new ct(W.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=a._path.child(fe.fromString(t,...i));return _v(o),new Ce(a.firestore,a instanceof fr?a.converter:null,new yt(o))}}const a0="AsyncQueue";class o0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const o=nm();o&&lt(a0,"Visibility state changed to "+o.visibilityState),this.M_.w_()},this.ac=t;const i=nm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=nm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Eo(t))throw t;lt(a0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((o=>{throw this.nc=o,this.rc=!1,ds("INTERNAL UNHANDLED ERROR: ",l0(o)),o})).then((o=>(this.rc=!1,o))))));return this.ac=i,i}enqueueAfterDelay(t,i,o){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const u=op.createAndSchedule(this,t,i,o,(h=>this.hc(h)));return this.tc.push(u),u}uc(){this.nc&&bt(47125,{Pc:l0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,o)=>i.targetTimeMs-o.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function l0(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function u0(a){return(function(i,o){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of o)if(h in u&&typeof u[h]=="function")return!0;return!1})(a,["next","error","complete"])}class Tr extends Oh{constructor(t,i,o,u){super(t,i,o,u),this.type="firestore",this._queue=new o0,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new o0(t),this._firestoreClient=void 0,await t}}}function Lx(a,t){const i=typeof a=="object"?a:K0(),o=typeof a=="string"?a:Wc,u=Pm(i,"firestore").getImmediate({identifier:o});if(!u._initialized){const h=fA("firestore");h&&jx(u,...h)}return u}function kh(a){if(a._terminated)throw new ct(W.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||Px(a),a._firestoreClient}function Px(a){const t=a._freezeSettings(),i=(function(u,h,m,g){return new cw(u,h,m,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new Ox(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}})(a._componentsProvider))}class Kn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Kn(en.fromBase64String(t))}catch(i){throw new ct(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Kn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Kn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Kl(t,Kn._jsonSchema))return Kn.fromBase64String(t.bytes)}}Kn._jsonSchemaVersion="firestore/bytes/1.0",Kn._jsonSchema={type:je("string",Kn._jsonSchemaVersion),bytes:je("string")};class Jl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class bo{constructor(t){this._methodName=t}}class ji{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return qt(this._lat,t._lat)||qt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ji._jsonSchemaVersion}}static fromJSON(t){if(Kl(t,ji._jsonSchema))return new ji(t.latitude,t.longitude)}}ji._jsonSchemaVersion="firestore/geoPoint/1.0",ji._jsonSchema={type:je("string",ji._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class Li{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(o,u){if(o.length!==u.length)return!1;for(let h=0;h<o.length;++h)if(o[h]!==u[h])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Li._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Kl(t,Li._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Li(t.vectorValues);throw new ct(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Li._jsonSchemaVersion="firestore/vectorValue/1.0",Li._jsonSchema={type:je("string",Li._jsonSchemaVersion),vectorValues:je("object")};const zx=/^__.*__$/;class Bx{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Yl(t,this.data,i,this.fieldTransforms)}}class _1{constructor(t,i,o){this.data=t,this.fieldMask=i,this.fieldTransforms=o}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function v1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:a})}}class Uh{constructor(t,i,o,u,h,m){this.settings=t,this.databaseId=i,this.serializer=o,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=m||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Uh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),o=this.Vc({path:i,fc:!1});return o.gc(t),o}yc(t){const i=this.path?.child(t),o=this.Vc({path:i,fc:!1});return o.Rc(),o}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return lh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(v1(this.Ac)&&zx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class qx{constructor(t,i,o){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=o||Ih(t)}Cc(t,i,o,u=!1){return new Uh({Ac:t,methodName:i,Dc:o,path:tn.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fp(a){const t=a._freezeSettings(),i=Ih(a._databaseId);return new qx(a._databaseId,!!t.ignoreUndefinedProperties,i)}function E1(a,t,i,o,u,h={}){const m=a.Cc(h.merge||h.mergeFields?2:0,t,i,u);gp("Data must be an object, but it was:",m,o);const g=S1(o,m);let v,_;if(h.merge)v=new On(m.fieldMask),_=m.fieldTransforms;else if(h.mergeFields){const S=[];for(const x of h.mergeFields){const V=Im(t,x,i);if(!m.contains(V))throw new ct(W.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);x1(S,V)||S.push(V)}v=new On(S),_=m.fieldTransforms.filter((x=>v.covers(x.field)))}else v=null,_=m.fieldTransforms;return new Bx(new Tn(g),v,_)}class jh extends bo{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof jh}}function T1(a,t,i){return new Uh({Ac:3,Dc:t.settings.Dc,methodName:a._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class dp extends bo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=T1(this,t,!0),o=this.vc.map((h=>Ao(h,i))),u=new ho(o);return new Xm(t.path,u)}isEqual(t){return t instanceof dp&&hs(this.vc,t.vc)}}class mp extends bo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=T1(this,t,!0),o=this.vc.map((h=>Ao(h,i))),u=new fo(o);return new Xm(t.path,u)}isEqual(t){return t instanceof mp&&hs(this.vc,t.vc)}}class pp extends bo{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Hl(t.serializer,RE(t.serializer,this.Fc));return new Xm(t.path,i)}isEqual(t){return t instanceof pp&&this.Fc===t.Fc}}function b1(a,t,i,o){const u=a.Cc(1,t,i);gp("Data must be an object, but it was:",u,o);const h=[],m=Tn.empty();Ar(o,((v,_)=>{const S=yp(t,v,i);_=Ge(_);const x=u.yc(S);if(_ instanceof jh)h.push(S);else{const V=Ao(_,x);V!=null&&(h.push(S),m.set(S,V))}}));const g=new On(h);return new _1(m,g,u.fieldTransforms)}function A1(a,t,i,o,u,h){const m=a.Cc(1,t,i),g=[Im(t,o,i)],v=[u];if(h.length%2!=0)throw new ct(W.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<h.length;V+=2)g.push(Im(t,h[V])),v.push(h[V+1]);const _=[],S=Tn.empty();for(let V=g.length-1;V>=0;--V)if(!x1(_,g[V])){const G=g[V];let et=v[V];et=Ge(et);const it=m.yc(G);if(et instanceof jh)_.push(G);else{const J=Ao(et,it);J!=null&&(_.push(G),S.set(G,J))}}const x=new On(_);return new _1(S,x,m.fieldTransforms)}function Ao(a,t){if(w1(a=Ge(a)))return gp("Unsupported field value:",t,a),S1(a,t);if(a instanceof bo)return(function(o,u){if(!v1(u.Ac))throw u.Sc(`${o._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${o._methodName}() is not currently supported inside arrays`);const h=o._toFieldTransform(u);h&&u.fieldTransforms.push(h)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(o,u){const h=[];let m=0;for(const g of o){let v=Ao(g,u.wc(m));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),m++}return{arrayValue:{values:h}}})(a,t)}return(function(o,u){if((o=Ge(o))===null)return{nullValue:"NULL_VALUE"};if(typeof o=="number")return RE(u.serializer,o);if(typeof o=="boolean")return{booleanValue:o};if(typeof o=="string")return{stringValue:o};if(o instanceof Date){const h=de.fromDate(o);return{timestampValue:sh(u.serializer,h)}}if(o instanceof de){const h=new de(o.seconds,1e3*Math.floor(o.nanoseconds/1e3));return{timestampValue:sh(u.serializer,h)}}if(o instanceof ji)return{geoPointValue:{latitude:o.latitude,longitude:o.longitude}};if(o instanceof Kn)return{bytesValue:LE(u.serializer,o._byteString)};if(o instanceof Ce){const h=u.databaseId,m=o.firestore._databaseId;if(!m.isEqual(h))throw u.Sc(`Document reference is for database ${m.projectId}/${m.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:Jm(o.firestore._databaseId||u.databaseId,o._key.path)}}if(o instanceof Li)return(function(m,g){return{mapValue:{fields:{[dE]:{stringValue:mE},[th]:{arrayValue:{values:m.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return Ym(g.serializer,_)}))}}}}}})(o,u);throw u.Sc(`Unsupported field value: ${qm(o)}`)})(a,t)}function S1(a,t){const i={};return oE(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(a,((o,u)=>{const h=Ao(u,t.mc(o));h!=null&&(i[o]=h)})),{mapValue:{fields:i}}}function w1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof de||a instanceof ji||a instanceof Kn||a instanceof Ce||a instanceof bo||a instanceof Li)}function gp(a,t,i){if(!w1(i)||!rE(i)){const o=qm(i);throw o==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+o)}}function Im(a,t,i){if((t=Ge(t))instanceof Jl)return t._internalPath;if(typeof t=="string")return yp(a,t);throw lh("Field path arguments must be of type string or ",a,!1,void 0,i)}const Hx=new RegExp("[~\\*/\\[\\]]");function yp(a,t,i){if(t.search(Hx)>=0)throw lh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Jl(...t.split("."))._internalPath}catch{throw lh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function lh(a,t,i,o,u){const h=o&&!o.isEmpty(),m=u!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||m)&&(v+=" (found",h&&(v+=` in field ${o}`),m&&(v+=` in document ${u}`),v+=")"),new ct(W.INVALID_ARGUMENT,g+a+v)}function x1(a,t){return a.some((i=>i.isEqual(t)))}class C1{constructor(t,i,o,u,h){this._firestore=t,this._userDataWriter=i,this._key=o,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Fx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(R1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Fx extends C1{data(){return super.data()}}function R1(a,t){return typeof t=="string"?yp(a,t):t instanceof Jl?t._internalPath:t._delegate._internalPath}function Gx(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(W.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qx{convertValue(t,i="none"){switch(_r(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(yr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const o={};return Ar(t,((u,h)=>{o[u]=this.convertValue(h,i)})),o}convertVectorValue(t){const i=t.fields?.[th].arrayValue?.values?.map((o=>xe(o.doubleValue)));return new Li(i)}convertGeoPoint(t){return new ji(xe(t.latitude),xe(t.longitude))}convertArray(t,i){return(t.values||[]).map((o=>this.convertValue(o,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const o=Th(t);return o==null?null:this.convertValue(o,i);case"estimate":return this.convertTimestamp(zl(t));default:return null}}convertTimestamp(t){const i=gr(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const o=fe.fromString(t);Zt(FE(o),9688,{name:t});const u=new Bl(o.get(1),o.get(3)),h=new yt(o.popFirst(5));return u.isEqual(i)||ds(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}function N1(a,t,i){let o;return o=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,o}class Dl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class na extends C1{constructor(t,i,o,u,h,m){super(t,i,o,u,m),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Fc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const o=this._document.data.field(R1("DocumentSnapshot.get",t));if(o!==null)return this._userDataWriter.convertValue(o,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=na._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}na._jsonSchemaVersion="firestore/documentSnapshot/1.0",na._jsonSchema={type:je("string",na._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Fc extends na{data(t={}){return super.data(t)}}class no{constructor(t,i,o,u){this._firestore=t,this._userDataWriter=i,this._snapshot=u,this.metadata=new Dl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((o=>{t.call(i,new Fc(this._firestore,this._userDataWriter,o.key,o,new Dl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(u,h){if(u._snapshot.oldDocs.isEmpty()){let m=0;return u._snapshot.docChanges.map((g=>{const v=new Fc(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Dl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:m++}}))}{let m=u._snapshot.oldDocs;return u._snapshot.docChanges.filter((g=>h||g.type!==3)).map((g=>{const v=new Fc(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Dl(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,S=-1;return g.type!==0&&(_=m.indexOf(g.doc.key),m=m.delete(g.doc.key)),g.type!==1&&(m=m.add(g.doc),S=m.indexOf(g.doc.key)),{type:Kx(g.type),doc:v,oldIndex:_,newIndex:S}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=no._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Bm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],o=[],u=[];return this.docs.forEach((h=>{h._document!==null&&(i.push(h._document),o.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Kx(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:a})}}function Gc(a){a=Yn(a,Ce);const t=Yn(a.firestore,Tr);return Ux(kh(t),a._key).then((i=>D1(t,a,i)))}no._jsonSchemaVersion="firestore/querySnapshot/1.0",no._jsonSchema={type:je("string",no._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class I1 extends Qx{constructor(t){super(),this.firestore=t}convertBytes(t){return new Kn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function er(a,t,i){a=Yn(a,Ce);const o=Yn(a.firestore,Tr),u=N1(a.converter,t,i);return Lh(o,[E1(fp(o),"setDoc",a._key,u,a.converter!==null,i).toMutation(a._key,bn.none())])}function on(a,t,i,...o){a=Yn(a,Ce);const u=Yn(a.firestore,Tr),h=fp(u);let m;return m=typeof(t=Ge(t))=="string"||t instanceof Jl?A1(h,"updateDoc",a._key,t,i,o):b1(h,"updateDoc",a._key,t),Lh(u,[m.toMutation(a._key,bn.exists(!0))])}function c0(a){return Lh(Yn(a.firestore,Tr),[new Rh(a._key,bn.none())])}function Uc(a,...t){a=Ge(a);let i={includeMetadataChanges:!1,source:"default"},o=0;typeof t[o]!="object"||u0(t[o])||(i=t[o++]);const u={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(u0(t[o])){const v=t[o];t[o]=v.next?.bind(v),t[o+1]=v.error?.bind(v),t[o+2]=v.complete?.bind(v)}let h,m,g;if(a instanceof Ce)m=Yn(a.firestore,Tr),g=Ah(a._key.path),h={next:v=>{t[o]&&t[o](D1(m,a,v))},error:t[o+1],complete:t[o+2]};else{const v=Yn(a,Vh);m=Yn(v.firestore,Tr),g=v._query;const _=new I1(m);h={next:S=>{t[o]&&t[o](new no(m,_,v,S))},error:t[o+1],complete:t[o+2]},Gx(a._query)}return(function(_,S,x,V){const G=new m1(V),et=new r1(S,G,x);return _.asyncQueue.enqueueAndForget((async()=>i1(await Nm(_),et))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>s1(await Nm(_),et)))}})(kh(m),g,u,h)}function Lh(a,t){return(function(o,u){const h=new hr;return o.asyncQueue.enqueueAndForget((async()=>Sx(await kx(o),u,h))),h.promise})(kh(a),t)}function D1(a,t,i){const o=i.docs.get(t._key),u=new I1(a);return new na(a,u,t._key,o,new Dl(i.hasPendingWrites,i.fromCache),t.converter)}class Yx{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=fp(t)}set(t,i,o){this._verifyNotCommitted();const u=rm(t,this._firestore),h=N1(u.converter,i,o),m=E1(this._dataReader,"WriteBatch.set",u._key,h,u.converter!==null,o);return this._mutations.push(m.toMutation(u._key,bn.none())),this}update(t,i,o,...u){this._verifyNotCommitted();const h=rm(t,this._firestore);let m;return m=typeof(i=Ge(i))=="string"||i instanceof Jl?A1(this._dataReader,"WriteBatch.update",h._key,i,o,u):b1(this._dataReader,"WriteBatch.update",h._key,i),this._mutations.push(m.toMutation(h._key,bn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=rm(t,this._firestore);return this._mutations=this._mutations.concat(new Rh(i._key,bn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(W.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rm(a,t){if((a=Ge(a)).firestore!==t)throw new ct(W.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return a}function Xx(...a){return new dp("arrayUnion",a)}function uh(...a){return new mp("arrayRemove",a)}function Vi(a){return new pp("increment",a)}function $x(a){return kh(a=Yn(a,Tr)),new Yx(a,(t=>Lh(a,t)))}(function(t,i=!0){(function(u){_o=u})(yo),ao(new ia("firestore",((o,{instanceIdentifier:u,options:h})=>{const m=o.getProvider("app").getImmediate(),g=new Tr(new GS(o.getProvider("auth-internal")),new YS(m,o.getProvider("app-check-internal")),(function(_,S){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(_.options.projectId,S)})(m,u),m);return h={useFetchStreams:i,...h},g._setSettings(h),g}),"PUBLIC").setMultipleInstances(!0)),ur(mv,pv,t),ur(mv,pv,"esm2020")})();function M1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zx=M1,O1=new Gl("auth","Firebase",M1());const ch=new jm("@firebase/auth");function Jx(a,...t){ch.logLevel<=Bt.WARN&&ch.warn(`Auth (${yo}): ${a}`,...t)}function Qc(a,...t){ch.logLevel<=Bt.ERROR&&ch.error(`Auth (${yo}): ${a}`,...t)}function ps(a,...t){throw _p(a,...t)}function Pi(a,...t){return _p(a,...t)}function V1(a,t,i){const o={...Zx(),[t]:i};return new Gl("auth","Firebase",o).create(t,{appName:a.name})}function dr(a){return V1(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(a,...t){if(typeof a!="string"){const i=t[0],o=[...t.slice(1)];return o[0]&&(o[0].appName=a.name),a._errorFactory.create(i,...o)}return O1.create(a,...t)}function St(a,t,...i){if(!a)throw _p(t,...i)}function us(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Qc(t),new Error(t)}function gs(a,t){a||us(t)}function Dm(){return typeof self<"u"&&self.location?.href||""}function Wx(){return h0()==="http:"||h0()==="https:"}function h0(){return typeof self<"u"&&self.location?.protocol||null}function tC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Wx()||EA()||"connection"in navigator)?navigator.onLine:!0}function eC(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Wl{constructor(t,i){this.shortDelay=t,this.longDelay=i,gs(i>t,"Short delay should be less than long delay!"),this.isMobile=yA()||TA()}get(){return tC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(a,t){gs(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class k1{static initialize(t,i,o){this.fetchImpl=t,i&&(this.headersImpl=i),o&&(this.responseImpl=o)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;us("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;us("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;us("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sC=new Wl(3e4,6e4);function Ph(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function So(a,t,i,o,u={}){return U1(a,u,async()=>{let h={},m={};o&&(t==="GET"?m=o:h={body:JSON.stringify(o)});const g=Ql({key:a.config.apiKey,...m}).slice(1),v=await a._getAdditionalHeaders();v["Content-Type"]="application/json",a.languageCode&&(v["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:v,...h};return vA()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&go(a.emulatorConfig.host)&&(_.credentials="include"),k1.fetch()(await L1(a,a.config.apiHost,i,g),_)})}async function U1(a,t,i){a._canInitEmulator=!1;const o={...nC,...t};try{const u=new rC(a),h=await Promise.race([i(),u.promise]);u.clearNetworkTimeout();const m=await h.json();if("needConfirmation"in m)throw jc(a,"account-exists-with-different-credential",m);if(h.ok&&!("errorMessage"in m))return m;{const g=h.ok?m.errorMessage:m.error.message,[v,_]=g.split(" : ");if(v==="FEDERATED_USER_ID_ALREADY_LINKED")throw jc(a,"credential-already-in-use",m);if(v==="EMAIL_EXISTS")throw jc(a,"email-already-in-use",m);if(v==="USER_DISABLED")throw jc(a,"user-disabled",m);const S=o[v]||v.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw V1(a,S,_);ps(a,S)}}catch(u){if(u instanceof ys)throw u;ps(a,"network-request-failed",{message:String(u)})}}async function j1(a,t,i,o,u={}){const h=await So(a,t,i,o,u);return"mfaPendingCredential"in h&&ps(a,"multi-factor-auth-required",{_serverResponse:h}),h}async function L1(a,t,i,o){const u=`${t}${i}?${o}`,h=a,m=h.config.emulator?vp(a.config,u):`${a.config.apiScheme}://${u}`;return iC.includes(i)&&(await h._persistenceManagerAvailable,h._getPersistenceType()==="COOKIE")?h._getPersistence()._getFinalTarget(m).toString():m}class rC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,o)=>{this.timer=setTimeout(()=>o(Pi(this.auth,"network-request-failed")),sC.get())})}}function jc(a,t,i){const o={appName:a.name};i.email&&(o.email=i.email),i.phoneNumber&&(o.phoneNumber=i.phoneNumber);const u=Pi(a,t,o);return u.customData._tokenResponse=i,u}async function aC(a,t){return So(a,"POST","/v1/accounts:delete",t)}async function hh(a,t){return So(a,"POST","/v1/accounts:lookup",t)}function jl(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oC(a,t=!1){const i=Ge(a),o=await i.getIdToken(t),u=Ep(o);St(u&&u.exp&&u.auth_time&&u.iat,i.auth,"internal-error");const h=typeof u.firebase=="object"?u.firebase:void 0,m=h?.sign_in_provider;return{claims:u,token:o,authTime:jl(am(u.auth_time)),issuedAtTime:jl(am(u.iat)),expirationTime:jl(am(u.exp)),signInProvider:m||null,signInSecondFactor:h?.sign_in_second_factor||null}}function am(a){return Number(a)*1e3}function Ep(a){const[t,i,o]=a.split(".");if(t===void 0||i===void 0||o===void 0)return Qc("JWT malformed, contained fewer than 3 sections"),null;try{const u=L0(i);return u?JSON.parse(u):(Qc("Failed to decode base64 JWT payload"),null)}catch(u){return Qc("Caught error parsing JWT payload as JSON",u?.toString()),null}}function f0(a){const t=Ep(a);return St(t,"internal-error"),St(typeof t.exp<"u","internal-error"),St(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Fl(a,t,i=!1){if(i)return t;try{return await t}catch(o){throw o instanceof ys&&lC(o)&&a.auth.currentUser===a&&await a.auth.signOut(),o}}function lC({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class uC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,o)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Mm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=jl(this.lastLoginAt),this.creationTime=jl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function fh(a){const t=a.auth,i=await a.getIdToken(),o=await Fl(a,hh(t,{idToken:i}));St(o?.users.length,t,"internal-error");const u=o.users[0];a._notifyReloadListener(u);const h=u.providerUserInfo?.length?P1(u.providerUserInfo):[],m=hC(a.providerData,h),g=a.isAnonymous,v=!(a.email&&u.passwordHash)&&!m?.length,_=g?v:!1,S={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Mm(u.createdAt,u.lastLoginAt),isAnonymous:_};Object.assign(a,S)}async function cC(a){const t=Ge(a);await fh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hC(a,t){return[...a.filter(o=>!t.some(u=>u.providerId===o.providerId)),...t]}function P1(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function fC(a,t){const i=await U1(a,{},async()=>{const o=Ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:u,apiKey:h}=a.config,m=await L1(a,u,"/v1/token",`key=${h}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const v={method:"POST",headers:g,body:o};return a.emulatorConfig&&go(a.emulatorConfig.host)&&(v.credentials="include"),k1.fetch()(m,v)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dC(a,t){return So(a,"POST","/v2/accounts:revokeToken",Ph(a,t))}class io{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){St(t.idToken,"internal-error"),St(typeof t.idToken<"u","internal-error"),St(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):f0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){St(t.length!==0,"internal-error");const i=f0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(St(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:o,refreshToken:u,expiresIn:h}=await fC(t,i);this.updateTokensAndExpiration(o,u,Number(h))}updateTokensAndExpiration(t,i,o){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+o*1e3}static fromJSON(t,i){const{refreshToken:o,accessToken:u,expirationTime:h}=i,m=new io;return o&&(St(typeof o=="string","internal-error",{appName:t}),m.refreshToken=o),u&&(St(typeof u=="string","internal-error",{appName:t}),m.accessToken=u),h&&(St(typeof h=="number","internal-error",{appName:t}),m.expirationTime=h),m}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new io,this.toJSON())}_performRefresh(){return us("not implemented")}}function tr(a,t){St(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class ci{constructor({uid:t,auth:i,stsTokenManager:o,...u}){this.providerId="firebase",this.proactiveRefresh=new uC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Mm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(t){const i=await Fl(this,this.stsTokenManager.getToken(this.auth,t));return St(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return oC(this,t)}reload(){return cC(this)}_assign(t){this!==t&&(St(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ci({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){St(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let o=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),o=!0),i&&await fh(this),await this.auth._persistUserIfCurrent(this),o&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ui(this.auth.app))return Promise.reject(dr(this.auth));const t=await this.getIdToken();return await Fl(this,aC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const o=i.displayName??void 0,u=i.email??void 0,h=i.phoneNumber??void 0,m=i.photoURL??void 0,g=i.tenantId??void 0,v=i._redirectEventId??void 0,_=i.createdAt??void 0,S=i.lastLoginAt??void 0,{uid:x,emailVerified:V,isAnonymous:G,providerData:et,stsTokenManager:it}=i;St(x&&it,t,"internal-error");const J=io.fromJSON(this.name,it);St(typeof x=="string",t,"internal-error"),tr(o,t.name),tr(u,t.name),St(typeof V=="boolean",t,"internal-error"),St(typeof G=="boolean",t,"internal-error"),tr(h,t.name),tr(m,t.name),tr(g,t.name),tr(v,t.name),tr(_,t.name),tr(S,t.name);const nt=new ci({uid:x,auth:t,email:u,emailVerified:V,displayName:o,isAnonymous:G,photoURL:m,phoneNumber:h,tenantId:g,stsTokenManager:J,createdAt:_,lastLoginAt:S});return et&&Array.isArray(et)&&(nt.providerData=et.map(gt=>({...gt}))),v&&(nt._redirectEventId=v),nt}static async _fromIdTokenResponse(t,i,o=!1){const u=new io;u.updateFromServerResponse(i);const h=new ci({uid:i.localId,auth:t,stsTokenManager:u,isAnonymous:o});return await fh(h),h}static async _fromGetAccountInfoResponse(t,i,o){const u=i.users[0];St(u.localId!==void 0,"internal-error");const h=u.providerUserInfo!==void 0?P1(u.providerUserInfo):[],m=!(u.email&&u.passwordHash)&&!h?.length,g=new io;g.updateFromIdToken(o);const v=new ci({uid:u.localId,auth:t,stsTokenManager:g,isAnonymous:m}),_={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:h,metadata:new Mm(u.createdAt,u.lastLoginAt),isAnonymous:!(u.email&&u.passwordHash)&&!h?.length};return Object.assign(v,_),v}}const d0=new Map;function cs(a){gs(a instanceof Function,"Expected a class definition");let t=d0.get(a);return t?(gs(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,d0.set(a,t),t)}class z1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}z1.type="NONE";const m0=z1;function Kc(a,t,i){return`firebase:${a}:${t}:${i}`}class so{constructor(t,i,o){this.persistence=t,this.auth=i,this.userKey=o;const{config:u,name:h}=this.auth;this.fullUserKey=Kc(this.userKey,u.apiKey,h),this.fullPersistenceKey=Kc("persistence",u.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await hh(this.auth,{idToken:t}).catch(()=>{});return i?ci._fromGetAccountInfoResponse(this.auth,i,t):null}return ci._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,o="authUser"){if(!i.length)return new so(cs(m0),t,o);const u=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let h=u[0]||cs(m0);const m=Kc(o,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const S=await _._get(m);if(S){let x;if(typeof S=="string"){const V=await hh(t,{idToken:S}).catch(()=>{});if(!V)break;x=await ci._fromGetAccountInfoResponse(t,V,S)}else x=ci._fromJSON(t,S);_!==h&&(g=x),h=_;break}}catch{}const v=u.filter(_=>_._shouldAllowMigration);return!h._shouldAllowMigration||!v.length?new so(h,t,o):(h=v[0],g&&await h._set(m,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==h)try{await _._remove(m)}catch{}})),new so(h,t,o))}}function p0(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(F1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(B1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Q1(t))return"Blackberry";if(K1(t))return"Webos";if(q1(t))return"Safari";if((t.includes("chrome/")||H1(t))&&!t.includes("edge/"))return"Chrome";if(G1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,o=a.match(i);if(o?.length===2)return o[1]}return"Other"}function B1(a=un()){return/firefox\//i.test(a)}function q1(a=un()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H1(a=un()){return/crios\//i.test(a)}function F1(a=un()){return/iemobile/i.test(a)}function G1(a=un()){return/android/i.test(a)}function Q1(a=un()){return/blackberry/i.test(a)}function K1(a=un()){return/webos/i.test(a)}function Tp(a=un()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function mC(a=un()){return Tp(a)&&!!window.navigator?.standalone}function pC(){return bA()&&document.documentMode===10}function Y1(a=un()){return Tp(a)||G1(a)||K1(a)||Q1(a)||/windows phone/i.test(a)||F1(a)}function X1(a,t=[]){let i;switch(a){case"Browser":i=p0(un());break;case"Worker":i=`${p0(un())}-${a}`;break;default:i=a}const o=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${yo}/${o}`}class gC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const o=h=>new Promise((m,g)=>{try{const v=t(h);m(v)}catch(v){g(v)}});o.onAbort=i,this.queue.push(o);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const o of this.queue)await o(t),o.onAbort&&i.push(o.onAbort)}catch(o){i.reverse();for(const u of i)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:o?.message})}}}async function yC(a,t={}){return So(a,"GET","/v2/passwordPolicy",Ph(a,t))}const _C=6;class vC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_C,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const o=this.customStrengthOptions.minPasswordLength,u=this.customStrengthOptions.maxPasswordLength;o&&(i.meetsMinPasswordLength=t.length>=o),u&&(i.meetsMaxPasswordLength=t.length<=u)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let o;for(let u=0;u<t.length;u++)o=t.charAt(u),this.updatePasswordCharacterOptionsStatuses(i,o>="a"&&o<="z",o>="A"&&o<="Z",o>="0"&&o<="9",this.allowedNonAlphanumericCharacters.includes(o))}updatePasswordCharacterOptionsStatuses(t,i,o,u,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=o)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=u)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}class EC{constructor(t,i,o,u){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=o,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new g0(this),this.idTokenSubscription=new g0(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=u.sdkClientVersion,this._persistenceManagerAvailable=new Promise(h=>this._resolvePersistenceManagerAvailable=h)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=cs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await so.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await hh(this,{idToken:t}),o=await ci._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(o)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ui(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,u=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=this.redirectUser?._redirectEventId,m=o?._redirectEventId,g=await this.tryRedirectSignIn(t);(!h||h===m)&&g?.user&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return St(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await fh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ui(this.app))return Promise.reject(dr(this));const i=t?Ge(t):null;return i&&St(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&St(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ui(this.app)?Promise.reject(dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ui(this.app)?Promise.reject(dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yC(this),i=new vC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Gl("auth","Firebase",t())}onAuthStateChanged(t,i,o){return this.registerStateListener(this.authStateSubscription,t,i,o)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,o){return this.registerStateListener(this.idTokenSubscription,t,i,o)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const o=this.onAuthStateChanged(()=>{o(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),o={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(o.tenantId=this.tenantId),await dC(this,o)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const o=await this.getOrInitRedirectPersistenceManager(i);return t===null?o.removeCurrentUser():o.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&cs(t)||this._popupRedirectResolver;St(i,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[cs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,o,u){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let m=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(St(g,this,"internal-error"),g.then(()=>{m||h(this.currentUser)}),typeof i=="function"){const v=t.addObserver(i,o,u);return()=>{m=!0,v()}}else{const v=t.addObserver(i);return()=>{m=!0,v()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return St(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){if(ui(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Jx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function zh(a){return Ge(a)}class g0{constructor(t){this.auth=t,this.observer=null,this.addObserver=IA(i=>this.observer=i)}get next(){return St(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TC(a){bp=a}function bC(a){return bp.loadJS(a)}function AC(){return bp.gapiScript}function SC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function wC(a,t){const i=Pm(a,"auth");if(i.isInitialized()){const u=i.getImmediate(),h=i.getOptions();if(hs(h,t??{}))return u;ps(u,"already-initialized")}return i.initialize({options:t})}function xC(a,t){const i=t?.persistence||[],o=(Array.isArray(i)?i:[i]).map(cs);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(o,t?.popupRedirectResolver)}function CC(a,t,i){const o=zh(a);St(/^https?:\/\//.test(t),o,"invalid-emulator-scheme");const u=!1,h=$1(t),{host:m,port:g}=RC(t),v=g===null?"":`:${g}`,_={url:`${h}//${m}${v}/`},S=Object.freeze({host:m,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:u})});if(!o._canInitEmulator){St(o.config.emulator&&o.emulatorConfig,o,"emulator-config-failed"),St(hs(_,o.config.emulator)&&hs(S,o.emulatorConfig),o,"emulator-config-failed");return}o.config.emulator=_,o.emulatorConfig=S,o.settings.appVerificationDisabledForTesting=!0,go(m)?(q0(`${h}//${m}${v}`),H0("Auth",!0)):NC()}function $1(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function RC(a){const t=$1(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const o=i[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(o);if(u){const h=u[1];return{host:h,port:y0(o.substr(h.length+1))}}else{const[h,m]=o.split(":");return{host:h,port:y0(m)}}}function y0(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function NC(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class Z1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return us("not implemented")}_getIdTokenResponse(t){return us("not implemented")}_linkToIdToken(t,i){return us("not implemented")}_getReauthenticationResolver(t){return us("not implemented")}}async function ro(a,t){return j1(a,"POST","/v1/accounts:signInWithIdp",Ph(a,t))}const IC="http://localhost";class aa extends Z1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new aa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ps("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:o,signInMethod:u,...h}=i;if(!o||!u)return null;const m=new aa(o,u);return m.idToken=h.idToken||void 0,m.accessToken=h.accessToken||void 0,m.secret=h.secret,m.nonce=h.nonce,m.pendingToken=h.pendingToken||null,m}_getIdTokenResponse(t){const i=this.buildRequest();return ro(t,i)}_linkToIdToken(t,i){const o=this.buildRequest();return o.idToken=i,ro(t,o)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,ro(t,i)}buildRequest(){const t={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Ql(i)}return t}}class J1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class tu extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class nr extends tu{constructor(){super("facebook.com")}static credential(t){return aa._fromParams({providerId:nr.PROVIDER_ID,signInMethod:nr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return nr.credentialFromTaggedObject(t)}static credentialFromError(t){return nr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return nr.credential(t.oauthAccessToken)}catch{return null}}}nr.FACEBOOK_SIGN_IN_METHOD="facebook.com";nr.PROVIDER_ID="facebook.com";class ir extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return aa._fromParams({providerId:ir.PROVIDER_ID,signInMethod:ir.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return ir.credentialFromTaggedObject(t)}static credentialFromError(t){return ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:o}=t;if(!i&&!o)return null;try{return ir.credential(i,o)}catch{return null}}}ir.GOOGLE_SIGN_IN_METHOD="google.com";ir.PROVIDER_ID="google.com";class sr extends tu{constructor(){super("github.com")}static credential(t){return aa._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.GITHUB_SIGN_IN_METHOD="github.com";sr.PROVIDER_ID="github.com";class rr extends tu{constructor(){super("twitter.com")}static credential(t,i){return aa._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:o}=t;if(!i||!o)return null;try{return rr.credential(i,o)}catch{return null}}}rr.TWITTER_SIGN_IN_METHOD="twitter.com";rr.PROVIDER_ID="twitter.com";async function DC(a,t){return j1(a,"POST","/v1/accounts:signUp",Ph(a,t))}class br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,o,u=!1){const h=await ci._fromIdTokenResponse(t,o,u),m=_0(o);return new br({user:h,providerId:m,_tokenResponse:o,operationType:i})}static async _forOperation(t,i,o){await t._updateTokensIfNecessary(o,!0);const u=_0(o);return new br({user:t,providerId:u,_tokenResponse:o,operationType:i})}}function _0(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function MC(a){if(ui(a.app))return Promise.reject(dr(a));const t=zh(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new br({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await DC(t,{returnSecureToken:!0}),o=await br._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(o.user),o}class dh extends ys{constructor(t,i,o,u){super(i.code,i.message),this.operationType=o,this.user=u,Object.setPrototypeOf(this,dh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:o}}static _fromErrorAndOperation(t,i,o,u){return new dh(t,i,o,u)}}function W1(a,t,i,o){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?dh._fromErrorAndOperation(a,h,t,o):h})}async function OC(a,t,i=!1){const o=await Fl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return br._forOperation(a,"link",o)}async function VC(a,t,i=!1){const{auth:o}=a;if(ui(o.app))return Promise.reject(dr(o));const u="reauthenticate";try{const h=await Fl(a,W1(o,u,t,a),i);St(h.idToken,o,"internal-error");const m=Ep(h.idToken);St(m,o,"internal-error");const{sub:g}=m;return St(a.uid===g,o,"user-mismatch"),br._forOperation(a,u,h)}catch(h){throw h?.code==="auth/user-not-found"&&ps(o,"user-mismatch"),h}}async function kC(a,t,i=!1){if(ui(a.app))return Promise.reject(dr(a));const o="signIn",u=await W1(a,o,t),h=await br._fromIdTokenResponse(a,o,u);return i||await a._updateCurrentUser(h.user),h}function UC(a,t,i,o){return Ge(a).onIdTokenChanged(t,i,o)}function jC(a,t,i){return Ge(a).beforeAuthStateChanged(t,i)}function LC(a,t,i,o){return Ge(a).onAuthStateChanged(t,i,o)}const mh="__sak";class tT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const PC=1e3,zC=10;class eT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const o=this.storage.getItem(i),u=this.localCache[i];o!==u&&t(i,u,o)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((m,g,v)=>{this.notifyListeners(m,v)});return}const o=t.key;i?this.detachListener():this.stopPolling();const u=()=>{const m=this.storage.getItem(o);!i&&this.localCache[o]===m||this.notifyListeners(o,m)},h=this.storage.getItem(o);pC()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(u,zC):u()}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const u of Array.from(o))u(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,o)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:o}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}eT.type="LOCAL";const BC=eT;class nT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}nT.type="SESSION";const iT=nT;function qC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Bh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(u=>u.isListeningto(t));if(i)return i;const o=new Bh(t);return this.receivers.push(o),o}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:o,eventType:u,data:h}=i.data,m=this.handlersMap[u];if(!m?.size)return;i.ports[0].postMessage({status:"ack",eventId:o,eventType:u});const g=Array.from(m).map(async _=>_(i.origin,h)),v=await qC(g);i.ports[0].postMessage({status:"done",eventId:o,eventType:u,response:v})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Bh.receivers=[];function Ap(a="",t=10){let i="";for(let o=0;o<t;o++)i+=Math.floor(Math.random()*10);return a+i}class HC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,o=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let h,m;return new Promise((g,v)=>{const _=Ap("",20);u.port1.start();const S=setTimeout(()=>{v(new Error("unsupported_event"))},o);m={messageChannel:u,onMessage(x){const V=x;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{v(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(V.data.response);break;default:clearTimeout(S),clearTimeout(h),v(new Error("invalid_response"));break}}},this.handlers.add(m),u.port1.addEventListener("message",m.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[u.port2])}).finally(()=>{m&&this.removeMessageHandler(m)})}}function zi(){return window}function FC(a){zi().location.href=a}function sT(){return typeof zi().WorkerGlobalScope<"u"&&typeof zi().importScripts=="function"}async function GC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QC(){return navigator?.serviceWorker?.controller||null}function KC(){return sT()?self:null}const rT="firebaseLocalStorageDb",YC=1,ph="firebaseLocalStorage",aT="fbase_key";class eu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function qh(a,t){return a.transaction([ph],t?"readwrite":"readonly").objectStore(ph)}function XC(){const a=indexedDB.deleteDatabase(rT);return new eu(a).toPromise()}function Om(){const a=indexedDB.open(rT,YC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const o=a.result;try{o.createObjectStore(ph,{keyPath:aT})}catch(u){i(u)}}),a.addEventListener("success",async()=>{const o=a.result;o.objectStoreNames.contains(ph)?t(o):(o.close(),await XC(),t(await Om()))})})}async function v0(a,t,i){const o=qh(a,!0).put({[aT]:t,value:i});return new eu(o).toPromise()}async function $C(a,t){const i=qh(a,!1).get(t),o=await new eu(i).toPromise();return o===void 0?null:o.value}function E0(a,t){const i=qh(a,!0).delete(t);return new eu(i).toPromise()}const ZC=800,JC=3;class oT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Om(),this.db)}async _withRetries(t){let i=0;for(;;)try{const o=await this._openDb();return await t(o)}catch(o){if(i++>JC)throw o;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Bh._getInstance(KC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GC(),!this.activeServiceWorker)return;this.sender=new HC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Om();return await v0(t,mh,"1"),await E0(t,mh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(o=>v0(o,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(o=>$C(o,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>E0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(u=>{const h=qh(u,!1).getAll();return new eu(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],o=new Set;if(t.length!==0)for(const{fbase_key:u,value:h}of t)o.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(h)&&(this.notifyListeners(u,h),i.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!o.has(u)&&(this.notifyListeners(u,null),i.push(u));return i}notifyListeners(t,i){this.localCache[t]=i;const o=this.listeners[t];if(o)for(const u of Array.from(o))u(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oT.type="LOCAL";const WC=oT;new Wl(3e4,6e4);function tR(a,t){return t?cs(t):(St(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class Sp extends Z1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return ro(t,this._buildIdpRequest())}_linkToIdToken(t,i){return ro(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return ro(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function eR(a){return kC(a.auth,new Sp(a),a.bypassAuthState)}function nR(a){const{auth:t,user:i}=a;return St(i,t,"internal-error"),VC(i,new Sp(a),a.bypassAuthState)}async function iR(a){const{auth:t,user:i}=a;return St(i,t,"internal-error"),OC(i,new Sp(a),a.bypassAuthState)}class lT{constructor(t,i,o,u,h=!1){this.auth=t,this.resolver=o,this.user=u,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(o){this.reject(o)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:o,postBody:u,tenantId:h,error:m,type:g}=t;if(m){this.reject(m);return}const v={auth:this.auth,requestUri:i,sessionId:o,tenantId:h||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(v))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eR;case"linkViaPopup":case"linkViaRedirect":return iR;case"reauthViaPopup":case"reauthViaRedirect":return nR;default:ps(this.auth,"internal-error")}}resolve(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){gs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sR=new Wl(2e3,1e4);class to extends lT{constructor(t,i,o,u,h){super(t,i,u,h),this.provider=o,this.authWindow=null,this.pollId=null,to.currentPopupAction&&to.currentPopupAction.cancel(),to.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return St(t,this.auth,"internal-error"),t}async onExecution(){gs(this.filter.length===1,"Popup operations only handle one event");const t=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,to.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sR.get())};t()}}to.currentPopupAction=null;const rR="pendingRedirect",Yc=new Map;class aR extends lT{constructor(t,i,o=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,o),this.eventId=null}async execute(){let t=Yc.get(this.auth._key());if(!t){try{const o=await oR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(o)}catch(i){t=()=>Promise.reject(i)}Yc.set(this.auth._key(),t)}return this.bypassAuthState||Yc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function oR(a,t){const i=cR(t),o=uR(a);if(!await o._isAvailable())return!1;const u=await o._get(i)==="true";return await o._remove(i),u}function lR(a,t){Yc.set(a._key(),t)}function uR(a){return cs(a._redirectPersistence)}function cR(a){return Kc(rR,a.config.apiKey,a.name)}async function hR(a,t,i=!1){if(ui(a.app))return Promise.reject(dr(a));const o=zh(a),u=tR(o,t),m=await new aR(o,u,i).execute();return m&&!i&&(delete m.user._redirectEventId,await o._persistUserIfCurrent(m.user),await o._setRedirectUser(null,t)),m}const fR=600*1e3;class dR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(o=>{this.isEventForConsumer(t,o)&&(i=!0,this.sendToConsumer(t,o),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!uT(t)){const o=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Pi(this.auth,o))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const o=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&o}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fR&&this.cachedEventUids.clear(),this.cachedEventUids.has(T0(t))}saveEventToCache(t){this.cachedEventUids.add(T0(t)),this.lastProcessedEventTime=Date.now()}}function T0(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function uT({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function mR(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(a);default:return!1}}async function pR(a,t={}){return So(a,"GET","/v1/projects",t)}const gR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yR=/^https?/;async function _R(a){if(a.config.emulator)return;const{authorizedDomains:t}=await pR(a);for(const i of t)try{if(vR(i))return}catch{}ps(a,"unauthorized-domain")}function vR(a){const t=Dm(),{protocol:i,hostname:o}=new URL(t);if(a.startsWith("chrome-extension://")){const m=new URL(a);return m.hostname===""&&o===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&m.hostname===o}if(!yR.test(i))return!1;if(gR.test(a))return o===a;const u=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(o)}const ER=new Wl(3e4,6e4);function b0(){const a=zi().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function TR(a){return new Promise((t,i)=>{function o(){b0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{b0(),i(Pi(a,"network-request-failed"))},timeout:ER.get()})}if(zi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(zi().gapi?.load)o();else{const u=SC("iframefcb");return zi()[u]=()=>{gapi.load?o():i(Pi(a,"network-request-failed"))},bC(`${AC()}?onload=${u}`).catch(h=>i(h))}}).catch(t=>{throw Xc=null,t})}let Xc=null;function bR(a){return Xc=Xc||TR(a),Xc}const AR=new Wl(5e3,15e3),SR="__/auth/iframe",wR="emulator/auth/iframe",xR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(a){const t=a.config;St(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?vp(t,wR):`https://${a.config.authDomain}/${SR}`,o={apiKey:t.apiKey,appName:a.name,v:yo},u=CR.get(a.config.apiHost);u&&(o.eid=u);const h=a._getFrameworks();return h.length&&(o.fw=h.join(",")),`${i}?${Ql(o).slice(1)}`}async function NR(a){const t=await bR(a),i=zi().gapi;return St(i,a,"internal-error"),t.open({where:document.body,url:RR(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xR,dontclear:!0},o=>new Promise(async(u,h)=>{await o.restyle({setHideOnLeave:!1});const m=Pi(a,"network-request-failed"),g=zi().setTimeout(()=>{h(m)},AR.get());function v(){zi().clearTimeout(g),u(o)}o.ping(v).then(v,()=>{h(m)})}))}const IR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DR=500,MR=600,OR="_blank",VR="http://localhost";class A0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kR(a,t,i,o=DR,u=MR){const h=Math.max((window.screen.availHeight-u)/2,0).toString(),m=Math.max((window.screen.availWidth-o)/2,0).toString();let g="";const v={...IR,width:o.toString(),height:u.toString(),top:h,left:m},_=un().toLowerCase();i&&(g=H1(_)?OR:i),B1(_)&&(t=t||VR,v.scrollbars="yes");const S=Object.entries(v).reduce((V,[G,et])=>`${V}${G}=${et},`,"");if(mC(_)&&g!=="_self")return UR(t||"",g),new A0(null);const x=window.open(t||"",g,S);St(x,a,"popup-blocked");try{x.focus()}catch{}return new A0(x)}function UR(a,t){const i=document.createElement("a");i.href=a,i.target=t;const o=document.createEvent("MouseEvent");o.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(o)}const jR="__/auth/handler",LR="emulator/auth/handler",PR=encodeURIComponent("fac");async function S0(a,t,i,o,u,h){St(a.config.authDomain,a,"auth-domain-config-required"),St(a.config.apiKey,a,"invalid-api-key");const m={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:o,v:yo,eventId:u};if(t instanceof J1){t.setDefaultLanguage(a.languageCode),m.providerId=t.providerId||"",NA(t.getCustomParameters())||(m.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,x]of Object.entries({}))m[S]=x}if(t instanceof tu){const S=t.getScopes().filter(x=>x!=="");S.length>0&&(m.scopes=S.join(","))}a.tenantId&&(m.tid=a.tenantId);const g=m;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const v=await a._getAppCheckToken(),_=v?`#${PR}=${encodeURIComponent(v)}`:"";return`${zR(a)}?${Ql(g).slice(1)}${_}`}function zR({config:a}){return a.emulator?vp(a,LR):`https://${a.authDomain}/${jR}`}const om="webStorageSupport";class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=hR,this._overrideRedirectResult=lR}async _openPopup(t,i,o,u){gs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const h=await S0(t,i,o,Dm(),u);return kR(t,h,Ap())}async _openRedirect(t,i,o,u){await this._originValidation(t);const h=await S0(t,i,o,Dm(),u);return FC(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:u,promise:h}=this.eventManagers[i];return u?Promise.resolve(u):(gs(h,"If manager is not set, promise should be"),h)}const o=this.initAndGetManager(t);return this.eventManagers[i]={promise:o},o.catch(()=>{delete this.eventManagers[i]}),o}async initAndGetManager(t){const i=await NR(t),o=new dR(t);return i.register("authEvent",u=>(St(u?.authEvent,t,"invalid-auth-event"),{status:o.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:o},this.iframes[t._key()]=i,o}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(om,{type:om},u=>{const h=u?.[0]?.[om];h!==void 0&&i(!!h),ps(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_R(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Y1()||q1()||Tp()}}const qR=BR;var w0="@firebase/auth",x0="1.12.0";class HR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(o=>{t(o?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){St(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GR(a){ao(new ia("auth",(t,{options:i})=>{const o=t.getProvider("app").getImmediate(),u=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:m,authDomain:g}=o.options;St(m&&!m.includes(":"),"invalid-api-key",{appName:o.name});const v={apiKey:m,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(a)},_=new EC(o,u,h,v);return xC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,o)=>{t.getProvider("auth-internal").initialize()})),ao(new ia("auth-internal",t=>{const i=zh(t.getProvider("auth").getImmediate());return(o=>new HR(o))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(w0,x0,FR(a)),ur(w0,x0,"esm2020")}const QR=300,KR=B0("authIdTokenMaxAge")||QR;let C0=null;const YR=a=>async t=>{const i=t&&await t.getIdTokenResult(),o=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(o&&o>KR)return;const u=i?.token;C0!==u&&(C0=u,await fetch(a,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function XR(a=K0()){const t=Pm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=wC(a,{popupRedirectResolver:qR,persistence:[WC,BC,iT]}),o=B0("authTokenSyncURL");if(o&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(o,location.origin);if(location.origin===h.origin){const m=YR(h.toString());jC(i,m,()=>m(i.currentUser)),UC(i,g=>m(g))}}const u=P0("auth");return u&&CC(i,`http://${u}`),i}function $R(){return document.getElementsByTagName("head")?.[0]??document}TC({loadJS(a){return new Promise((t,i)=>{const o=document.createElement("script");o.setAttribute("src",a),o.onload=t,o.onerror=u=>{const h=Pi("internal-error");h.customData=u,i(h)},o.type="text/javascript",o.charset="UTF-8",$R().appendChild(o)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GR("Browser");const ZR=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JR=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,o)=>o?o.toUpperCase():i.toLowerCase()),R0=a=>{const t=JR(a);return t.charAt(0).toUpperCase()+t.slice(1)},cT=(...a)=>a.filter((t,i,o)=>!!t&&t.trim()!==""&&o.indexOf(t)===i).join(" ").trim(),WR=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var tN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eN=kt.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:o,className:u="",children:h,iconNode:m,...g},v)=>kt.createElement("svg",{ref:v,...tN,width:t,height:t,stroke:a,strokeWidth:o?Number(i)*24/Number(t):i,className:cT("lucide",u),...!h&&!WR(g)&&{"aria-hidden":"true"},...g},[...m.map(([_,S])=>kt.createElement(_,S)),...Array.isArray(h)?h:[h]]));const ae=(a,t)=>{const i=kt.forwardRef(({className:o,...u},h)=>kt.createElement(eN,{ref:h,iconNode:t,className:cT(`lucide-${ZR(R0(a))}`,`lucide-${a}`,o),...u}));return i.displayName=R0(a),i};const nN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iN=ae("activity",nN);const sN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rN=ae("book-open",sN);const aN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],gh=ae("calendar",aN);const oN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hT=ae("check",oN);const lN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uN=ae("circle-check-big",lN);const cN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hN=ae("circle-x",cN);const fN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fT=ae("clipboard-list",fN);const dN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mN=ae("clock",dN);const pN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],N0=ae("dollar-sign",pN);const gN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],yN=ae("eye-off",gN);const _N=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],vN=ae("eye",_N);const EN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],TN=ae("heart",EN);const bN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AN=ae("info",bN);const SN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],yh=ae("key",SN);const wN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],I0=ae("loader-circle",wN);const xN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],CN=ae("log-out",xN);const RN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],NN=ae("party-popper",RN);const IN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DN=ae("shield-check",IN);const MN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Vm=ae("stethoscope",MN);const ON=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],VN=ae("toggle-left",ON);const kN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],UN=ae("toggle-right",kN);const jN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],D0=ae("trash-2",jN);const LN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],dT=ae("trophy",LN);const PN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],M0=ae("user-check",PN);const zN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],O0=ae("user-x",zN);const BN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mT=ae("users",BN);const qN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],V0=ae("x",qN),HN={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},pT=Q0(HN),oi=Lx(pT),rn=XR(pT),li="balletfitbyjen-6b36a",FN="JENNY2024",mr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],k0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Lc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],Mn=({children:a,className:t=""})=>T.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:a}),Oi=({children:a,onClick:t,variant:i="primary",disabled:o=!1,className:u=""})=>{const h="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",m={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return T.jsx("button",{onClick:o?null:t,className:`${h} ${o?m.disabled:m[i]} ${u}`,disabled:o,children:a})},gT=(a,t)=>{const i=new Date,o=new Date,[u,h]=t.split(":").map(Number);let m=(a-i.getDay()+7)%7;if(m===0){const v=i.getHours()*60+i.getMinutes(),_=u*60+h;v>_&&(m=7)}return o.setDate(i.getDate()+m),o.setHours(u,h,0,0),(o-i)/(1e3*60*60)},GN=a=>{const t=new Date(a.valueOf()),i=a.getDay();t.setDate(t.getDate()-i+3);const o=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((o-t)/6048e5)},km=(a,t)=>{const i=new Date,o=i.getDay(),[u,h]=t.split(":").map(Number),m=i.getHours()*60+i.getMinutes(),g=u*60+h;return o>a||o===a&&m>=g},yT=(a=null)=>{let t=mr;return a&&(t=mr.filter(o=>o.teacher===a)),t.map(o=>({...o,diff:gT(o.dayIdx,o.time)})).sort((o,u)=>o.diff-u.diff)[0]},wp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function QN(){const[a,t]=kt.useState("login"),[i,o]=kt.useState(null),[u,h]=kt.useState([]),[m,g]=kt.useState([]),[v,_]=kt.useState({}),[S,x]=kt.useState({totalClassesTaught:0}),[V,G]=kt.useState(null),[et,it]=kt.useState(!0),[J,nt]=kt.useState(null),[gt,ht]=kt.useState(""),mt=(At,xt="success")=>{G({msg:At,type:xt}),setTimeout(()=>G(null),4e3)},Vt=sm(oi,"artifacts",li,"public","data","alumnas"),dt=sm(oi,"artifacts",li,"public","data","maestros"),I=sm(oi,"artifacts",li,"public","data","sesiones"),w=ge(oi,"artifacts",li,"public","data","config","metadata");kt.useEffect(()=>{ht(Lc[Math.floor(Math.random()*Lc.length)]),(async()=>{try{await MC(rn)}catch(xt){console.error("Error Auth:",xt)}LC(rn,xt=>{if(!xt)return;const H=Uc(Vt,Et=>{const M=Et.docs.map(Y=>({id:Y.id,...Y.data()}));h(M),it(!1)},Et=>console.error("Error alumnas:",Et)),tt=Uc(dt,Et=>{const M=Et.docs.map(Y=>({id:Y.id,...Y.data()}));g(M)}),at=Uc(I,Et=>{const M={};Et.docs.forEach(Y=>M[Y.id]=Y.data()),_(M)}),wt=Uc(w,Et=>{Et.exists()?x(Et.data()):er(w,{totalClassesTaught:0,lastResetWeek:0},{merge:!0})});return()=>{H(),tt(),at(),wt()}})})()},[]),kt.useEffect(()=>{if(i&&i.role==="student"){const At=u.find(xt=>xt.id===i.id);At&&o(xt=>({...xt,...At}))}},[u]);const R=(At,xt)=>{const H=At.trim().toUpperCase(),tt=xt.trim();if(nt(null),H==="ADMIN-JEN"||H==="JENNY")if(tt===FN){o({firstName:"JENNY",role:"admin"}),t("admin"),mt("Acceso Admin concedido");return}else{nt("Contrasea de Admin incorrecta.");return}const at=m.find(Et=>Et.id.toUpperCase()===H);if(at)if(at.password===tt){if(at.status==="inactive"){nt("Cuenta de maestra inactiva.");return}o({...at,firstName:at.name.split(" ")[0],role:"teacher"}),t("teacher"),mt("Acceso Maestra concedido");return}else{nt("Contrasea de maestra incorrecta.");return}const wt=u.find(Et=>Et.id.toUpperCase()===H);if(wt){if(wt.password&&wt.password!==tt){nt("Contrasea incorrecta.");return}if(wt.status==="inactive"){nt("Cuenta inactiva. Contacta a Jenny.");return}o({...wt,firstName:wt.name.split(" ")[0],role:"student"}),ht(Lc[Math.floor(Math.random()*Lc.length)]),t("student")}else nt("ID no encontrado o datos incorrectos.")},k=async At=>{if(!rn.currentUser)return;const xt=mr.find(tt=>tt.id===At),H=v[At];if(km(xt.dayIdx,xt.time)){mt("Esta clase ya ocurri.","error");return}if(H?.isClosed){mt("Clase cerrada.","error");return}if(i.credits<=0){mt("Sin crditos.","error");return}try{const tt=ge(oi,"artifacts",li,"public","data","alumnas",i.id),at=ge(oi,"artifacts",li,"public","data","sesiones",At);await on(tt,{credits:Vi(-1),history:Xx(At)}),await er(at,{booked:Vi(1)},{merge:!0}),mt("Clase reservada!")}catch{mt("Error al reservar","error")}},D=async(At,xt,H)=>{if(!H.trim()){mt("La contrasea no puede estar vaca","error");return}try{await on(ge(oi,"artifacts",li,"public","data",At,xt),{password:H.trim()}),mt("Contrasea actualizada con xito"),o(tt=>({...tt,password:H.trim()}))}catch{mt("Error al actualizar contrasea","error")}},j=async At=>{if(!rn.currentUser)return;const xt=mr.find(at=>at.id===At);if(km(xt.dayIdx,xt.time)){mt("No se puede cancelar una clase que ya finaliz.","error");return}const tt=gT(xt.dayIdx,xt.time)<6;if(!(tt&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const at=ge(oi,"artifacts",li,"public","data","alumnas",i.id),wt=ge(oi,"artifacts",li,"public","data","sesiones",At);tt?await on(at,{history:uh(At)}):await on(at,{credits:Vi(1),history:uh(At)}),await on(wt,{booked:Vi(-1)}),mt(tt?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{mt("Error al cancelar","error")}},C=()=>{o(null),t("login"),nt(null)};return et?T.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):T.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[V&&T.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${V.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[V.type==="error"?T.jsx(hN,{size:18}):T.jsx(uN,{size:18}),T.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:V.msg})]}),a==="login"&&T.jsx(KN,{onLogin:R,error:J}),a==="student"&&T.jsx(YN,{user:i,quote:gt,sessions:mr,sessionsData:v,onBook:k,onCancel:j,onLogout:C,onUpdatePassword:D}),a==="admin"&&T.jsx(XN,{students:u,teachers:m,sessionsData:v,settings:S,db:oi,appId:li,onLogout:C,showNotification:mt}),a==="teacher"&&T.jsx($N,{user:i,students:u,sessionsData:v,db:oi,appId:li,onLogout:C,showNotification:mt,onUpdatePassword:D})]})}const KN=({onLogin:a,error:t})=>{const[i,o]=kt.useState(""),[u,h]=kt.useState(""),[m,g]=kt.useState(!1);return T.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[T.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),T.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:T.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),T.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Portal alumnas"})]}),T.jsxs("form",{onSubmit:v=>{v.preventDefault(),a(i,u)},className:"space-y-6",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),T.jsx("input",{type:"text",required:!0,placeholder:"Ingresa tu ID",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:v=>o(v.target.value)})]}),T.jsxs("div",{className:"space-y-1 relative",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),T.jsx("input",{type:m?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:u,onChange:v=>h(v.target.value)}),T.jsx("button",{type:"button",onClick:()=>g(!m),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:m?T.jsx(yN,{size:18}):T.jsx(vN,{size:18})})]}),t&&T.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),T.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"})]})]})})]})},YN=({user:a,quote:t,sessions:i,sessionsData:o,onBook:u,onCancel:h,onLogout:m,onUpdatePassword:g})=>{const v=a.history||[],_=i.filter(J=>v.includes(J.id)),S=_.length>0?_[0]:null,x=wp(),[V,G]=kt.useState(!1),[et,it]=kt.useState("");return T.jsxs("div",{className:"pb-20",children:[T.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[T.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("button",{onClick:()=>G(!0),className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[T.jsx(yh,{size:16})," ",T.jsx("span",{children:"Mi Clave"})]}),T.jsxs("button",{onClick:m,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[T.jsx("span",{children:"Salir"}),T.jsx(CN,{size:16})]})]}),V&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Mi Nueva Clave"}),T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold mb-4",placeholder:"Escribe aqu",value:et,onChange:J=>it(J.target.value)}),T.jsx(Oi,{onClick:()=>{g("alumnas",a.id,et),G(!1)},className:"w-full !py-4",children:"Actualizar"}),T.jsx("button",{onClick:()=>G(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-300",children:"Cerrar"})]})})]})}),T.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",a.firstName,"!"]}),T.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[T.jsx(TN,{size:16,fill:"#369EAD"})," ",t]})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[T.jsxs(Mn,{className:"md:col-span-2 flex flex-col justify-between",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsx("div",{children:T.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",x]})}),T.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:T.jsx(iN,{size:24})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases de la semana"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:`text-4xl font-bold ${a.credits===0?"text-red-400":"text-[#369EAD]"}`,children:a.credits}),T.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",a.maxCredits]})]})]}),T.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:a.totalAttendance||0}),T.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),T.jsxs(Mn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:T.jsx(gh,{size:120})}),T.jsx(gh,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),T.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),S?T.jsxs("div",{className:"animate-in fade-in duration-500",children:[T.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:S.day}),T.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:S.time}),T.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",S.teacher]})]}):T.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),T.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),T.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(J=>{const nt=v.includes(J.id),gt=o[J.id]||{booked:0,isClosed:!1},ht=(gt.booked||0)>=J.spots,mt=gt.isClosed,Vt=km(J.dayIdx,J.time),dt=a.credits>0&&!nt&&!ht&&!mt&&!Vt;return T.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${nt?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":mt||Vt?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex justify-between items-start font-sans",children:[T.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:J.day}),mt?T.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):Vt?T.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),T.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:J.time}),T.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:J.teacher})]}),T.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[T.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[T.jsx(mT,{size:12})," ",gt.booked||0,"/",J.spots]}),nt?Vt?T.jsx("span",{className:"text-[9px] text-[#369EAD] font-bold uppercase italic opacity-60",children:"Asistencia registrada"}):T.jsx("button",{onClick:()=>h(J.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):T.jsx(Oi,{onClick:()=>u(J.id),disabled:!dt,className:"!px-4 !py-2 !text-[9px]",children:mt?"Cerrado":Vt?"Pasada":ht?"Lleno":"Reservar"})]})]},J.id)})})]})]})},XN=({students:a,teachers:t,sessionsData:i,settings:o,db:u,appId:h,onLogout:m,showNotification:g})=>{const[v,_]=kt.useState(!1),[S,x]=kt.useState(!1),[V,G]=kt.useState(null),[et,it]=kt.useState(null),[J,nt]=kt.useState(""),[gt,ht]=kt.useState(null),[mt,Vt]=kt.useState(""),[dt,I]=kt.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:"",registrationDate:new Date().toISOString().split("T")[0]}),[w,R]=kt.useState({id:"",name:"",password:"",role:"teacher"}),[k,D]=kt.useState(!1),[j,C]=kt.useState(null),[At,xt]=kt.useState(0),H=wp(),tt=a.filter(Q=>Q.status!=="inactive"),at=ge(u,"artifacts",h,"public","data","config","metadata"),wt=Q=>{const _t=Q.map(ue=>ue.id).filter(ue=>ue.startsWith("BF-")).map(ue=>parseInt(ue.split("-")[1])).filter(ue=>!isNaN(ue)),Qe=(_t.length>0?Math.max(..._t):0)+1;return`BF-${String(Qe).padStart(3,"0")}`};kt.useEffect(()=>{if(v){const Q=wt(a);I(_t=>({..._t,id:Q}))}},[v,a]),kt.useEffect(()=>{const Q=async()=>{if(!rn.currentUser)return;const _t=GN(new Date);try{const Qt=await Gc(at);let Qe=0;if(Qt.exists()&&(Qe=Qt.data().lastResetWeek||0),_t!==Qe&&a.length>0){const ue=$x(u);tt.forEach(le=>{const ye=ge(u,"artifacts",h,"public","data","alumnas",le.id);ue.update(ye,{credits:le.maxCredits,history:[]})}),mr.forEach(le=>{const ye=ge(u,"artifacts",h,"public","data","sesiones",le.id);ue.set(ye,{booked:0,isCounted:!1},{merge:!0})}),await er(at,{lastResetWeek:_t},{merge:!0}),await ue.commit(),g("Semana reiniciada!","success")}}catch(Qt){console.error("Error in auto-reset:",Qt)}};a.length>0&&Q()},[a.length]);const Et=yT(),M=a.filter(Q=>Q.history?.includes(Et.id)&&Q.status!=="inactive"),Y=a.reduce((Q,_t)=>Q+(_t.monthlyPayment||0),0),rt=async(Q,_t)=>{rn.currentUser&&(await er(ge(u,"artifacts",h,"public","data","sesiones",Q),{isClosed:!_t},{merge:!0}),g("Estado actualizado"))},ot=async(Q,_t)=>{if(rn.currentUser&&window.confirm("Confirmar asistencia?"))try{const Qt=ge(u,"artifacts",h,"public","data","alumnas",Q),Qe=ge(u,"artifacts",h,"public","data","sesiones",_t),ue=await Gc(Qe);ue.exists()&&ue.data().isCounted||(await on(at,{totalClassesTaught:Vi(1)}),await er(Qe,{isCounted:!0},{merge:!0})),await on(Qt,{totalAttendance:Vi(1),history:uh(_t)}),await on(Qe,{booked:Vi(-1)}),g("Asistencia confirmada")}catch(Qt){console.error(Qt)}},Tt=async(Q,_t,Qt)=>{if(!rn.currentUser)return;const Qe=Qt==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus?"))try{await on(ge(u,"artifacts",h,"public","data",Q,_t),{status:Qe}),g("Estatus actualizado")}catch(ue){console.error(ue)}},Rt=async(Q,_t)=>{if(rn.currentUser&&J.trim())try{await on(ge(u,"artifacts",h,"public","data",Q,_t),{password:J.trim()}),g("Contrasea actualizada"),G(null),it(null),nt("")}catch(Qt){console.error(Qt)}},Lt=async Q=>{if(!rn.currentUser)return;Q.preventDefault();const _t=dt.id.trim().toUpperCase();if(!_t||!dt.name||!dt.password){g("Completa los campos","error");return}D(!0);try{const Qt=ge(u,"artifacts",h,"public","data","alumnas",_t);if((await Gc(Qt)).exists()){g("ID ya usado","error"),D(!1);return}const ue=parseInt(dt.plan.split(" ")[0])||2;await er(Qt,{id:_t,name:dt.name.trim().toUpperCase(),password:dt.password,plan:dt.plan,maxCredits:ue,credits:ue,history:[],monthlyPayment:0,totalAttendance:0,notes:dt.notes.trim(),registrationDate:dt.registrationDate,status:"active",registrationDate:new Date().toISOString()}),g("Registrada"),_(!1),I({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(Qt){console.error(Qt)}D(!1)},Te=async(Q,_t)=>{try{const Qt=ge(u,"artifacts",h,"public","data","alumnas",Q);await on(Qt,{registrationDate:_t}),g("Fecha actualizada correctamente"),ht(null)}catch{g("Error al actualizar fecha","error")}},oe=async Q=>{if(!rn.currentUser)return;Q.preventDefault();const _t=w.id.trim().toUpperCase();if(!_t||!w.name||!w.password){g("Completa los campos","error");return}D(!0);try{await er(ge(u,"artifacts",h,"public","data","maestros",_t),{...w,id:_t,name:w.name.trim().toUpperCase(),status:"active"}),g("Staff registrado"),x(!1),R({id:"",name:"",password:"",role:"teacher"})}catch(Qt){console.error(Qt)}D(!1)},Hi=async()=>{if(!(!rn.currentUser||!j))try{await on(ge(u,"artifacts",h,"public","data","alumnas",j),{monthlyPayment:parseFloat(At)}),g("Pago registrado"),C(null),xt(0)}catch(Q){console.error(Q)}},_s=async(Q,_t)=>{rn.currentUser&&window.confirm("Reiniciar semana?")&&await on(ge(u,"artifacts",h,"public","data","alumnas",Q),{credits:_t,history:[]})},vs=async(Q,_t)=>{if(rn.currentUser&&window.confirm(`Borrar a ${_t}?`))try{await c0(ge(u,"artifacts",h,"public","data","alumnas",Q)),g("Eliminada")}catch{g("Error","error")}},Es=async(Q,_t)=>{if(rn.currentUser&&window.confirm(`Borrar a ${_t}?`))try{await c0(ge(u,"artifacts",h,"public","data","maestros",Q)),g("Eliminado")}catch{g("Error","error")}};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),T.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:H})]}),T.jsx("button",{onClick:m,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Mn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(fT,{size:20})," Roster: Prxima Clase"]}),T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[Et.day," ",Et.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:M.length>0?M.map(Q=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-serif italic font-bold text-sm",children:Q.name}),T.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:Q.id})]}),Q.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Vm,{size:12,className:"mt-1 flex-shrink-0"}),T.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:Q.notes})]})]}),T.jsx("button",{onClick:()=>ot(Q.id,Et.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:T.jsx(hT,{size:18})})]},Q.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas"})})]}),T.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[T.jsxs(Mn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] group-hover:rotate-6 transition-transform",children:T.jsx(N0,{size:28})}),T.jsxs("div",{children:[T.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",H]}),T.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",Y.toLocaleString()]})]})]}),T.jsxs(Mn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[T.jsx(NN,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),T.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),T.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 px-4",children:"Cada alumna nueva es un paso ms"})]}),T.jsxs(Mn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm group-hover:scale-110 transition-transform",children:T.jsx(dT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),T.jsxs("p",{className:"text-3xl font-bold",children:[o?.totalClassesTaught||0," clases dadas"]})]})]}),T.jsxs(Mn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 md:col-span-2",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:T.jsx(mT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),T.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[tt.length," Alumnas pagando"]})]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[T.jsxs(Mn,{className:"bg-white border-[#C5A059]",children:[T.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(AN,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),T.jsx("div",{className:"space-y-3 font-sans text-[11px]",children:k0.map((Q,_t)=>T.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-2",children:[T.jsx("span",{className:"text-gray-400 uppercase font-bold",children:Q.plan}),T.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",Q.price]})]},_t))})]}),T.jsxs(Mn,{className:"bg-white border-[#369EAD]",children:[T.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),T.jsx("div",{className:"space-y-4 font-sans text-xs",children:mr.map(Q=>{const _t=i[Q.id]?.isClosed||!1;return T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"font-bold opacity-60 uppercase",children:Q.day}),T.jsx("button",{onClick:()=>rt(Q.id,_t),children:_t?T.jsx(VN,{size:30,className:"text-red-300"}):T.jsx(UN,{size:30,className:"text-[#369EAD]"})})]},Q.id)})})]})]}),T.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[T.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[T.jsx(DN,{size:20,className:"text-[#369EAD]"})," Control Maestras"]}),T.jsx(Oi,{onClick:()=>x(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-4",children:"Nombre"}),T.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),T.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(Q=>T.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${Q.status==="inactive"?"opacity-40":""}`,children:[T.jsx("td",{className:"px-6 py-4",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${Q.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold font-serif italic",children:Q.name}),T.jsxs("div",{className:"text-[9px] uppercase text-gray-400",children:[Q.id,"  ",Q.role]})]})]})}),T.jsx("td",{className:"px-6 py-4 text-center font-bold text-[#C5A059]",children:Q.password}),T.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>it(Q.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:T.jsx(yh,{size:16})}),T.jsx("button",{onClick:()=>Tt("maestros",Q.id,Q.status),className:`p-2 rounded-full ${Q.status==="inactive"?"text-green-500":"text-red-400"}`,children:Q.status==="inactive"?T.jsx(M0,{size:16}):T.jsx(O0,{size:16})}),T.jsx("button",{onClick:()=>Es(Q.id,Q.name),className:"p-2 text-red-100 hover:text-red-500",children:T.jsx(D0,{size:16})})]})]},Q.id))})]})})]}),T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[T.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control Alumnas"}),T.jsx(Oi,{onClick:()=>_(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-5",children:"Nombre"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Clave"})," ",T.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Asistencias"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Pago"}),T.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:a.map(Q=>{const _t=Q.status==="inactive";return T.jsxs("tr",{className:`hover:bg-gray-50 transition-all text-sm ${_t?"opacity-40 grayscale-[0.5]":""}`,children:[T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[10px] font-black text-[#369EAD] bg-[#EBF5F6] px-2 py-0.5 rounded-sm w-fit mb-1",children:Q.id}),T.jsx("div",{className:"font-bold font-serif italic",children:Q.name}),Q.notes&&T.jsxs("div",{className:"text-[10px] text-red-400 italic flex items-center gap-1",children:[T.jsx(Vm,{size:10})," ",Q.notes]})]})}),T.jsx("td",{className:"px-6 py-5 text-center font-mono text-xs font-bold text-[#369EAD]",children:Q.password}),T.jsxs("td",{className:"px-6 py-5 text-center font-bold",children:[T.jsx("span",{className:Q.credits===0?"text-red-400":"text-[#369EAD]",children:Q.credits})," / ",Q.maxCredits]}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold",children:Q.totalAttendance||0})}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsxs("button",{onClick:()=>{C(Q.id),xt(Q.monthlyPayment||0)},className:`font-bold px-3 py-1 rounded text-xs transition-colors ${Q.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",Q.monthlyPayment||0]})}),T.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>G(Q.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:T.jsx(yh,{size:16})}),T.jsx("button",{onClick:()=>Tt("alumnas",Q.id,Q.status),className:`p-2 rounded-full ${_t?"text-green-500":"text-gray-300"}`,children:_t?T.jsx(M0,{size:16}):T.jsx(O0,{size:16})}),T.jsx("button",{onClick:()=>_s(Q.id,Q.maxCredits),className:"p-2 text-[#C5A059]",children:T.jsx(mN,{size:16})}),T.jsx("button",{onClick:()=>vs(Q.id,Q.name),className:"p-2 text-red-100 hover:text-red-500",children:T.jsx(D0,{size:16})})]})]},Q.id)})})]})})]})]})]})]}),V&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Alumna"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:V}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:J,onChange:Q=>nt(Q.target.value)}),T.jsx(Oi,{onClick:()=>Rt("alumnas",V),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{G(null),nt("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),et&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Staff"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:et}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:J,onChange:Q=>nt(Q.target.value)}),T.jsx(Oi,{onClick:()=>Rt("maestros",et),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{it(null),nt("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),v&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[T.jsx("button",{onClick:()=>_(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(V0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),T.jsxs("form",{onSubmit:Lt,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-bold text-[#369EAD]",value:dt.id,onChange:Q=>I({...dt,id:Q.target.value}),placeholder:"ID"}),T.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"w-full p-4 bg-gray-50 border-b outline-none text-sm font-bold",value:dt.password,onChange:Q=>I({...dt,password:Q.target.value})})]}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-serif italic font-bold",value:dt.name,onChange:Q=>I({...dt,name:Q.target.value})}),T.jsx("select",{className:"w-full p-4 bg-gray-50 border-b outline-none text-sm",value:dt.plan,onChange:Q=>I({...dt,plan:Q.target.value}),children:k0.slice(0,4).map((Q,_t)=>T.jsx("option",{value:Q.plan,children:Q.plan},_t))}),T.jsxs("div",{className:"text-[9px] text-gray-400 font-sans uppercase tracking-tighter flex items-center gap-1 mt-0.5",children:[T.jsx(gh,{size:10}),gt===s.id?T.jsxs("div",{className:"flex items-center gap-2",children:[T.jsx("input",{type:"date",className:"border-b border-[#369EAD] bg-transparent outline-none text-black font-bold",value:mt,onChange:Q=>Vt(Q.target.value)}),T.jsx("button",{onClick:()=>Te(s.id,mt),className:"text-[#369EAD] font-black",children:"OK"}),T.jsx("button",{onClick:()=>ht(null),children:"X"})]}):T.jsxs("span",{className:"cursor-pointer hover:text-[#369EAD] underline decoration-dotted",onClick:()=>{ht(s.id),Vt(s.registrationDate||new Date().toISOString().split("T")[0])},children:["Inscrita: ",s.registrationDate||"Sin fecha"]})]}),T.jsx("textarea",{placeholder:"NOTAS MDICAS",className:"w-full p-4 bg-gray-50 border-b outline-none text-xs h-24 italic",value:dt.notes,onChange:Q=>I({...dt,notes:Q.target.value})}),T.jsx(Oi,{disabled:k,className:"w-full !py-4 font-bold",children:k?T.jsx(I0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),S&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[T.jsx("button",{onClick:()=>x(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(V0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nuevo Staff"}),T.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",required:!0,placeholder:"ID",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b",value:w.id,onChange:Q=>R({...w,id:Q.target.value})}),T.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b",value:w.password,onChange:Q=>R({...w,password:Q.target.value})})]}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b",value:w.name,onChange:Q=>R({...w,name:Q.target.value})}),T.jsxs("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b",value:w.role,onChange:Q=>R({...w,role:Q.target.value}),children:[T.jsx("option",{value:"teacher",children:"Maestra"}),T.jsx("option",{value:"admin",children:"Admin Secundario"})]}),T.jsx(Oi,{disabled:k,className:"w-full !py-4 font-bold",children:k?T.jsx(I0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),j&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059]",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),T.jsxs("div",{className:"space-y-4 text-center",children:[T.jsxs("div",{className:"relative",children:[T.jsx(N0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),T.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50 border-b outline-none text-xl font-bold",value:At,onChange:Q=>xt(Q.target.value)})]}),T.jsx(Oi,{onClick:Hi,className:"w-full !py-4 font-bold",children:"Confirmar"}),T.jsx("button",{onClick:()=>C(null),className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})})]})},$N=({user:a,students:t,sessionsData:i,db:o,appId:u,onLogout:h,showNotification:m,onUpdatePassword:g})=>{wp();const v=mr.filter(nt=>nt.teacher.toUpperCase()===a.firstName.toUpperCase()),_=yT(a.firstName),S=t.filter(nt=>nt.history?.includes(_?.id)&&nt.status!=="inactive"),x=ge(o,"artifacts",u,"public","data","config","metadata"),[V,G]=kt.useState(!1),[et,it]=kt.useState(""),J=async(nt,gt)=>{if(rn.currentUser&&window.confirm("Confirmar asistencia?"))try{const ht=ge(o,"artifacts",u,"public","data","alumnas",nt),mt=ge(o,"artifacts",u,"public","data","sesiones",gt),Vt=await Gc(mt);Vt.exists()&&Vt.data().isCounted||(await on(x,{totalClassesTaught:Vi(1)}),await er(mt,{isCounted:!0},{merge:!0})),await on(ht,{totalAttendance:Vi(1),history:uh(gt)}),await on(mt,{booked:Vi(-1)}),m("Asistencia marcada")}catch(ht){console.error(ht)}};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Portal Maestras"}),T.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] px-2 py-0.5 rounded font-black uppercase",children:a.firstName})]}),T.jsxs("div",{className:"flex items-center gap-4",children:[T.jsxs("button",{onClick:()=>G(!0),className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest flex items-center gap-2",children:[T.jsx(yh,{size:14})," Clave"]}),T.jsx("button",{onClick:h,className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),V&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Cambiar mi clave"}),T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b outline-none text-center font-bold mb-6 text-[#1A3A3E]",value:et,onChange:nt=>it(nt.target.value)}),T.jsx(Oi,{onClick:()=>{g("maestros",a.id,et),G(!1),it("")},className:"w-full",children:"Actualizar"}),T.jsx("button",{onClick:()=>G(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-400",children:"Cerrar"})]})})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",a.firstName,"!"]}),T.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Tu pasin no solo mueve pesas, mueve vidas enteras. Sigue inspirando!"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[T.jsxs(Mn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:T.jsx(rN,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1",children:"Disciplina"}),T.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),T.jsxs(Mn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:T.jsx(dT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1",children:"Impacto"}),T.jsx("p",{className:"text-3xl font-bold text-[#369EAD]",children:"Enseando"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Mn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(fT,{size:20})," Asistencia"]}),_&&T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-bold uppercase",children:[_.day," ",_.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:S.length>0?S.map(nt=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"font-serif italic font-bold text-sm",children:nt.name}),nt.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Vm,{size:12}),T.jsx("p",{className:"text-[10px] italic",children:nt.notes})]})]}),T.jsx("button",{onClick:()=>J(nt.id,_.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:T.jsx(hT,{size:18})})]},nt.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay inscritas"})})]}),T.jsx("div",{className:"lg:col-span-2 space-y-8",children:T.jsxs(Mn,{className:"bg-white",children:[T.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(gh,{size:20,className:"text-[#369EAD]"})," Horario"]}),T.jsx("div",{className:"grid grid-cols-1 gap-4",children:v.map(nt=>T.jsxs("div",{className:"p-10 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[T.jsx("span",{className:"text-xs font-black uppercase text-gray-400",children:nt.day}),T.jsx("p",{className:"text-5xl font-bold text-[#1A3A3E] my-2",children:nt.time}),T.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase",children:nt.type})]},nt.id))})]})})]})]})]})};iA.createRoot(document.getElementById("root")).render(T.jsx(kt.StrictMode,{children:T.jsx(QN,{})}));
