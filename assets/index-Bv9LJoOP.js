(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Fd={exports:{}},Mo={};var Y_;function Yb(){if(Y_)return Mo;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Mo.Fragment=t,Mo.jsx=i,Mo.jsxs=i,Mo}var X_;function Xb(){return X_||(X_=1,Fd.exports=Yb()),Fd.exports}var E=Xb(),Gd={exports:{}},Ct={};var $_;function $b(){if($_)return Ct;$_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),O=Symbol.iterator;function G(I){return I===null||typeof I!="object"?null:(I=O&&I[O]||I["@@iterator"],typeof I=="function"?I:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},nt=Object.assign,Z={};function et(I,K,st){this.props=I,this.context=K,this.refs=Z,this.updater=st||tt}et.prototype.isReactComponent={},et.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},et.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function pt(){}pt.prototype=et.prototype;function mt(I,K,st){this.props=I,this.context=K,this.refs=Z,this.updater=st||tt}var Ot=mt.prototype=new pt;Ot.constructor=mt,nt(Ot,et.prototype),Ot.isPureReactComponent=!0;var Vt=Array.isArray;function gt(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(I,K,st){var rt=st.ref;return{$$typeof:r,type:I,key:K,ref:rt!==void 0?rt:null,props:st}}function V(I,K){return C(I.type,K,I.props)}function D(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function j(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(st){return K[st]})}var S=/\/+/g;function Pt(I,K){return typeof I=="object"&&I!==null&&I.key!=null?j(""+I.key):K.toString(36)}function jt(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(gt,gt):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function q(I,K,st,rt,dt){var ct=typeof I;(ct==="undefined"||ct==="boolean")&&(I=null);var kt=!1;if(I===null)kt=!0;else switch(ct){case"bigint":case"string":case"number":kt=!0;break;case"object":switch(I.$$typeof){case r:case t:kt=!0;break;case A:return kt=I._init,q(kt(I._payload),K,st,rt,dt)}}if(kt)return dt=dt(I),kt=rt===""?"."+Pt(I,0):rt,Vt(dt)?(st="",kt!=null&&(st=kt.replace(S,"$&/")+"/"),q(dt,K,st,"",function(On){return On})):dt!=null&&(D(dt)&&(dt=V(dt,st+(dt.key==null||I&&I.key===dt.key?"":(""+dt.key).replace(S,"$&/")+"/")+kt)),K.push(dt)),1;kt=0;var ye=rt===""?".":rt+":";if(Vt(I))for(var ne=0;ne<I.length;ne++)rt=I[ne],ct=ye+Pt(rt,ne),kt+=q(rt,K,st,ct,dt);else if(ne=G(I),typeof ne=="function")for(I=ne.call(I),ne=0;!(rt=I.next()).done;)rt=rt.value,ct=ye+Pt(rt,ne++),kt+=q(rt,K,st,ct,dt);else if(ct==="object"){if(typeof I.then=="function")return q(jt(I),K,st,rt,dt);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return kt}function W(I,K,st){if(I==null)return I;var rt=[],dt=0;return q(I,rt,"","",function(ct){return K.call(st,ct,dt++)}),rt}function at(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(st){(I._status===0||I._status===-1)&&(I._status=1,I._result=st)},function(st){(I._status===0||I._status===-1)&&(I._status=2,I._result=st)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var yt=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)},bt={map:W,forEach:function(I,K,st){W(I,function(){K.apply(this,arguments)},st)},count:function(I){var K=0;return W(I,function(){K++}),K},toArray:function(I){return W(I,function(K){return K})||[]},only:function(I){if(!D(I))throw Error("React.Children.only expected to receive a single React element child.");return I}};return Ct.Activity=x,Ct.Children=bt,Ct.Component=et,Ct.Fragment=i,Ct.Profiler=o,Ct.PureComponent=mt,Ct.StrictMode=a,Ct.Suspense=y,Ct.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,Ct.__COMPILER_RUNTIME={__proto__:null,c:function(I){return N.H.useMemoCache(I)}},Ct.cache=function(I){return function(){return I.apply(null,arguments)}},Ct.cacheSignal=function(){return null},Ct.cloneElement=function(I,K,st){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var rt=nt({},I.props),dt=I.key;if(K!=null)for(ct in K.key!==void 0&&(dt=""+K.key),K)!w.call(K,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&K.ref===void 0||(rt[ct]=K[ct]);var ct=arguments.length-2;if(ct===1)rt.children=st;else if(1<ct){for(var kt=Array(ct),ye=0;ye<ct;ye++)kt[ye]=arguments[ye+2];rt.children=kt}return C(I.type,dt,rt)},Ct.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:c,_context:I},I},Ct.createElement=function(I,K,st){var rt,dt={},ct=null;if(K!=null)for(rt in K.key!==void 0&&(ct=""+K.key),K)w.call(K,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(dt[rt]=K[rt]);var kt=arguments.length-2;if(kt===1)dt.children=st;else if(1<kt){for(var ye=Array(kt),ne=0;ne<kt;ne++)ye[ne]=arguments[ne+2];dt.children=ye}if(I&&I.defaultProps)for(rt in kt=I.defaultProps,kt)dt[rt]===void 0&&(dt[rt]=kt[rt]);return C(I,ct,dt)},Ct.createRef=function(){return{current:null}},Ct.forwardRef=function(I){return{$$typeof:p,render:I}},Ct.isValidElement=D,Ct.lazy=function(I){return{$$typeof:A,_payload:{_status:-1,_result:I},_init:at}},Ct.memo=function(I,K){return{$$typeof:_,type:I,compare:K===void 0?null:K}},Ct.startTransition=function(I){var K=N.T,st={};N.T=st;try{var rt=I(),dt=N.S;dt!==null&&dt(st,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(gt,yt)}catch(ct){yt(ct)}finally{K!==null&&st.types!==null&&(K.types=st.types),N.T=K}},Ct.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},Ct.use=function(I){return N.H.use(I)},Ct.useActionState=function(I,K,st){return N.H.useActionState(I,K,st)},Ct.useCallback=function(I,K){return N.H.useCallback(I,K)},Ct.useContext=function(I){return N.H.useContext(I)},Ct.useDebugValue=function(){},Ct.useDeferredValue=function(I,K){return N.H.useDeferredValue(I,K)},Ct.useEffect=function(I,K){return N.H.useEffect(I,K)},Ct.useEffectEvent=function(I){return N.H.useEffectEvent(I)},Ct.useId=function(){return N.H.useId()},Ct.useImperativeHandle=function(I,K,st){return N.H.useImperativeHandle(I,K,st)},Ct.useInsertionEffect=function(I,K){return N.H.useInsertionEffect(I,K)},Ct.useLayoutEffect=function(I,K){return N.H.useLayoutEffect(I,K)},Ct.useMemo=function(I,K){return N.H.useMemo(I,K)},Ct.useOptimistic=function(I,K){return N.H.useOptimistic(I,K)},Ct.useReducer=function(I,K,st){return N.H.useReducer(I,K,st)},Ct.useRef=function(I){return N.H.useRef(I)},Ct.useState=function(I){return N.H.useState(I)},Ct.useSyncExternalStore=function(I,K,st){return N.H.useSyncExternalStore(I,K,st)},Ct.useTransition=function(){return N.H.useTransition()},Ct.version="19.2.3",Ct}var Z_;function Lm(){return Z_||(Z_=1,Gd.exports=$b()),Gd.exports}var St=Lm(),Qd={exports:{}},Oo={},Kd={exports:{}},Yd={};var J_;function Zb(){return J_||(J_=1,(function(r){function t(q,W){var at=q.length;q.push(W);t:for(;0<at;){var yt=at-1>>>1,bt=q[yt];if(0<o(bt,W))q[yt]=W,q[at]=bt,at=yt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var W=q[0],at=q.pop();if(at!==W){q[0]=at;t:for(var yt=0,bt=q.length,I=bt>>>1;yt<I;){var K=2*(yt+1)-1,st=q[K],rt=K+1,dt=q[rt];if(0>o(st,at))rt<bt&&0>o(dt,st)?(q[yt]=dt,q[rt]=at,yt=rt):(q[yt]=st,q[K]=at,yt=K);else if(rt<bt&&0>o(dt,at))q[yt]=dt,q[rt]=at,yt=rt;else break t}}return W}function o(q,W){var at=q.sortIndex-W.sortIndex;return at!==0?at:q.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,x=null,O=3,G=!1,tt=!1,nt=!1,Z=!1,et=typeof setTimeout=="function"?setTimeout:null,pt=typeof clearTimeout=="function"?clearTimeout:null,mt=typeof setImmediate<"u"?setImmediate:null;function Ot(q){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=q)a(_),W.sortIndex=W.expirationTime,t(y,W);else break;W=i(_)}}function Vt(q){if(nt=!1,Ot(q),!tt)if(i(y)!==null)tt=!0,gt||(gt=!0,j());else{var W=i(_);W!==null&&jt(Vt,W.startTime-q)}}var gt=!1,N=-1,w=5,C=-1;function V(){return Z?!0:!(r.unstable_now()-C<w)}function D(){if(Z=!1,gt){var q=r.unstable_now();C=q;var W=!0;try{t:{tt=!1,nt&&(nt=!1,pt(N),N=-1),G=!0;var at=O;try{e:{for(Ot(q),x=i(y);x!==null&&!(x.expirationTime>q&&V());){var yt=x.callback;if(typeof yt=="function"){x.callback=null,O=x.priorityLevel;var bt=yt(x.expirationTime<=q);if(q=r.unstable_now(),typeof bt=="function"){x.callback=bt,Ot(q),W=!0;break e}x===i(y)&&a(y),Ot(q)}else a(y);x=i(y)}if(x!==null)W=!0;else{var I=i(_);I!==null&&jt(Vt,I.startTime-q),W=!1}}break t}finally{x=null,O=at,G=!1}W=void 0}}finally{W?j():gt=!1}}}var j;if(typeof mt=="function")j=function(){mt(D)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,Pt=S.port2;S.port1.onmessage=D,j=function(){Pt.postMessage(null)}}else j=function(){et(D,0)};function jt(q,W){N=et(function(){q(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(q){switch(O){case 1:case 2:case 3:var W=3;break;default:W=O}var at=O;O=W;try{return q()}finally{O=at}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var at=O;O=q;try{return W()}finally{O=at}},r.unstable_scheduleCallback=function(q,W,at){var yt=r.unstable_now();switch(typeof at=="object"&&at!==null?(at=at.delay,at=typeof at=="number"&&0<at?yt+at:yt):at=yt,q){case 1:var bt=-1;break;case 2:bt=250;break;case 5:bt=1073741823;break;case 4:bt=1e4;break;default:bt=5e3}return bt=at+bt,q={id:A++,callback:W,priorityLevel:q,startTime:at,expirationTime:bt,sortIndex:-1},at>yt?(q.sortIndex=at,t(_,q),i(y)===null&&q===i(_)&&(nt?(pt(N),N=-1):nt=!0,jt(Vt,at-yt))):(q.sortIndex=bt,t(y,q),tt||G||(tt=!0,gt||(gt=!0,j()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var W=O;return function(){var at=O;O=W;try{return q.apply(this,arguments)}finally{O=at}}}})(Yd)),Yd}var W_;function Jb(){return W_||(W_=1,Kd.exports=Zb()),Kd.exports}var Xd={exports:{}},en={};var tv;function Wb(){if(tv)return en;tv=1;var r=Lm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,A){var x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:x==null?null:""+x,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},en.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},en.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},en.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},en.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin),O=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:x,integrity:O,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:x,integrity:O,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},en.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},en.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,x=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:x,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},en.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},en.requestFormReset=function(y){a.d.r(y)},en.unstable_batchedUpdates=function(y,_){return y(_)},en.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var ev;function tA(){if(ev)return Xd.exports;ev=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Xd.exports=Wb(),Xd.exports}var nv;function eA(){if(nv)return Oo;nv=1;var r=Jb(),t=Lm(),i=tA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var x=Object.assign,O=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),nt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),et=Symbol.for("react.profiler"),pt=Symbol.for("react.consumer"),mt=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),Vt=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function j(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function Pt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case nt:return"Fragment";case et:return"Profiler";case Z:return"StrictMode";case Vt:return"Suspense";case gt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case mt:return e.displayName||"Context";case pt:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Pt(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Pt(e(n))}catch{}}return null}var jt=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,at={pending:!1,data:null,method:null,action:null},yt=[],bt=-1;function I(e){return{current:e}}function K(e){0>bt||(e.current=yt[bt],yt[bt]=null,bt--)}function st(e,n){bt++,yt[bt]=e.current,e.current=n}var rt=I(null),dt=I(null),ct=I(null),kt=I(null);function ye(e,n){switch(st(ct,n),st(dt,e),st(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?y_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=y_(n),e=__(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(rt),st(rt,e)}function ne(){K(rt),K(dt),K(ct)}function On(e){e.memoizedState!==null&&st(kt,e);var n=rt.current,s=__(n,e.type);n!==s&&(st(dt,e),st(rt,s))}function di(e){dt.current===e&&(K(rt),K(dt)),kt.current===e&&(K(kt),Ro._currentValue=at)}var Vn,Wn;function kn(e){if(Vn===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Vn=n&&n[1]||"",Wn=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Vn+e+Wn}var hn=!1;function mi(e,n){if(!e||hn)return"";hn=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(F){var B=F}Reflect.construct(e,[],X)}else{try{X.call()}catch(F){B=F}e.call(X.prototype)}}else{try{throw Error()}catch(F){B=F}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),z=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===z.length)for(l=R.length-1,h=z.length-1;1<=l&&0<=h&&R[l]!==z[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==z[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==z[h]){var Q=`
`+R[l].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=l&&0<=h);break}}}finally{hn=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?kn(s):""}function Cr(e,n){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return mi(e.type,!1);case 11:return mi(e.type.render,!1);case 1:return mi(e.type,!0);case 31:return kn("Activity");default:return""}}function xs(e){try{var n="",s=null;do n+=Cr(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var _e=Object.prototype.hasOwnProperty,Te=r.unstable_scheduleCallback,pi=r.unstable_cancelCallback,Il=r.unstable_shouldYield,da=r.unstable_requestPaint,ze=r.unstable_now,gi=r.unstable_getCurrentPriorityLevel,Rr=r.unstable_ImmediatePriority,Nr=r.unstable_UserBlockingPriority,yi=r.unstable_NormalPriority,Dl=r.unstable_LowPriority,ma=r.unstable_IdlePriority,pa=r.log,P=r.unstable_setDisableYieldValue,ot=null,Tt=null;function oe(e){if(typeof pa=="function"&&P(e),Tt&&typeof Tt.setStrictMode=="function")try{Tt.setStrictMode(ot,e)}catch{}}var Nt=Math.clz32?Math.clz32:cu,_i=Math.log,vi=Math.LN2;function cu(e){return e>>>=0,e===0?32:31-(_i(e)/vi|0)|0}var Ei=256,Ir=262144,Ce=4194304;function Ti(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function bi(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Ti(l):(g&=T,g!==0?h=Ti(g):s||(s=T&~e,s!==0&&(h=Ti(s))))):(T=l&~f,T!==0?h=Ti(T):g!==0?h=Ti(g):s||(s=l&~e,s!==0&&(h=Ti(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function ti(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Kh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hu(){var e=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),e}function Ai(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Yh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,z=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-Nt(s),X=1<<Q;T[Q]=0,R[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}s&=~X}l!==0&&Mr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Mr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Nt(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Ml(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-Nt(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function Ol(e,n){var s=n&-n;return s=(s&42)!==0?1:Or(s),(s&(e.suspendedLanes|n))!==0?0:s}function Or(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Zi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function fu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:B_(e.type))}function ei(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var ni=Math.random().toString(36).slice(2),Re="__reactFiber$"+ni,Be="__reactProps$"+ni,Si="__reactContainer$"+ni,ga="__reactEvents$"+ni,Xh="__reactListeners$"+ni,du="__reactHandles$"+ni,mu="__reactResources$"+ni,xi="__reactMarker$"+ni;function ya(e){delete e[Re],delete e[Be],delete e[ga],delete e[Xh],delete e[du]}function wi(e){var n=e[Re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Si]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=x_(e);e!==null;){if(s=e[Re])return s;e=x_(e)}return n}e=s,s=e.parentNode}return null}function jn(e){if(e=e[Re]||e[Si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function bn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ci(e){var n=e[mu];return n||(n=e[mu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ne(e){e[xi]=!0}var Vl=new Set,kl={};function Ri(e,n){Ni(e,n),Ni(e+"Capture",n)}function Ni(e,n){for(kl[e]=n,e=0;e<n.length;e++)Vl.add(n[e])}var jl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ul={},Ll={};function pu(e){return _e.call(Ll,e)?!0:_e.call(Ul,e)?!1:jl.test(e)?Ll[e]=!0:(Ul[e]=!0,!1)}function _a(e,n,s){if(pu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function An(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ie(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function qe(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ws(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Pl(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Jt(e){if(!e._valueTracker){var n=ws(e)?"checked":"value";e._valueTracker=Pl(e,n,""+e[n])}}function Vr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ws(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function Ii(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var kr=/[\n"\\]/g;function fn(e){return e.replace(kr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(e,n,s,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+qe(n)):e.value!==""+qe(n)&&(e.value=""+qe(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?zl(e,g,qe(n)):s!=null?zl(e,g,qe(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+qe(T):e.removeAttribute("name")}function gu(e,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Jt(e);return}s=s!=null?""+qe(s):"",n=n!=null?""+qe(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Jt(e)}function zl(e,n,s){n==="number"&&Ii(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Cs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+qe(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function yu(e,n,s){if(n!=null&&(n=""+qe(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+qe(s):""}function Rs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(jt(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=qe(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Jt(e)}function dn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var _u=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||_u.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function ql(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&Bl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&Bl(e,f,n[f])}function Ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return Ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ii(){}var Hl=null;function Un(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Di=null;function jr(e){var n=jn(e);if(n&&(e=n.stateNode)){var s=e[Be]||null;t:switch(e=n.stateNode,n.type){case"input":if(va(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+fn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[Be]||null;if(!h)throw Error(a(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Vr(l)}break t;case"textarea":yu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Cs(e,!!s.multiple,n,!1)}}}var ba=!1;function Ds(e,n,s){if(ba)return e(n,s);ba=!0;try{var l=e(n);return l}finally{if(ba=!1,(Is!==null||Di!==null)&&(fc(),Is&&(n=Is,e=Di,Di=Is=null,jr(n),e)))for(n=0;n<e.length;n++)jr(e[n])}}function si(e,n){var s=e.stateNode;if(s===null)return null;var l=s[Be]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ur=!1;if(Ln)try{var ie={};Object.defineProperty(ie,"passive",{get:function(){Ur=!0}}),window.addEventListener("test",ie,ie),window.removeEventListener("test",ie,ie)}catch{Ur=!1}var Mi=null,Fl=null,Lr=null;function Gl(){if(Lr)return Lr;var e,n=Fl,s=n.length,l,h="value"in Mi?Mi.value:Mi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Lr=h.slice(e,1<l?1-l:void 0)}function Pr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Ji(){return!0}function ri(){return!1}function Ke(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ji:ri,this.isPropagationStopped=ri,this}return x(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Ji)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Ji)},persist:function(){},isPersistent:Ji}),n}var Wi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Oi=Ke(Wi),Ms=x({},Wi,{view:0,detail:0}),Ql=Ke(Ms),Os,Aa,Vi,Sa=x({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Vi&&(Vi&&e.type==="mousemove"?(Os=e.screenX-Vi.screenX,Aa=e.screenY-Vi.screenY):Aa=Os=0,Vi=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Kl=Ke(Sa),zr=x({},Sa,{dataTransfer:0}),Eu=Ke(zr),Tu=x({},Ms,{relatedTarget:0}),Br=Ke(Tu),Yl=x({},Wi,{animationName:0,elapsedTime:0,pseudoElement:0}),bu=Ke(Yl),xa=x({},Wi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Au=Ke(xa),Su=x({},Wi,{data:0}),ki=Ke(Su),xu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ru(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Cu[e])?!!n[e]:!1}function Vs(){return Ru}var on=x({},Ms,{key:function(e){if(e.key){var n=xu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Pr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?Pr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Nu=Ke(on),Iu=x({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ts=Ke(Iu),u=x({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=Ke(u),v=x({},Wi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ke(v),U=x({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ke(U),it=x({},Wi,{newState:0,oldState:0}),It=Ke(it),be=[9,13,27,32],Xt=Ln&&"CompositionEvent"in window,me=null;Ln&&"documentMode"in document&&(me=document.documentMode);var Pn=Ln&&"TextEvent"in window&&!me,ji=Ln&&(!Xt||me&&8<me&&11>=me),ai=" ",li=!1;function qr(e,n){switch(e){case"keyup":return be.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function _T(e,n){switch(e){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(li=!0,ai);case"textInput":return e=n.data,e===ai&&li?null:e;default:return null}}function vT(e,n){if(Ca)return e==="compositionend"||!Xt&&qr(e,n)?(e=Gl(),Lr=Fl=Mi=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return ji&&n.locale!=="ko"?null:n.data;default:return null}}var ET={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!ET[e.type]:n==="textarea"}function Np(e,n,s,l){Is?Di?Di.push(l):Di=[l]:Is=l,n=vc(n,"onChange"),0<n.length&&(s=new Oi("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Xl=null,$l=null;function TT(e){h_(e,0)}function Du(e){var n=bn(e);if(Vr(n))return e}function Ip(e,n){if(e==="change")return n}var Dp=!1;if(Ln){var $h;if(Ln){var Zh="oninput"in document;if(!Zh){var Mp=document.createElement("div");Mp.setAttribute("oninput","return;"),Zh=typeof Mp.oninput=="function"}$h=Zh}else $h=!1;Dp=$h&&(!document.documentMode||9<document.documentMode)}function Op(){Xl&&(Xl.detachEvent("onpropertychange",Vp),$l=Xl=null)}function Vp(e){if(e.propertyName==="value"&&Du($l)){var n=[];Np(n,$l,e,Un(e)),Ds(TT,n)}}function bT(e,n,s){e==="focusin"?(Op(),Xl=n,$l=s,Xl.attachEvent("onpropertychange",Vp)):e==="focusout"&&Op()}function AT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Du($l)}function ST(e,n){if(e==="click")return Du(n)}function xT(e,n){if(e==="input"||e==="change")return Du(n)}function wT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:wT;function Zl(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!_e.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function kp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function jp(e,n){var s=kp(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=kp(s)}}function Up(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Up(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Lp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ii(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=Ii(e.document)}return n}function Jh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var CT=Ln&&"documentMode"in document&&11>=document.documentMode,Ra=null,Wh=null,Jl=null,tf=!1;function Pp(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;tf||Ra==null||Ra!==Ii(l)||(l=Ra,"selectionStart"in l&&Jh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Jl&&Zl(Jl,l)||(Jl=l,l=vc(Wh,"onSelect"),0<l.length&&(n=new Oi("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ra)))}function Hr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Na={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},ef={},zp={};Ln&&(zp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Fr(e){if(ef[e])return ef[e];if(!Na[e])return e;var n=Na[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in zp)return ef[e]=n[s];return e}var Bp=Fr("animationend"),qp=Fr("animationiteration"),Hp=Fr("animationstart"),RT=Fr("transitionrun"),NT=Fr("transitionstart"),IT=Fr("transitioncancel"),Fp=Fr("transitionend"),Gp=new Map,nf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");nf.push("scrollEnd");function oi(e,n){Gp.set(e,n),Ri(n,[e])}var Mu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},zn=[],Ia=0,sf=0;function Ou(){for(var e=Ia,n=sf=Ia=0;n<e;){var s=zn[n];zn[n++]=null;var l=zn[n];zn[n++]=null;var h=zn[n];zn[n++]=null;var f=zn[n];if(zn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Qp(s,h,f)}}function Vu(e,n,s,l){zn[Ia++]=e,zn[Ia++]=n,zn[Ia++]=s,zn[Ia++]=l,sf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function rf(e,n,s,l){return Vu(e,n,s,l),ku(e)}function Gr(e,n){return Vu(e,null,null,n),ku(e)}function Qp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-Nt(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function ku(e){if(50<To)throw To=0,md=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Da={};function DT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(e,n,s,l){return new DT(e,n,s,l)}function af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function es(e,n){var s=e.alternate;return s===null?(s=xn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Kp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ju(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")af(e)&&(g=1);else if(typeof e=="string")g=jb(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=xn(31,s,n,h),e.elementType=C,e.lanes=f,e;case nt:return Qr(s.children,h,f,n);case Z:g=8,h|=24;break;case et:return e=xn(12,s,n,h|2),e.elementType=et,e.lanes=f,e;case Vt:return e=xn(13,s,n,h),e.elementType=Vt,e.lanes=f,e;case gt:return e=xn(19,s,n,h),e.elementType=gt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case mt:g=10;break t;case pt:g=9;break t;case Ot:g=11;break t;case N:g=14;break t;case w:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=xn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Qr(e,n,s,l){return e=xn(7,e,l,n),e.lanes=s,e}function lf(e,n,s){return e=xn(6,e,null,n),e.lanes=s,e}function Yp(e){var n=xn(18,null,null,0);return n.stateNode=e,n}function of(e,n,s){return n=xn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Xp=new WeakMap;function Bn(e,n){if(typeof e=="object"&&e!==null){var s=Xp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:xs(n)},Xp.set(e,n),n)}return{value:e,source:n,stack:xs(n)}}var Ma=[],Oa=0,Uu=null,Wl=0,qn=[],Hn=0,ks=null,Ui=1,Li="";function ns(e,n){Ma[Oa++]=Wl,Ma[Oa++]=Uu,Uu=e,Wl=n}function $p(e,n,s){qn[Hn++]=Ui,qn[Hn++]=Li,qn[Hn++]=ks,ks=e;var l=Ui;e=Li;var h=32-Nt(l)-1;l&=~(1<<h),s+=1;var f=32-Nt(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Ui=1<<32-Nt(n)+h|s<<h|l,Li=f+e}else Ui=1<<f|s<<h|l,Li=e}function uf(e){e.return!==null&&(ns(e,1),$p(e,1,0))}function cf(e){for(;e===Uu;)Uu=Ma[--Oa],Ma[Oa]=null,Wl=Ma[--Oa],Ma[Oa]=null;for(;e===ks;)ks=qn[--Hn],qn[Hn]=null,Li=qn[--Hn],qn[Hn]=null,Ui=qn[--Hn],qn[Hn]=null}function Zp(e,n){qn[Hn++]=Ui,qn[Hn++]=Li,qn[Hn++]=ks,Ui=n.id,Li=n.overflow,ks=e}var Ye=null,ce=null,Gt=!1,js=null,Fn=!1,hf=Error(a(519));function Us(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw to(Bn(n,e)),hf}function Jp(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Re]=e,n[Be]=l,s){case"dialog":Lt("cancel",n),Lt("close",n);break;case"iframe":case"object":case"embed":Lt("load",n);break;case"video":case"audio":for(s=0;s<Ao.length;s++)Lt(Ao[s],n);break;case"source":Lt("error",n);break;case"img":case"image":case"link":Lt("error",n),Lt("load",n);break;case"details":Lt("toggle",n);break;case"input":Lt("invalid",n),gu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":Lt("invalid",n);break;case"textarea":Lt("invalid",n),Rs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||p_(n.textContent,s)?(l.popover!=null&&(Lt("beforetoggle",n),Lt("toggle",n)),l.onScroll!=null&&Lt("scroll",n),l.onScrollEnd!=null&&Lt("scrollend",n),l.onClick!=null&&(n.onclick=ii),n=!0):n=!1,n||Us(e,!0)}function Wp(e){for(Ye=e.return;Ye;)switch(Ye.tag){case 5:case 31:case 13:Fn=!1;return;case 27:case 3:Fn=!0;return;default:Ye=Ye.return}}function Va(e){if(e!==Ye)return!1;if(!Gt)return Wp(e),Gt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Nd(e.type,e.memoizedProps)),s=!s),s&&ce&&Us(e),Wp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=S_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ce=S_(e)}else n===27?(n=ce,Zs(e.type)?(e=Vd,Vd=null,ce=e):ce=n):ce=Ye?Qn(e.stateNode.nextSibling):null;return!0}function Kr(){ce=Ye=null,Gt=!1}function ff(){var e=js;return e!==null&&(yn===null?yn=e:yn.push.apply(yn,e),js=null),e}function to(e){js===null?js=[e]:js.push(e)}var df=I(null),Yr=null,is=null;function Ls(e,n,s){st(df,n._currentValue),n._currentValue=s}function ss(e){e._currentValue=df.current,K(df)}function mf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function pf(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),mf(f.return,s,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),mf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ka(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===kt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Ro):e=[Ro])}h=h.return}e!==null&&pf(n,e,s,l),n.flags|=262144}function Lu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Xr(e){Yr=e,is=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xe(e){return tg(Yr,e)}function Pu(e,n){return Yr===null&&Xr(e),tg(e,n)}function tg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},is===null){if(e===null)throw Error(a(308));is=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else is=is.next=n;return s}var MT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},OT=r.unstable_scheduleCallback,VT=r.unstable_NormalPriority,De={$$typeof:mt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function gf(){return{controller:new MT,data:new Map,refCount:0}}function eo(e){e.refCount--,e.refCount===0&&OT(VT,function(){e.controller.abort()})}var no=null,yf=0,ja=0,Ua=null;function kT(e,n){if(no===null){var s=no=[];yf=0,ja=Ed(),Ua={status:"pending",value:void 0,then:function(l){s.push(l)}}}return yf++,n.then(eg,eg),n}function eg(){if(--yf===0&&no!==null){Ua!==null&&(Ua.status="fulfilled");var e=no;no=null,ja=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function jT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var ng=q.S;q.S=function(e,n){Py=ze(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&kT(e,n),ng!==null&&ng(e,n)};var $r=I(null);function _f(){var e=$r.current;return e!==null?e:ue.pooledCache}function zu(e,n){n===null?st($r,$r.current):st($r,n.pool)}function ig(){var e=_f();return e===null?null:{parent:De._currentValue,pool:e}}var La=Error(a(460)),vf=Error(a(474)),Bu=Error(a(542)),qu={then:function(){}};function sg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function rg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ii,ii),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lg(e),e;default:if(typeof n.status=="string")n.then(ii,ii);else{if(e=ue,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,lg(e),e}throw Jr=n,La}}function Zr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Jr=s,La):s}}var Jr=null;function ag(){if(Jr===null)throw Error(a(459));var e=Jr;return Jr=null,e}function lg(e){if(e===La||e===Bu)throw Error(a(483))}var Pa=null,io=0;function Hu(e){var n=io;return io+=1,Pa===null&&(Pa=[]),rg(Pa,e,n)}function so(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Fu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function og(e){function n(k,M){if(e){var L=k.deletions;L===null?(k.deletions=[M],k.flags|=16):L.push(M)}}function s(k,M){if(!e)return null;for(;M!==null;)n(k,M),M=M.sibling;return null}function l(k){for(var M=new Map;k!==null;)k.key!==null?M.set(k.key,k):M.set(k.index,k),k=k.sibling;return M}function h(k,M){return k=es(k,M),k.index=0,k.sibling=null,k}function f(k,M,L){return k.index=L,e?(L=k.alternate,L!==null?(L=L.index,L<M?(k.flags|=67108866,M):L):(k.flags|=67108866,M)):(k.flags|=1048576,M)}function g(k){return e&&k.alternate===null&&(k.flags|=67108866),k}function T(k,M,L,Y){return M===null||M.tag!==6?(M=lf(L,k.mode,Y),M.return=k,M):(M=h(M,L),M.return=k,M)}function R(k,M,L,Y){var _t=L.type;return _t===nt?Q(k,M,L.props.children,Y,L.key):M!==null&&(M.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&Zr(_t)===M.type)?(M=h(M,L.props),so(M,L),M.return=k,M):(M=ju(L.type,L.key,L.props,null,k.mode,Y),so(M,L),M.return=k,M)}function z(k,M,L,Y){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=of(L,k.mode,Y),M.return=k,M):(M=h(M,L.children||[]),M.return=k,M)}function Q(k,M,L,Y,_t){return M===null||M.tag!==7?(M=Qr(L,k.mode,Y,_t),M.return=k,M):(M=h(M,L),M.return=k,M)}function X(k,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=lf(""+M,k.mode,L),M.return=k,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case G:return L=ju(M.type,M.key,M.props,null,k.mode,L),so(L,M),L.return=k,L;case tt:return M=of(M,k.mode,L),M.return=k,M;case w:return M=Zr(M),X(k,M,L)}if(jt(M)||j(M))return M=Qr(M,k.mode,L,null),M.return=k,M;if(typeof M.then=="function")return X(k,Hu(M),L);if(M.$$typeof===mt)return X(k,Pu(k,M),L);Fu(k,M)}return null}function B(k,M,L,Y){var _t=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return _t!==null?null:T(k,M,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===_t?R(k,M,L,Y):null;case tt:return L.key===_t?z(k,M,L,Y):null;case w:return L=Zr(L),B(k,M,L,Y)}if(jt(L)||j(L))return _t!==null?null:Q(k,M,L,Y,null);if(typeof L.then=="function")return B(k,M,Hu(L),Y);if(L.$$typeof===mt)return B(k,M,Pu(k,L),Y);Fu(k,L)}return null}function F(k,M,L,Y,_t){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return k=k.get(L)||null,T(M,k,""+Y,_t);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case G:return k=k.get(Y.key===null?L:Y.key)||null,R(M,k,Y,_t);case tt:return k=k.get(Y.key===null?L:Y.key)||null,z(M,k,Y,_t);case w:return Y=Zr(Y),F(k,M,L,Y,_t)}if(jt(Y)||j(Y))return k=k.get(L)||null,Q(M,k,Y,_t,null);if(typeof Y.then=="function")return F(k,M,L,Hu(Y),_t);if(Y.$$typeof===mt)return F(k,M,L,Pu(M,Y),_t);Fu(M,Y)}return null}function ut(k,M,L,Y){for(var _t=null,Kt=null,ft=M,Mt=M=0,Bt=null;ft!==null&&Mt<L.length;Mt++){ft.index>Mt?(Bt=ft,ft=null):Bt=ft.sibling;var Yt=B(k,ft,L[Mt],Y);if(Yt===null){ft===null&&(ft=Bt);break}e&&ft&&Yt.alternate===null&&n(k,ft),M=f(Yt,M,Mt),Kt===null?_t=Yt:Kt.sibling=Yt,Kt=Yt,ft=Bt}if(Mt===L.length)return s(k,ft),Gt&&ns(k,Mt),_t;if(ft===null){for(;Mt<L.length;Mt++)ft=X(k,L[Mt],Y),ft!==null&&(M=f(ft,M,Mt),Kt===null?_t=ft:Kt.sibling=ft,Kt=ft);return Gt&&ns(k,Mt),_t}for(ft=l(ft);Mt<L.length;Mt++)Bt=F(ft,k,Mt,L[Mt],Y),Bt!==null&&(e&&Bt.alternate!==null&&ft.delete(Bt.key===null?Mt:Bt.key),M=f(Bt,M,Mt),Kt===null?_t=Bt:Kt.sibling=Bt,Kt=Bt);return e&&ft.forEach(function(nr){return n(k,nr)}),Gt&&ns(k,Mt),_t}function Et(k,M,L,Y){if(L==null)throw Error(a(151));for(var _t=null,Kt=null,ft=M,Mt=M=0,Bt=null,Yt=L.next();ft!==null&&!Yt.done;Mt++,Yt=L.next()){ft.index>Mt?(Bt=ft,ft=null):Bt=ft.sibling;var nr=B(k,ft,Yt.value,Y);if(nr===null){ft===null&&(ft=Bt);break}e&&ft&&nr.alternate===null&&n(k,ft),M=f(nr,M,Mt),Kt===null?_t=nr:Kt.sibling=nr,Kt=nr,ft=Bt}if(Yt.done)return s(k,ft),Gt&&ns(k,Mt),_t;if(ft===null){for(;!Yt.done;Mt++,Yt=L.next())Yt=X(k,Yt.value,Y),Yt!==null&&(M=f(Yt,M,Mt),Kt===null?_t=Yt:Kt.sibling=Yt,Kt=Yt);return Gt&&ns(k,Mt),_t}for(ft=l(ft);!Yt.done;Mt++,Yt=L.next())Yt=F(ft,k,Mt,Yt.value,Y),Yt!==null&&(e&&Yt.alternate!==null&&ft.delete(Yt.key===null?Mt:Yt.key),M=f(Yt,M,Mt),Kt===null?_t=Yt:Kt.sibling=Yt,Kt=Yt);return e&&ft.forEach(function(Kb){return n(k,Kb)}),Gt&&ns(k,Mt),_t}function ae(k,M,L,Y){if(typeof L=="object"&&L!==null&&L.type===nt&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var _t=L.key;M!==null;){if(M.key===_t){if(_t=L.type,_t===nt){if(M.tag===7){s(k,M.sibling),Y=h(M,L.props.children),Y.return=k,k=Y;break t}}else if(M.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===w&&Zr(_t)===M.type){s(k,M.sibling),Y=h(M,L.props),so(Y,L),Y.return=k,k=Y;break t}s(k,M);break}else n(k,M);M=M.sibling}L.type===nt?(Y=Qr(L.props.children,k.mode,Y,L.key),Y.return=k,k=Y):(Y=ju(L.type,L.key,L.props,null,k.mode,Y),so(Y,L),Y.return=k,k=Y)}return g(k);case tt:t:{for(_t=L.key;M!==null;){if(M.key===_t)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){s(k,M.sibling),Y=h(M,L.children||[]),Y.return=k,k=Y;break t}else{s(k,M);break}else n(k,M);M=M.sibling}Y=of(L,k.mode,Y),Y.return=k,k=Y}return g(k);case w:return L=Zr(L),ae(k,M,L,Y)}if(jt(L))return ut(k,M,L,Y);if(j(L)){if(_t=j(L),typeof _t!="function")throw Error(a(150));return L=_t.call(L),Et(k,M,L,Y)}if(typeof L.then=="function")return ae(k,M,Hu(L),Y);if(L.$$typeof===mt)return ae(k,M,Pu(k,L),Y);Fu(k,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(s(k,M.sibling),Y=h(M,L),Y.return=k,k=Y):(s(k,M),Y=lf(L,k.mode,Y),Y.return=k,k=Y),g(k)):s(k,M)}return function(k,M,L,Y){try{io=0;var _t=ae(k,M,L,Y);return Pa=null,_t}catch(ft){if(ft===La||ft===Bu)throw ft;var Kt=xn(29,ft,null,k.mode);return Kt.lanes=Y,Kt.return=k,Kt}}}var Wr=og(!0),ug=og(!1),Ps=!1;function Ef(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Tf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,($t&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=ku(e),Qp(e,null,s),n}return Vu(e,l,n,s),ku(e)}function ro(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Ml(e,s)}}function bf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Af=!1;function ao(){if(Af){var e=Ua;if(e!==null)throw e}}function lo(e,n,s,l){Af=!1;var h=e.updateQueue;Ps=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,z=R.next;R.next=null,g===null?f=z:g.next=z,g=R;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,T=Q.lastBaseUpdate,T!==g&&(T===null?Q.firstBaseUpdate=z:T.next=z,Q.lastBaseUpdate=R))}if(f!==null){var X=h.baseState;g=0,Q=z=R=null,T=f;do{var B=T.lane&-536870913,F=B!==T.lane;if(F?(zt&B)===B:(l&B)===B){B!==0&&B===ja&&(Af=!0),Q!==null&&(Q=Q.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ut=e,Et=T;B=n;var ae=s;switch(Et.tag){case 1:if(ut=Et.payload,typeof ut=="function"){X=ut.call(ae,X,B);break t}X=ut;break t;case 3:ut.flags=ut.flags&-65537|128;case 0:if(ut=Et.payload,B=typeof ut=="function"?ut.call(ae,X,B):ut,B==null)break t;X=x({},X,B);break t;case 2:Ps=!0}}B=T.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:T.tag,payload:T.payload,callback:T.callback,next:null},Q===null?(z=Q=F,R=X):Q=Q.next=F,g|=B;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(R=X),h.baseState=R,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Qs|=g,e.lanes=g,e.memoizedState=X}}function cg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function hg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)cg(s[e],n)}var za=I(null),Gu=I(0);function fg(e,n){e=ds,st(Gu,e),st(za,n),ds=e|n.baseLanes}function Sf(){st(Gu,ds),st(za,za.current)}function xf(){ds=Gu.current,K(za),K(Gu)}var wn=I(null),Gn=null;function qs(e){var n=e.alternate;st(Ae,Ae.current&1),st(wn,e),Gn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Gn=e)}function wf(e){st(Ae,Ae.current),st(wn,e),Gn===null&&(Gn=e)}function dg(e){e.tag===22?(st(Ae,Ae.current),st(wn,e),Gn===null&&(Gn=e)):Hs()}function Hs(){st(Ae,Ae.current),st(wn,wn.current)}function Cn(e){K(wn),Gn===e&&(Gn=null),K(Ae)}var Ae=I(0);function Qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Md(s)||Od(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var rs=0,Dt=null,se=null,Me=null,Ku=!1,Ba=!1,ta=!1,Yu=0,oo=0,qa=null,UT=0;function ve(){throw Error(a(321))}function Cf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function Rf(e,n,s,l,h,f){return rs=f,Dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?$g:Hf,ta=!1,f=s(l,h),ta=!1,Ba&&(f=pg(n,s,l,h)),mg(e),f}function mg(e){q.H=ho;var n=se!==null&&se.next!==null;if(rs=0,Me=se=Dt=null,Ku=!1,oo=0,qa=null,n)throw Error(a(300));e===null||Oe||(e=e.dependencies,e!==null&&Lu(e)&&(Oe=!0))}function pg(e,n,s,l){Dt=e;var h=0;do{if(Ba&&(qa=null),oo=0,Ba=!1,25<=h)throw Error(a(301));if(h+=1,Me=se=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Zg,f=n(s,l)}while(Ba);return f}function LT(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?uo(n):n,e=e.useState()[0],(se!==null?se.memoizedState:null)!==e&&(Dt.flags|=1024),n}function Nf(){var e=Yu!==0;return Yu=0,e}function If(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Df(e){if(Ku){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Ku=!1}rs=0,Me=se=Dt=null,Ba=!1,oo=Yu=0,qa=null}function un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Dt.memoizedState=Me=e:Me=Me.next=e,Me}function Se(){if(se===null){var e=Dt.alternate;e=e!==null?e.memoizedState:null}else e=se.next;var n=Me===null?Dt.memoizedState:Me.next;if(n!==null)Me=n,se=e;else{if(e===null)throw Dt.alternate===null?Error(a(467)):Error(a(310));se=e,e={memoizedState:se.memoizedState,baseState:se.baseState,baseQueue:se.baseQueue,queue:se.queue,next:null},Me===null?Dt.memoizedState=Me=e:Me=Me.next=e}return Me}function Xu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uo(e){var n=oo;return oo+=1,qa===null&&(qa=[]),e=rg(qa,e,n),n=Dt,(Me===null?n.memoizedState:Me.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?$g:Hf),e}function $u(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return uo(e);if(e.$$typeof===mt)return Xe(e)}throw Error(a(438,String(e)))}function Mf(e){var n=null,s=Dt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=Dt.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Xu(),Dt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function as(e,n){return typeof n=="function"?n(e):n}function Zu(e){var n=Se();return Of(n,se,e)}function Of(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(zt&X)===X:(rs&X)===X){var B=z.revertLane;if(B===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ja&&(Q=!0);else if((rs&B)===B){z=z.next,B===ja&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=X,g=f):R=R.next=X,Dt.lanes|=B,Qs|=B;X=z.action,ta&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},R===null?(T=R=B,g=f):R=R.next=B,Dt.lanes|=X,Qs|=X;z=z.next}while(z!==null&&z!==n);if(R===null?g=f:R.next=T,!Sn(f,e.memoizedState)&&(Oe=!0,Q&&(s=Ua,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Vf(e){var n=Se(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(Oe=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function gg(e,n,s){var l=Dt,h=Se(),f=Gt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Sn((se||h).memoizedState,s);if(g&&(h.memoizedState=s,Oe=!0),h=h.queue,Uf(vg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Me!==null&&Me.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},_g.bind(null,l,h,s,n),null),ue===null)throw Error(a(349));f||(rs&127)!==0||yg(l,n,s)}return s}function yg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Dt.updateQueue,n===null?(n=Xu(),Dt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function _g(e,n,s,l){n.value=s,n.getSnapshot=l,Eg(n)&&Tg(e)}function vg(e,n,s){return s(function(){Eg(n)&&Tg(e)})}function Eg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function Tg(e){var n=Gr(e,2);n!==null&&_n(n,e,2)}function kf(e){var n=un();if(typeof e=="function"){var s=e;if(e=s(),ta){oe(!0);try{s()}finally{oe(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:e},n}function bg(e,n,s,l){return e.baseState=s,Of(e,se,typeof l=="function"?l:as)}function PT(e,n,s,l,h){if(tc(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Ag(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Ag(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var T=s(h,l),R=q.S;R!==null&&R(g,T),Sg(e,n,T)}catch(z){jf(e,n,z)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,l),Sg(e,n,f)}catch(z){jf(e,n,z)}}function Sg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){xg(e,n,l)},function(l){return jf(e,n,l)}):xg(e,n,s)}function xg(e,n,s){n.status="fulfilled",n.value=s,wg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Ag(e,s)))}function jf(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,wg(n),n=n.next;while(n!==l)}e.action=null}function wg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Cg(e,n){return n}function Rg(e,n){if(Gt){var s=ue.formState;if(s!==null){t:{var l=Dt;if(Gt){if(ce){e:{for(var h=ce,f=Fn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Qn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ce=Qn(h.nextSibling),l=h.data==="F!";break t}}Us(l)}l=!1}l&&(n=s[0])}}return s=un(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cg,lastRenderedState:n},s.queue=l,s=Kg.bind(null,Dt,l),l.dispatch=s,l=kf(!1),f=qf.bind(null,Dt,!1,l.queue),l=un(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=PT.bind(null,Dt,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Ng(e){var n=Se();return Ig(n,se,e)}function Ig(e,n,s){if(n=Of(e,n,Cg)[0],e=Zu(as)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=uo(n)}catch(g){throw g===La?Bu:g}else l=n;n=Se();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Dt.flags|=2048,Ha(9,{destroy:void 0},zT.bind(null,h,s),null)),[l,f,e]}function zT(e,n){e.action=n}function Dg(e){var n=Se(),s=se;if(s!==null)return Ig(n,s,e);Se(),n=n.memoizedState,s=Se();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ha(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=Dt.updateQueue,n===null&&(n=Xu(),Dt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Mg(){return Se().memoizedState}function Ju(e,n,s,l){var h=un();Dt.flags|=e,h.memoizedState=Ha(1|n,{destroy:void 0},s,l===void 0?null:l)}function Wu(e,n,s,l){var h=Se();l=l===void 0?null:l;var f=h.memoizedState.inst;se!==null&&l!==null&&Cf(l,se.memoizedState.deps)?h.memoizedState=Ha(n,f,s,l):(Dt.flags|=e,h.memoizedState=Ha(1|n,f,s,l))}function Og(e,n){Ju(8390656,8,e,n)}function Uf(e,n){Wu(2048,8,e,n)}function BT(e){Dt.flags|=4;var n=Dt.updateQueue;if(n===null)n=Xu(),Dt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Vg(e){var n=Se().memoizedState;return BT({ref:n,nextImpl:e}),function(){if(($t&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function kg(e,n){return Wu(4,2,e,n)}function jg(e,n){return Wu(4,4,e,n)}function Ug(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Lg(e,n,s){s=s!=null?s.concat([e]):null,Wu(4,4,Ug.bind(null,n,e),s)}function Lf(){}function Pg(e,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Cf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function zg(e,n){var s=Se();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Cf(n,l[1]))return l[0];if(l=e(),ta){oe(!0);try{e()}finally{oe(!1)}}return s.memoizedState=[l,n],l}function Pf(e,n,s){return s===void 0||(rs&1073741824)!==0&&(zt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=By(),Dt.lanes|=e,Qs|=e,s)}function Bg(e,n,s,l){return Sn(s,n)?s:za.current!==null?(e=Pf(e,s,l),Sn(e,n)||(Oe=!0),e):(rs&42)===0||(rs&1073741824)!==0&&(zt&261930)===0?(Oe=!0,e.memoizedState=s):(e=By(),Dt.lanes|=e,Qs|=e,n)}function qg(e,n,s,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=q.T,T={};q.T=T,qf(e,!1,n,s);try{var R=h(),z=q.S;if(z!==null&&z(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var Q=jT(R,l);co(e,n,Q,In(e))}else co(e,n,l,In(e))}catch(X){co(e,n,{then:function(){},status:"rejected",reason:X},In())}finally{W.p=f,g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}function qT(){}function zf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Hg(e).queue;qg(e,h,n,at,s===null?qT:function(){return Fg(e),s(l)})}function Hg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:at,baseState:at,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:at},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:as,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Fg(e){var n=Hg(e);n.next===null&&(n=e.alternate.memoizedState),co(e,n.next.queue,{},In())}function Bf(){return Xe(Ro)}function Gg(){return Se().memoizedState}function Qg(){return Se().memoizedState}function HT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=zs(s);var l=Bs(n,e,s);l!==null&&(_n(l,n,s),ro(l,n,s)),n={cache:gf()},e.payload=n;return}n=n.return}}function FT(e,n,s){var l=In();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},tc(e)?Yg(n,s):(s=rf(e,n,s,l),s!==null&&(_n(s,e,l),Xg(s,n,l)))}function Kg(e,n,s){var l=In();co(e,n,s,l)}function co(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(tc(e))Yg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,Sn(T,g))return Vu(e,n,h,0),ue===null&&Ou(),!1}catch{}if(s=rf(e,n,h,l),s!==null)return _n(s,e,l),Xg(s,n,l),!0}return!1}function qf(e,n,s,l){if(l={lane:2,revertLane:Ed(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},tc(e)){if(n)throw Error(a(479))}else n=rf(e,s,l,2),n!==null&&_n(n,e,2)}function tc(e){var n=e.alternate;return e===Dt||n!==null&&n===Dt}function Yg(e,n){Ba=Ku=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Xg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Ml(e,s)}}var ho={readContext:Xe,use:$u,useCallback:ve,useContext:ve,useEffect:ve,useImperativeHandle:ve,useLayoutEffect:ve,useInsertionEffect:ve,useMemo:ve,useReducer:ve,useRef:ve,useState:ve,useDebugValue:ve,useDeferredValue:ve,useTransition:ve,useSyncExternalStore:ve,useId:ve,useHostTransitionStatus:ve,useFormState:ve,useActionState:ve,useOptimistic:ve,useMemoCache:ve,useCacheRefresh:ve};ho.useEffectEvent=ve;var $g={readContext:Xe,use:$u,useCallback:function(e,n){return un().memoizedState=[e,n===void 0?null:n],e},useContext:Xe,useEffect:Og,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Ju(4194308,4,Ug.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Ju(4194308,4,e,n)},useInsertionEffect:function(e,n){Ju(4,2,e,n)},useMemo:function(e,n){var s=un();n=n===void 0?null:n;var l=e();if(ta){oe(!0);try{e()}finally{oe(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=un();if(s!==void 0){var h=s(n);if(ta){oe(!0);try{s(n)}finally{oe(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=FT.bind(null,Dt,e),[l.memoizedState,e]},useRef:function(e){var n=un();return e={current:e},n.memoizedState=e},useState:function(e){e=kf(e);var n=e.queue,s=Kg.bind(null,Dt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Lf,useDeferredValue:function(e,n){var s=un();return Pf(s,e,n)},useTransition:function(){var e=kf(!1);return e=qg.bind(null,Dt,e.queue,!0,!1),un().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=Dt,h=un();if(Gt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ue===null)throw Error(a(349));(zt&127)!==0||yg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Og(vg.bind(null,l,f,e),[e]),l.flags|=2048,Ha(9,{destroy:void 0},_g.bind(null,l,f,s,n),null),s},useId:function(){var e=un(),n=ue.identifierPrefix;if(Gt){var s=Li,l=Ui;s=(l&~(1<<32-Nt(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Yu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=UT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Bf,useFormState:Rg,useActionState:Rg,useOptimistic:function(e){var n=un();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=qf.bind(null,Dt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Mf,useCacheRefresh:function(){return un().memoizedState=HT.bind(null,Dt)},useEffectEvent:function(e){var n=un(),s={impl:e};return n.memoizedState=s,function(){if(($t&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Hf={readContext:Xe,use:$u,useCallback:Pg,useContext:Xe,useEffect:Uf,useImperativeHandle:Lg,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:zg,useReducer:Zu,useRef:Mg,useState:function(){return Zu(as)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Se();return Bg(s,se.memoizedState,e,n)},useTransition:function(){var e=Zu(as)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:uo(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Bf,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var s=Se();return bg(s,se,e,n)},useMemoCache:Mf,useCacheRefresh:Qg};Hf.useEffectEvent=Vg;var Zg={readContext:Xe,use:$u,useCallback:Pg,useContext:Xe,useEffect:Uf,useImperativeHandle:Lg,useInsertionEffect:kg,useLayoutEffect:jg,useMemo:zg,useReducer:Vf,useRef:Mg,useState:function(){return Vf(as)},useDebugValue:Lf,useDeferredValue:function(e,n){var s=Se();return se===null?Pf(s,e,n):Bg(s,se.memoizedState,e,n)},useTransition:function(){var e=Vf(as)[0],n=Se().memoizedState;return[typeof e=="boolean"?e:uo(e),n]},useSyncExternalStore:gg,useId:Gg,useHostTransitionStatus:Bf,useFormState:Dg,useActionState:Dg,useOptimistic:function(e,n){var s=Se();return se!==null?bg(s,se,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Mf,useCacheRefresh:Qg};Zg.useEffectEvent=Vg;function Ff(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:x({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Gf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=In(),h=zs(l);h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(_n(n,e,l),ro(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=In(),h=zs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(_n(n,e,l),ro(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),l=zs(s);l.tag=2,n!=null&&(l.callback=n),n=Bs(e,l,s),n!==null&&(_n(n,e,s),ro(n,e,s))}};function Jg(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!Zl(s,l)||!Zl(h,f):!0}function Wg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&Gf.enqueueReplaceState(n,n.state,null)}function ea(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=x({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function ty(e){Mu(e)}function ey(e){console.error(e)}function ny(e){Mu(e)}function ec(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function iy(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Qf(e,n,s){return s=zs(s),s.tag=3,s.payload={element:null},s.callback=function(){ec(e,n)},s}function sy(e){return e=zs(e),e.tag=3,e}function ry(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){iy(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){iy(n,s,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function GT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ka(n,s,h,!0),s=wn.current,s!==null){switch(s.tag){case 31:case 13:return Gn===null?dc():s.alternate===null&&Ee===0&&(Ee=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===qu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),yd(e,l,h)),!1;case 22:return s.flags|=65536,l===qu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),yd(e,l,h)),!1}throw Error(a(435,s.tag))}return yd(e,l,h),dc(),!1}if(Gt)return n=wn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==hf&&(e=Error(a(422),{cause:l}),to(Bn(e,s)))):(l!==hf&&(n=Error(a(423),{cause:l}),to(Bn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=Bn(l,s),h=Qf(e.stateNode,l,h),bf(e,h),Ee!==4&&(Ee=2)),!1;var f=Error(a(520),{cause:l});if(f=Bn(f,s),Eo===null?Eo=[f]:Eo.push(f),Ee!==4&&(Ee=2),n===null)return!0;l=Bn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Qf(s.stateNode,l,e),bf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=sy(h),ry(h,e,s,l),bf(s,h),!1}s=s.return}while(s!==null);return!1}var Kf=Error(a(461)),Oe=!1;function $e(e,n,s,l){n.child=e===null?ug(n,null,s,l):Wr(n,e.child,s,l)}function ay(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Xr(n),l=Rf(e,n,s,g,f,h),T=Nf(),e!==null&&!Oe?(If(e,n,h),ls(e,n,h)):(Gt&&T&&uf(n),n.flags|=1,$e(e,n,l,h),n.child)}function ly(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!af(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,oy(e,n,f,l,h)):(e=ju(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!ed(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Zl,s(g,l)&&e.ref===n.ref)return ls(e,n,h)}return n.flags|=1,e=es(f,l),e.ref=n.ref,e.return=n,n.child=e}function oy(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if(Zl(f,l)&&e.ref===n.ref)if(Oe=!1,n.pendingProps=l=f,ed(e,h))(e.flags&131072)!==0&&(Oe=!0);else return n.lanes=e.lanes,ls(e,n,h)}return Yf(e,n,s,l,h)}function uy(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return cy(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&zu(n,f!==null?f.cachePool:null),f!==null?fg(n,f):Sf(),dg(n);else return l=n.lanes=536870912,cy(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(zu(n,f.cachePool),fg(n,f),Hs(),n.memoizedState=null):(e!==null&&zu(n,null),Sf(),Hs());return $e(e,n,h,s),n.child}function fo(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function cy(e,n,s,l,h){var f=_f();return f=f===null?null:{parent:De._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&zu(n,null),Sf(),dg(n),e!==null&&ka(e,n,l,!0),n.childLanes=h,null}function nc(e,n){return n=sc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function hy(e,n,s){return Wr(n,e.child,null,s),e=nc(n,n.pendingProps),e.flags|=2,Cn(n),n.memoizedState=null,e}function QT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Gt){if(l.mode==="hidden")return e=nc(n,l),n.lanes=536870912,fo(null,e);if(wf(n),(e=ce)?(e=A_(e,Fn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},s=Yp(e),s.return=n,n.child=s,Ye=n,ce=null)):e=null,e===null)throw Us(n);return n.lanes=536870912,null}return nc(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(wf(n),h)if(n.flags&256)n.flags&=-257,n=hy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Oe||ka(e,n,s,!1),h=(s&e.childLanes)!==0,Oe||h){if(l=ue,l!==null&&(g=Ol(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Gr(e,g),_n(l,e,g),Kf;dc(),n=hy(e,n,s)}else e=f.treeContext,ce=Qn(g.nextSibling),Ye=n,Gt=!0,js=null,Fn=!1,e!==null&&Zp(n,e),n=nc(n,l),n.flags|=4096;return n}return e=es(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ic(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Yf(e,n,s,l,h){return Xr(n),s=Rf(e,n,s,l,void 0,h),l=Nf(),e!==null&&!Oe?(If(e,n,h),ls(e,n,h)):(Gt&&l&&uf(n),n.flags|=1,$e(e,n,s,h),n.child)}function fy(e,n,s,l,h,f){return Xr(n),n.updateQueue=null,s=pg(n,l,s,h),mg(e),l=Nf(),e!==null&&!Oe?(If(e,n,f),ls(e,n,f)):(Gt&&l&&uf(n),n.flags|=1,$e(e,n,s,f),n.child)}function dy(e,n,s,l,h){if(Xr(n),n.stateNode===null){var f=Da,g=s.contextType;typeof g=="object"&&g!==null&&(f=Xe(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Gf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Ef(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Xe(g):Da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Ff(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Gf.enqueueReplaceState(f,f.state,null),lo(n,l,f,h),ao(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=ea(s,T);f.props=R;var z=f.context,Q=s.contextType;g=Da,typeof Q=="object"&&Q!==null&&(g=Xe(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||z!==g)&&Wg(n,f,l,g),Ps=!1;var B=n.memoizedState;f.state=B,lo(n,l,f,h),ao(),z=n.memoizedState,T||B!==z||Ps?(typeof X=="function"&&(Ff(n,s,X,l),z=n.memoizedState),(R=Ps||Jg(n,s,R,l,B,z,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=z),f.props=l,f.state=z,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Tf(e,n),g=n.memoizedProps,Q=ea(s,g),f.props=Q,X=n.pendingProps,B=f.context,z=s.contextType,R=Da,typeof z=="object"&&z!==null&&(R=Xe(z)),T=s.getDerivedStateFromProps,(z=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||B!==R)&&Wg(n,f,l,R),Ps=!1,B=n.memoizedState,f.state=B,lo(n,l,f,h),ao();var F=n.memoizedState;g!==X||B!==F||Ps||e!==null&&e.dependencies!==null&&Lu(e.dependencies)?(typeof T=="function"&&(Ff(n,s,T,l),F=n.memoizedState),(Q=Ps||Jg(n,s,Q,l,B,F,R)||e!==null&&e.dependencies!==null&&Lu(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=R,l=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ic(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Wr(n,e.child,null,h),n.child=Wr(n,null,s,h)):$e(e,n,s,h),n.memoizedState=f.state,e=n.child):e=ls(e,n,h),e}function my(e,n,s,l){return Kr(),n.flags|=256,$e(e,n,s,l),n.child}var Xf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $f(e){return{baseLanes:e,cachePool:ig()}}function Zf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function py(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ae.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Gt){if(h?qs(n):Hs(),(e=ce)?(e=A_(e,Fn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Ui,overflow:Li}:null,retryLane:536870912,hydrationErrors:null},s=Yp(e),s.return=n,n.child=s,Ye=n,ce=null)):e=null,e===null)throw Us(n);return Od(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Hs(),h=n.mode,T=sc({mode:"hidden",children:T},h),l=Qr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=$f(s),l.childLanes=Zf(e,g,s),n.memoizedState=Xf,fo(null,l)):(qs(n),Jf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=Wf(e,n,s)):n.memoizedState!==null?(Hs(),n.child=e.child,n.flags|=128,n=null):(Hs(),T=l.fallback,h=n.mode,l=sc({mode:"visible",children:l.children},h),T=Qr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Wr(n,e.child,null,s),l=n.child,l.memoizedState=$f(s),l.childLanes=Zf(e,g,s),n.memoizedState=Xf,n=fo(null,l));else if(qs(n),Od(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var z=g.dgst;g=z,l=Error(a(419)),l.stack="",l.digest=g,to({value:l,source:null,stack:null}),n=Wf(e,n,s)}else if(Oe||ka(e,n,s,!1),g=(s&e.childLanes)!==0,Oe||g){if(g=ue,g!==null&&(l=Ol(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Gr(e,l),_n(g,e,l),Kf;Md(T)||dc(),n=Wf(e,n,s)}else Md(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,ce=Qn(T.nextSibling),Ye=n,Gt=!0,js=null,Fn=!1,e!==null&&Zp(n,e),n=Jf(n,l.children),n.flags|=4096);return n}return h?(Hs(),T=l.fallback,h=n.mode,R=e.child,z=R.sibling,l=es(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,z!==null?T=es(z,T):(T=Qr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,fo(null,l),l=n.child,T=e.child.memoizedState,T===null?T=$f(s):(h=T.cachePool,h!==null?(R=De._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=ig(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Zf(e,g,s),n.memoizedState=Xf,fo(e.child,l)):(qs(n),s=e.child,e=s.sibling,s=es(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Jf(e,n){return n=sc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function sc(e,n){return e=xn(22,e,null,n),e.lanes=0,e}function Wf(e,n,s){return Wr(n,e.child,null,s),e=Jf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function gy(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),mf(e.return,n,s)}function td(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function yy(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Ae.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,st(Ae,g),$e(e,n,l,s),l=Gt?Wl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&gy(e,s,n);else if(e.tag===19)gy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),td(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}td(n,!0,s,null,f,l);break;case"together":td(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function ls(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ka(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=es(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=es(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function ed(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Lu(e)))}function KT(e,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Ls(n,De,e.memoizedState.cache),Kr();break;case 27:case 5:On(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,wf(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?py(e,n,s):(qs(n),e=ls(e,n,s),e!==null?e.sibling:null);qs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ka(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return yy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Ae,Ae.current),l)break;return null;case 22:return n.lanes=0,uy(e,n,s,n.pendingProps);case 24:Ls(n,De,e.memoizedState.cache)}return ls(e,n,s)}function _y(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Oe=!0;else{if(!ed(e,s)&&(n.flags&128)===0)return Oe=!1,KT(e,n,s);Oe=(e.flags&131072)!==0}else Oe=!1,Gt&&(n.flags&1048576)!==0&&$p(n,Wl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=Zr(n.elementType),n.type=e,typeof e=="function")af(e)?(l=ea(e,l),n.tag=1,n=dy(null,n,e,l,s)):(n.tag=0,n=Yf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Ot){n.tag=11,n=ay(null,n,e,l,s);break t}else if(h===N){n.tag=14,n=ly(null,n,e,l,s);break t}}throw n=Pt(e)||e,Error(a(306,n,""))}}return n;case 0:return Yf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ea(l,n.pendingProps),dy(e,n,l,h,s);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,Tf(e,n),lo(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Ls(n,De,l),l!==f.cache&&pf(n,[De],s,!0),ao(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=my(e,n,l,s);break t}else if(l!==h){h=Bn(Error(a(424)),n),to(h),n=my(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ce=Qn(e.firstChild),Ye=n,Gt=!0,js=null,Fn=!0,s=ug(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Kr(),l===h){n=ls(e,n,s);break t}$e(e,n,l,s)}n=n.child}return n;case 26:return ic(e,n),e===null?(s=N_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Gt||(s=n.type,e=n.pendingProps,l=Ec(ct.current).createElement(s),l[Re]=n,l[Be]=e,Ze(l,s,e),Ne(l),n.stateNode=l):n.memoizedState=N_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return On(n),e===null&&Gt&&(l=n.stateNode=w_(n.type,n.pendingProps,ct.current),Ye=n,Fn=!0,h=ce,Zs(n.type)?(Vd=h,ce=Qn(l.firstChild)):ce=h),$e(e,n,n.pendingProps.children,s),ic(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Gt&&((h=l=ce)&&(l=Ab(l,n.type,n.pendingProps,Fn),l!==null?(n.stateNode=l,Ye=n,ce=Qn(l.firstChild),Fn=!1,h=!0):h=!1),h||Us(n)),On(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,Nd(h,f)?l=null:g!==null&&Nd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=Rf(e,n,LT,null,null,s),Ro._currentValue=h),ic(e,n),$e(e,n,l,s),n.child;case 6:return e===null&&Gt&&((e=s=ce)&&(s=Sb(s,n.pendingProps,Fn),s!==null?(n.stateNode=s,Ye=n,ce=null,e=!0):e=!1),e||Us(n)),null;case 13:return py(e,n,s);case 4:return ye(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Wr(n,null,l,s):$e(e,n,l,s),n.child;case 11:return ay(e,n,n.type,n.pendingProps,s);case 7:return $e(e,n,n.pendingProps,s),n.child;case 8:return $e(e,n,n.pendingProps.children,s),n.child;case 12:return $e(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ls(n,n.type,l.value),$e(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Xr(n),h=Xe(h),l=l(h),n.flags|=1,$e(e,n,l,s),n.child;case 14:return ly(e,n,n.type,n.pendingProps,s);case 15:return oy(e,n,n.type,n.pendingProps,s);case 19:return yy(e,n,s);case 31:return QT(e,n,s);case 22:return uy(e,n,s,n.pendingProps);case 24:return Xr(n),l=Xe(De),e===null?(h=_f(),h===null&&(h=ue,f=gf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},Ef(n),Ls(n,De,h)):((e.lanes&s)!==0&&(Tf(e,n),lo(n,null,null,s),ao()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,De,l)):(l=f.cache,Ls(n,De,l),l!==h.cache&&pf(n,[De],s,!0))),$e(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function os(e){e.flags|=4}function nd(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Gy())e.flags|=8192;else throw Jr=qu,vf}else e.flags&=-16777217}function vy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!V_(n))if(Gy())e.flags|=8192;else throw Jr=qu,vf}function rc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?hu():536870912,e.lanes|=n,Ka|=n)}function mo(e,n){if(!Gt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function he(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function YT(e,n,s){var l=n.pendingProps;switch(cf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(n),null;case 1:return he(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ss(De),ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Va(n)?os(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,ff())),he(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(os(n),f!==null?(he(n),vy(n,f)):(he(n),nd(n,h,null,l,s))):f?f!==e.memoizedState?(os(n),he(n),vy(n,f)):(he(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&os(n),he(n),nd(n,h,e,l,s)),null;case 27:if(di(n),s=ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}e=rt.current,Va(n)?Jp(n):(e=w_(h,l,s),n.stateNode=e,os(n))}return he(n),null;case 5:if(di(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return he(n),null}if(f=rt.current,Va(n))Jp(n);else{var g=Ec(ct.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Re]=n,f[Be]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Ze(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&os(n)}}return he(n),nd(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&os(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=ct.current,Va(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Ye,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||p_(e.nodeValue,s)),e||Us(n,!0)}else e=Ec(e).createTextNode(l),e[Re]=n,n.stateNode=e}return he(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Va(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),e=!1}else s=ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Cn(n),n):(Cn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return he(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Va(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else Kr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;he(n),h=!1}else h=ff(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Cn(n),n):(Cn(n),null)}return Cn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),rc(n,n.updateQueue),he(n),null);case 4:return ne(),e===null&&Sd(n.stateNode.containerInfo),he(n),null;case 10:return ss(n.type),he(n),null;case 19:if(K(Ae),l=n.memoizedState,l===null)return he(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)mo(l,!1);else{if(Ee!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Qu(e),f!==null){for(n.flags|=128,mo(l,!1),e=f.updateQueue,n.updateQueue=e,rc(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Kp(s,e),s=s.sibling;return st(Ae,Ae.current&1|2),Gt&&ns(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&ze()>cc&&(n.flags|=128,h=!0,mo(l,!1),n.lanes=4194304)}else{if(!h)if(e=Qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,rc(n,e),mo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Gt)return he(n),null}else 2*ze()-l.renderingStartTime>cc&&s!==536870912&&(n.flags|=128,h=!0,mo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=ze(),e.sibling=null,s=Ae.current,st(Ae,h?s&1|2:s&1),Gt&&ns(n,l.treeForkCount),e):(he(n),null);case 22:case 23:return Cn(n),xf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(he(n),n.subtreeFlags&6&&(n.flags|=8192)):he(n),s=n.updateQueue,s!==null&&rc(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&K($r),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ss(De),he(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function XT(e,n){switch(cf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ss(De),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return di(n),null;case 31:if(n.memoizedState!==null){if(Cn(n),n.alternate===null)throw Error(a(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Cn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Kr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(Ae),null;case 4:return ne(),null;case 10:return ss(n.type),null;case 22:case 23:return Cn(n),xf(),e!==null&&K($r),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ss(De),null;case 25:return null;default:return null}}function Ey(e,n){switch(cf(n),n.tag){case 3:ss(De),ne();break;case 26:case 27:case 5:di(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&Cn(n);break;case 13:Cn(n);break;case 19:K(Ae);break;case 10:ss(n.type);break;case 22:case 23:Cn(n),xf(),e!==null&&K($r);break;case 24:ss(De)}}function po(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){te(n,n.return,T)}}function Fs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,z=T;try{z()}catch(Q){te(h,R,Q)}}}l=l.next}while(l!==f)}}catch(Q){te(n,n.return,Q)}}function Ty(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{hg(n,s)}catch(l){te(e,e.return,l)}}}function by(e,n,s){s.props=ea(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){te(e,n,l)}}function go(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){te(e,n,h)}}function Pi(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){te(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){te(e,n,h)}else s.current=null}function Ay(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){te(e,e.return,h)}}function id(e,n,s){try{var l=e.stateNode;yb(l,e.type,s,n),l[Be]=n}catch(h){te(e,e.return,h)}}function Sy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zs(e.type)||e.tag===4}function sd(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Sy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function rd(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ii));else if(l!==4&&(l===27&&Zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(rd(e,n,s),e=e.sibling;e!==null;)rd(e,n,s),e=e.sibling}function ac(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(ac(e,n,s),e=e.sibling;e!==null;)ac(e,n,s),e=e.sibling}function xy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ze(n,l,s),n[Re]=e,n[Be]=s}catch(f){te(e,e.return,f)}}var us=!1,Ve=!1,ad=!1,wy=typeof WeakSet=="function"?WeakSet:Set,He=null;function $T(e,n){if(e=e.containerInfo,Cd=Cc,e=Lp(e),Jh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,z=0,Q=0,X=e,B=null;e:for(;;){for(var F;X!==s||h!==0&&X.nodeType!==3||(T=g+h),X!==f||l!==0&&X.nodeType!==3||(R=g+l),X.nodeType===3&&(g+=X.nodeValue.length),(F=X.firstChild)!==null;)B=X,X=F;for(;;){if(X===e)break e;if(B===s&&++z===h&&(T=g),B===f&&++Q===l&&(R=g),(F=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=F}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(Rd={focusedElem:e,selectionRange:s},Cc=!1,He=n;He!==null;)if(n=He,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,He=e;else for(;He!==null;){switch(n=He,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ut=ea(s.type,h);e=l.getSnapshotBeforeUpdate(ut,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){te(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Dd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Dd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,He=e;break}He=n.return}}function Cy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:hs(e,s),l&4&&po(5,s);break;case 1:if(hs(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){te(s,s.return,g)}else{var h=ea(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){te(s,s.return,g)}}l&64&&Ty(s),l&512&&go(s,s.return);break;case 3:if(hs(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{hg(e,n)}catch(g){te(s,s.return,g)}}break;case 27:n===null&&l&4&&xy(s);case 26:case 5:hs(e,s),n===null&&l&4&&Ay(s),l&512&&go(s,s.return);break;case 12:hs(e,s);break;case 31:hs(e,s),l&4&&Iy(e,s);break;case 13:hs(e,s),l&4&&Dy(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=rb.bind(null,s),xb(e,s))));break;case 22:if(l=s.memoizedState!==null||us,!l){n=n!==null&&n.memoizedState!==null||Ve,h=us;var f=Ve;us=l,(Ve=n)&&!f?fs(e,s,(s.subtreeFlags&8772)!==0):hs(e,s),us=h,Ve=f}break;case 30:break;default:hs(e,s)}}function Ry(e){var n=e.alternate;n!==null&&(e.alternate=null,Ry(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ya(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var pe=null,mn=!1;function cs(e,n,s){for(s=s.child;s!==null;)Ny(e,n,s),s=s.sibling}function Ny(e,n,s){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(ot,s)}catch{}switch(s.tag){case 26:Ve||Pi(s,n),cs(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ve||Pi(s,n);var l=pe,h=mn;Zs(s.type)&&(pe=s.stateNode,mn=!1),cs(e,n,s),xo(s.stateNode),pe=l,mn=h;break;case 5:Ve||Pi(s,n);case 6:if(l=pe,h=mn,pe=null,cs(e,n,s),pe=l,mn=h,pe!==null)if(mn)try{(pe.nodeType===9?pe.body:pe.nodeName==="HTML"?pe.ownerDocument.body:pe).removeChild(s.stateNode)}catch(f){te(s,n,f)}else try{pe.removeChild(s.stateNode)}catch(f){te(s,n,f)}break;case 18:pe!==null&&(mn?(e=pe,T_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),el(e)):T_(pe,s.stateNode));break;case 4:l=pe,h=mn,pe=s.stateNode.containerInfo,mn=!0,cs(e,n,s),pe=l,mn=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),Ve||Fs(4,s,n),cs(e,n,s);break;case 1:Ve||(Pi(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&by(s,n,l)),cs(e,n,s);break;case 21:cs(e,n,s);break;case 22:Ve=(l=Ve)||s.memoizedState!==null,cs(e,n,s),Ve=l;break;default:cs(e,n,s)}}function Iy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{el(e)}catch(s){te(n,n.return,s)}}}function Dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{el(e)}catch(s){te(n,n.return,s)}}function ZT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new wy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new wy),n;default:throw Error(a(435,e.tag))}}function lc(e,n){var s=ZT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=ab.bind(null,e,l);l.then(h,h)}})}function pn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Zs(T.type)){pe=T.stateNode,mn=!1;break t}break;case 5:pe=T.stateNode,mn=!1;break t;case 3:case 4:pe=T.stateNode.containerInfo,mn=!0;break t}T=T.return}if(pe===null)throw Error(a(160));Ny(f,g,h),pe=null,mn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)My(n,e),n=n.sibling}var ui=null;function My(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:pn(n,e),gn(e),l&4&&(Fs(3,e,e.return),po(3,e),Fs(5,e,e.return));break;case 1:pn(n,e),gn(e),l&512&&(Ve||s===null||Pi(s,s.return)),l&64&&us&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=ui;if(pn(n,e),gn(e),l&512&&(Ve||s===null||Pi(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[xi]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ze(f,l,s),f[Re]=e,Ne(f),l=f;break t;case"link":var g=M_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),Ze(f,l,s),h.head.appendChild(f);break;case"meta":if(g=M_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(l),Ze(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Re]=e,Ne(f),l=f}e.stateNode=l}else O_(h,e.type,e.stateNode);else e.stateNode=D_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?O_(h,e.type,e.stateNode):D_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&id(e,e.memoizedProps,s.memoizedProps)}break;case 27:pn(n,e),gn(e),l&512&&(Ve||s===null||Pi(s,s.return)),s!==null&&l&4&&id(e,e.memoizedProps,s.memoizedProps);break;case 5:if(pn(n,e),gn(e),l&512&&(Ve||s===null||Pi(s,s.return)),e.flags&32){h=e.stateNode;try{dn(h,"")}catch(ut){te(e,e.return,ut)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,id(e,h,s!==null?s.memoizedProps:h)),l&1024&&(ad=!0);break;case 6:if(pn(n,e),gn(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ut){te(e,e.return,ut)}}break;case 3:if(Ac=null,h=ui,ui=Tc(n.containerInfo),pn(n,e),ui=h,gn(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(ut){te(e,e.return,ut)}ad&&(ad=!1,Oy(e));break;case 4:l=ui,ui=Tc(e.stateNode.containerInfo),pn(n,e),gn(e),ui=l;break;case 12:pn(n,e),gn(e);break;case 31:pn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,lc(e,l)));break;case 13:pn(n,e),gn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(uc=ze()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,lc(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,z=us,Q=Ve;if(us=z||h,Ve=Q||R,pn(n,e),Ve=Q,us=z,gn(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||us||Ve||na(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var X=R.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;T.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ut){te(R,R.return,ut)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ut){te(R,R.return,ut)}}}else if(n.tag===18){if(s===null){R=n;try{var F=R.stateNode;h?b_(F,!0):b_(R.stateNode,!1)}catch(ut){te(R,R.return,ut)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,lc(e,s))));break;case 19:pn(n,e),gn(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,lc(e,l)));break;case 30:break;case 21:break;default:pn(n,e),gn(e)}}function gn(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(Sy(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=sd(e);ac(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(dn(g,""),s.flags&=-33);var T=sd(e);ac(e,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,z=sd(e);rd(e,z,R);break;default:throw Error(a(161))}}catch(Q){te(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Oy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Oy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function hs(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Cy(e,n.alternate,n),n=n.sibling}function na(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),na(n);break;case 1:Pi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&by(n,n.return,s),na(n);break;case 27:xo(n.stateNode);case 26:case 5:Pi(n,n.return),na(n);break;case 22:n.memoizedState===null&&na(n);break;case 30:na(n);break;default:na(n)}e=e.sibling}}function fs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:fs(h,f,s),po(4,f);break;case 1:if(fs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){te(l,l.return,z)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)cg(R[h],T)}catch(z){te(l,l.return,z)}}s&&g&64&&Ty(f),go(f,f.return);break;case 27:xy(f);case 26:case 5:fs(h,f,s),s&&l===null&&g&4&&Ay(f),go(f,f.return);break;case 12:fs(h,f,s);break;case 31:fs(h,f,s),s&&g&4&&Iy(h,f);break;case 13:fs(h,f,s),s&&g&4&&Dy(h,f);break;case 22:f.memoizedState===null&&fs(h,f,s),go(f,f.return);break;case 30:break;default:fs(h,f,s)}n=n.sibling}}function ld(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&eo(s))}function od(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&eo(e))}function ci(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Vy(e,n,s,l),n=n.sibling}function Vy(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ci(e,n,s,l),h&2048&&po(9,n);break;case 1:ci(e,n,s,l);break;case 3:ci(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&eo(e)));break;case 12:if(h&2048){ci(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){te(n,n.return,R)}}else ci(e,n,s,l);break;case 31:ci(e,n,s,l);break;case 13:ci(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ci(e,n,s,l):yo(e,n):f._visibility&2?ci(e,n,s,l):(f._visibility|=2,Fa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&ld(g,n);break;case 24:ci(e,n,s,l),h&2048&&od(n.alternate,n);break;default:ci(e,n,s,l)}}function Fa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,R=l,z=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(f,g,T,R,h),po(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?Fa(f,g,T,R,h):yo(f,g):(Q._visibility|=2,Fa(f,g,T,R,h)),h&&z&2048&&ld(g.alternate,g);break;case 24:Fa(f,g,T,R,h),h&&z&2048&&od(g.alternate,g);break;default:Fa(f,g,T,R,h)}n=n.sibling}}function yo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:yo(s,l),h&2048&&ld(l.alternate,l);break;case 24:yo(s,l),h&2048&&od(l.alternate,l);break;default:yo(s,l)}n=n.sibling}}var _o=8192;function Ga(e,n,s){if(e.subtreeFlags&_o)for(e=e.child;e!==null;)ky(e,n,s),e=e.sibling}function ky(e,n,s){switch(e.tag){case 26:Ga(e,n,s),e.flags&_o&&e.memoizedState!==null&&Ub(s,ui,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,n,s);break;case 3:case 4:var l=ui;ui=Tc(e.stateNode.containerInfo),Ga(e,n,s),ui=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=_o,_o=16777216,Ga(e,n,s),_o=l):Ga(e,n,s));break;default:Ga(e,n,s)}}function jy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function vo(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];He=l,Ly(l,e)}jy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Uy(e),e=e.sibling}function Uy(e){switch(e.tag){case 0:case 11:case 15:vo(e),e.flags&2048&&Fs(9,e,e.return);break;case 3:vo(e);break;case 12:vo(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,oc(e)):vo(e);break;default:vo(e)}}function oc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];He=l,Ly(l,e)}jy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),oc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,oc(n));break;default:oc(n)}e=e.sibling}}function Ly(e,n){for(;He!==null;){var s=He;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:eo(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,He=l;else t:for(s=e;He!==null;){l=He;var h=l.sibling,f=l.return;if(Ry(l),l===s){He=null;break t}if(h!==null){h.return=f,He=h;break t}He=f}}}var JT={getCacheForType:function(e){var n=Xe(De),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Xe(De).controller.signal}},WT=typeof WeakMap=="function"?WeakMap:Map,$t=0,ue=null,Ut=null,zt=0,Wt=0,Rn=null,Gs=!1,Qa=!1,ud=!1,ds=0,Ee=0,Qs=0,ia=0,cd=0,Nn=0,Ka=0,Eo=null,yn=null,hd=!1,uc=0,Py=0,cc=1/0,hc=null,Ks=null,Ue=0,Ys=null,Ya=null,ms=0,fd=0,dd=null,zy=null,To=0,md=null;function In(){return($t&2)!==0&&zt!==0?zt&-zt:q.T!==null?Ed():fu()}function By(){if(Nn===0)if((zt&536870912)===0||Gt){var e=Ir;Ir<<=1,(Ir&3932160)===0&&(Ir=262144),Nn=e}else Nn=536870912;return e=wn.current,e!==null&&(e.flags|=32),Nn}function _n(e,n,s){(e===ue&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Xs(e,zt,Nn,!1)),Dr(e,s),(($t&2)===0||e!==ue)&&(e===ue&&(($t&2)===0&&(ia|=s),Ee===4&&Xs(e,zt,Nn,!1)),zi(e))}function qy(e,n,s){if(($t&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||ti(e,n),h=l?nb(e,n):gd(e,n,!0),f=l;do{if(h===0){Qa&&!l&&Xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!tb(s)){h=gd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=Eo;var R=T.current.memoizedState.isDehydrated;if(R&&(Xa(T,g).flags|=256),g=gd(T,g,!1),g!==2){if(ud&&!R){T.errorRecoveryDisabledLanes|=f,ia|=f,h=4;break t}f=yn,yn=h,f!==null&&(yn===null?yn=f:yn.push.apply(yn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Xa(e,0),Xs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Nn,!Gs);break t;case 2:yn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=uc+300-ze(),10<h)){if(Xs(l,n,Nn,!Gs),bi(l,0,!0)!==0)break t;ms=n,l.timeoutHandle=v_(Hy.bind(null,l,s,yn,hc,hd,n,Nn,ia,Ka,Gs,f,"Throttled",-0,0),h);break t}Hy(l,s,yn,hc,hd,n,Nn,ia,Ka,Gs,f,null,-0,0)}}break}while(!0);zi(e)}function Hy(e,n,s,l,h,f,g,T,R,z,Q,X,B,F){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ii},ky(n,f,X);var ut=(f&62914560)===f?uc-ze():(f&4194048)===f?Py-ze():0;if(ut=Lb(X,ut),ut!==null){ms=f,e.cancelPendingCommit=ut(Zy.bind(null,e,n,f,s,l,h,g,T,R,Q,X,null,B,F)),Xs(e,f,g,!z);return}}Zy(e,n,f,s,l,h,g,T,R)}function tb(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(e,n,s,l){n&=~cd,n&=~ia,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-Nt(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Mr(e,s,n)}function fc(){return($t&6)===0?(bo(0),!1):!0}function pd(){if(Ut!==null){if(Wt===0)var e=Ut.return;else e=Ut,is=Yr=null,Df(e),Pa=null,io=0,e=Ut;for(;e!==null;)Ey(e.alternate,e),e=e.return;Ut=null}}function Xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,Eb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),ms=0,pd(),ue=e,Ut=s=es(e.current,null),zt=n,Wt=0,Rn=null,Gs=!1,Qa=ti(e,n),ud=!1,Ka=Nn=cd=ia=Qs=Ee=0,yn=Eo=null,hd=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-Nt(l),f=1<<h;n|=e[h],l&=~f}return ds=n,Ou(),s}function Fy(e,n){Dt=null,q.H=ho,n===La||n===Bu?(n=ag(),Wt=3):n===vf?(n=ag(),Wt=4):Wt=n===Kf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Rn=n,Ut===null&&(Ee=1,ec(e,Bn(n,e.current)))}function Gy(){var e=wn.current;return e===null?!0:(zt&4194048)===zt?Gn===null:(zt&62914560)===zt||(zt&536870912)!==0?e===Gn:!1}function Qy(){var e=q.H;return q.H=ho,e===null?ho:e}function Ky(){var e=q.A;return q.A=JT,e}function dc(){Ee=4,Gs||(zt&4194048)!==zt&&wn.current!==null||(Qa=!0),(Qs&134217727)===0&&(ia&134217727)===0||ue===null||Xs(ue,zt,Nn,!1)}function gd(e,n,s){var l=$t;$t|=2;var h=Qy(),f=Ky();(ue!==e||zt!==n)&&(hc=null,Xa(e,n)),n=!1;var g=Ee;t:do try{if(Wt!==0&&Ut!==null){var T=Ut,R=Rn;switch(Wt){case 8:pd(),g=6;break t;case 3:case 2:case 9:case 6:wn.current===null&&(n=!0);var z=Wt;if(Wt=0,Rn=null,$a(e,T,R,z),s&&Qa){g=0;break t}break;default:z=Wt,Wt=0,Rn=null,$a(e,T,R,z)}}eb(),g=Ee;break}catch(Q){Fy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,is=Yr=null,$t=l,q.H=h,q.A=f,Ut===null&&(ue=null,zt=0,Ou()),g}function eb(){for(;Ut!==null;)Yy(Ut)}function nb(e,n){var s=$t;$t|=2;var l=Qy(),h=Ky();ue!==e||zt!==n?(hc=null,cc=ze()+500,Xa(e,n)):Qa=ti(e,n);t:do try{if(Wt!==0&&Ut!==null){n=Ut;var f=Rn;e:switch(Wt){case 1:Wt=0,Rn=null,$a(e,n,f,1);break;case 2:case 9:if(sg(f)){Wt=0,Rn=null,Xy(n);break}n=function(){Wt!==2&&Wt!==9||ue!==e||(Wt=7),zi(e)},f.then(n,n);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:sg(f)?(Wt=0,Rn=null,Xy(n)):(Wt=0,Rn=null,$a(e,n,f,7));break;case 5:var g=null;switch(Ut.tag){case 26:g=Ut.memoizedState;case 5:case 27:var T=Ut;if(g?V_(g):T.stateNode.complete){Wt=0,Rn=null;var R=T.sibling;if(R!==null)Ut=R;else{var z=T.return;z!==null?(Ut=z,mc(z)):Ut=null}break e}}Wt=0,Rn=null,$a(e,n,f,5);break;case 6:Wt=0,Rn=null,$a(e,n,f,6);break;case 8:pd(),Ee=6;break t;default:throw Error(a(462))}}ib();break}catch(Q){Fy(e,Q)}while(!0);return is=Yr=null,q.H=l,q.A=h,$t=s,Ut!==null?0:(ue=null,zt=0,Ou(),Ee)}function ib(){for(;Ut!==null&&!Il();)Yy(Ut)}function Yy(e){var n=_y(e.alternate,e,ds);e.memoizedProps=e.pendingProps,n===null?mc(e):Ut=n}function Xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=fy(s,n,n.pendingProps,n.type,void 0,zt);break;case 11:n=fy(s,n,n.pendingProps,n.type.render,n.ref,zt);break;case 5:Df(n);default:Ey(s,n),n=Ut=Kp(n,ds),n=_y(s,n,ds)}e.memoizedProps=e.pendingProps,n===null?mc(e):Ut=n}function $a(e,n,s,l){is=Yr=null,Df(n),Pa=null,io=0;var h=n.return;try{if(GT(e,h,n,s,zt)){Ee=1,ec(e,Bn(s,e.current)),Ut=null;return}}catch(f){if(h!==null)throw Ut=h,f;Ee=1,ec(e,Bn(s,e.current)),Ut=null;return}n.flags&32768?(Gt||l===1?e=!0:Qa||(zt&536870912)!==0?e=!1:(Gs=e=!0,(l===2||l===9||l===3||l===6)&&(l=wn.current,l!==null&&l.tag===13&&(l.flags|=16384))),$y(n,e)):mc(n)}function mc(e){var n=e;do{if((n.flags&32768)!==0){$y(n,Gs);return}e=n.return;var s=YT(n.alternate,n,ds);if(s!==null){Ut=s;return}if(n=n.sibling,n!==null){Ut=n;return}Ut=n=e}while(n!==null);Ee===0&&(Ee=5)}function $y(e,n){do{var s=XT(e.alternate,e);if(s!==null){s.flags&=32767,Ut=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Ut=e;return}Ut=e=s}while(e!==null);Ee=6,Ut=null}function Zy(e,n,s,l,h,f,g,T,R){e.cancelPendingCommit=null;do pc();while(Ue!==0);if(($t&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=sf,Yh(e,s,f,g,T,R),e===ue&&(Ut=ue=null,zt=0),Ya=n,Ys=e,ms=s,fd=f,dd=h,zy=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,lb(yi,function(){return n_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=W.p,W.p=2,g=$t,$t|=4;try{$T(e,n,s)}finally{$t=g,W.p=h,q.T=l}}Ue=1,Jy(),Wy(),t_()}}function Jy(){if(Ue===1){Ue=0;var e=Ys,n=Ya,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=W.p;W.p=2;var h=$t;$t|=4;try{My(n,e);var f=Rd,g=Lp(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&Up(T.ownerDocument.documentElement,T)){if(R!==null&&Jh(T)){var z=R.start,Q=R.end;if(Q===void 0&&(Q=z),"selectionStart"in T)T.selectionStart=z,T.selectionEnd=Math.min(Q,T.value.length);else{var X=T.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var F=B.getSelection(),ut=T.textContent.length,Et=Math.min(R.start,ut),ae=R.end===void 0?Et:Math.min(R.end,ut);!F.extend&&Et>ae&&(g=ae,ae=Et,Et=g);var k=jp(T,Et),M=jp(T,ae);if(k&&M&&(F.rangeCount!==1||F.anchorNode!==k.node||F.anchorOffset!==k.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var L=X.createRange();L.setStart(k.node,k.offset),F.removeAllRanges(),Et>ae?(F.addRange(L),F.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),F.addRange(L))}}}}for(X=[],F=T;F=F.parentNode;)F.nodeType===1&&X.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<X.length;T++){var Y=X[T];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Cc=!!Cd,Rd=Cd=null}finally{$t=h,W.p=l,q.T=s}}e.current=n,Ue=2}}function Wy(){if(Ue===2){Ue=0;var e=Ys,n=Ya,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=W.p;W.p=2;var h=$t;$t|=4;try{Cy(e,n.alternate,n)}finally{$t=h,W.p=l,q.T=s}}Ue=3}}function t_(){if(Ue===4||Ue===3){Ue=0,da();var e=Ys,n=Ya,s=ms,l=zy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Ya=Ys=null,e_(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ks=null),Zi(s),n=n.stateNode,Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(ot,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=W.p,W.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{q.T=n,W.p=h}}(ms&3)!==0&&pc(),zi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===md?To++:(To=0,md=e):To=0,bo(0)}}function e_(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,eo(n)))}function pc(){return Jy(),Wy(),t_(),n_()}function n_(){if(Ue!==5)return!1;var e=Ys,n=fd;fd=0;var s=Zi(ms),l=q.T,h=W.p;try{W.p=32>s?32:s,q.T=null,s=dd,dd=null;var f=Ys,g=ms;if(Ue=0,Ya=Ys=null,ms=0,($t&6)!==0)throw Error(a(331));var T=$t;if($t|=4,Uy(f.current),Vy(f,f.current,g,s),$t=T,bo(0,!1),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(ot,f)}catch{}return!0}finally{W.p=h,q.T=l,e_(e,n)}}function i_(e,n,s){n=Bn(s,n),n=Qf(e.stateNode,n,2),e=Bs(e,n,2),e!==null&&(Dr(e,2),zi(e))}function te(e,n,s){if(e.tag===3)i_(e,e,s);else for(;n!==null;){if(n.tag===3){i_(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){e=Bn(s,e),s=sy(2),l=Bs(n,s,2),l!==null&&(ry(s,l,n,e),Dr(l,2),zi(l));break}}n=n.return}}function yd(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new WT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(ud=!0,h.add(s),e=sb.bind(null,e,n,s),n.then(e,e))}function sb(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ue===e&&(zt&s)===s&&(Ee===4||Ee===3&&(zt&62914560)===zt&&300>ze()-uc?($t&2)===0&&Xa(e,0):cd|=s,Ka===zt&&(Ka=0)),zi(e)}function s_(e,n){n===0&&(n=hu()),e=Gr(e,n),e!==null&&(Dr(e,n),zi(e))}function rb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),s_(e,s)}function ab(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),s_(e,s)}function lb(e,n){return Te(e,n)}var gc=null,Za=null,_d=!1,yc=!1,vd=!1,$s=0;function zi(e){e!==Za&&e.next===null&&(Za===null?gc=Za=e:Za=Za.next=e),yc=!0,_d||(_d=!0,ub())}function bo(e,n){if(!vd&&yc){vd=!0;do for(var s=!1,l=gc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Nt(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,o_(l,f))}else f=zt,f=bi(l,l===ue?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ti(l,f)||(s=!0,o_(l,f));l=l.next}while(s);vd=!1}}function ob(){r_()}function r_(){yc=_d=!1;var e=0;$s!==0&&vb()&&(e=$s);for(var n=ze(),s=null,l=gc;l!==null;){var h=l.next,f=a_(l,n);f===0?(l.next=null,s===null?gc=h:s.next=h,h===null&&(Za=s)):(s=l,(e!==0||(f&3)!==0)&&(yc=!0)),l=h}Ue!==0&&Ue!==5||bo(e),$s!==0&&($s=0)}function a_(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-Nt(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Kh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ue,s=zt,s=bi(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Wt===2||Wt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&pi(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||ti(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&pi(l),Zi(s)){case 2:case 8:s=Nr;break;case 32:s=yi;break;case 268435456:s=ma;break;default:s=yi}return l=l_.bind(null,e),s=Te(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&pi(l),e.callbackPriority=2,e.callbackNode=null,2}function l_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(pc()&&e.callbackNode!==s)return null;var l=zt;return l=bi(e,e===ue?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(qy(e,l,n),a_(e,ze()),e.callbackNode!=null&&e.callbackNode===s?l_.bind(null,e):null)}function o_(e,n){if(pc())return null;qy(e,n,!0)}function ub(){Tb(function(){($t&6)!==0?Te(Rr,ob):r_()})}function Ed(){if($s===0){var e=ja;e===0&&(e=Ei,Ei<<=1,(Ei&261888)===0&&(Ei=256)),$s=e}return $s}function u_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function c_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function cb(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=u_((h[Be]||null).action),g=l.submitter;g&&(n=(n=g[Be]||null)?u_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Oi("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var R=g?c_(h,g):new FormData(h);zf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?c_(h,g):new FormData(h),zf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var Td=0;Td<nf.length;Td++){var bd=nf[Td],hb=bd.toLowerCase(),fb=bd[0].toUpperCase()+bd.slice(1);oi(hb,"on"+fb)}oi(Bp,"onAnimationEnd"),oi(qp,"onAnimationIteration"),oi(Hp,"onAnimationStart"),oi("dblclick","onDoubleClick"),oi("focusin","onFocus"),oi("focusout","onBlur"),oi(RT,"onTransitionRun"),oi(NT,"onTransitionStart"),oi(IT,"onTransitionCancel"),oi(Fp,"onTransitionEnd"),Ni("onMouseEnter",["mouseout","mouseover"]),Ni("onMouseLeave",["mouseout","mouseover"]),Ni("onPointerEnter",["pointerout","pointerover"]),Ni("onPointerLeave",["pointerout","pointerover"]),Ri("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ri("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ri("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ri("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ri("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ao="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),db=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ao));function h_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,z=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){Mu(Q)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,z=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=z;try{f(h)}catch(Q){Mu(Q)}h.currentTarget=null,f=R}}}}function Lt(e,n){var s=n[ga];s===void 0&&(s=n[ga]=new Set);var l=e+"__bubble";s.has(l)||(f_(n,e,2,!1),s.add(l))}function Ad(e,n,s){var l=0;n&&(l|=4),f_(s,e,l,n)}var _c="_reactListening"+Math.random().toString(36).slice(2);function Sd(e){if(!e[_c]){e[_c]=!0,Vl.forEach(function(s){s!=="selectionchange"&&(db.has(s)||Ad(s,!1,e),Ad(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[_c]||(n[_c]=!0,Ad("selectionchange",!1,n))}}function f_(e,n,s,l){switch(B_(n)){case 2:var h=Bb;break;case 8:h=qb;break;default:h=Pd}s=h.bind(null,n,s,e),h=void 0,!Ur||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function xd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=wi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}T=T.parentNode}}l=l.return}Ds(function(){var z=f,Q=Un(s),X=[];t:{var B=Gp.get(e);if(B!==void 0){var F=Oi,ut=e;switch(e){case"keypress":if(Pr(s)===0)break t;case"keydown":case"keyup":F=Nu;break;case"focusin":ut="focus",F=Br;break;case"focusout":ut="blur",F=Br;break;case"beforeblur":case"afterblur":F=Br;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Kl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=Eu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Bp:case qp:case Hp:F=bu;break;case Fp:F=b;break;case"scroll":case"scrollend":F=Ql;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Au;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=ts;break;case"toggle":case"beforetoggle":F=It}var Et=(n&4)!==0,ae=!Et&&(e==="scroll"||e==="scrollend"),k=Et?B!==null?B+"Capture":null:B;Et=[];for(var M=z,L;M!==null;){var Y=M;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||k===null||(Y=si(M,k),Y!=null&&Et.push(So(M,Y,L))),ae)break;M=M.return}0<Et.length&&(B=new F(B,ut,null,s,Q),X.push({event:B,listeners:Et}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&s!==Hl&&(ut=s.relatedTarget||s.fromElement)&&(wi(ut)||ut[Si]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(ut=s.relatedTarget||s.toElement,F=z,ut=ut?wi(ut):null,ut!==null&&(ae=c(ut),Et=ut.tag,ut!==ae||Et!==5&&Et!==27&&Et!==6)&&(ut=null)):(F=null,ut=z),F!==ut)){if(Et=Kl,Y="onMouseLeave",k="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(Et=ts,Y="onPointerLeave",k="onPointerEnter",M="pointer"),ae=F==null?B:bn(F),L=ut==null?B:bn(ut),B=new Et(Y,M+"leave",F,s,Q),B.target=ae,B.relatedTarget=L,Y=null,wi(Q)===z&&(Et=new Et(k,M+"enter",ut,s,Q),Et.target=L,Et.relatedTarget=ae,Y=Et),ae=Y,F&&ut)e:{for(Et=mb,k=F,M=ut,L=0,Y=k;Y;Y=Et(Y))L++;Y=0;for(var _t=M;_t;_t=Et(_t))Y++;for(;0<L-Y;)k=Et(k),L--;for(;0<Y-L;)M=Et(M),Y--;for(;L--;){if(k===M||M!==null&&k===M.alternate){Et=k;break e}k=Et(k),M=Et(M)}Et=null}else Et=null;F!==null&&d_(X,B,F,Et,!1),ut!==null&&ae!==null&&d_(X,ae,ut,Et,!0)}}t:{if(B=z?bn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Kt=Ip;else if(Rp(B))if(Dp)Kt=xT;else{Kt=AT;var ft=bT}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&Ea(z.elementType)&&(Kt=Ip):Kt=ST;if(Kt&&(Kt=Kt(e,z))){Np(X,Kt,s,Q);break t}ft&&ft(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&zl(B,"number",B.value)}switch(ft=z?bn(z):window,e){case"focusin":(Rp(ft)||ft.contentEditable==="true")&&(Ra=ft,Wh=z,Jl=null);break;case"focusout":Jl=Wh=Ra=null;break;case"mousedown":tf=!0;break;case"contextmenu":case"mouseup":case"dragend":tf=!1,Pp(X,s,Q);break;case"selectionchange":if(CT)break;case"keydown":case"keyup":Pp(X,s,Q)}var Mt;if(Xt)t:{switch(e){case"compositionstart":var Bt="onCompositionStart";break t;case"compositionend":Bt="onCompositionEnd";break t;case"compositionupdate":Bt="onCompositionUpdate";break t}Bt=void 0}else Ca?qr(e,s)&&(Bt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Bt="onCompositionStart");Bt&&(ji&&s.locale!=="ko"&&(Ca||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Ca&&(Mt=Gl()):(Mi=Q,Fl="value"in Mi?Mi.value:Mi.textContent,Ca=!0)),ft=vc(z,Bt),0<ft.length&&(Bt=new ki(Bt,e,null,s,Q),X.push({event:Bt,listeners:ft}),Mt?Bt.data=Mt:(Mt=wa(s),Mt!==null&&(Bt.data=Mt)))),(Mt=Pn?_T(e,s):vT(e,s))&&(Bt=vc(z,"onBeforeInput"),0<Bt.length&&(ft=new ki("onBeforeInput","beforeinput",null,s,Q),X.push({event:ft,listeners:Bt}),ft.data=Mt)),cb(X,e,z,s,Q)}h_(X,n)})}function So(e,n,s){return{instance:e,listener:n,currentTarget:s}}function vc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=si(e,s),h!=null&&l.unshift(So(e,h,f)),h=si(e,n),h!=null&&l.push(So(e,h,f))),e.tag===3)return l;e=e.return}return[]}function mb(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function d_(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,R=T.alternate,z=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||z===null||(R=z,h?(z=si(s,f),z!=null&&g.unshift(So(s,z,R))):h||(z=si(s,f),z!=null&&g.push(So(s,z,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var pb=/\r\n?/g,gb=/\u0000|\uFFFD/g;function m_(e){return(typeof e=="string"?e:""+e).replace(pb,`
`).replace(gb,"")}function p_(e,n){return n=m_(n),m_(e)===n}function re(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||dn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&dn(e,""+l);break;case"className":An(e,"class",l);break;case"tabIndex":An(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":An(e,s,l);break;case"style":ql(e,l,f);break;case"data":if(n!=="object"){An(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ta(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&re(e,n,"name",h.name,h,null),re(e,n,"formEncType",h.formEncType,h,null),re(e,n,"formMethod",h.formMethod,h,null),re(e,n,"formTarget",h.formTarget,h,null)):(re(e,n,"encType",h.encType,h,null),re(e,n,"method",h.method,h,null),re(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ta(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ii);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ta(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":Lt("beforetoggle",e),Lt("toggle",e),_a(e,"popover",l);break;case"xlinkActuate":Ie(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ie(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ie(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ie(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ie(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ie(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ie(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=vu.get(s)||s,_a(e,s,l))}}function wd(e,n,s,l,h,f){switch(s){case"style":ql(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?dn(e,l):(typeof l=="number"||typeof l=="bigint")&&dn(e,""+l);break;case"onScroll":l!=null&&Lt("scroll",e);break;case"onScrollEnd":l!=null&&Lt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ii);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Be]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):_a(e,s,l)}}}function Ze(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Lt("error",e),Lt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,f,g,s,null)}}h&&re(e,n,"srcSet",s.srcSet,s,null),l&&re(e,n,"src",s.src,s,null);return;case"input":Lt("invalid",e);var T=f=g=h=null,R=null,z=null;for(l in s)if(s.hasOwnProperty(l)){var Q=s[l];if(Q!=null)switch(l){case"name":h=Q;break;case"type":g=Q;break;case"checked":R=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":T=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:re(e,n,l,Q,s,null)}}gu(e,f,T,R,z,g,h,!1);return;case"select":Lt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:re(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Cs(e,!!l,n,!1):s!=null&&Cs(e,!!l,s,!0);return;case"textarea":Lt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:re(e,n,g,T,s,null)}Rs(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":re(e,n,R,l,s,null));return;case"dialog":Lt("beforetoggle",e),Lt("toggle",e),Lt("cancel",e),Lt("close",e);break;case"iframe":case"object":Lt("load",e);break;case"video":case"audio":for(l=0;l<Ao.length;l++)Lt(Ao[l],e);break;case"image":Lt("error",e),Lt("load",e);break;case"details":Lt("toggle",e);break;case"embed":case"source":case"link":Lt("error",e),Lt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(l=s[z],l!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:re(e,n,z,l,s,null)}return;default:if(Ea(n)){for(Q in s)s.hasOwnProperty(Q)&&(l=s[Q],l!==void 0&&wd(e,n,Q,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&re(e,n,T,l,s,null))}function yb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,z=null,Q=null;for(F in s){var X=s[F];if(s.hasOwnProperty(F)&&X!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=X;default:l.hasOwnProperty(F)||re(e,n,F,null,l,X)}}for(var B in l){var F=l[B];if(X=s[B],l.hasOwnProperty(B)&&(F!=null||X!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==X&&re(e,n,B,F,l,X)}}va(e,g,T,R,z,Q,f,h);return;case"select":F=g=T=B=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(f)||re(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":B=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&re(e,n,h,f,l,R)}n=T,s=g,l=F,B!=null?Cs(e,!!s,B,!1):!!l!=!!s&&(n!=null?Cs(e,!!s,n,!0):Cs(e,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:re(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&re(e,n,g,h,l,f)}yu(e,B,F);return;case"option":for(var ut in s)B=s[ut],s.hasOwnProperty(ut)&&B!=null&&!l.hasOwnProperty(ut)&&(ut==="selected"?e.selected=!1:re(e,n,ut,null,l,B));for(R in l)B=l[R],F=s[R],l.hasOwnProperty(R)&&B!==F&&(B!=null||F!=null)&&(R==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":re(e,n,R,B,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)B=s[Et],s.hasOwnProperty(Et)&&B!=null&&!l.hasOwnProperty(Et)&&re(e,n,Et,null,l,B);for(z in l)if(B=l[z],F=s[z],l.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:re(e,n,z,B,l,F)}return;default:if(Ea(n)){for(var ae in s)B=s[ae],s.hasOwnProperty(ae)&&B!==void 0&&!l.hasOwnProperty(ae)&&wd(e,n,ae,void 0,l,B);for(Q in l)B=l[Q],F=s[Q],!l.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||wd(e,n,Q,B,l,F);return}}for(var k in s)B=s[k],s.hasOwnProperty(k)&&B!=null&&!l.hasOwnProperty(k)&&re(e,n,k,null,l,B);for(X in l)B=l[X],F=s[X],!l.hasOwnProperty(X)||B===F||B==null&&F==null||re(e,n,X,B,l,F)}function g_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function _b(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&g_(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],z=R.startTime;if(z>T)break;var Q=R.transferSize,X=R.initiatorType;Q&&g_(X)&&(R=R.responseEnd,g+=Q*(R<T?1:(T-z)/(R-z)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Cd=null,Rd=null;function Ec(e){return e.nodeType===9?e:e.ownerDocument}function y_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function __(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Nd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Id=null;function vb(){var e=window.event;return e&&e.type==="popstate"?e===Id?!1:(Id=e,!0):(Id=null,!1)}var v_=typeof setTimeout=="function"?setTimeout:void 0,Eb=typeof clearTimeout=="function"?clearTimeout:void 0,E_=typeof Promise=="function"?Promise:void 0,Tb=typeof queueMicrotask=="function"?queueMicrotask:typeof E_<"u"?function(e){return E_.resolve(null).then(e).catch(bb)}:v_;function bb(e){setTimeout(function(){throw e})}function Zs(e){return e==="head"}function T_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),el(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")xo(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,xo(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[xi]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&xo(e.ownerDocument.body);s=h}while(s);el(n)}function b_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Dd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Dd(s),ya(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function Ab(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[xi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Qn(e.nextSibling),e===null)break}return null}function Sb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Qn(e.nextSibling),e===null))return null;return e}function A_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Qn(e.nextSibling),e===null))return null;return e}function Md(e){return e.data==="$?"||e.data==="$~"}function Od(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function xb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Qn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Vd=null;function S_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Qn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function x_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function w_(e,n,s){switch(n=Ec(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function xo(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ya(e)}var Kn=new Map,C_=new Set;function Tc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ps=W.d;W.d={f:wb,r:Cb,D:Rb,C:Nb,L:Ib,m:Db,X:Ob,S:Mb,M:Vb};function wb(){var e=ps.f(),n=fc();return e||n}function Cb(e){var n=jn(e);n!==null&&n.tag===5&&n.type==="form"?Fg(n):ps.r(e)}var Ja=typeof document>"u"?null:document;function R_(e,n,s){var l=Ja;if(l&&typeof n=="string"&&n){var h=fn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),C_.has(h)||(C_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Ze(n,"link",e),Ne(n),l.head.appendChild(n)))}}function Rb(e){ps.D(e),R_("dns-prefetch",e,null)}function Nb(e,n){ps.C(e,n),R_("preconnect",e,n)}function Ib(e,n,s){ps.L(e,n,s);var l=Ja;if(l&&e&&n){var h='link[rel="preload"][as="'+fn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+fn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+fn(s.imageSizes)+'"]')):h+='[href="'+fn(e)+'"]';var f=h;switch(n){case"style":f=Wa(e);break;case"script":f=tl(e)}Kn.has(f)||(e=x({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Kn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(wo(f))||n==="script"&&l.querySelector(Co(f))||(n=l.createElement("link"),Ze(n,"link",e),Ne(n),l.head.appendChild(n)))}}function Db(e,n){ps.m(e,n);var s=Ja;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+fn(l)+'"][href="'+fn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=tl(e)}if(!Kn.has(f)&&(e=x({rel:"modulepreload",href:e},n),Kn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(Co(f)))return}l=s.createElement("link"),Ze(l,"link",e),Ne(l),s.head.appendChild(l)}}}function Mb(e,n,s){ps.S(e,n,s);var l=Ja;if(l&&e){var h=Ci(l).hoistableStyles,f=Wa(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(wo(f)))T.loading=5;else{e=x({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Kn.get(f))&&kd(e,s);var R=g=l.createElement("link");Ne(R),Ze(R,"link",e),R._p=new Promise(function(z,Q){R.onload=z,R.onerror=Q}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,bc(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Ob(e,n){ps.X(e,n);var s=Ja;if(s&&e){var l=Ci(s).hoistableScripts,h=tl(e),f=l.get(h);f||(f=s.querySelector(Co(h)),f||(e=x({src:e,async:!0},n),(n=Kn.get(h))&&jd(e,n),f=s.createElement("script"),Ne(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Vb(e,n){ps.M(e,n);var s=Ja;if(s&&e){var l=Ci(s).hoistableScripts,h=tl(e),f=l.get(h);f||(f=s.querySelector(Co(h)),f||(e=x({src:e,async:!0,type:"module"},n),(n=Kn.get(h))&&jd(e,n),f=s.createElement("script"),Ne(f),Ze(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function N_(e,n,s,l){var h=(h=ct.current)?Tc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Wa(s.href),s=Ci(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Wa(s.href);var f=Ci(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(wo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Kn.set(e,s),f||kb(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=tl(s),s=Ci(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Wa(e){return'href="'+fn(e)+'"'}function wo(e){return'link[rel="stylesheet"]['+e+"]"}function I_(e){return x({},e,{"data-precedence":e.precedence,precedence:null})}function kb(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Ze(n,"link",s),Ne(n),e.head.appendChild(n))}function tl(e){return'[src="'+fn(e)+'"]'}function Co(e){return"script[async]"+e}function D_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+fn(s.href)+'"]');if(l)return n.instance=l,Ne(l),l;var h=x({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ne(l),Ze(l,"style",h),bc(l,s.precedence,e),n.instance=l;case"stylesheet":h=Wa(s.href);var f=e.querySelector(wo(h));if(f)return n.state.loading|=4,n.instance=f,Ne(f),f;l=I_(s),(h=Kn.get(h))&&kd(l,h),f=(e.ownerDocument||e).createElement("link"),Ne(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ze(f,"link",l),n.state.loading|=4,bc(f,s.precedence,e),n.instance=f;case"script":return f=tl(s.src),(h=e.querySelector(Co(f)))?(n.instance=h,Ne(h),h):(l=s,(h=Kn.get(f))&&(l=x({},s),jd(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ne(h),Ze(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,bc(l,s.precedence,e));return n.instance}function bc(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function kd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function jd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Ac=null;function M_(e,n,s){if(Ac===null){var l=new Map,h=Ac=new Map;h.set(s,l)}else h=Ac,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[xi]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function O_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function jb(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function V_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ub(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Wa(l.href),f=n.querySelector(wo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Sc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ne(f);return}f=n.ownerDocument||n,l=I_(l),(h=Kn.get(h))&&kd(l,h),f=f.createElement("link"),Ne(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Ze(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Sc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Ud=0;function Lb(e,n){return e.stylesheets&&e.count===0&&wc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Ud===0&&(Ud=62500*_b());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&wc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Ud?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function Sc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)wc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var xc=null;function wc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,xc=new Map,n.forEach(Pb,e),xc=null,Sc.call(e))}function Pb(e,n){if(!(n.state.loading&4)){var s=xc.get(e);if(s)var l=s.get(null);else{s=new Map,xc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=Sc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Ro={$$typeof:mt,Provider:null,Consumer:null,_currentValue:at,_currentValue2:at,_threadCount:0};function zb(e,n,s,l,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ai(0),this.hiddenUpdates=Ai(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function k_(e,n,s,l,h,f,g,T,R,z,Q,X){return e=new zb(e,n,s,g,R,z,Q,X,T),n=1,f===!0&&(n|=24),f=xn(3,null,null,n),e.current=f,f.stateNode=e,n=gf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},Ef(f),e}function j_(e){return e?(e=Da,e):Da}function U_(e,n,s,l,h,f){h=j_(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Bs(e,l,n),s!==null&&(_n(s,e,n),ro(s,e,n))}function L_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ld(e,n){L_(e,n),(e=e.alternate)&&L_(e,n)}function P_(e){if(e.tag===13||e.tag===31){var n=Gr(e,67108864);n!==null&&_n(n,e,67108864),Ld(e,67108864)}}function z_(e){if(e.tag===13||e.tag===31){var n=In();n=Or(n);var s=Gr(e,n);s!==null&&_n(s,e,n),Ld(e,n)}}var Cc=!0;function Bb(e,n,s,l){var h=q.T;q.T=null;var f=W.p;try{W.p=2,Pd(e,n,s,l)}finally{W.p=f,q.T=h}}function qb(e,n,s,l){var h=q.T;q.T=null;var f=W.p;try{W.p=8,Pd(e,n,s,l)}finally{W.p=f,q.T=h}}function Pd(e,n,s,l){if(Cc){var h=zd(l);if(h===null)xd(e,n,l,Rc,s),q_(e,l);else if(Fb(h,e,n,s,l))l.stopPropagation();else if(q_(e,l),n&4&&-1<Hb.indexOf(e)){for(;h!==null;){var f=jn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=Ti(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-Nt(g);T.entanglements[1]|=R,g&=~R}zi(f),($t&6)===0&&(cc=ze()+500,bo(0))}}break;case 31:case 13:T=Gr(f,2),T!==null&&_n(T,f,2),fc(),Ld(f,2)}if(f=zd(l),f===null&&xd(e,n,l,Rc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else xd(e,n,l,null,s)}}function zd(e){return e=Un(e),Bd(e)}var Rc=null;function Bd(e){if(Rc=null,e=wi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Rc=e,null}function B_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gi()){case Rr:return 2;case Nr:return 8;case yi:case Dl:return 32;case ma:return 268435456;default:return 32}default:return 32}}var qd=!1,Js=null,Ws=null,tr=null,No=new Map,Io=new Map,er=[],Hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function q_(e,n){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":No.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Io.delete(n.pointerId)}}function Do(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=jn(n),n!==null&&P_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Fb(e,n,s,l,h){switch(n){case"focusin":return Js=Do(Js,e,n,s,l,h),!0;case"dragenter":return Ws=Do(Ws,e,n,s,l,h),!0;case"mouseover":return tr=Do(tr,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return No.set(f,Do(No.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,Io.set(f,Do(Io.get(f)||null,e,n,s,l,h)),!0}return!1}function H_(e){var n=wi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ei(e.priority,function(){z_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,ei(e.priority,function(){z_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=zd(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);Hl=l,s.target.dispatchEvent(l),Hl=null}else return n=jn(s),n!==null&&P_(n),e.blockedOn=s,!1;n.shift()}return!0}function F_(e,n,s){Nc(e)&&s.delete(n)}function Gb(){qd=!1,Js!==null&&Nc(Js)&&(Js=null),Ws!==null&&Nc(Ws)&&(Ws=null),tr!==null&&Nc(tr)&&(tr=null),No.forEach(F_),Io.forEach(F_)}function Ic(e,n){e.blockedOn===n&&(e.blockedOn=null,qd||(qd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Gb)))}var Dc=null;function G_(e){Dc!==e&&(Dc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Dc===e&&(Dc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Bd(l||s)===null)continue;break}var f=jn(s);f!==null&&(e.splice(n,3),n-=3,zf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function el(e){function n(R){return Ic(R,e)}Js!==null&&Ic(Js,e),Ws!==null&&Ic(Ws,e),tr!==null&&Ic(tr,e),No.forEach(n),Io.forEach(n);for(var s=0;s<er.length;s++){var l=er[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<er.length&&(s=er[0],s.blockedOn===null);)H_(s),s.blockedOn===null&&er.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[Be]||null;if(typeof f=="function")g||G_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Be]||null)T=g.formAction;else if(Bd(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),G_(s)}}}function Q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Hd(e){this._internalRoot=e}Mc.prototype.render=Hd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=In();U_(s,l,e,n,null,null)},Mc.prototype.unmount=Hd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;U_(e.current,2,null,e,null,null),fc(),n[Si]=null}};function Mc(e){this._internalRoot=e}Mc.prototype.unstable_scheduleHydration=function(e){if(e){var n=fu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<er.length&&n!==0&&n<er[s].priority;s++);er.splice(s,0,e),s===0&&H_(e)}};var K_=t.version;if(K_!=="19.2.3")throw Error(a(527,K_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Qb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oc.isDisabled&&Oc.supportsFiber)try{ot=Oc.inject(Qb),Tt=Oc}catch{}}return Oo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=ty,f=ey,g=ny;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=k_(e,1,!1,null,null,s,l,null,h,f,g,Q_),e[Si]=n.current,Sd(e),new Hd(n)},Oo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=ty,g=ey,T=ny,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=k_(e,1,!0,n,s??null,l,h,R,f,g,T,Q_),n.context=j_(null),s=n.current,l=In(),l=Or(l),h=zs(l),h.callback=null,Bs(s,h,l),s=l,n.current.lanes=s,Dr(n,s),zi(n),e[Si]=n.current,Sd(e),new Mc(n)},Oo.version="19.2.3",Oo}var iv;function nA(){if(iv)return Qd.exports;iv=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=eA(),Qd.exports}var iA=nA();const sA=()=>{};var sv={};const j0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},rA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,A=c>>2,x=(c&3)<<4|p>>4;let O=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(O=64)),a.push(i[A],i[x],i[O],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(j0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):rA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const x=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||x==null)throw new aA;const O=c<<2|p>>4;if(a.push(O),_!==64){const G=p<<4&240|_>>2;if(a.push(G),x!==64){const tt=_<<6&192|x;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class aA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const lA=function(r){const t=j0(r);return U0.encodeByteArray(t,!0)},th=function(r){return lA(r).replace(/\./g,"")},L0=function(r){try{return U0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function oA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const uA=()=>oA().__FIREBASE_DEFAULTS__,cA=()=>{if(typeof process>"u"||typeof sv>"u")return;const r=sv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},hA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&L0(r[1]);return t&&JSON.parse(t)},bh=()=>{try{return sA()||uA()||cA()||hA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},P0=r=>bh()?.emulatorHosts?.[r],fA=r=>{const t=P0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},z0=()=>bh()?.config,B0=r=>bh()?.[`_${r}`];class dA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function q0(r){return(await fetch(r,{credentials:"include"})).ok}function mA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[th(JSON.stringify(i)),th(JSON.stringify(d)),""].join(".")}const zo={};function pA(){const r={prod:[],emulator:[]};for(const t of Object.keys(zo))zo[t]?r.emulator.push(t):r.prod.push(t);return r}function gA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let rv=!1;function H0(r,t){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||zo[r]===t||zo[r]||rv)return;zo[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=pA().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function p(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function y(O,G){O.setAttribute("width","24"),O.setAttribute("id",G),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function _(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{rv=!0,d()},O}function A(O,G){O.setAttribute("id",G),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function x(){const O=gA(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),nt=i("learnmore"),Z=document.getElementById(nt)||document.createElement("a"),et=i("preprendIcon"),pt=document.getElementById(et)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const mt=O.element;p(mt),A(Z,nt);const Ot=_();y(pt,et),mt.append(pt,tt,Z,Ot),document.body.appendChild(mt)}c?(tt.innerText="Preview backend disconnected.",pt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(pt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",x):x()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function yA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function _A(){const r=bh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function vA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function EA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function TA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bA(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function AA(){return!_A()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function SA(){try{return typeof indexedDB=="object"}catch{return!1}}function xA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const wA="FirebaseError";class Ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=wA,Object.setPrototypeOf(this,Ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?CA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new Ss(o,p,a)}}function CA(r,t){return r.replace(RA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const RA=/\{\$([^}]+)}/g;function NA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function _s(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(av(c)&&av(d)){if(!_s(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function av(r){return r!==null&&typeof r=="object"}function tu(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function IA(r,t){const i=new DA(r,t);return i.subscribe.bind(i)}class DA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");MA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=$d),o.error===void 0&&(o.error=$d),o.complete===void 0&&(o.complete=$d);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function MA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function $d(){}function Qe(r){return r&&r._delegate?r._delegate:r}class la{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const sa="[DEFAULT]";class OA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new dA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(kA(t))try{this.getOrInitializeService({instanceIdentifier:sa})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=sa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=sa){return this.instances.has(t)}getOptions(t=sa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:VA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=sa){return this.component?this.component.multipleInstances?t:sa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function VA(r){return r===sa?void 0:r}function kA(r){return r.instantiationMode==="EAGER"}class jA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new OA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var qt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(qt||(qt={}));const UA={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},LA=qt.INFO,PA={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},zA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=PA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Pm{constructor(t){this.name=t,this._logLevel=LA,this._logHandler=zA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const BA=(r,t)=>t.some(i=>r instanceof i);let lv,ov;function qA(){return lv||(lv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function HA(){return ov||(ov=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const F0=new WeakMap,cm=new WeakMap,G0=new WeakMap,Zd=new WeakMap,zm=new WeakMap;function FA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ur(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&F0.set(i,r)}).catch(()=>{}),zm.set(t,r),t}function GA(r){if(cm.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});cm.set(r,t)}let hm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return cm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||G0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function QA(r){hm=r(hm)}function KA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Jd(this),t,...i);return G0.set(a,t.sort?t.sort():[t]),ur(a)}:HA().includes(r)?function(...t){return r.apply(Jd(this),t),ur(F0.get(this))}:function(...t){return ur(r.apply(Jd(this),t))}}function YA(r){return typeof r=="function"?KA(r):(r instanceof IDBTransaction&&GA(r),BA(r,qA())?new Proxy(r,hm):r)}function ur(r){if(r instanceof IDBRequest)return FA(r);if(Zd.has(r))return Zd.get(r);const t=YA(r);return t!==r&&(Zd.set(r,t),zm.set(t,r)),t}const Jd=r=>zm.get(r);function XA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=ur(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ur(d.result),y.oldVersion,y.newVersion,ur(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const $A=["get","getKey","getAll","getAllKeys","count"],ZA=["put","add","delete","clear"],Wd=new Map;function uv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Wd.get(t))return Wd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=ZA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||$A.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return Wd.set(t,c),c}QA(r=>({...r,get:(t,i,a)=>uv(t,i)||r.get(t,i,a),has:(t,i)=>!!uv(t,i)||r.has(t,i)}));class JA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(WA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function WA(r){return r.getComponent()?.type==="VERSION"}const fm="@firebase/app",cv="0.14.6";const vs=new Pm("@firebase/app"),tS="@firebase/app-compat",eS="@firebase/analytics-compat",nS="@firebase/analytics",iS="@firebase/app-check-compat",sS="@firebase/app-check",rS="@firebase/auth",aS="@firebase/auth-compat",lS="@firebase/database",oS="@firebase/data-connect",uS="@firebase/database-compat",cS="@firebase/functions",hS="@firebase/functions-compat",fS="@firebase/installations",dS="@firebase/installations-compat",mS="@firebase/messaging",pS="@firebase/messaging-compat",gS="@firebase/performance",yS="@firebase/performance-compat",_S="@firebase/remote-config",vS="@firebase/remote-config-compat",ES="@firebase/storage",TS="@firebase/storage-compat",bS="@firebase/firestore",AS="@firebase/ai",SS="@firebase/firestore-compat",xS="firebase",wS="12.6.0";const dm="[DEFAULT]",CS={[fm]:"fire-core",[tS]:"fire-core-compat",[nS]:"fire-analytics",[eS]:"fire-analytics-compat",[sS]:"fire-app-check",[iS]:"fire-app-check-compat",[rS]:"fire-auth",[aS]:"fire-auth-compat",[lS]:"fire-rtdb",[oS]:"fire-data-connect",[uS]:"fire-rtdb-compat",[cS]:"fire-fn",[hS]:"fire-fn-compat",[fS]:"fire-iid",[dS]:"fire-iid-compat",[mS]:"fire-fcm",[pS]:"fire-fcm-compat",[gS]:"fire-perf",[yS]:"fire-perf-compat",[_S]:"fire-rc",[vS]:"fire-rc-compat",[ES]:"fire-gcs",[TS]:"fire-gcs-compat",[bS]:"fire-fst",[SS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[xS]:"fire-js-all"};const eh=new Map,RS=new Map,mm=new Map;function hv(r,t){try{r.container.addComponent(t)}catch(i){vs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function fl(r){const t=r.name;if(mm.has(t))return vs.debug(`There were multiple attempts to register component ${t}.`),!1;mm.set(t,r);for(const i of eh.values())hv(i,r);for(const i of RS.values())hv(i,r);return!0}function Bm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function hi(r){return r==null?!1:r.settings!==void 0}const NS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Wo("app","Firebase",NS);class IS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const bl=wS;function Q0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:dm,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=z0()),!i)throw cr.create("no-options");const c=eh.get(o);if(c){if(_s(i,c.options)&&_s(a,c.config))return c;throw cr.create("duplicate-app",{appName:o})}const d=new jA(o);for(const y of mm.values())d.addComponent(y);const p=new IS(i,a,d);return eh.set(o,p),p}function K0(r=dm){const t=eh.get(r);if(!t&&r===dm&&z0())return Q0();if(!t)throw cr.create("no-app",{appName:r});return t}function hr(r,t,i){let a=CS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),vs.warn(d.join(" "));return}fl(new la(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const DS="firebase-heartbeat-database",MS=1,Qo="firebase-heartbeat-store";let tm=null;function Y0(){return tm||(tm=XA(DS,MS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Qo)}catch(i){console.warn(i)}}}}).catch(r=>{throw cr.create("idb-open",{originalErrorMessage:r.message})})),tm}async function OS(r){try{const i=(await Y0()).transaction(Qo),a=await i.objectStore(Qo).get(X0(r));return await i.done,a}catch(t){if(t instanceof Ss)vs.warn(t.message);else{const i=cr.create("idb-get",{originalErrorMessage:t?.message});vs.warn(i.message)}}}async function fv(r,t){try{const a=(await Y0()).transaction(Qo,"readwrite");await a.objectStore(Qo).put(t,X0(r)),await a.done}catch(i){if(i instanceof Ss)vs.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});vs.warn(a.message)}}}function X0(r){return`${r.name}!${r.options.appId}`}const VS=1024,kS=30;class jS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=dv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>kS){const o=PS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){vs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=dv(),{heartbeatsToSend:i,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),o=th(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return vs.warn(t),""}}}function dv(){return new Date().toISOString().substring(0,10)}function US(r,t=VS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),mv(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),mv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class LS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return SA()?xA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await OS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return fv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function mv(r){return th(JSON.stringify({version:2,heartbeats:r})).length}function PS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function zS(r){fl(new la("platform-logger",t=>new JA(t),"PRIVATE")),fl(new la("heartbeat",t=>new jS(t),"PRIVATE")),hr(fm,cv,r),hr(fm,cv,"esm2020"),hr("fire-js","")}zS("");var BS="firebase",qS="12.7.0";hr(BS,qS,"app");var pv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,$0;(function(){var r;function t(N,w){function C(){}C.prototype=w.prototype,N.F=w.prototype,N.prototype=new C,N.prototype.constructor=N,N.D=function(V,D,j){for(var S=Array(arguments.length-2),Pt=2;Pt<arguments.length;Pt++)S[Pt-2]=arguments[Pt];return w.prototype[D].apply(V,S)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,w,C){C||(C=0);const V=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)V[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)V[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=N.g[0],C=N.g[1],D=N.g[2];let j=N.g[3],S;S=w+(j^C&(D^j))+V[0]+3614090360&4294967295,w=C+(S<<7&4294967295|S>>>25),S=j+(D^w&(C^D))+V[1]+3905402710&4294967295,j=w+(S<<12&4294967295|S>>>20),S=D+(C^j&(w^C))+V[2]+606105819&4294967295,D=j+(S<<17&4294967295|S>>>15),S=C+(w^D&(j^w))+V[3]+3250441966&4294967295,C=D+(S<<22&4294967295|S>>>10),S=w+(j^C&(D^j))+V[4]+4118548399&4294967295,w=C+(S<<7&4294967295|S>>>25),S=j+(D^w&(C^D))+V[5]+1200080426&4294967295,j=w+(S<<12&4294967295|S>>>20),S=D+(C^j&(w^C))+V[6]+2821735955&4294967295,D=j+(S<<17&4294967295|S>>>15),S=C+(w^D&(j^w))+V[7]+4249261313&4294967295,C=D+(S<<22&4294967295|S>>>10),S=w+(j^C&(D^j))+V[8]+1770035416&4294967295,w=C+(S<<7&4294967295|S>>>25),S=j+(D^w&(C^D))+V[9]+2336552879&4294967295,j=w+(S<<12&4294967295|S>>>20),S=D+(C^j&(w^C))+V[10]+4294925233&4294967295,D=j+(S<<17&4294967295|S>>>15),S=C+(w^D&(j^w))+V[11]+2304563134&4294967295,C=D+(S<<22&4294967295|S>>>10),S=w+(j^C&(D^j))+V[12]+1804603682&4294967295,w=C+(S<<7&4294967295|S>>>25),S=j+(D^w&(C^D))+V[13]+4254626195&4294967295,j=w+(S<<12&4294967295|S>>>20),S=D+(C^j&(w^C))+V[14]+2792965006&4294967295,D=j+(S<<17&4294967295|S>>>15),S=C+(w^D&(j^w))+V[15]+1236535329&4294967295,C=D+(S<<22&4294967295|S>>>10),S=w+(D^j&(C^D))+V[1]+4129170786&4294967295,w=C+(S<<5&4294967295|S>>>27),S=j+(C^D&(w^C))+V[6]+3225465664&4294967295,j=w+(S<<9&4294967295|S>>>23),S=D+(w^C&(j^w))+V[11]+643717713&4294967295,D=j+(S<<14&4294967295|S>>>18),S=C+(j^w&(D^j))+V[0]+3921069994&4294967295,C=D+(S<<20&4294967295|S>>>12),S=w+(D^j&(C^D))+V[5]+3593408605&4294967295,w=C+(S<<5&4294967295|S>>>27),S=j+(C^D&(w^C))+V[10]+38016083&4294967295,j=w+(S<<9&4294967295|S>>>23),S=D+(w^C&(j^w))+V[15]+3634488961&4294967295,D=j+(S<<14&4294967295|S>>>18),S=C+(j^w&(D^j))+V[4]+3889429448&4294967295,C=D+(S<<20&4294967295|S>>>12),S=w+(D^j&(C^D))+V[9]+568446438&4294967295,w=C+(S<<5&4294967295|S>>>27),S=j+(C^D&(w^C))+V[14]+3275163606&4294967295,j=w+(S<<9&4294967295|S>>>23),S=D+(w^C&(j^w))+V[3]+4107603335&4294967295,D=j+(S<<14&4294967295|S>>>18),S=C+(j^w&(D^j))+V[8]+1163531501&4294967295,C=D+(S<<20&4294967295|S>>>12),S=w+(D^j&(C^D))+V[13]+2850285829&4294967295,w=C+(S<<5&4294967295|S>>>27),S=j+(C^D&(w^C))+V[2]+4243563512&4294967295,j=w+(S<<9&4294967295|S>>>23),S=D+(w^C&(j^w))+V[7]+1735328473&4294967295,D=j+(S<<14&4294967295|S>>>18),S=C+(j^w&(D^j))+V[12]+2368359562&4294967295,C=D+(S<<20&4294967295|S>>>12),S=w+(C^D^j)+V[5]+4294588738&4294967295,w=C+(S<<4&4294967295|S>>>28),S=j+(w^C^D)+V[8]+2272392833&4294967295,j=w+(S<<11&4294967295|S>>>21),S=D+(j^w^C)+V[11]+1839030562&4294967295,D=j+(S<<16&4294967295|S>>>16),S=C+(D^j^w)+V[14]+4259657740&4294967295,C=D+(S<<23&4294967295|S>>>9),S=w+(C^D^j)+V[1]+2763975236&4294967295,w=C+(S<<4&4294967295|S>>>28),S=j+(w^C^D)+V[4]+1272893353&4294967295,j=w+(S<<11&4294967295|S>>>21),S=D+(j^w^C)+V[7]+4139469664&4294967295,D=j+(S<<16&4294967295|S>>>16),S=C+(D^j^w)+V[10]+3200236656&4294967295,C=D+(S<<23&4294967295|S>>>9),S=w+(C^D^j)+V[13]+681279174&4294967295,w=C+(S<<4&4294967295|S>>>28),S=j+(w^C^D)+V[0]+3936430074&4294967295,j=w+(S<<11&4294967295|S>>>21),S=D+(j^w^C)+V[3]+3572445317&4294967295,D=j+(S<<16&4294967295|S>>>16),S=C+(D^j^w)+V[6]+76029189&4294967295,C=D+(S<<23&4294967295|S>>>9),S=w+(C^D^j)+V[9]+3654602809&4294967295,w=C+(S<<4&4294967295|S>>>28),S=j+(w^C^D)+V[12]+3873151461&4294967295,j=w+(S<<11&4294967295|S>>>21),S=D+(j^w^C)+V[15]+530742520&4294967295,D=j+(S<<16&4294967295|S>>>16),S=C+(D^j^w)+V[2]+3299628645&4294967295,C=D+(S<<23&4294967295|S>>>9),S=w+(D^(C|~j))+V[0]+4096336452&4294967295,w=C+(S<<6&4294967295|S>>>26),S=j+(C^(w|~D))+V[7]+1126891415&4294967295,j=w+(S<<10&4294967295|S>>>22),S=D+(w^(j|~C))+V[14]+2878612391&4294967295,D=j+(S<<15&4294967295|S>>>17),S=C+(j^(D|~w))+V[5]+4237533241&4294967295,C=D+(S<<21&4294967295|S>>>11),S=w+(D^(C|~j))+V[12]+1700485571&4294967295,w=C+(S<<6&4294967295|S>>>26),S=j+(C^(w|~D))+V[3]+2399980690&4294967295,j=w+(S<<10&4294967295|S>>>22),S=D+(w^(j|~C))+V[10]+4293915773&4294967295,D=j+(S<<15&4294967295|S>>>17),S=C+(j^(D|~w))+V[1]+2240044497&4294967295,C=D+(S<<21&4294967295|S>>>11),S=w+(D^(C|~j))+V[8]+1873313359&4294967295,w=C+(S<<6&4294967295|S>>>26),S=j+(C^(w|~D))+V[15]+4264355552&4294967295,j=w+(S<<10&4294967295|S>>>22),S=D+(w^(j|~C))+V[6]+2734768916&4294967295,D=j+(S<<15&4294967295|S>>>17),S=C+(j^(D|~w))+V[13]+1309151649&4294967295,C=D+(S<<21&4294967295|S>>>11),S=w+(D^(C|~j))+V[4]+4149444226&4294967295,w=C+(S<<6&4294967295|S>>>26),S=j+(C^(w|~D))+V[11]+3174756917&4294967295,j=w+(S<<10&4294967295|S>>>22),S=D+(w^(j|~C))+V[2]+718787259&4294967295,D=j+(S<<15&4294967295|S>>>17),S=C+(j^(D|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,N.g[2]=N.g[2]+D&4294967295,N.g[3]=N.g[3]+j&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const C=w-this.blockSize,V=this.C;let D=this.h,j=0;for(;j<w;){if(D==0)for(;j<=C;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<w;)if(V[D++]=N.charCodeAt(j++),D==this.blockSize){o(this,V),D=0;break}}else for(;j<w;)if(V[D++]=N[j++],D==this.blockSize){o(this,V),D=0;break}}this.h=D,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var C=N.length-8;C<N.length;++C)N[C]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)N[w++]=this.g[C]>>>V&255;return N};function c(N,w){var C=p;return Object.prototype.hasOwnProperty.call(C,N)?C[N]:C[N]=w(N)}function d(N,w){this.h=w;const C=[];let V=!0;for(let D=N.length-1;D>=0;D--){const j=N[D]|0;V&&j==w||(C[D]=j,V=!1)}this.g=C}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return x;if(N<0)return Z(_(-N));const w=[];let C=1;for(let V=0;N>=C;V++)w[V]=N/C|0,C*=4294967296;return new d(w,0)}function A(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return Z(A(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let V=x;for(let j=0;j<N.length;j+=8){var D=Math.min(8,N.length-j);const S=parseInt(N.substring(j,j+D),w);D<8?(D=_(Math.pow(w,D)),V=V.j(D).add(_(S))):(V=V.j(C),V=V.add(_(S)))}return V}var x=y(0),O=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(nt(this))return-Z(this).m();let N=0,w=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(tt(this))return"0";if(nt(this))return"-"+Z(this).toString(N);const w=_(Math.pow(N,6));var C=this;let V="";for(;;){const D=Ot(C,w).g;C=et(C,D.j(w));let j=((C.g.length>0?C.g[0]:C.h)>>>0).toString(N);if(C=D,tt(C))return j+V;for(;j.length<6;)j="0"+j;V=j+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function tt(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function nt(N){return N.h==-1}r.l=function(N){return N=et(this,N),nt(N)?-1:tt(N)?0:1};function Z(N){const w=N.g.length,C=[];for(let V=0;V<w;V++)C[V]=~N.g[V];return new d(C,~N.h).add(O)}r.abs=function(){return nt(this)?Z(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),C=[];let V=0;for(let D=0;D<=w;D++){let j=V+(this.i(D)&65535)+(N.i(D)&65535),S=(j>>>16)+(this.i(D)>>>16)+(N.i(D)>>>16);V=S>>>16,j&=65535,S&=65535,C[D]=S<<16|j}return new d(C,C[C.length-1]&-2147483648?-1:0)};function et(N,w){return N.add(Z(w))}r.j=function(N){if(tt(this)||tt(N))return x;if(nt(this))return nt(N)?Z(this).j(Z(N)):Z(Z(this).j(N));if(nt(N))return Z(this.j(Z(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,C=[];for(var V=0;V<2*w;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let D=0;D<N.g.length;D++){const j=this.i(V)>>>16,S=this.i(V)&65535,Pt=N.i(D)>>>16,jt=N.i(D)&65535;C[2*V+2*D]+=S*jt,pt(C,2*V+2*D),C[2*V+2*D+1]+=j*jt,pt(C,2*V+2*D+1),C[2*V+2*D+1]+=S*Pt,pt(C,2*V+2*D+1),C[2*V+2*D+2]+=j*Pt,pt(C,2*V+2*D+2)}for(N=0;N<w;N++)C[N]=C[2*N+1]<<16|C[2*N];for(N=w;N<2*w;N++)C[N]=0;return new d(C,0)};function pt(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function mt(N,w){this.g=N,this.h=w}function Ot(N,w){if(tt(w))throw Error("division by zero");if(tt(N))return new mt(x,x);if(nt(N))return w=Ot(Z(N),w),new mt(Z(w.g),Z(w.h));if(nt(w))return w=Ot(N,Z(w)),new mt(Z(w.g),w.h);if(N.g.length>30){if(nt(N)||nt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=O,V=w;V.l(N)<=0;)C=Vt(C),V=Vt(V);var D=gt(C,1),j=gt(V,1);for(V=gt(V,2),C=gt(C,2);!tt(V);){var S=j.add(V);S.l(N)<=0&&(D=D.add(C),j=S),V=gt(V,1),C=gt(C,1)}return w=et(N,D.j(w)),new mt(D,w)}for(D=x;N.l(w)>=0;){for(C=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),j=_(C),S=j.j(w);nt(S)||S.l(N)>0;)C-=V,j=_(C),S=j.j(w);tt(j)&&(j=O),D=D.add(j),N=et(N,S)}return new mt(D,N)}r.B=function(N){return Ot(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)&N.i(V);return new d(C,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)|N.i(V);return new d(C,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),C=[];for(let V=0;V<w;V++)C[V]=this.i(V)^N.i(V);return new d(C,this.h^N.h)};function Vt(N){const w=N.g.length+1,C=[];for(let V=0;V<w;V++)C[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(C,N.h)}function gt(N,w){const C=w>>5;w%=32;const V=N.g.length-C,D=[];for(let j=0;j<V;j++)D[j]=w>0?N.i(j+C)>>>w|N.i(j+C+1)<<32-w:N.i(j+C);return new d(D,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,$0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,fr=d}).apply(typeof pv<"u"?pv:typeof self<"u"?self:typeof window<"u"?window:{});var Vc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Z0,ko,J0,Fc,pm,W0,tE,eE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Vc=="object"&&Vc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function x(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,H){for(var it=Array(arguments.length-2),It=2;It<arguments.length;It++)it[It-2]=arguments[It];return m.prototype[U].apply(b,it)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let it=0;it<H;it++)u[v+it]=U[it]}else u.push(U)}}class nt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function et(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pt{constructor(){this.h=this.g=null}add(m,v){const b=mt.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var mt=new nt(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Vt,gt=!1,N=new pt,w=()=>{const u=Promise.resolve(void 0);Vt=()=>{u.then(C)}};function C(){for(var u;u=et();){try{u.h.call(u.g)}catch(v){Z(v)}var m=mt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}gt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var j=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function S(u){return/^[\s\xa0]*$/.test(u)}function Pt(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}x(Pt,D),Pt.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Pt.Z.h.call(this)},Pt.prototype.h=function(){Pt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var jt="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++q,this.da=this.fa=!1}function at(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function bt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function I(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let H=0;H<K.length;H++)v=K[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,b,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const it=ct(u,m,b,U);return it>-1?(m=u[it],v||(m.fa=!1)):(m=new W(m,this.src,H,!!b,U),m.fa=v,u.push(m)),m};function dt(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(b,U,1),H&&(at(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ct(u,m,v,b){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return U}return-1}var kt="closure_lm_"+(Math.random()*1e6|0),ye={};function ne(u,m,v,b,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ne(u,m[H],v,b,U);return null}return v=xs(v),u&&u[jt]?u.J(m,v,p(b)?!!b.capture:!1,U):On(u,m,v,!1,b,U)}function On(u,m,v,b,U,H){if(!m)throw Error("Invalid event type");const it=p(U)?!!U.capture:!!U;let It=mi(u);if(It||(u[kt]=It=new rt(u)),v=It.add(m,v,b,it,H),v.proxy)return v;if(b=di(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)j||(U=it),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(kn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function di(){function u(v){return m.call(u.src,u.listener,v)}const m=hn;return u}function Vn(u,m,v,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)Vn(u,m[H],v,b,U);else b=p(b)?!!b.capture:!!b,v=xs(v),u&&u[jt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=ct(m,v,b,U),v>-1&&(at(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=mi(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ct(m,v,b,U)),(v=u>-1?m[u]:null)&&Wn(v))}function Wn(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[jt])dt(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(kn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=mi(m))?(dt(v,u),v.h==0&&(v.src=null,m[kt]=null)):at(u)}}}function kn(u){return u in ye?ye[u]:ye[u]="on"+u}function hn(u,m){if(u.da)u=!0;else{m=new Pt(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Wn(u),u=v.call(b,m)}return u}function mi(u){return u=u[kt],u instanceof rt?u:null}var Cr="__closure_events_fn_"+(Math.random()*1e9>>>0);function xs(u){return typeof u=="function"?u:(u[Cr]||(u[Cr]=function(m){return u.handleEvent(m)}),u[Cr])}function _e(){V.call(this),this.i=new rt(this),this.M=this,this.G=null}x(_e,V),_e.prototype[jt]=!0,_e.prototype.removeEventListener=function(u,m,v,b){Vn(this,u,m,v,b)};function Te(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(b,u),st(m,U)}U=!0;let H,it;if(v)for(it=v.length-1;it>=0;it--)H=m.g=v[it],U=pi(H,b,!0,m)&&U;if(H=m.g=u,U=pi(H,b,!0,m)&&U,U=pi(H,b,!1,m)&&U,v)for(it=0;it<v.length;it++)H=m.g=v[it],U=pi(H,b,!1,m)&&U}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)at(v[b]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},_e.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function pi(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const it=m[H];if(it&&!it.da&&it.capture==v){const It=it.listener,be=it.ha||it.src;it.fa&&dt(u.i,it),U=It.call(be,b)!==!1&&U}}return U&&!b.defaultPrevented}function Il(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function da(u){u.g=Il(()=>{u.g=null,u.i&&(u.i=!1,da(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ze extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:da(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function gi(u){V.call(this),this.h=u,this.g={}}x(gi,V);var Rr=[];function Nr(u){yt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Wn(m)},u),u.g={}}gi.prototype.N=function(){gi.Z.N.call(this),Nr(this)},gi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var yi=d.JSON.stringify,Dl=d.JSON.parse,ma=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function pa(){}function P(){}var ot={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tt(){D.call(this,"d")}x(Tt,D);function oe(){D.call(this,"c")}x(oe,D);var Nt={},_i=null;function vi(){return _i=_i||new _e}Nt.Ia="serverreachability";function cu(u){D.call(this,Nt.Ia,u)}x(cu,D);function Ei(u){const m=vi();Te(m,new cu(m))}Nt.STAT_EVENT="statevent";function Ir(u,m){D.call(this,Nt.STAT_EVENT,u),this.stat=m}x(Ir,D);function Ce(u){const m=vi();Te(m,new Ir(m,u))}Nt.Ja="timingevent";function Ti(u,m){D.call(this,Nt.Ja,u),this.size=m}x(Ti,D);function bi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function ti(){this.g=!0}ti.prototype.ua=function(){this.g=!1};function Kh(u,m,v,b,U,H){u.info(function(){if(u.g)if(H){var it="",It=H.split("&");for(let Xt=0;Xt<It.length;Xt++){var be=It[Xt].split("=");if(be.length>1){const me=be[0];be=be[1];const Pn=me.split("_");it=Pn.length>=2&&Pn[1]=="type"?it+(me+"="+be+"&"):it+(me+"=redacted&")}}}else it=null;else it=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+it})}function hu(u,m,v,b,U,H,it){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+it})}function Ai(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Yh(u,v)+(b?" "+b:"")})}function Dr(u,m){u.info(function(){return"TIMEOUT: "+m})}ti.prototype.info=function(){};function Yh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let it=1;it<b.length;it++)b[it]=""}}}}return yi(H)}catch{return m}}var Mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ml={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ol;function Or(){}x(Or,pa),Or.prototype.g=function(){return new XMLHttpRequest},Ol=new Or;function Zi(u){return encodeURIComponent(String(u))}function fu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ei(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new gi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ni}function ni(){this.i=null,this.g="",this.h=!1}var Re={},Be={};function Si(u,m,v){u.M=1,u.A=Vr(Ie(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),xi(u),u.B=Ie(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ea(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ni,u.g=Cu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ze(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Rr[0]=U.toString()),U=Rr);for(let H=0;H<U.length;H++){const it=ne(v,U[H],b||m.handleEvent,!1,m.h||m);if(!it)break;m.g[it.key]=it}m=u.J?I(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),Ei(),Kh(u.i,u.v,u.B,u.l,u.S,u.u)}ei.prototype.ba=function(u){u=u.target;const m=this.O;m&&ri(u)==3?m.j():this.Y(u)},ei.prototype.Y=function(u){try{if(u==this.g)t:{const It=ri(this.g),be=this.g.ya(),Xt=this.g.ca();if(!(It<3)&&(It!=3||this.g&&(this.h.h||this.g.la()||Ke(this.g)))){this.K||It!=4||be==7||(be==8||Xt<=0?Ei(3):Ei(2)),wi(this);var m=this.g.ca();this.X=m;var v=Xh(this);if(this.o=m==200,hu(this.i,this.v,this.B,this.l,this.S,It,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!S(b)){var H=b;break e}}H=null}if(u=H)Ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ci(this,u);else{this.o=!1,this.m=3,Ce(12),bn(this),jn(this);break t}}if(this.R){u=!0;let me;for(;!this.K&&this.C<v.length;)if(me=mu(this,v),me==Be){It==4&&(this.m=4,Ce(14),u=!1),Ai(this.i,this.l,null,"[Incomplete Response]");break}else if(me==Re){this.m=4,Ce(15),Ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else Ai(this.i,this.l,me,null),Ci(this,me);if(du(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||v.length!=0||this.h.h||(this.m=1,Ce(16),u=!1),this.o=this.o&&u,!u)Ai(this.i,this.l,v,"[Invalid Chunked Response]"),bn(this),jn(this);else if(v.length>0&&!this.W){this.W=!0;var it=this.j;it.g==this&&it.aa&&!it.P&&(it.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Yl(it),it.P=!0,Ce(11))}}else Ai(this.i,this.l,v,null),Ci(this,v);It==4&&bn(this),this.o&&!this.K&&(It==4?Au(this.j,this):(this.o=!1,xi(this)))}else Wi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),bn(this),jn(this)}}}catch{}};function Xh(u){if(!du(u))return u.g.la();const m=Ke(u.g);if(m==="")return"";let v="";const b=m.length,U=ri(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return bn(u),jn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function du(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function mu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?Be:(v=Number(m.substring(v,b)),isNaN(v)?Re:(b+=1,b+v>m.length?Be:(m=m.slice(b,b+v),u.C=b+v,m)))}ei.prototype.cancel=function(){this.K=!0,bn(this)};function xi(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=bi(_(u.aa,u),m)}function wi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ei.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Dr(this.i,this.B),this.M!=2&&(Ei(),Ce(17)),bn(this),this.m=2,jn(this)):ya(this,this.T-u)};function jn(u){u.j.I==0||u.K||Au(u.j,u)}function bn(u){wi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Nr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||Ni(v.h,u))){if(!u.L&&Ni(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),Os(v);else break t;Br(v),Ce(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=bi(_(v.Va,v),6e3));Ri(v.h)<=1&&v.ta&&(v.ta=void 0)}else ki(v,11)}else if((u.L||v.g==u)&&xa(v),!S(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Xt=U[m];const me=Xt[0];if(!(me<=v.K))if(v.K=me,Xt=Xt[1],v.I==2)if(Xt[0]=="c"){v.M=Xt[1],v.ba=Xt[2];const Pn=Xt[3];Pn!=null&&(v.ka=Pn,v.j.info("VER="+v.ka));const ji=Xt[4];ji!=null&&(v.za=ji,v.j.info("SVER="+v.za));const ai=Xt[5];ai!=null&&typeof ai=="number"&&ai>0&&(b=1.5*ai,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const li=u.g;if(li){const qr=li.g?li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(qr){var H=b.h;H.g||qr.indexOf("spdy")==-1&&qr.indexOf("quic")==-1&&qr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(jl(H,H.h),H.h=null))}if(b.G){const wa=li.g?li.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(b.wa=wa,Jt(b.J,b.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var it=u;if(b.na=wu(b,b.L?b.ba:null,b.W),it.L){Ul(b.h,it);var It=it,be=b.O;be&&(It.H=be),It.D&&(wi(It),xi(It)),b.g=it}else Tu(b);v.i.length>0&&Vi(v)}else Xt[0]!="stop"&&Xt[0]!="close"||ki(v,7);else v.I==3&&(Xt[0]=="stop"||Xt[0]=="close"?Xt[0]=="stop"?ki(v,7):Ql(v):Xt[0]!="noop"&&v.l&&v.l.qa(Xt),v.A=0)}}Ei(4)}catch{}}var Ne=class{constructor(u,m){this.g=u,this.map=m}};function Vl(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ri(u){return u.h?1:u.g?u.g.size:0}function Ni(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function jl(u,m){u.g?u.g.add(m):u.h=m}function Ul(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Vl.prototype.cancel=function(){if(this.i=Ll(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ll(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var pu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,H=null;b>=0?(U=u[v].substring(0,b),H=u[v].substring(b+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function An(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof An?(this.l=u.l,qe(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Pl(this,vu(u.i)),this.m=u.m):u&&(m=String(u).match(pu))?(this.l=!1,qe(this,m[1]||"",!0),this.o=Ii(m[2]||""),this.g=Ii(m[3]||"",!0),ws(this,m[4]),this.h=Ii(m[5]||"",!0),Pl(this,m[6]||"",!0),this.m=Ii(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}An.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(kr(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(kr(m,va,!0),"@"),u.push(Zi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(kr(v,v.charAt(0)=="/"?zl:gu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",kr(v,yu)),u.join("")},An.prototype.resolve=function(u){const m=Ie(this);let v=!!u.j;v?qe(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let it=0;it<U.length;){const It=U[it++];It=="."?b&&it==U.length&&H.push(""):It==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&it==U.length&&H.push("")):(H.push(It),b=!0)}b=H.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Pl(m,vu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ie(u){return new An(u)}function qe(u,m,v){u.j=v?Ii(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Pl(u,m,v){m instanceof Rs?(u.i=m,Ta(u.i,u.l)):(v||(m=kr(m,Cs)),u.i=new Rs(m,u.l))}function Jt(u,m,v){u.i.set(m,v)}function Vr(u){return Jt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function Ii(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function kr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,fn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function fn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,gu=/[#\?:]/g,zl=/[#\?]/g,Cs=/[#\?@]/g,yu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function dn(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Rs.prototype,r.add=function(u,m){dn(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function _u(u,m){dn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Bl(u,m){return dn(u),m=Ns(u,m),u.g.has(m)}r.forEach=function(u,m){dn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function ql(u,m){dn(u);let v=[];if(typeof m=="string")Bl(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return dn(this),this.i=null,u=Ns(this,u),Bl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=ql(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){_u(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Zi(v);v=ql(this,v);for(let H=0;H<v.length;H++){let it=U;v[H]!==""&&(it+="="+Zi(v[H])),u.push(it)}}return this.i=u.join("&")};function vu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(dn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(_u(this,b),Ea(this,U,v))},u)),u.j=m}function ii(u,m){const v=new ti;if(d.Image){const b=new Image;b.onload=A(Un,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Un,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Un,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Un,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function Hl(u,m){const v=new ti,b=new AbortController,U=setTimeout(()=>{b.abort(),Un(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?Un(v,"TestPingServer: ok",!0,m):Un(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Un(v,"TestPingServer: error",!1,m)})}function Un(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Is(){this.g=new ma}function Di(u){this.i=u.Sb||null,this.h=u.ab||!1}x(Di,pa),Di.prototype.g=function(){return new jr(this.i,this.h)};function jr(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}x(jr,_e),r=jr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,si(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,si(this)),this.g&&(this.readyState=3,si(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):si(this),this.readyState==3&&ba(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},r.Na=function(u){this.g&&(this.response=u,Ds(this))},r.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,si(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function si(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(jr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Ln(u){let m="";return yt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function Ur(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Ln(v),typeof u=="string"?v!=null&&Zi(v):Jt(u,m,v))}function ie(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}x(ie,_e);var Mi=/^https?$/i,Fl=["POST","PUT"];r=ie.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ol.g(),this.g.onreadystatechange=O(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Lr(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Fl,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,it]of v)this.g.setRequestHeader(H,it);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Lr(this,H)}};function Lr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Gl(u),Ji(u)}function Gl(u){u.A||(u.A=!0,Te(u,"complete"),Te(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Te(this,"complete"),Te(this,"abort"),Ji(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ji(this,!0)),ie.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Pr(this):this.Xa())},r.Xa=function(){Pr(this)};function Pr(u){if(u.h&&typeof c<"u"){if(u.v&&ri(u)==4)setTimeout(u.Ca.bind(u),0);else if(Te(u,"readystatechange"),ri(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let it=String(u.D).match(pu)[1]||null;!it&&d.self&&d.self.location&&(it=d.self.location.protocol.slice(0,-1)),b=!Mi.test(it?it.toLowerCase():"")}v=b}if(v)Te(u,"complete"),Te(u,"success");else{u.o=6;try{var U=ri(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Gl(u)}}finally{Ji(u)}}}}function Ji(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Te(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ri(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ri(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dl(m)}};function Ke(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Wi(u){const m={};u=(u.g&&ri(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(S(u[b]))continue;var v=fu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}bt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Oi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new ti,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Oi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Oi("baseRetryDelayMs",5e3,u),this.Za=Oi("retryDelaySeedMs",1e4,u),this.Ta=Oi("forwardChannelMaxRetries",2,u),this.va=Oi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Ce(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=wu(this,null,this.W),Vi(this)};function Ql(u){if(Aa(u),u.I==3){var m=u.V++,v=Ie(u.J);if(Jt(v,"SID",u.M),Jt(v,"RID",m),Jt(v,"TYPE","terminate"),zr(u,v),m=new ei(u,u.j,m),m.M=2,m.A=Vr(Ie(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Cu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),xi(m)}xu(u)}function Os(u){u.g&&(Yl(u),u.g.cancel(),u.g=null)}function Aa(u){Os(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Vi(u){if(!kl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Vt||w(),gt||(Vt(),gt=!0),N.add(m,u),u.D=0}}function Sa(u,m){return Ri(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=bi(_(u.Ea,u,m),Su(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ei(this,this.j,u);let H=this.o;if(this.U&&(H?(H=I(H),st(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=Eu(this,U,m),v=Ie(this.J),Jt(v,"RID",u),Jt(v,"CVER",22),this.G&&Jt(v,"X-HTTP-Session-Id",this.G),zr(this,v),H&&(this.R?m="headers="+Zi(Ln(H))+"&"+m:this.u&&Ur(v,this.u,H)),jl(this.h,U),this.Ra&&Jt(v,"TYPE","init"),this.S?(Jt(v,"$req",m),Jt(v,"SID","null"),U.U=!0,Si(U,v,null)):Si(U,v,m),this.I=2}}else this.I==3&&(u?Kl(this,u):this.i.length==0||kl(this.h)||Kl(this))};function Kl(u,m){var v;m?v=m.l:v=u.V++;const b=Ie(u.J);Jt(b,"SID",u.M),Jt(b,"RID",v),Jt(b,"AID",u.K),zr(u,b),u.u&&u.o&&Ur(b,u.u,u.o),v=new ei(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=Eu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),jl(u.h,v),Si(v,b,m)}function zr(u,m){u.H&&yt(u.H,function(v,b){Jt(m,b,v)}),u.l&&yt({},function(v,b){Jt(m,b,v)})}function Eu(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let It=-1;for(;;){const be=["count="+v];It==-1?v>0?(It=U[0].g,be.push("ofs="+It)):It=0:be.push("ofs="+It);let Xt=!0;for(let me=0;me<v;me++){var H=U[me].g;const Pn=U[me].map;if(H-=It,H<0)It=Math.max(0,U[me].g-100),Xt=!1;else try{H="req"+H+"_"||"";try{var it=Pn instanceof Map?Pn:Object.entries(Pn);for(const[ji,ai]of it){let li=ai;p(ai)&&(li=yi(ai)),be.push(H+ji+"="+encodeURIComponent(li))}}catch(ji){throw be.push(H+"type="+encodeURIComponent("_badmap")),ji}}catch{b&&b(Pn)}}if(Xt){it=be.join("&");break t}}it=void 0}return u=u.i.splice(0,v),m.G=u,it}function Tu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Vt||w(),gt||(Vt(),gt=!0),N.add(m,u),u.A=0}}function Br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=bi(_(u.Da,u),Su(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,bu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=bi(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Os(this),bu(this))};function Yl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function bu(u){u.g=new ei(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ie(u.na);Jt(m,"RID","rpc"),Jt(m,"SID",u.M),Jt(m,"AID",u.K),Jt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Jt(m,"TO",u.ia),Jt(m,"TYPE","xmlhttp"),zr(u,m),u.u&&u.o&&Ur(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Vr(Ie(m)),v.u=null,v.R=!0,ga(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Os(this),Br(this),Ce(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Au(u,m){var v=null;if(u.g==m){xa(u),Yl(u),u.g=null;var b=2}else if(Ni(u.h,m))v=m.G,Ul(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=vi(),Te(b,new Ti(b,v)),Vi(u)}else Tu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Sa(u,m)||b==2&&Br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:ki(u,5);break;case 4:ki(u,10);break;case 3:ki(u,6);break;default:ki(u,2)}}}function Su(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function ki(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new An(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||qe(b,"https"),Vr(b),U?ii(b.toString(),v):Hl(b.toString(),v)}else Ce(2);u.I=0,u.l&&u.l.pa(m),xu(u),Aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function xu(u){if(u.I=0,u.ja=[],u.l){const m=Ll(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function wu(u,m,v){var b=v instanceof An?Ie(v):new An(v);if(b.g!="")m&&(b.g=m+"."+b.g),ws(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new An(null);b&&qe(H,b),m&&(H.g=m),U&&ws(H,U),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&Jt(b,v,m),Jt(b,"VER",u.ka),zr(u,b),b}function Cu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ie(new Di({ab:v})):new ie(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ru(){}r=Ru.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new on(u,m)};function on(u,m){_e.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!S(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!S(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new ts(this)}x(on,_e),on.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},on.prototype.close=function(){Ql(this.g)},on.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=yi(u),u=v);m.i.push(new Ne(m.Ya++,u)),m.I==3&&Vi(m)},on.prototype.N=function(){this.g.l=null,delete this.j,Ql(this.g),delete this.g,on.Z.N.call(this)};function Nu(u){Tt.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}x(Nu,Tt);function Iu(){oe.call(this),this.status=1}x(Iu,oe);function ts(u){this.g=u}x(ts,Ru),ts.prototype.ra=function(){Te(this.g,"a")},ts.prototype.qa=function(u){Te(this.g,new Nu(u))},ts.prototype.pa=function(u){Te(this.g,new Iu)},ts.prototype.oa=function(){Te(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,on.prototype.send=on.prototype.o,on.prototype.open=on.prototype.m,on.prototype.close=on.prototype.close,eE=function(){return new Vs},tE=function(){return vi()},W0=Nt,pm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Mr.NO_ERROR=0,Mr.TIMEOUT=8,Mr.HTTP_ERROR=6,Fc=Mr,Ml.COMPLETE="complete",J0=Ml,P.EventType=ot,ot.OPEN="a",ot.CLOSE="b",ot.ERROR="c",ot.MESSAGE="d",_e.prototype.listen=_e.prototype.J,ko=P,ie.prototype.listenOnce=ie.prototype.K,ie.prototype.getLastError=ie.prototype.Ha,ie.prototype.getLastErrorCode=ie.prototype.ya,ie.prototype.getStatus=ie.prototype.ca,ie.prototype.getResponseJson=ie.prototype.La,ie.prototype.getResponseText=ie.prototype.la,ie.prototype.send=ie.prototype.ea,ie.prototype.setWithCredentials=ie.prototype.Fa,Z0=ie}).apply(typeof Vc<"u"?Vc:typeof self<"u"?self:typeof window<"u"?window:{});const gv="@firebase/firestore",yv="4.9.3";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Al="12.7.0";const oa=new Pm("@firebase/firestore");function nl(){return oa.logLevel}function lt(r,...t){if(oa.logLevel<=qt.DEBUG){const i=t.map(qm);oa.debug(`Firestore (${Al}): ${r}`,...i)}}function Es(r,...t){if(oa.logLevel<=qt.ERROR){const i=t.map(qm);oa.error(`Firestore (${Al}): ${r}`,...i)}}function dl(r,...t){if(oa.logLevel<=qt.WARN){const i=t.map(qm);oa.warn(`Firestore (${Al}): ${r}`,...i)}}function qm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function At(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,nE(r,a,i)}function nE(r,t,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw Es(a),new Error(a)}function Zt(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||nE(t,o,a)}function Rt(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ht extends Ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class iE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class HS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class FS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class GS{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Zt(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Zt(typeof a.accessToken=="string",31837,{l:a}),new iE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Zt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class QS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class KS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new QS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class _v{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class YS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Zt(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new _v(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Zt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new _v(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function XS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Hm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=XS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Ht(r,t){return r<t?-1:r>t?1:0}function gm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return em(o)===em(c)?Ht(o,c):em(o)?1:-1}return Ht(r.length,t.length)}const $S=55296,ZS=57343;function em(r){const t=r.charCodeAt(0);return t>=$S&&t<=ZS}function ml(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const vv="__name__";class Bi{constructor(t,i,a){i===void 0?i=0:i>t.length&&At(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&At(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Bi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Bi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Bi.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Ht(t.length,i.length)}static compareSegments(t,i){const a=Bi.isNumericId(t),o=Bi.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Bi.extractNumericId(t).compare(Bi.extractNumericId(i)):gm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fr.fromString(t.substring(4,t.length-2))}}class fe extends Bi{construct(t,i,a){return new fe(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ht(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new fe(i)}static emptyPath(){return new fe([])}}const JS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class We extends Bi{construct(t,i,a){return new We(t,i,a)}static isValidIdentifier(t){return JS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),We.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===vv}static keyField(){return new We([vv])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ht(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ht(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ht(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ht(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new We(i)}static emptyPath(){return new We([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(fe.fromString(t))}static fromName(t){return new vt(fe.fromString(t).popFirst(5))}static empty(){return new vt(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return fe.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new fe(t.slice()))}}function sE(r,t,i){if(!i)throw new ht(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function WS(r,t,i,a){if(t===!0&&a===!0)throw new ht(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function Ev(r){if(!vt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Tv(r){if(vt.isDocumentKey(r))throw new ht(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function rE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Fm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":At(12329,{type:typeof r})}function Jn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ht(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Fm(r);throw new ht(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function je(r,t){const i={typeString:r};return t&&(i.value=t),i}function eu(r,t){if(!rE(r))throw new ht(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ht(J.INVALID_ARGUMENT,i);return!0}const bv=-62135596800,Av=1e6;class de{static now(){return de.fromMillis(Date.now())}static fromDate(t){return de.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*Av);return new de(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ht(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<bv)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ht(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Av}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:de._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(eu(t,de._jsonSchema))return new de(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-bv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}de._jsonSchemaVersion="firestore/timestamp/1.0",de._jsonSchema={type:je("string",de._jsonSchemaVersion),seconds:je("number"),nanoseconds:je("number")};class wt{static fromTimestamp(t){return new wt(t)}static min(){return new wt(new de(0,0))}static max(){return new wt(new de(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ko=-1;function tx(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=wt.fromTimestamp(a===1e9?new de(i+1,0):new de(i,a));return new yr(o,vt.empty(),t)}function ex(r){return new yr(r.readTime,r.key,Ko)}class yr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new yr(wt.min(),vt.empty(),Ko)}static max(){return new yr(wt.max(),vt.empty(),Ko)}}function nx(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,t.documentKey),i!==0?i:Ht(r.largestBatchId,t.largestBatchId))}const ix="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Sl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==ix)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((o=>o?$.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new $(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function rx(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xl(r){return r.name==="IndexedDbTransactionError"}class Ah{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}Ah.ce=-1;const Gm=-1;function Sh(r){return r==null}function nh(r){return r===0&&1/r==-1/0}function ax(r){return typeof r=="number"&&Number.isInteger(r)&&!nh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const aE="";function lx(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Sv(t)),t=ox(r.get(i),t);return Sv(t)}function ox(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case aE:i+="";break;default:i+=c}}return i}function Sv(r){return r+aE+""}function xv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function xr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function lE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ge{constructor(t,i){this.comparator=t,this.root=i||Je.EMPTY}insert(t,i){return new ge(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Je.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Je.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new kc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new kc(this.root,t,this.comparator,!1)}getReverseIterator(){return new kc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new kc(this.root,t,this.comparator,!0)}}class kc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Je{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??Je.RED,this.left=o??Je.EMPTY,this.right=c??Je.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new Je(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Je.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return Je.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Je.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Je.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}Je.EMPTY=null,Je.RED=!0,Je.BLACK=!1;Je.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new Je(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Pe{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new wv(this.data.getIterator())}getIteratorFrom(t){return new wv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Pe)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Pe(this.comparator);return i.data=t,i}}class wv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(t){this.fields=t,t.sort(We.comparator)}static empty(){return new Mn([])}unionWith(t){let i=new Pe(We.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ml(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class tn{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}})(t);return new tn(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new tn(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}tn.EMPTY_BYTE_STRING=new tn("");const ux=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _r(r){if(Zt(!!r,39018),typeof r=="string"){let t=0;const i=ux.exec(r);if(Zt(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:xe(r.seconds),nanos:xe(r.nanos)}}function xe(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function vr(r){return typeof r=="string"?tn.fromBase64String(r):tn.fromUint8Array(r)}const uE="server_timestamp",cE="__type__",hE="__previous_value__",fE="__local_write_time__";function Qm(r){return(r?.mapValue?.fields||{})[cE]?.stringValue===uE}function xh(r){const t=r.mapValue.fields[hE];return Qm(t)?xh(t):t}function Yo(r){const t=_r(r.mapValue.fields[fE].timestampValue);return new de(t.seconds,t.nanos)}class cx{constructor(t,i,a,o,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const ih="(default)";class Xo{constructor(t,i){this.projectId=t,this.database=i||ih}static empty(){return new Xo("","")}get isDefaultDatabase(){return this.database===ih}isEqual(t){return t instanceof Xo&&t.projectId===this.projectId&&t.database===this.database}}const dE="__type__",hx="__max__",jc={mapValue:{}},mE="__vector__",sh="value";function Er(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Qm(r)?4:dx(r)?9007199254740991:fx(r)?10:11:At(28295,{value:r})}function Xi(r,t){if(r===t)return!0;const i=Er(r);if(i!==Er(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Yo(r).isEqual(Yo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=_r(o.timestampValue),p=_r(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return vr(o.bytesValue).isEqual(vr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return xe(o.geoPointValue.latitude)===xe(c.geoPointValue.latitude)&&xe(o.geoPointValue.longitude)===xe(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return xe(o.integerValue)===xe(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=xe(o.doubleValue),p=xe(c.doubleValue);return d===p?nh(d)===nh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ml(r.arrayValue.values||[],t.arrayValue.values||[],Xi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(xv(d)!==xv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Xi(d[y],p[y])))return!1;return!0})(r,t);default:return At(52216,{left:r})}}function $o(r,t){return(r.values||[]).find((i=>Xi(i,t)))!==void 0}function pl(r,t){if(r===t)return 0;const i=Er(r),a=Er(t);if(i!==a)return Ht(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Ht(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=xe(c.integerValue||c.doubleValue),y=xe(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return Cv(r.timestampValue,t.timestampValue);case 4:return Cv(Yo(r),Yo(t));case 5:return gm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=vr(c),y=vr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Ht(p[_],y[_]);if(A!==0)return A}return Ht(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Ht(xe(c.latitude),xe(d.latitude));return p!==0?p:Ht(xe(c.longitude),xe(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Rv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[sh]?.arrayValue,A=y[sh]?.arrayValue,x=Ht(_?.values?.length||0,A?.values?.length||0);return x!==0?x:Rv(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===jc.mapValue&&d===jc.mapValue)return 0;if(c===jc.mapValue)return 1;if(d===jc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let x=0;x<y.length&&x<A.length;++x){const O=gm(y[x],A[x]);if(O!==0)return O;const G=pl(p[y[x]],_[A[x]]);if(G!==0)return G}return Ht(y.length,A.length)})(r.mapValue,t.mapValue);default:throw At(23264,{he:i})}}function Cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Ht(r,t);const i=_r(r),a=_r(t),o=Ht(i.seconds,a.seconds);return o!==0?o:Ht(i.nanos,a.nanos)}function Rv(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=pl(i[o],a[o]);if(c)return c}return Ht(i.length,a.length)}function gl(r){return ym(r)}function ym(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=_r(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return vr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=ym(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${ym(i.fields[d])}`;return o+"}"})(r.mapValue):At(61005,{value:r})}function Gc(r){switch(Er(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xh(r);return t?16+Gc(t):16;case 5:return 2*r.stringValue.length;case 6:return vr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Gc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return xr(a.fields,((c,d)=>{o+=c.length+Gc(d)})),o})(r.mapValue);default:throw At(13486,{value:r})}}function _m(r){return!!r&&"integerValue"in r}function Km(r){return!!r&&"arrayValue"in r}function Nv(r){return!!r&&"nullValue"in r}function Iv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Qc(r){return!!r&&"mapValue"in r}function fx(r){return(r?.mapValue?.fields||{})[dE]?.stringValue===mE}function Bo(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return xr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Bo(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Bo(r.arrayValue.values[i]);return t}return{...r}}function dx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===hx}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Qc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Bo(i)}setAll(t){let i=We.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Bo(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Qc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Xi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Qc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){xr(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new En(Bo(this.value))}}function pE(r){const t=[];return xr(r.fields,((i,a)=>{const o=new We([i]);if(Qc(a)){const c=pE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new Mn(t)}class an{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,wt.min(),wt.min(),wt.min(),En.empty(),0)}static newFoundDocument(t,i,a,o){return new an(t,1,i,wt.min(),a,o,0)}static newNoDocument(t,i){return new an(t,2,i,wt.min(),wt.min(),En.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,wt.min(),wt.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(wt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class rh{constructor(t,i){this.position=t,this.inclusive=i}}function Dv(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=vt.comparator(vt.fromName(d.referenceValue),i.key):a=pl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Mv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Xi(r.position[i],t.position[i]))return!1;return!0}class ah{constructor(t,i="asc"){this.field=t,this.dir=i}}function mx(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class gE{}class Le extends gE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new gx(t,i,a):i==="array-contains"?new vx(t,a):i==="in"?new Ex(t,a):i==="not-in"?new Tx(t,a):i==="array-contains-any"?new bx(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new yx(t,a):new _x(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(pl(i,this.value)):i!==null&&Er(this.value)===Er(i)&&this.matchesComparison(pl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $i extends gE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new $i(t,i)}matches(t){return yE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function yE(r){return r.op==="and"}function _E(r){return px(r)&&yE(r)}function px(r){for(const t of r.filters)if(t instanceof $i)return!1;return!0}function vm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+gl(r.value);if(_E(r))return r.filters.map((t=>vm(t))).join(",");{const t=r.filters.map((i=>vm(i))).join(",");return`${r.op}(${t})`}}function vE(r,t){return r instanceof Le?(function(a,o){return o instanceof Le&&a.op===o.op&&a.field.isEqual(o.field)&&Xi(a.value,o.value)})(r,t):r instanceof $i?(function(a,o){return o instanceof $i&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&vE(d,o.filters[p])),!0):!1})(r,t):void At(19439)}function EE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${gl(i.value)}`})(r):r instanceof $i?(function(i){return i.op.toString()+" {"+i.getFilters().map(EE).join(" ,")+"}"})(r):"Filter"}class gx extends Le{constructor(t,i,a){super(t,i,a),this.key=vt.fromName(a.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class yx extends Le{constructor(t,i){super(t,"in",i),this.keys=TE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class _x extends Le{constructor(t,i){super(t,"not-in",i),this.keys=TE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function TE(r,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class vx extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Km(i)&&$o(i.arrayValue,this.value)}}class Ex extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&$o(this.value.arrayValue,i)}}class Tx extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if($o(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!$o(this.value.arrayValue,i)}}class bx extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Km(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>$o(this.value.arrayValue,a)))}}class Ax{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Ov(r,t=null,i=[],a=[],o=null,c=null,d=null){return new Ax(r,t,i,a,o,c,d)}function Ym(r){const t=Rt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>vm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Sh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>gl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>gl(a))).join(",")),t.Te=i}return t.Te}function Xm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!mx(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!vE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Mv(r.startAt,t.startAt)&&Mv(r.endAt,t.endAt)}function Em(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class wh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Sx(r,t,i,a,o,c,d,p){return new wh(r,t,i,a,o,c,d,p)}function Ch(r){return new wh(r)}function Vv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function xx(r){return r.collectionGroup!==null}function qo(r){const t=Rt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Pe(We.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new ah(c,a))})),i.has(We.keyField().canonicalString())||t.Ie.push(new ah(We.keyField(),a))}return t.Ie}function Hi(r){const t=Rt(r);return t.Ee||(t.Ee=wx(t,qo(r))),t.Ee}function wx(r,t){if(r.limitType==="F")return Ov(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new ah(o.field,c)}));const i=r.endAt?new rh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new rh(r.startAt.position,r.startAt.inclusive):null;return Ov(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function Tm(r,t,i){return new wh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Rh(r,t){return Xm(Hi(r),Hi(t))&&r.limitType===t.limitType}function bE(r){return`${Ym(Hi(r))}|lt:${r.limitType}`}function il(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>EE(o))).join(", ")}]`),Sh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>gl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>gl(o))).join(",")),`Target(${a})`})(Hi(r))}; limitType=${r.limitType})`}function Nh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):vt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of qo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=Dv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,qo(a),o)||a.endAt&&!(function(d,p,y){const _=Dv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,qo(a),o))})(r,t)}function Cx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AE(r){return(t,i)=>{let a=!1;for(const o of qo(r)){const c=Rx(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Rx(r,t,i){const a=r.field.isKeyField()?vt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?pl(y,_):At(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return At(19790,{direction:r.dir})}}class ha{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){xr(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return lE(this.inner)}size(){return this.innerSize}}const Nx=new ge(vt.comparator);function Ts(){return Nx}const SE=new ge(vt.comparator);function jo(...r){let t=SE;for(const i of r)t=t.insert(i.key,i);return t}function xE(r){let t=SE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function ra(){return Ho()}function wE(){return Ho()}function Ho(){return new ha((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Ix=new ge(vt.comparator),Dx=new Pe(vt.comparator);function Ft(...r){let t=Dx;for(const i of r)t=t.add(i);return t}const Mx=new Pe(Ht);function Ox(){return Mx}function $m(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nh(t)?"-0":t}}function CE(r){return{integerValue:""+r}}function RE(r,t){return ax(t)?CE(t):$m(r,t)}class Ih{constructor(){this._=void 0}}function Vx(r,t,i){return r instanceof lh?(function(o,c){const d={fields:{[cE]:{stringValue:uE},[fE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Qm(c)&&(c=xh(c)),c&&(d.fields[hE]=c),{mapValue:d}})(i,t):r instanceof yl?IE(r,t):r instanceof _l?DE(r,t):(function(o,c){const d=NE(o,c),p=kv(d)+kv(o.Ae);return _m(d)&&_m(o.Ae)?CE(p):$m(o.serializer,p)})(r,t)}function kx(r,t,i){return r instanceof yl?IE(r,t):r instanceof _l?DE(r,t):i}function NE(r,t){return r instanceof Zo?(function(a){return _m(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class lh extends Ih{}class yl extends Ih{constructor(t){super(),this.elements=t}}function IE(r,t){const i=ME(t);for(const a of r.elements)i.some((o=>Xi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class _l extends Ih{constructor(t){super(),this.elements=t}}function DE(r,t){let i=ME(t);for(const a of r.elements)i=i.filter((o=>!Xi(o,a)));return{arrayValue:{values:i}}}class Zo extends Ih{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function kv(r){return xe(r.integerValue||r.doubleValue)}function ME(r){return Km(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Zm{constructor(t,i){this.field=t,this.transform=i}}function jx(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof yl&&o instanceof yl||a instanceof _l&&o instanceof _l?ml(a.elements,o.elements,Xi):a instanceof Zo&&o instanceof Zo?Xi(a.Ae,o.Ae):a instanceof lh&&o instanceof lh})(r.transform,t.transform)}class Ux{constructor(t,i){this.version=t,this.transformResults=i}}class Tn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Tn}static exists(t){return new Tn(void 0,t)}static updateTime(t){return new Tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Kc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Dh{}function OE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Mh(r.key,Tn.none()):new nu(r.key,r.data,Tn.none());{const i=r.data,a=En.empty();let o=new Pe(We.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new wr(r.key,a,new Mn(o.toArray()),Tn.none())}}function Lx(r,t,i){r instanceof nu?(function(o,c,d){const p=o.value.clone(),y=Uv(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof wr?(function(o,c,d){if(!Kc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Uv(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(VE(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Fo(r,t,i,a){return r instanceof nu?(function(c,d,p,y){if(!Kc(c.precondition,d))return p;const _=c.value.clone(),A=Lv(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof wr?(function(c,d,p,y){if(!Kc(c.precondition,d))return p;const _=Lv(c.fieldTransforms,y,d),A=d.data;return A.setAll(VE(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((x=>x.field)))})(r,t,i,a):(function(c,d,p){return Kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Px(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=NE(a.transform,o||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function jv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,d)=>jx(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class nu extends Dh{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class wr extends Dh{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function VE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Uv(r,t,i){const a=new Map;Zt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,kx(d,p,i[o]))}return a}function Lv(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Vx(c,d,t))}return a}class Mh extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class zx extends Dh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Bx{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Lx(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Fo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Fo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=wE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=OE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(wt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Ft())}isEqual(t){return this.batchId===t.batchId&&ml(this.mutations,t.mutations,((i,a)=>jv(i,a)))&&ml(this.baseMutations,t.baseMutations,((i,a)=>jv(i,a)))}}class Jm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){Zt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return Ix})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Jm(t,i,a,o)}}class qx{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Hx{constructor(t,i){this.count=t,this.unchangedNames=i}}var ke,Qt;function Fx(r){switch(r){case J.OK:return At(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return At(15467,{code:r})}}function kE(r){if(r===void 0)return Es("GRPC error has no .code"),J.UNKNOWN;switch(r){case ke.OK:return J.OK;case ke.CANCELLED:return J.CANCELLED;case ke.UNKNOWN:return J.UNKNOWN;case ke.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case ke.INTERNAL:return J.INTERNAL;case ke.UNAVAILABLE:return J.UNAVAILABLE;case ke.UNAUTHENTICATED:return J.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case ke.NOT_FOUND:return J.NOT_FOUND;case ke.ALREADY_EXISTS:return J.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return J.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case ke.ABORTED:return J.ABORTED;case ke.OUT_OF_RANGE:return J.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return J.UNIMPLEMENTED;case ke.DATA_LOSS:return J.DATA_LOSS;default:return At(39323,{code:r})}}(Qt=ke||(ke={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function Gx(){return new TextEncoder}const Qx=new fr([4294967295,4294967295],0);function Pv(r){const t=Gx().encode(r),i=new $0;return i.update(t),new Uint8Array(i.digest())}function zv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new fr([i,a],0),new fr([o,c],0)]}class Wm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Uo(`Invalid padding: ${i}`);if(a<0)throw new Uo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Uo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Uo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=fr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(fr.fromNumber(a)));return o.compare(Qx)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Pv(t),[a,o]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Wm(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Pv(t),[a,o]=zv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Uo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Oh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,iu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Oh(wt.min(),o,new ge(Ht),Ts(),Ft())}}class iu{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new iu(a,i,Ft(),Ft(),Ft())}}class Yc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class jE{constructor(t,i){this.targetId=t,this.Ce=i}}class UE{constructor(t,i,a=tn.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class Bv{constructor(){this.ve=0,this.Fe=qv(),this.Me=tn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ft(),i=Ft(),a=Ft();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:At(38017,{changeType:c})}})),new iu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=qv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Zt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Kx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Ts(),this.Je=Uc(),this.He=Uc(),this.Ye=new ge(Ht)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(Em(c))if(a===0){const d=new vt(c.path);this.et(i,d,an.newNoDocument(d,wt.min()))}else Zt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=vr(a).toUint8Array()}catch(y){if(y instanceof oE)return dl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Wm(d,o,c)}catch(y){return dl(y instanceof Uo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&Em(p.target)){const y=new vt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Ft();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Oh(t,i,this.Ye,this.je,a);return this.je=Ts(),this.Je=Uc(),this.He=Uc(),this.Ye=new ge(Ht),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Bv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Pe(Ht),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Pe(Ht),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Uc(){return new ge(vt.comparator)}function qv(){return new ge(vt.comparator)}const Yx={asc:"ASCENDING",desc:"DESCENDING"},Xx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$x={and:"AND",or:"OR"};class Zx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function bm(r,t){return r.useProto3Json||Sh(t)?t:{value:t}}function oh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Jx(r,t){return oh(r,t.toTimestamp())}function Fi(r){return Zt(!!r,49232),wt.fromTimestamp((function(i){const a=_r(i);return new de(a.seconds,a.nanos)})(r))}function tp(r,t){return Am(r,t).canonicalString()}function Am(r,t){const i=(function(o){return new fe(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function PE(r){const t=fe.fromString(r);return Zt(FE(t),10190,{key:t.toString()}),t}function Sm(r,t){return tp(r.databaseId,t.path)}function nm(r,t){const i=PE(t);if(i.get(1)!==r.databaseId.projectId)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ht(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(BE(i))}function zE(r,t){return tp(r.databaseId,t)}function Wx(r){const t=PE(r);return t.length===4?fe.emptyPath():BE(t)}function xm(r){return new fe(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function BE(r){return Zt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Hv(r,t,i){return{name:Sm(r,t),fields:i.value.mapValue.fields}}function tw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:At(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?(Zt(A===void 0||typeof A=="string",58123),tn.fromBase64String(A||"")):(Zt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),tn.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:kE(_.code);return new ht(A,_.message||"")})(d);i=new UE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=nm(r,a.document.name),c=Fi(a.document.updateTime),d=a.document.createTime?Fi(a.document.createTime):wt.min(),p=new En({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(o,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Yc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=nm(r,a.document),c=a.readTime?Fi(a.readTime):wt.min(),d=an.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Yc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=nm(r,a.document),c=a.removedTargetIds||[];i=new Yc([],c,o,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Hx(o,c),p=a.targetId;i=new jE(p,d)}}return i}function ew(r,t){let i;if(t instanceof nu)i={update:Hv(r,t.key,t.value)};else if(t instanceof Mh)i={delete:Sm(r,t.key)};else if(t instanceof wr)i={update:Hv(r,t.key,t.data),updateMask:cw(t.fieldMask)};else{if(!(t instanceof zx))return At(16599,{Vt:t.type});i={verify:Sm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof lh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof _l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Zo)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw At(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Jx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:At(27497)})(r,t.precondition)),i}function nw(r,t){return r&&r.length>0?(Zt(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Fi(o.updateTime):Fi(c);return d.isEqual(wt.min())&&(d=Fi(c)),new Ux(d,o.transformResults||[])})(i,t)))):[]}function iw(r,t){return{documents:[zE(r,t.path)]}}function sw(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=zE(r,o);const c=(function(_){if(_.length!==0)return HE($i.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(O){return{field:sl(O.field),direction:lw(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=bm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function rw(r){let t=Wx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){Zt(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(x){const O=qE(x);return O instanceof $i&&_E(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(x){return x.map((O=>(function(tt){return new ah(rl(tt.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(O)))})(i.orderBy));let p=null;i.limit&&(p=(function(x){let O;return O=typeof x=="object"?x.value:x,Sh(O)?null:O})(i.limit));let y=null;i.startAt&&(y=(function(x){const O=!!x.before,G=x.values||[];return new rh(G,O)})(i.startAt));let _=null;return i.endAt&&(_=(function(x){const O=!x.before,G=x.values||[];return new rh(G,O)})(i.endAt)),Sx(t,o,d,c,p,"F",y,_)}function aw(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function qE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=rl(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=rl(i.unaryFilter.field);return Le.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=rl(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rl(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create(rl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return $i.create(i.compositeFilter.filters.map((a=>qE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(i.compositeFilter.op))})(r):At(30097,{filter:r})}function lw(r){return Yx[r]}function ow(r){return Xx[r]}function uw(r){return $x[r]}function sl(r){return{fieldPath:r.canonicalString()}}function rl(r){return We.fromServerFormat(r.fieldPath)}function HE(r){return r instanceof Le?(function(i){if(i.op==="=="){if(Iv(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NAN"}};if(Nv(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Iv(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NAN"}};if(Nv(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(i.field),op:ow(i.op),value:i.value}}})(r):r instanceof $i?(function(i){const a=i.getFilters().map((o=>HE(o)));return a.length===1?a[0]:{compositeFilter:{op:uw(i.op),filters:a}}})(r):At(54877,{filter:r})}function cw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function FE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class or{constructor(t,i,a,o,c=wt.min(),d=wt.min(),p=tn.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class hw{constructor(t){this.yt=t}}function fw(r){const t=rw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?Tm(t,t.limit,"L"):t}class dw{constructor(){this.Cn=new mw}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(yr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(yr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class mw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new Pe(fe.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new Pe(fe.comparator)).toArray()}}const Fv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},GE=41943040;class vn{static withCacheSize(t){return new vn(t,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}vn.DEFAULT_COLLECTION_PERCENTILE=10,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vn.DEFAULT=new vn(GE,vn.DEFAULT_COLLECTION_PERCENTILE,vn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vn.DISABLED=new vn(-1,0,0);class vl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const Gv="LruGarbageCollector",pw=1048576;function Qv([r,t],[i,a]){const o=Ht(r,i);return o===0?Ht(t,a):o}class gw{constructor(t){this.Ir=t,this.buffer=new Pe(Qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class yw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(Gv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xl(i)?lt(Gv,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Vr(3e5)}))}}class _w{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(Ah.ce);const a=new gw(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Fv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Fv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((x=>(x>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${x}`),o=this.params.maximumSequenceNumbersToCollect):o=x,d=Date.now(),this.nthSequenceNumber(t,o)))).next((x=>(a=x,p=Date.now(),this.removeTargets(t,a,i)))).next((x=>(c=x,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((x=>(_=Date.now(),nl()<=qt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${x} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:x}))))}}function vw(r,t){return new _w(r,t)}class Ew{constructor(){this.changes=new ha((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Tw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class bw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&Fo(a.mutation,o,Mn.empty(),de.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Ft()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Ft()){const o=ra();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=jo();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=ra();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Ft())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=Ts();const d=Ho(),p=(function(){return Ho()})();return i.forEach(((y,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof wr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Fo(A.mutation,_,A.mutation.getFieldMask(),de.now())):d.set(_.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new Tw(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Ho();let o=new ge(((d,p)=>d-p)),c=Ft();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||Mn.empty();A=p.applyToLocalView(_,A),a.set(y,A);const x=(o.get(p.batchId)||Ft()).add(y);o=o.insert(p.batchId,x)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,x=wE();A.forEach((O=>{if(!c.has(O)){const G=OE(i.get(O),a.get(O));G!==null&&x.set(O,G),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,x))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):xx(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):$.resolve(ra());let p=Ko,y=c;return d.next((_=>$.forEach(_,((A,x)=>(p<x.largestBatchId&&(p=x.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{y=y.insert(A,O)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Ft()))).next((A=>({batchId:p,changes:xE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((a=>{let o=jo();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=jo();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(x,O){return new wh(O,null,x.explicitOrderBy.slice(),x.filters.slice(),x.limit,x.limitType,x.startAt,x.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((A=>{A.forEach(((x,O)=>{d=d.insert(x,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=jo();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&Fo(A.mutation,_,Mn.empty(),de.now()),Nh(i,_)&&(p=p.insert(y,_))})),p}))}}class Aw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Fi(o.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:fw(o.bundledQuery),readTime:Fi(o.readTime)}})(i)),$.resolve()}}class Sw{constructor(){this.overlays=new ge(vt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=ra();return $.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const o=ra(),c=i.length+1,d=new vt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return $.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new ge(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=ra(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=ra(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return $.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new qx(i,a));let c=this.qr.get(i);c===void 0&&(c=Ft(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class xw{constructor(){this.sessionToken=tn.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class ep{constructor(){this.Qr=new Pe(Ge.$r),this.Ur=new Pe(Ge.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Ge(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Ge(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new vt(new fe([])),a=new Ge(i,t),o=new Ge(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new fe([])),a=new Ge(i,t),o=new Ge(i,t+1);let c=Ft();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Ge(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Ge{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Ht(t.Yr,i.Yr)}static Kr(t,i){return Ht(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}class ww{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Pe(Ge.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Bx(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Ge(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Gm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Ge(i,0),o=new Ge(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Pe(Ht);return i.forEach((o=>{const c=new Ge(o,0),d=new Ge(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;vt.isDocumentKey(c)||(c=c.child(""));const d=new Ge(new vt(c),0);let p=new Pe(Ht);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){Zt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(o=>{const c=new Ge(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Ge(i,0),o=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class Cw{constructor(t){this.ri=t,this.docs=(function(){return new ge(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=Ts();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=Ts();const d=i.path,p=new vt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||nx(ex(A),a)<=0||(o.has(A.key)||Nh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,o){At(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Rw(this)}getSize(t){return $.resolve(this.size)}}class Rw extends Ew{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Nw{constructor(t){this.persistence=t,this.si=new ha((i=>Ym(i)),Xm),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.oi=0,this._i=new ep,this.targetCount=0,this.ai=vl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new vl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),$.waitFor(c).next((()=>o))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class QE{constructor(t,i){this.ui={},this.overlays={},this.ci=new Ah(0),this.li=!1,this.li=!0,this.hi=new xw,this.referenceDelegate=t(this),this.Pi=new Nw(this),this.indexManager=new dw,this.remoteDocumentCache=(function(o){return new Cw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new hw(i),this.Ii=new Aw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Sw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new ww(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const o=new Iw(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class Iw extends sx{constructor(t){super(),this.currentSequenceNumber=t}}class np{constructor(t){this.persistence=t,this.Ri=new ep,this.Vi=null}static mi(t){return new np(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const o=vt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,wt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class uh{constructor(t,i){this.persistence=t,this.pi=new ha((a=>lx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=vw(this,i)}static mi(t,i){return new uh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?$.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,wt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Gc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return $.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class ip{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=Ft(),o=Ft();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new ip(t,i.fromCache,a,o)}}class Dw{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Mw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AA()?8:rx(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new Dw;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(nl()<=qt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(nl()<=qt.DEBUG&&lt("QueryEngine","Query:",il(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(nl()<=qt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Hi(i))):$.resolve())}ys(t,i){if(Vv(i))return $.resolve(null);let a=Hi(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=Tm(i,null,"F"),a=Hi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Ft(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,Tm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return Vv(i)||o.isEqual(wt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?$.resolve(null):(nl()<=qt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),il(i)),this.vs(t,d,i,tx(o,Ko)).next((p=>p)))}))}Ds(t,i){let a=new Pe(AE(t));return i.forEach(((o,c)=>{Nh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return nl()<=qt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",il(i)),this.ps.getDocumentsMatchingQuery(t,i,yr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const sp="LocalStore",Ow=3e8;class Vw{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new ge(Ht),this.xs=new ha((c=>Ym(c)),Xm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new bw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function kw(r,t,i,a){return new Vw(r,t,i,a)}async function KE(r,t){const i=Rt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Ft();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function jw(r,t){const i=Rt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const x=_.batch,O=x.keys();let G=$.resolve();return O.forEach((tt=>{G=G.next((()=>A.getEntry(y,tt))).next((nt=>{const Z=_.docVersions.get(tt);Zt(Z!==null,48541),nt.version.compareTo(Z)<0&&(x.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,x)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Ft();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function YE(r){const t=Rt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Uw(r,t){const i=Rt(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((A,x)=>{const O=o.get(x);if(!O)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,x).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,x))));let G=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(x)!==null?G=G.withResumeToken(tn.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),o=o.insert(x,G),(function(nt,Z,et){return nt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=Ow?!0:et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size>0})(O,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let y=Ts(),_=Ft();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(Lw(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(wt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((x=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function Lw(r,t,i){let a=Ft(),o=Ft();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Ts();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(wt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(sp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function Pw(r,t){const i=Rt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Gm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function zw(r,t){const i=Rt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,$.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new or(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function wm(r,t,i){const a=Rt(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xl(d))throw d;lt(sp,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function Kv(r,t,i){const a=Rt(r);let o=wt.min(),c=Ft();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const x=Rt(y),O=x.xs.get(A);return O!==void 0?$.resolve(x.Ms.get(O)):x.Pi.getTargetData(_,A)})(a,d,Hi(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:wt.min(),i?c:Ft()))).next((p=>(Bw(a,Cx(t),p),{documents:p,Qs:c})))))}function Bw(r,t,i){let a=r.Os.get(t)||wt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Yv{constructor(){this.activeTargetIds=Ox()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class qw{constructor(){this.Mo=new Yv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Yv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Hw{Oo(t){}shutdown(){}}const Xv="ConnectivityMonitor";class $v{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(Xv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(Xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Lc=null;function Cm(){return Lc===null?Lc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Lc++,"0x"+Lc.toString(16)}const im="RestConnection",Fw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Gw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===ih?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=Cm(),p=this.zo(t,i.toUriEncodedString());lt(im,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),A=Tl(_);return this.Jo(t,p,y,a,A).then((x=>(lt(im,`Received RPC '${t}' ${d}: `,x),x)),(x=>{throw dl(im,`RPC '${t}' ${d} failed with error: `,x,"url: ",p,"request:",a),x}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=Fw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Qw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class Kw extends Gw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=Cm();return new Promise(((p,y)=>{const _=new Z0;_.setWithCredentials(!0),_.listenOnce(J0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Fc.NO_ERROR:const x=_.getResponseJson();lt(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(x)),p(x);break;case Fc.TIMEOUT:lt(nn,`RPC '${t}' ${d} timed out`),y(new ht(J.DEADLINE_EXCEEDED,"Request time out"));break;case Fc.HTTP_ERROR:const O=_.getStatus();if(lt(nn,`RPC '${t}' ${d} failed with status:`,O,"response text:",_.getResponseText()),O>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const nt=(function(et){const pt=et.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(pt)>=0?pt:J.UNKNOWN})(tt.status);y(new ht(nt,tt.message))}else y(new ht(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ht(J.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(nn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);lt(nn,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=Cm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=eE(),p=tE(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");lt(nn,`Creating RPC '${t}' stream ${o}: ${A}`,y);const x=d.createWebChannel(A,y);this.I_(x);let O=!1,G=!1;const tt=new Qw({Yo:Z=>{G?lt(nn,`Not sending because RPC '${t}' stream ${o} is closed:`,Z):(O||(lt(nn,`Opening RPC '${t}' stream ${o} transport.`),x.open(),O=!0),lt(nn,`RPC '${t}' stream ${o} sending:`,Z),x.send(Z))},Zo:()=>x.close()}),nt=(Z,et,pt)=>{Z.listen(et,(mt=>{try{pt(mt)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return nt(x,ko.EventType.OPEN,(()=>{G||(lt(nn,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),nt(x,ko.EventType.CLOSE,(()=>{G||(G=!0,lt(nn,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(x))})),nt(x,ko.EventType.ERROR,(Z=>{G||(G=!0,dl(nn,`RPC '${t}' stream ${o} transport errored. Name:`,Z.name,"Message:",Z.message),tt.a_(new ht(J.UNAVAILABLE,"The operation could not be completed")))})),nt(x,ko.EventType.MESSAGE,(Z=>{if(!G){const et=Z.data[0];Zt(!!et,16349);const pt=et,mt=pt?.error||pt[0]?.error;if(mt){lt(nn,`RPC '${t}' stream ${o} received error:`,mt);const Ot=mt.status;let Vt=(function(w){const C=ke[w];if(C!==void 0)return kE(C)})(Ot),gt=mt.message;Vt===void 0&&(Vt=J.INTERNAL,gt="Unknown error status: "+Ot+" with message "+mt.message),G=!0,tt.a_(new ht(Vt,gt)),x.close()}else lt(nn,`RPC '${t}' stream ${o} received:`,et),tt.u_(et)}})),nt(p,W0.STAT_EVENT,(Z=>{Z.stat===pm.PROXY?lt(nn,`RPC '${t}' stream ${o} detected buffering proxy`):Z.stat===pm.NOPROXY&&lt(nn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function sm(){return typeof document<"u"?document:null}function Vh(r){return new Zx(r,!0)}class XE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Zv="PersistentStream";class $E{constructor(t,i,a,o,c,d,p,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(Es(i.toString()),Es("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ht(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(Zv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(Zv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Yw extends $E{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=tw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return wt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?wt.min():d.readTime?Fi(d.readTime):wt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=xm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=Em(y)?{documents:iw(c,y)}:{query:sw(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=LE(c,d.resumeToken);const _=bm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(wt.min())>0){p.readTime=oh(c,d.snapshotVersion.toTimestamp());const _=bm(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=aw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=xm(this.serializer),i.removeTarget=t,this.q_(i)}}class Xw extends $E{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Zt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Zt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Zt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=nw(t.writeResults,t.commitTime),a=Fi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=xm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>ew(this.serializer,a)))};this.q_(i)}}class $w{}class Zw extends $w{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,Am(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ht(J.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,Am(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ht(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Jw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Es(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class Ww{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{fa(this)&&(lt(ua,"Restarting streams for network reachability change."),await(async function(y){const _=Rt(y);_.Ea.add(4),await su(_),_.Ra.set("Unknown"),_.Ea.delete(4),await kh(_)})(this))}))})),this.Ra=new Jw(a,o)}}async function kh(r){if(fa(r))for(const t of r.da)await t(!0)}async function su(r){for(const t of r.da)await t(!1)}function ZE(r,t){const i=Rt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),op(i)?lp(i):wl(i).O_()&&ap(i,t))}function rp(r,t){const i=Rt(r),a=wl(i);i.Ia.delete(t),a.O_()&&JE(i,t),i.Ia.size===0&&(a.O_()?a.L_():fa(i)&&i.Ra.set("Unknown"))}function ap(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(wt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}wl(r).Y_(t)}function JE(r,t){r.Va.Ue(t),wl(r).Z_(t)}function lp(r){r.Va=new Kx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),wl(r).start(),r.Ra.ua()}function op(r){return fa(r)&&!wl(r).x_()&&r.Ia.size>0}function fa(r){return Rt(r).Ea.size===0}function WE(r){r.Va=void 0}async function t2(r){r.Ra.set("Online")}async function e2(r){r.Ia.forEach(((t,i)=>{ap(r,t)}))}async function n2(r,t){WE(r),op(r)?(r.Ra.ha(t),lp(r)):r.Ra.set("Unknown")}async function i2(r,t,i){if(r.Ra.set("Online"),t instanceof UE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){lt(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await ch(r,a)}else if(t instanceof Yc?r.Va.Ze(t):t instanceof jE?r.Va.st(t):r.Va.tt(t),!i.isEqual(wt.min()))try{const a=await YE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(tn.EMPTY_BYTE_STRING,A.snapshotVersion)),JE(c,y);const x=new or(A.target,y,_,A.sequenceNumber);ap(c,x)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(ua,"Failed to raise snapshot:",a),await ch(r,a)}}async function ch(r,t,i){if(!xl(t))throw t;r.Ea.add(1),await su(r),r.Ra.set("Offline"),i||(i=()=>YE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(ua,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await kh(r)}))}function t1(r,t){return t().catch((i=>ch(r,i,t)))}async function jh(r){const t=Rt(r),i=Tr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Gm;for(;s2(t);)try{const o=await Pw(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,r2(t,o)}catch(o){await ch(t,o)}e1(t)&&n1(t)}function s2(r){return fa(r)&&r.Ta.length<10}function r2(r,t){r.Ta.push(t);const i=Tr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function e1(r){return fa(r)&&!Tr(r).x_()&&r.Ta.length>0}function n1(r){Tr(r).start()}async function a2(r){Tr(r).ra()}async function l2(r){const t=Tr(r);for(const i of r.Ta)t.ea(i.mutations)}async function o2(r,t,i){const a=r.Ta.shift(),o=Jm.from(a,t,i);await t1(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await jh(r)}async function u2(r,t){t&&Tr(r).X_&&await(async function(a,o){if((function(d){return Fx(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();Tr(a).B_(),await t1(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await jh(a)}})(r,t),e1(r)&&n1(r)}async function Jv(r,t){const i=Rt(r);i.asyncQueue.verifyOperationInProgress(),lt(ua,"RemoteStore received new credentials");const a=fa(i);i.Ea.add(3),await su(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await kh(i)}async function c2(r,t){const i=Rt(r);t?(i.Ea.delete(2),await kh(i)):t||(i.Ea.add(2),await su(i),i.Ra.set("Unknown"))}function wl(r){return r.ma||(r.ma=(function(i,a,o){const c=Rt(i);return c.sa(),new Yw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:t2.bind(null,r),t_:e2.bind(null,r),r_:n2.bind(null,r),H_:i2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),op(r)?lp(r):r.Ra.set("Unknown")):(await r.ma.stop(),WE(r))}))),r.ma}function Tr(r){return r.fa||(r.fa=(function(i,a,o){const c=Rt(i);return c.sa(),new Xw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:a2.bind(null,r),r_:u2.bind(null,r),ta:l2.bind(null,r),na:o2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await jh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class up{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new up(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ht(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cp(r,t){if(Es("AsyncQueue",`${t}: ${r}`),xl(r))return new ht(J.UNAVAILABLE,`${t}: ${r}`);throw r}class ll{static emptySet(t){return new ll(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||vt.comparator(i.key,a.key):(i,a)=>vt.comparator(i.key,a.key),this.keyedMap=jo(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ll)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ll;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Wv{constructor(){this.ga=new ge(vt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class El{constructor(t,i,a,o,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new El(t,i,ll.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Rh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class h2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class f2{constructor(){this.queries=t0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Rt(i),c=o.queries;o.queries=t0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ht(J.ABORTED,"Firestore shutting down"))}}function t0(){return new ha((r=>bE(r)),Rh)}async function i1(r,t){const i=Rt(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new h2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=cp(d,`Initialization of query '${il(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&hp(i)}async function s1(r,t){const i=Rt(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function d2(r,t){const i=Rt(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&hp(i)}function m2(r,t,i){const a=Rt(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function hp(r){r.Ca.forEach((t=>{t.next()}))}var Rm,e0;(e0=Rm||(Rm={})).Ma="default",e0.Cache="cache";class r1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new El(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=El.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Rm.Cache}}class a1{constructor(t){this.key=t}}class l1{constructor(t){this.key=t}}class p2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ft(),this.mutatedKeys=Ft(),this.eu=AE(t),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Wv,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,x)=>{const O=o.get(A),G=Nh(this.query,x)?x:null,tt=!!O&&this.mutatedKeys.has(O.key),nt=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Z=!1;O&&G?O.data.isEqual(G.data)?tt!==nt&&(a.track({type:3,doc:G}),Z=!0):this.su(O,G)||(a.track({type:2,doc:G}),Z=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!O&&G?(a.track({type:0,doc:G}),Z=!0):O&&!G&&(a.track({type:1,doc:O}),Z=!0,(y||_)&&(p=!0)),Z&&(G?(d=d.add(G),c=nt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,x)=>(function(G,tt){const nt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:Z})}};return nt(G)-nt(tt)})(A.type,x.type)||this.eu(A.doc,x.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new El(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Wv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ft(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new l1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new a1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Ft();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fp="SyncEngine";class g2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class y2{constructor(t){this.key=t,this.hu=!1}}class _2{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new ha((p=>bE(p)),Rh),this.Iu=new Map,this.Eu=new Set,this.du=new ge(vt.comparator),this.Au=new Map,this.Ru=new ep,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function v2(r,t,i=!0){const a=d1(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await o1(a,t,i,!0),o}async function E2(r,t){const i=d1(r);await o1(i,t,!0,!1)}async function o1(r,t,i,a){const o=await zw(r.localStore,Hi(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await T2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&ZE(r.remoteStore,o),p}async function T2(r,t,i,a,o){r.pu=(x,O,G)=>(async function(nt,Z,et,pt){let mt=Z.view.ru(et);mt.Cs&&(mt=await Kv(nt.localStore,Z.query,!1).then((({documents:N})=>Z.view.ru(N,mt))));const Ot=pt&&pt.targetChanges.get(Z.targetId),Vt=pt&&pt.targetMismatches.get(Z.targetId)!=null,gt=Z.view.applyChanges(mt,nt.isPrimaryClient,Ot,Vt);return i0(nt,Z.targetId,gt.au),gt.snapshot})(r,x,O,G);const c=await Kv(r.localStore,t,!0),d=new p2(t,c.Qs),p=d.ru(c.documents),y=iu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);i0(r,i,_.au);const A=new g2(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function b2(r,t,i){const a=Rt(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Rh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await wm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&rp(a.remoteStore,o.targetId),Nm(a,o.targetId)})).catch(Sl)):(Nm(a,o.targetId),await wm(a.localStore,o.targetId,!0))}async function A2(r,t){const i=Rt(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),rp(i.remoteStore,a.targetId))}async function S2(r,t,i){const a=D2(r);try{const o=await(function(d,p){const y=Rt(d),_=de.now(),A=p.reduce(((G,tt)=>G.add(tt.key)),Ft());let x,O;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=Ts(),nt=Ft();return y.Ns.getEntries(G,A).next((Z=>{tt=Z,tt.forEach(((et,pt)=>{pt.isValidDocument()||(nt=nt.add(et))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,tt))).next((Z=>{x=Z;const et=[];for(const pt of p){const mt=Px(pt,x.get(pt.key).overlayedDocument);mt!=null&&et.push(new wr(pt.key,mt,pE(mt.value.mapValue),Tn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,et,p)})).next((Z=>{O=Z;const et=Z.applyToLocalDocumentSet(x,nt);return y.documentOverlayCache.saveOverlays(G,Z.batchId,et)}))})).then((()=>({batchId:O.batchId,changes:xE(x)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ge(Ht)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await ru(a,o.changes),await jh(a.remoteStore)}catch(o){const c=cp(o,"Failed to persist write");i.reject(c)}}async function u1(r,t){const i=Rt(r);try{const a=await Uw(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&(Zt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?Zt(d.hu,14607):o.removedDocuments.size>0&&(Zt(d.hu,42227),d.hu=!1))})),await ru(i,a,t)}catch(a){await Sl(a)}}function n0(r,t,i){const a=Rt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Rt(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,x)=>{for(const O of x.Sa)O.va(p)&&(_=!0)})),_&&hp(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function x2(r,t,i){const a=Rt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new ge(vt.comparator);d=d.insert(c,an.newNoDocument(c,wt.min()));const p=Ft().add(c),y=new Oh(wt.min(),new Map,new ge(Ht),d,p);await u1(a,y),a.du=a.du.remove(c),a.Au.delete(t),dp(a)}else await wm(a.localStore,t,!1).then((()=>Nm(a,t,i))).catch(Sl)}async function w2(r,t){const i=Rt(r),a=t.batch.batchId;try{const o=await jw(i.localStore,t);h1(i,a,null),c1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await ru(i,o)}catch(o){await Sl(o)}}async function C2(r,t,i){const a=Rt(r);try{const o=await(function(d,p){const y=Rt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((x=>(Zt(x!==null,37113),A=x.keys(),y.mutationQueue.removeMutationBatch(_,x)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);h1(a,t,i),c1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await ru(a,o)}catch(o){await Sl(o)}}function c1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function h1(r,t,i){const a=Rt(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function Nm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||f1(r,a)}))}function f1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(rp(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),dp(r))}function i0(r,t,i){for(const a of i)a instanceof a1?(r.Ru.addReference(a.key,t),R2(r,a)):a instanceof l1?(lt(fp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||f1(r,a.key)):At(19791,{wu:a})}function R2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(fp,"New document in limbo: "+i),r.Eu.add(a),dp(r))}function dp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new vt(fe.fromString(t)),a=r.fu.next();r.Au.set(a,new y2(i)),r.du=r.du.insert(i,a),ZE(r.remoteStore,new or(Hi(Ch(i.path)),a,"TargetPurposeLimboResolution",Ah.ce))}}async function ru(r,t,i){const a=Rt(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=ip.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const A=Rt(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(x=>$.forEach(_,(O=>$.forEach(O.Es,(G=>A.persistence.referenceDelegate.addReference(x,O.targetId,G))).next((()=>$.forEach(O.ds,(G=>A.persistence.referenceDelegate.removeReference(x,O.targetId,G)))))))))}catch(x){if(!xl(x))throw x;lt(sp,"Failed to update sequence numbers: "+x)}for(const x of _){const O=x.targetId;if(!x.fromCache){const G=A.Ms.get(O),tt=G.snapshotVersion,nt=G.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(O,nt)}}})(a.localStore,c))}async function N2(r,t){const i=Rt(r);if(!i.currentUser.isEqual(t)){lt(fp,"User change. New user:",t.toKey());const a=await KE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ht(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await ru(i,a.Ls)}}function I2(r,t){const i=Rt(r),a=i.Au.get(t);if(a&&a.hu)return Ft().add(a.key);{let o=Ft();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function d1(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=u1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=I2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=x2.bind(null,t),t.Pu.H_=d2.bind(null,t.eventManager),t.Pu.yu=m2.bind(null,t.eventManager),t}function D2(r){const t=Rt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=w2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=C2.bind(null,t),t}class hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return kw(this.persistence,new Mw,t.initialUser,this.serializer)}Cu(t){return new QE(np.mi,this.serializer)}Du(t){return new qw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}hh.provider={build:()=>new hh};class M2 extends hh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Zt(this.persistence.referenceDelegate instanceof uh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new yw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?vn.withCacheSize(this.cacheSizeBytes):vn.DEFAULT;return new QE((a=>uh.mi(a,i)),this.serializer)}}class Im{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>n0(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=N2.bind(null,this.syncEngine),await c2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new f2})()}createDatastore(t){const i=Vh(t.databaseInfo.databaseId),a=(function(c){return new Kw(c)})(t.databaseInfo);return(function(c,d,p,y){return new Zw(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new Ww(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>n0(this.syncEngine,i,0)),(function(){return $v.v()?new $v:new Hw})())}createSyncEngine(t,i){return(function(o,c,d,p,y,_,A){const x=new _2(o,c,d,p,y,_);return A&&(x.gu=!0),x})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Rt(i);lt(ua,"RemoteStore shutting down."),a.Ea.add(5),await su(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Im.provider={build:()=>new Im};class m1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Es("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const br="FirestoreClient";class O2{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Hm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=cp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function rm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(br,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await KE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function s0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await V2(r);lt(br,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Jv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>Jv(t.remoteStore,o))),r._onlineComponents=t}async function V2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(br,"Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;dl("Error using user provided cache. Falling back to memory cache: "+i),await rm(r,new hh)}}else lt(br,"Using default OfflineComponentProvider"),await rm(r,new M2(void 0));return r._offlineComponents}async function p1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(br,"Using user provided OnlineComponentProvider"),await s0(r,r._uninitializedComponentsProvider._online)):(lt(br,"Using default OnlineComponentProvider"),await s0(r,new Im))),r._onlineComponents}function k2(r){return p1(r).then((t=>t.syncEngine))}async function Dm(r){const t=await p1(r),i=t.eventManager;return i.onListen=v2.bind(null,t.syncEngine),i.onUnlisten=b2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=E2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=A2.bind(null,t.syncEngine),i}function j2(r,t,i={}){const a=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new m1({next:O=>{A.Nu(),d.enqueueAndForget((()=>s1(c,x)));const G=O.docs.has(p);!G&&O.fromCache?_.reject(new ht(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&y&&y.source==="server"?_.reject(new ht(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(O)},error:O=>_.reject(O)}),x=new r1(Ch(p.path),A,{includeMetadataChanges:!0,qa:!0});return i1(c,x)})(await Dm(r),r.asyncQueue,t,i,a))),a.promise}function g1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const r0=new Map;const y1="firestore.googleapis.com",a0=!0;class l0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ht(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=y1,this.ssl=a0}else this.host=t.host,this.ssl=t.ssl??a0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=GE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<pw)throw new ht(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}WS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=g1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ht(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Uh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ht(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ht(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new HS;switch(a.type){case"firstParty":return new KS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ht(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=r0.get(i);a&&(lt("ComponentProvider","Removing Datastore"),r0.delete(i),a.terminate())})(this),Promise.resolve()}}function U2(r,t,i,a={}){r=Jn(r,Uh);const o=Tl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(q0(`https://${p}`),H0("Firestore",!0)),c.host!==y1&&c.host!==p&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!_s(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=rn.MOCK_USER;else{_=mA(a.mockUserToken,r._app?.options.projectId);const x=a.mockUserToken.sub||a.mockUserToken.user_id;if(!x)throw new ht(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(x)}r._authCredentials=new FS(new iE(_,A))}}class Lh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Lh(this.firestore,t,this._query)}}class we{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(eu(i,we._jsonSchema))return new we(t,a||null,new vt(fe.fromString(i.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:je("string",we._jsonSchemaVersion),referencePath:je("string")};class mr extends Lh{constructor(t,i,a){super(t,i,Ch(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new vt(t))}withConverter(t){return new mr(this.firestore,t,this._path)}}function Pc(r,t,...i){if(r=Qe(r),sE("collection","path",t),r instanceof Uh){const a=fe.fromString(t,...i);return Tv(a),new mr(r,null,a)}{if(!(r instanceof we||r instanceof mr))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return Tv(a),new mr(r.firestore,null,a)}}function ee(r,t,...i){if(r=Qe(r),arguments.length===1&&(t=Hm.newId()),sE("doc","path",t),r instanceof Uh){const a=fe.fromString(t,...i);return Ev(a),new we(r,null,new vt(a))}{if(!(r instanceof we||r instanceof mr))throw new ht(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(fe.fromString(t,...i));return Ev(a),new we(r.firestore,r instanceof mr?r.converter:null,new vt(a))}}const o0="AsyncQueue";class u0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XE(this,"async_queue_retry"),this._c=()=>{const a=sm();a&&lt(o0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=sm();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=sm();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!xl(t))throw t;lt(o0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,Es("INTERNAL UNHANDLED ERROR: ",c0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=up.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&At(47125,{Pc:c0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function c0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function h0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Ar extends Uh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new u0,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new u0(t),this._firestoreClient=void 0,await t}}}function L2(r,t){const i=typeof r=="object"?r:K0(),a=typeof r=="string"?r:ih,o=Bm(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=fA("firestore");c&&U2(o,...c)}return o}function Ph(r){if(r._terminated)throw new ht(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||P2(r),r._firestoreClient}function P2(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new cx(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,g1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new O2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(tn.fromBase64String(t))}catch(i){throw new ht(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(tn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(eu(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:je("string",Zn._jsonSchemaVersion),bytes:je("string")};class au{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ht(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Cl{constructor(t){this._methodName=t}}class Gi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ht(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ht(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Gi._jsonSchemaVersion}}static fromJSON(t){if(eu(t,Gi._jsonSchema))return new Gi(t.latitude,t.longitude)}}Gi._jsonSchemaVersion="firestore/geoPoint/1.0",Gi._jsonSchema={type:je("string",Gi._jsonSchemaVersion),latitude:je("number"),longitude:je("number")};class Qi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Qi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(eu(t,Qi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Qi(t.vectorValues);throw new ht(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Qi._jsonSchemaVersion="firestore/vectorValue/1.0",Qi._jsonSchema={type:je("string",Qi._jsonSchemaVersion),vectorValues:je("object")};const z2=/^__.*__$/;class B2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new wr(t,this.data,this.fieldMask,i,this.fieldTransforms):new nu(t,this.data,i,this.fieldTransforms)}}class _1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new wr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function v1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:r})}}class zh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new zh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return fh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(v1(this.Ac)&&z2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class q2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Vh(t)}Cc(t,i,a,o=!1){return new zh({Ac:t,methodName:i,Dc:a,path:We.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mp(r){const t=r._freezeSettings(),i=Vh(r._databaseId);return new q2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function E1(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);_p("Data must be an object, but it was:",d,a);const p=S1(a,d);let y,_;if(c.merge)y=new Mn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const x of c.mergeFields){const O=Mm(t,x,i);if(!d.contains(O))throw new ht(J.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);w1(A,O)||A.push(O)}y=new Mn(A),_=d.fieldTransforms.filter((x=>y.covers(x.field)))}else y=null,_=d.fieldTransforms;return new B2(new En(p),y,_)}class Bh extends Cl{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Bh}}function T1(r,t,i){return new zh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class pp extends Cl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=T1(this,t,!0),a=this.vc.map((c=>Rl(c,i))),o=new yl(a);return new Zm(t.path,o)}isEqual(t){return t instanceof pp&&_s(this.vc,t.vc)}}class gp extends Cl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=T1(this,t,!0),a=this.vc.map((c=>Rl(c,i))),o=new _l(a);return new Zm(t.path,o)}isEqual(t){return t instanceof gp&&_s(this.vc,t.vc)}}class yp extends Cl{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Zo(t.serializer,RE(t.serializer,this.Fc));return new Zm(t.path,i)}isEqual(t){return t instanceof yp&&this.Fc===t.Fc}}function b1(r,t,i,a){const o=r.Cc(1,t,i);_p("Data must be an object, but it was:",o,a);const c=[],d=En.empty();xr(a,((y,_)=>{const A=vp(t,y,i);_=Qe(_);const x=o.yc(A);if(_ instanceof Bh)c.push(A);else{const O=Rl(_,x);O!=null&&(c.push(A),d.set(A,O))}}));const p=new Mn(c);return new _1(d,p,o.fieldTransforms)}function A1(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[Mm(t,a,i)],y=[o];if(c.length%2!=0)throw new ht(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)p.push(Mm(t,c[O])),y.push(c[O+1]);const _=[],A=En.empty();for(let O=p.length-1;O>=0;--O)if(!w1(_,p[O])){const G=p[O];let tt=y[O];tt=Qe(tt);const nt=d.yc(G);if(tt instanceof Bh)_.push(G);else{const Z=Rl(tt,nt);Z!=null&&(_.push(G),A.set(G,Z))}}const x=new Mn(_);return new _1(A,x,d.fieldTransforms)}function Rl(r,t){if(x1(r=Qe(r)))return _p("Unsupported field value:",t,r),S1(r,t);if(r instanceof Cl)return(function(a,o){if(!v1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=Rl(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=Qe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return RE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=de.fromDate(a);return{timestampValue:oh(o.serializer,c)}}if(a instanceof de){const c=new de(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:oh(o.serializer,c)}}if(a instanceof Gi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:LE(o.serializer,a._byteString)};if(a instanceof we){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:tp(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Qi)return(function(d,p){return{mapValue:{fields:{[dE]:{stringValue:mE},[sh]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return $m(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${Fm(a)}`)})(r,t)}function S1(r,t){const i={};return lE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):xr(r,((a,o)=>{const c=Rl(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function x1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof de||r instanceof Gi||r instanceof Zn||r instanceof we||r instanceof Cl||r instanceof Qi)}function _p(r,t,i){if(!x1(i)||!rE(i)){const a=Fm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Mm(r,t,i){if((t=Qe(t))instanceof au)return t._internalPath;if(typeof t=="string")return vp(r,t);throw fh("Field path arguments must be of type string or ",r,!1,void 0,i)}const H2=new RegExp("[~\\*/\\[\\]]");function vp(r,t,i){if(t.search(H2)>=0)throw fh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new au(...t.split("."))._internalPath}catch{throw fh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function fh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ht(J.INVALID_ARGUMENT,p+r+y)}function w1(r,t){return r.some((i=>i.isEqual(t)))}class C1{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new F2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(R1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class F2 extends C1{data(){return super.data()}}function R1(r,t){return typeof t=="string"?vp(r,t):t instanceof au?t._internalPath:t._delegate._internalPath}function G2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ht(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Q2{convertValue(t,i="none"){switch(Er(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return xr(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[sh].arrayValue?.values?.map((a=>xe(a.doubleValue)));return new Qi(i)}convertGeoPoint(t){return new Gi(xe(t.latitude),xe(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=xh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Yo(t));default:return null}}convertTimestamp(t){const i=_r(t);return new de(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=fe.fromString(t);Zt(FE(a),9688,{name:t});const o=new Xo(a.get(1),a.get(3)),c=new vt(a.popFirst(5));return o.isEqual(i)||Es(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function N1(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Lo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class aa extends C1{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Xc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(R1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=aa._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}aa._jsonSchemaVersion="firestore/documentSnapshot/1.0",aa._jsonSchema={type:je("string",aa._jsonSchemaVersion),bundleSource:je("string","DocumentSnapshot"),bundleName:je("string"),bundle:je("string")};class Xc extends aa{data(t={}){return super.data(t)}}class ol{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Lo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Xc(this._firestore,this._userDataWriter,a.key,a,new Lo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ht(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Lo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Xc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Lo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:K2(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ht(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ol._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Hm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function K2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:r})}}function Po(r){r=Jn(r,we);const t=Jn(r.firestore,Ar);return j2(Ph(t),r._key).then((i=>D1(t,r,i)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:je("string",ol._jsonSchemaVersion),bundleSource:je("string","QuerySnapshot"),bundleName:je("string"),bundle:je("string")};class I1 extends Q2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,i)}}function qi(r,t,i){r=Jn(r,we);const a=Jn(r.firestore,Ar),o=N1(r.converter,t,i);return qh(a,[E1(mp(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,Tn.none())])}function Fe(r,t,i,...a){r=Jn(r,we);const o=Jn(r.firestore,Ar),c=mp(o);let d;return d=typeof(t=Qe(t))=="string"||t instanceof au?A1(c,"updateDoc",r._key,t,i,a):b1(c,"updateDoc",r._key,t),qh(o,[d.toMutation(r._key,Tn.exists(!0))])}function zc(r){return qh(Jn(r.firestore,Ar),[new Mh(r._key,Tn.none())])}function Vo(r,...t){r=Qe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||h0(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(h0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof we)d=Jn(r.firestore,Ar),p=Ch(r._key.path),c={next:y=>{t[a]&&t[a](D1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Jn(r,Lh);d=Jn(y.firestore,Ar),p=y._query;const _=new I1(d);c={next:A=>{t[a]&&t[a](new ol(d,_,y,A))},error:t[a+1],complete:t[a+2]},G2(r._query)}return(function(_,A,x,O){const G=new m1(O),tt=new r1(A,G,x);return _.asyncQueue.enqueueAndForget((async()=>i1(await Dm(_),tt))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>s1(await Dm(_),tt)))}})(Ph(d),p,o,c)}function qh(r,t){return(function(a,o){const c=new dr;return a.asyncQueue.enqueueAndForget((async()=>S2(await k2(a),o,c))),c.promise})(Ph(r),t)}function D1(r,t,i){const a=i.docs.get(t._key),o=new I1(r);return new aa(r,o,t._key,a,new Lo(i.hasPendingWrites,i.fromCache),t.converter)}class Y2{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=mp(t)}set(t,i,a){this._verifyNotCommitted();const o=am(t,this._firestore),c=N1(o.converter,i,a),d=E1(this._dataReader,"WriteBatch.set",o._key,c,o.converter!==null,a);return this._mutations.push(d.toMutation(o._key,Tn.none())),this}update(t,i,a,...o){this._verifyNotCommitted();const c=am(t,this._firestore);let d;return d=typeof(i=Qe(i))=="string"||i instanceof au?A1(this._dataReader,"WriteBatch.update",c._key,i,a,o):b1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Tn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=am(t,this._firestore);return this._mutations=this._mutations.concat(new Mh(i._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ht(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function am(r,t){if((r=Qe(r)).firestore!==t)throw new ht(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function X2(...r){return new pp("arrayUnion",r)}function dh(...r){return new gp("arrayRemove",r)}function cn(r){return new yp("increment",r)}function $2(r){return Ph(r=Jn(r,Ar)),new Y2(r,(t=>qh(r,t)))}(function(t,i=!0){(function(o){Al=o})(bl),fl(new la("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Ar(new GS(a.getProvider("auth-internal")),new YS(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ht(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Xo(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),hr(gv,yv,t),hr(gv,yv,"esm2020")})();function M1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z2=M1,O1=new Wo("auth","Firebase",M1());const mh=new Pm("@firebase/auth");function J2(r,...t){mh.logLevel<=qt.WARN&&mh.warn(`Auth (${bl}): ${r}`,...t)}function $c(r,...t){mh.logLevel<=qt.ERROR&&mh.error(`Auth (${bl}): ${r}`,...t)}function bs(r,...t){throw Ep(r,...t)}function Ki(r,...t){return Ep(r,...t)}function V1(r,t,i){const a={...Z2(),[t]:i};return new Wo("auth","Firebase",a).create(t,{appName:r.name})}function pr(r){return V1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ep(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return O1.create(r,...t)}function xt(r,t,...i){if(!r)throw Ep(t,...i)}function gs(r){const t="INTERNAL ASSERTION FAILED: "+r;throw $c(t),new Error(t)}function As(r,t){r||gs(t)}function Om(){return typeof self<"u"&&self.location?.href||""}function W2(){return f0()==="http:"||f0()==="https:"}function f0(){return typeof self<"u"&&self.location?.protocol||null}function tC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(W2()||EA()||"connection"in navigator)?navigator.onLine:!0}function eC(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class lu{constructor(t,i){this.shortDelay=t,this.longDelay=i,As(i>t,"Short delay should be less than long delay!"),this.isMobile=yA()||TA()}get(){return tC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tp(r,t){As(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class k1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;gs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;gs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;gs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const nC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const iC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sC=new lu(3e4,6e4);function Hh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Nl(r,t,i,a,o={}){return j1(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=tu({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return vA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Tl(r.emulatorConfig.host)&&(_.credentials="include"),k1.fetch()(await L1(r,r.config.apiHost,i,p),_)})}async function j1(r,t,i){r._canInitEmulator=!1;const a={...nC,...t};try{const o=new rC(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Bc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Bc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Bc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw V1(r,A,_);bs(r,A)}}catch(o){if(o instanceof Ss)throw o;bs(r,"network-request-failed",{message:String(o)})}}async function U1(r,t,i,a,o={}){const c=await Nl(r,t,i,a,o);return"mfaPendingCredential"in c&&bs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function L1(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?Tp(r.config,o):`${r.config.apiScheme}://${o}`;return iC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class rC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ki(this.auth,"network-request-failed")),sC.get())})}}function Bc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=Ki(r,t,a);return o.customData._tokenResponse=i,o}async function aC(r,t){return Nl(r,"POST","/v1/accounts:delete",t)}async function ph(r,t){return Nl(r,"POST","/v1/accounts:lookup",t)}function Go(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function lC(r,t=!1){const i=Qe(r),a=await i.getIdToken(t),o=bp(a);xt(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Go(lm(o.auth_time)),issuedAtTime:Go(lm(o.iat)),expirationTime:Go(lm(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function lm(r){return Number(r)*1e3}function bp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return $c("JWT malformed, contained fewer than 3 sections"),null;try{const o=L0(i);return o?JSON.parse(o):($c("Failed to decode base64 JWT payload"),null)}catch(o){return $c("Caught error parsing JWT payload as JSON",o?.toString()),null}}function d0(r){const t=bp(r);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Jo(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof Ss&&oC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function oC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class uC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Go(this.lastLoginAt),this.creationTime=Go(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function gh(r){const t=r.auth,i=await r.getIdToken(),a=await Jo(r,ph(t,{idToken:i}));xt(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?P1(o.providerUserInfo):[],d=hC(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function cC(r){const t=Qe(r);await gh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hC(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function P1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function fC(r,t){const i=await j1(r,{},async()=>{const a=tu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await L1(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Tl(r.emulatorConfig.host)&&(y.credentials="include"),k1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function dC(r,t){return Nl(r,"POST","/v2/accounts:revokeToken",Hh(r,t))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):d0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const i=d0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await fC(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ul;return a&&(xt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(xt(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(xt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return gs("not implemented")}}function ir(r,t){xt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new uC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Vm(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await Jo(this,this.stsTokenManager.getToken(this.auth,t));return xt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return lC(this,t)}reload(){return cC(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await gh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(pr(this.auth));const t=await this.getIdToken();return await Jo(this,aC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:x,emailVerified:O,isAnonymous:G,providerData:tt,stsTokenManager:nt}=i;xt(x&&nt,t,"internal-error");const Z=ul.fromJSON(this.name,nt);xt(typeof x=="string",t,"internal-error"),ir(a,t.name),ir(o,t.name),xt(typeof O=="boolean",t,"internal-error"),xt(typeof G=="boolean",t,"internal-error"),ir(c,t.name),ir(d,t.name),ir(p,t.name),ir(y,t.name),ir(_,t.name),ir(A,t.name);const et=new fi({uid:x,auth:t,email:o,emailVerified:O,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Z,createdAt:_,lastLoginAt:A});return tt&&Array.isArray(tt)&&(et.providerData=tt.map(pt=>({...pt}))),y&&(et._redirectEventId=y),et}static async _fromIdTokenResponse(t,i,a=!1){const o=new ul;o.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await gh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];xt(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?P1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new ul;p.updateFromIdToken(a);const y=new fi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Vm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const m0=new Map;function ys(r){As(r instanceof Function,"Expected a class definition");let t=m0.get(r);return t?(As(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,m0.set(r,t),t)}class z1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}z1.type="NONE";const p0=z1;function Zc(r,t,i){return`firebase:${r}:${t}:${i}`}class cl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=Zc(this.userKey,o.apiKey,c),this.fullPersistenceKey=Zc("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ph(this.auth,{idToken:t}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new cl(ys(p0),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||ys(p0);const d=Zc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let x;if(typeof A=="string"){const O=await ph(t,{idToken:A}).catch(()=>{});if(!O)break;x=await fi._fromGetAccountInfoResponse(t,O,A)}else x=fi._fromJSON(t,A);_!==c&&(p=x),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new cl(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new cl(c,t,a))}}function g0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(F1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(B1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Q1(t))return"Blackberry";if(K1(t))return"Webos";if(q1(t))return"Safari";if((t.includes("chrome/")||H1(t))&&!t.includes("edge/"))return"Chrome";if(G1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function B1(r=ln()){return/firefox\//i.test(r)}function q1(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function H1(r=ln()){return/crios\//i.test(r)}function F1(r=ln()){return/iemobile/i.test(r)}function G1(r=ln()){return/android/i.test(r)}function Q1(r=ln()){return/blackberry/i.test(r)}function K1(r=ln()){return/webos/i.test(r)}function Ap(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function mC(r=ln()){return Ap(r)&&!!window.navigator?.standalone}function pC(){return bA()&&document.documentMode===10}function Y1(r=ln()){return Ap(r)||G1(r)||K1(r)||Q1(r)||/windows phone/i.test(r)||F1(r)}function X1(r,t=[]){let i;switch(r){case"Browser":i=g0(ln());break;case"Worker":i=`${g0(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${bl}/${a}`}class gC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function yC(r,t={}){return Nl(r,"GET","/v2/passwordPolicy",Hh(r,t))}const _C=6;class vC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??_C,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class EC{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new y0(this),this.idTokenSubscription=new y0(this),this.beforeStateQueue=new gC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=O1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ys(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ph(this,{idToken:t}),a=await fi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await gh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=eC()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(pr(this));const i=t?Qe(t):null;return i&&xt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ys(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yC(this),i=new vC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Wo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await dC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ys(t)||this._popupRedirectResolver;xt(i,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[ys(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=X1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&J2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Fh(r){return Qe(r)}class y0{constructor(t){this.auth=t,this.observer=null,this.addObserver=IA(i=>this.observer=i)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Sp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function TC(r){Sp=r}function bC(r){return Sp.loadJS(r)}function AC(){return Sp.gapiScript}function SC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function xC(r,t){const i=Bm(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(_s(c,t??{}))return o;bs(o,"already-initialized")}return i.initialize({options:t})}function wC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ys);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function CC(r,t,i){const a=Fh(r);xt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=$1(t),{host:d,port:p}=RC(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){xt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),xt(_s(_,a.config.emulator)&&_s(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Tl(d)?(q0(`${c}//${d}${y}`),H0("Auth",!0)):NC()}function $1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function RC(r){const t=$1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:_0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:_0(d)}}}function _0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function NC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Z1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return gs("not implemented")}_getIdTokenResponse(t){return gs("not implemented")}_linkToIdToken(t,i){return gs("not implemented")}_getReauthenticationResolver(t){return gs("not implemented")}}async function hl(r,t){return U1(r,"POST","/v1/accounts:signInWithIdp",Hh(r,t))}const IC="http://localhost";class ca extends Z1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ca(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):bs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ca(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return hl(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,hl(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,hl(t,i)}buildRequest(){const t={requestUri:IC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=tu(i)}return t}}class J1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ou extends J1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class sr extends ou{constructor(){super("facebook.com")}static credential(t){return ca._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends ou{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ca._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends ou{constructor(){super("github.com")}static credential(t){return ca._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class lr extends ou{constructor(){super("twitter.com")}static credential(t,i){return ca._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function DC(r,t){return U1(r,"POST","/v1/accounts:signUp",Hh(r,t))}class Sr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await fi._fromIdTokenResponse(t,a,o),d=v0(a);return new Sr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=v0(a);return new Sr({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function v0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function MC(r){if(hi(r.app))return Promise.reject(pr(r));const t=Fh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Sr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await DC(t,{returnSecureToken:!0}),a=await Sr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class yh extends Ss{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,yh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new yh(t,i,a,o)}}function W1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?yh._fromErrorAndOperation(r,c,t,a):c})}async function OC(r,t,i=!1){const a=await Jo(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return Sr._forOperation(r,"link",a)}async function VC(r,t,i=!1){const{auth:a}=r;if(hi(a.app))return Promise.reject(pr(a));const o="reauthenticate";try{const c=await Jo(r,W1(a,o,t,r),i);xt(c.idToken,a,"internal-error");const d=bp(c.idToken);xt(d,a,"internal-error");const{sub:p}=d;return xt(r.uid===p,a,"user-mismatch"),Sr._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&bs(a,"user-mismatch"),c}}async function kC(r,t,i=!1){if(hi(r.app))return Promise.reject(pr(r));const a="signIn",o=await W1(r,a,t),c=await Sr._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function jC(r,t,i,a){return Qe(r).onIdTokenChanged(t,i,a)}function UC(r,t,i){return Qe(r).beforeAuthStateChanged(t,i)}function LC(r,t,i,a){return Qe(r).onAuthStateChanged(t,i,a)}const _h="__sak";class tT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(_h,"1"),this.storage.removeItem(_h),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const PC=1e3,zC=10;class eT extends tT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Y1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);pC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,zC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},PC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}eT.type="LOCAL";const BC=eT;class nT extends tT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}nT.type="SESSION";const iT=nT;function qC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Gh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new Gh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await qC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Gh.receivers=[];function xp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class HC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=xp("",20);o.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(x){const O=x;if(O.data.eventId===_)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(O.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Yi(){return window}function FC(r){Yi().location.href=r}function sT(){return typeof Yi().WorkerGlobalScope<"u"&&typeof Yi().importScripts=="function"}async function GC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function QC(){return navigator?.serviceWorker?.controller||null}function KC(){return sT()?self:null}const rT="firebaseLocalStorageDb",YC=1,vh="firebaseLocalStorage",aT="fbase_key";class uu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Qh(r,t){return r.transaction([vh],t?"readwrite":"readonly").objectStore(vh)}function XC(){const r=indexedDB.deleteDatabase(rT);return new uu(r).toPromise()}function km(){const r=indexedDB.open(rT,YC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(vh,{keyPath:aT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(vh)?t(a):(a.close(),await XC(),t(await km()))})})}async function E0(r,t,i){const a=Qh(r,!0).put({[aT]:t,value:i});return new uu(a).toPromise()}async function $C(r,t){const i=Qh(r,!1).get(t),a=await new uu(i).toPromise();return a===void 0?null:a.value}function T0(r,t){const i=Qh(r,!0).delete(t);return new uu(i).toPromise()}const ZC=800,JC=3;class lT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>JC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return sT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Gh._getInstance(KC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await GC(),!this.activeServiceWorker)return;this.sender=new HC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||QC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await km();return await E0(t,_h,"1"),await T0(t,_h),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>E0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>$C(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>T0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Qh(o,!1).getAll();return new uu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),ZC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}lT.type="LOCAL";const WC=lT;new lu(3e4,6e4);function tR(r,t){return t?ys(t):(xt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class wp extends Z1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return hl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return hl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function eR(r){return kC(r.auth,new wp(r),r.bypassAuthState)}function nR(r){const{auth:t,user:i}=r;return xt(i,t,"internal-error"),VC(i,new wp(r),r.bypassAuthState)}async function iR(r){const{auth:t,user:i}=r;return xt(i,t,"internal-error"),OC(i,new wp(r),r.bypassAuthState)}class oT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return eR;case"linkViaPopup":case"linkViaRedirect":return iR;case"reauthViaPopup":case"reauthViaRedirect":return nR;default:bs(this.auth,"internal-error")}}resolve(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){As(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const sR=new lu(2e3,1e4);class al extends oT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){As(this.filter.length===1,"Popup operations only handle one event");const t=xp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,sR.get())};t()}}al.currentPopupAction=null;const rR="pendingRedirect",Jc=new Map;class aR extends oT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Jc.get(this.auth._key());if(!t){try{const a=await lR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Jc.set(this.auth._key(),t)}return this.bypassAuthState||Jc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function lR(r,t){const i=cR(t),a=uR(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function oR(r,t){Jc.set(r._key(),t)}function uR(r){return ys(r._redirectPersistence)}function cR(r){return Zc(rR,r.config.apiKey,r.name)}async function hR(r,t,i=!1){if(hi(r.app))return Promise.reject(pr(r));const a=Fh(r),o=tR(a,t),d=await new aR(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const fR=600*1e3;class dR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!mR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!uT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ki(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=fR&&this.cachedEventUids.clear(),this.cachedEventUids.has(b0(t))}saveEventToCache(t){this.cachedEventUids.add(b0(t)),this.lastProcessedEventTime=Date.now()}}function b0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function uT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function mR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return uT(r);default:return!1}}async function pR(r,t={}){return Nl(r,"GET","/v1/projects",t)}const gR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yR=/^https?/;async function _R(r){if(r.config.emulator)return;const{authorizedDomains:t}=await pR(r);for(const i of t)try{if(vR(i))return}catch{}bs(r,"unauthorized-domain")}function vR(r){const t=Om(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!yR.test(i))return!1;if(gR.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const ER=new lu(3e4,6e4);function A0(){const r=Yi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function TR(r){return new Promise((t,i)=>{function a(){A0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{A0(),i(Ki(r,"network-request-failed"))},timeout:ER.get()})}if(Yi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Yi().gapi?.load)a();else{const o=SC("iframefcb");return Yi()[o]=()=>{gapi.load?a():i(Ki(r,"network-request-failed"))},bC(`${AC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Wc=null,t})}let Wc=null;function bR(r){return Wc=Wc||TR(r),Wc}const AR=new lu(5e3,15e3),SR="__/auth/iframe",xR="emulator/auth/iframe",wR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},CR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function RR(r){const t=r.config;xt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?Tp(t,xR):`https://${r.config.authDomain}/${SR}`,a={apiKey:t.apiKey,appName:r.name,v:bl},o=CR.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${tu(a).slice(1)}`}async function NR(r){const t=await bR(r),i=Yi().gapi;return xt(i,r,"internal-error"),t.open({where:document.body,url:RR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ki(r,"network-request-failed"),p=Yi().setTimeout(()=>{c(d)},AR.get());function y(){Yi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const IR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DR=500,MR=600,OR="_blank",VR="http://localhost";class S0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function kR(r,t,i,a=DR,o=MR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...IR,width:a.toString(),height:o.toString(),top:c,left:d},_=ln().toLowerCase();i&&(p=H1(_)?OR:i),B1(_)&&(t=t||VR,y.scrollbars="yes");const A=Object.entries(y).reduce((O,[G,tt])=>`${O}${G}=${tt},`,"");if(mC(_)&&p!=="_self")return jR(t||"",p),new S0(null);const x=window.open(t||"",p,A);xt(x,r,"popup-blocked");try{x.focus()}catch{}return new S0(x)}function jR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const UR="__/auth/handler",LR="emulator/auth/handler",PR=encodeURIComponent("fac");async function x0(r,t,i,a,o,c){xt(r.config.authDomain,r,"auth-domain-config-required"),xt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:bl,eventId:o};if(t instanceof J1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",NA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,x]of Object.entries({}))d[A]=x}if(t instanceof ou){const A=t.getScopes().filter(x=>x!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${PR}=${encodeURIComponent(y)}`:"";return`${zR(r)}?${tu(p).slice(1)}${_}`}function zR({config:r}){return r.emulator?Tp(r,LR):`https://${r.authDomain}/${UR}`}const om="webStorageSupport";class BR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iT,this._completeRedirectFn=hR,this._overrideRedirectResult=oR}async _openPopup(t,i,a,o){As(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await x0(t,i,a,Om(),o);return kR(t,c,xp())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await x0(t,i,a,Om(),o);return FC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(As(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await NR(t),a=new dR(t);return i.register("authEvent",o=>(xt(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(om,{type:om},o=>{const c=o?.[0]?.[om];c!==void 0&&i(!!c),bs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=_R(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Y1()||q1()||Ap()}}const qR=BR;var w0="@firebase/auth",C0="1.12.0";class HR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function FR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function GR(r){fl(new la("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;xt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:X1(r)},_=new EC(a,o,c,y);return wC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),fl(new la("auth-internal",t=>{const i=Fh(t.getProvider("auth").getImmediate());return(a=>new HR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(w0,C0,FR(r)),hr(w0,C0,"esm2020")}const QR=300,KR=B0("authIdTokenMaxAge")||QR;let R0=null;const YR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>KR)return;const o=i?.token;R0!==o&&(R0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function XR(r=K0()){const t=Bm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=xC(r,{popupRedirectResolver:qR,persistence:[WC,BC,iT]}),a=B0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=YR(c.toString());UC(i,d,()=>d(i.currentUser)),jC(i,p=>d(p))}}const o=P0("auth");return o&&CC(i,`http://${o}`),i}function $R(){return document.getElementsByTagName("head")?.[0]??document}TC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=Ki("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",$R().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});GR("Browser");const ZR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),JR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),N0=r=>{const t=JR(r);return t.charAt(0).toUpperCase()+t.slice(1)},cT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),WR=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var tN={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const eN=St.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>St.createElement("svg",{ref:y,...tN,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:cT("lucide",o),...!c&&!WR(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>St.createElement(_,A)),...Array.isArray(c)?c:[c]]));const le=(r,t)=>{const i=St.forwardRef(({className:a,...o},c)=>St.createElement(eN,{ref:c,iconNode:t,className:cT(`lucide-${ZR(N0(r))}`,`lucide-${r}`,a),...o}));return i.displayName=N0(r),i};const nN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],iN=le("activity",nN);const sN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],rN=le("book-open",sN);const aN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Eh=le("calendar",aN);const lN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],hT=le("check",lN);const oN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],uN=le("circle-check-big",oN);const cN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],hN=le("circle-x",cN);const fN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],fT=le("clipboard-list",fN);const dN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],I0=le("dollar-sign",dN);const mN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],pN=le("eye-off",mN);const gN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yN=le("eye",gN);const _N=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],vN=le("heart",_N);const EN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],TN=le("info",EN);const bN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Th=le("key",bN);const AN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],D0=le("loader-circle",AN);const SN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],xN=le("log-out",SN);const wN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],CN=le("party-popper",wN);const RN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],NN=le("refresh-cw",RN);const IN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],DN=le("shield-check",IN);const MN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],dT=le("stethoscope",MN);const ON=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],VN=le("toggle-left",ON);const kN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],jN=le("toggle-right",kN);const UN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],qc=le("trash-2",UN);const LN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],mT=le("trophy",LN);const PN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],um=le("user-check",PN);const zN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],M0=le("user-plus",zN);const BN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],O0=le("user-x",BN);const qN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],jm=le("users",qN);const HN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],V0=le("x",HN),FN={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},pT=Q0(FN),Yn=L2(pT),sn=XR(pT),Xn="balletfitbyjen-6b36a",GN="JENNY2024",gr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],k0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Hc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],Dn=({children:r,className:t=""})=>E.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),$n=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:o=""})=>{const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return E.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${o}`,disabled:a,children:r})},gT=(r,t)=>{const i=new Date,a=new Date,[o,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const y=i.getHours()*60+i.getMinutes(),_=o*60+c;y>_&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(o,c,0,0),(a-i)/(1e3*60*60)},QN=r=>{const t=new Date(r.valueOf()),i=r.getDay();t.setDate(t.getDate()-i+3);const a=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((a-t)/6048e5)},Um=(r,t)=>{const i=new Date,a=i.getDay(),[o,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),p=o*60+c;return a>r||a===r&&d>=p},yT=(r=null)=>{let t=gr;return r&&(t=gr.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:gT(a.dayIdx,a.time)})).sort((a,o)=>a.diff-o.diff)[0]},Cp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function KN(){const[r,t]=St.useState("login"),[i,a]=St.useState(null),[o,c]=St.useState([]),[d,p]=St.useState([]),[y,_]=St.useState({}),[A,x]=St.useState({totalClassesTaught:0}),[O,G]=St.useState(null),[tt,nt]=St.useState(!0),[Z,et]=St.useState(null),[pt,mt]=St.useState(""),[Ot,Vt]=St.useState([]),gt=(q,W="success")=>{G({msg:q,type:W}),setTimeout(()=>G(null),4e3)},N=Pc(Yn,"artifacts",Xn,"public","data","alumnas"),w=Pc(Yn,"artifacts",Xn,"public","data","maestros"),C=Pc(Yn,"artifacts",Xn,"public","data","sesiones"),V=ee(Yn,"artifacts",Xn,"public","data","config","metadata");St.useEffect(()=>{mt(Hc[Math.floor(Math.random()*Hc.length)]),(async()=>{try{await MC(sn)}catch(W){console.error("Error Auth:",W)}LC(sn,W=>{if(!W)return;const at=Vo(N,rt=>{const dt=rt.docs.map(ct=>({id:ct.id,...ct.data()}));c(dt),nt(!1)}),yt=Vo(w,rt=>{const dt=rt.docs.map(ct=>({id:ct.id,...ct.data()}));p(dt)}),bt=Vo(C,rt=>{const dt={};rt.docs.forEach(ct=>dt[ct.id]=ct.data()),_(dt)}),I=Vo(V,rt=>{rt.exists()?x(rt.data()):qi(V,{totalClassesTaught:0,lastResetWeek:0},{merge:!0})}),K=Pc(Yn,"artifacts",Xn,"public","data","asistencias_extras"),st=Vo(K,rt=>{const dt=rt.docs.map(ct=>({id:ct.id,...ct.data()}));Vt(dt)});return()=>{at(),yt(),bt(),I(),st()}})})()},[]),St.useEffect(()=>{if(i&&i.role==="student"){const q=o.find(W=>W.id===i.id);q&&a(W=>({...W,...q}))}},[o]);const D=(q,W)=>{const at=q.trim().toUpperCase(),yt=W.trim();if(et(null),at==="ADMIN-JEN"||at==="JENNY")if(yt===GN){a({firstName:"JENNY",role:"admin"}),t("admin"),gt("Acceso Admin concedido");return}else{et("Contrasea de Admin incorrecta.");return}const bt=d.find(K=>K.id.toUpperCase()===at);if(bt)if(bt.password===yt){if(bt.status==="inactive"){et("Cuenta de maestra inactiva.");return}a({...bt,firstName:bt.name.split(" ")[0],role:"teacher"}),t("teacher"),gt("Acceso Maestra concedido");return}else{et("Contrasea de maestra incorrecta.");return}const I=o.find(K=>K.id.toUpperCase()===at);if(I){if(I.password&&I.password!==yt){et("Contrasea incorrecta.");return}if(I.status==="inactive"){et("Cuenta inactiva. Contacta a Jenny.");return}a({...I,firstName:I.name.split(" ")[0],role:"student"}),mt(Hc[Math.floor(Math.random()*Hc.length)]),t("student")}else et("ID no encontrado o datos incorrectos.")},j=async q=>{if(!sn.currentUser)return;const W=gr.find(yt=>yt.id===q),at=y[q];if(Um(W.dayIdx,W.time)){gt("Esta clase ya ocurri.","error");return}if(at?.isClosed){gt("Clase cerrada.","error");return}if(i.credits<=0){gt("Sin crditos.","error");return}try{const yt=ee(Yn,"artifacts",Xn,"public","data","alumnas",i.id),bt=ee(Yn,"artifacts",Xn,"public","data","sesiones",q);await Fe(yt,{credits:cn(-1),history:X2(q)}),await qi(bt,{booked:cn(1)},{merge:!0}),gt("Clase reservada!")}catch{gt("Error al reservar","error")}},S=async(q,W,at)=>{if(!at.trim()){gt("La contrasea no puede estar vaca","error");return}try{await Fe(ee(Yn,"artifacts",Xn,"public","data",q,W),{password:at.trim()}),gt("Contrasea actualizada con xito"),a(yt=>({...yt,password:at.trim()}))}catch{gt("Error al actualizar contrasea","error")}},Pt=async q=>{if(!sn.currentUser)return;const W=gr.find(bt=>bt.id===q);if(Um(W.dayIdx,W.time)){gt("No se puede cancelar una clase que ya finaliz.","error");return}const yt=gT(W.dayIdx,W.time)<6;if(!(yt&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const bt=ee(Yn,"artifacts",Xn,"public","data","alumnas",i.id),I=ee(Yn,"artifacts",Xn,"public","data","sesiones",q);yt?await Fe(bt,{history:dh(q)}):await Fe(bt,{credits:cn(1),history:dh(q)}),await Fe(I,{booked:cn(-1)}),gt(yt?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{gt("Error al cancelar","error")}},jt=()=>{a(null),t("login"),et(null)};return tt?E.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):E.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[O&&E.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${O.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[O.type==="error"?E.jsx(hN,{size:18}):E.jsx(uN,{size:18}),E.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:O.msg})]}),r==="login"&&E.jsx(YN,{onLogin:D,error:Z}),r==="student"&&E.jsx(XN,{user:i,quote:pt,sessions:gr,sessionsData:y,onBook:j,onCancel:Pt,onLogout:jt,onUpdatePassword:S}),r==="admin"&&E.jsx($N,{students:o,teachers:d,sessionsData:y,settings:A,db:Yn,appId:Xn,onLogout:jt,showNotification:gt,extraGuests:Ot}),r==="teacher"&&E.jsx(ZN,{user:i,students:o,sessionsData:y,db:Yn,appId:Xn,onLogout:jt,showNotification:gt,onUpdatePassword:S})]})}const YN=({onLogin:r,error:t})=>{const[i,a]=St.useState(""),[o,c]=St.useState(""),[d,p]=St.useState(!1);return E.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[E.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),E.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:E.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),E.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Portal alumnas"})]}),E.jsxs("form",{onSubmit:y=>{y.preventDefault(),r(i,o)},className:"space-y-6",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),E.jsx("input",{type:"text",required:!0,placeholder:"Ingresa tu ID",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:y=>a(y.target.value)})]}),E.jsxs("div",{className:"space-y-1 relative",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),E.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:o,onChange:y=>c(y.target.value)}),E.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?E.jsx(pN,{size:18}):E.jsx(yN,{size:18})})]}),t&&E.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),E.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"})]})]})})]})},XN=({user:r,quote:t,sessions:i,sessionsData:a,onBook:o,onCancel:c,onLogout:d,onUpdatePassword:p})=>{const y=r.history||[],_=i.filter(Z=>y.includes(Z.id)),A=_.length>0?_[0]:null,x=Cp(),[O,G]=St.useState(!1),[tt,nt]=St.useState("");return E.jsxs("div",{className:"pb-20",children:[E.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:E.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[E.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:()=>G(!0),className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[E.jsx(Th,{size:16})," ",E.jsx("span",{children:"Mi Clave"})]}),E.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[E.jsx("span",{children:"Salir"}),E.jsx(xN,{size:16})]})]}),O&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Mi Nueva Clave"}),E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold mb-4",placeholder:"Escribe aqu",value:tt,onChange:Z=>nt(Z.target.value)}),E.jsx($n,{onClick:()=>{p("alumnas",r.id,tt),G(!1)},className:"w-full !py-4",children:"Actualizar"}),E.jsx("button",{onClick:()=>G(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-300",children:"Cerrar"})]})})]})}),E.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[E.jsxs("div",{className:"mb-10 text-center md:text-left",children:[E.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),E.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[E.jsx(vN,{size:16,fill:"#369EAD"})," ",t]})]}),E.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[E.jsxs(Dn,{className:"md:col-span-2 flex flex-col justify-between",children:[E.jsxs("div",{className:"flex justify-between items-start mb-6",children:[E.jsx("div",{children:E.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",x]})}),E.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:E.jsx(iN,{size:24})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[E.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases de la semana"}),E.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[E.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),E.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",r.maxCredits]})]})]}),E.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[E.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),E.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[E.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),E.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),E.jsxs(Dn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:E.jsx(Eh,{size:120})}),E.jsx(Eh,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),E.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),A?E.jsxs("div",{className:"animate-in fade-in duration-500",children:[E.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:A.day}),E.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:A.time}),E.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",A.teacher]})]}):E.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),E.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),E.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(Z=>{const et=y.includes(Z.id),pt=a[Z.id]||{booked:0,isClosed:!1},mt=(pt.booked||0)>=Z.spots,Ot=pt.isClosed,Vt=Um(Z.dayIdx,Z.time),gt=r.credits>0&&!et&&!mt&&!Ot&&!Vt;return E.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${et?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":Ot||Vt?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex justify-between items-start font-sans",children:[E.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:Z.day}),Ot?E.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):Vt?E.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),E.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:Z.time}),E.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:Z.teacher})]}),E.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[E.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[E.jsx(jm,{size:12})," ",pt.booked||0,"/",Z.spots]}),et?Vt?E.jsx("span",{className:"text-[9px] text-[#369EAD] font-bold uppercase italic opacity-60",children:"Asistencia registrada"}):E.jsx("button",{onClick:()=>c(Z.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):E.jsx($n,{onClick:()=>o(Z.id),disabled:!gt,className:"!px-4 !py-2 !text-[9px]",children:Ot?"Cerrado":Vt?"Pasada":mt?"Lleno":"Reservar"})]})]},Z.id)})})]})]})},$N=({students:r,teachers:t,sessionsData:i,settings:a,db:o,appId:c,onLogout:d,showNotification:p,extraGuests:y=[]})=>{const[_,A]=St.useState(!1),[x,O]=St.useState(!1),[G,tt]=St.useState(null),[nt,Z]=St.useState(null),[et,pt]=St.useState(""),[mt,Ot]=St.useState(null),[Vt,gt]=St.useState(""),[N,w]=St.useState(""),[C,V]=St.useState(null),[D,j]=St.useState(""),[S,Pt]=St.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:"",registrationDate:new Date().toISOString().split("T")[0]}),[jt,q]=St.useState({id:"",name:"",password:"",role:"teacher"}),[W,at]=St.useState(!1),[yt,bt]=St.useState(null),[I,K]=St.useState(0),st=Cp(),[rt,dt]=St.useState(!1),[ct,kt]=St.useState({name:"",type:"Clase Suelta"}),ye=r.filter(P=>P.status!=="inactive"),ne=ee(o,"artifacts",c,"public","data","config","metadata"),[On,di]=St.useState(null),[Vn,Wn]=St.useState(1),kn=P=>{const ot=P.map(Nt=>Nt.id).filter(Nt=>Nt.startsWith("BF-")).map(Nt=>parseInt(Nt.split("-")[1])).filter(Nt=>!isNaN(Nt)),oe=(ot.length>0?Math.max(...ot):0)+1;return`BF-${String(oe).padStart(3,"0")}`};St.useEffect(()=>{if(_){const P=kn(r);Pt(ot=>({...ot,id:P}))}},[_,r]),St.useEffect(()=>{const P=async()=>{if(!sn.currentUser)return;const ot=QN(new Date);try{const Tt=await Po(ne);let oe=0;if(Tt.exists()&&(oe=Tt.data().lastResetWeek||0),ot!==oe&&r.length>0){const Nt=$2(o);ye.forEach(_i=>{const vi=ee(o,"artifacts",c,"public","data","alumnas",_i.id);Nt.update(vi,{credits:_i.maxCredits,history:[]})}),gr.forEach(_i=>{const vi=ee(o,"artifacts",c,"public","data","sesiones",_i.id);Nt.set(vi,{booked:0,isCounted:!1},{merge:!0})}),await qi(ne,{lastResetWeek:ot},{merge:!0}),await Nt.commit(),p("Semana reiniciada!","success")}}catch(Tt){console.error("Error in auto-reset:",Tt)}};r.length>0&&P()},[r.length]);const hn=yT(),mi=r.filter(P=>P.history?.includes(hn.id)&&P.status!=="inactive"),Cr=r.reduce((P,ot)=>P+(ot.monthlyPayment||0),0),xs=y?y.reduce((P,ot)=>P+(ot.totalPaid||0),0):0,_e=Cr+xs,Te=async(P,ot)=>{sn.currentUser&&(await qi(ee(o,"artifacts",c,"public","data","sesiones",P),{isClosed:!ot},{merge:!0}),p("Estado actualizado"))},pi=async()=>{if(!(!sn.currentUser||!On))try{const P=ee(o,"artifacts",c,"public","data","alumnas",On);await Fe(P,{credits:cn(parseInt(Vn))}),p(`Se agregaron ${Vn} crditos`),di(null),Wn(1)}catch{p("Error al actualizar crditos","error")}},Il=async(P,ot)=>{if(sn.currentUser&&window.confirm("Confirmar asistencia?"))try{const Tt=ee(o,"artifacts",c,"public","data","alumnas",P),oe=ee(o,"artifacts",c,"public","data","sesiones",ot),Nt=await Po(oe);Nt.exists()&&Nt.data().isCounted||(await Fe(ne,{totalClassesTaught:cn(1)}),await qi(oe,{isCounted:!0},{merge:!0})),await Fe(Tt,{totalAttendance:cn(1),history:dh(ot)}),await Fe(oe,{booked:cn(-1)}),p("Asistencia confirmada")}catch(Tt){console.error(Tt)}},da=async P=>{if(!ct.name.trim())return p("Escribe un nombre","error");try{const ot=ct.name.trim().toUpperCase(),Tt=ee(o,"artifacts",c,"public","data","asistencias_extras",ot),oe=await Po(Tt);oe.exists()?await Fe(Tt,{totalVisits:cn(1),lastSessionId:P,lastDate:new Date().toISOString(),totalPaid:cn(ct.type==="Clase Suelta"?150:0)}):await qi(Tt,{name:ot,type:ct.type,totalVisits:1,totalPaid:ct.type==="Clase Suelta"?150:0,firstVisit:new Date().toISOString(),lastSessionId:P,status:"prospect"});const Nt=ee(o,"artifacts",c,"public","data","sesiones",P);await qi(Nt,{booked:cn(1)},{merge:!0}),p(oe.exists()?"Visita recurrente registrada":"Nueva invitada registrada"),dt(!1),kt({name:"",type:"Clase Suelta"})}catch{p("Error al procesar invitada","error")}},ze=async(P,ot,Tt)=>{if(!sn.currentUser)return;const oe=Tt==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus?"))try{await Fe(ee(o,"artifacts",c,"public","data",P,ot),{status:oe}),p("Estatus actualizado")}catch(Nt){console.error(Nt)}},gi=async(P,ot)=>{if(sn.currentUser&&et.trim())try{await Fe(ee(o,"artifacts",c,"public","data",P,ot),{password:et.trim()}),p("Contrasea actualizada"),tt(null),Z(null),pt("")}catch(Tt){console.error(Tt)}},Rr=async P=>{if(!sn.currentUser)return;P.preventDefault();const ot=S.id.trim().toUpperCase();if(!ot||!S.name||!S.password){p("Completa los campos","error");return}at(!0);try{const Tt=ee(o,"artifacts",c,"public","data","alumnas",ot);if((await Po(Tt)).exists()){p("ID ya usado","error"),at(!1);return}const Nt=parseInt(S.plan.split(" ")[0])||2;await qi(Tt,{id:ot,name:S.name.trim().toUpperCase(),password:S.password,plan:S.plan,maxCredits:Nt,credits:Nt,history:[],monthlyPayment:0,totalAttendance:0,notes:S.notes.trim(),registrationDate:S.registrationDate,status:"active"}),p("Registrada"),A(!1),Pt({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(Tt){console.error(Tt)}at(!1)},Nr=async P=>{try{const ot=ee(o,"artifacts",c,"public","data","alumnas",P);await Fe(ot,{name:D.trim().toUpperCase(),registrationDate:Vt,notes:N.trim()}),p("Datos actualizados"),V(null)}catch{p("Error al actualizar","error")}},yi=async P=>{if(!sn.currentUser)return;P.preventDefault();const ot=jt.id.trim().toUpperCase();if(!ot||!jt.name||!jt.password){p("Completa los campos","error");return}at(!0);try{await qi(ee(o,"artifacts",c,"public","data","maestros",ot),{...jt,id:ot,name:jt.name.trim().toUpperCase(),status:"active"}),p("Staff registrado"),O(!1),q({id:"",name:"",password:"",role:"teacher"})}catch(Tt){console.error(Tt)}at(!1)},Dl=async()=>{if(!(!sn.currentUser||!yt))try{await Fe(ee(o,"artifacts",c,"public","data","alumnas",yt),{monthlyPayment:parseFloat(I)}),p("Pago registrado"),bt(null),K(0)}catch(P){console.error(P)}},ma=async(P,ot)=>{if(sn.currentUser&&window.confirm(`Borrar a ${ot}?`))try{await zc(ee(o,"artifacts",c,"public","data","alumnas",P)),p("Eliminada")}catch{p("Error","error")}},pa=async(P,ot)=>{if(sn.currentUser&&window.confirm(`Borrar a ${ot}?`))try{await zc(ee(o,"artifacts",c,"public","data","maestros",P)),p("Eliminado")}catch{p("Error","error")}};return E.jsxs("div",{className:"pb-20",children:[E.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),E.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:st})]}),E.jsx("button",{onClick:d,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),E.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs(Dn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[E.jsxs("div",{className:"mb-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[E.jsx(fT,{size:20})," Roster"]}),E.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[hn?.day," ",hn?.time]})]}),E.jsxs("button",{onClick:()=>dt(!0),className:"w-full py-3 bg-[#C5A059] text-[#1A3A3E] text-[10px] font-black uppercase tracking-[0.2em] rounded-sm hover:bg-white transition-all flex items-center justify-center gap-2 shadow-lg",children:[E.jsx(M0,{size:14})," + Invitada Extra"]})]}),E.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[mi.map(P=>E.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm flex justify-between items-center gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-serif italic font-bold text-sm",children:P.name}),E.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:P.id})]})}),E.jsx("button",{onClick:()=>Il(P.id,hn.id),className:"p-2 bg-[#369EAD] text-white rounded-full hover:bg-white hover:text-[#369EAD] transition-all",children:E.jsx(hT,{size:18})})]},P.id)),y&&y.filter(P=>P.sessionId===hn?.id).map(P=>E.jsxs("div",{className:"p-4 bg-[#C5A059]/10 border border-[#C5A059]/30 rounded-sm flex justify-between items-center gap-4 border-l-4 border-l-[#C5A059] animate-in fade-in duration-500",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-serif italic font-bold text-sm text-[#C5A059]",children:P.name}),E.jsx("span",{className:"text-[8px] font-sans uppercase font-black opacity-60",children:P.type==="Clase Suelta"?" Clase Suelta":" Clase de Prueba"})]})}),E.jsx("button",{onClick:async()=>{if(window.confirm("Eliminar registro de invitada?")){await zc(ee(o,"artifacts",c,"public","data","asistencias_extras",P.id));const ot=ee(o,"artifacts",c,"public","data","sesiones",hn.id);await Fe(ot,{booked:cn(-1)}),p("Invitada eliminada")}},className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:E.jsx(qc,{size:16})})]},P.id)),mi.length===0&&(!y||y.filter(P=>P.sessionId===hn?.id).length===0)&&E.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay nadie anotado para la siguiente clase"})]})]}),E.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[E.jsxs(Dn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[E.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] group-hover:rotate-6 transition-transform",children:E.jsx(I0,{size:28})}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1 flex justify-between",children:[E.jsxs("span",{children:["Caja ",st]}),E.jsxs("span",{className:"text-[#C5A059] opacity-70",children:["Incluye $",xs," de extras"]})]}),E.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",_e.toLocaleString()]})]})]}),E.jsxs(Dn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[E.jsx(CN,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),E.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),E.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 px-4",children:"Cada alumna nueva es un paso ms hacia tu sueo"})]}),E.jsxs(Dn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm group-hover:scale-110 transition-transform",children:E.jsx(mT,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),E.jsxs("p",{className:"text-3xl font-bold",children:[a?.totalClassesTaught||0," clases dadas"]})]})]}),E.jsxs(Dn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 md:col-span-2",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:E.jsx(jm,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),E.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[ye.length," Alumnas pagando"]})]})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[E.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[E.jsxs(Dn,{className:"bg-white border-[#C5A059]",children:[E.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[E.jsx(TN,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),E.jsx("div",{className:"space-y-3 font-sans text-[11px]",children:k0.map((P,ot)=>E.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-2",children:[E.jsx("span",{className:"text-gray-400 uppercase font-bold",children:P.plan}),E.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",P.price]})]},ot))})]}),E.jsxs(Dn,{className:"bg-white border-[#369EAD]",children:[E.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),E.jsx("div",{className:"space-y-4 font-sans text-xs",children:gr.map(P=>{const ot=i[P.id]?.isClosed||!1;return E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"font-bold opacity-60 uppercase",children:P.day}),E.jsx("button",{onClick:()=>Te(P.id,ot),children:ot?E.jsx(VN,{size:30,className:"text-red-300"}):E.jsx(jN,{size:30,className:"text-[#369EAD]"})})]},P.id)})})]})]}),E.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[E.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[E.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[E.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[E.jsx(DN,{size:20,className:"text-[#369EAD]"})," Control Maestras"]}),E.jsx($n,{onClick:()=>O(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4",children:"Nombre"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),E.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(P=>E.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${P.status==="inactive"?"opacity-40":""}`,children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${P.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold font-serif italic",children:P.name}),E.jsxs("div",{className:"text-[9px] uppercase text-gray-400",children:[P.id,"  ",P.role]})]})]})}),E.jsx("td",{className:"px-6 py-4 text-center font-bold text-[#C5A059]",children:P.password}),E.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[E.jsx("button",{onClick:()=>Z(P.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:E.jsx(Th,{size:16})}),E.jsx("button",{onClick:()=>ze("maestros",P.id,P.status),className:`p-2 rounded-full ${P.status==="inactive"?"text-green-500":"text-red-400"}`,children:P.status==="inactive"?E.jsx(um,{size:16}):E.jsx(O0,{size:16})}),E.jsx("button",{onClick:()=>pa(P.id,P.name),className:"p-2 text-red-100 hover:text-red-500",children:E.jsx(qc,{size:16})})]})]},P.id))})]})})]}),E.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[E.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[E.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control Alumnas"}),E.jsx($n,{onClick:()=>A(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-5",children:"Nombre"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Clave"})," ",E.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Asistencias"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Pago"}),E.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(P=>{const ot=P.status==="inactive";return E.jsxs("tr",{className:`hover:bg-gray-50 transition-all text-sm ${ot?"opacity-40 grayscale-[0.5]":""}`,children:[E.jsx("td",{className:"px-6 py-5",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-[10px] font-black text-[#369EAD] bg-[#EBF5F6] px-2 py-0.5 rounded-sm w-fit mb-1",children:P.id}),C===P.id?E.jsxs("div",{className:"space-y-2 bg-gray-50 p-2 rounded-sm border border-[#369EAD]/30 animate-in fade-in duration-300",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Nombre"}),E.jsx("input",{type:"text",className:"w-full font-bold font-serif italic border-b border-[#369EAD] outline-none bg-transparent text-[#1A3A3E] uppercase",value:D,onChange:Tt=>j(Tt.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Fecha Inscripcin"}),E.jsx("input",{type:"date",className:"w-full text-xs font-sans border-b border-gray-300 outline-none bg-transparent text-gray-600",value:Vt,onChange:Tt=>gt(Tt.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Notas Mdicas"}),E.jsx("textarea",{className:"w-full text-[10px] border-b border-gray-300 outline-none bg-transparent text-red-400 italic",value:N,onChange:Tt=>w(Tt.target.value)})]}),E.jsxs("div",{className:"flex gap-2 pt-1",children:[E.jsx("button",{onClick:()=>Nr(P.id),className:"text-[8px] bg-[#369EAD] text-white px-3 py-1 font-black uppercase tracking-widest",children:"Guardar"}),E.jsx("button",{onClick:()=>V(null),className:"text-[8px] bg-gray-200 text-gray-500 px-3 py-1 font-black uppercase tracking-widest",children:"Cancelar"})]})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E] text-base",children:P.name}),E.jsxs("div",{className:"text-[9px] text-gray-400 font-sans uppercase tracking-tighter flex items-center gap-1 mt-1",children:[E.jsx(Eh,{size:10})," Inscrita: ",P.registrationDate||"Sin fecha"]}),P.notes&&E.jsxs("div",{className:"text-[10px] text-red-400 italic flex items-center gap-1 mt-1 bg-red-50/50 w-fit px-1 rounded-sm",children:[E.jsx(dT,{size:10})," ",P.notes]})]})]})}),E.jsx("td",{className:"px-6 py-5 text-center font-mono text-xs font-bold text-[#369EAD]",children:P.password}),E.jsxs("td",{className:"px-6 py-5 text-center font-bold",children:[E.jsx("span",{className:P.credits===0?"text-red-400":"text-[#369EAD]",children:P.credits})," / ",P.maxCredits]}),E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold",children:P.totalAttendance||0})}),E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsxs("button",{onClick:()=>{bt(P.id),K(P.monthlyPayment||0)},className:`font-bold px-3 py-1 rounded text-xs transition-colors ${P.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",P.monthlyPayment||0]})}),E.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[E.jsx("button",{onClick:()=>{V(P.id),j(P.name),gt(P.registrationDate||""),w(P.notes||"")},className:"p-2 text-gray-300 hover:text-[#369EAD]",children:E.jsx(M0,{size:16})}),E.jsx("button",{onClick:()=>tt(P.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:E.jsx(Th,{size:16})}),E.jsx("button",{onClick:()=>ze("alumnas",P.id,P.status),className:`p-2 rounded-full ${ot?"text-green-500":"text-gray-300"}`,children:ot?E.jsx(um,{size:16}):E.jsx(O0,{size:16})}),E.jsxs("button",{onClick:()=>{di(P.id),Wn(1)},className:"p-2 text-[#369EAD] hover:bg-[#EBF5F6] rounded-full transition-all",title:"Sumar crditos manualmente",children:[" ",E.jsx(NN,{size:16})]}),E.jsx("button",{onClick:()=>ma(P.id,P.name),className:"p-2 text-red-100 hover:text-red-500",children:E.jsx(qc,{size:16})})]})]},P.id)})})]})})]}),E.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-[#C5A059]/30 overflow-hidden font-sans mt-12",children:[E.jsxs("div",{className:"p-6 border-b border-[#C5A059]/20 bg-[#C5A059]/5 flex justify-between items-center",children:[E.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[E.jsx(jm,{size:20,className:"text-[#C5A059]"})," Historial de Invitadas y Extras"]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:"Recaudacin Sueltas"}),E.jsxs("p",{className:"text-xl font-bold text-[#C5A059]",children:["$",y?y.reduce((P,ot)=>P+(ot.totalPaid||0),0).toLocaleString():0]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4",children:"Nombre"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Visitas"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"ltimo Tipo"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Total Pagado"}),E.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-50",children:y&&y.length>0?y.map(P=>E.jsxs("tr",{className:"hover:bg-gray-50 text-sm",children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E]",children:P.name}),E.jsx("div",{className:"text-[9px] text-gray-400 uppercase",children:P.firstVisit?`Desde: ${new Date(P.firstVisit).toLocaleDateString()}`:"Registro antiguo"})]}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsx("span",{className:"bg-[#1A3A3E] text-white px-2 py-0.5 rounded-full text-xs font-bold",children:P.totalVisits||1})}),E.jsx("td",{className:"px-6 py-4 text-center text-[10px] font-black uppercase",children:P.type}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsxs("span",{className:"text-green-600 font-bold",children:["$",P.totalPaid||0]})}),E.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-2",children:[E.jsx("button",{onClick:()=>{window.confirm(`Convertir a ${P.name} en alumna oficial?`)&&(Pt({...S,name:P.name}),A(!0))},className:"p-2 text-[#369EAD] hover:bg-[#EBF5F6] rounded-full transition-all",title:"Convertir a Alumna",children:E.jsx(um,{size:18})}),E.jsx("button",{onClick:async()=>{window.confirm("Borrar historial de esta invitada?")&&(await zc(ee(o,"artifacts",c,"public","data","asistencias_extras",P.id)),p("Historial borrado"))},className:"p-2 text-red-200 hover:text-red-500 rounded-full transition-all",children:E.jsx(qc,{size:16})})]})]},P.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"text-center py-10 opacity-30 italic text-sm",children:"No hay registro de invitadas todava"})})})]})})]})]})]})]}),G&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Alumna"}),E.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:G}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:et,onChange:P=>pt(P.target.value)}),E.jsx($n,{onClick:()=>gi("alumnas",G),className:"w-full !py-4 font-bold",children:"Actualizar"}),E.jsx("button",{onClick:()=>{tt(null),pt("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),nt&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Staff"}),E.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:nt}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:et,onChange:P=>pt(P.target.value)}),E.jsx($n,{onClick:()=>gi("maestros",nt),className:"w-full !py-4 font-bold",children:"Actualizar"}),E.jsx("button",{onClick:()=>{Z(null),pt("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),_&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[E.jsx("button",{onClick:()=>A(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:E.jsx(V0,{size:28})}),E.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),E.jsxs("form",{onSubmit:Rr,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-bold text-[#369EAD]",value:S.id,onChange:P=>Pt({...S,id:P.target.value}),placeholder:"ID"}),E.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"w-full p-4 bg-gray-50 border-b outline-none text-sm font-bold",value:S.password,onChange:P=>Pt({...S,password:P.target.value})})]}),E.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-serif italic font-bold",value:S.name,onChange:P=>Pt({...S,name:P.target.value})}),E.jsx("select",{className:"w-full p-4 bg-gray-50 border-b outline-none text-sm",value:S.plan,onChange:P=>Pt({...S,plan:P.target.value}),children:k0.slice(0,4).map((P,ot)=>E.jsx("option",{value:P.plan,children:P.plan},ot))}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Fecha de Inscripcin"}),E.jsx("input",{type:"date",required:!0,className:"w-full p-4 bg-gray-50 border-b outline-none text-sm font-bold text-[#1A3A3E]",value:S.registrationDate,onChange:P=>Pt({...S,registrationDate:P.target.value})})]}),E.jsx("textarea",{placeholder:"NOTAS MDICAS",className:"w-full p-4 bg-gray-50 border-b outline-none text-xs h-24 italic",value:S.notes,onChange:P=>Pt({...S,notes:P.target.value})}),E.jsx($n,{disabled:W,className:"w-full !py-4 font-bold",children:W?E.jsx(D0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),x&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[E.jsx("button",{onClick:()=>O(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:E.jsx(V0,{size:28})}),E.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nuevo Staff"}),E.jsxs("form",{onSubmit:yi,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",required:!0,placeholder:"ID",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b",value:jt.id,onChange:P=>q({...jt,id:P.target.value})}),E.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b",value:jt.password,onChange:P=>q({...jt,password:P.target.value})})]}),E.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b",value:jt.name,onChange:P=>q({...jt,name:P.target.value})}),E.jsxs("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b",value:jt.role,onChange:P=>q({...jt,role:P.target.value}),children:[E.jsx("option",{value:"teacher",children:"Maestra"}),E.jsx("option",{value:"admin",children:"Admin Secundario"})]}),E.jsx($n,{disabled:W,className:"w-full !py-4 font-bold",children:W?E.jsx(D0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),yt&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059]",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),E.jsxs("div",{className:"space-y-4 text-center",children:[E.jsxs("div",{className:"relative",children:[E.jsx(I0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50 border-b outline-none text-xl font-bold",value:I,onChange:P=>K(P.target.value)})]}),E.jsx($n,{onClick:Dl,className:"w-full !py-4 font-bold",children:"Confirmar"}),E.jsx("button",{onClick:()=>bt(null),className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),rt&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059]",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center text-[#1A3A3E]",children:"Invitada Extra"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Nombre Completo"}),E.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50 border-b border-gray-200 outline-none font-bold uppercase text-sm",value:ct.name,onChange:P=>kt({...ct,name:P.target.value}),placeholder:"Ingresa nombre",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Tipo de Ingreso"}),E.jsxs("select",{className:"w-full p-3 bg-gray-50 border-b border-gray-200 outline-none font-bold text-sm",value:ct.type,onChange:P=>kt({...ct,type:P.target.value}),children:[E.jsx("option",{value:"Clase Suelta",children:"Clase Suelta ($)"}),E.jsx("option",{value:"Clase de Prueba",children:"Clase de Prueba (Gratis)"})]})]}),E.jsx($n,{onClick:()=>da(hn.id),className:"w-full !py-4 font-bold",children:"Registrar Asistencia"}),E.jsx("button",{onClick:()=>dt(!1),className:"w-full text-[10px] uppercase font-bold text-gray-300 hover:text-red-400 mt-2",children:"Cancelar"})]})]})}),On&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2 text-center text-[#1A3A3E]",children:"Ajuste de Crditos"}),E.jsxs("p",{className:"text-[10px] text-center text-gray-400 uppercase font-black mb-6",children:["ID: ",On]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-center gap-6",children:[E.jsx("button",{onClick:()=>Wn(Math.max(1,Vn-1)),className:"w-10 h-10 rounded-full border-2 border-gray-200 flex items-center justify-center text-xl font-bold hover:bg-gray-50",children:" - "}),E.jsx("span",{className:"text-4xl font-sans font-bold text-[#369EAD]",children:Vn}),E.jsx("button",{onClick:()=>Wn(Vn+1),className:"w-10 h-10 rounded-full border-2 border-gray-200 flex items-center justify-center text-xl font-bold hover:bg-gray-50",children:" + "})]}),E.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Esto sumar los crditos a los que la alumna ya tenga disponibles actualmente."}),E.jsx($n,{onClick:pi,className:"w-full !py-4 font-bold",children:"Confirmar y Sumar"}),E.jsx("button",{onClick:()=>di(null),className:"w-full text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})})]})},ZN=({user:r,students:t,sessionsData:i,db:a,appId:o,onLogout:c,showNotification:d,onUpdatePassword:p})=>{Cp();const y=gr.filter(et=>et.teacher.toUpperCase()===r.firstName.toUpperCase()),_=yT(r.firstName),A=t.filter(et=>et.history?.includes(_?.id)&&et.status!=="inactive"),x=ee(a,"artifacts",o,"public","data","config","metadata"),[O,G]=St.useState(!1),[tt,nt]=St.useState(""),Z=async(et,pt)=>{if(sn.currentUser&&window.confirm("Confirmar asistencia?"))try{const mt=ee(a,"artifacts",o,"public","data","alumnas",et),Ot=ee(a,"artifacts",o,"public","data","sesiones",pt),Vt=await Po(Ot);Vt.exists()&&Vt.data().isCounted||(await Fe(x,{totalClassesTaught:cn(1)}),await qi(Ot,{isCounted:!0},{merge:!0})),await Fe(mt,{totalAttendance:cn(1),history:dh(pt)}),await Fe(Ot,{booked:cn(-1)}),d("Asistencia marcada")}catch(mt){console.error(mt)}};return E.jsxs("div",{className:"pb-20",children:[E.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Portal Maestras"}),E.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] px-2 py-0.5 rounded font-black uppercase",children:r.firstName})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:()=>G(!0),className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest flex items-center gap-2",children:[E.jsx(Th,{size:14})," Clave"]}),E.jsx("button",{onClick:c,className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),O&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Cambiar mi clave"}),E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b outline-none text-center font-bold mb-6 text-[#1A3A3E]",value:tt,onChange:et=>nt(et.target.value)}),E.jsx($n,{onClick:()=>{p("maestros",r.id,tt),G(!1),nt("")},className:"w-full",children:"Actualizar"}),E.jsx("button",{onClick:()=>G(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-400",children:"Cerrar"})]})})]}),E.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[E.jsxs("div",{className:"mb-10 text-center md:text-left",children:[E.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),E.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Tu pasin no solo mueve pesas, mueve vidas enteras. Sigue inspirando!"})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[E.jsxs(Dn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[E.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:E.jsx(rN,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1",children:"Disciplina"}),E.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),E.jsxs(Dn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:E.jsx(mT,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1",children:"Impacto"}),E.jsx("p",{className:"text-3xl font-bold text-[#369EAD]",children:"Enseando"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs(Dn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[E.jsx(fT,{size:20})," Asistencia"]}),_&&E.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-bold uppercase",children:[_.day," ",_.time]})]}),E.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:A.length>0?A.map(et=>E.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-serif italic font-bold text-sm",children:et.name}),et.notes&&E.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[E.jsx(dT,{size:12}),E.jsx("p",{className:"text-[10px] italic",children:et.notes})]})]}),E.jsx("button",{onClick:()=>Z(et.id,_.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:E.jsx(hT,{size:18})})]},et.id)):E.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay inscritas"})})]}),E.jsx("div",{className:"lg:col-span-2 space-y-8",children:E.jsxs(Dn,{className:"bg-white",children:[E.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[E.jsx(Eh,{size:20,className:"text-[#369EAD]"})," Horario"]}),E.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.map(et=>E.jsxs("div",{className:"p-10 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[E.jsx("span",{className:"text-xs font-black uppercase text-gray-400",children:et.day}),E.jsx("p",{className:"text-5xl font-bold text-[#1A3A3E] my-2",children:et.time}),E.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase",children:et.type})]},et.id))})]})})]})]})]})};iA.createRoot(document.getElementById("root")).render(E.jsx(St.StrictMode,{children:E.jsx(KN,{})}));
