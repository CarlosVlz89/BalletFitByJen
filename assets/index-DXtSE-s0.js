(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Id={exports:{}},vl={};var O_;function A1(){if(O_)return vl;O_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return vl.Fragment=t,vl.jsx=i,vl.jsxs=i,vl}var x_;function S1(){return x_||(x_=1,Id.exports=A1()),Id.exports}var j=S1(),Nd={exports:{}},At={};var M_;function b1(){if(M_)return At;M_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function H(O){return O===null||typeof O!="object"?null:(O=x&&O[x]||O["@@iterator"],typeof O=="function"?O:null)}var J={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,$={};function ft(O,Y,it){this.props=O,this.context=Y,this.refs=$,this.updater=it||J}ft.prototype.isReactComponent={},ft.prototype.setState=function(O,Y){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,Y,"setState")},ft.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function yt(){}yt.prototype=ft.prototype;function ot(O,Y,it){this.props=O,this.context=Y,this.refs=$,this.updater=it||J}var Tt=ot.prototype=new yt;Tt.constructor=ot,et(Tt,ft.prototype),Tt.isPureReactComponent=!0;var W=Array.isArray;function st(){}var w={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function R(O,Y,it){var at=it.ref;return{$$typeof:r,type:O,key:Y,ref:at!==void 0?at:null,props:it}}function M(O,Y){return R(O.type,Y,O.props)}function D(O){return typeof O=="object"&&O!==null&&O.$$typeof===r}function k(O){var Y={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(it){return Y[it]})}var C=/\/+/g;function ie(O,Y){return typeof O=="object"&&O!==null&&O.key!=null?k(""+O.key):Y.toString(36)}function Ie(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(st,st):(O.status="pending",O.then(function(Y){O.status==="pending"&&(O.status="fulfilled",O.value=Y)},function(Y){O.status==="pending"&&(O.status="rejected",O.reason=Y)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function G(O,Y,it,at,vt){var Rt=typeof O;(Rt==="undefined"||Rt==="boolean")&&(O=null);var Ut=!1;if(O===null)Ut=!0;else switch(Rt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(O.$$typeof){case r:case t:Ut=!0;break;case A:return Ut=O._init,G(Ut(O._payload),Y,it,at,vt)}}if(Ut)return vt=vt(O),Ut=at===""?"."+ie(O,0):at,W(vt)?(it="",Ut!=null&&(it=Ut.replace(C,"$&/")+"/"),G(vt,Y,it,"",function(ar){return ar})):vt!=null&&(D(vt)&&(vt=M(vt,it+(vt.key==null||O&&O.key===vt.key?"":(""+vt.key).replace(C,"$&/")+"/")+Ut)),Y.push(vt)),1;Ut=0;var Ne=at===""?".":at+":";if(W(O))for(var se=0;se<O.length;se++)at=O[se],Rt=Ne+ie(at,se),Ut+=G(at,Y,it,Rt,vt);else if(se=H(O),typeof se=="function")for(O=se.call(O),se=0;!(at=O.next()).done;)at=at.value,Rt=Ne+ie(at,se++),Ut+=G(at,Y,it,Rt,vt);else if(Rt==="object"){if(typeof O.then=="function")return G(Ie(O),Y,it,at,vt);throw Y=String(O),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(O,Y,it){if(O==null)return O;var at=[],vt=0;return G(O,at,"","",function(Rt){return Y.call(it,Rt,vt++)}),at}function dt(O){if(O._status===-1){var Y=O._result;Y=Y(),Y.then(function(it){(O._status===0||O._status===-1)&&(O._status=1,O._result=it)},function(it){(O._status===0||O._status===-1)&&(O._status=2,O._result=it)}),O._status===-1&&(O._status=0,O._result=Y)}if(O._status===1)return O._result.default;throw O._result}var Pt=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)},Ft={map:nt,forEach:function(O,Y,it){nt(O,function(){Y.apply(this,arguments)},it)},count:function(O){var Y=0;return nt(O,function(){Y++}),Y},toArray:function(O){return nt(O,function(Y){return Y})||[]},only:function(O){if(!D(O))throw Error("React.Children.only expected to receive a single React element child.");return O}};return At.Activity=b,At.Children=Ft,At.Component=ft,At.Fragment=i,At.Profiler=l,At.PureComponent=ot,At.StrictMode=a,At.Suspense=_,At.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,At.__COMPILER_RUNTIME={__proto__:null,c:function(O){return w.H.useMemoCache(O)}},At.cache=function(O){return function(){return O.apply(null,arguments)}},At.cacheSignal=function(){return null},At.cloneElement=function(O,Y,it){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var at=et({},O.props),vt=O.key;if(Y!=null)for(Rt in Y.key!==void 0&&(vt=""+Y.key),Y)!S.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(at[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)at.children=it;else if(1<Rt){for(var Ut=Array(Rt),Ne=0;Ne<Rt;Ne++)Ut[Ne]=arguments[Ne+2];at.children=Ut}return R(O.type,vt,at)},At.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},At.createElement=function(O,Y,it){var at,vt={},Rt=null;if(Y!=null)for(at in Y.key!==void 0&&(Rt=""+Y.key),Y)S.call(Y,at)&&at!=="key"&&at!=="__self"&&at!=="__source"&&(vt[at]=Y[at]);var Ut=arguments.length-2;if(Ut===1)vt.children=it;else if(1<Ut){for(var Ne=Array(Ut),se=0;se<Ut;se++)Ne[se]=arguments[se+2];vt.children=Ne}if(O&&O.defaultProps)for(at in Ut=O.defaultProps,Ut)vt[at]===void 0&&(vt[at]=Ut[at]);return R(O,Rt,vt)},At.createRef=function(){return{current:null}},At.forwardRef=function(O){return{$$typeof:p,render:O}},At.isValidElement=D,At.lazy=function(O){return{$$typeof:A,_payload:{_status:-1,_result:O},_init:dt}},At.memo=function(O,Y){return{$$typeof:y,type:O,compare:Y===void 0?null:Y}},At.startTransition=function(O){var Y=w.T,it={};w.T=it;try{var at=O(),vt=w.S;vt!==null&&vt(it,at),typeof at=="object"&&at!==null&&typeof at.then=="function"&&at.then(st,Pt)}catch(Rt){Pt(Rt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),w.T=Y}},At.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},At.use=function(O){return w.H.use(O)},At.useActionState=function(O,Y,it){return w.H.useActionState(O,Y,it)},At.useCallback=function(O,Y){return w.H.useCallback(O,Y)},At.useContext=function(O){return w.H.useContext(O)},At.useDebugValue=function(){},At.useDeferredValue=function(O,Y){return w.H.useDeferredValue(O,Y)},At.useEffect=function(O,Y){return w.H.useEffect(O,Y)},At.useEffectEvent=function(O){return w.H.useEffectEvent(O)},At.useId=function(){return w.H.useId()},At.useImperativeHandle=function(O,Y,it){return w.H.useImperativeHandle(O,Y,it)},At.useInsertionEffect=function(O,Y){return w.H.useInsertionEffect(O,Y)},At.useLayoutEffect=function(O,Y){return w.H.useLayoutEffect(O,Y)},At.useMemo=function(O,Y){return w.H.useMemo(O,Y)},At.useOptimistic=function(O,Y){return w.H.useOptimistic(O,Y)},At.useReducer=function(O,Y,it){return w.H.useReducer(O,Y,it)},At.useRef=function(O){return w.H.useRef(O)},At.useState=function(O){return w.H.useState(O)},At.useSyncExternalStore=function(O,Y,it){return w.H.useSyncExternalStore(O,Y,it)},At.useTransition=function(){return w.H.useTransition()},At.version="19.2.3",At}var V_;function Em(){return V_||(V_=1,Nd.exports=b1()),Nd.exports}var ce=Em(),Dd={exports:{}},El={},Od={exports:{}},xd={};var k_;function w1(){return k_||(k_=1,(function(r){function t(G,nt){var dt=G.length;G.push(nt);t:for(;0<dt;){var Pt=dt-1>>>1,Ft=G[Pt];if(0<l(Ft,nt))G[Pt]=nt,G[dt]=Ft,dt=Pt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var nt=G[0],dt=G.pop();if(dt!==nt){G[0]=dt;t:for(var Pt=0,Ft=G.length,O=Ft>>>1;Pt<O;){var Y=2*(Pt+1)-1,it=G[Y],at=Y+1,vt=G[at];if(0>l(it,dt))at<Ft&&0>l(vt,it)?(G[Pt]=vt,G[at]=dt,Pt=at):(G[Pt]=it,G[Y]=dt,Pt=Y);else if(at<Ft&&0>l(vt,dt))G[Pt]=vt,G[at]=dt,Pt=at;else break t}}return nt}function l(G,nt){var dt=G.sortIndex-nt.sortIndex;return dt!==0?dt:G.id-nt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var _=[],y=[],A=1,b=null,x=3,H=!1,J=!1,et=!1,$=!1,ft=typeof setTimeout=="function"?setTimeout:null,yt=typeof clearTimeout=="function"?clearTimeout:null,ot=typeof setImmediate<"u"?setImmediate:null;function Tt(G){for(var nt=i(y);nt!==null;){if(nt.callback===null)a(y);else if(nt.startTime<=G)a(y),nt.sortIndex=nt.expirationTime,t(_,nt);else break;nt=i(y)}}function W(G){if(et=!1,Tt(G),!J)if(i(_)!==null)J=!0,st||(st=!0,k());else{var nt=i(y);nt!==null&&Ie(W,nt.startTime-G)}}var st=!1,w=-1,S=5,R=-1;function M(){return $?!0:!(r.unstable_now()-R<S)}function D(){if($=!1,st){var G=r.unstable_now();R=G;var nt=!0;try{t:{J=!1,et&&(et=!1,yt(w),w=-1),H=!0;var dt=x;try{e:{for(Tt(G),b=i(_);b!==null&&!(b.expirationTime>G&&M());){var Pt=b.callback;if(typeof Pt=="function"){b.callback=null,x=b.priorityLevel;var Ft=Pt(b.expirationTime<=G);if(G=r.unstable_now(),typeof Ft=="function"){b.callback=Ft,Tt(G),nt=!0;break e}b===i(_)&&a(_),Tt(G)}else a(_);b=i(_)}if(b!==null)nt=!0;else{var O=i(y);O!==null&&Ie(W,O.startTime-G),nt=!1}}break t}finally{b=null,x=dt,H=!1}nt=void 0}}finally{nt?k():st=!1}}}var k;if(typeof ot=="function")k=function(){ot(D)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ie=C.port2;C.port1.onmessage=D,k=function(){ie.postMessage(null)}}else k=function(){ft(D,0)};function Ie(G,nt){w=ft(function(){G(r.unstable_now())},nt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(G){switch(x){case 1:case 2:case 3:var nt=3;break;default:nt=x}var dt=x;x=nt;try{return G()}finally{x=dt}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var dt=x;x=G;try{return nt()}finally{x=dt}},r.unstable_scheduleCallback=function(G,nt,dt){var Pt=r.unstable_now();switch(typeof dt=="object"&&dt!==null?(dt=dt.delay,dt=typeof dt=="number"&&0<dt?Pt+dt:Pt):dt=Pt,G){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=dt+Ft,G={id:A++,callback:nt,priorityLevel:G,startTime:dt,expirationTime:Ft,sortIndex:-1},dt>Pt?(G.sortIndex=dt,t(y,G),i(_)===null&&G===i(y)&&(et?(yt(w),w=-1):et=!0,Ie(W,dt-Pt))):(G.sortIndex=Ft,t(_,G),J||H||(J=!0,st||(st=!0,k()))),G},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(G){var nt=x;return function(){var dt=x;x=nt;try{return G.apply(this,arguments)}finally{x=dt}}}})(xd)),xd}var U_;function R1(){return U_||(U_=1,Od.exports=w1()),Od.exports}var Md={exports:{}},Ke={};var L_;function C1(){if(L_)return Ke;L_=1;var r=Em();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:b==null?null:""+b,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,Ke.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},Ke.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},Ke.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},Ke.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},Ke.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,H=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:H}):A==="script"&&a.d.X(_,{crossOrigin:b,integrity:x,fetchPriority:H,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Ke.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=p(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},Ke.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,b=p(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Ke.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=p(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},Ke.requestFormReset=function(_){a.d.r(_)},Ke.unstable_batchedUpdates=function(_,y){return _(y)},Ke.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},Ke.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ke.version="19.2.3",Ke}var P_;function I1(){if(P_)return Md.exports;P_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Md.exports=C1(),Md.exports}var z_;function N1(){if(z_)return El;z_=1;var r=R1(),t=Em(),i=I1();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),J=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),yt=Symbol.for("react.consumer"),ot=Symbol.for("react.context"),Tt=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),st=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var C=Symbol.for("react.client.reference");function ie(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===C?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case ft:return"Profiler";case $:return"StrictMode";case W:return"Suspense";case st:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case J:return"Portal";case ot:return e.displayName||"Context";case yt:return(e._context.displayName||"Context")+".Consumer";case Tt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case w:return n=e.displayName||null,n!==null?n:ie(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return ie(e(n))}catch{}}return null}var Ie=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,dt={pending:!1,data:null,method:null,action:null},Pt=[],Ft=-1;function O(e){return{current:e}}function Y(e){0>Ft||(e.current=Pt[Ft],Pt[Ft]=null,Ft--)}function it(e,n){Ft++,Pt[Ft]=e.current,e.current=n}var at=O(null),vt=O(null),Rt=O(null),Ut=O(null);function Ne(e,n){switch(it(Rt,n),it(vt,e),it(at,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?t_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=t_(n),e=e_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(at),it(at,e)}function se(){Y(at),Y(vt),Y(Rt)}function ar(e){e.memoizedState!==null&&it(Ut,e);var n=at.current,s=e_(n,e.type);n!==s&&(it(vt,e),it(at,s))}function Zr(e){vt.current===e&&(Y(at),Y(vt)),Ut.current===e&&(Y(Ut),gl._currentValue=dt)}var Jr,$r;function Wn(e){if(Jr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Jr=n&&n[1]||"",$r=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Jr+e+$r}var go=!1;function or(e,n){if(!e||go)return"";go=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var z=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){z=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){z=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&z&&typeof q.stack=="string")return[q.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var I=g.split(`
`),P=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===P.length)for(o=I.length-1,h=P.length-1;1<=o&&0<=h&&I[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==P[h]){var F=`
`+I[o].replace(" at new "," at ");return e.displayName&&F.includes("<anonymous>")&&(F=F.replace("<anonymous>",e.displayName)),F}while(1<=o&&0<=h);break}}}finally{go=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?Wn(s):""}function po(e,n){switch(e.tag){case 26:case 27:case 5:return Wn(e.type);case 16:return Wn("Lazy");case 13:return e.child!==n&&n!==null?Wn("Suspense Fallback"):Wn("Suspense");case 19:return Wn("SuspenseList");case 0:case 15:return or(e.type,!1);case 11:return or(e.type.render,!1);case 1:return or(e.type,!0);case 31:return Wn("Activity");default:return""}}function yo(e){try{var n="",s=null;do n+=po(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ye=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,rs=r.unstable_cancelCallback,Nh=r.unstable_shouldYield,Xl=r.unstable_requestPaint,$e=r.unstable_now,lr=r.unstable_getCurrentPriorityLevel,_o=r.unstable_ImmediatePriority,vo=r.unstable_UserBlockingPriority,as=r.unstable_NormalPriority,Dh=r.unstable_LowPriority,Zl=r.unstable_IdlePriority,Jl=r.log,$l=r.unstable_setDisableYieldValue,Ln=null,Pe=null;function Sn(e){if(typeof Jl=="function"&&$l(e),Pe&&typeof Pe.setStrictMode=="function")try{Pe.setStrictMode(Ln,e)}catch{}}var he=Math.clz32?Math.clz32:tu,Wl=Math.log,Wr=Math.LN2;function tu(e){return e>>>=0,e===0?32:31-(Wl(e)/Wr|0)|0}var ti=256,ur=262144,_e=4194304;function ei(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ni(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ei(o):(g&=E,g!==0?h=ei(g):s||(s=E&~e,s!==0&&(h=ei(s))))):(E=o&~f,E!==0?h=ei(E):g!==0?h=ei(g):s||(s=o&~e,s!==0&&(h=ei(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Pn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eu(){var e=_e;return _e<<=1,(_e&62914560)===0&&(_e=4194304),e}function ii(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function cr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function xh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var F=31-he(s),K=1<<F;E[F]=0,I[F]=-1;var z=P[F];if(z!==null)for(P[F]=null,F=0;F<z.length;F++){var q=z[F];q!==null&&(q.lane&=-536870913)}s&=~K}o!==0&&hr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function hr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-he(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Eo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-he(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function To(e,n){var s=n&-n;return s=(s&42)!==0?1:fr(s),(s&(e.suspendedLanes|n))!==0?0:s}function fr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function nu(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:b_(e.type))}function zn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var jn=Math.random().toString(36).slice(2),ve="__reactFiber$"+jn,Ve="__reactProps$"+jn,si="__reactContainer$"+jn,ta="__reactEvents$"+jn,Mh="__reactListeners$"+jn,iu="__reactHandles$"+jn,su="__reactResources$"+jn,ri="__reactMarker$"+jn;function ea(e){delete e[ve],delete e[Ve],delete e[ta],delete e[Mh],delete e[iu]}function ai(e){var n=e[ve];if(n)return n;for(var s=e.parentNode;s;){if(n=s[si]||s[ve]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=l_(e);e!==null;){if(s=e[ve])return s;e=l_(e)}return n}e=s,s=e.parentNode}return null}function bn(e){if(e=e[ve]||e[si]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function dn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function oi(e){var n=e[su];return n||(n=e[su]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ee(e){e[ri]=!0}var Ao=new Set,So={};function li(e,n){ui(e,n),ui(e+"Capture",n)}function ui(e,n){for(So[e]=n,e=0;e<n.length;e++)Ao.add(n[e])}var bo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wo={},Ro={};function ru(e){return ye.call(Ro,e)?!0:ye.call(wo,e)?!1:bo.test(e)?Ro[e]=!0:(wo[e]=!0,!1)}function na(e,n,s){if(ru(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function mn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Te(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function ke(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function os(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Co(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=os(e)?"checked":"value";e._valueTracker=Co(e,n,""+e[n])}}function dr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=os(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function ci(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var mr=/[\n"\\]/g;function nn(e){return e.replace(mr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ia(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+ke(n)):e.value!==""+ke(n)&&(e.value=""+ke(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Io(e,g,ke(n)):s!=null?Io(e,g,ke(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+ke(E):e.removeAttribute("name")}function au(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+ke(s):"",n=n!=null?""+ke(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Gt(e)}function Io(e,n,s){n==="number"&&ci(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ls(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+ke(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function ou(e,n,s){if(n!=null&&(n=""+ke(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+ke(s):""}function us(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Ie(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=ke(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function sn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function No(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||lu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Do(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&No(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&No(e,f,n[f])}function sa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),cs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ra(e){return cs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Bn(){}var Oo=null;function wn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var hs=null,hi=null;function gr(e){var n=bn(e);if(n&&(e=n.stateNode)){var s=e[Ve]||null;t:switch(e=n.stateNode,n.type){case"input":if(ia(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+nn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ve]||null;if(!h)throw Error(a(90));ia(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&dr(o)}break t;case"textarea":ou(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ls(e,!!s.multiple,n,!1)}}}var aa=!1;function fs(e,n,s){if(aa)return e(n,s);aa=!0;try{var o=e(n);return o}finally{if(aa=!1,(hs!==null||hi!==null)&&(nc(),hs&&(n=hs,e=hi,hi=hs=null,gr(n),e)))for(n=0;n<e.length;n++)gr(e[n])}}function qn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ve]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pr=!1;if(Rn)try{var Yt={};Object.defineProperty(Yt,"passive",{get:function(){pr=!0}}),window.addEventListener("test",Yt,Yt),window.removeEventListener("test",Yt,Yt)}catch{pr=!1}var fi=null,xo=null,yr=null;function Mo(){if(yr)return yr;var e,n=xo,s=n.length,o,h="value"in fi?fi.value:fi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return yr=h.slice(e,1<o?1-o:void 0)}function _r(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function xi(){return!0}function Hn(){return!1}function ze(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?xi:Hn,this.isPropagationStopped=Hn,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=xi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=xi)},persist:function(){},isPersistent:xi}),n}var Mi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},di=ze(Mi),ds=b({},Mi,{view:0,detail:0}),Vo=ze(ds),ms,oa,mi,la=b({},ds,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==mi&&(mi&&e.type==="mousemove"?(ms=e.screenX-mi.screenX,oa=e.screenY-mi.screenY):oa=ms=0,mi=e),ms)},movementY:function(e){return"movementY"in e?e.movementY:oa}}),ko=ze(la),vr=b({},la,{dataTransfer:0}),cu=ze(vr),hu=b({},ds,{relatedTarget:0}),Er=ze(hu),Uo=b({},Mi,{animationName:0,elapsedTime:0,pseudoElement:0}),fu=ze(Uo),ua=b({},Mi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),du=ze(ua),mu=b({},Mi,{data:0}),gi=ze(mu),gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},pu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function _u(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=yu[e])?!!n[e]:!1}function gs(){return _u}var We=b({},ds,{key:function(e){if(e.key){var n=gu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=_r(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?pu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gs,charCode:function(e){return e.type==="keypress"?_r(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?_r(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),vu=ze(We),Eu=b({},la,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vi=ze(Eu),u=b({},ds,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gs}),m=ze(u),v=b({},Mi,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),U=b({},la,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),B=ze(U),tt=b({},Mi,{newState:0,oldState:0}),bt=ze(tt),fe=[9,13,27,32],Bt=Rn&&"CompositionEvent"in window,re=null;Rn&&"documentMode"in document&&(re=document.documentMode);var Cn=Rn&&"TextEvent"in window&&!re,pi=Rn&&(!Bt||re&&8<re&&11>=re),Fn=" ",Gn=!1;function Tr(e,n){switch(e){case"keyup":return fe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ca(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ha=!1;function QT(e,n){switch(e){case"compositionend":return ca(n);case"keypress":return n.which!==32?null:(Gn=!0,Fn);case"textInput":return e=n.data,e===Fn&&Gn?null:e;default:return null}}function KT(e,n){if(ha)return e==="compositionend"||!Bt&&Tr(e,n)?(e=Mo(),yr=xo=fi=null,ha=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return pi&&n.locale!=="ko"?null:n.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!YT[e.type]:n==="textarea"}function fg(e,n,s,o){hs?hi?hi.push(o):hi=[o]:hs=o,n=uc(n,"onChange"),0<n.length&&(s=new di("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Lo=null,Po=null;function XT(e){Yy(e,0)}function Tu(e){var n=dn(e);if(dr(n))return e}function dg(e,n){if(e==="change")return n}var mg=!1;if(Rn){var Vh;if(Rn){var kh="oninput"in document;if(!kh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),kh=typeof gg.oninput=="function"}Vh=kh}else Vh=!1;mg=Vh&&(!document.documentMode||9<document.documentMode)}function pg(){Lo&&(Lo.detachEvent("onpropertychange",yg),Po=Lo=null)}function yg(e){if(e.propertyName==="value"&&Tu(Po)){var n=[];fg(n,Po,e,wn(e)),fs(XT,n)}}function ZT(e,n,s){e==="focusin"?(pg(),Lo=n,Po=s,Lo.attachEvent("onpropertychange",yg)):e==="focusout"&&pg()}function JT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Tu(Po)}function $T(e,n){if(e==="click")return Tu(n)}function WT(e,n){if(e==="input"||e==="change")return Tu(n)}function tA(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:tA;function zo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ye.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function vg(e,n){var s=_g(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=_g(s)}}function Eg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Eg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Tg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=ci(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=ci(e.document)}return n}function Uh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var eA=Rn&&"documentMode"in document&&11>=document.documentMode,fa=null,Lh=null,jo=null,Ph=!1;function Ag(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Ph||fa==null||fa!==ci(o)||(o=fa,"selectionStart"in o&&Uh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),jo&&zo(jo,o)||(jo=o,o=uc(Lh,"onSelect"),0<o.length&&(n=new di("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=fa)))}function Ar(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var da={animationend:Ar("Animation","AnimationEnd"),animationiteration:Ar("Animation","AnimationIteration"),animationstart:Ar("Animation","AnimationStart"),transitionrun:Ar("Transition","TransitionRun"),transitionstart:Ar("Transition","TransitionStart"),transitioncancel:Ar("Transition","TransitionCancel"),transitionend:Ar("Transition","TransitionEnd")},zh={},Sg={};Rn&&(Sg=document.createElement("div").style,"AnimationEvent"in window||(delete da.animationend.animation,delete da.animationiteration.animation,delete da.animationstart.animation),"TransitionEvent"in window||delete da.transitionend.transition);function Sr(e){if(zh[e])return zh[e];if(!da[e])return e;var n=da[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Sg)return zh[e]=n[s];return e}var bg=Sr("animationend"),wg=Sr("animationiteration"),Rg=Sr("animationstart"),nA=Sr("transitionrun"),iA=Sr("transitionstart"),sA=Sr("transitioncancel"),Cg=Sr("transitionend"),Ig=new Map,jh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jh.push("scrollEnd");function Qn(e,n){Ig.set(e,n),li(n,[e])}var Au=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},In=[],ma=0,Bh=0;function Su(){for(var e=ma,n=Bh=ma=0;n<e;){var s=In[n];In[n++]=null;var o=In[n];In[n++]=null;var h=In[n];In[n++]=null;var f=In[n];if(In[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&Ng(s,h,f)}}function bu(e,n,s,o){In[ma++]=e,In[ma++]=n,In[ma++]=s,In[ma++]=o,Bh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function qh(e,n,s,o){return bu(e,n,s,o),wu(e)}function br(e,n){return bu(e,null,null,n),wu(e)}function Ng(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-he(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function wu(e){if(50<ll)throw ll=0,$f=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ga={};function rA(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pn(e,n,s,o){return new rA(e,n,s,o)}function Hh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ki(e,n){var s=e.alternate;return s===null?(s=pn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Dg(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Ru(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")Hh(e)&&(g=1);else if(typeof e=="string")g=c1(e,s,at.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=pn(31,s,n,h),e.elementType=R,e.lanes=f,e;case et:return wr(s.children,h,f,n);case $:g=8,h|=24;break;case ft:return e=pn(12,s,n,h|2),e.elementType=ft,e.lanes=f,e;case W:return e=pn(13,s,n,h),e.elementType=W,e.lanes=f,e;case st:return e=pn(19,s,n,h),e.elementType=st,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ot:g=10;break t;case yt:g=9;break t;case Tt:g=11;break t;case w:g=14;break t;case S:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=pn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function wr(e,n,s,o){return e=pn(7,e,o,n),e.lanes=s,e}function Fh(e,n,s){return e=pn(6,e,null,n),e.lanes=s,e}function Og(e){var n=pn(18,null,null,0);return n.stateNode=e,n}function Gh(e,n,s){return n=pn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var xg=new WeakMap;function Nn(e,n){if(typeof e=="object"&&e!==null){var s=xg.get(e);return s!==void 0?s:(n={value:e,source:n,stack:yo(n)},xg.set(e,n),n)}return{value:e,source:n,stack:yo(n)}}var pa=[],ya=0,Cu=null,Bo=0,Dn=[],On=0,ps=null,yi=1,_i="";function Ui(e,n){pa[ya++]=Bo,pa[ya++]=Cu,Cu=e,Bo=n}function Mg(e,n,s){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=ps,ps=e;var o=yi;e=_i;var h=32-he(o)-1;o&=~(1<<h),s+=1;var f=32-he(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,yi=1<<32-he(n)+h|s<<h|o,_i=f+e}else yi=1<<f|s<<h|o,_i=e}function Qh(e){e.return!==null&&(Ui(e,1),Mg(e,1,0))}function Kh(e){for(;e===Cu;)Cu=pa[--ya],pa[ya]=null,Bo=pa[--ya],pa[ya]=null;for(;e===ps;)ps=Dn[--On],Dn[On]=null,_i=Dn[--On],Dn[On]=null,yi=Dn[--On],Dn[On]=null}function Vg(e,n){Dn[On++]=yi,Dn[On++]=_i,Dn[On++]=ps,yi=n.id,_i=n.overflow,ps=e}var je=null,Wt=null,kt=!1,ys=null,xn=!1,Yh=Error(a(519));function _s(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qo(Nn(n,e)),Yh}function kg(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[ve]=e,n[Ve]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<cl.length;s++)Nt(cl[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),au(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),us(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||$y(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Bn),n=!0):n=!1,n||_s(e,!0)}function Ug(e){for(je=e.return;je;)switch(je.tag){case 5:case 31:case 13:xn=!1;return;case 27:case 3:xn=!0;return;default:je=je.return}}function _a(e){if(e!==je)return!1;if(!kt)return Ug(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||dd(e.type,e.memoizedProps)),s=!s),s&&Wt&&_s(e),Ug(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=o_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Wt=o_(e)}else n===27?(n=Wt,xs(e.type)?(e=_d,_d=null,Wt=e):Wt=n):Wt=je?Vn(e.stateNode.nextSibling):null;return!0}function Rr(){Wt=je=null,kt=!1}function Xh(){var e=ys;return e!==null&&(ln===null?ln=e:ln.push.apply(ln,e),ys=null),e}function qo(e){ys===null?ys=[e]:ys.push(e)}var Zh=O(null),Cr=null,Li=null;function vs(e,n,s){it(Zh,n._currentValue),n._currentValue=s}function Pi(e){e._currentValue=Zh.current,Y(Zh)}function Jh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function $h(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Jh(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),Jh(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function va(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;gn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(gl):e=[gl])}h=h.return}e!==null&&$h(n,e,s,o),n.flags|=262144}function Iu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ir(e){Cr=e,Li=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return Lg(Cr,e)}function Nu(e,n){return Cr===null&&Ir(e),Lg(e,n)}function Lg(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Li===null){if(e===null)throw Error(a(308));Li=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Li=Li.next=n;return s}var aA=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},oA=r.unstable_scheduleCallback,lA=r.unstable_NormalPriority,Ae={$$typeof:ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wh(){return{controller:new aA,data:new Map,refCount:0}}function Ho(e){e.refCount--,e.refCount===0&&oA(lA,function(){e.controller.abort()})}var Fo=null,tf=0,Ea=0,Ta=null;function uA(e,n){if(Fo===null){var s=Fo=[];tf=0,Ea=sd(),Ta={status:"pending",value:void 0,then:function(o){s.push(o)}}}return tf++,n.then(Pg,Pg),n}function Pg(){if(--tf===0&&Fo!==null){Ta!==null&&(Ta.status="fulfilled");var e=Fo;Fo=null,Ea=0,Ta=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function cA(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var zg=G.S;G.S=function(e,n){Ay=$e(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&uA(e,n),zg!==null&&zg(e,n)};var Nr=O(null);function ef(){var e=Nr.current;return e!==null?e:$t.pooledCache}function Du(e,n){n===null?it(Nr,Nr.current):it(Nr,n.pool)}function jg(){var e=ef();return e===null?null:{parent:Ae._currentValue,pool:e}}var Aa=Error(a(460)),nf=Error(a(474)),Ou=Error(a(542)),xu={then:function(){}};function Bg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function qg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Bn,Bn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e;default:if(typeof n.status=="string")n.then(Bn,Bn);else{if(e=$t,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Fg(e),e}throw Or=n,Aa}}function Dr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Or=s,Aa):s}}var Or=null;function Hg(){if(Or===null)throw Error(a(459));var e=Or;return Or=null,e}function Fg(e){if(e===Aa||e===Ou)throw Error(a(483))}var Sa=null,Go=0;function Mu(e){var n=Go;return Go+=1,Sa===null&&(Sa=[]),qg(Sa,e,n)}function Qo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Vu(e,n){throw n.$$typeof===x?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Gg(e){function n(V,N){if(e){var L=V.deletions;L===null?(V.deletions=[N],V.flags|=16):L.push(N)}}function s(V,N){if(!e)return null;for(;N!==null;)n(V,N),N=N.sibling;return null}function o(V){for(var N=new Map;V!==null;)V.key!==null?N.set(V.key,V):N.set(V.index,V),V=V.sibling;return N}function h(V,N){return V=ki(V,N),V.index=0,V.sibling=null,V}function f(V,N,L){return V.index=L,e?(L=V.alternate,L!==null?(L=L.index,L<N?(V.flags|=67108866,N):L):(V.flags|=67108866,N)):(V.flags|=1048576,N)}function g(V){return e&&V.alternate===null&&(V.flags|=67108866),V}function E(V,N,L,Q){return N===null||N.tag!==6?(N=Fh(L,V.mode,Q),N.return=V,N):(N=h(N,L),N.return=V,N)}function I(V,N,L,Q){var ht=L.type;return ht===et?F(V,N,L.props.children,Q,L.key):N!==null&&(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Dr(ht)===N.type)?(N=h(N,L.props),Qo(N,L),N.return=V,N):(N=Ru(L.type,L.key,L.props,null,V.mode,Q),Qo(N,L),N.return=V,N)}function P(V,N,L,Q){return N===null||N.tag!==4||N.stateNode.containerInfo!==L.containerInfo||N.stateNode.implementation!==L.implementation?(N=Gh(L,V.mode,Q),N.return=V,N):(N=h(N,L.children||[]),N.return=V,N)}function F(V,N,L,Q,ht){return N===null||N.tag!==7?(N=wr(L,V.mode,Q,ht),N.return=V,N):(N=h(N,L),N.return=V,N)}function K(V,N,L){if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return N=Fh(""+N,V.mode,L),N.return=V,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case H:return L=Ru(N.type,N.key,N.props,null,V.mode,L),Qo(L,N),L.return=V,L;case J:return N=Gh(N,V.mode,L),N.return=V,N;case S:return N=Dr(N),K(V,N,L)}if(Ie(N)||k(N))return N=wr(N,V.mode,L,null),N.return=V,N;if(typeof N.then=="function")return K(V,Mu(N),L);if(N.$$typeof===ot)return K(V,Nu(V,N),L);Vu(V,N)}return null}function z(V,N,L,Q){var ht=N!==null?N.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ht!==null?null:E(V,N,""+L,Q);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case H:return L.key===ht?I(V,N,L,Q):null;case J:return L.key===ht?P(V,N,L,Q):null;case S:return L=Dr(L),z(V,N,L,Q)}if(Ie(L)||k(L))return ht!==null?null:F(V,N,L,Q,null);if(typeof L.then=="function")return z(V,N,Mu(L),Q);if(L.$$typeof===ot)return z(V,N,Nu(V,L),Q);Vu(V,L)}return null}function q(V,N,L,Q,ht){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return V=V.get(L)||null,E(N,V,""+Q,ht);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case H:return V=V.get(Q.key===null?L:Q.key)||null,I(N,V,Q,ht);case J:return V=V.get(Q.key===null?L:Q.key)||null,P(N,V,Q,ht);case S:return Q=Dr(Q),q(V,N,L,Q,ht)}if(Ie(Q)||k(Q))return V=V.get(L)||null,F(N,V,Q,ht,null);if(typeof Q.then=="function")return q(V,N,L,Mu(Q),ht);if(Q.$$typeof===ot)return q(V,N,L,Nu(N,Q),ht);Vu(N,Q)}return null}function lt(V,N,L,Q){for(var ht=null,zt=null,ut=N,Ct=N=0,Ot=null;ut!==null&&Ct<L.length;Ct++){ut.index>Ct?(Ot=ut,ut=null):Ot=ut.sibling;var jt=z(V,ut,L[Ct],Q);if(jt===null){ut===null&&(ut=Ot);break}e&&ut&&jt.alternate===null&&n(V,ut),N=f(jt,N,Ct),zt===null?ht=jt:zt.sibling=jt,zt=jt,ut=Ot}if(Ct===L.length)return s(V,ut),kt&&Ui(V,Ct),ht;if(ut===null){for(;Ct<L.length;Ct++)ut=K(V,L[Ct],Q),ut!==null&&(N=f(ut,N,Ct),zt===null?ht=ut:zt.sibling=ut,zt=ut);return kt&&Ui(V,Ct),ht}for(ut=o(ut);Ct<L.length;Ct++)Ot=q(ut,V,Ct,L[Ct],Q),Ot!==null&&(e&&Ot.alternate!==null&&ut.delete(Ot.key===null?Ct:Ot.key),N=f(Ot,N,Ct),zt===null?ht=Ot:zt.sibling=Ot,zt=Ot);return e&&ut.forEach(function(Ls){return n(V,Ls)}),kt&&Ui(V,Ct),ht}function gt(V,N,L,Q){if(L==null)throw Error(a(151));for(var ht=null,zt=null,ut=N,Ct=N=0,Ot=null,jt=L.next();ut!==null&&!jt.done;Ct++,jt=L.next()){ut.index>Ct?(Ot=ut,ut=null):Ot=ut.sibling;var Ls=z(V,ut,jt.value,Q);if(Ls===null){ut===null&&(ut=Ot);break}e&&ut&&Ls.alternate===null&&n(V,ut),N=f(Ls,N,Ct),zt===null?ht=Ls:zt.sibling=Ls,zt=Ls,ut=Ot}if(jt.done)return s(V,ut),kt&&Ui(V,Ct),ht;if(ut===null){for(;!jt.done;Ct++,jt=L.next())jt=K(V,jt.value,Q),jt!==null&&(N=f(jt,N,Ct),zt===null?ht=jt:zt.sibling=jt,zt=jt);return kt&&Ui(V,Ct),ht}for(ut=o(ut);!jt.done;Ct++,jt=L.next())jt=q(ut,V,Ct,jt.value,Q),jt!==null&&(e&&jt.alternate!==null&&ut.delete(jt.key===null?Ct:jt.key),N=f(jt,N,Ct),zt===null?ht=jt:zt.sibling=jt,zt=jt);return e&&ut.forEach(function(T1){return n(V,T1)}),kt&&Ui(V,Ct),ht}function Jt(V,N,L,Q){if(typeof L=="object"&&L!==null&&L.type===et&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case H:t:{for(var ht=L.key;N!==null;){if(N.key===ht){if(ht=L.type,ht===et){if(N.tag===7){s(V,N.sibling),Q=h(N,L.props.children),Q.return=V,V=Q;break t}}else if(N.elementType===ht||typeof ht=="object"&&ht!==null&&ht.$$typeof===S&&Dr(ht)===N.type){s(V,N.sibling),Q=h(N,L.props),Qo(Q,L),Q.return=V,V=Q;break t}s(V,N);break}else n(V,N);N=N.sibling}L.type===et?(Q=wr(L.props.children,V.mode,Q,L.key),Q.return=V,V=Q):(Q=Ru(L.type,L.key,L.props,null,V.mode,Q),Qo(Q,L),Q.return=V,V=Q)}return g(V);case J:t:{for(ht=L.key;N!==null;){if(N.key===ht)if(N.tag===4&&N.stateNode.containerInfo===L.containerInfo&&N.stateNode.implementation===L.implementation){s(V,N.sibling),Q=h(N,L.children||[]),Q.return=V,V=Q;break t}else{s(V,N);break}else n(V,N);N=N.sibling}Q=Gh(L,V.mode,Q),Q.return=V,V=Q}return g(V);case S:return L=Dr(L),Jt(V,N,L,Q)}if(Ie(L))return lt(V,N,L,Q);if(k(L)){if(ht=k(L),typeof ht!="function")throw Error(a(150));return L=ht.call(L),gt(V,N,L,Q)}if(typeof L.then=="function")return Jt(V,N,Mu(L),Q);if(L.$$typeof===ot)return Jt(V,N,Nu(V,L),Q);Vu(V,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,N!==null&&N.tag===6?(s(V,N.sibling),Q=h(N,L),Q.return=V,V=Q):(s(V,N),Q=Fh(L,V.mode,Q),Q.return=V,V=Q),g(V)):s(V,N)}return function(V,N,L,Q){try{Go=0;var ht=Jt(V,N,L,Q);return Sa=null,ht}catch(ut){if(ut===Aa||ut===Ou)throw ut;var zt=pn(29,ut,null,V.mode);return zt.lanes=Q,zt.return=V,zt}}}var xr=Gg(!0),Qg=Gg(!1),Es=!1;function sf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ts(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function As(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(qt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=wu(e),Ng(e,null,s),n}return bu(e,o,n,s),wu(e)}function Ko(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}function af(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var of=!1;function Yo(){if(of){var e=Ta;if(e!==null)throw e}}function Xo(e,n,s,o){of=!1;var h=e.updateQueue;Es=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,P=I.next;I.next=null,g===null?f=P:g.next=P,g=I;var F=e.alternate;F!==null&&(F=F.updateQueue,E=F.lastBaseUpdate,E!==g&&(E===null?F.firstBaseUpdate=P:E.next=P,F.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;g=0,F=P=I=null,E=f;do{var z=E.lane&-536870913,q=z!==E.lane;if(q?(Dt&z)===z:(o&z)===z){z!==0&&z===Ea&&(of=!0),F!==null&&(F=F.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,gt=E;z=n;var Jt=s;switch(gt.tag){case 1:if(lt=gt.payload,typeof lt=="function"){K=lt.call(Jt,K,z);break t}K=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=gt.payload,z=typeof lt=="function"?lt.call(Jt,K,z):lt,z==null)break t;K=b({},K,z);break t;case 2:Es=!0}}z=E.callback,z!==null&&(e.flags|=64,q&&(e.flags|=8192),q=h.callbacks,q===null?h.callbacks=[z]:q.push(z))}else q={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},F===null?(P=F=q,I=K):F=F.next=q,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;q=E,E=q.next,q.next=null,h.lastBaseUpdate=q,h.shared.pending=null}}while(!0);F===null&&(I=K),h.baseState=I,h.firstBaseUpdate=P,h.lastBaseUpdate=F,f===null&&(h.shared.lanes=0),Cs|=g,e.lanes=g,e.memoizedState=K}}function Kg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function Yg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Kg(s[e],n)}var ba=O(null),ku=O(0);function Xg(e,n){e=Ki,it(ku,e),it(ba,n),Ki=e|n.baseLanes}function lf(){it(ku,Ki),it(ba,ba.current)}function uf(){Ki=ku.current,Y(ba),Y(ku)}var yn=O(null),Mn=null;function Ss(e){var n=e.alternate;it(de,de.current&1),it(yn,e),Mn===null&&(n===null||ba.current!==null||n.memoizedState!==null)&&(Mn=e)}function cf(e){it(de,de.current),it(yn,e),Mn===null&&(Mn=e)}function Zg(e){e.tag===22?(it(de,de.current),it(yn,e),Mn===null&&(Mn=e)):bs()}function bs(){it(de,de.current),it(yn,yn.current)}function _n(e){Y(yn),Mn===e&&(Mn=null),Y(de)}var de=O(0);function Uu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||pd(s)||yd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var zi=0,wt=null,Xt=null,Se=null,Lu=!1,wa=!1,Mr=!1,Pu=0,Zo=0,Ra=null,hA=0;function le(){throw Error(a(321))}function hf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function ff(e,n,s,o,h,f){return zi=f,wt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Mp:Cf,Mr=!1,f=s(o,h),Mr=!1,wa&&(f=$g(n,s,o,h)),Jg(e),f}function Jg(e){G.H=Wo;var n=Xt!==null&&Xt.next!==null;if(zi=0,Se=Xt=wt=null,Lu=!1,Zo=0,Ra=null,n)throw Error(a(300));e===null||be||(e=e.dependencies,e!==null&&Iu(e)&&(be=!0))}function $g(e,n,s,o){wt=e;var h=0;do{if(wa&&(Ra=null),Zo=0,wa=!1,25<=h)throw Error(a(301));if(h+=1,Se=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Vp,f=n(s,o)}while(wa);return f}function fA(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?Jo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(wt.flags|=1024),n}function df(){var e=Pu!==0;return Pu=0,e}function mf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function gf(e){if(Lu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Lu=!1}zi=0,Se=Xt=wt=null,wa=!1,Zo=Pu=0,Ra=null}function tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?wt.memoizedState=Se=e:Se=Se.next=e,Se}function me(){if(Xt===null){var e=wt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=Se===null?wt.memoizedState:Se.next;if(n!==null)Se=n,Xt=e;else{if(e===null)throw wt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},Se===null?wt.memoizedState=Se=e:Se=Se.next=e}return Se}function zu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jo(e){var n=Zo;return Zo+=1,Ra===null&&(Ra=[]),e=qg(Ra,e,n),n=wt,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Mp:Cf),e}function ju(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Jo(e);if(e.$$typeof===ot)return Be(e)}throw Error(a(438,String(e)))}function pf(e){var n=null,s=wt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=wt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=zu(),wt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=M;return n.index++,s}function ji(e,n){return typeof n=="function"?n(e):n}function Bu(e){var n=me();return yf(n,Xt,e)}function yf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,I=null,P=n,F=!1;do{var K=P.lane&-536870913;if(K!==P.lane?(Dt&K)===K:(zi&K)===K){var z=P.revertLane;if(z===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),K===Ea&&(F=!0);else if((zi&z)===z){P=P.next,z===Ea&&(F=!0);continue}else K={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=K,g=f):I=I.next=K,wt.lanes|=z,Cs|=z;K=P.action,Mr&&s(f,K),f=P.hasEagerState?P.eagerState:s(f,K)}else z={lane:K,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},I===null?(E=I=z,g=f):I=I.next=z,wt.lanes|=K,Cs|=K;P=P.next}while(P!==null&&P!==n);if(I===null?g=f:I.next=E,!gn(f,e.memoizedState)&&(be=!0,F&&(s=Ta,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function _f(e){var n=me(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);gn(f,n.memoizedState)||(be=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function Wg(e,n,s){var o=wt,h=me(),f=kt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!gn((Xt||h).memoizedState,s);if(g&&(h.memoizedState=s,be=!0),h=h.queue,Tf(np.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ca(9,{destroy:void 0},ep.bind(null,o,h,s,n),null),$t===null)throw Error(a(349));f||(zi&127)!==0||tp(o,n,s)}return s}function tp(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=wt.updateQueue,n===null?(n=zu(),wt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ep(e,n,s,o){n.value=s,n.getSnapshot=o,ip(n)&&sp(e)}function np(e,n,s){return s(function(){ip(n)&&sp(e)})}function ip(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function sp(e){var n=br(e,2);n!==null&&un(n,e,2)}function vf(e){var n=tn();if(typeof e=="function"){var s=e;if(e=s(),Mr){Sn(!0);try{s()}finally{Sn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:e},n}function rp(e,n,s,o){return e.baseState=s,yf(e,Xt,typeof o=="function"?o:ji)}function dA(e,n,s,o,h){if(Fu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,ap(n,f)):(f.next=s.next,n.pending=s.next=f)}}function ap(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,g={};G.T=g;try{var E=s(h,o),I=G.S;I!==null&&I(g,E),op(e,n,E)}catch(P){Ef(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),G.T=f}}else try{f=s(h,o),op(e,n,f)}catch(P){Ef(e,n,P)}}function op(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){lp(e,n,o)},function(o){return Ef(e,n,o)}):lp(e,n,s)}function lp(e,n,s){n.status="fulfilled",n.value=s,up(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,ap(e,s)))}function Ef(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,up(n),n=n.next;while(n!==o)}e.action=null}function up(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function cp(e,n){return n}function hp(e,n){if(kt){var s=$t.formState;if(s!==null){t:{var o=wt;if(kt){if(Wt){e:{for(var h=Wt,f=xn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Vn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){Wt=Vn(h.nextSibling),o=h.data==="F!";break t}}_s(o)}o=!1}o&&(n=s[0])}}return s=tn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cp,lastRenderedState:n},s.queue=o,s=Dp.bind(null,wt,o),o.dispatch=s,o=vf(!1),f=Rf.bind(null,wt,!1,o.queue),o=tn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=dA.bind(null,wt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function fp(e){var n=me();return dp(n,Xt,e)}function dp(e,n,s){if(n=yf(e,n,cp)[0],e=Bu(ji)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Jo(n)}catch(g){throw g===Aa?Ou:g}else o=n;n=me();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(wt.flags|=2048,Ca(9,{destroy:void 0},mA.bind(null,h,s),null)),[o,f,e]}function mA(e,n){e.action=n}function mp(e){var n=me(),s=Xt;if(s!==null)return dp(n,s,e);me(),n=n.memoizedState,s=me();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ca(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=wt.updateQueue,n===null&&(n=zu(),wt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function gp(){return me().memoizedState}function qu(e,n,s,o){var h=tn();wt.flags|=e,h.memoizedState=Ca(1|n,{destroy:void 0},s,o===void 0?null:o)}function Hu(e,n,s,o){var h=me();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&hf(o,Xt.memoizedState.deps)?h.memoizedState=Ca(n,f,s,o):(wt.flags|=e,h.memoizedState=Ca(1|n,f,s,o))}function pp(e,n){qu(8390656,8,e,n)}function Tf(e,n){Hu(2048,8,e,n)}function gA(e){wt.flags|=4;var n=wt.updateQueue;if(n===null)n=zu(),wt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function yp(e){var n=me().memoizedState;return gA({ref:n,nextImpl:e}),function(){if((qt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function _p(e,n){return Hu(4,2,e,n)}function vp(e,n){return Hu(4,4,e,n)}function Ep(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Tp(e,n,s){s=s!=null?s.concat([e]):null,Hu(4,4,Ep.bind(null,n,e),s)}function Af(){}function Ap(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&hf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Sp(e,n){var s=me();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&hf(n,o[1]))return o[0];if(o=e(),Mr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o}function Sf(e,n,s){return s===void 0||(zi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=by(),wt.lanes|=e,Cs|=e,s)}function bp(e,n,s,o){return gn(s,n)?s:ba.current!==null?(e=Sf(e,s,o),gn(e,n)||(be=!0),e):(zi&42)===0||(zi&1073741824)!==0&&(Dt&261930)===0?(be=!0,e.memoizedState=s):(e=by(),wt.lanes|=e,Cs|=e,n)}function wp(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var g=G.T,E={};G.T=E,Rf(e,!1,n,s);try{var I=h(),P=G.S;if(P!==null&&P(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var F=cA(I,o);$o(e,n,F,Tn(e))}else $o(e,n,o,Tn(e))}catch(K){$o(e,n,{then:function(){},status:"rejected",reason:K},Tn())}finally{nt.p=f,g!==null&&E.types!==null&&(g.types=E.types),G.T=g}}function pA(){}function bf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Rp(e).queue;wp(e,h,n,dt,s===null?pA:function(){return Cp(e),s(o)})}function Rp(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:dt,baseState:dt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:dt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ji,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Cp(e){var n=Rp(e);n.next===null&&(n=e.alternate.memoizedState),$o(e,n.next.queue,{},Tn())}function wf(){return Be(gl)}function Ip(){return me().memoizedState}function Np(){return me().memoizedState}function yA(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Tn();e=Ts(s);var o=As(n,e,s);o!==null&&(un(o,n,s),Ko(o,n,s)),n={cache:Wh()},e.payload=n;return}n=n.return}}function _A(e,n,s){var o=Tn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Fu(e)?Op(n,s):(s=qh(e,n,s,o),s!==null&&(un(s,e,o),xp(s,n,o)))}function Dp(e,n,s){var o=Tn();$o(e,n,s,o)}function $o(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Fu(e))Op(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,gn(E,g))return bu(e,n,h,0),$t===null&&Su(),!1}catch{}if(s=qh(e,n,h,o),s!==null)return un(s,e,o),xp(s,n,o),!0}return!1}function Rf(e,n,s,o){if(o={lane:2,revertLane:sd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Fu(e)){if(n)throw Error(a(479))}else n=qh(e,s,o,2),n!==null&&un(n,e,2)}function Fu(e){var n=e.alternate;return e===wt||n!==null&&n===wt}function Op(e,n){wa=Lu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function xp(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Eo(e,s)}}var Wo={readContext:Be,use:ju,useCallback:le,useContext:le,useEffect:le,useImperativeHandle:le,useLayoutEffect:le,useInsertionEffect:le,useMemo:le,useReducer:le,useRef:le,useState:le,useDebugValue:le,useDeferredValue:le,useTransition:le,useSyncExternalStore:le,useId:le,useHostTransitionStatus:le,useFormState:le,useActionState:le,useOptimistic:le,useMemoCache:le,useCacheRefresh:le};Wo.useEffectEvent=le;var Mp={readContext:Be,use:ju,useCallback:function(e,n){return tn().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:pp,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,qu(4194308,4,Ep.bind(null,n,e),s)},useLayoutEffect:function(e,n){return qu(4194308,4,e,n)},useInsertionEffect:function(e,n){qu(4,2,e,n)},useMemo:function(e,n){var s=tn();n=n===void 0?null:n;var o=e();if(Mr){Sn(!0);try{e()}finally{Sn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=tn();if(s!==void 0){var h=s(n);if(Mr){Sn(!0);try{s(n)}finally{Sn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=_A.bind(null,wt,e),[o.memoizedState,e]},useRef:function(e){var n=tn();return e={current:e},n.memoizedState=e},useState:function(e){e=vf(e);var n=e.queue,s=Dp.bind(null,wt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Af,useDeferredValue:function(e,n){var s=tn();return Sf(s,e,n)},useTransition:function(){var e=vf(!1);return e=wp.bind(null,wt,e.queue,!0,!1),tn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=wt,h=tn();if(kt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),$t===null)throw Error(a(349));(Dt&127)!==0||tp(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,pp(np.bind(null,o,f,e),[e]),o.flags|=2048,Ca(9,{destroy:void 0},ep.bind(null,o,f,s,n),null),s},useId:function(){var e=tn(),n=$t.identifierPrefix;if(kt){var s=_i,o=yi;s=(o&~(1<<32-he(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Pu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=hA++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:wf,useFormState:hp,useActionState:hp,useOptimistic:function(e){var n=tn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Rf.bind(null,wt,!0,s),s.dispatch=n,[e,n]},useMemoCache:pf,useCacheRefresh:function(){return tn().memoizedState=yA.bind(null,wt)},useEffectEvent:function(e){var n=tn(),s={impl:e};return n.memoizedState=s,function(){if((qt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Cf={readContext:Be,use:ju,useCallback:Ap,useContext:Be,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:Bu,useRef:gp,useState:function(){return Bu(ji)},useDebugValue:Af,useDeferredValue:function(e,n){var s=me();return bp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Bu(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:wf,useFormState:fp,useActionState:fp,useOptimistic:function(e,n){var s=me();return rp(s,Xt,e,n)},useMemoCache:pf,useCacheRefresh:Np};Cf.useEffectEvent=yp;var Vp={readContext:Be,use:ju,useCallback:Ap,useContext:Be,useEffect:Tf,useImperativeHandle:Tp,useInsertionEffect:_p,useLayoutEffect:vp,useMemo:Sp,useReducer:_f,useRef:gp,useState:function(){return _f(ji)},useDebugValue:Af,useDeferredValue:function(e,n){var s=me();return Xt===null?Sf(s,e,n):bp(s,Xt.memoizedState,e,n)},useTransition:function(){var e=_f(ji)[0],n=me().memoizedState;return[typeof e=="boolean"?e:Jo(e),n]},useSyncExternalStore:Wg,useId:Ip,useHostTransitionStatus:wf,useFormState:mp,useActionState:mp,useOptimistic:function(e,n){var s=me();return Xt!==null?rp(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:pf,useCacheRefresh:Np};Vp.useEffectEvent=yp;function If(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:b({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Nf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ts(o);h.payload=n,s!=null&&(h.callback=s),n=As(e,h,o),n!==null&&(un(n,e,o),Ko(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=Tn(),h=Ts(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=As(e,h,o),n!==null&&(un(n,e,o),Ko(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Tn(),o=Ts(s);o.tag=2,n!=null&&(o.callback=n),n=As(e,o,s),n!==null&&(un(n,e,s),Ko(n,e,s))}};function kp(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!zo(s,o)||!zo(h,f):!0}function Up(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Nf.enqueueReplaceState(n,n.state,null)}function Vr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=b({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Lp(e){Au(e)}function Pp(e){console.error(e)}function zp(e){Au(e)}function Gu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function jp(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Df(e,n,s){return s=Ts(s),s.tag=3,s.payload={element:null},s.callback=function(){Gu(e,n)},s}function Bp(e){return e=Ts(e),e.tag=3,e}function qp(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){jp(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){jp(n,s,o),typeof h!="function"&&(Is===null?Is=new Set([this]):Is.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function vA(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&va(n,s,h,!0),s=yn.current,s!==null){switch(s.tag){case 31:case 13:return Mn===null?ic():s.alternate===null&&ue===0&&(ue=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ed(e,o,h)),!1;case 22:return s.flags|=65536,o===xu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ed(e,o,h)),!1}throw Error(a(435,s.tag))}return ed(e,o,h),ic(),!1}if(kt)return n=yn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==Yh&&(e=Error(a(422),{cause:o}),qo(Nn(e,s)))):(o!==Yh&&(n=Error(a(423),{cause:o}),qo(Nn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Nn(o,s),h=Df(e.stateNode,o,h),af(e,h),ue!==4&&(ue=2)),!1;var f=Error(a(520),{cause:o});if(f=Nn(f,s),ol===null?ol=[f]:ol.push(f),ue!==4&&(ue=2),n===null)return!0;o=Nn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Df(s.stateNode,o,e),af(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Is===null||!Is.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Bp(h),qp(h,e,s,o),af(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(a(461)),be=!1;function qe(e,n,s,o){n.child=e===null?Qg(n,null,s,o):xr(n,e.child,s,o)}function Hp(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return Ir(n),o=ff(e,n,s,g,f,h),E=df(),e!==null&&!be?(mf(e,n,h),Bi(e,n,h)):(kt&&E&&Qh(n),n.flags|=1,qe(e,n,o,h),n.child)}function Fp(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Hh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Gp(e,n,f,o,h)):(e=Ru(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!zf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:zo,s(g,o)&&e.ref===n.ref)return Bi(e,n,h)}return n.flags|=1,e=ki(f,o),e.ref=n.ref,e.return=n,n.child=e}function Gp(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(zo(f,o)&&e.ref===n.ref)if(be=!1,n.pendingProps=o=f,zf(e,h))(e.flags&131072)!==0&&(be=!0);else return n.lanes=e.lanes,Bi(e,n,h)}return xf(e,n,s,o,h)}function Qp(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Kp(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Du(n,f!==null?f.cachePool:null),f!==null?Xg(n,f):lf(),Zg(n);else return o=n.lanes=536870912,Kp(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Du(n,f.cachePool),Xg(n,f),bs(),n.memoizedState=null):(e!==null&&Du(n,null),lf(),bs());return qe(e,n,h,s),n.child}function tl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Kp(e,n,s,o,h){var f=ef();return f=f===null?null:{parent:Ae._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Du(n,null),lf(),Zg(n),e!==null&&va(e,n,o,!0),n.childLanes=h,null}function Qu(e,n){return n=Yu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Yp(e,n,s){return xr(n,e.child,null,s),e=Qu(n,n.pendingProps),e.flags|=2,_n(n),n.memoizedState=null,e}function EA(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Qu(n,o),n.lanes=536870912,tl(null,e);if(cf(n),(e=Wt)?(e=a_(e,xn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Og(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw _s(n);return n.lanes=536870912,null}return Qu(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(cf(n),h)if(n.flags&256)n.flags&=-257,n=Yp(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(be||va(e,n,s,!1),h=(s&e.childLanes)!==0,be||h){if(o=$t,o!==null&&(g=To(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,br(e,g),un(o,e,g),Of;ic(),n=Yp(e,n,s)}else e=f.treeContext,Wt=Vn(g.nextSibling),je=n,kt=!0,ys=null,xn=!1,e!==null&&Vg(n,e),n=Qu(n,o),n.flags|=4096;return n}return e=ki(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ku(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function xf(e,n,s,o,h){return Ir(n),s=ff(e,n,s,o,void 0,h),o=df(),e!==null&&!be?(mf(e,n,h),Bi(e,n,h)):(kt&&o&&Qh(n),n.flags|=1,qe(e,n,s,h),n.child)}function Xp(e,n,s,o,h,f){return Ir(n),n.updateQueue=null,s=$g(n,o,s,h),Jg(e),o=df(),e!==null&&!be?(mf(e,n,f),Bi(e,n,f)):(kt&&o&&Qh(n),n.flags|=1,qe(e,n,s,f),n.child)}function Zp(e,n,s,o,h){if(Ir(n),n.stateNode===null){var f=ga,g=s.contextType;typeof g=="object"&&g!==null&&(f=Be(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Nf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},sf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Be(g):ga,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(If(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&Nf.enqueueReplaceState(f,f.state,null),Xo(n,o,f,h),Yo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=Vr(s,E);f.props=I;var P=f.context,F=s.contextType;g=ga,typeof F=="object"&&F!==null&&(g=Be(F));var K=s.getDerivedStateFromProps;F=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,F||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Up(n,f,o,g),Es=!1;var z=n.memoizedState;f.state=z,Xo(n,o,f,h),Yo(),P=n.memoizedState,E||z!==P||Es?(typeof K=="function"&&(If(n,s,K,o),P=n.memoizedState),(I=Es||kp(n,s,I,o,z,P,g))?(F||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,rf(e,n),g=n.memoizedProps,F=Vr(s,g),f.props=F,K=n.pendingProps,z=f.context,P=s.contextType,I=ga,typeof P=="object"&&P!==null&&(I=Be(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==K||z!==I)&&Up(n,f,o,I),Es=!1,z=n.memoizedState,f.state=z,Xo(n,o,f,h),Yo();var q=n.memoizedState;g!==K||z!==q||Es||e!==null&&e.dependencies!==null&&Iu(e.dependencies)?(typeof E=="function"&&(If(n,s,E,o),q=n.memoizedState),(F=Es||kp(n,s,F,o,z,q,I)||e!==null&&e.dependencies!==null&&Iu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=I,o=F):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ku(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=xr(n,e.child,null,h),n.child=xr(n,null,s,h)):qe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Bi(e,n,h),e}function Jp(e,n,s,o){return Rr(),n.flags|=256,qe(e,n,s,o),n.child}var Mf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vf(e){return{baseLanes:e,cachePool:jg()}}function kf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=En),e}function $p(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(de.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Ss(n):bs(),(e=Wt)?(e=a_(e,xn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ps!==null?{id:yi,overflow:_i}:null,retryLane:536870912,hydrationErrors:null},s=Og(e),s.return=n,n.child=s,je=n,Wt=null)):e=null,e===null)throw _s(n);return yd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(bs(),h=n.mode,E=Yu({mode:"hidden",children:E},h),o=wr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,tl(null,o)):(Ss(n),Uf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(Ss(n),n.flags&=-257,n=Lf(e,n,s)):n.memoizedState!==null?(bs(),n.child=e.child,n.flags|=128,n=null):(bs(),E=o.fallback,h=n.mode,o=Yu({mode:"visible",children:o.children},h),E=wr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,xr(n,e.child,null,s),o=n.child,o.memoizedState=Vf(s),o.childLanes=kf(e,g,s),n.memoizedState=Mf,n=tl(null,o));else if(Ss(n),yd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,qo({value:o,source:null,stack:null}),n=Lf(e,n,s)}else if(be||va(e,n,s,!1),g=(s&e.childLanes)!==0,be||g){if(g=$t,g!==null&&(o=To(g,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,br(e,o),un(g,e,o),Of;pd(E)||ic(),n=Lf(e,n,s)}else pd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,Wt=Vn(E.nextSibling),je=n,kt=!0,ys=null,xn=!1,e!==null&&Vg(n,e),n=Uf(n,o.children),n.flags|=4096);return n}return h?(bs(),E=o.fallback,h=n.mode,I=e.child,P=I.sibling,o=ki(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,P!==null?E=ki(P,E):(E=wr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,tl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Vf(s):(h=E.cachePool,h!==null?(I=Ae._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=jg(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=kf(e,g,s),n.memoizedState=Mf,tl(e.child,o)):(Ss(n),s=e.child,e=s.sibling,s=ki(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Uf(e,n){return n=Yu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Yu(e,n){return e=pn(22,e,null,n),e.lanes=0,e}function Lf(e,n,s){return xr(n,e.child,null,s),e=Uf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Wp(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Jh(e.return,n,s)}function Pf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function ty(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=de.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(de,g),qe(e,n,o,s),o=kt?Bo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Wp(e,s,n);else if(e.tag===19)Wp(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Uu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Pf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Uu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Pf(n,!0,s,null,f,o);break;case"together":Pf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Bi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Cs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(va(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ki(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ki(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function zf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Iu(e)))}function TA(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),vs(n,Ae,e.memoizedState.cache),Rr();break;case 27:case 5:ar(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:vs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,cf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Ss(n),n.flags|=128,null):(s&n.child.childLanes)!==0?$p(e,n,s):(Ss(n),e=Bi(e,n,s),e!==null?e.sibling:null);Ss(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(va(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ty(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(de,de.current),o)break;return null;case 22:return n.lanes=0,Qp(e,n,s,n.pendingProps);case 24:vs(n,Ae,e.memoizedState.cache)}return Bi(e,n,s)}function ey(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)be=!0;else{if(!zf(e,s)&&(n.flags&128)===0)return be=!1,TA(e,n,s);be=(e.flags&131072)!==0}else be=!1,kt&&(n.flags&1048576)!==0&&Mg(n,Bo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Dr(n.elementType),n.type=e,typeof e=="function")Hh(e)?(o=Vr(e,o),n.tag=1,n=Zp(null,n,e,o,s)):(n.tag=0,n=xf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Tt){n.tag=11,n=Hp(null,n,e,o,s);break t}else if(h===w){n.tag=14,n=Fp(null,n,e,o,s);break t}}throw n=ie(e)||e,Error(a(306,n,""))}}return n;case 0:return xf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Vr(o,n.pendingProps),Zp(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,rf(e,n),Xo(n,o,null,s);var g=n.memoizedState;if(o=g.cache,vs(n,Ae,o),o!==f.cache&&$h(n,[Ae],s,!0),Yo(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Jp(e,n,o,s);break t}else if(o!==h){h=Nn(Error(a(424)),n),qo(h),n=Jp(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Wt=Vn(e.firstChild),je=n,kt=!0,ys=null,xn=!0,s=Qg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Rr(),o===h){n=Bi(e,n,s);break t}qe(e,n,o,s)}n=n.child}return n;case 26:return Ku(e,n),e===null?(s=f_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=cc(Rt.current).createElement(s),o[ve]=n,o[Ve]=e,He(o,s,e),Ee(o),n.stateNode=o):n.memoizedState=f_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ar(n),e===null&&kt&&(o=n.stateNode=u_(n.type,n.pendingProps,Rt.current),je=n,xn=!0,h=Wt,xs(n.type)?(_d=h,Wt=Vn(o.firstChild)):Wt=h),qe(e,n,n.pendingProps.children,s),Ku(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=Wt)&&(o=JA(o,n.type,n.pendingProps,xn),o!==null?(n.stateNode=o,je=n,Wt=Vn(o.firstChild),xn=!1,h=!0):h=!1),h||_s(n)),ar(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,dd(h,f)?o=null:g!==null&&dd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=ff(e,n,fA,null,null,s),gl._currentValue=h),Ku(e,n),qe(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=Wt)&&(s=$A(s,n.pendingProps,xn),s!==null?(n.stateNode=s,je=n,Wt=null,e=!0):e=!1),e||_s(n)),null;case 13:return $p(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=xr(n,null,o,s):qe(e,n,o,s),n.child;case 11:return Hp(e,n,n.type,n.pendingProps,s);case 7:return qe(e,n,n.pendingProps,s),n.child;case 8:return qe(e,n,n.pendingProps.children,s),n.child;case 12:return qe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,vs(n,n.type,o.value),qe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Ir(n),h=Be(h),o=o(h),n.flags|=1,qe(e,n,o,s),n.child;case 14:return Fp(e,n,n.type,n.pendingProps,s);case 15:return Gp(e,n,n.type,n.pendingProps,s);case 19:return ty(e,n,s);case 31:return EA(e,n,s);case 22:return Qp(e,n,s,n.pendingProps);case 24:return Ir(n),o=Be(Ae),e===null?(h=ef(),h===null&&(h=$t,f=Wh(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},sf(n),vs(n,Ae,h)):((e.lanes&s)!==0&&(rf(e,n),Xo(n,null,null,s),Yo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),vs(n,Ae,o)):(o=f.cache,vs(n,Ae,o),o!==h.cache&&$h(n,[Ae],s,!0))),qe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function qi(e){e.flags|=4}function jf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Iy())e.flags|=8192;else throw Or=xu,nf}else e.flags&=-16777217}function ny(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!y_(n))if(Iy())e.flags|=8192;else throw Or=xu,nf}function Xu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?eu():536870912,e.lanes|=n,Oa|=n)}function el(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function te(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function AA(e,n,s){var o=n.pendingProps;switch(Kh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return te(n),null;case 1:return te(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Pi(Ae),se(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(_a(n)?qi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Xh())),te(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(qi(n),f!==null?(te(n),ny(n,f)):(te(n),jf(n,h,null,o,s))):f?f!==e.memoizedState?(qi(n),te(n),ny(n,f)):(te(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&qi(n),te(n),jf(n,h,e,o,s)),null;case 27:if(Zr(n),s=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}e=at.current,_a(n)?kg(n):(e=u_(h,o,s),n.stateNode=e,qi(n))}return te(n),null;case 5:if(Zr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return te(n),null}if(f=at.current,_a(n))kg(n);else{var g=cc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[ve]=n,f[Ve]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(He(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&qi(n)}}return te(n),jf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&qi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,_a(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=je,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[ve]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||$y(e.nodeValue,s)),e||_s(n,!0)}else e=cc(e).createTextNode(o),e[ve]=n,n.stateNode=e}return te(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=_a(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[ve]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),e=!1}else s=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(_n(n),n):(_n(n),null);if((n.flags&128)!==0)throw Error(a(558))}return te(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=_a(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[ve]=n}else Rr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;te(n),h=!1}else h=Xh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(_n(n),n):(_n(n),null)}return _n(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Xu(n,n.updateQueue),te(n),null);case 4:return se(),e===null&&ld(n.stateNode.containerInfo),te(n),null;case 10:return Pi(n.type),te(n),null;case 19:if(Y(de),o=n.memoizedState,o===null)return te(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)el(o,!1);else{if(ue!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Uu(e),f!==null){for(n.flags|=128,el(o,!1),e=f.updateQueue,n.updateQueue=e,Xu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Dg(s,e),s=s.sibling;return it(de,de.current&1|2),kt&&Ui(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&$e()>tc&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304)}else{if(!h)if(e=Uu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Xu(n,e),el(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return te(n),null}else 2*$e()-o.renderingStartTime>tc&&s!==536870912&&(n.flags|=128,h=!0,el(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=$e(),e.sibling=null,s=de.current,it(de,h?s&1|2:s&1),kt&&Ui(n,o.treeForkCount),e):(te(n),null);case 22:case 23:return _n(n),uf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(te(n),n.subtreeFlags&6&&(n.flags|=8192)):te(n),s=n.updateQueue,s!==null&&Xu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Nr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Pi(Ae),te(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function SA(e,n){switch(Kh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Pi(Ae),se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zr(n),null;case 31:if(n.memoizedState!==null){if(_n(n),n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(_n(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Rr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(de),null;case 4:return se(),null;case 10:return Pi(n.type),null;case 22:case 23:return _n(n),uf(),e!==null&&Y(Nr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Pi(Ae),null;case 25:return null;default:return null}}function iy(e,n){switch(Kh(n),n.tag){case 3:Pi(Ae),se();break;case 26:case 27:case 5:Zr(n);break;case 4:se();break;case 31:n.memoizedState!==null&&_n(n);break;case 13:_n(n);break;case 19:Y(de);break;case 10:Pi(n.type);break;case 22:case 23:_n(n),uf(),e!==null&&Y(Nr);break;case 24:Pi(Ae)}}function nl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Kt(n,n.return,E)}}function ws(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var I=s,P=E;try{P()}catch(F){Kt(h,I,F)}}}o=o.next}while(o!==f)}}catch(F){Kt(n,n.return,F)}}function sy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Yg(n,s)}catch(o){Kt(e,e.return,o)}}}function ry(e,n,s){s.props=Vr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Kt(e,n,o)}}function il(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Kt(e,n,h)}}function vi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Kt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Kt(e,n,h)}else s.current=null}function ay(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Kt(e,e.return,h)}}function Bf(e,n,s){try{var o=e.stateNode;GA(o,e.type,s,n),o[Ve]=n}catch(h){Kt(e,e.return,h)}}function oy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&xs(e.type)||e.tag===4}function qf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||oy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&xs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Hf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Bn));else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Hf(e,n,s),e=e.sibling;e!==null;)Hf(e,n,s),e=e.sibling}function Zu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&xs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Zu(e,n,s),e=e.sibling;e!==null;)Zu(e,n,s),e=e.sibling}function ly(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);He(n,o,s),n[ve]=e,n[Ve]=s}catch(f){Kt(e,e.return,f)}}var Hi=!1,we=!1,Ff=!1,uy=typeof WeakSet=="function"?WeakSet:Set,Ue=null;function bA(e,n){if(e=e.containerInfo,hd=yc,e=Tg(e),Uh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,I=-1,P=0,F=0,K=e,z=null;e:for(;;){for(var q;K!==s||h!==0&&K.nodeType!==3||(E=g+h),K!==f||o!==0&&K.nodeType!==3||(I=g+o),K.nodeType===3&&(g+=K.nodeValue.length),(q=K.firstChild)!==null;)z=K,K=q;for(;;){if(K===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++F===o&&(I=g),(q=K.nextSibling)!==null)break;K=z,z=K.parentNode}K=q}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(fd={focusedElem:e,selectionRange:s},yc=!1,Ue=n;Ue!==null;)if(n=Ue,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Ue=e;else for(;Ue!==null;){switch(n=Ue,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Vr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Kt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)gd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":gd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Ue=e;break}Ue=n.return}}function cy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Gi(e,s),o&4&&nl(5,s);break;case 1:if(Gi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Kt(s,s.return,g)}else{var h=Vr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Kt(s,s.return,g)}}o&64&&sy(s),o&512&&il(s,s.return);break;case 3:if(Gi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Yg(e,n)}catch(g){Kt(s,s.return,g)}}break;case 27:n===null&&o&4&&ly(s);case 26:case 5:Gi(e,s),n===null&&o&4&&ay(s),o&512&&il(s,s.return);break;case 12:Gi(e,s);break;case 31:Gi(e,s),o&4&&dy(e,s);break;case 13:Gi(e,s),o&4&&my(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=MA.bind(null,s),WA(e,s))));break;case 22:if(o=s.memoizedState!==null||Hi,!o){n=n!==null&&n.memoizedState!==null||we,h=Hi;var f=we;Hi=o,(we=n)&&!f?Qi(e,s,(s.subtreeFlags&8772)!==0):Gi(e,s),Hi=h,we=f}break;case 30:break;default:Gi(e,s)}}function hy(e){var n=e.alternate;n!==null&&(e.alternate=null,hy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ea(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ae=null,rn=!1;function Fi(e,n,s){for(s=s.child;s!==null;)fy(e,n,s),s=s.sibling}function fy(e,n,s){if(Pe&&typeof Pe.onCommitFiberUnmount=="function")try{Pe.onCommitFiberUnmount(Ln,s)}catch{}switch(s.tag){case 26:we||vi(s,n),Fi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:we||vi(s,n);var o=ae,h=rn;xs(s.type)&&(ae=s.stateNode,rn=!1),Fi(e,n,s),fl(s.stateNode),ae=o,rn=h;break;case 5:we||vi(s,n);case 6:if(o=ae,h=rn,ae=null,Fi(e,n,s),ae=o,rn=h,ae!==null)if(rn)try{(ae.nodeType===9?ae.body:ae.nodeName==="HTML"?ae.ownerDocument.body:ae).removeChild(s.stateNode)}catch(f){Kt(s,n,f)}else try{ae.removeChild(s.stateNode)}catch(f){Kt(s,n,f)}break;case 18:ae!==null&&(rn?(e=ae,s_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),za(e)):s_(ae,s.stateNode));break;case 4:o=ae,h=rn,ae=s.stateNode.containerInfo,rn=!0,Fi(e,n,s),ae=o,rn=h;break;case 0:case 11:case 14:case 15:ws(2,s,n),we||ws(4,s,n),Fi(e,n,s);break;case 1:we||(vi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&ry(s,n,o)),Fi(e,n,s);break;case 21:Fi(e,n,s);break;case 22:we=(o=we)||s.memoizedState!==null,Fi(e,n,s),we=o;break;default:Fi(e,n,s)}}function dy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{za(e)}catch(s){Kt(n,n.return,s)}}}function my(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{za(e)}catch(s){Kt(n,n.return,s)}}function wA(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new uy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new uy),n;default:throw Error(a(435,e.tag))}}function Ju(e,n){var s=wA(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=VA.bind(null,e,o);o.then(h,h)}})}function an(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(xs(E.type)){ae=E.stateNode,rn=!1;break t}break;case 5:ae=E.stateNode,rn=!1;break t;case 3:case 4:ae=E.stateNode.containerInfo,rn=!0;break t}E=E.return}if(ae===null)throw Error(a(160));fy(f,g,h),ae=null,rn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)gy(n,e),n=n.sibling}var Kn=null;function gy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(n,e),on(e),o&4&&(ws(3,e,e.return),nl(3,e),ws(5,e,e.return));break;case 1:an(n,e),on(e),o&512&&(we||s===null||vi(s,s.return)),o&64&&Hi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Kn;if(an(n,e),on(e),o&512&&(we||s===null||vi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ri]||f[ve]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),He(f,o,s),f[ve]=e,Ee(f),o=f;break t;case"link":var g=g_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;case"meta":if(g=g_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),He(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[ve]=e,Ee(f),o=f}e.stateNode=o}else p_(h,e.type,e.stateNode);else e.stateNode=m_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?p_(h,e.type,e.stateNode):m_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Bf(e,e.memoizedProps,s.memoizedProps)}break;case 27:an(n,e),on(e),o&512&&(we||s===null||vi(s,s.return)),s!==null&&o&4&&Bf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(an(n,e),on(e),o&512&&(we||s===null||vi(s,s.return)),e.flags&32){h=e.stateNode;try{sn(h,"")}catch(lt){Kt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Bf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Ff=!0);break;case 6:if(an(n,e),on(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Kt(e,e.return,lt)}}break;case 3:if(dc=null,h=Kn,Kn=hc(n.containerInfo),an(n,e),Kn=h,on(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{za(n.containerInfo)}catch(lt){Kt(e,e.return,lt)}Ff&&(Ff=!1,py(e));break;case 4:o=Kn,Kn=hc(e.stateNode.containerInfo),an(n,e),on(e),Kn=o;break;case 12:an(n,e),on(e);break;case 31:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 13:an(n,e),on(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(Wu=$e()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,P=Hi,F=we;if(Hi=P||h,we=F||I,an(n,e),we=F,Hi=P,on(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Hi||we||kr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,z=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Kt(I,I.return,lt)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(lt){Kt(I,I.return,lt)}}}else if(n.tag===18){if(s===null){I=n;try{var q=I.stateNode;h?r_(q,!0):r_(I.stateNode,!1)}catch(lt){Kt(I,I.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Ju(e,s))));break;case 19:an(n,e),on(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Ju(e,o)));break;case 30:break;case 21:break;default:an(n,e),on(e)}}function on(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(oy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=qf(e);Zu(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(sn(g,""),s.flags&=-33);var E=qf(e);Zu(e,E,g);break;case 3:case 4:var I=s.stateNode.containerInfo,P=qf(e);Hf(e,P,I);break;default:throw Error(a(161))}}catch(F){Kt(e,e.return,F)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function py(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;py(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Gi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)cy(e,n.alternate,n),n=n.sibling}function kr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ws(4,n,n.return),kr(n);break;case 1:vi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&ry(n,n.return,s),kr(n);break;case 27:fl(n.stateNode);case 26:case 5:vi(n,n.return),kr(n);break;case 22:n.memoizedState===null&&kr(n);break;case 30:kr(n);break;default:kr(n)}e=e.sibling}}function Qi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:Qi(h,f,s),nl(4,f);break;case 1:if(Qi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Kt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)Kg(I[h],E)}catch(P){Kt(o,o.return,P)}}s&&g&64&&sy(f),il(f,f.return);break;case 27:ly(f);case 26:case 5:Qi(h,f,s),s&&o===null&&g&4&&ay(f),il(f,f.return);break;case 12:Qi(h,f,s);break;case 31:Qi(h,f,s),s&&g&4&&dy(h,f);break;case 13:Qi(h,f,s),s&&g&4&&my(h,f);break;case 22:f.memoizedState===null&&Qi(h,f,s),il(f,f.return);break;case 30:break;default:Qi(h,f,s)}n=n.sibling}}function Gf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Ho(s))}function Qf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e))}function Yn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)yy(e,n,s,o),n=n.sibling}function yy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Yn(e,n,s,o),h&2048&&nl(9,n);break;case 1:Yn(e,n,s,o);break;case 3:Yn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ho(e)));break;case 12:if(h&2048){Yn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Kt(n,n.return,I)}}else Yn(e,n,s,o);break;case 31:Yn(e,n,s,o);break;case 13:Yn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?Yn(e,n,s,o):sl(e,n):f._visibility&2?Yn(e,n,s,o):(f._visibility|=2,Ia(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Gf(g,n);break;case 24:Yn(e,n,s,o),h&2048&&Qf(n.alternate,n);break;default:Yn(e,n,s,o)}}function Ia(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,I=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:Ia(f,g,E,I,h),nl(8,g);break;case 23:break;case 22:var F=g.stateNode;g.memoizedState!==null?F._visibility&2?Ia(f,g,E,I,h):sl(f,g):(F._visibility|=2,Ia(f,g,E,I,h)),h&&P&2048&&Gf(g.alternate,g);break;case 24:Ia(f,g,E,I,h),h&&P&2048&&Qf(g.alternate,g);break;default:Ia(f,g,E,I,h)}n=n.sibling}}function sl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:sl(s,o),h&2048&&Gf(o.alternate,o);break;case 24:sl(s,o),h&2048&&Qf(o.alternate,o);break;default:sl(s,o)}n=n.sibling}}var rl=8192;function Na(e,n,s){if(e.subtreeFlags&rl)for(e=e.child;e!==null;)_y(e,n,s),e=e.sibling}function _y(e,n,s){switch(e.tag){case 26:Na(e,n,s),e.flags&rl&&e.memoizedState!==null&&h1(s,Kn,e.memoizedState,e.memoizedProps);break;case 5:Na(e,n,s);break;case 3:case 4:var o=Kn;Kn=hc(e.stateNode.containerInfo),Na(e,n,s),Kn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=rl,rl=16777216,Na(e,n,s),rl=o):Na(e,n,s));break;default:Na(e,n,s)}}function vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function al(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ty(o,e)}vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Ey(e),e=e.sibling}function Ey(e){switch(e.tag){case 0:case 11:case 15:al(e),e.flags&2048&&ws(9,e,e.return);break;case 3:al(e);break;case 12:al(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,$u(e)):al(e);break;default:al(e)}}function $u(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Ue=o,Ty(o,e)}vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ws(8,n,n.return),$u(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,$u(n));break;default:$u(n)}e=e.sibling}}function Ty(e,n){for(;Ue!==null;){var s=Ue;switch(s.tag){case 0:case 11:case 15:ws(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Ho(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Ue=o;else t:for(s=e;Ue!==null;){o=Ue;var h=o.sibling,f=o.return;if(hy(o),o===s){Ue=null;break t}if(h!==null){h.return=f,Ue=h;break t}Ue=f}}}var RA={getCacheForType:function(e){var n=Be(Ae),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Be(Ae).controller.signal}},CA=typeof WeakMap=="function"?WeakMap:Map,qt=0,$t=null,It=null,Dt=0,Qt=0,vn=null,Rs=!1,Da=!1,Kf=!1,Ki=0,ue=0,Cs=0,Ur=0,Yf=0,En=0,Oa=0,ol=null,ln=null,Xf=!1,Wu=0,Ay=0,tc=1/0,ec=null,Is=null,Oe=0,Ns=null,xa=null,Yi=0,Zf=0,Jf=null,Sy=null,ll=0,$f=null;function Tn(){return(qt&2)!==0&&Dt!==0?Dt&-Dt:G.T!==null?sd():nu()}function by(){if(En===0)if((Dt&536870912)===0||kt){var e=ur;ur<<=1,(ur&3932160)===0&&(ur=262144),En=e}else En=536870912;return e=yn.current,e!==null&&(e.flags|=32),En}function un(e,n,s){(e===$t&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(Ma(e,0),Ds(e,Dt,En,!1)),cr(e,s),((qt&2)===0||e!==$t)&&(e===$t&&((qt&2)===0&&(Ur|=s),ue===4&&Ds(e,Dt,En,!1)),Ei(e))}function wy(e,n,s){if((qt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Pn(e,n),h=o?DA(e,n):td(e,n,!0),f=o;do{if(h===0){Da&&!o&&Ds(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!IA(s)){h=td(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=ol;var I=E.current.memoizedState.isDehydrated;if(I&&(Ma(E,g).flags|=256),g=td(E,g,!1),g!==2){if(Kf&&!I){E.errorRecoveryDisabledLanes|=f,Ur|=f,h=4;break t}f=ln,ln=h,f!==null&&(ln===null?ln=f:ln.push.apply(ln,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Ma(e,0),Ds(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ds(o,n,En,!Rs);break t;case 2:ln=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=Wu+300-$e(),10<h)){if(Ds(o,n,En,!Rs),ni(o,0,!0)!==0)break t;Yi=n,o.timeoutHandle=n_(Ry.bind(null,o,s,ln,ec,Xf,n,En,Ur,Oa,Rs,f,"Throttled",-0,0),h);break t}Ry(o,s,ln,ec,Xf,n,En,Ur,Oa,Rs,f,null,-0,0)}}break}while(!0);Ei(e)}function Ry(e,n,s,o,h,f,g,E,I,P,F,K,z,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Bn},_y(n,f,K);var lt=(f&62914560)===f?Wu-$e():(f&4194048)===f?Ay-$e():0;if(lt=f1(K,lt),lt!==null){Yi=f,e.cancelPendingCommit=lt(Vy.bind(null,e,n,f,s,o,h,g,E,I,F,K,null,z,q)),Ds(e,f,g,!P);return}}Vy(e,n,f,s,o,h,g,E,I)}function IA(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ds(e,n,s,o){n&=~Yf,n&=~Ur,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-he(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&hr(e,s,n)}function nc(){return(qt&6)===0?(ul(0),!1):!0}function Wf(){if(It!==null){if(Qt===0)var e=It.return;else e=It,Li=Cr=null,gf(e),Sa=null,Go=0,e=It;for(;e!==null;)iy(e.alternate,e),e=e.return;It=null}}function Ma(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,YA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Yi=0,Wf(),$t=e,It=s=ki(e.current,null),Dt=n,Qt=0,vn=null,Rs=!1,Da=Pn(e,n),Kf=!1,Oa=En=Yf=Ur=Cs=ue=0,ln=ol=null,Xf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-he(o),f=1<<h;n|=e[h],o&=~f}return Ki=n,Su(),s}function Cy(e,n){wt=null,G.H=Wo,n===Aa||n===Ou?(n=Hg(),Qt=3):n===nf?(n=Hg(),Qt=4):Qt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,vn=n,It===null&&(ue=1,Gu(e,Nn(n,e.current)))}function Iy(){var e=yn.current;return e===null?!0:(Dt&4194048)===Dt?Mn===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Mn:!1}function Ny(){var e=G.H;return G.H=Wo,e===null?Wo:e}function Dy(){var e=G.A;return G.A=RA,e}function ic(){ue=4,Rs||(Dt&4194048)!==Dt&&yn.current!==null||(Da=!0),(Cs&134217727)===0&&(Ur&134217727)===0||$t===null||Ds($t,Dt,En,!1)}function td(e,n,s){var o=qt;qt|=2;var h=Ny(),f=Dy();($t!==e||Dt!==n)&&(ec=null,Ma(e,n)),n=!1;var g=ue;t:do try{if(Qt!==0&&It!==null){var E=It,I=vn;switch(Qt){case 8:Wf(),g=6;break t;case 3:case 2:case 9:case 6:yn.current===null&&(n=!0);var P=Qt;if(Qt=0,vn=null,Va(e,E,I,P),s&&Da){g=0;break t}break;default:P=Qt,Qt=0,vn=null,Va(e,E,I,P)}}NA(),g=ue;break}catch(F){Cy(e,F)}while(!0);return n&&e.shellSuspendCounter++,Li=Cr=null,qt=o,G.H=h,G.A=f,It===null&&($t=null,Dt=0,Su()),g}function NA(){for(;It!==null;)Oy(It)}function DA(e,n){var s=qt;qt|=2;var o=Ny(),h=Dy();$t!==e||Dt!==n?(ec=null,tc=$e()+500,Ma(e,n)):Da=Pn(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=vn;e:switch(Qt){case 1:Qt=0,vn=null,Va(e,n,f,1);break;case 2:case 9:if(Bg(f)){Qt=0,vn=null,xy(n);break}n=function(){Qt!==2&&Qt!==9||$t!==e||(Qt=7),Ei(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Bg(f)?(Qt=0,vn=null,xy(n)):(Qt=0,vn=null,Va(e,n,f,7));break;case 5:var g=null;switch(It.tag){case 26:g=It.memoizedState;case 5:case 27:var E=It;if(g?y_(g):E.stateNode.complete){Qt=0,vn=null;var I=E.sibling;if(I!==null)It=I;else{var P=E.return;P!==null?(It=P,sc(P)):It=null}break e}}Qt=0,vn=null,Va(e,n,f,5);break;case 6:Qt=0,vn=null,Va(e,n,f,6);break;case 8:Wf(),ue=6;break t;default:throw Error(a(462))}}OA();break}catch(F){Cy(e,F)}while(!0);return Li=Cr=null,G.H=o,G.A=h,qt=s,It!==null?0:($t=null,Dt=0,Su(),ue)}function OA(){for(;It!==null&&!Nh();)Oy(It)}function Oy(e){var n=ey(e.alternate,e,Ki);e.memoizedProps=e.pendingProps,n===null?sc(e):It=n}function xy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Xp(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=Xp(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:gf(n);default:iy(s,n),n=It=Dg(n,Ki),n=ey(s,n,Ki)}e.memoizedProps=e.pendingProps,n===null?sc(e):It=n}function Va(e,n,s,o){Li=Cr=null,gf(n),Sa=null,Go=0;var h=n.return;try{if(vA(e,h,n,s,Dt)){ue=1,Gu(e,Nn(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;ue=1,Gu(e,Nn(s,e.current)),It=null;return}n.flags&32768?(kt||o===1?e=!0:Da||(Dt&536870912)!==0?e=!1:(Rs=e=!0,(o===2||o===9||o===3||o===6)&&(o=yn.current,o!==null&&o.tag===13&&(o.flags|=16384))),My(n,e)):sc(n)}function sc(e){var n=e;do{if((n.flags&32768)!==0){My(n,Rs);return}e=n.return;var s=AA(n.alternate,n,Ki);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);ue===0&&(ue=5)}function My(e,n){do{var s=SA(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);ue=6,It=null}function Vy(e,n,s,o,h,f,g,E,I){e.cancelPendingCommit=null;do rc();while(Oe!==0);if((qt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Bh,xh(e,s,f,g,E,I),e===$t&&(It=$t=null,Dt=0),xa=n,Ns=e,Yi=s,Zf=f,Jf=h,Sy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,kA(as,function(){return zy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,g=qt,qt|=4;try{bA(e,n,s)}finally{qt=g,nt.p=h,G.T=o}}Oe=1,ky(),Uy(),Ly()}}function ky(){if(Oe===1){Oe=0;var e=Ns,n=xa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{gy(n,e);var f=fd,g=Tg(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Eg(E.ownerDocument.documentElement,E)){if(I!==null&&Uh(E)){var P=I.start,F=I.end;if(F===void 0&&(F=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(F,E.value.length);else{var K=E.ownerDocument||document,z=K&&K.defaultView||window;if(z.getSelection){var q=z.getSelection(),lt=E.textContent.length,gt=Math.min(I.start,lt),Jt=I.end===void 0?gt:Math.min(I.end,lt);!q.extend&&gt>Jt&&(g=Jt,Jt=gt,gt=g);var V=vg(E,gt),N=vg(E,Jt);if(V&&N&&(q.rangeCount!==1||q.anchorNode!==V.node||q.anchorOffset!==V.offset||q.focusNode!==N.node||q.focusOffset!==N.offset)){var L=K.createRange();L.setStart(V.node,V.offset),q.removeAllRanges(),gt>Jt?(q.addRange(L),q.extend(N.node,N.offset)):(L.setEnd(N.node,N.offset),q.addRange(L))}}}}for(K=[],q=E;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yc=!!hd,fd=hd=null}finally{qt=h,nt.p=o,G.T=s}}e.current=n,Oe=2}}function Uy(){if(Oe===2){Oe=0;var e=Ns,n=xa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=qt;qt|=4;try{cy(e,n.alternate,n)}finally{qt=h,nt.p=o,G.T=s}}Oe=3}}function Ly(){if(Oe===4||Oe===3){Oe=0,Xl();var e=Ns,n=xa,s=Yi,o=Sy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,xa=Ns=null,Py(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Is=null),Oi(s),n=n.stateNode,Pe&&typeof Pe.onCommitFiberRoot=="function")try{Pe.onCommitFiberRoot(Ln,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}(Yi&3)!==0&&rc(),Ei(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===$f?ll++:(ll=0,$f=e):ll=0,ul(0)}}function Py(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ho(n)))}function rc(){return ky(),Uy(),Ly(),zy()}function zy(){if(Oe!==5)return!1;var e=Ns,n=Zf;Zf=0;var s=Oi(Yi),o=G.T,h=nt.p;try{nt.p=32>s?32:s,G.T=null,s=Jf,Jf=null;var f=Ns,g=Yi;if(Oe=0,xa=Ns=null,Yi=0,(qt&6)!==0)throw Error(a(331));var E=qt;if(qt|=4,Ey(f.current),yy(f,f.current,g,s),qt=E,ul(0,!1),Pe&&typeof Pe.onPostCommitFiberRoot=="function")try{Pe.onPostCommitFiberRoot(Ln,f)}catch{}return!0}finally{nt.p=h,G.T=o,Py(e,n)}}function jy(e,n,s){n=Nn(s,n),n=Df(e.stateNode,n,2),e=As(e,n,2),e!==null&&(cr(e,2),Ei(e))}function Kt(e,n,s){if(e.tag===3)jy(e,e,s);else for(;n!==null;){if(n.tag===3){jy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Is===null||!Is.has(o))){e=Nn(s,e),s=Bp(2),o=As(n,s,2),o!==null&&(qp(s,o,n,e),cr(o,2),Ei(o));break}}n=n.return}}function ed(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new CA;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Kf=!0,h.add(s),e=xA.bind(null,e,n,s),n.then(e,e))}function xA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,$t===e&&(Dt&s)===s&&(ue===4||ue===3&&(Dt&62914560)===Dt&&300>$e()-Wu?(qt&2)===0&&Ma(e,0):Yf|=s,Oa===Dt&&(Oa=0)),Ei(e)}function By(e,n){n===0&&(n=eu()),e=br(e,n),e!==null&&(cr(e,n),Ei(e))}function MA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),By(e,s)}function VA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),By(e,s)}function kA(e,n){return De(e,n)}var ac=null,ka=null,nd=!1,oc=!1,id=!1,Os=0;function Ei(e){e!==ka&&e.next===null&&(ka===null?ac=ka=e:ka=ka.next=e),oc=!0,nd||(nd=!0,LA())}function ul(e,n){if(!id&&oc){id=!0;do for(var s=!1,o=ac;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-he(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Gy(o,f))}else f=Dt,f=ni(o,o===$t?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Pn(o,f)||(s=!0,Gy(o,f));o=o.next}while(s);id=!1}}function UA(){qy()}function qy(){oc=nd=!1;var e=0;Os!==0&&KA()&&(e=Os);for(var n=$e(),s=null,o=ac;o!==null;){var h=o.next,f=Hy(o,n);f===0?(o.next=null,s===null?ac=h:s.next=h,h===null&&(ka=s)):(s=o,(e!==0||(f&3)!==0)&&(oc=!0)),o=h}Oe!==0&&Oe!==5||ul(e),Os!==0&&(Os=0)}function Hy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-he(f),E=1<<g,I=h[g];I===-1?((E&s)===0||(E&o)!==0)&&(h[g]=Oh(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=$t,s=Dt,s=ni(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&rs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Pn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&rs(o),Oi(s)){case 2:case 8:s=vo;break;case 32:s=as;break;case 268435456:s=Zl;break;default:s=as}return o=Fy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&rs(o),e.callbackPriority=2,e.callbackNode=null,2}function Fy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(rc()&&e.callbackNode!==s)return null;var o=Dt;return o=ni(e,e===$t?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(wy(e,o,n),Hy(e,$e()),e.callbackNode!=null&&e.callbackNode===s?Fy.bind(null,e):null)}function Gy(e,n){if(rc())return null;wy(e,n,!0)}function LA(){XA(function(){(qt&6)!==0?De(_o,UA):qy()})}function sd(){if(Os===0){var e=Ea;e===0&&(e=ti,ti<<=1,(ti&261888)===0&&(ti=256)),Os=e}return Os}function Qy(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:ra(""+e)}function Ky(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function PA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=Qy((h[Ve]||null).action),g=o.submitter;g&&(n=(n=g[Ve]||null)?Qy(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new di("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Os!==0){var I=g?Ky(h,g):new FormData(h);bf(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=g?Ky(h,g):new FormData(h),bf(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var rd=0;rd<jh.length;rd++){var ad=jh[rd],zA=ad.toLowerCase(),jA=ad[0].toUpperCase()+ad.slice(1);Qn(zA,"on"+jA)}Qn(bg,"onAnimationEnd"),Qn(wg,"onAnimationIteration"),Qn(Rg,"onAnimationStart"),Qn("dblclick","onDoubleClick"),Qn("focusin","onFocus"),Qn("focusout","onBlur"),Qn(nA,"onTransitionRun"),Qn(iA,"onTransitionStart"),Qn(sA,"onTransitionCancel"),Qn(Cg,"onTransitionEnd"),ui("onMouseEnter",["mouseout","mouseover"]),ui("onMouseLeave",["mouseout","mouseover"]),ui("onPointerEnter",["pointerout","pointerover"]),ui("onPointerLeave",["pointerout","pointerover"]),li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),li("onBeforeInput",["compositionend","keypress","textInput","paste"]),li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cl));function Yy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],I=E.instance,P=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=I}else for(g=0;g<o.length;g++){if(E=o[g],I=E.instance,P=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(F){Au(F)}h.currentTarget=null,f=I}}}}function Nt(e,n){var s=n[ta];s===void 0&&(s=n[ta]=new Set);var o=e+"__bubble";s.has(o)||(Xy(n,e,2,!1),s.add(o))}function od(e,n,s){var o=0;n&&(o|=4),Xy(s,e,o,n)}var lc="_reactListening"+Math.random().toString(36).slice(2);function ld(e){if(!e[lc]){e[lc]=!0,Ao.forEach(function(s){s!=="selectionchange"&&(BA.has(s)||od(s,!1,e),od(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[lc]||(n[lc]=!0,od("selectionchange",!1,n))}}function Xy(e,n,s,o){switch(b_(n)){case 2:var h=g1;break;case 8:h=p1;break;default:h=Sd}s=h.bind(null,n,s,e),h=void 0,!pr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function ud(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var I=g.tag;if((I===3||I===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=ai(E),g===null)return;if(I=g.tag,I===5||I===6||I===26||I===27){o=f=g;continue t}E=E.parentNode}}o=o.return}fs(function(){var P=f,F=wn(s),K=[];t:{var z=Ig.get(e);if(z!==void 0){var q=di,lt=e;switch(e){case"keypress":if(_r(s)===0)break t;case"keydown":case"keyup":q=vu;break;case"focusin":lt="focus",q=Er;break;case"focusout":lt="blur",q=Er;break;case"beforeblur":case"afterblur":q=Er;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=ko;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=cu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=m;break;case bg:case wg:case Rg:q=fu;break;case Cg:q=T;break;case"scroll":case"scrollend":q=Vo;break;case"wheel":q=B;break;case"copy":case"cut":case"paste":q=du;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Vi;break;case"toggle":case"beforetoggle":q=bt}var gt=(n&4)!==0,Jt=!gt&&(e==="scroll"||e==="scrollend"),V=gt?z!==null?z+"Capture":null:z;gt=[];for(var N=P,L;N!==null;){var Q=N;if(L=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||L===null||V===null||(Q=qn(N,V),Q!=null&&gt.push(hl(N,Q,L))),Jt)break;N=N.return}0<gt.length&&(z=new q(z,lt,null,s,F),K.push({event:z,listeners:gt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",z&&s!==Oo&&(lt=s.relatedTarget||s.fromElement)&&(ai(lt)||lt[si]))break t;if((q||z)&&(z=F.window===F?F:(z=F.ownerDocument)?z.defaultView||z.parentWindow:window,q?(lt=s.relatedTarget||s.toElement,q=P,lt=lt?ai(lt):null,lt!==null&&(Jt=c(lt),gt=lt.tag,lt!==Jt||gt!==5&&gt!==27&&gt!==6)&&(lt=null)):(q=null,lt=P),q!==lt)){if(gt=ko,Q="onMouseLeave",V="onMouseEnter",N="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Vi,Q="onPointerLeave",V="onPointerEnter",N="pointer"),Jt=q==null?z:dn(q),L=lt==null?z:dn(lt),z=new gt(Q,N+"leave",q,s,F),z.target=Jt,z.relatedTarget=L,Q=null,ai(F)===P&&(gt=new gt(V,N+"enter",lt,s,F),gt.target=L,gt.relatedTarget=Jt,Q=gt),Jt=Q,q&&lt)e:{for(gt=qA,V=q,N=lt,L=0,Q=V;Q;Q=gt(Q))L++;Q=0;for(var ht=N;ht;ht=gt(ht))Q++;for(;0<L-Q;)V=gt(V),L--;for(;0<Q-L;)N=gt(N),Q--;for(;L--;){if(V===N||N!==null&&V===N.alternate){gt=V;break e}V=gt(V),N=gt(N)}gt=null}else gt=null;q!==null&&Zy(K,z,q,gt,!1),lt!==null&&Jt!==null&&Zy(K,Jt,lt,gt,!0)}}t:{if(z=P?dn(P):window,q=z.nodeName&&z.nodeName.toLowerCase(),q==="select"||q==="input"&&z.type==="file")var zt=dg;else if(hg(z))if(mg)zt=WT;else{zt=JT;var ut=ZT}else q=z.nodeName,!q||q.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&sa(P.elementType)&&(zt=dg):zt=$T;if(zt&&(zt=zt(e,P))){fg(K,zt,s,F);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Io(z,"number",z.value)}switch(ut=P?dn(P):window,e){case"focusin":(hg(ut)||ut.contentEditable==="true")&&(fa=ut,Lh=P,jo=null);break;case"focusout":jo=Lh=fa=null;break;case"mousedown":Ph=!0;break;case"contextmenu":case"mouseup":case"dragend":Ph=!1,Ag(K,s,F);break;case"selectionchange":if(eA)break;case"keydown":case"keyup":Ag(K,s,F)}var Ct;if(Bt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else ha?Tr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(pi&&s.locale!=="ko"&&(ha||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&ha&&(Ct=Mo()):(fi=F,xo="value"in fi?fi.value:fi.textContent,ha=!0)),ut=uc(P,Ot),0<ut.length&&(Ot=new gi(Ot,e,null,s,F),K.push({event:Ot,listeners:ut}),Ct?Ot.data=Ct:(Ct=ca(s),Ct!==null&&(Ot.data=Ct)))),(Ct=Cn?QT(e,s):KT(e,s))&&(Ot=uc(P,"onBeforeInput"),0<Ot.length&&(ut=new gi("onBeforeInput","beforeinput",null,s,F),K.push({event:ut,listeners:Ot}),ut.data=Ct)),PA(K,e,P,s,F)}Yy(K,n)})}function hl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function uc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=qn(e,s),h!=null&&o.unshift(hl(e,h,f)),h=qn(e,n),h!=null&&o.push(hl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function qA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Zy(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,I=E.alternate,P=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||P===null||(I=P,h?(P=qn(s,f),P!=null&&g.unshift(hl(s,P,I))):h||(P=qn(s,f),P!=null&&g.push(hl(s,P,I)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var HA=/\r\n?/g,FA=/\u0000|\uFFFD/g;function Jy(e){return(typeof e=="string"?e:""+e).replace(HA,`
`).replace(FA,"")}function $y(e,n){return n=Jy(n),Jy(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||sn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&sn(e,""+o);break;case"className":mn(e,"class",o);break;case"tabIndex":mn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":mn(e,s,o);break;case"style":Do(e,o,f);break;case"data":if(n!=="object"){mn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=ra(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=ra(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),na(e,"popover",o);break;case"xlinkActuate":Te(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Te(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Te(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Te(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Te(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Te(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Te(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Te(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Te(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":na(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=uu.get(s)||s,na(e,s,o))}}function cd(e,n,s,o,h,f){switch(s){case"style":Do(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?sn(e,o):(typeof o=="number"||typeof o=="bigint")&&sn(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Bn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!So.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ve]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):na(e,s,o)}}}function He(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,f,g,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=g=h=null,I=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var F=s[o];if(F!=null)switch(o){case"name":h=F;break;case"type":g=F;break;case"checked":I=F;break;case"defaultChecked":P=F;break;case"value":f=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:Zt(e,n,o,F,s,null)}}au(e,f,E,I,P,g,h,!1);return;case"select":Nt("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?ls(e,!!o,n,!1):s!=null&&ls(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Zt(e,n,g,E,s,null)}us(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,I,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<cl.length;o++)Nt(cl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Zt(e,n,P,o,s,null)}return;default:if(sa(n)){for(F in s)s.hasOwnProperty(F)&&(o=s[F],o!==void 0&&cd(e,n,F,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function GA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,I=null,P=null,F=null;for(q in s){var K=s[q];if(s.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(q)||Zt(e,n,q,null,o,K)}}for(var z in o){var q=o[z];if(K=s[z],o.hasOwnProperty(z)&&(q!=null||K!=null))switch(z){case"type":f=q;break;case"name":h=q;break;case"checked":P=q;break;case"defaultChecked":F=q;break;case"value":g=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,n));break;default:q!==K&&Zt(e,n,z,q,o,K)}}ia(e,g,E,I,P,F,f,h);return;case"select":q=g=E=z=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":q=I;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==I&&Zt(e,n,h,f,o,I)}n=E,s=g,o=q,z!=null?ls(e,!!s,z,!1):!!o!=!!s&&(n!=null?ls(e,!!s,n,!0):ls(e,!!s,s?[]:"",!1));return;case"textarea":q=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":q=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Zt(e,n,g,h,o,f)}ou(e,z,q);return;case"option":for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:Zt(e,n,lt,null,o,z));for(I in o)z=o[I],q=s[I],o.hasOwnProperty(I)&&z!==q&&(z!=null||q!=null)&&(I==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,I,z,o,q));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)z=s[gt],s.hasOwnProperty(gt)&&z!=null&&!o.hasOwnProperty(gt)&&Zt(e,n,gt,null,o,z);for(P in o)if(z=o[P],q=s[P],o.hasOwnProperty(P)&&z!==q&&(z!=null||q!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:Zt(e,n,P,z,o,q)}return;default:if(sa(n)){for(var Jt in s)z=s[Jt],s.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&cd(e,n,Jt,void 0,o,z);for(F in o)z=o[F],q=s[F],!o.hasOwnProperty(F)||z===q||z===void 0&&q===void 0||cd(e,n,F,z,o,q);return}}for(var V in s)z=s[V],s.hasOwnProperty(V)&&z!=null&&!o.hasOwnProperty(V)&&Zt(e,n,V,null,o,z);for(K in o)z=o[K],q=s[K],!o.hasOwnProperty(K)||z===q||z==null&&q==null||Zt(e,n,K,z,o,q)}function Wy(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function QA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&Wy(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],P=I.startTime;if(P>E)break;var F=I.transferSize,K=I.initiatorType;F&&Wy(K)&&(I=I.responseEnd,g+=F*(I<E?1:(E-P)/(I-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var hd=null,fd=null;function cc(e){return e.nodeType===9?e:e.ownerDocument}function t_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function e_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function dd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var md=null;function KA(){var e=window.event;return e&&e.type==="popstate"?e===md?!1:(md=e,!0):(md=null,!1)}var n_=typeof setTimeout=="function"?setTimeout:void 0,YA=typeof clearTimeout=="function"?clearTimeout:void 0,i_=typeof Promise=="function"?Promise:void 0,XA=typeof queueMicrotask=="function"?queueMicrotask:typeof i_<"u"?function(e){return i_.resolve(null).then(e).catch(ZA)}:n_;function ZA(e){setTimeout(function(){throw e})}function xs(e){return e==="head"}function s_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),za(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")fl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,fl(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[ri]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&fl(e.ownerDocument.body);s=h}while(s);za(n)}function r_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function gd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":gd(s),ea(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function JA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ri])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function $A(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Vn(e.nextSibling),e===null))return null;return e}function a_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Vn(e.nextSibling),e===null))return null;return e}function pd(e){return e.data==="$?"||e.data==="$~"}function yd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function WA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Vn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var _d=null;function o_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Vn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function l_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function u_(e,n,s){switch(n=cc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function fl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ea(e)}var kn=new Map,c_=new Set;function hc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Xi=nt.d;nt.d={f:t1,r:e1,D:n1,C:i1,L:s1,m:r1,X:o1,S:a1,M:l1};function t1(){var e=Xi.f(),n=nc();return e||n}function e1(e){var n=bn(e);n!==null&&n.tag===5&&n.type==="form"?Cp(n):Xi.r(e)}var Ua=typeof document>"u"?null:document;function h_(e,n,s){var o=Ua;if(o&&typeof n=="string"&&n){var h=nn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),c_.has(h)||(c_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function n1(e){Xi.D(e),h_("dns-prefetch",e,null)}function i1(e,n){Xi.C(e,n),h_("preconnect",e,n)}function s1(e,n,s){Xi.L(e,n,s);var o=Ua;if(o&&e&&n){var h='link[rel="preload"][as="'+nn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+nn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+nn(s.imageSizes)+'"]')):h+='[href="'+nn(e)+'"]';var f=h;switch(n){case"style":f=La(e);break;case"script":f=Pa(e)}kn.has(f)||(e=b({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),kn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(dl(f))||n==="script"&&o.querySelector(ml(f))||(n=o.createElement("link"),He(n,"link",e),Ee(n),o.head.appendChild(n)))}}function r1(e,n){Xi.m(e,n);var s=Ua;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+nn(o)+'"][href="'+nn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Pa(e)}if(!kn.has(f)&&(e=b({rel:"modulepreload",href:e},n),kn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(ml(f)))return}o=s.createElement("link"),He(o,"link",e),Ee(o),s.head.appendChild(o)}}}function a1(e,n,s){Xi.S(e,n,s);var o=Ua;if(o&&e){var h=oi(o).hoistableStyles,f=La(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(dl(f)))E.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},s),(s=kn.get(f))&&vd(e,s);var I=g=o.createElement("link");Ee(I),He(I,"link",e),I._p=new Promise(function(P,F){I.onload=P,I.onerror=F}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fc(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function o1(e,n){Xi.X(e,n);var s=Ua;if(s&&e){var o=oi(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=b({src:e,async:!0},n),(n=kn.get(h))&&Ed(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function l1(e,n){Xi.M(e,n);var s=Ua;if(s&&e){var o=oi(s).hoistableScripts,h=Pa(e),f=o.get(h);f||(f=s.querySelector(ml(h)),f||(e=b({src:e,async:!0,type:"module"},n),(n=kn.get(h))&&Ed(e,n),f=s.createElement("script"),Ee(f),He(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function f_(e,n,s,o){var h=(h=Rt.current)?hc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=La(s.href),s=oi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=La(s.href);var f=oi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(dl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),kn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},kn.set(e,s),f||u1(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Pa(s),s=oi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function La(e){return'href="'+nn(e)+'"'}function dl(e){return'link[rel="stylesheet"]['+e+"]"}function d_(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function u1(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),He(n,"link",s),Ee(n),e.head.appendChild(n))}function Pa(e){return'[src="'+nn(e)+'"]'}function ml(e){return"script[async]"+e}function m_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+nn(s.href)+'"]');if(o)return n.instance=o,Ee(o),o;var h=b({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ee(o),He(o,"style",h),fc(o,s.precedence,e),n.instance=o;case"stylesheet":h=La(s.href);var f=e.querySelector(dl(h));if(f)return n.state.loading|=4,n.instance=f,Ee(f),f;o=d_(s),(h=kn.get(h))&&vd(o,h),f=(e.ownerDocument||e).createElement("link"),Ee(f);var g=f;return g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),n.state.loading|=4,fc(f,s.precedence,e),n.instance=f;case"script":return f=Pa(s.src),(h=e.querySelector(ml(f)))?(n.instance=h,Ee(h),h):(o=s,(h=kn.get(f))&&(o=b({},s),Ed(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ee(h),He(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,fc(o,s.precedence,e));return n.instance}function fc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function vd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ed(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var dc=null;function g_(e,n,s){if(dc===null){var o=new Map,h=dc=new Map;h.set(s,o)}else h=dc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ri]||f[ve]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function p_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function c1(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function y_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function h1(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=La(o.href),f=n.querySelector(dl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=mc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ee(f);return}f=n.ownerDocument||n,o=d_(o),(h=kn.get(h))&&vd(o,h),f=f.createElement("link"),Ee(f);var g=f;g._p=new Promise(function(E,I){g.onload=E,g.onerror=I}),He(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=mc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Td=0;function f1(e,n){return e.stylesheets&&e.count===0&&pc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Td===0&&(Td=62500*QA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&pc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Td?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function mc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)pc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var gc=null;function pc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,gc=new Map,n.forEach(d1,e),gc=null,mc.call(e))}function d1(e,n){if(!(n.state.loading&4)){var s=gc.get(e);if(s)var o=s.get(null);else{s=new Map,gc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=mc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var gl={$$typeof:ot,Provider:null,Consumer:null,_currentValue:dt,_currentValue2:dt,_threadCount:0};function m1(e,n,s,o,h,f,g,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function __(e,n,s,o,h,f,g,E,I,P,F,K){return e=new m1(e,n,s,g,I,P,F,K,E),n=1,f===!0&&(n|=24),f=pn(3,null,null,n),e.current=f,f.stateNode=e,n=Wh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},sf(f),e}function v_(e){return e?(e=ga,e):ga}function E_(e,n,s,o,h,f){h=v_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ts(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=As(e,o,n),s!==null&&(un(s,e,n),Ko(s,e,n))}function T_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Ad(e,n){T_(e,n),(e=e.alternate)&&T_(e,n)}function A_(e){if(e.tag===13||e.tag===31){var n=br(e,67108864);n!==null&&un(n,e,67108864),Ad(e,67108864)}}function S_(e){if(e.tag===13||e.tag===31){var n=Tn();n=fr(n);var s=br(e,n);s!==null&&un(s,e,n),Ad(e,n)}}var yc=!0;function g1(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,Sd(e,n,s,o)}finally{nt.p=f,G.T=h}}function p1(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,Sd(e,n,s,o)}finally{nt.p=f,G.T=h}}function Sd(e,n,s,o){if(yc){var h=bd(o);if(h===null)ud(e,n,o,_c,s),w_(e,o);else if(_1(h,e,n,s,o))o.stopPropagation();else if(w_(e,o),n&4&&-1<y1.indexOf(e)){for(;h!==null;){var f=bn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ei(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var I=1<<31-he(g);E.entanglements[1]|=I,g&=~I}Ei(f),(qt&6)===0&&(tc=$e()+500,ul(0))}}break;case 31:case 13:E=br(f,2),E!==null&&un(E,f,2),nc(),Ad(f,2)}if(f=bd(o),f===null&&ud(e,n,o,_c,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else ud(e,n,o,null,s)}}function bd(e){return e=wn(e),wd(e)}var _c=null;function wd(e){if(_c=null,e=ai(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return _c=e,null}function b_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(lr()){case _o:return 2;case vo:return 8;case as:case Dh:return 32;case Zl:return 268435456;default:return 32}default:return 32}}var Rd=!1,Ms=null,Vs=null,ks=null,pl=new Map,yl=new Map,Us=[],y1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function w_(e,n){switch(e){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":Vs=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":pl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":yl.delete(n.pointerId)}}function _l(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=bn(n),n!==null&&A_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function _1(e,n,s,o,h){switch(n){case"focusin":return Ms=_l(Ms,e,n,s,o,h),!0;case"dragenter":return Vs=_l(Vs,e,n,s,o,h),!0;case"mouseover":return ks=_l(ks,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return pl.set(f,_l(pl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,yl.set(f,_l(yl.get(f)||null,e,n,s,o,h)),!0}return!1}function R_(e){var n=ai(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,zn(e.priority,function(){S_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,zn(e.priority,function(){S_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=bd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Oo=o,s.target.dispatchEvent(o),Oo=null}else return n=bn(s),n!==null&&A_(n),e.blockedOn=s,!1;n.shift()}return!0}function C_(e,n,s){vc(e)&&s.delete(n)}function v1(){Rd=!1,Ms!==null&&vc(Ms)&&(Ms=null),Vs!==null&&vc(Vs)&&(Vs=null),ks!==null&&vc(ks)&&(ks=null),pl.forEach(C_),yl.forEach(C_)}function Ec(e,n){e.blockedOn===n&&(e.blockedOn=null,Rd||(Rd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,v1)))}var Tc=null;function I_(e){Tc!==e&&(Tc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Tc===e&&(Tc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(wd(o||s)===null)continue;break}var f=bn(s);f!==null&&(e.splice(n,3),n-=3,bf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function za(e){function n(I){return Ec(I,e)}Ms!==null&&Ec(Ms,e),Vs!==null&&Ec(Vs,e),ks!==null&&Ec(ks,e),pl.forEach(n),yl.forEach(n);for(var s=0;s<Us.length;s++){var o=Us[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Us.length&&(s=Us[0],s.blockedOn===null);)R_(s),s.blockedOn===null&&Us.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[Ve]||null;if(typeof f=="function")g||I_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[Ve]||null)E=g.formAction;else if(wd(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),I_(s)}}}function N_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Cd(e){this._internalRoot=e}Ac.prototype.render=Cd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=Tn();E_(s,o,e,n,null,null)},Ac.prototype.unmount=Cd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;E_(e.current,2,null,e,null,null),nc(),n[si]=null}};function Ac(e){this._internalRoot=e}Ac.prototype.unstable_scheduleHydration=function(e){if(e){var n=nu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Us.length&&n!==0&&n<Us[s].priority;s++);Us.splice(s,0,e),s===0&&R_(e)}};var D_=t.version;if(D_!=="19.2.3")throw Error(a(527,D_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var E1={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sc.isDisabled&&Sc.supportsFiber)try{Ln=Sc.inject(E1),Pe=Sc}catch{}}return El.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Lp,f=Pp,g=zp;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=__(e,1,!1,null,null,s,o,null,h,f,g,N_),e[si]=n.current,ld(e),new Cd(n)},El.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Lp,g=Pp,E=zp,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=__(e,1,!0,n,s??null,o,h,I,f,g,E,N_),n.context=v_(null),s=n.current,o=Tn(),o=fr(o),h=Ts(o),h.callback=null,As(s,h,o),s=o,n.current.lanes=s,cr(n,s),Ei(n),e[si]=n.current,ld(e),new Ac(n)},El.version="19.2.3",El}var j_;function D1(){if(j_)return Dd.exports;j_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Dd.exports=N1(),Dd.exports}var O1=D1();const x1=()=>{};var B_={};const _E=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},M1=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},vE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,b=(c&3)<<4|p>>4;let x=(p&15)<<2|y>>6,H=y&63;_||(H=64,d||(x=64)),a.push(i[A],i[b],i[x],i[H])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(_E(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):M1(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const b=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||y==null||b==null)throw new V1;const x=c<<2|p>>4;if(a.push(x),y!==64){const H=p<<4&240|y>>2;if(a.push(H),b!==64){const J=y<<6&192|b;a.push(J)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class V1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const k1=function(r){const t=_E(r);return vE.encodeByteArray(t,!0)},Bc=function(r){return k1(r).replace(/\./g,"")},EE=function(r){try{return vE.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function U1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const L1=()=>U1().__FIREBASE_DEFAULTS__,P1=()=>{if(typeof process>"u"||typeof B_>"u")return;const r=B_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},z1=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&EE(r[1]);return t&&JSON.parse(t)},ah=()=>{try{return x1()||L1()||P1()||z1()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},TE=r=>ah()?.emulatorHosts?.[r],j1=r=>{const t=TE(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},AE=()=>ah()?.config,SE=r=>ah()?.[`_${r}`];class B1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function ro(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bE(r){return(await fetch(r,{credentials:"include"})).ok}function q1(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Bc(JSON.stringify(i)),Bc(JSON.stringify(d)),""].join(".")}const Rl={};function H1(){const r={prod:[],emulator:[]};for(const t of Object.keys(Rl))Rl[t]?r.emulator.push(t):r.prod.push(t);return r}function F1(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let q_=!1;function wE(r,t){if(typeof window>"u"||typeof document>"u"||!ro(window.location.host)||Rl[r]===t||Rl[r]||q_)return;Rl[r]=t;function i(x){return`__firebase__banner__${x}`}const a="__firebase__banner",c=H1().prod.length>0;function d(){const x=document.getElementById(a);x&&x.remove()}function p(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function _(x,H){x.setAttribute("width","24"),x.setAttribute("id",H),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{q_=!0,d()},x}function A(x,H){x.setAttribute("id",H),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function b(){const x=F1(a),H=i("text"),J=document.getElementById(H)||document.createElement("span"),et=i("learnmore"),$=document.getElementById(et)||document.createElement("a"),ft=i("preprendIcon"),yt=document.getElementById(ft)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ot=x.element;p(ot),A($,et);const Tt=y();_(yt,ft),ot.append(yt,J,$,Tt),document.body.appendChild(ot)}c?(J.innerText="Preview backend disconnected.",yt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(yt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,J.innerText="Preview backend running in this workspace."),J.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function Je(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function G1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Je())}function Q1(){const r=ah()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function K1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Y1(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function X1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Z1(){const r=Je();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function J1(){return!Q1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $1(){try{return typeof indexedDB=="object"}catch{return!1}}function W1(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const tS="FirebaseError";class ss extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=tS,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zl.prototype.create)}}class zl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?eS(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ss(l,p,a)}}function eS(r,t){return r.replace(nS,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const nS=/\{\$([^}]+)}/g;function iS(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function $i(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(H_(c)&&H_(d)){if(!$i(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function H_(r){return r!==null&&typeof r=="object"}function jl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function sS(r,t){const i=new rS(r,t);return i.subscribe.bind(i)}class rS{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");aS(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Vd),l.error===void 0&&(l.error=Vd),l.complete===void 0&&(l.complete=Vd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function aS(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Vd(){}function en(r){return r&&r._delegate?r._delegate:r}class Hr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Pr="[DEFAULT]";class oS{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new B1;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(uS(t))try{this.getOrInitializeService({instanceIdentifier:Pr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Pr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Pr){return this.instances.has(t)}getOptions(t=Pr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:lS(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Pr){return this.component?this.component.multipleInstances?t:Pr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(r){return r===Pr?void 0:r}function uS(r){return r.instantiationMode==="EAGER"}class cS{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new oS(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var xt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(xt||(xt={}));const hS={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},fS=xt.INFO,dS={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},mS=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=dS[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Tm{constructor(t){this.name=t,this._logLevel=fS,this._logHandler=mS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in xt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?hS[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...t),this._logHandler(this,xt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...t),this._logHandler(this,xt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...t),this._logHandler(this,xt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...t),this._logHandler(this,xt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...t),this._logHandler(this,xt.ERROR,...t)}}const gS=(r,t)=>t.some(i=>r instanceof i);let F_,G_;function pS(){return F_||(F_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function yS(){return G_||(G_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const RE=new WeakMap,Qd=new WeakMap,CE=new WeakMap,kd=new WeakMap,Am=new WeakMap;function _S(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Fs(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&RE.set(i,r)}).catch(()=>{}),Am.set(t,r),t}function vS(r){if(Qd.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});Qd.set(r,t)}let Kd={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return Qd.get(r);if(t==="objectStoreNames")return r.objectStoreNames||CE.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Fs(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function ES(r){Kd=r(Kd)}function TS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Ud(this),t,...i);return CE.set(a,t.sort?t.sort():[t]),Fs(a)}:yS().includes(r)?function(...t){return r.apply(Ud(this),t),Fs(RE.get(this))}:function(...t){return Fs(r.apply(Ud(this),t))}}function AS(r){return typeof r=="function"?TS(r):(r instanceof IDBTransaction&&vS(r),gS(r,pS())?new Proxy(r,Kd):r)}function Fs(r){if(r instanceof IDBRequest)return _S(r);if(kd.has(r))return kd.get(r);const t=AS(r);return t!==r&&(kd.set(r,t),Am.set(t,r)),t}const Ud=r=>Am.get(r);function SS(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=Fs(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Fs(d.result),_.oldVersion,_.newVersion,Fs(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),p.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),p}const bS=["get","getKey","getAll","getAllKeys","count"],wS=["put","add","delete","clear"],Ld=new Map;function Q_(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Ld.get(t))return Ld.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=wS.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||bS.includes(i)))return;const c=async function(d,...p){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(p.shift())),(await Promise.all([y[i](...p),l&&_.done]))[0]};return Ld.set(t,c),c}ES(r=>({...r,get:(t,i,a)=>Q_(t,i)||r.get(t,i,a),has:(t,i)=>!!Q_(t,i)||r.has(t,i)}));class RS{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(CS(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function CS(r){return r.getComponent()?.type==="VERSION"}const Yd="@firebase/app",K_="0.14.6";const Wi=new Tm("@firebase/app"),IS="@firebase/app-compat",NS="@firebase/analytics-compat",DS="@firebase/analytics",OS="@firebase/app-check-compat",xS="@firebase/app-check",MS="@firebase/auth",VS="@firebase/auth-compat",kS="@firebase/database",US="@firebase/data-connect",LS="@firebase/database-compat",PS="@firebase/functions",zS="@firebase/functions-compat",jS="@firebase/installations",BS="@firebase/installations-compat",qS="@firebase/messaging",HS="@firebase/messaging-compat",FS="@firebase/performance",GS="@firebase/performance-compat",QS="@firebase/remote-config",KS="@firebase/remote-config-compat",YS="@firebase/storage",XS="@firebase/storage-compat",ZS="@firebase/firestore",JS="@firebase/ai",$S="@firebase/firestore-compat",WS="firebase",tb="12.6.0";const Xd="[DEFAULT]",eb={[Yd]:"fire-core",[IS]:"fire-core-compat",[DS]:"fire-analytics",[NS]:"fire-analytics-compat",[xS]:"fire-app-check",[OS]:"fire-app-check-compat",[MS]:"fire-auth",[VS]:"fire-auth-compat",[kS]:"fire-rtdb",[US]:"fire-data-connect",[LS]:"fire-rtdb-compat",[PS]:"fire-fn",[zS]:"fire-fn-compat",[jS]:"fire-iid",[BS]:"fire-iid-compat",[qS]:"fire-fcm",[HS]:"fire-fcm-compat",[FS]:"fire-perf",[GS]:"fire-perf-compat",[QS]:"fire-rc",[KS]:"fire-rc-compat",[YS]:"fire-gcs",[XS]:"fire-gcs-compat",[ZS]:"fire-fst",[$S]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[WS]:"fire-js-all"};const qc=new Map,nb=new Map,Zd=new Map;function Y_(r,t){try{r.container.addComponent(t)}catch(i){Wi.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if(Zd.has(t))return Wi.debug(`There were multiple attempts to register component ${t}.`),!1;Zd.set(t,r);for(const i of qc.values())Y_(i,r);for(const i of nb.values())Y_(i,r);return!0}function Sm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function Xn(r){return r==null?!1:r.settings!==void 0}const ib={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Gs=new zl("app","Firebase",ib);class sb{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Hr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Gs.create("app-deleted",{appName:this._name})}}const ao=tb;function IE(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:Xd,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Gs.create("bad-app-name",{appName:String(l)});if(i||(i=AE()),!i)throw Gs.create("no-options");const c=qc.get(l);if(c){if($i(i,c.options)&&$i(a,c.config))return c;throw Gs.create("duplicate-app",{appName:l})}const d=new cS(l);for(const _ of Zd.values())d.addComponent(_);const p=new sb(i,a,d);return qc.set(l,p),p}function NE(r=Xd){const t=qc.get(r);if(!t&&r===Xd&&AE())return IE();if(!t)throw Gs.create("no-app",{appName:r});return t}function Qs(r,t,i){let a=eb[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wi.warn(d.join(" "));return}Za(new Hr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const rb="firebase-heartbeat-database",ab=1,xl="firebase-heartbeat-store";let Pd=null;function DE(){return Pd||(Pd=SS(rb,ab,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(xl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Gs.create("idb-open",{originalErrorMessage:r.message})})),Pd}async function ob(r){try{const i=(await DE()).transaction(xl),a=await i.objectStore(xl).get(OE(r));return await i.done,a}catch(t){if(t instanceof ss)Wi.warn(t.message);else{const i=Gs.create("idb-get",{originalErrorMessage:t?.message});Wi.warn(i.message)}}}async function X_(r,t){try{const a=(await DE()).transaction(xl,"readwrite");await a.objectStore(xl).put(t,OE(r)),await a.done}catch(i){if(i instanceof ss)Wi.warn(i.message);else{const a=Gs.create("idb-set",{originalErrorMessage:i?.message});Wi.warn(a.message)}}}function OE(r){return`${r.name}!${r.options.appId}`}const lb=1024,ub=30;class cb{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new fb(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=Z_();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>ub){const l=db(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Wi.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Z_(),{heartbeatsToSend:i,unsentEntries:a}=hb(this._heartbeatsCache.heartbeats),l=Bc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Wi.warn(t),""}}}function Z_(){return new Date().toISOString().substring(0,10)}function hb(r,t=lb){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),J_(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),J_(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class fb{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $1()?W1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await ob(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return X_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function J_(r){return Bc(JSON.stringify({version:2,heartbeats:r})).length}function db(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function mb(r){Za(new Hr("platform-logger",t=>new RS(t),"PRIVATE")),Za(new Hr("heartbeat",t=>new cb(t),"PRIVATE")),Qs(Yd,K_,r),Qs(Yd,K_,"esm2020"),Qs("fire-js","")}mb("");var gb="firebase",pb="12.7.0";Qs(gb,pb,"app");var $_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Ks,xE;(function(){var r;function t(w,S){function R(){}R.prototype=S.prototype,w.F=S.prototype,w.prototype=new R,w.prototype.constructor=w,w.D=function(M,D,k){for(var C=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)C[ie-2]=arguments[ie];return S.prototype[D].apply(M,C)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(w,S,R){R||(R=0);const M=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)M[D]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(D=0;D<16;++D)M[D]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=w.g[0],R=w.g[1],D=w.g[2];let k=w.g[3],C;C=S+(k^R&(D^k))+M[0]+3614090360&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[1]+3905402710&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[2]+606105819&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[3]+3250441966&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(k^R&(D^k))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[5]+1200080426&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[6]+2821735955&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[7]+4249261313&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(k^R&(D^k))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[9]+2336552879&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[10]+4294925233&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[11]+2304563134&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(k^R&(D^k))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=k+(D^S&(R^D))+M[13]+4254626195&4294967295,k=S+(C<<12&4294967295|C>>>20),C=D+(R^k&(S^R))+M[14]+2792965006&4294967295,D=k+(C<<17&4294967295|C>>>15),C=R+(S^D&(k^S))+M[15]+1236535329&4294967295,R=D+(C<<22&4294967295|C>>>10),C=S+(D^k&(R^D))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[6]+3225465664&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[11]+643717713&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[0]+3921069994&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^k&(R^D))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[10]+38016083&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[15]+3634488961&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[4]+3889429448&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^k&(R^D))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[14]+3275163606&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[3]+4107603335&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[8]+1163531501&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(D^k&(R^D))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=k+(R^D&(S^R))+M[2]+4243563512&4294967295,k=S+(C<<9&4294967295|C>>>23),C=D+(S^R&(k^S))+M[7]+1735328473&4294967295,D=k+(C<<14&4294967295|C>>>18),C=R+(k^S&(D^k))+M[12]+2368359562&4294967295,R=D+(C<<20&4294967295|C>>>12),C=S+(R^D^k)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[8]+2272392833&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[11]+1839030562&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[14]+4259657740&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^k)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[4]+1272893353&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[7]+4139469664&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[10]+3200236656&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^k)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[0]+3936430074&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[3]+3572445317&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[6]+76029189&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(R^D^k)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=k+(S^R^D)+M[12]+3873151461&4294967295,k=S+(C<<11&4294967295|C>>>21),C=D+(k^S^R)+M[15]+530742520&4294967295,D=k+(C<<16&4294967295|C>>>16),C=R+(D^k^S)+M[2]+3299628645&4294967295,R=D+(C<<23&4294967295|C>>>9),C=S+(D^(R|~k))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[7]+1126891415&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[14]+2878612391&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[5]+4237533241&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~k))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[3]+2399980690&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[10]+4293915773&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[1]+2240044497&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~k))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[15]+4264355552&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[6]+2734768916&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[13]+1309151649&4294967295,R=D+(C<<21&4294967295|C>>>11),C=S+(D^(R|~k))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=k+(R^(S|~D))+M[11]+3174756917&4294967295,k=S+(C<<10&4294967295|C>>>22),C=D+(S^(k|~R))+M[2]+718787259&4294967295,D=k+(C<<15&4294967295|C>>>17),C=R+(k^(D|~S))+M[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(D+(C<<21&4294967295|C>>>11))&4294967295,w.g[2]=w.g[2]+D&4294967295,w.g[3]=w.g[3]+k&4294967295}a.prototype.v=function(w,S){S===void 0&&(S=w.length);const R=S-this.blockSize,M=this.C;let D=this.h,k=0;for(;k<S;){if(D==0)for(;k<=R;)l(this,w,k),k+=this.blockSize;if(typeof w=="string"){for(;k<S;)if(M[D++]=w.charCodeAt(k++),D==this.blockSize){l(this,M),D=0;break}}else for(;k<S;)if(M[D++]=w[k++],D==this.blockSize){l(this,M),D=0;break}}this.h=D,this.o+=S},a.prototype.A=function(){var w=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;S=this.o*8;for(var R=w.length-8;R<w.length;++R)w[R]=S&255,S/=256;for(this.v(w),w=Array(16),S=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)w[S++]=this.g[R]>>>M&255;return w};function c(w,S){var R=p;return Object.prototype.hasOwnProperty.call(R,w)?R[w]:R[w]=S(w)}function d(w,S){this.h=S;const R=[];let M=!0;for(let D=w.length-1;D>=0;D--){const k=w[D]|0;M&&k==S||(R[D]=k,M=!1)}this.g=R}var p={};function _(w){return-128<=w&&w<128?c(w,function(S){return new d([S|0],S<0?-1:0)}):new d([w|0],w<0?-1:0)}function y(w){if(isNaN(w)||!isFinite(w))return b;if(w<0)return $(y(-w));const S=[];let R=1;for(let M=0;w>=R;M++)S[M]=w/R|0,R*=4294967296;return new d(S,0)}function A(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return $(A(w.substring(1),S));if(w.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(S,8));let M=b;for(let k=0;k<w.length;k+=8){var D=Math.min(8,w.length-k);const C=parseInt(w.substring(k,k+D),S);D<8?(D=y(Math.pow(S,D)),M=M.j(D).add(y(C))):(M=M.j(R),M=M.add(y(C)))}return M}var b=_(0),x=_(1),H=_(16777216);r=d.prototype,r.m=function(){if(et(this))return-$(this).m();let w=0,S=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);w+=(M>=0?M:4294967296+M)*S,S*=4294967296}return w},r.toString=function(w){if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(J(this))return"0";if(et(this))return"-"+$(this).toString(w);const S=y(Math.pow(w,6));var R=this;let M="";for(;;){const D=Tt(R,S).g;R=ft(R,D.j(S));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(w);if(R=D,J(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(w){return w<0?0:w<this.g.length?this.g[w]:this.h};function J(w){if(w.h!=0)return!1;for(let S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function et(w){return w.h==-1}r.l=function(w){return w=ft(this,w),et(w)?-1:J(w)?0:1};function $(w){const S=w.g.length,R=[];for(let M=0;M<S;M++)R[M]=~w.g[M];return new d(R,~w.h).add(x)}r.abs=function(){return et(this)?$(this):this},r.add=function(w){const S=Math.max(this.g.length,w.g.length),R=[];let M=0;for(let D=0;D<=S;D++){let k=M+(this.i(D)&65535)+(w.i(D)&65535),C=(k>>>16)+(this.i(D)>>>16)+(w.i(D)>>>16);M=C>>>16,k&=65535,C&=65535,R[D]=C<<16|k}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ft(w,S){return w.add($(S))}r.j=function(w){if(J(this)||J(w))return b;if(et(this))return et(w)?$(this).j($(w)):$($(this).j(w));if(et(w))return $(this.j($(w)));if(this.l(H)<0&&w.l(H)<0)return y(this.m()*w.m());const S=this.g.length+w.g.length,R=[];for(var M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let D=0;D<w.g.length;D++){const k=this.i(M)>>>16,C=this.i(M)&65535,ie=w.i(D)>>>16,Ie=w.i(D)&65535;R[2*M+2*D]+=C*Ie,yt(R,2*M+2*D),R[2*M+2*D+1]+=k*Ie,yt(R,2*M+2*D+1),R[2*M+2*D+1]+=C*ie,yt(R,2*M+2*D+1),R[2*M+2*D+2]+=k*ie,yt(R,2*M+2*D+2)}for(w=0;w<S;w++)R[w]=R[2*w+1]<<16|R[2*w];for(w=S;w<2*S;w++)R[w]=0;return new d(R,0)};function yt(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function ot(w,S){this.g=w,this.h=S}function Tt(w,S){if(J(S))throw Error("division by zero");if(J(w))return new ot(b,b);if(et(w))return S=Tt($(w),S),new ot($(S.g),$(S.h));if(et(S))return S=Tt(w,$(S)),new ot($(S.g),S.h);if(w.g.length>30){if(et(w)||et(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=S;M.l(w)<=0;)R=W(R),M=W(M);var D=st(R,1),k=st(M,1);for(M=st(M,2),R=st(R,2);!J(M);){var C=k.add(M);C.l(w)<=0&&(D=D.add(R),k=C),M=st(M,1),R=st(R,1)}return S=ft(w,D.j(S)),new ot(D,S)}for(D=b;w.l(S)>=0;){for(R=Math.max(1,Math.floor(w.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=y(R),C=k.j(S);et(C)||C.l(w)>0;)R-=M,k=y(R),C=k.j(S);J(k)&&(k=x),D=D.add(k),w=ft(w,C)}return new ot(D,w)}r.B=function(w){return Tt(this,w).h},r.and=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)&w.i(M);return new d(R,this.h&w.h)},r.or=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)|w.i(M);return new d(R,this.h|w.h)},r.xor=function(w){const S=Math.max(this.g.length,w.g.length),R=[];for(let M=0;M<S;M++)R[M]=this.i(M)^w.i(M);return new d(R,this.h^w.h)};function W(w){const S=w.g.length+1,R=[];for(let M=0;M<S;M++)R[M]=w.i(M)<<1|w.i(M-1)>>>31;return new d(R,w.h)}function st(w,S){const R=S>>5;S%=32;const M=w.g.length-R,D=[];for(let k=0;k<M;k++)D[k]=S>0?w.i(k+R)>>>S|w.i(k+R+1)<<32-S:w.i(k+R);return new d(D,w.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,xE=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Ks=d}).apply(typeof $_<"u"?$_:typeof self<"u"?self:typeof window<"u"?window:{});var bc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ME,Tl,VE,Dc,Jd,kE,UE,LE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof bc=="object"&&bc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var U=u[T];if(!(U in v))break t;v=v[U]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function b(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,U,B){for(var tt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)tt[bt-2]=arguments[bt];return m.prototype[U].apply(T,tt)}}var x=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function J(u,m){for(let T=1;T<arguments.length;T++){const U=arguments[T];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const B=U.length||0;u.length=v+B;for(let tt=0;tt<B;tt++)u[v+tt]=U[tt]}else u.push(U)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function ft(){var u=w;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,v){const T=ot.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ot=new et(()=>new Tt,u=>u.reset());class Tt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let W,st=!1,w=new yt,S=()=>{const u=Promise.resolve(void 0);W=()=>{u.then(R)}};function R(){for(var u;u=ft();){try{u.h.call(u.g)}catch(v){$(v)}var m=ot;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}st=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function C(u){return/^[\s\xa0]*$/.test(u)}function ie(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}b(ie,D),ie.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ie.Z.h.call(this)},ie.prototype.h=function(){ie.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ie="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,T,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=U,this.key=++G,this.da=this.fa=!1}function dt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Pt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ft(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function O(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(v in T)u[v]=T[v];for(let B=0;B<Y.length;B++)v=Y[B],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function at(u){this.src=u,this.g={},this.h=0}at.prototype.add=function(u,m,v,T,U){const B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);const tt=Rt(u,m,T,U);return tt>-1?(m=u[tt],v||(m.fa=!1)):(m=new nt(m,this.src,B,!!T,U),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],U=Array.prototype.indexOf.call(T,m,void 0),B;(B=U>=0)&&Array.prototype.splice.call(T,U,1),B&&(dt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,T){for(let U=0;U<u.length;++U){const B=u[U];if(!B.da&&B.listener==m&&B.capture==!!v&&B.ha==T)return U}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function se(u,m,v,T,U){if(Array.isArray(m)){for(let B=0;B<m.length;B++)se(u,m[B],v,T,U);return null}return v=yo(v),u&&u[Ie]?u.J(m,v,p(T)?!!T.capture:!1,U):ar(u,m,v,!1,T,U)}function ar(u,m,v,T,U,B){if(!m)throw Error("Invalid event type");const tt=p(U)?!!U.capture:!!U;let bt=or(u);if(bt||(u[Ut]=bt=new at(u)),v=bt.add(m,v,T,tt,B),v.proxy)return v;if(T=Zr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(U=tt),U===void 0&&(U=!1),u.addEventListener(m.toString(),T,U);else if(u.attachEvent)u.attachEvent(Wn(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zr(){function u(v){return m.call(u.src,u.listener,v)}const m=go;return u}function Jr(u,m,v,T,U){if(Array.isArray(m))for(var B=0;B<m.length;B++)Jr(u,m[B],v,T,U);else T=p(T)?!!T.capture:!!T,v=yo(v),u&&u[Ie]?(u=u.i,B=String(m).toString(),B in u.g&&(m=u.g[B],v=Rt(m,v,T,U),v>-1&&(dt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[B],u.h--)))):u&&(u=or(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,T,U)),(v=u>-1?m[u]:null)&&$r(v))}function $r(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Ie])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(Wn(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=or(m))?(vt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):dt(u)}}}function Wn(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function go(u,m){if(u.da)u=!0;else{m=new ie(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&$r(u),u=v.call(T,m)}return u}function or(u){return u=u[Ut],u instanceof at?u:null}var po="__closure_events_fn_"+(Math.random()*1e9>>>0);function yo(u){return typeof u=="function"?u:(u[po]||(u[po]=function(m){return u.handleEvent(m)}),u[po])}function ye(){M.call(this),this.i=new at(this),this.M=this,this.G=null}b(ye,M),ye.prototype[Ie]=!0,ye.prototype.removeEventListener=function(u,m,v,T){Jr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var U=m;m=new D(T,u),it(m,U)}U=!0;let B,tt;if(v)for(tt=v.length-1;tt>=0;tt--)B=m.g=v[tt],U=rs(B,T,!0,m)&&U;if(B=m.g=u,U=rs(B,T,!0,m)&&U,U=rs(B,T,!1,m)&&U,v)for(tt=0;tt<v.length;tt++)B=m.g=v[tt],U=rs(B,T,!1,m)&&U}ye.prototype.N=function(){if(ye.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)dt(v[T]);delete u.g[m],u.h--}}this.G=null},ye.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ye.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function rs(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let B=0;B<m.length;++B){const tt=m[B];if(tt&&!tt.da&&tt.capture==v){const bt=tt.listener,fe=tt.ha||tt.src;tt.fa&&vt(u.i,tt),U=bt.call(fe,T)!==!1&&U}}return U&&!T.defaultPrevented}function Nh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Xl(u){u.g=Nh(()=>{u.g=null,u.i&&(u.i=!1,Xl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class $e extends M{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Xl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function lr(u){M.call(this),this.h=u,this.g={}}b(lr,M);var _o=[];function vo(u){Pt(u.g,function(m,v){this.g.hasOwnProperty(v)&&$r(m)},u),u.g={}}lr.prototype.N=function(){lr.Z.N.call(this),vo(this)},lr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var as=d.JSON.stringify,Dh=d.JSON.parse,Zl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Jl(){}function $l(){}var Ln={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Pe(){D.call(this,"d")}b(Pe,D);function Sn(){D.call(this,"c")}b(Sn,D);var he={},Wl=null;function Wr(){return Wl=Wl||new ye}he.Ia="serverreachability";function tu(u){D.call(this,he.Ia,u)}b(tu,D);function ti(u){const m=Wr();De(m,new tu(m))}he.STAT_EVENT="statevent";function ur(u,m){D.call(this,he.STAT_EVENT,u),this.stat=m}b(ur,D);function _e(u){const m=Wr();De(m,new ur(m,u))}he.Ja="timingevent";function ei(u,m){D.call(this,he.Ja,u),this.size=m}b(ei,D);function ni(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Pn(){this.g=!0}Pn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,U,B){u.info(function(){if(u.g)if(B){var tt="",bt=B.split("&");for(let Bt=0;Bt<bt.length;Bt++){var fe=bt[Bt].split("=");if(fe.length>1){const re=fe[0];fe=fe[1];const Cn=re.split("_");tt=Cn.length>=2&&Cn[1]=="type"?tt+(re+"="+fe+"&"):tt+(re+"=redacted&")}}}else tt=null;else tt=B;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+v+`
`+tt})}function eu(u,m,v,T,U,B,tt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+v+`
`+B+" "+tt})}function ii(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+xh(u,v)+(T?" "+T:"")})}function cr(u,m){u.info(function(){return"TIMEOUT: "+m})}Pn.prototype.info=function(){};function xh(u,m){if(!u.g)return m;if(!m)return null;try{const B=JSON.parse(m);if(B){for(u=0;u<B.length;u++)if(Array.isArray(B[u])){var v=B[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var U=T[0];if(U!="noop"&&U!="stop"&&U!="close")for(let tt=1;tt<T.length;tt++)T[tt]=""}}}}return as(B)}catch{return m}}var hr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Eo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},To;function fr(){}b(fr,Jl),fr.prototype.g=function(){return new XMLHttpRequest},To=new fr;function Oi(u){return encodeURIComponent(String(u))}function nu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function zn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new lr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new jn}function jn(){this.i=null,this.g="",this.h=!1}var ve={},Ve={};function si(u,m,v){u.M=1,u.A=dr(Te(m)),u.u=v,u.R=!0,ta(u,null)}function ta(u,m){u.F=Date.now(),ri(u),u.B=Te(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),sa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new jn,u.g=yu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new $e(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(_o[0]=U.toString()),U=_o);for(let B=0;B<U.length;B++){const tt=se(v,U[B],T||m.handleEvent,!1,m.h||m);if(!tt)break;m.g[tt.key]=tt}m=u.J?O(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ti(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}zn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Hn(u)==3?m.j():this.Y(u)},zn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Hn(this.g),fe=this.g.ya(),Bt=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||bt!=4||fe==7||(fe==8||Bt<=0?ti(3):ti(2)),ai(this);var m=this.g.ca();this.X=m;var v=Mh(this);if(this.o=m==200,eu(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,U=this.g;if((T=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(T)){var B=T;break e}}B=null}if(u=B)ii(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,oi(this,u);else{this.o=!1,this.m=3,_e(12),dn(this),bn(this);break t}}if(this.R){u=!0;let re;for(;!this.K&&this.C<v.length;)if(re=su(this,v),re==Ve){bt==4&&(this.m=4,_e(14),u=!1),ii(this.i,this.l,null,"[Incomplete Response]");break}else if(re==ve){this.m=4,_e(15),ii(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ii(this.i,this.l,re,null),oi(this,re);if(iu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,_e(16),u=!1),this.o=this.o&&u,!u)ii(this.i,this.l,v,"[Invalid Chunked Response]"),dn(this),bn(this);else if(v.length>0&&!this.W){this.W=!0;var tt=this.j;tt.g==this&&tt.aa&&!tt.P&&(tt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Uo(tt),tt.P=!0,_e(11))}}else ii(this.i,this.l,v,null),oi(this,v);bt==4&&dn(this),this.o&&!this.K&&(bt==4?du(this.j,this):(this.o=!1,ri(this)))}else Mi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,_e(12)):(this.m=0,_e(13)),dn(this),bn(this)}}}catch{}};function Mh(u){if(!iu(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,U=Hn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return dn(u),bn(u),"";u.h.i=new d.TextDecoder}for(let B=0;B<T;B++)u.h.h=!0,v+=u.h.i.decode(m[B],{stream:!(U&&B==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function iu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function su(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ve:(v=Number(m.substring(v,T)),isNaN(v)?ve:(T+=1,T+v>m.length?Ve:(m=m.slice(T,T+v),u.C=T+v,m)))}zn.prototype.cancel=function(){this.K=!0,dn(this)};function ri(u){u.T=Date.now()+u.H,ea(u,u.H)}function ea(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ni(y(u.aa,u),m)}function ai(u){u.D&&(d.clearTimeout(u.D),u.D=null)}zn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(cr(this.i,this.B),this.M!=2&&(ti(),_e(17)),dn(this),this.m=2,bn(this)):ea(this,this.T-u)};function bn(u){u.j.I==0||u.K||du(u.j,u)}function dn(u){ai(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,vo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function oi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||ui(v.h,u))){if(!u.L&&ui(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ua(v),ms(v);else break t;Er(v),_e(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ni(y(v.Va,v),6e3));li(v.h)<=1&&v.ta&&(v.ta=void 0)}else gi(v,11)}else if((u.L||v.g==u)&&ua(v),!C(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Bt=U[m];const re=Bt[0];if(!(re<=v.K))if(v.K=re,Bt=Bt[1],v.I==2)if(Bt[0]=="c"){v.M=Bt[1],v.ba=Bt[2];const Cn=Bt[3];Cn!=null&&(v.ka=Cn,v.j.info("VER="+v.ka));const pi=Bt[4];pi!=null&&(v.za=pi,v.j.info("SVER="+v.za));const Fn=Bt[5];Fn!=null&&typeof Fn=="number"&&Fn>0&&(T=1.5*Fn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Gn=u.g;if(Gn){const Tr=Gn.g?Gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Tr){var B=T.h;B.g||Tr.indexOf("spdy")==-1&&Tr.indexOf("quic")==-1&&Tr.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(bo(B,B.h),B.h=null))}if(T.G){const ca=Gn.g?Gn.g.getResponseHeader("X-HTTP-Session-Id"):null;ca&&(T.wa=ca,Gt(T.J,T.G,ca))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var tt=u;if(T.na=pu(T,T.L?T.ba:null,T.W),tt.L){wo(T.h,tt);var bt=tt,fe=T.O;fe&&(bt.H=fe),bt.D&&(ai(bt),ri(bt)),T.g=tt}else hu(T);v.i.length>0&&mi(v)}else Bt[0]!="stop"&&Bt[0]!="close"||gi(v,7);else v.I==3&&(Bt[0]=="stop"||Bt[0]=="close"?Bt[0]=="stop"?gi(v,7):Vo(v):Bt[0]!="noop"&&v.l&&v.l.qa(Bt),v.A=0)}}ti(4)}catch{}}var Ee=class{constructor(u,m){this.g=u,this.map=m}};function Ao(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function So(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function li(u){return u.h?1:u.g?u.g.size:0}function ui(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function bo(u,m){u.g?u.g.add(m):u.h=m}function wo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ao.prototype.cancel=function(){if(this.i=Ro(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ro(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ru=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function na(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let U,B=null;T>=0?(U=u[v].substring(0,T),B=u[v].substring(T+1)):U=u[v],m(U,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function mn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof mn?(this.l=u.l,ke(this,u.j),this.o=u.o,this.g=u.g,os(this,u.u),this.h=u.h,Co(this,uu(u.i)),this.m=u.m):u&&(m=String(u).match(ru))?(this.l=!1,ke(this,m[1]||"",!0),this.o=ci(m[2]||""),this.g=ci(m[3]||"",!0),os(this,m[4]),this.h=ci(m[5]||"",!0),Co(this,m[6]||"",!0),this.m=ci(m[7]||"")):(this.l=!1,this.i=new us(null,this.l))}mn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(mr(m,ia,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(mr(m,ia,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(mr(v,v.charAt(0)=="/"?Io:au,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",mr(v,ou)),u.join("")},mn.prototype.resolve=function(u){const m=Te(this);let v=!!u.j;v?ke(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)os(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var U=m.h.lastIndexOf("/");U!=-1&&(T=m.h.slice(0,U+1)+T)}if(U=T,U==".."||U==".")T="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){T=U.lastIndexOf("/",0)==0,U=U.split("/");const B=[];for(let tt=0;tt<U.length;){const bt=U[tt++];bt=="."?T&&tt==U.length&&B.push(""):bt==".."?((B.length>1||B.length==1&&B[0]!="")&&B.pop(),T&&tt==U.length&&B.push("")):(B.push(bt),T=!0)}T=B.join("/")}else T=U}return v?m.h=T:v=u.i.toString()!=="",v?Co(m,uu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Te(u){return new mn(u)}function ke(u,m,v){u.j=v?ci(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function os(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Co(u,m,v){m instanceof us?(u.i=m,ra(u.i,u.l)):(v||(m=mr(m,ls)),u.i=new us(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function dr(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ci(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function mr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,nn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function nn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ia=/[#\/\?@]/g,au=/[#\?:]/g,Io=/[#\?]/g,ls=/[#\?@]/g,ou=/#/g;function us(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function sn(u){u.g||(u.g=new Map,u.h=0,u.i&&na(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=us.prototype,r.add=function(u,m){sn(this),this.i=null,u=cs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function lu(u,m){sn(u),m=cs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function No(u,m){return sn(u),m=cs(u,m),u.g.has(m)}r.forEach=function(u,m){sn(this),this.g.forEach(function(v,T){v.forEach(function(U){u.call(m,U,T,this)},this)},this)};function Do(u,m){sn(u);let v=[];if(typeof m=="string")No(u,m)&&(v=v.concat(u.g.get(cs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return sn(this),this.i=null,u=cs(this,u),No(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Do(this,u),u.length>0?String(u[0]):m):m};function sa(u,m,v){lu(u,m),v.length>0&&(u.i=null,u.g.set(cs(u,m),H(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const U=Oi(v);v=Do(this,v);for(let B=0;B<v.length;B++){let tt=U;v[B]!==""&&(tt+="="+Oi(v[B])),u.push(tt)}}return this.i=u.join("&")};function uu(u){const m=new us;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function cs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function ra(u,m){m&&!u.j&&(sn(u),u.i=null,u.g.forEach(function(v,T){const U=T.toLowerCase();T!=U&&(lu(this,T),sa(this,U,v))},u)),u.j=m}function Bn(u,m){const v=new Pn;if(d.Image){const T=new Image;T.onload=A(wn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(wn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(wn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(wn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Oo(u,m){const v=new Pn,T=new AbortController,U=setTimeout(()=>{T.abort(),wn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(U),B.ok?wn(v,"TestPingServer: ok",!0,m):wn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),wn(v,"TestPingServer: error",!1,m)})}function wn(u,m,v,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(v)}catch{}}function hs(){this.g=new Zl}function hi(u){this.i=u.Sb||null,this.h=u.ab||!1}b(hi,Jl),hi.prototype.g=function(){return new gr(this.i,this.h)};function gr(u,m){ye.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(gr,ye),r=gr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,qn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,fs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,qn(this)),this.g&&(this.readyState=3,qn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;aa(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function aa(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?fs(this):qn(this),this.readyState==3&&aa(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,fs(this))},r.Na=function(u){this.g&&(this.response=u,fs(this))},r.ga=function(){this.g&&fs(this)};function fs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,qn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function qn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Rn(u){let m="";return Pt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function pr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=Rn(v),typeof u=="string"?v!=null&&Oi(v):Gt(u,m,v))}function Yt(u){ye.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(Yt,ye);var fi=/^https?$/i,xo=["POST","PUT"];r=Yt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():To.g(),this.g.onreadystatechange=x(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){yr(this,B);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)v.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())v.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(B=>B.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(xo,m,void 0)>=0)||T||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,tt]of v)this.g.setRequestHeader(B,tt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(B){yr(this,B)}};function yr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Mo(u),xi(u)}function Mo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),xi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xi(this,!0)),Yt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?_r(this):this.Xa())},r.Xa=function(){_r(this)};function _r(u){if(u.h&&typeof c<"u"){if(u.v&&Hn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Hn(u)==4){u.h=!1;try{const B=u.ca();t:switch(B){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=B===0){let tt=String(u.D).match(ru)[1]||null;!tt&&d.self&&d.self.location&&(tt=d.self.location.protocol.slice(0,-1)),T=!fi.test(tt?tt.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var U=Hn(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Mo(u)}}finally{xi(u)}}}}function xi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Hn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Hn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Dh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Mi(u){const m={};u=(u.g&&Hn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(C(u[T]))continue;var v=nu(u[T]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const B=m[U]||[];m[U]=B,B.push(v)}Ft(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function di(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ds(u){this.za=0,this.i=[],this.j=new Pn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=di("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=di("baseRetryDelayMs",5e3,u),this.Za=di("retryDelaySeedMs",1e4,u),this.Ta=di("forwardChannelMaxRetries",2,u),this.va=di("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ao(u&&u.concurrentRequestLimit),this.Ba=new hs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ds.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){_e(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=pu(this,null,this.W),mi(this)};function Vo(u){if(oa(u),u.I==3){var m=u.V++,v=Te(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),vr(u,v),m=new zn(u,u.j,m),m.M=2,m.A=dr(Te(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=yu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ri(m)}gu(u)}function ms(u){u.g&&(Uo(u),u.g.cancel(),u.g=null)}function oa(u){ms(u),u.v&&(d.clearTimeout(u.v),u.v=null),ua(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function mi(u){if(!So(u.h)&&!u.m){u.m=!0;var m=u.Ea;W||S(),st||(W(),st=!0),w.add(m,u),u.D=0}}function la(u,m){return li(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ni(y(u.Ea,u,m),mu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new zn(this,this.j,u);let B=this.o;if(this.U&&(B?(B=O(B),it(B,this.U)):B=this.U),this.u!==null||this.R||(U.J=B,B=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=cu(this,U,m),v=Te(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),vr(this,v),B&&(this.R?m="headers="+Oi(Rn(B))+"&"+m:this.u&&pr(v,this.u,B)),bo(this.h,U),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),U.U=!0,si(U,v,null)):si(U,v,m),this.I=2}}else this.I==3&&(u?ko(this,u):this.i.length==0||So(this.h)||ko(this))};function ko(u,m){var v;m?v=m.l:v=u.V++;const T=Te(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),vr(u,T),u.u&&u.o&&pr(T,u.u,u.o),v=new zn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=cu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),bo(u.h,v),si(v,T,m)}function vr(u,m){u.H&&Pt(u.H,function(v,T){Gt(m,T,v)}),u.l&&Pt({},function(v,T){Gt(m,T,v)})}function cu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var U=u.i;let bt=-1;for(;;){const fe=["count="+v];bt==-1?v>0?(bt=U[0].g,fe.push("ofs="+bt)):bt=0:fe.push("ofs="+bt);let Bt=!0;for(let re=0;re<v;re++){var B=U[re].g;const Cn=U[re].map;if(B-=bt,B<0)bt=Math.max(0,U[re].g-100),Bt=!1;else try{B="req"+B+"_"||"";try{var tt=Cn instanceof Map?Cn:Object.entries(Cn);for(const[pi,Fn]of tt){let Gn=Fn;p(Fn)&&(Gn=as(Fn)),fe.push(B+pi+"="+encodeURIComponent(Gn))}}catch(pi){throw fe.push(B+"type="+encodeURIComponent("_badmap")),pi}}catch{T&&T(Cn)}}if(Bt){tt=fe.join("&");break t}}tt=void 0}return u=u.i.splice(0,v),m.G=u,tt}function hu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;W||S(),st||(W(),st=!0),w.add(m,u),u.A=0}}function Er(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ni(y(u.Da,u),mu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,fu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ni(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_e(10),ms(this),fu(this))};function Uo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function fu(u){u.g=new zn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Te(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),vr(u,m),u.u&&u.o&&pr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=dr(Te(m)),v.u=null,v.R=!0,ta(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ms(this),Er(this),_e(19))};function ua(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function du(u,m){var v=null;if(u.g==m){ua(u),Uo(u),u.g=null;var T=2}else if(ui(u.h,m))v=m.G,wo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;T=Wr(),De(T,new ei(T,v)),mi(u)}else hu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(T==1&&la(u,m)||T==2&&Er(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:gi(u,5);break;case 4:gi(u,10);break;case 3:gi(u,6);break;default:gi(u,2)}}}function mu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function gi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const U=!T;T=new mn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||ke(T,"https"),dr(T),U?Bn(T.toString(),v):Oo(T.toString(),v)}else _e(2);u.I=0,u.l&&u.l.pa(m),gu(u),oa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_e(2)):(this.j.info("Failed to ping google.com"),_e(1))};function gu(u){if(u.I=0,u.ja=[],u.l){const m=Ro(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ja,m),J(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function pu(u,m,v){var T=v instanceof mn?Te(v):new mn(v);if(T.g!="")m&&(T.g=m+"."+T.g),os(T,T.u);else{var U=d.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const B=new mn(null);T&&ke(B,T),m&&(B.g=m),U&&os(B,U),v&&(B.h=v),T=B}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),vr(u,T),T}function yu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Yt(new hi({ab:v})):new Yt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function _u(){}r=_u.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function gs(){}gs.prototype.g=function(u,m){return new We(u,m)};function We(u,m){ye.call(this),this.g=new ds(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!C(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!C(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Vi(this)}b(We,ye),We.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},We.prototype.close=function(){Vo(this.g)},We.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=as(u),u=v);m.i.push(new Ee(m.Ya++,u)),m.I==3&&mi(m)},We.prototype.N=function(){this.g.l=null,delete this.j,Vo(this.g),delete this.g,We.Z.N.call(this)};function vu(u){Pe.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}b(vu,Pe);function Eu(){Sn.call(this),this.status=1}b(Eu,Sn);function Vi(u){this.g=u}b(Vi,_u),Vi.prototype.ra=function(){De(this.g,"a")},Vi.prototype.qa=function(u){De(this.g,new vu(u))},Vi.prototype.pa=function(u){De(this.g,new Eu)},Vi.prototype.oa=function(){De(this.g,"b")},gs.prototype.createWebChannel=gs.prototype.g,We.prototype.send=We.prototype.o,We.prototype.open=We.prototype.m,We.prototype.close=We.prototype.close,LE=function(){return new gs},UE=function(){return Wr()},kE=he,Jd={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},hr.NO_ERROR=0,hr.TIMEOUT=8,hr.HTTP_ERROR=6,Dc=hr,Eo.COMPLETE="complete",VE=Eo,$l.EventType=Ln,Ln.OPEN="a",Ln.CLOSE="b",Ln.ERROR="c",Ln.MESSAGE="d",ye.prototype.listen=ye.prototype.J,Tl=$l,Yt.prototype.listenOnce=Yt.prototype.K,Yt.prototype.getLastError=Yt.prototype.Ha,Yt.prototype.getLastErrorCode=Yt.prototype.ya,Yt.prototype.getStatus=Yt.prototype.ca,Yt.prototype.getResponseJson=Yt.prototype.La,Yt.prototype.getResponseText=Yt.prototype.la,Yt.prototype.send=Yt.prototype.ea,Yt.prototype.setWithCredentials=Yt.prototype.Fa,ME=Yt}).apply(typeof bc<"u"?bc:typeof self<"u"?self:typeof window<"u"?window:{});const W_="@firebase/firestore",tv="4.9.3";class Xe{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Xe.UNAUTHENTICATED=new Xe(null),Xe.GOOGLE_CREDENTIALS=new Xe("google-credentials-uid"),Xe.FIRST_PARTY=new Xe("first-party-uid"),Xe.MOCK_USER=new Xe("mock-user");let oo="12.7.0";const Fr=new Tm("@firebase/firestore");function ja(){return Fr.logLevel}function rt(r,...t){if(Fr.logLevel<=xt.DEBUG){const i=t.map(bm);Fr.debug(`Firestore (${oo}): ${r}`,...i)}}function ts(r,...t){if(Fr.logLevel<=xt.ERROR){const i=t.map(bm);Fr.error(`Firestore (${oo}): ${r}`,...i)}}function Ja(r,...t){if(Fr.logLevel<=xt.WARN){const i=t.map(bm);Fr.warn(`Firestore (${oo}): ${r}`,...i)}}function bm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,PE(r,a,i)}function PE(r,t,i){let a=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ts(a),new Error(a)}function Ht(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||PE(t,l,a)}function St(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ss{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ys{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class zE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class yb{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Xe.UNAUTHENTICATED)))}shutdown(){}}class _b{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class vb{constructor(t){this.t=t,this.currentUser=Xe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ht(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Ys;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ys,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},p=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>p(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?p(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ys)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ht(typeof a.accessToken=="string",31837,{l:a}),new zE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ht(t===null||typeof t=="string",2055,{h:t}),new Xe(t)}}class Eb{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Xe.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Tb{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new Eb(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Xe.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class ev{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ab{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ht(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new ev(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ht(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new ev(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Sb(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class wm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=Sb(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function $d(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return zd(l)===zd(c)?Mt(l,c):zd(l)?1:-1}return Mt(r.length,t.length)}const bb=55296,wb=57343;function zd(r){const t=r.charCodeAt(0);return t>=bb&&t<=wb}function $a(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const nv="__name__";class Ti{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ti?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Ti.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=Ti.isNumericId(t),l=Ti.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Ti.extractNumericId(t).compare(Ti.extractNumericId(i)):$d(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ks.fromString(t.substring(4,t.length-2))}}class ee extends Ti{construct(t,i,a){return new ee(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ee(i)}static emptyPath(){return new ee([])}}const Rb=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Ti{construct(t,i,a){return new Ge(t,i,a)}static isValidIdentifier(t){return Rb.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===nv}static keyField(){return new Ge([nv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ge(i)}static emptyPath(){return new Ge([])}}class mt{constructor(t){this.path=t}static fromPath(t){return new mt(ee.fromString(t))}static fromName(t){return new mt(ee.fromString(t).popFirst(5))}static empty(){return new mt(ee.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ee.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ee.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new mt(new ee(t.slice()))}}function jE(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function Cb(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function iv(r){if(!mt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function sv(r){if(mt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function BE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Rm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Jn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Rm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ce(r,t){const i={typeString:r};return t&&(i.value=t),i}function Bl(r,t){if(!BE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const rv=-62135596800,av=1e6;class ne{static now(){return ne.fromMillis(Date.now())}static fromDate(t){return ne.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*av);return new ne(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<rv)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/av}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ne._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Bl(t,ne._jsonSchema))return new ne(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-rv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ne._jsonSchemaVersion="firestore/timestamp/1.0",ne._jsonSchema={type:Ce("string",ne._jsonSchemaVersion),seconds:Ce("number"),nanoseconds:Ce("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new ne(0,0))}static max(){return new Et(new ne(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ml=-1;function Ib(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new ne(i+1,0):new ne(i,a));return new Js(l,mt.empty(),t)}function Nb(r){return new Js(r.readTime,r.key,Ml)}class Js{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new Js(Et.min(),mt.empty(),Ml)}static max(){return new Js(Et.max(),mt.empty(),Ml)}}function Db(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=mt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const Ob="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class xb{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function lo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==Ob)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++p,p===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function Mb(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function uo(r){return r.name==="IndexedDbTransactionError"}class oh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}oh.ce=-1;const Cm=-1;function lh(r){return r==null}function Hc(r){return r===0&&1/r==-1/0}function Vb(r){return typeof r=="number"&&Number.isInteger(r)&&!Hc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const qE="";function kb(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=ov(t)),t=Ub(r.get(i),t);return ov(t)}function Ub(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case qE:i+="";break;default:i+=c}}return i}function ov(r){return r+qE+""}function lv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function sr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function HE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class oe{constructor(t,i){this.comparator=t,this.root=i||Fe.EMPTY}insert(t,i){return new oe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Fe.BLACK,null,null))}remove(t){return new oe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Fe.RED,this.left=l??Fe.EMPTY,this.right=c??Fe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Fe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Fe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Fe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Fe.EMPTY=null,Fe.RED=!0,Fe.BLACK=!1;Fe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Fe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Me{constructor(t){this.comparator=t,this.data=new oe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new uv(this.data.getIterator())}getIteratorFrom(t){return new uv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Me)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Me(this.comparator);return i.data=t,i}}class uv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class An{constructor(t){this.fields=t,t.sort(Ge.comparator)}static empty(){return new An([])}unionWith(t){let i=new Me(Ge.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new An(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return $a(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class FE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Qe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new FE("Invalid base64 string: "+c):c}})(t);return new Qe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Qe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Qe.EMPTY_BYTE_STRING=new Qe("");const Lb=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $s(r){if(Ht(!!r,39018),typeof r=="string"){let t=0;const i=Lb.exec(r);if(Ht(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ge(r.seconds),nanos:ge(r.nanos)}}function ge(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Ws(r){return typeof r=="string"?Qe.fromBase64String(r):Qe.fromUint8Array(r)}const GE="server_timestamp",QE="__type__",KE="__previous_value__",YE="__local_write_time__";function Im(r){return(r?.mapValue?.fields||{})[QE]?.stringValue===GE}function uh(r){const t=r.mapValue.fields[KE];return Im(t)?uh(t):t}function Vl(r){const t=$s(r.mapValue.fields[YE].timestampValue);return new ne(t.seconds,t.nanos)}class Pb{constructor(t,i,a,l,c,d,p,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Fc="(default)";class kl{constructor(t,i){this.projectId=t,this.database=i||Fc}static empty(){return new kl("","")}get isDefaultDatabase(){return this.database===Fc}isEqual(t){return t instanceof kl&&t.projectId===this.projectId&&t.database===this.database}}const XE="__type__",zb="__max__",Rc={mapValue:{}},ZE="__vector__",Gc="value";function tr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Im(r)?4:Bb(r)?9007199254740991:jb(r)?10:11:pt(28295,{value:r})}function Ni(r,t){if(r===t)return!0;const i=tr(r);if(i!==tr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Vl(r).isEqual(Vl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=$s(l.timestampValue),p=$s(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return Ws(l.bytesValue).isEqual(Ws(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ge(l.geoPointValue.latitude)===ge(c.geoPointValue.latitude)&&ge(l.geoPointValue.longitude)===ge(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ge(l.integerValue)===ge(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ge(l.doubleValue),p=ge(c.doubleValue);return d===p?Hc(d)===Hc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return $a(r.arrayValue.values||[],t.arrayValue.values||[],Ni);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(lv(d)!==lv(p))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(p[_]===void 0||!Ni(d[_],p[_])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Ul(r,t){return(r.values||[]).find((i=>Ni(i,t)))!==void 0}function Wa(r,t){if(r===t)return 0;const i=tr(r),a=tr(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=ge(c.integerValue||c.doubleValue),_=ge(d.integerValue||d.doubleValue);return p<_?-1:p>_?1:p===_?0:isNaN(p)?isNaN(_)?0:-1:1})(r,t);case 3:return cv(r.timestampValue,t.timestampValue);case 4:return cv(Vl(r),Vl(t));case 5:return $d(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=Ws(c),_=Ws(d);return p.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),_=d.split("/");for(let y=0;y<p.length&&y<_.length;y++){const A=Mt(p[y],_[y]);if(A!==0)return A}return Mt(p.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Mt(ge(c.latitude),ge(d.latitude));return p!==0?p:Mt(ge(c.longitude),ge(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return hv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},_=d.fields||{},y=p[Gc]?.arrayValue,A=_[Gc]?.arrayValue,b=Mt(y?.values?.length||0,A?.values?.length||0);return b!==0?b:hv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Rc.mapValue&&d===Rc.mapValue)return 0;if(c===Rc.mapValue)return 1;if(d===Rc.mapValue)return-1;const p=c.fields||{},_=Object.keys(p),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let b=0;b<_.length&&b<A.length;++b){const x=$d(_[b],A[b]);if(x!==0)return x;const H=Wa(p[_[b]],y[A[b]]);if(H!==0)return H}return Mt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function cv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=$s(r),a=$s(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function hv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=Wa(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function to(r){return Wd(r)}function Wd(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=$s(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return Ws(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return mt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=Wd(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${Wd(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function Oc(r){switch(tr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=uh(r);return t?16+Oc(t):16;case 5:return 2*r.stringValue.length;case 6:return Ws(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return sr(a.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function tm(r){return!!r&&"integerValue"in r}function Nm(r){return!!r&&"arrayValue"in r}function fv(r){return!!r&&"nullValue"in r}function dv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function xc(r){return!!r&&"mapValue"in r}function jb(r){return(r?.mapValue?.fields||{})[XE]?.stringValue===ZE}function Cl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return sr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Cl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Cl(r.arrayValue.values[i]);return t}return{...r}}function Bb(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===zb}class hn{constructor(t){this.value=t}static empty(){return new hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!xc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Cl(i)}setAll(t){let i=Ge.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Cl(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());xc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Ni(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];xc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){sr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new hn(Cl(this.value))}}function JE(r){const t=[];return sr(r.fields,((i,a)=>{const l=new Ge([i]);if(xc(a)){const c=JE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new An(t)}class Ze{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new Ze(t,0,Et.min(),Et.min(),Et.min(),hn.empty(),0)}static newFoundDocument(t,i,a,l){return new Ze(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new Ze(t,2,i,Et.min(),Et.min(),hn.empty(),0)}static newUnknownDocument(t,i){return new Ze(t,3,i,Et.min(),Et.min(),hn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ze&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ze(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Qc{constructor(t,i){this.position=t,this.inclusive=i}}function mv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=mt.comparator(mt.fromName(d.referenceValue),i.key):a=Wa(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function gv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Ni(r.position[i],t.position[i]))return!1;return!0}class Kc{constructor(t,i="asc"){this.field=t,this.dir=i}}function qb(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class $E{}class xe extends $E{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new Fb(t,i,a):i==="array-contains"?new Kb(t,a):i==="in"?new Yb(t,a):i==="not-in"?new Xb(t,a):i==="array-contains-any"?new Zb(t,a):new xe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new Gb(t,a):new Qb(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(Wa(i,this.value)):i!==null&&tr(this.value)===tr(i)&&this.matchesComparison(Wa(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Di extends $E{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Di(t,i)}matches(t){return WE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function WE(r){return r.op==="and"}function t0(r){return Hb(r)&&WE(r)}function Hb(r){for(const t of r.filters)if(t instanceof Di)return!1;return!0}function em(r){if(r instanceof xe)return r.field.canonicalString()+r.op.toString()+to(r.value);if(t0(r))return r.filters.map((t=>em(t))).join(",");{const t=r.filters.map((i=>em(i))).join(",");return`${r.op}(${t})`}}function e0(r,t){return r instanceof xe?(function(a,l){return l instanceof xe&&a.op===l.op&&a.field.isEqual(l.field)&&Ni(a.value,l.value)})(r,t):r instanceof Di?(function(a,l){return l instanceof Di&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&e0(d,l.filters[p])),!0):!1})(r,t):void pt(19439)}function n0(r){return r instanceof xe?(function(i){return`${i.field.canonicalString()} ${i.op} ${to(i.value)}`})(r):r instanceof Di?(function(i){return i.op.toString()+" {"+i.getFilters().map(n0).join(" ,")+"}"})(r):"Filter"}class Fb extends xe{constructor(t,i,a){super(t,i,a),this.key=mt.fromName(a.referenceValue)}matches(t){const i=mt.comparator(t.key,this.key);return this.matchesComparison(i)}}class Gb extends xe{constructor(t,i){super(t,"in",i),this.keys=i0("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class Qb extends xe{constructor(t,i){super(t,"not-in",i),this.keys=i0("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function i0(r,t){return(t.arrayValue?.values||[]).map((i=>mt.fromName(i.referenceValue)))}class Kb extends xe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Nm(i)&&Ul(i.arrayValue,this.value)}}class Yb extends xe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Ul(this.value.arrayValue,i)}}class Xb extends xe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Ul(this.value.arrayValue,i)}}class Zb extends xe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Nm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Ul(this.value.arrayValue,a)))}}class Jb{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function pv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Jb(r,t,i,a,l,c,d)}function Dm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>em(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),lh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>to(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>to(a))).join(",")),t.Te=i}return t.Te}function Om(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!qb(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!e0(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!gv(r.startAt,t.startAt)&&gv(r.endAt,t.endAt)}function nm(r){return mt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ch{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function $b(r,t,i,a,l,c,d,p){return new ch(r,t,i,a,l,c,d,p)}function hh(r){return new ch(r)}function yv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Wb(r){return r.collectionGroup!==null}function Il(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new Me(Ge.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(p=p.add(y.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Kc(c,a))})),i.has(Ge.keyField().canonicalString())||t.Ie.push(new Kc(Ge.keyField(),a))}return t.Ie}function Si(r){const t=St(r);return t.Ee||(t.Ee=tw(t,Il(r))),t.Ee}function tw(r,t){if(r.limitType==="F")return pv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Kc(l.field,c)}));const i=r.endAt?new Qc(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new Qc(r.startAt.position,r.startAt.inclusive):null;return pv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function im(r,t,i){return new ch(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function fh(r,t){return Om(Si(r),Si(t))&&r.limitType===t.limitType}function s0(r){return`${Dm(Si(r))}|lt:${r.limitType}`}function Ba(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>n0(l))).join(", ")}]`),lh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>to(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>to(l))).join(",")),`Target(${a})`})(Si(r))}; limitType=${r.limitType})`}function dh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):mt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Il(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,_){const y=mv(d,p,_);return d.inclusive?y<=0:y<0})(a.startAt,Il(a),l)||a.endAt&&!(function(d,p,_){const y=mv(d,p,_);return d.inclusive?y>=0:y>0})(a.endAt,Il(a),l))})(r,t)}function ew(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function r0(r){return(t,i)=>{let a=!1;for(const l of Il(r)){const c=nw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function nw(r,t,i){const a=r.field.isKeyField()?mt.comparator(t.key,i.key):(function(c,d,p){const _=d.data.field(c),y=p.data.field(c);return _!==null&&y!==null?Wa(_,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class Yr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){sr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return HE(this.inner)}size(){return this.innerSize}}const iw=new oe(mt.comparator);function es(){return iw}const a0=new oe(mt.comparator);function Al(...r){let t=a0;for(const i of r)t=t.insert(i.key,i);return t}function o0(r){let t=a0;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function jr(){return Nl()}function l0(){return Nl()}function Nl(){return new Yr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const sw=new oe(mt.comparator),rw=new Me(mt.comparator);function Vt(...r){let t=rw;for(const i of r)t=t.add(i);return t}const aw=new Me(Mt);function ow(){return aw}function xm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hc(t)?"-0":t}}function u0(r){return{integerValue:""+r}}function c0(r,t){return Vb(t)?u0(t):xm(r,t)}class mh{constructor(){this._=void 0}}function lw(r,t,i){return r instanceof Yc?(function(l,c){const d={fields:{[QE]:{stringValue:GE},[YE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Im(c)&&(c=uh(c)),c&&(d.fields[KE]=c),{mapValue:d}})(i,t):r instanceof eo?f0(r,t):r instanceof no?d0(r,t):(function(l,c){const d=h0(l,c),p=_v(d)+_v(l.Ae);return tm(d)&&tm(l.Ae)?u0(p):xm(l.serializer,p)})(r,t)}function uw(r,t,i){return r instanceof eo?f0(r,t):r instanceof no?d0(r,t):i}function h0(r,t){return r instanceof Ll?(function(a){return tm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Yc extends mh{}class eo extends mh{constructor(t){super(),this.elements=t}}function f0(r,t){const i=m0(t);for(const a of r.elements)i.some((l=>Ni(l,a)))||i.push(a);return{arrayValue:{values:i}}}class no extends mh{constructor(t){super(),this.elements=t}}function d0(r,t){let i=m0(t);for(const a of r.elements)i=i.filter((l=>!Ni(l,a)));return{arrayValue:{values:i}}}class Ll extends mh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function _v(r){return ge(r.integerValue||r.doubleValue)}function m0(r){return Nm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Mm{constructor(t,i){this.field=t,this.transform=i}}function cw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof eo&&l instanceof eo||a instanceof no&&l instanceof no?$a(a.elements,l.elements,Ni):a instanceof Ll&&l instanceof Ll?Ni(a.Ae,l.Ae):a instanceof Yc&&l instanceof Yc})(r.transform,t.transform)}class hw{constructor(t,i){this.version=t,this.transformResults=i}}class $n{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new $n}static exists(t){return new $n(void 0,t)}static updateTime(t){return new $n(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Mc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class gh{}function g0(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Vm(r.key,$n.none()):new ql(r.key,r.data,$n.none());{const i=r.data,a=hn.empty();let l=new Me(Ge.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new rr(r.key,a,new An(l.toArray()),$n.none())}}function fw(r,t,i){r instanceof ql?(function(l,c,d){const p=l.value.clone(),_=Ev(l.fieldTransforms,c,d.transformResults);p.setAll(_),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof rr?(function(l,c,d){if(!Mc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ev(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(p0(l)),_.setAll(p),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Dl(r,t,i,a){return r instanceof ql?(function(c,d,p,_){if(!Mc(c.precondition,d))return p;const y=c.value.clone(),A=Tv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof rr?(function(c,d,p,_){if(!Mc(c.precondition,d))return p;const y=Tv(c.fieldTransforms,_,d),A=d.data;return A.setAll(p0(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((b=>b.field)))})(r,t,i,a):(function(c,d,p){return Mc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function dw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=h0(a.transform,l||null);c!=null&&(i===null&&(i=hn.empty()),i.set(a.field,c))}return i||null}function vv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&$a(a,l,((c,d)=>cw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class ql extends gh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class rr extends gh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function p0(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Ev(r,t,i){const a=new Map;Ht(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,uw(d,p,i[l]))}return a}function Tv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,lw(c,d,t))}return a}class Vm extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mw extends gh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&fw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Dl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=l0();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const _=g0(d,p);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&$a(this.mutations,t.mutations,((i,a)=>vv(i,a)))&&$a(this.baseMutations,t.baseMutations,((i,a)=>vv(i,a)))}}class km{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ht(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return sw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new km(t,i,a,l)}}class pw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Re,Lt;function _w(r){switch(r){case Z.OK:return pt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function y0(r){if(r===void 0)return ts("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Re.OK:return Z.OK;case Re.CANCELLED:return Z.CANCELLED;case Re.UNKNOWN:return Z.UNKNOWN;case Re.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Re.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Re.INTERNAL:return Z.INTERNAL;case Re.UNAVAILABLE:return Z.UNAVAILABLE;case Re.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Re.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Re.NOT_FOUND:return Z.NOT_FOUND;case Re.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Re.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Re.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Re.ABORTED:return Z.ABORTED;case Re.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Re.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Re.DATA_LOSS:return Z.DATA_LOSS;default:return pt(39323,{code:r})}}(Lt=Re||(Re={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function vw(){return new TextEncoder}const Ew=new Ks([4294967295,4294967295],0);function Av(r){const t=vw().encode(r),i=new xE;return i.update(t),new Uint8Array(i.digest())}function Sv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Ks([i,a],0),new Ks([l,c],0)]}class Um{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Sl(`Invalid padding: ${i}`);if(a<0)throw new Sl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Sl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Sl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Ks.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Ks.fromNumber(a)));return l.compare(Ew)===1&&(l=new Ks([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Av(t),[a,l]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Um(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=Av(t),[a,l]=Sv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Sl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class ph{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Hl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new ph(Et.min(),l,new oe(Mt),es(),Vt())}}class Hl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Hl(a,i,Vt(),Vt(),Vt())}}class Vc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class _0{constructor(t,i){this.targetId=t,this.Ce=i}}class v0{constructor(t,i,a=Qe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class bv{constructor(){this.ve=0,this.Fe=wv(),this.Me=Qe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Hl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=wv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ht(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Tw{constructor(t){this.Ge=t,this.ze=new Map,this.je=es(),this.Je=Cc(),this.He=Cc(),this.Ye=new oe(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(nm(c))if(a===0){const d=new mt(c.path);this.et(i,d,Ze.newNoDocument(d,Et.min()))}else Ht(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),_=p?this.ct(p,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=Ws(a).toUint8Array()}catch(_){if(_ instanceof FE)return Ja("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{p=new Um(d,l,c)}catch(_){return Ja(_ instanceof Sl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&nm(p.target)){const _=new mt(p.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,Ze.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new ph(t,i,this.Ye,this.je,a);return this.je=es(),this.Je=Cc(),this.He=Cc(),this.Ye=new oe(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new bv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Me(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Me(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new bv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Cc(){return new oe(mt.comparator)}function wv(){return new oe(mt.comparator)}const Aw={asc:"ASCENDING",desc:"DESCENDING"},Sw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bw={and:"AND",or:"OR"};class ww{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function sm(r,t){return r.useProto3Json||lh(t)?t:{value:t}}function Xc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function E0(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Rw(r,t){return Xc(r,t.toTimestamp())}function bi(r){return Ht(!!r,49232),Et.fromTimestamp((function(i){const a=$s(i);return new ne(a.seconds,a.nanos)})(r))}function Lm(r,t){return rm(r,t).canonicalString()}function rm(r,t){const i=(function(l){return new ee(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function T0(r){const t=ee.fromString(r);return Ht(R0(t),10190,{key:t.toString()}),t}function am(r,t){return Lm(r.databaseId,t.path)}function jd(r,t){const i=T0(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new mt(S0(i))}function A0(r,t){return Lm(r.databaseId,t)}function Cw(r){const t=T0(r);return t.length===4?ee.emptyPath():S0(t)}function om(r){return new ee(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function S0(r){return Ht(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Rv(r,t,i){return{name:am(r,t),fields:i.value.mapValue.fields}}function Iw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ht(A===void 0||typeof A=="string",58123),Qe.fromBase64String(A||"")):(Ht(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Qe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:y0(y.code);return new ct(A,y.message||"")})(d);i=new v0(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=jd(r,a.document.name),c=bi(a.document.updateTime),d=a.document.createTime?bi(a.document.createTime):Et.min(),p=new hn({mapValue:{fields:a.document.fields}}),_=Ze.newFoundDocument(l,c,d,p),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Vc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=jd(r,a.document),c=a.readTime?bi(a.readTime):Et.min(),d=Ze.newNoDocument(l,c),p=a.removedTargetIds||[];i=new Vc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=jd(r,a.document),c=a.removedTargetIds||[];i=new Vc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new yw(l,c),p=a.targetId;i=new _0(p,d)}}return i}function Nw(r,t){let i;if(t instanceof ql)i={update:Rv(r,t.key,t.value)};else if(t instanceof Vm)i={delete:am(r,t.key)};else if(t instanceof rr)i={update:Rv(r,t.key,t.data),updateMask:Pw(t.fieldMask)};else{if(!(t instanceof mw))return pt(16599,{Vt:t.type});i={verify:am(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof Yc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof eo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof no)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Ll)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Rw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function Dw(r,t){return r&&r.length>0?(Ht(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?bi(l.updateTime):bi(c);return d.isEqual(Et.min())&&(d=bi(c)),new hw(d,l.transformResults||[])})(i,t)))):[]}function Ow(r,t){return{documents:[A0(r,t.path)]}}function xw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=A0(r,l);const c=(function(y){if(y.length!==0)return w0(Di.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(x){return{field:qa(x.field),direction:kw(x.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=sm(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Mw(r){let t=Cw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ht(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(b){const x=b0(b);return x instanceof Di&&t0(x)?x.getFilters():[x]})(i.where));let d=[];i.orderBy&&(d=(function(b){return b.map((x=>(function(J){return new Kc(Ha(J.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(J.direction))})(x)))})(i.orderBy));let p=null;i.limit&&(p=(function(b){let x;return x=typeof b=="object"?b.value:b,lh(x)?null:x})(i.limit));let _=null;i.startAt&&(_=(function(b){const x=!!b.before,H=b.values||[];return new Qc(H,x)})(i.startAt));let y=null;return i.endAt&&(y=(function(b){const x=!b.before,H=b.values||[];return new Qc(H,x)})(i.endAt)),$b(t,l,d,c,p,"F",_,y)}function Vw(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function b0(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ha(i.unaryFilter.field);return xe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ha(i.unaryFilter.field);return xe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ha(i.unaryFilter.field);return xe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ha(i.unaryFilter.field);return xe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return xe.create(Ha(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Di.create(i.compositeFilter.filters.map((a=>b0(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function kw(r){return Aw[r]}function Uw(r){return Sw[r]}function Lw(r){return bw[r]}function qa(r){return{fieldPath:r.canonicalString()}}function Ha(r){return Ge.fromServerFormat(r.fieldPath)}function w0(r){return r instanceof xe?(function(i){if(i.op==="=="){if(dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NAN"}};if(fv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(dv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NAN"}};if(fv(i.value))return{unaryFilter:{field:qa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(i.field),op:Uw(i.op),value:i.value}}})(r):r instanceof Di?(function(i){const a=i.getFilters().map((l=>w0(l)));return a.length===1?a[0]:{compositeFilter:{op:Lw(i.op),filters:a}}})(r):pt(54877,{filter:r})}function Pw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function R0(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Hs{constructor(t,i,a,l,c=Et.min(),d=Et.min(),p=Qe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=_}withSequenceNumber(t){return new Hs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Hs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class zw{constructor(t){this.yt=t}}function jw(r){const t=Mw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?im(t,t.limit,"L"):t}class Bw{constructor(){this.Cn=new qw}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(Js.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(Js.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class qw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Me(ee.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Me(ee.comparator)).toArray()}}const Cv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},C0=41943040;class cn{static withCacheSize(t){return new cn(t,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(C0,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);class io{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new io(0)}static cr(){return new io(-1)}}const Iv="LruGarbageCollector",Hw=1048576;function Nv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class Fw{constructor(t){this.Ir=t,this.buffer=new Me(Nv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Nv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Gw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Iv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){uo(i)?rt(Iv,"Ignoring IndexedDB error during garbage collection: ",i):await lo(i)}await this.Vr(3e5)}))}}class Qw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(oh.ce);const a=new Fw(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Cv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Cv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),l=this.params.maximumSequenceNumbersToCollect):l=b,d=Date.now(),this.nthSequenceNumber(t,l)))).next((b=>(a=b,p=Date.now(),this.removeTargets(t,a,i)))).next((b=>(c=b,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((b=>(y=Date.now(),ja()<=xt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(_-p)+`ms
	Removed ${b} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:b}))))}}function Kw(r,t){return new Qw(r,t)}class Yw{constructor(){this.changes=new Yr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ze.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Xw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class Zw{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Dl(a.mutation,l,An.empty(),ne.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Al();return c.forEach(((p,_)=>{d=d.insert(p,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=es();const d=Nl(),p=(function(){return Nl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof rr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Dl(A.mutation,y,A.mutation.getFieldMask(),ne.now())):d.set(y.key,An.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>p.set(y,new Xw(A,d.get(y)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Nl();let l=new oe(((d,p)=>d-p)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||An.empty();A=p.applyToLocalView(y,A),a.set(_,A);const b=(l.get(p.batchId)||Vt()).add(_);l=l.insert(p.batchId,b)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const _=p.getNext(),y=_.key,A=_.value,b=l0();A.forEach((x=>{if(!c.has(x)){const H=g0(i.get(x),a.get(x));H!==null&&b.set(x,H),c=c.add(x)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,b))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return mt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Wb(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(jr());let p=Ml,_=c;return d.next((y=>X.forEach(y,((A,b)=>(p<b.largestBatchId&&(p=b.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((x=>{_=_.insert(A,x)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((A=>({batchId:p,changes:o0(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new mt(i)).next((a=>{let l=Al();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Al();return this.indexManager.getCollectionParents(t,c).next((p=>X.forEach(p,(_=>{const y=(function(b,x){return new ch(x,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((b,x)=>{d=d.insert(b,x)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,Ze.newInvalidDocument(A)))}));let p=Al();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Dl(A.mutation,y,An.empty(),ne.now()),dh(i,y)&&(p=p.insert(_,y))})),p}))}}class Jw{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:bi(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:jw(l.bundledQuery),readTime:bi(l.readTime)}})(i)),X.resolve()}}class $w{constructor(){this.overlays=new oe(mt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=jr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=jr(),c=i.length+1,d=new mt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const _=p.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new oe(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=jr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const p=jr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>p.set(y,A))),!(p.size()>=l)););return X.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new pw(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Ww{constructor(){this.sessionToken=Qe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Pm{constructor(){this.Qr=new Me(Le.$r),this.Ur=new Me(Le.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Le(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Le(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new mt(new ee([])),a=new Le(i,t),l=new Le(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new mt(new ee([])),a=new Le(i,t),l=new Le(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Le(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Le{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return mt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||mt.comparator(t.key,i.key)}}class tR{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Me(Le.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new gw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new Le(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Cm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Le(i,0),l=new Le(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Me(Mt);return i.forEach((l=>{const c=new Le(l,0),d=new Le(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;mt.isDocumentKey(c)||(c=c.child(""));const d=new Le(new mt(c),0);let p=new Me(Mt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(p=p.add(_.Yr)),!0)}),d),X.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ht(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Le(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Le(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class eR{constructor(t){this.ri=t,this.docs=(function(){return new oe(mt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():Ze.newInvalidDocument(i))}getEntries(t,i){let a=es();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():Ze.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=es();const d=i.path,p=new mt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(p);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Db(Nb(A),a)<=0||(l.has(A.key)||dh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new nR(this)}getSize(t){return X.resolve(this.size)}}class nR extends Yw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class iR{constructor(t){this.persistence=t,this.si=new Yr((i=>Dm(i)),Om),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Pm,this.targetCount=0,this.ai=io.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new io(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class I0{constructor(t,i){this.ui={},this.overlays={},this.ci=new oh(0),this.li=!1,this.li=!0,this.hi=new Ww,this.referenceDelegate=t(this),this.Pi=new iR(this),this.indexManager=new Bw,this.remoteDocumentCache=(function(l){return new eR(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new zw(i),this.Ii=new Jw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new $w,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new tR(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new sR(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class sR extends xb{constructor(t){super(),this.currentSequenceNumber=t}}class zm{constructor(t){this.persistence=t,this.Ri=new Pm,this.Vi=null}static mi(t){return new zm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=mt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Zc{constructor(t,i){this.persistence=t,this.pi=new Yr((a=>kb(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=Kw(this,i)}static mi(t,i){return new Zc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class jm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new jm(t,i.fromCache,a,l)}}class rR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class aR{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return J1()?8:Mb(Je())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new rR;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(ja()<=xt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ba(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(ja()<=xt.DEBUG&&rt("QueryEngine","Query:",Ba(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(ja()<=xt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ba(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Si(i))):X.resolve())}ys(t,i){if(yv(i))return X.resolve(null);let a=Si(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=im(i,null,"F"),a=Si(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,p);return this.Cs(i,y,d,_.readTime)?this.ys(t,im(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return yv(i)||l.isEqual(Et.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(ja()<=xt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ba(i)),this.vs(t,d,i,Ib(l,Ml)).next((p=>p)))}))}Ds(t,i){let a=new Me(r0(t));return i.forEach(((l,c)=>{dh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return ja()<=xt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ba(i)),this.ps.getDocumentsMatchingQuery(t,i,Js.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Bm="LocalStore",oR=3e8;class lR{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new oe(Mt),this.xs=new Yr((c=>Dm(c)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Zw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function uR(r,t,i,a){return new lR(r,t,i,a)}async function N0(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){p.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:p})))}))}))}function cR(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,_,y,A){const b=y.batch,x=b.keys();let H=X.resolve();return x.forEach((J=>{H=H.next((()=>A.getEntry(_,J))).next((et=>{const $=y.docVersions.get(J);Ht($!==null,48541),et.version.compareTo($)<0&&(b.applyToRemoteDocument(et,y),et.isValidDocument()&&(et.setReadTime(y.commitVersion),A.addEntry(et)))}))})),H.next((()=>p.mutationQueue.removeMutationBatch(_,b)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let _=Vt();for(let y=0;y<p.mutationResults.length;++y)p.mutationResults[y].transformResults.length>0&&(_=_.add(p.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function D0(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function hR(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((A,b)=>{const x=l.get(b);if(!x)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,b).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,b))));let H=x.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(b)!==null?H=H.withResumeToken(Qe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):A.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(A.resumeToken,a)),l=l.insert(b,H),(function(et,$,ft){return et.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=oR?!0:ft.addedDocuments.size+ft.modifiedDocuments.size+ft.removedDocuments.size>0})(x,H,A)&&p.push(i.Pi.updateTargetData(c,H))}));let _=es(),y=Vt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(fR(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(Et.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((b=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return X.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function fR(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=es();return i.forEach(((p,_)=>{const y=c.get(p);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(p)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(p,_.readTime),d=d.insert(p,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(p,_)):rt(Bm,"Ignoring outdated watch update for ",p,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function dR(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Cm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function mR(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Hs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function lm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!uo(d))throw d;rt(Bm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Dv(r,t,i){const a=St(r);let l=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const b=St(_),x=b.xs.get(A);return x!==void 0?X.resolve(b.Ms.get(x)):b.Pi.getTargetData(y,A)})(a,d,Si(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Vt()))).next((p=>(gR(a,ew(t),p),{documents:p,Qs:c})))))}function gR(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Ov{constructor(){this.activeTargetIds=ow()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class pR{constructor(){this.Mo=new Ov,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Ov,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class yR{Oo(t){}shutdown(){}}const xv="ConnectivityMonitor";class Mv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(xv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(xv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Ic=null;function um(){return Ic===null?Ic=(function(){return 268435456+Math.round(2147483648*Math.random())})():Ic++,"0x"+Ic.toString(16)}const Bd="RestConnection",_R={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class vR{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Fc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=um(),p=this.zo(t,i.toUriEncodedString());rt(Bd,`Sending RPC '${t}' ${d}:`,p,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(p),A=ro(y);return this.Jo(t,p,_,a,A).then((b=>(rt(Bd,`Received RPC '${t}' ${d}: `,b),b)),(b=>{throw Ja(Bd,`RPC '${t}' ${d} failed with error: `,b,"url: ",p,"request:",a),b}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+oo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=_R[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class ER{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Ye="WebChannelConnection";class TR extends vR{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=um();return new Promise(((p,_)=>{const y=new ME;y.setWithCredentials(!0),y.listenOnce(VE.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Dc.NO_ERROR:const b=y.getResponseJson();rt(Ye,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(b)),p(b);break;case Dc.TIMEOUT:rt(Ye,`RPC '${t}' ${d} timed out`),_(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Dc.HTTP_ERROR:const x=y.getStatus();if(rt(Ye,`RPC '${t}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let H=y.getResponseJson();Array.isArray(H)&&(H=H[0]);const J=H?.error;if(J&&J.status&&J.message){const et=(function(ft){const yt=ft.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(yt)>=0?yt:Z.UNKNOWN})(J.status);_(new ct(et,J.message))}else _(new ct(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Ye,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Ye,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=um(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=LE(),p=UE(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");rt(Ye,`Creating RPC '${t}' stream ${l}: ${A}`,_);const b=d.createWebChannel(A,_);this.I_(b);let x=!1,H=!1;const J=new ER({Yo:$=>{H?rt(Ye,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(x||(rt(Ye,`Opening RPC '${t}' stream ${l} transport.`),b.open(),x=!0),rt(Ye,`RPC '${t}' stream ${l} sending:`,$),b.send($))},Zo:()=>b.close()}),et=($,ft,yt)=>{$.listen(ft,(ot=>{try{yt(ot)}catch(Tt){setTimeout((()=>{throw Tt}),0)}}))};return et(b,Tl.EventType.OPEN,(()=>{H||(rt(Ye,`RPC '${t}' stream ${l} transport opened.`),J.o_())})),et(b,Tl.EventType.CLOSE,(()=>{H||(H=!0,rt(Ye,`RPC '${t}' stream ${l} transport closed`),J.a_(),this.E_(b))})),et(b,Tl.EventType.ERROR,($=>{H||(H=!0,Ja(Ye,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),J.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),et(b,Tl.EventType.MESSAGE,($=>{if(!H){const ft=$.data[0];Ht(!!ft,16349);const yt=ft,ot=yt?.error||yt[0]?.error;if(ot){rt(Ye,`RPC '${t}' stream ${l} received error:`,ot);const Tt=ot.status;let W=(function(S){const R=Re[S];if(R!==void 0)return y0(R)})(Tt),st=ot.message;W===void 0&&(W=Z.INTERNAL,st="Unknown error status: "+Tt+" with message "+ot.message),H=!0,J.a_(new ct(W,st)),b.close()}else rt(Ye,`RPC '${t}' stream ${l} received:`,ft),J.u_(ft)}})),et(p,kE.STAT_EVENT,($=>{$.stat===Jd.PROXY?rt(Ye,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===Jd.NOPROXY&&rt(Ye,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{J.__()}),0),J}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function qd(){return typeof document<"u"?document:null}function yh(r){return new ww(r,!0)}class O0{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Vv="PersistentStream";class x0{constructor(t,i,a,l,c,d,p,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new O0(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ts(i.toString()),ts("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Vv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Vv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class AR extends x0{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Iw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?bi(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=om(this.serializer),i.addTarget=(function(c,d){let p;const _=d.target;if(p=nm(_)?{documents:Ow(c,_)}:{query:xw(c,_).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=E0(c,d.resumeToken);const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){p.readTime=Xc(c,d.snapshotVersion.toTimestamp());const y=sm(c,d.expectedCount);y!==null&&(p.expectedCount=y)}return p})(this.serializer,t);const a=Vw(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=om(this.serializer),i.removeTarget=t,this.q_(i)}}class SR extends x0{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ht(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ht(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ht(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Dw(t.writeResults,t.commitTime),a=bi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=om(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Nw(this.serializer,a)))};this.q_(i)}}class bR{}class wR extends bR{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,rm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,rm(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class RR{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ts(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Gr="RemoteStore";class CR{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Xr(this)&&(rt(Gr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Fl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await _h(y)})(this))}))})),this.Ra=new RR(a,l)}}async function _h(r){if(Xr(r))for(const t of r.da)await t(!0)}async function Fl(r){for(const t of r.da)await t(!1)}function M0(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Gm(i)?Fm(i):co(i).O_()&&Hm(i,t))}function qm(r,t){const i=St(r),a=co(i);i.Ia.delete(t),a.O_()&&V0(i,t),i.Ia.size===0&&(a.O_()?a.L_():Xr(i)&&i.Ra.set("Unknown"))}function Hm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}co(r).Y_(t)}function V0(r,t){r.Va.Ue(t),co(r).Z_(t)}function Fm(r){r.Va=new Tw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),co(r).start(),r.Ra.ua()}function Gm(r){return Xr(r)&&!co(r).x_()&&r.Ia.size>0}function Xr(r){return St(r).Ea.size===0}function k0(r){r.Va=void 0}async function IR(r){r.Ra.set("Online")}async function NR(r){r.Ia.forEach(((t,i)=>{Hm(r,t)}))}async function DR(r,t){k0(r),Gm(r)?(r.Ra.ha(t),Fm(r)):r.Ra.set("Unknown")}async function OR(r,t,i){if(r.Ra.set("Online"),t instanceof v0&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(Gr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await Jc(r,a)}else if(t instanceof Vc?r.Va.Ze(t):t instanceof _0?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await D0(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),p.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Qe.EMPTY_BYTE_STRING,A.snapshotVersion)),V0(c,_);const b=new Hs(A.target,_,y,A.sequenceNumber);Hm(c,b)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(Gr,"Failed to raise snapshot:",a),await Jc(r,a)}}async function Jc(r,t,i){if(!uo(t))throw t;r.Ea.add(1),await Fl(r),r.Ra.set("Offline"),i||(i=()=>D0(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Gr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await _h(r)}))}function U0(r,t){return t().catch((i=>Jc(r,i,t)))}async function vh(r){const t=St(r),i=er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Cm;for(;xR(t);)try{const l=await dR(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,MR(t,l)}catch(l){await Jc(t,l)}L0(t)&&P0(t)}function xR(r){return Xr(r)&&r.Ta.length<10}function MR(r,t){r.Ta.push(t);const i=er(r);i.O_()&&i.X_&&i.ea(t.mutations)}function L0(r){return Xr(r)&&!er(r).x_()&&r.Ta.length>0}function P0(r){er(r).start()}async function VR(r){er(r).ra()}async function kR(r){const t=er(r);for(const i of r.Ta)t.ea(i.mutations)}async function UR(r,t,i){const a=r.Ta.shift(),l=km.from(a,t,i);await U0(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await vh(r)}async function LR(r,t){t&&er(r).X_&&await(async function(a,l){if((function(d){return _w(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();er(a).B_(),await U0(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await vh(a)}})(r,t),L0(r)&&P0(r)}async function kv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),rt(Gr,"RemoteStore received new credentials");const a=Xr(i);i.Ea.add(3),await Fl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await _h(i)}async function PR(r,t){const i=St(r);t?(i.Ea.delete(2),await _h(i)):t||(i.Ea.add(2),await Fl(i),i.Ra.set("Unknown"))}function co(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new AR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:IR.bind(null,r),t_:NR.bind(null,r),r_:DR.bind(null,r),H_:OR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Gm(r)?Fm(r):r.Ra.set("Unknown")):(await r.ma.stop(),k0(r))}))),r.ma}function er(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new SR(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:VR.bind(null,r),r_:LR.bind(null,r),ta:kR.bind(null,r),na:UR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await vh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Gr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class Qm{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Ys,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new Qm(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Km(r,t){if(ts("AsyncQueue",`${t}: ${r}`),uo(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ga{static emptySet(t){return new Ga(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||mt.comparator(i.key,a.key):(i,a)=>mt.comparator(i.key,a.key),this.keyedMap=Al(),this.sortedSet=new oe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ga)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ga;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Uv{constructor(){this.ga=new oe(mt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class so{constructor(t,i,a,l,c,d,p,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new so(t,i,Ga.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class zR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class jR{constructor(){this.queries=Lv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Lv(),c.forEach(((d,p)=>{for(const _ of p.Sa)_.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function Lv(){return new Yr((r=>s0(r)),fh)}async function z0(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new zR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=Km(d,`Initialization of query '${Ba(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Ym(i)}async function j0(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function BR(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&Ym(i)}function qR(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function Ym(r){r.Ca.forEach((t=>{t.next()}))}var cm,Pv;(Pv=cm||(cm={})).Ma="default",Pv.Cache="cache";class B0{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new so(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=so.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==cm.Cache}}class q0{constructor(t){this.key=t}}class H0{constructor(t){this.key=t}}class HR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=r0(t),this.tu=new Ga(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Uv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,b)=>{const x=l.get(A),H=dh(this.query,b)?b:null,J=!!x&&this.mutatedKeys.has(x.key),et=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;x&&H?x.data.isEqual(H.data)?J!==et&&(a.track({type:3,doc:H}),$=!0):this.su(x,H)||(a.track({type:2,doc:H}),$=!0,(_&&this.eu(H,_)>0||y&&this.eu(H,y)<0)&&(p=!0)):!x&&H?(a.track({type:0,doc:H}),$=!0):x&&!H&&(a.track({type:1,doc:x}),$=!0,(_||y)&&(p=!0)),$&&(H?(d=d.add(H),c=et?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,b)=>(function(H,J){const et=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:$})}};return et(H)-et(J)})(A.type,b.type)||this.eu(A.doc,b.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new so(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Uv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new H0(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new q0(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return so.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Xm="SyncEngine";class FR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class GR{constructor(t){this.key=t,this.hu=!1}}class QR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Yr((p=>s0(p)),fh),this.Iu=new Map,this.Eu=new Set,this.du=new oe(mt.comparator),this.Au=new Map,this.Ru=new Pm,this.Vu={},this.mu=new Map,this.fu=io.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function KR(r,t,i=!0){const a=X0(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await F0(a,t,i,!0),l}async function YR(r,t){const i=X0(r);await F0(i,t,!0,!1)}async function F0(r,t,i,a){const l=await mR(r.localStore,Si(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await XR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&M0(r.remoteStore,l),p}async function XR(r,t,i,a,l){r.pu=(b,x,H)=>(async function(et,$,ft,yt){let ot=$.view.ru(ft);ot.Cs&&(ot=await Dv(et.localStore,$.query,!1).then((({documents:w})=>$.view.ru(w,ot))));const Tt=yt&&yt.targetChanges.get($.targetId),W=yt&&yt.targetMismatches.get($.targetId)!=null,st=$.view.applyChanges(ot,et.isPrimaryClient,Tt,W);return jv(et,$.targetId,st.au),st.snapshot})(r,b,x,H);const c=await Dv(r.localStore,t,!0),d=new HR(t,c.Qs),p=d.ru(c.documents),_=Hl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(p,r.isPrimaryClient,_);jv(r,i,y.au);const A=new FR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function ZR(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!fh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await lm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&qm(a.remoteStore,l.targetId),hm(a,l.targetId)})).catch(lo)):(hm(a,l.targetId),await lm(a.localStore,l.targetId,!0))}async function JR(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),qm(i.remoteStore,a.targetId))}async function $R(r,t,i){const a=r2(r);try{const l=await(function(d,p){const _=St(d),y=ne.now(),A=p.reduce(((H,J)=>H.add(J.key)),Vt());let b,x;return _.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let J=es(),et=Vt();return _.Ns.getEntries(H,A).next(($=>{J=$,J.forEach(((ft,yt)=>{yt.isValidDocument()||(et=et.add(ft))}))})).next((()=>_.localDocuments.getOverlayedDocuments(H,J))).next(($=>{b=$;const ft=[];for(const yt of p){const ot=dw(yt,b.get(yt.key).overlayedDocument);ot!=null&&ft.push(new rr(yt.key,ot,JE(ot.value.mapValue),$n.exists(!0)))}return _.mutationQueue.addMutationBatch(H,y,ft,p)})).next(($=>{x=$;const ft=$.applyToLocalDocumentSet(b,et);return _.documentOverlayCache.saveOverlays(H,$.batchId,ft)}))})).then((()=>({batchId:x.batchId,changes:o0(b)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new oe(Mt)),y=y.insert(p,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Gl(a,l.changes),await vh(a.remoteStore)}catch(l){const c=Km(l,"Failed to persist write");i.reject(c)}}async function G0(r,t){const i=St(r);try{const a=await hR(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ht(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ht(d.hu,14607):l.removedDocuments.size>0&&(Ht(d.hu,42227),d.hu=!1))})),await Gl(i,a,t)}catch(a){await lo(a)}}function zv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const _=St(d);_.onlineState=p;let y=!1;_.queries.forEach(((A,b)=>{for(const x of b.Sa)x.va(p)&&(y=!0)})),y&&Ym(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function WR(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new oe(mt.comparator);d=d.insert(c,Ze.newNoDocument(c,Et.min()));const p=Vt().add(c),_=new ph(Et.min(),new Map,new oe(Mt),d,p);await G0(a,_),a.du=a.du.remove(c),a.Au.delete(t),Zm(a)}else await lm(a.localStore,t,!1).then((()=>hm(a,t,i))).catch(lo)}async function t2(r,t){const i=St(r),a=t.batch.batchId;try{const l=await cR(i.localStore,t);K0(i,a,null),Q0(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Gl(i,l)}catch(l){await lo(l)}}async function e2(r,t,i){const a=St(r);try{const l=await(function(d,p){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,p).next((b=>(Ht(b!==null,37113),A=b.keys(),_.mutationQueue.removeMutationBatch(y,b)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,p))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);K0(a,t,i),Q0(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Gl(a,l)}catch(l){await lo(l)}}function Q0(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function K0(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function hm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||Y0(r,a)}))}function Y0(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(qm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),Zm(r))}function jv(r,t,i){for(const a of i)a instanceof q0?(r.Ru.addReference(a.key,t),n2(r,a)):a instanceof H0?(rt(Xm,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||Y0(r,a.key)):pt(19791,{wu:a})}function n2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(Xm,"New document in limbo: "+i),r.Eu.add(a),Zm(r))}function Zm(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new mt(ee.fromString(t)),a=r.fu.next();r.Au.set(a,new GR(i)),r.du=r.du.insert(i,a),M0(r.remoteStore,new Hs(Si(hh(i.path)),a,"TargetPurposeLimboResolution",oh.ce))}}async function Gl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=jm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>X.forEach(y,(x=>X.forEach(x.Es,(H=>A.persistence.referenceDelegate.addReference(b,x.targetId,H))).next((()=>X.forEach(x.ds,(H=>A.persistence.referenceDelegate.removeReference(b,x.targetId,H)))))))))}catch(b){if(!uo(b))throw b;rt(Bm,"Failed to update sequence numbers: "+b)}for(const b of y){const x=b.targetId;if(!b.fromCache){const H=A.Ms.get(x),J=H.snapshotVersion,et=H.withLastLimboFreeSnapshotVersion(J);A.Ms=A.Ms.insert(x,et)}}})(a.localStore,c))}async function i2(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){rt(Xm,"User change. New user:",t.toKey());const a=await N0(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((_=>{_.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Gl(i,a.Ls)}}function s2(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function X0(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=G0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=s2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=WR.bind(null,t),t.Pu.H_=BR.bind(null,t.eventManager),t.Pu.yu=qR.bind(null,t.eventManager),t}function r2(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=t2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e2.bind(null,t),t}class $c{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=yh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return uR(this.persistence,new aR,t.initialUser,this.serializer)}Cu(t){return new I0(zm.mi,this.serializer)}Du(t){return new pR}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$c.provider={build:()=>new $c};class a2 extends $c{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ht(this.persistence.referenceDelegate instanceof Zc,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new Gw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new I0((a=>Zc.mi(a,i)),this.serializer)}}class fm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>zv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=i2.bind(null,this.syncEngine),await PR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new jR})()}createDatastore(t){const i=yh(t.databaseInfo.databaseId),a=(function(c){return new TR(c)})(t.databaseInfo);return(function(c,d,p,_){return new wR(c,d,p,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new CR(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>zv(this.syncEngine,i,0)),(function(){return Mv.v()?new Mv:new yR})())}createSyncEngine(t,i){return(function(l,c,d,p,_,y,A){const b=new QR(l,c,d,p,_,y);return A&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);rt(Gr,"RemoteStore shutting down."),a.Ea.add(5),await Fl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}fm.provider={build:()=>new fm};class Z0{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ts("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const nr="FirestoreClient";class o2{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Xe.UNAUTHENTICATED,this.clientId=wm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(nr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(nr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ys;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=Km(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Hd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(nr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await N0(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Bv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await l2(r);rt(nr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>kv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>kv(t.remoteStore,l))),r._onlineComponents=t}async function l2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(nr,"Using user provided OfflineComponentProvider");try{await Hd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Ja("Error using user provided cache. Falling back to memory cache: "+i),await Hd(r,new $c)}}else rt(nr,"Using default OfflineComponentProvider"),await Hd(r,new a2(void 0));return r._offlineComponents}async function J0(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(nr,"Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(rt(nr,"Using default OnlineComponentProvider"),await Bv(r,new fm))),r._onlineComponents}function u2(r){return J0(r).then((t=>t.syncEngine))}async function dm(r){const t=await J0(r),i=t.eventManager;return i.onListen=KR.bind(null,t.syncEngine),i.onUnlisten=ZR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=YR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=JR.bind(null,t.syncEngine),i}function c2(r,t,i={}){const a=new Ys;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,_,y){const A=new Z0({next:x=>{A.Nu(),d.enqueueAndForget((()=>j0(c,b)));const H=x.docs.has(p);!H&&x.fromCache?y.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):H&&x.fromCache&&_&&_.source==="server"?y.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(x)},error:x=>y.reject(x)}),b=new B0(hh(p.path),A,{includeMetadataChanges:!0,qa:!0});return z0(c,b)})(await dm(r),r.asyncQueue,t,i,a))),a.promise}function $0(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const qv=new Map;const W0="firestore.googleapis.com",Hv=!0;class Fv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=W0,this.ssl=Hv}else this.host=t.host,this.ssl=t.ssl??Hv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=C0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Hw)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Cb("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=$0(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Eh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Fv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Fv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new yb;switch(a.type){case"firstParty":return new Tb(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=qv.get(i);a&&(rt("ComponentProvider","Removing Datastore"),qv.delete(i),a.terminate())})(this),Promise.resolve()}}function h2(r,t,i,a={}){r=Jn(r,Eh);const l=ro(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(bE(`https://${p}`),wE("Firestore",!0)),c.host!==W0&&c.host!==p&&Ja("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:p,ssl:l,emulatorOptions:a};if(!$i(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Xe.MOCK_USER;else{y=q1(a.mockUserToken,r._app?.options.projectId);const b=a.mockUserToken.sub||a.mockUserToken.user_id;if(!b)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Xe(b)}r._authCredentials=new _b(new zE(y,A))}}class Th{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Th(this.firestore,t,this._query)}}class pe{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Xs(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new pe(this.firestore,t,this._key)}toJSON(){return{type:pe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Bl(i,pe._jsonSchema))return new pe(t,a||null,new mt(ee.fromString(i.referencePath)))}}pe._jsonSchemaVersion="firestore/documentReference/1.0",pe._jsonSchema={type:Ce("string",pe._jsonSchemaVersion),referencePath:Ce("string")};class Xs extends Th{constructor(t,i,a){super(t,i,hh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new pe(this.firestore,null,new mt(t))}withConverter(t){return new Xs(this.firestore,t,this._path)}}function Gv(r,t,...i){if(r=en(r),jE("collection","path",t),r instanceof Eh){const a=ee.fromString(t,...i);return sv(a),new Xs(r,null,a)}{if(!(r instanceof pe||r instanceof Xs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return sv(a),new Xs(r.firestore,null,a)}}function Ai(r,t,...i){if(r=en(r),arguments.length===1&&(t=wm.newId()),jE("doc","path",t),r instanceof Eh){const a=ee.fromString(t,...i);return iv(a),new pe(r,null,new mt(a))}{if(!(r instanceof pe||r instanceof Xs))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ee.fromString(t,...i));return iv(a),new pe(r.firestore,r instanceof Xs?r.converter:null,new mt(a))}}const Qv="AsyncQueue";class Kv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new O0(this,"async_queue_retry"),this._c=()=>{const a=qd();a&&rt(Qv,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=qd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=qd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Ys;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!uo(t))throw t;rt(Qv,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ts("INTERNAL UNHANDLED ERROR: ",Yv(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Qm.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:Yv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Yv(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function Xv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class Qr extends Eh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new Kv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Kv(t),this._firestoreClient=void 0,await t}}}function f2(r,t){const i=typeof r=="object"?r:NE(),a=typeof r=="string"?r:Fc,l=Sm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=j1("firestore");c&&h2(l,...c)}return l}function Jm(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||d2(r),r._firestoreClient}function d2(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new Pb(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,$0(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new o2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Un{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Un(Qe.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Un(Qe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Un._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Bl(t,Un._jsonSchema))return Un.fromBase64String(t.bytes)}}Un._jsonSchemaVersion="firestore/bytes/1.0",Un._jsonSchema={type:Ce("string",Un._jsonSchemaVersion),bytes:Ce("string")};class Ah{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class ho{constructor(t){this._methodName=t}}class wi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:wi._jsonSchemaVersion}}static fromJSON(t){if(Bl(t,wi._jsonSchema))return new wi(t.latitude,t.longitude)}}wi._jsonSchemaVersion="firestore/geoPoint/1.0",wi._jsonSchema={type:Ce("string",wi._jsonSchemaVersion),latitude:Ce("number"),longitude:Ce("number")};class Ri{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ri._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Bl(t,Ri._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ri(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ri._jsonSchemaVersion="firestore/vectorValue/1.0",Ri._jsonSchema={type:Ce("string",Ri._jsonSchemaVersion),vectorValues:Ce("object")};const m2=/^__.*__$/;class g2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new rr(t,this.data,this.fieldMask,i,this.fieldTransforms):new ql(t,this.data,i,this.fieldTransforms)}}class tT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new rr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function eT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Sh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Sh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wc(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(eT(this.Ac)&&m2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class p2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||yh(t)}Cc(t,i,a,l=!1){return new Sh({Ac:t,methodName:i,Dc:a,path:Ge.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function nT(r){const t=r._freezeSettings(),i=yh(r._databaseId);return new p2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function y2(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);eg("Data must be an object, but it was:",d,a);const p=sT(a,d);let _,y;if(c.merge)_=new An(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const b of c.mergeFields){const x=mm(t,b,i);if(!d.contains(x))throw new ct(Z.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);aT(A,x)||A.push(x)}_=new An(A),y=d.fieldTransforms.filter((b=>_.covers(b.field)))}else _=null,y=d.fieldTransforms;return new g2(new hn(p),_,y)}class bh extends ho{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof bh}}function iT(r,t,i){return new Sh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class $m extends ho{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=iT(this,t,!0),a=this.vc.map((c=>fo(c,i))),l=new eo(a);return new Mm(t.path,l)}isEqual(t){return t instanceof $m&&$i(this.vc,t.vc)}}class Wm extends ho{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=iT(this,t,!0),a=this.vc.map((c=>fo(c,i))),l=new no(a);return new Mm(t.path,l)}isEqual(t){return t instanceof Wm&&$i(this.vc,t.vc)}}class tg extends ho{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Ll(t.serializer,c0(t.serializer,this.Fc));return new Mm(t.path,i)}isEqual(t){return t instanceof tg&&this.Fc===t.Fc}}function _2(r,t,i,a){const l=r.Cc(1,t,i);eg("Data must be an object, but it was:",l,a);const c=[],d=hn.empty();sr(a,((_,y)=>{const A=ng(t,_,i);y=en(y);const b=l.yc(A);if(y instanceof bh)c.push(A);else{const x=fo(y,b);x!=null&&(c.push(A),d.set(A,x))}}));const p=new An(c);return new tT(d,p,l.fieldTransforms)}function v2(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[mm(t,a,i)],_=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<c.length;x+=2)p.push(mm(t,c[x])),_.push(c[x+1]);const y=[],A=hn.empty();for(let x=p.length-1;x>=0;--x)if(!aT(y,p[x])){const H=p[x];let J=_[x];J=en(J);const et=d.yc(H);if(J instanceof bh)y.push(H);else{const $=fo(J,et);$!=null&&(y.push(H),A.set(H,$))}}const b=new An(y);return new tT(A,b,d.fieldTransforms)}function fo(r,t){if(rT(r=en(r)))return eg("Unsupported field value:",t,r),sT(r,t);if(r instanceof ho)return(function(a,l){if(!eT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let _=fo(p,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=en(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return c0(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ne.fromDate(a);return{timestampValue:Xc(l.serializer,c)}}if(a instanceof ne){const c=new ne(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Xc(l.serializer,c)}}if(a instanceof wi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Un)return{bytesValue:E0(l.serializer,a._byteString)};if(a instanceof pe){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Lm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ri)return(function(d,p){return{mapValue:{fields:{[XE]:{stringValue:ZE},[Gc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw p.Sc("VectorValues must only contain numeric values.");return xm(p.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Rm(a)}`)})(r,t)}function sT(r,t){const i={};return HE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):sr(r,((a,l)=>{const c=fo(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function rT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ne||r instanceof wi||r instanceof Un||r instanceof pe||r instanceof ho||r instanceof Ri)}function eg(r,t,i){if(!rT(i)||!BE(i)){const a=Rm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function mm(r,t,i){if((t=en(t))instanceof Ah)return t._internalPath;if(typeof t=="string")return ng(r,t);throw Wc("Field path arguments must be of type string or ",r,!1,void 0,i)}const E2=new RegExp("[~\\*/\\[\\]]");function ng(r,t,i){if(t.search(E2)>=0)throw Wc(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Ah(...t.split("."))._internalPath}catch{throw Wc(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function Wc(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ct(Z.INVALID_ARGUMENT,p+r+_)}function aT(r,t){return r.some((i=>i.isEqual(t)))}class oT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new pe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new T2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(lT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class T2 extends oT{data(){return super.data()}}function lT(r,t){return typeof t=="string"?ng(r,t):t instanceof Ah?t._internalPath:t._delegate._internalPath}function A2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class S2{convertValue(t,i="none"){switch(tr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ge(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Ws(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return sr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Gc].arrayValue?.values?.map((a=>ge(a.doubleValue)));return new Ri(i)}convertGeoPoint(t){return new wi(ge(t.latitude),ge(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=uh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Vl(t));default:return null}}convertTimestamp(t){const i=$s(t);return new ne(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ee.fromString(t);Ht(R0(a),9688,{name:t});const l=new kl(a.get(1),a.get(3)),c=new mt(a.popFirst(5));return l.isEqual(i)||ts(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function b2(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class bl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class qr extends oT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(lT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",qr._jsonSchema={type:Ce("string",qr._jsonSchemaVersion),bundleSource:Ce("string","DocumentSnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class kc extends qr{data(t={}){return super.data(t)}}class Qa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new bl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new kc(this._firestore,this._userDataWriter,a.key,a,new bl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const _=new kc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new bl(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return p.type!==0&&(y=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:w2(p.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Qa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=wm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function w2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function R2(r){r=Jn(r,pe);const t=Jn(r.firestore,Qr);return c2(Jm(t),r._key).then((i=>cT(t,r,i)))}Qa._jsonSchemaVersion="firestore/querySnapshot/1.0",Qa._jsonSchema={type:Ce("string",Qa._jsonSchemaVersion),bundleSource:Ce("string","QuerySnapshot"),bundleName:Ce("string"),bundle:Ce("string")};class uT extends S2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Un(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new pe(this.firestore,null,i)}}function gm(r,t,i){r=Jn(r,pe);const a=Jn(r.firestore,Qr),l=b2(r.converter,t,i);return ig(a,[y2(nT(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,$n.none())])}function Br(r,t,i,...a){r=Jn(r,pe);const l=Jn(r.firestore,Qr),c=nT(l);let d;return d=typeof(t=en(t))=="string"||t instanceof Ah?v2(c,"updateDoc",r._key,t,i,a):_2(c,"updateDoc",r._key,t),ig(l,[d.toMutation(r._key,$n.exists(!0))])}function C2(r){return ig(Jn(r.firestore,Qr),[new Vm(r._key,$n.none())])}function Zv(r,...t){r=en(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||Xv(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Xv(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,p;if(r instanceof pe)d=Jn(r.firestore,Qr),p=hh(r._key.path),c={next:_=>{t[a]&&t[a](cT(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Jn(r,Th);d=Jn(_.firestore,Qr),p=_._query;const y=new uT(d);c={next:A=>{t[a]&&t[a](new Qa(d,y,_,A))},error:t[a+1],complete:t[a+2]},A2(r._query)}return(function(y,A,b,x){const H=new Z0(x),J=new B0(A,H,b);return y.asyncQueue.enqueueAndForget((async()=>z0(await dm(y),J))),()=>{H.Nu(),y.asyncQueue.enqueueAndForget((async()=>j0(await dm(y),J)))}})(Jm(d),p,l,c)}function ig(r,t){return(function(a,l){const c=new Ys;return a.asyncQueue.enqueueAndForget((async()=>$R(await u2(a),l,c))),c.promise})(Jm(r),t)}function cT(r,t,i){const a=i.docs.get(t._key),l=new uT(r);return new qr(r,l,t._key,a,new bl(i.hasPendingWrites,i.fromCache),t.converter)}function I2(...r){return new $m("arrayUnion",r)}function Jv(...r){return new Wm("arrayRemove",r)}function wl(r){return new tg("increment",r)}(function(t,i=!0){(function(l){oo=l})(ao),Za(new Hr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new Qr(new vb(a.getProvider("auth-internal")),new Ab(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new kl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),Qs(W_,tv,t),Qs(W_,tv,"esm2020")})();function hT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const N2=hT,fT=new zl("auth","Firebase",hT());const th=new Tm("@firebase/auth");function D2(r,...t){th.logLevel<=xt.WARN&&th.warn(`Auth (${ao}): ${r}`,...t)}function Uc(r,...t){th.logLevel<=xt.ERROR&&th.error(`Auth (${ao}): ${r}`,...t)}function ns(r,...t){throw sg(r,...t)}function Ci(r,...t){return sg(r,...t)}function dT(r,t,i){const a={...N2(),[t]:i};return new zl("auth","Firebase",a).create(t,{appName:r.name})}function Zs(r){return dT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function sg(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return fT.create(r,...t)}function _t(r,t,...i){if(!r)throw sg(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Uc(t),new Error(t)}function is(r,t){r||Zi(t)}function pm(){return typeof self<"u"&&self.location?.href||""}function O2(){return $v()==="http:"||$v()==="https:"}function $v(){return typeof self<"u"&&self.location?.protocol||null}function x2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(O2()||Y1()||"connection"in navigator)?navigator.onLine:!0}function M2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Ql{constructor(t,i){this.shortDelay=t,this.longDelay=i,is(i>t,"Short delay should be less than long delay!"),this.isMobile=G1()||X1()}get(){return x2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rg(r,t){is(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class mT{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const V2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const k2=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],U2=new Ql(3e4,6e4);function wh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function mo(r,t,i,a,l={}){return gT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=jl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return K1()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&ro(r.emulatorConfig.host)&&(y.credentials="include"),mT.fetch()(await yT(r,r.config.apiHost,i,p),y)})}async function gT(r,t,i){r._canInitEmulator=!1;const a={...V2,...t};try{const l=new L2(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Nc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[_,y]=p.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Nc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Nc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw dT(r,A,y);ns(r,A)}}catch(l){if(l instanceof ss)throw l;ns(r,"network-request-failed",{message:String(l)})}}async function pT(r,t,i,a,l={}){const c=await mo(r,t,i,a,l);return"mfaPendingCredential"in c&&ns(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function yT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?rg(r.config,l):`${r.config.apiScheme}://${l}`;return k2.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class L2{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ci(this.auth,"network-request-failed")),U2.get())})}}function Nc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ci(r,t,a);return l.customData._tokenResponse=i,l}async function P2(r,t){return mo(r,"POST","/v1/accounts:delete",t)}async function eh(r,t){return mo(r,"POST","/v1/accounts:lookup",t)}function Ol(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function z2(r,t=!1){const i=en(r),a=await i.getIdToken(t),l=ag(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ol(Fd(l.auth_time)),issuedAtTime:Ol(Fd(l.iat)),expirationTime:Ol(Fd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Fd(r){return Number(r)*1e3}function ag(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{const l=EE(i);return l?JSON.parse(l):(Uc("Failed to decode base64 JWT payload"),null)}catch(l){return Uc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function Wv(r){const t=ag(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Pl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ss&&j2(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function j2({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class B2{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class ym{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function nh(r){const t=r.auth,i=await r.getIdToken(),a=await Pl(r,eh(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?_T(l.providerUserInfo):[],d=H2(r.providerData,c),p=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=p?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function q2(r){const t=en(r);await nh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function H2(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function _T(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function F2(r,t){const i=await gT(r,{},async()=>{const a=jl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await yT(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:p,body:a};return r.emulatorConfig&&ro(r.emulatorConfig.host)&&(_.credentials="include"),mT.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function G2(r,t){return mo(r,"POST","/v2/accounts:revokeToken",wh(r,t))}class Ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=Wv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await F2(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ka;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ka,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function Ps(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class Zn{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new B2(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new ym(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Pl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return z2(this,t)}reload(){return q2(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Zn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await nh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(Zs(this.auth));const t=await this.getIdToken();return await Pl(this,P2(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:b,emailVerified:x,isAnonymous:H,providerData:J,stsTokenManager:et}=i;_t(b&&et,t,"internal-error");const $=Ka.fromJSON(this.name,et);_t(typeof b=="string",t,"internal-error"),Ps(a,t.name),Ps(l,t.name),_t(typeof x=="boolean",t,"internal-error"),_t(typeof H=="boolean",t,"internal-error"),Ps(c,t.name),Ps(d,t.name),Ps(p,t.name),Ps(_,t.name),Ps(y,t.name),Ps(A,t.name);const ft=new Zn({uid:b,auth:t,email:l,emailVerified:x,displayName:a,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:$,createdAt:y,lastLoginAt:A});return J&&Array.isArray(J)&&(ft.providerData=J.map(yt=>({...yt}))),_&&(ft._redirectEventId=_),ft}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ka;l.updateFromServerResponse(i);const c=new Zn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await nh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_T(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new Ka;p.updateFromIdToken(a);const _=new Zn({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new ym(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const tE=new Map;function Ji(r){is(r instanceof Function,"Expected a class definition");let t=tE.get(r);return t?(is(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,tE.set(r,t),t)}class vT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}vT.type="NONE";const eE=vT;function Lc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ya{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Lc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Lc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await eh(this.auth,{idToken:t}).catch(()=>{});return i?Zn._fromGetAccountInfoResponse(this.auth,i,t):null}return Zn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ya(Ji(eE),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Ji(eE);const d=Lc(a,t.config.apiKey,t.name);let p=null;for(const y of i)try{const A=await y._get(d);if(A){let b;if(typeof A=="string"){const x=await eh(t,{idToken:A}).catch(()=>{});if(!x)break;b=await Zn._fromGetAccountInfoResponse(t,x,A)}else b=Zn._fromJSON(t,A);y!==c&&(p=b),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ya(c,t,a):(c=_[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ya(c,t,a))}}function nE(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ST(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ET(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(wT(t))return"Blackberry";if(RT(t))return"Webos";if(TT(t))return"Safari";if((t.includes("chrome/")||AT(t))&&!t.includes("edge/"))return"Chrome";if(bT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function ET(r=Je()){return/firefox\//i.test(r)}function TT(r=Je()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function AT(r=Je()){return/crios\//i.test(r)}function ST(r=Je()){return/iemobile/i.test(r)}function bT(r=Je()){return/android/i.test(r)}function wT(r=Je()){return/blackberry/i.test(r)}function RT(r=Je()){return/webos/i.test(r)}function og(r=Je()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function Q2(r=Je()){return og(r)&&!!window.navigator?.standalone}function K2(){return Z1()&&document.documentMode===10}function CT(r=Je()){return og(r)||bT(r)||RT(r)||wT(r)||/windows phone/i.test(r)||ST(r)}function IT(r,t=[]){let i;switch(r){case"Browser":i=nE(Je());break;case"Worker":i=`${nE(Je())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${ao}/${a}`}class Y2{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const _=t(c);d(_)}catch(_){p(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function X2(r,t={}){return mo(r,"GET","/v2/passwordPolicy",wh(r,t))}const Z2=6;class J2{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??Z2,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class $2{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iE(this),this.idTokenSubscription=new iE(this),this.beforeStateQueue=new Y2(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Ji(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ya.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await eh(this,{idToken:t}),a=await Zn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Xn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await nh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=M2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Xn(this.app))return Promise.reject(Zs(this));const i=t?en(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(Zs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Xn(this.app)?Promise.reject(Zs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ji(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await X2(this),i=new J2(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new zl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await G2(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Ji(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Ya.create(this,[Ji(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=IT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&D2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Rh(r){return en(r)}class iE{constructor(t){this.auth=t,this.observer=null,this.addObserver=sS(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let lg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function W2(r){lg=r}function tC(r){return lg.loadJS(r)}function eC(){return lg.gapiScript}function nC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function iC(r,t){const i=Sm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if($i(c,t??{}))return l;ns(l,"already-initialized")}return i.initialize({options:t})}function sC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Ji);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function rC(r,t,i){const a=Rh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=NT(t),{host:d,port:p}=aC(t),_=p===null?"":`:${p}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t($i(y,a.config.emulator)&&$i(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,ro(d)?(bE(`${c}//${d}${_}`),wE("Auth",!0)):oC()}function NT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function aC(r){const t=NT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:sE(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:sE(d)}}}function sE(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function oC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class DT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Xa(r,t){return pT(r,"POST","/v1/accounts:signInWithIdp",wh(r,t))}const lC="http://localhost";class Kr extends DT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Kr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ns("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Kr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Xa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Xa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Xa(t,i)}buildRequest(){const t={requestUri:lC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=jl(i)}return t}}class OT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Kl extends OT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class zs extends Kl{constructor(){super("facebook.com")}static credential(t){return Kr._fromParams({providerId:zs.PROVIDER_ID,signInMethod:zs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return zs.credentialFromTaggedObject(t)}static credentialFromError(t){return zs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return zs.credential(t.oauthAccessToken)}catch{return null}}}zs.FACEBOOK_SIGN_IN_METHOD="facebook.com";zs.PROVIDER_ID="facebook.com";class js extends Kl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Kr._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return js.credentialFromTaggedObject(t)}static credentialFromError(t){return js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return js.credential(i,a)}catch{return null}}}js.GOOGLE_SIGN_IN_METHOD="google.com";js.PROVIDER_ID="google.com";class Bs extends Kl{constructor(){super("github.com")}static credential(t){return Kr._fromParams({providerId:Bs.PROVIDER_ID,signInMethod:Bs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Bs.credentialFromTaggedObject(t)}static credentialFromError(t){return Bs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Bs.credential(t.oauthAccessToken)}catch{return null}}}Bs.GITHUB_SIGN_IN_METHOD="github.com";Bs.PROVIDER_ID="github.com";class qs extends Kl{constructor(){super("twitter.com")}static credential(t,i){return Kr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return qs.credential(i,a)}catch{return null}}}qs.TWITTER_SIGN_IN_METHOD="twitter.com";qs.PROVIDER_ID="twitter.com";async function uC(r,t){return pT(r,"POST","/v1/accounts:signUp",wh(r,t))}class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await Zn._fromIdTokenResponse(t,a,l),d=rE(a);return new ir({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=rE(a);return new ir({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function rE(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function cC(r){if(Xn(r.app))return Promise.reject(Zs(r));const t=Rh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ir({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await uC(t,{returnSecureToken:!0}),a=await ir._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class ih extends ss{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,ih.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new ih(t,i,a,l)}}function xT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?ih._fromErrorAndOperation(r,c,t,a):c})}async function hC(r,t,i=!1){const a=await Pl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return ir._forOperation(r,"link",a)}async function fC(r,t,i=!1){const{auth:a}=r;if(Xn(a.app))return Promise.reject(Zs(a));const l="reauthenticate";try{const c=await Pl(r,xT(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=ag(c.idToken);_t(d,a,"internal-error");const{sub:p}=d;return _t(r.uid===p,a,"user-mismatch"),ir._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ns(a,"user-mismatch"),c}}async function dC(r,t,i=!1){if(Xn(r.app))return Promise.reject(Zs(r));const a="signIn",l=await xT(r,a,t),c=await ir._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function mC(r,t,i,a){return en(r).onIdTokenChanged(t,i,a)}function gC(r,t,i){return en(r).beforeAuthStateChanged(t,i)}const sh="__sak";class MT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(sh,"1"),this.storage.removeItem(sh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const pC=1e3,yC=10;class VT extends MT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=CT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);K2()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,yC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},pC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}VT.type="LOCAL";const _C=VT;class kT extends MT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}kT.type="SESSION";const UT=kT;function vC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ch{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Ch(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async y=>y(i.origin,c)),_=await vC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ch.receivers=[];function ug(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class EC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,_)=>{const y=ug("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(b){const x=b;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(x.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ii(){return window}function TC(r){Ii().location.href=r}function LT(){return typeof Ii().WorkerGlobalScope<"u"&&typeof Ii().importScripts=="function"}async function AC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function SC(){return navigator?.serviceWorker?.controller||null}function bC(){return LT()?self:null}const PT="firebaseLocalStorageDb",wC=1,rh="firebaseLocalStorage",zT="fbase_key";class Yl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ih(r,t){return r.transaction([rh],t?"readwrite":"readonly").objectStore(rh)}function RC(){const r=indexedDB.deleteDatabase(PT);return new Yl(r).toPromise()}function _m(){const r=indexedDB.open(PT,wC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(rh,{keyPath:zT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(rh)?t(a):(a.close(),await RC(),t(await _m()))})})}async function aE(r,t,i){const a=Ih(r,!0).put({[zT]:t,value:i});return new Yl(a).toPromise()}async function CC(r,t){const i=Ih(r,!1).get(t),a=await new Yl(i).toPromise();return a===void 0?null:a.value}function oE(r,t){const i=Ih(r,!0).delete(t);return new Yl(i).toPromise()}const IC=800,NC=3;class jT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _m(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>NC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return LT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ch._getInstance(bC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await AC(),!this.activeServiceWorker)return;this.sender=new EC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||SC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await _m();return await aE(t,sh,"1"),await oE(t,sh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>aE(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>CC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>oE(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ih(l,!1).getAll();return new Yl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}jT.type="LOCAL";const DC=jT;new Ql(3e4,6e4);function OC(r,t){return t?Ji(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class cg extends DT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Xa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Xa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Xa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function xC(r){return dC(r.auth,new cg(r),r.bypassAuthState)}function MC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),fC(i,new cg(r),r.bypassAuthState)}async function VC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),hC(i,new cg(r),r.bypassAuthState)}class BT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return xC;case"linkViaPopup":case"linkViaRedirect":return VC;case"reauthViaPopup":case"reauthViaRedirect":return MC;default:ns(this.auth,"internal-error")}}resolve(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){is(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kC=new Ql(2e3,1e4);class Fa extends BT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Fa.currentPopupAction&&Fa.currentPopupAction.cancel(),Fa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){is(this.filter.length===1,"Popup operations only handle one event");const t=ug();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ci(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ci(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ci(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,kC.get())};t()}}Fa.currentPopupAction=null;const UC="pendingRedirect",Pc=new Map;class LC extends BT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Pc.get(this.auth._key());if(!t){try{const a=await PC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Pc.set(this.auth._key(),t)}return this.bypassAuthState||Pc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function PC(r,t){const i=BC(t),a=jC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function zC(r,t){Pc.set(r._key(),t)}function jC(r){return Ji(r._redirectPersistence)}function BC(r){return Lc(UC,r.config.apiKey,r.name)}async function qC(r,t,i=!1){if(Xn(r.app))return Promise.reject(Zs(r));const a=Rh(r),l=OC(a,t),d=await new LC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const HC=600*1e3;class FC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!GC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!qT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ci(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=HC&&this.cachedEventUids.clear(),this.cachedEventUids.has(lE(t))}saveEventToCache(t){this.cachedEventUids.add(lE(t)),this.lastProcessedEventTime=Date.now()}}function lE(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function qT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function GC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qT(r);default:return!1}}async function QC(r,t={}){return mo(r,"GET","/v1/projects",t)}const KC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,YC=/^https?/;async function XC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await QC(r);for(const i of t)try{if(ZC(i))return}catch{}ns(r,"unauthorized-domain")}function ZC(r){const t=pm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!YC.test(i))return!1;if(KC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const JC=new Ql(3e4,6e4);function uE(){const r=Ii().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function $C(r){return new Promise((t,i)=>{function a(){uE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{uE(),i(Ci(r,"network-request-failed"))},timeout:JC.get()})}if(Ii().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ii().gapi?.load)a();else{const l=nC("iframefcb");return Ii()[l]=()=>{gapi.load?a():i(Ci(r,"network-request-failed"))},tC(`${eC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw zc=null,t})}let zc=null;function WC(r){return zc=zc||$C(r),zc}const tI=new Ql(5e3,15e3),eI="__/auth/iframe",nI="emulator/auth/iframe",iI={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sI=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function rI(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?rg(t,nI):`https://${r.config.authDomain}/${eI}`,a={apiKey:t.apiKey,appName:r.name,v:ao},l=sI.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${jl(a).slice(1)}`}async function aI(r){const t=await WC(r),i=Ii().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:rI(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:iI,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ci(r,"network-request-failed"),p=Ii().setTimeout(()=>{c(d)},tI.get());function _(){Ii().clearTimeout(p),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const oI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},lI=500,uI=600,cI="_blank",hI="http://localhost";class cE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function fI(r,t,i,a=lI,l=uI){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const _={...oI,width:a.toString(),height:l.toString(),top:c,left:d},y=Je().toLowerCase();i&&(p=AT(y)?cI:i),ET(y)&&(t=t||hI,_.scrollbars="yes");const A=Object.entries(_).reduce((x,[H,J])=>`${x}${H}=${J},`,"");if(Q2(y)&&p!=="_self")return dI(t||"",p),new cE(null);const b=window.open(t||"",p,A);_t(b,r,"popup-blocked");try{b.focus()}catch{}return new cE(b)}function dI(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const mI="__/auth/handler",gI="emulator/auth/handler",pI=encodeURIComponent("fac");async function hE(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:ao,eventId:l};if(t instanceof OT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",iS(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,b]of Object.entries({}))d[A]=b}if(t instanceof Kl){const A=t.getScopes().filter(b=>b!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const _=await r._getAppCheckToken(),y=_?`#${pI}=${encodeURIComponent(_)}`:"";return`${yI(r)}?${jl(p).slice(1)}${y}`}function yI({config:r}){return r.emulator?rg(r,gI):`https://${r.authDomain}/${mI}`}const Gd="webStorageSupport";class _I{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=UT,this._completeRedirectFn=qC,this._overrideRedirectResult=zC}async _openPopup(t,i,a,l){is(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await hE(t,i,a,pm(),l);return fI(t,c,ug())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await hE(t,i,a,pm(),l);return TC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(is(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await aI(t),a=new FC(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Gd,{type:Gd},l=>{const c=l?.[0]?.[Gd];c!==void 0&&i(!!c),ns(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=XC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return CT()||TT()||og()}}const vI=_I;var fE="@firebase/auth",dE="1.12.0";class EI{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function TI(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function AI(r){Za(new Hr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:IT(r)},y=new $2(a,l,c,_);return sC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Hr("auth-internal",t=>{const i=Rh(t.getProvider("auth").getImmediate());return(a=>new EI(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(fE,dE,TI(r)),Qs(fE,dE,"esm2020")}const SI=300,bI=SE("authIdTokenMaxAge")||SI;let mE=null;const wI=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>bI)return;const l=i?.token;mE!==l&&(mE=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function RI(r=NE()){const t=Sm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=iC(r,{popupRedirectResolver:vI,persistence:[DC,_C,UT]}),a=SE("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=wI(c.toString());gC(i,d,()=>d(i.currentUser)),mC(i,p=>d(p))}}const l=TE("auth");return l&&rC(i,`http://${l}`),i}function CI(){return document.getElementsByTagName("head")?.[0]??document}W2({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ci("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",CI().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});AI("Browser");const II=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),NI=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),gE=r=>{const t=NI(r);return t.charAt(0).toUpperCase()+t.slice(1)},HT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),DI=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var OI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xI=ce.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},_)=>ce.createElement("svg",{ref:_,...OI,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:HT("lucide",l),...!c&&!DI(p)&&{"aria-hidden":"true"},...p},[...d.map(([y,A])=>ce.createElement(y,A)),...Array.isArray(c)?c:[c]]));const fn=(r,t)=>{const i=ce.forwardRef(({className:a,...l},c)=>ce.createElement(xI,{ref:c,iconNode:t,className:HT(`lucide-${II(gE(r))}`,`lucide-${r}`,a),...l}));return i.displayName=gE(r),i};const MI=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],VI=fn("calendar",MI);const kI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],UI=fn("circle-check-big",kI);const LI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],PI=fn("circle-x",LI);const zI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jI=fn("clock",zI);const BI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],pE=fn("dollar-sign",BI);const qI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],HI=fn("info",qI);const FI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],GI=fn("loader-circle",FI);const QI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],KI=fn("log-out",QI);const YI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],XI=fn("toggle-left",YI);const ZI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],JI=fn("toggle-right",ZI);const $I=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],WI=fn("trash-2",$I);const tN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],eN=fn("trending-up",tN);const nN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],FT=fn("users",nN);const iN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],sN=fn("x",iN),rN={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},GT=IE(rN),Lr=f2(GT),aN=RI(GT),vm=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],yE=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],zr=({children:r,className:t=""})=>j.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),jc=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return j.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${l}`,disabled:a,children:r})},oN=(r,t)=>{const i=new Date,a=new Date,[l,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const _=i.getHours()*60+i.getMinutes(),y=l*60+c;_>y&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(l,c,0,0),(a-i)/(1e3*60*60)};function lN(){const[r,t]=ce.useState("login"),[i,a]=ce.useState(null),[l,c]=ce.useState([]),[d,p]=ce.useState({}),[_,y]=ce.useState(null),[A,b]=ce.useState(!0),[x,H]=ce.useState(null),J=(ot,Tt="success")=>{y({msg:ot,type:Tt}),setTimeout(()=>y(null),4e3)};ce.useEffect(()=>{(async()=>{try{await cC(aN)}catch(st){console.error("Error Auth:",st)}const Tt=Zv(Gv(Lr,"alumnas"),st=>{const w=st.docs.map(S=>({id:S.id,...S.data()}));c(w),b(!1)}),W=Zv(Gv(Lr,"sesiones"),st=>{const w={};st.docs.forEach(S=>w[S.id]=S.data()),p(w)});return()=>{Tt(),W()}})()},[]),ce.useEffect(()=>{if(i&&i.role==="student"){const ot=l.find(Tt=>Tt.id===i.id);ot&&a(Tt=>({...Tt,...ot}))}},[l]);const et=(ot,Tt)=>{const W=ot.trim().toUpperCase(),st=Tt.trim().toUpperCase();if(H(null),W==="ADMIN-JEN"&&st==="JENNY"){a({firstName:"JENNY",role:"admin"}),t("admin");return}const w=l.find(S=>{const R=S.id.toUpperCase(),M=S.name.split(" ")[0].toUpperCase();return R===W&&(S.name.toUpperCase()===st||M===st)});w?(a({...w,firstName:w.name.split(" ")[0],role:"student"}),t("student")):(H("Datos incorrectos. Verifica ID y nombre."),J("Datos incorrectos. Verifica ID y nombre.","error"))},$=async ot=>{if(d[ot]?.isClosed){J("Clase cerrada.","error");return}if(i.credits<=0){J("Sin crditos.","error");return}try{const W=Ai(Lr,"alumnas",i.id),st=Ai(Lr,"sesiones",ot);await Br(W,{credits:wl(-1),history:I2(ot)}),await gm(st,{booked:wl(1)},{merge:!0}),J("Clase reservada!")}catch{J("Error al reservar","error")}},ft=async ot=>{const Tt=vm.find(w=>w.id===ot),st=oN(Tt.dayIdx,Tt.time)<6;if(!(st&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const w=Ai(Lr,"alumnas",i.id),S=Ai(Lr,"sesiones",ot);st?await Br(w,{history:Jv(ot)}):await Br(w,{credits:wl(1),history:Jv(ot)}),await Br(S,{booked:wl(-1)}),J(st?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{J("Error al cancelar","error")}},yt=()=>{a(null),t("login"),H(null)};return A?j.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic",children:"Conectando..."}):j.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[_&&j.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${_.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[_.type==="error"?j.jsx(PI,{size:18}):j.jsx(UI,{size:18}),j.jsx("span",{className:"text-[10px] font-bold uppercase tracking-widest",children:_.msg})]}),r==="login"&&j.jsx(uN,{onLogin:et,error:x}),r==="student"&&j.jsx(cN,{user:i,sessions:vm,sessionsData:d,onBook:$,onCancel:ft,onLogout:yt}),r==="admin"&&j.jsx(hN,{students:l,sessionsData:d,db:Lr,onLogout:yt,showNotification:J})]})}const uN=({onLogin:r,error:t})=>{const[i,a]=ce.useState(""),[l,c]=ce.useState("");return j.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[j.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),j.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:j.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[j.jsxs("div",{className:"text-center mb-10",children:[j.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),j.jsx("span",{className:"text-[10px] uppercase tracking-[0.4em] text-[#369EAD] font-bold",children:"Portal de Alumnas"})]}),j.jsxs("form",{onSubmit:d=>{d.preventDefault(),r(i,l)},className:"space-y-6",children:[j.jsx("input",{type:"text",required:!0,placeholder:"ID (BF-001)",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-serif uppercase text-sm",value:i,onChange:d=>a(d.target.value)}),j.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-serif uppercase text-sm",value:l,onChange:d=>c(d.target.value)}),t&&j.jsx("div",{className:"text-red-500 text-[10px] text-center font-bold animate-pulse",children:t}),j.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Ingresar"})]})]})})]})},cN=({user:r,sessions:t,sessionsData:i,onBook:a,onCancel:l,onLogout:c})=>{const d=r.history||[],p=t.filter(y=>d.includes(y.id)),_=p.length>0?p[0]:null;return j.jsxs("div",{className:"pb-20",children:[j.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:j.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[j.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),j.jsxs("button",{onClick:c,className:"text-gray-400 hover:text-[#369EAD] text-[10px] uppercase font-bold flex items-center gap-2",children:[j.jsx("span",{children:"Salir"}),j.jsx(KI,{size:16})]})]})}),j.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[j.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[j.jsxs(zr,{className:"md:col-span-2",children:[j.jsx("h2",{className:"text-3xl font-serif text-[#1A3A3E] mb-2 italic",children:"Mi Resumen Semanal"}),j.jsxs("div",{className:"bg-[#EBF5F6] px-8 py-5 rounded-sm border border-[#369EAD]/10 inline-block mt-4",children:[j.jsx("span",{className:"block text-[10px] uppercase tracking-[0.2em] text-gray-500 font-bold mb-2",children:"Clases disponibles"}),j.jsxs("div",{className:"flex items-baseline gap-2 font-serif",children:[j.jsx("span",{className:`text-5xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),j.jsxs("span",{className:"text-gray-300 text-xl",children:["/ ",r.maxCredits]})]})]})]}),j.jsxs(zr,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center",children:[j.jsx(VI,{className:"text-[#C5A059] mb-3",size:32}),j.jsx("h3",{className:"text-[10px] uppercase tracking-widest text-[#C5A059] mb-2",children:"Prxima Clase"}),_?j.jsxs("p",{className:"text-xl italic font-bold",children:[_.day," ",_.time]}):j.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin reservas"})]})]}),j.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Programacin de Clases"}),j.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map(y=>{const A=d.includes(y.id),b=i[y.id]||{booked:0,isClosed:!1},x=(b.booked||0)>=y.spots,H=b.isClosed,J=r.credits>0&&!A&&!x&&!H;return j.jsxs("div",{className:`p-8 rounded-sm border transition-all ${A?"bg-[#EBF5F6] border-[#369EAD]":H?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[j.jsxs("div",{className:"mb-6",children:[j.jsxs("div",{className:"flex justify-between items-start",children:[j.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:y.day}),H&&j.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Cerrado"})]}),j.jsx("h4",{className:"text-3xl font-serif italic font-bold",children:y.time}),j.jsxs("p",{className:"text-[10px] text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:["Maestra: ",y.teacher]})]}),j.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50",children:[j.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase",children:[j.jsx(FT,{size:12,className:"inline mr-1"}),b.booked||0,"/",y.spots]}),A?j.jsx("button",{onClick:()=>l(y.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8",children:"Cancelar"}):j.jsx(jc,{onClick:()=>a(y.id),disabled:!J,className:"!px-4 !py-2 !text-[9px]",children:H?"Feriado":x?"Lleno":"Reservar"})]})]},y.id)})})]})]})},hN=({students:r,sessionsData:t,db:i,onLogout:a,showNotification:l})=>{const[c,d]=ce.useState(!1),[p,_]=ce.useState({id:"",name:"",plan:"2 clases x sem"}),[y,A]=ce.useState(!1),[b,x]=ce.useState(null),[H,J]=ce.useState(0),et=r.reduce((W,st)=>W+(st.monthlyPayment||0),0),$=async(W,st)=>{await gm(Ai(i,"sesiones",W),{isClosed:!st},{merge:!0}),l("Estado actualizado")},ft=async W=>{W.preventDefault();const st=p.id.trim().toUpperCase();if(!(!st||!p.name)){A(!0);try{const w=Ai(i,"alumnas",st),S=await R2(w);if(S.exists()){l(`ID ${st} ya usado por ${S.data().name}`,"error"),A(!1);return}const R=parseInt(p.plan.split(" ")[0])||2;await gm(w,{id:st,name:p.name.trim().toUpperCase(),plan:p.plan,maxCredits:R,credits:R,history:[],monthlyPayment:0,registrationDate:new Date().toISOString()}),l("Alumna registrada"),d(!1),_({id:"",name:"",plan:"2 clases x sem"})}catch(w){console.error(w)}A(!1)}},yt=async()=>{if(b)try{await Br(Ai(i,"alumnas",b),{monthlyPayment:parseFloat(H)}),l("Pago registrado con xito"),x(null),J(0)}catch(W){console.error(W)}},ot=async W=>{if(window.confirm(`BORRAR A ${W.name}?`)){if(W.history?.length>0)for(const st of W.history)await Br(Ai(i,"sesiones",st),{booked:wl(-1)});await C2(Ai(i,"alumnas",W.id)),l("Alumna eliminada")}},Tt=async(W,st)=>{window.confirm("Reiniciar semana?")&&await Br(Ai(i,"alumnas",W),{credits:st,history:[]})};return j.jsxs("div",{className:"pb-20",children:[j.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[j.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN PORTAL"}),j.jsx("button",{onClick:a,className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-[0.2em]",children:"Cerrar Sesin"})]}),j.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[j.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[j.jsxs(zr,{className:"bg-brand-dark !border-[#C5A059] text-white flex items-center gap-6",children:[j.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-brand-dark",children:j.jsx(pE,{size:28})}),j.jsxs("div",{children:[j.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Ingresos del Mes"}),j.jsxs("p",{className:"text-3xl font-bold font-serif text-[#C5A059]",children:["$",et.toLocaleString()]})]})]}),j.jsxs(zr,{className:"flex items-center gap-6",children:[j.jsx("div",{className:"p-4 bg-brand-tealLight rounded-sm text-brand-teal",children:j.jsx(eN,{size:28})}),j.jsxs("div",{children:[j.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Asistencias Activas"}),j.jsx("p",{className:"text-3xl font-bold font-serif",children:Object.values(t).reduce((W,st)=>W+(st.booked||0),0)})]})]}),j.jsxs(zr,{className:"bg-[#EBF5F6] border-brand-teal flex items-center gap-6",children:[j.jsx("div",{className:"p-4 bg-brand-teal rounded-sm text-white",children:j.jsx(FT,{size:28})}),j.jsxs("div",{children:[j.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Alumnas Inscritas"}),j.jsx("p",{className:"text-3xl font-bold font-serif text-brand-teal",children:r.length})]})]})]}),j.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[j.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[j.jsxs(zr,{className:"bg-white border-brand-gold overflow-hidden",children:[j.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-brand-dark",children:[j.jsx(HI,{size:18,className:"text-[#C5A059]"})," Tarifas 2026"]}),j.jsx("div",{className:"space-y-3",children:yE.map((W,st)=>j.jsxs("div",{className:"flex justify-between items-center text-xs border-b border-gray-50 pb-2",children:[j.jsx("span",{className:"text-gray-500 uppercase tracking-tighter",children:W.plan}),j.jsxs("span",{className:"font-bold text-brand-teal font-serif",children:["$",W.price]})]},st))})]}),j.jsxs(zr,{className:"bg-white",children:[j.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Gestin de Clases"}),j.jsx("div",{className:"space-y-4",children:vm.map(W=>{const st=t[W.id]?.isClosed||!1;return j.jsxs("div",{className:"flex justify-between items-center text-xs",children:[j.jsxs("span",{className:"font-bold opacity-60 uppercase tracking-tighter",children:[W.day," ",W.time]}),j.jsx("button",{onClick:()=>$(W.id,st),className:"text-[#369EAD]",children:st?j.jsx(XI,{size:32,className:"text-red-300"}):j.jsx(JI,{size:32})})]},W.id)})})]})]}),j.jsx("div",{className:"lg:col-span-2",children:j.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden",children:[j.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[j.jsx("h3",{className:"font-bold italic text-brand-dark",children:"Directorio y Finanzas"}),j.jsx(jc,{onClick:()=>d(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar Alumna"})]}),j.jsx("div",{className:"overflow-x-auto",children:j.jsxs("table",{className:"w-full text-left",children:[j.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 tracking-widest font-black",children:j.jsxs("tr",{children:[j.jsx("th",{className:"px-6 py-5",children:"ID / Alumna"}),j.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),j.jsx("th",{className:"px-6 py-5 text-center",children:"Pago Mes"}),j.jsx("th",{className:"px-6 py-5 text-right pr-8",children:"Control"})]})}),j.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(W=>j.jsxs("tr",{className:"hover:bg-gray-50 transition-all text-sm",children:[j.jsx("td",{className:"px-6 py-4",children:j.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-2",children:[j.jsx("span",{className:"text-[10px] font-black text-brand-teal bg-[#EBF5F6] px-2 py-0.5 rounded-sm border border-brand-teal/10",children:W.id}),j.jsx("div",{className:"font-bold font-serif italic",children:W.name})]})}),j.jsxs("td",{className:"px-6 py-4 text-center",children:[j.jsx("span",{className:`font-bold font-serif ${W.credits===0?"text-red-400":"text-[#369EAD]"}`,children:W.credits}),j.jsxs("span",{className:"text-gray-300 text-xs italic",children:[" / ",W.maxCredits]})]}),j.jsx("td",{className:"px-6 py-4 text-center",children:j.jsxs("button",{onClick:()=>{x(W.id),J(W.monthlyPayment||0)},className:`font-bold font-serif px-3 py-1 rounded transition-colors ${W.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",W.monthlyPayment||0]})}),j.jsxs("td",{className:"px-6 py-4 text-right pr-6 space-x-2",children:[j.jsx("button",{onClick:()=>Tt(W.id,W.maxCredits),className:"p-2 text-[#C5A059] hover:bg-amber-50 rounded-full",children:j.jsx(jI,{size:16})}),j.jsx("button",{onClick:()=>ot(W),className:"p-2 text-red-200 hover:text-red-600 transition-all",children:j.jsx(WI,{size:16})})]})]},W.id))})]})})]})})]})]}),c&&j.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:j.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-brand-teal animate-in zoom-in duration-300",children:[j.jsx("button",{onClick:()=>d(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500 transition-colors",children:j.jsx(sN,{size:28})}),j.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),j.jsxs("form",{onSubmit:ft,className:"space-y-6",children:[j.jsx("input",{type:"text",required:!0,placeholder:"ID (BF-001)",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none uppercase text-sm font-sans",value:p.id,onChange:W=>_({...p,id:W.target.value})}),j.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none uppercase text-sm font-sans",value:p.name,onChange:W=>_({...p,name:W.target.value})}),j.jsx("select",{className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-sm font-sans",value:p.plan,onChange:W=>_({...p,plan:W.target.value}),children:yE.slice(0,4).map((W,st)=>j.jsx("option",{value:W.plan,children:W.plan},st))}),j.jsx(jc,{disabled:y,className:"w-full !py-4 font-bold tracking-widest",children:y?j.jsx(GI,{className:"animate-spin"}):"Guardar Registro"})]})]})}),b&&j.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:j.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-brand-gold animate-in zoom-in duration-300",children:[j.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),j.jsxs("div",{className:"space-y-4 text-center",children:[j.jsxs("div",{className:"relative",children:[j.jsx(pE,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),j.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50 border-b border-gray-200 outline-none text-xl font-bold font-serif",value:H,onChange:W=>J(W.target.value)})]}),j.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest italic",children:"Este monto se sumar al ingreso mensual total."}),j.jsx(jc,{onClick:yt,className:"w-full !py-4",children:"Confirmar Pago"}),j.jsx("button",{onClick:()=>x(null),className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400 transition-colors",children:"Cancelar"})]})]})})]})};O1.createRoot(document.getElementById("root")).render(j.jsx(ce.StrictMode,{children:j.jsx(lN,{})}));
