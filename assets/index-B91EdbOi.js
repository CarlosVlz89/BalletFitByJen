(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Pd={exports:{}},wl={};var F_;function KA(){if(F_)return wl;F_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var p in l)p!=="key"&&(c[p]=l[p])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return wl.Fragment=t,wl.jsx=i,wl.jsxs=i,wl}var G_;function YA(){return G_||(G_=1,Pd.exports=KA()),Pd.exports}var T=YA(),zd={exports:{}},St={};var Q_;function XA(){if(Q_)return St;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),I=Symbol.iterator;function G(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},et=Object.assign,J={};function at(D,Y,it){this.props=D,this.context=Y,this.refs=J,this.updater=it||W}at.prototype.isReactComponent={},at.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},at.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function ut(){}ut.prototype=at.prototype;function ft(D,Y,it){this.props=D,this.context=Y,this.refs=J,this.updater=it||W}var dt=ft.prototype=new ut;dt.constructor=ft,et(dt,at.prototype),dt.isPureReactComponent=!0;var qt=Array.isArray;function It(){}var N={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function x(D,Y,it){var st=it.ref;return{$$typeof:r,type:D,key:Y,ref:st!==void 0?st:null,props:it}}function V(D,Y){return x(D.type,Y,D.props)}function M(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(it){return Y[it]})}var R=/\/+/g;function Et(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):Y.toString(36)}function Qt(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(It,It):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function B(D,Y,it,st,Tt){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var Vt=!1;if(D===null)Vt=!0;else switch(Rt){case"bigint":case"string":case"number":Vt=!0;break;case"object":switch(D.$$typeof){case r:case t:Vt=!0;break;case b:return Vt=D._init,B(Vt(D._payload),Y,it,st,Tt)}}if(Vt)return Tt=Tt(D),Vt=st===""?"."+Et(D,0):st,qt(Tt)?(it="",Vt!=null&&(it=Vt.replace(R,"$&/")+"/"),B(Tt,Y,it,"",function(gt){return gt})):Tt!=null&&(M(Tt)&&(Tt=V(Tt,it+(Tt.key==null||D&&D.key===Tt.key?"":(""+Tt.key).replace(R,"$&/")+"/")+Vt)),Y.push(Tt)),1;Vt=0;var ye=st===""?".":st+":";if(qt(D))for(var F=0;F<D.length;F++)st=D[F],Rt=ye+Et(st,F),Vt+=B(st,Y,it,Rt,Tt);else if(F=G(D),typeof F=="function")for(D=F.call(D),F=0;!(st=D.next()).done;)st=st.value,Rt=ye+Et(st,F++),Vt+=B(st,Y,it,Rt,Tt);else if(Rt==="object"){if(typeof D.then=="function")return B(Qt(D),Y,it,st,Tt);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Vt}function tt(D,Y,it){if(D==null)return D;var st=[],Tt=0;return B(D,st,"","",function(Rt){return Y.call(it,Rt,Tt++)}),st}function ot(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(it){(D._status===0||D._status===-1)&&(D._status=1,D._result=it)},function(it){(D._status===0||D._status===-1)&&(D._status=2,D._result=it)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var _t=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Dt={map:tt,forEach:function(D,Y,it){tt(D,function(){Y.apply(this,arguments)},it)},count:function(D){var Y=0;return tt(D,function(){Y++}),Y},toArray:function(D){return tt(D,function(Y){return Y})||[]},only:function(D){if(!M(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return St.Activity=S,St.Children=Dt,St.Component=at,St.Fragment=i,St.Profiler=l,St.PureComponent=ft,St.StrictMode=a,St.Suspense=y,St.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=N,St.__COMPILER_RUNTIME={__proto__:null,c:function(D){return N.H.useMemoCache(D)}},St.cache=function(D){return function(){return D.apply(null,arguments)}},St.cacheSignal=function(){return null},St.cloneElement=function(D,Y,it){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var st=et({},D.props),Tt=D.key;if(Y!=null)for(Rt in Y.key!==void 0&&(Tt=""+Y.key),Y)!w.call(Y,Rt)||Rt==="key"||Rt==="__self"||Rt==="__source"||Rt==="ref"&&Y.ref===void 0||(st[Rt]=Y[Rt]);var Rt=arguments.length-2;if(Rt===1)st.children=it;else if(1<Rt){for(var Vt=Array(Rt),ye=0;ye<Rt;ye++)Vt[ye]=arguments[ye+2];st.children=Vt}return x(D.type,Tt,st)},St.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},St.createElement=function(D,Y,it){var st,Tt={},Rt=null;if(Y!=null)for(st in Y.key!==void 0&&(Rt=""+Y.key),Y)w.call(Y,st)&&st!=="key"&&st!=="__self"&&st!=="__source"&&(Tt[st]=Y[st]);var Vt=arguments.length-2;if(Vt===1)Tt.children=it;else if(1<Vt){for(var ye=Array(Vt),F=0;F<Vt;F++)ye[F]=arguments[F+2];Tt.children=ye}if(D&&D.defaultProps)for(st in Vt=D.defaultProps,Vt)Tt[st]===void 0&&(Tt[st]=Vt[st]);return x(D,Rt,Tt)},St.createRef=function(){return{current:null}},St.forwardRef=function(D){return{$$typeof:p,render:D}},St.isValidElement=M,St.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:ot}},St.memo=function(D,Y){return{$$typeof:_,type:D,compare:Y===void 0?null:Y}},St.startTransition=function(D){var Y=N.T,it={};N.T=it;try{var st=D(),Tt=N.S;Tt!==null&&Tt(it,st),typeof st=="object"&&st!==null&&typeof st.then=="function"&&st.then(It,_t)}catch(Rt){_t(Rt)}finally{Y!==null&&it.types!==null&&(Y.types=it.types),N.T=Y}},St.unstable_useCacheRefresh=function(){return N.H.useCacheRefresh()},St.use=function(D){return N.H.use(D)},St.useActionState=function(D,Y,it){return N.H.useActionState(D,Y,it)},St.useCallback=function(D,Y){return N.H.useCallback(D,Y)},St.useContext=function(D){return N.H.useContext(D)},St.useDebugValue=function(){},St.useDeferredValue=function(D,Y){return N.H.useDeferredValue(D,Y)},St.useEffect=function(D,Y){return N.H.useEffect(D,Y)},St.useEffectEvent=function(D){return N.H.useEffectEvent(D)},St.useId=function(){return N.H.useId()},St.useImperativeHandle=function(D,Y,it){return N.H.useImperativeHandle(D,Y,it)},St.useInsertionEffect=function(D,Y){return N.H.useInsertionEffect(D,Y)},St.useLayoutEffect=function(D,Y){return N.H.useLayoutEffect(D,Y)},St.useMemo=function(D,Y){return N.H.useMemo(D,Y)},St.useOptimistic=function(D,Y){return N.H.useOptimistic(D,Y)},St.useReducer=function(D,Y,it){return N.H.useReducer(D,Y,it)},St.useRef=function(D){return N.H.useRef(D)},St.useState=function(D){return N.H.useState(D)},St.useSyncExternalStore=function(D,Y,it){return N.H.useSyncExternalStore(D,Y,it)},St.useTransition=function(){return N.H.useTransition()},St.version="19.2.3",St}var K_;function Vm(){return K_||(K_=1,zd.exports=XA()),zd.exports}var Ht=Vm(),Bd={exports:{}},Rl={},qd={exports:{}},Hd={};var Y_;function $A(){return Y_||(Y_=1,(function(r){function t(B,tt){var ot=B.length;B.push(tt);t:for(;0<ot;){var _t=ot-1>>>1,Dt=B[_t];if(0<l(Dt,tt))B[_t]=tt,B[ot]=Dt,ot=_t;else break t}}function i(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var tt=B[0],ot=B.pop();if(ot!==tt){B[0]=ot;t:for(var _t=0,Dt=B.length,D=Dt>>>1;_t<D;){var Y=2*(_t+1)-1,it=B[Y],st=Y+1,Tt=B[st];if(0>l(it,ot))st<Dt&&0>l(Tt,it)?(B[_t]=Tt,B[st]=ot,_t=st):(B[_t]=it,B[Y]=ot,_t=Y);else if(st<Dt&&0>l(Tt,ot))B[_t]=Tt,B[st]=ot,_t=st;else break t}}return tt}function l(B,tt){var ot=B.sortIndex-tt.sortIndex;return ot!==0?ot:B.id-tt.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],b=1,S=null,I=3,G=!1,W=!1,et=!1,J=!1,at=typeof setTimeout=="function"?setTimeout:null,ut=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function dt(B){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=B)a(_),tt.sortIndex=tt.expirationTime,t(y,tt);else break;tt=i(_)}}function qt(B){if(et=!1,dt(B),!W)if(i(y)!==null)W=!0,It||(It=!0,k());else{var tt=i(_);tt!==null&&Qt(qt,tt.startTime-B)}}var It=!1,N=-1,w=5,x=-1;function V(){return J?!0:!(r.unstable_now()-x<w)}function M(){if(J=!1,It){var B=r.unstable_now();x=B;var tt=!0;try{t:{W=!1,et&&(et=!1,ut(N),N=-1),G=!0;var ot=I;try{e:{for(dt(B),S=i(y);S!==null&&!(S.expirationTime>B&&V());){var _t=S.callback;if(typeof _t=="function"){S.callback=null,I=S.priorityLevel;var Dt=_t(S.expirationTime<=B);if(B=r.unstable_now(),typeof Dt=="function"){S.callback=Dt,dt(B),tt=!0;break e}S===i(y)&&a(y),dt(B)}else a(y);S=i(y)}if(S!==null)tt=!0;else{var D=i(_);D!==null&&Qt(qt,D.startTime-B),tt=!1}}break t}finally{S=null,I=ot,G=!1}tt=void 0}}finally{tt?k():It=!1}}}var k;if(typeof ft=="function")k=function(){ft(M)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Et=R.port2;R.port1.onmessage=M,k=function(){Et.postMessage(null)}}else k=function(){at(M,0)};function Qt(B,tt){N=at(function(){B(r.unstable_now())},tt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(B){B.callback=null},r.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<B?Math.floor(1e3/B):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(B){switch(I){case 1:case 2:case 3:var tt=3;break;default:tt=I}var ot=I;I=tt;try{return B()}finally{I=ot}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(B,tt){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ot=I;I=B;try{return tt()}finally{I=ot}},r.unstable_scheduleCallback=function(B,tt,ot){var _t=r.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?_t+ot:_t):ot=_t,B){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=ot+Dt,B={id:b++,callback:tt,priorityLevel:B,startTime:ot,expirationTime:Dt,sortIndex:-1},ot>_t?(B.sortIndex=ot,t(_,B),i(y)===null&&B===i(_)&&(et?(ut(N),N=-1):et=!0,Qt(qt,ot-_t))):(B.sortIndex=Dt,t(y,B),W||G||(W=!0,It||(It=!0,k()))),B},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(B){var tt=I;return function(){var ot=I;I=tt;try{return B.apply(this,arguments)}finally{I=ot}}}})(Hd)),Hd}var X_;function ZA(){return X_||(X_=1,qd.exports=$A()),qd.exports}var Fd={exports:{}},en={};var $_;function JA(){if($_)return en;$_=1;var r=Vm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:y,containerInfo:_,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,en.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},en.flushSync=function(y){var _=d.T,b=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=b,a.d.f()}},en.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},en.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},en.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin),I=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:I,fetchPriority:G}):b==="script"&&a.d.X(y,{crossOrigin:S,integrity:I,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},en.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},en.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,S=p(b,_.crossOrigin);a.d.L(y,b,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},en.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},en.requestFormReset=function(y){a.d.r(y)},en.unstable_batchedUpdates=function(y,_){return y(_)},en.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},en.useFormStatus=function(){return d.H.useHostTransitionStatus()},en.version="19.2.3",en}var Z_;function WA(){if(Z_)return Fd.exports;Z_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Fd.exports=JA(),Fd.exports}var J_;function tb(){if(J_)return Rl;J_=1;var r=ZA(),t=Vm(),i=WA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var g=!1,E=h.child;E;){if(E===s){g=!0,s=h,o=f;break}if(E===o){g=!0,o=h,s=f;break}E=E.sibling}if(!g){for(E=f.child;E;){if(E===s){g=!0,s=f,o=h;break}if(E===o){g=!0,o=f,s=h;break}E=E.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,I=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),et=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),ut=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),dt=Symbol.for("react.forward_ref"),qt=Symbol.for("react.suspense"),It=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),x=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case et:return"Fragment";case at:return"Profiler";case J:return"StrictMode";case qt:return"Suspense";case It:return"SuspenseList";case x:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ft:return e.displayName||"Context";case ut:return(e._context.displayName||"Context")+".Consumer";case dt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case N:return n=e.displayName||null,n!==null?n:Et(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return Et(e(n))}catch{}}return null}var Qt=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot={pending:!1,data:null,method:null,action:null},_t=[],Dt=-1;function D(e){return{current:e}}function Y(e){0>Dt||(e.current=_t[Dt],_t[Dt]=null,Dt--)}function it(e,n){Dt++,_t[Dt]=e.current,e.current=n}var st=D(null),Tt=D(null),Rt=D(null),Vt=D(null);function ye(e,n){switch(it(Rt,n),it(Tt,e),it(st,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?d_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=d_(n),e=m_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(st),it(st,e)}function F(){Y(st),Y(Tt),Y(Rt)}function gt(e){e.memoizedState!==null&&it(Vt,e);var n=st.current,s=m_(n,e.type);n!==s&&(it(Tt,e),it(st,s))}function $t(e){Tt.current===e&&(Y(st),Y(Tt)),Vt.current===e&&(Y(Vt),Tl._currentValue=ot)}var Pe,ae;function tn(e){if(Pe===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Pe=n&&n[1]||"",ae=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Pe+e+ae}var Bi=!1;function Tr(e,n){if(!e||Bi)return"";Bi=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var z=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){z=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){z=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&z&&typeof H.stack=="string")return[H.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),g=f[0],E=f[1];if(g&&E){var C=g.split(`
`),P=E.split(`
`);for(h=o=0;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(o===C.length||h===P.length)for(o=C.length-1,h=P.length-1;1<=o&&0<=h&&C[o]!==P[h];)h--;for(;1<=o&&0<=h;o--,h--)if(C[o]!==P[h]){if(o!==1||h!==1)do if(o--,h--,0>h||C[o]!==P[h]){var Q=`
`+C[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{Bi=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?tn(s):""}function Ao(e,n){switch(e.tag){case 26:case 27:case 5:return tn(e.type);case 16:return tn("Lazy");case 13:return e.child!==n&&n!==null?tn("Suspense Fallback"):tn("Suspense");case 19:return tn("SuspenseList");case 0:case 15:return Tr(e.type,!1);case 11:return Tr(e.type.render,!1);case 1:return Tr(e.type,!0);case 31:return tn("Activity");default:return""}}function bo(e){try{var n="",s=null;do n+=Ao(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Se=Object.prototype.hasOwnProperty,ke=r.unstable_scheduleCallback,gs=r.unstable_cancelCallback,zh=r.unstable_shouldYield,eu=r.unstable_requestPaint,ln=r.unstable_now,Ar=r.unstable_getCurrentPriorityLevel,So=r.unstable_ImmediatePriority,wo=r.unstable_UserBlockingPriority,ys=r.unstable_NormalPriority,Bh=r.unstable_LowPriority,nu=r.unstable_IdlePriority,iu=r.log,su=r.unstable_setDisableYieldValue,Yn=null,Ge=null;function On(e){if(typeof iu=="function"&&su(e),Ge&&typeof Ge.setStrictMode=="function")try{Ge.setStrictMode(Yn,e)}catch{}}var _e=Math.clz32?Math.clz32:au,ru=Math.log,aa=Math.LN2;function au(e){return e>>>=0,e===0?32:31-(ru(e)/aa|0)|0}var li=256,br=262144,we=4194304;function ui(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ci(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ui(o):(g&=E,g!==0?h=ui(g):s||(s=E&~e,s!==0&&(h=ui(s))))):(E=o&~f,E!==0?h=ui(E):g!==0?h=ui(g):s||(s=o&~e,s!==0&&(h=ui(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Xn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function qh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ou(){var e=we;return we<<=1,(we&62914560)===0&&(we=4194304),e}function hi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Sr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Hh(e,n,s,o,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,C=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var Q=31-_e(s),X=1<<Q;E[Q]=0,C[Q]=-1;var z=P[Q];if(z!==null)for(P[Q]=null,Q=0;Q<z.length;Q++){var H=z[Q];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&wr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function wr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-_e(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Ro(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-_e(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function xo(e,n){var s=n&-n;return s=(s&42)!==0?1:Rr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Rr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function qi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function lu(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:L_(e.type))}function $n(e,n){var s=tt.p;try{return tt.p=e,n()}finally{tt.p=s}}var Zn=Math.random().toString(36).slice(2),Re="__reactFiber$"+Zn,ze="__reactProps$"+Zn,fi="__reactContainer$"+Zn,oa="__reactEvents$"+Zn,Fh="__reactListeners$"+Zn,uu="__reactHandles$"+Zn,cu="__reactResources$"+Zn,di="__reactMarker$"+Zn;function la(e){delete e[Re],delete e[ze],delete e[oa],delete e[Fh],delete e[uu]}function mi(e){var n=e[Re];if(n)return n;for(var s=e.parentNode;s;){if(n=s[fi]||s[Re]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=T_(e);e!==null;){if(s=e[Re])return s;e=T_(e)}return n}e=s,s=e.parentNode}return null}function Vn(e){if(e=e[Re]||e[fi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function An(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function pi(e){var n=e[cu];return n||(n=e[cu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function xe(e){e[di]=!0}var Co=new Set,No={};function gi(e,n){yi(e,n),yi(e+"Capture",n)}function yi(e,n){for(No[e]=n,e=0;e<n.length;e++)Co.add(n[e])}var Io=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Do={},Mo={};function hu(e){return Se.call(Mo,e)?!0:Se.call(Do,e)?!1:Io.test(e)?Mo[e]=!0:(Do[e]=!0,!1)}function ua(e,n,s){if(hu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function bn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ce(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Be(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function _s(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Oo(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=_s(e)?"checked":"value";e._valueTracker=Oo(e,n,""+e[n])}}function xr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=_s(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cr=/[\n"\\]/g;function hn(e){return e.replace(Cr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ca(e,n,s,o,h,f,g,E){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Be(n)):e.value!==""+Be(n)&&(e.value=""+Be(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Vo(e,g,Be(n)):s!=null?Vo(e,g,Be(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Be(E):e.removeAttribute("name")}function fu(e,n,s,o,h,f,g,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+Be(s):"",n=n!=null?""+Be(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function Vo(e,n,s){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function vs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Be(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function du(e,n,s){if(n!=null&&(n=""+Be(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Be(s):""}function Es(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Qt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Be(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Zt(e)}function fn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var mu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ko(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||mu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Uo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&ko(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&ko(e,f,n[f])}function ha(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ts=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fa(e){return Ts.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Jn(){}var Lo=null;function kn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var As=null,vi=null;function Nr(e){var n=Vn(e);if(n&&(e=n.stateNode)){var s=e[ze]||null;t:switch(e=n.stateNode,n.type){case"input":if(ca(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+hn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ze]||null;if(!h)throw Error(a(90));ca(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&xr(o)}break t;case"textarea":du(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&vs(e,!!s.multiple,n,!1)}}}var da=!1;function bs(e,n,s){if(da)return e(n,s);da=!0;try{var o=e(n);return o}finally{if(da=!1,(As!==null||vi!==null)&&(lc(),As&&(n=As,e=vi,vi=As=null,Nr(n),e)))for(n=0;n<e.length;n++)Nr(e[n])}}function Wn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ze]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ir=!1;if(Un)try{var te={};Object.defineProperty(te,"passive",{get:function(){Ir=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{Ir=!1}var Ei=null,jo=null,Dr=null;function Po(){if(Dr)return Dr;var e,n=jo,s=n.length,o,h="value"in Ei?Ei.value:Ei.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(o=1;o<=g&&n[s-o]===h[f-o];o++);return Dr=h.slice(e,1<o?1-o:void 0)}function Mr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Hi(){return!0}function ti(){return!1}function Qe(e){function n(s,o,h,f,g){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Hi:ti,this.isPropagationStopped=ti,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Hi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Hi)},persist:function(){},isPersistent:Hi}),n}var Fi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ti=Qe(Fi),Ss=S({},Fi,{view:0,detail:0}),zo=Qe(Ss),ws,ma,Ai,pa=S({},Ss,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ai&&(Ai&&e.type==="mousemove"?(ws=e.screenX-Ai.screenX,ma=e.screenY-Ai.screenY):ma=ws=0,Ai=e),ws)},movementY:function(e){return"movementY"in e?e.movementY:ma}}),Bo=Qe(pa),Or=S({},pa,{dataTransfer:0}),gu=Qe(Or),yu=S({},Ss,{relatedTarget:0}),Vr=Qe(yu),qo=S({},Fi,{animationName:0,elapsedTime:0,pseudoElement:0}),_u=Qe(qo),ga=S({},Fi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),vu=Qe(ga),Eu=S({},Fi,{data:0}),bi=Qe(Eu),Tu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Au={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Su(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bu[e])?!!n[e]:!1}function Rs(){return Su}var un=S({},Ss,{key:function(e){if(e.key){var n=Tu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Mr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Au[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rs,charCode:function(e){return e.type==="keypress"?Mr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wu=Qe(un),Ru=S({},pa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Gi=Qe(Ru),u=S({},Ss,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rs}),m=Qe(u),v=S({},Fi,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Qe(v),L=S({},pa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Qe(L),nt=S({},Fi,{newState:0,oldState:0}),xt=Qe(nt),ve=[9,13,27,32],Kt=Un&&"CompositionEvent"in window,he=null;Un&&"documentMode"in document&&(he=document.documentMode);var Ln=Un&&"TextEvent"in window&&!he,Si=Un&&(!Kt||he&&8<he&&11>=he),ei=" ",ni=!1;function kr(e,n){switch(e){case"keyup":return ve.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ya(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var _a=!1;function yT(e,n){switch(e){case"compositionend":return ya(n);case"keypress":return n.which!==32?null:(ni=!0,ei);case"textInput":return e=n.data,e===ei&&ni?null:e;default:return null}}function _T(e,n){if(_a)return e==="compositionend"||!Kt&&kr(e,n)?(e=Po(),Dr=jo=Ei=null,_a=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Si&&n.locale!=="ko"?null:n.data;default:return null}}var vT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Sp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!vT[e.type]:n==="textarea"}function wp(e,n,s,o){As?vi?vi.push(o):vi=[o]:As=o,n=pc(n,"onChange"),0<n.length&&(s=new Ti("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Ho=null,Fo=null;function ET(e){o_(e,0)}function xu(e){var n=An(e);if(xr(n))return e}function Rp(e,n){if(e==="change")return n}var xp=!1;if(Un){var Gh;if(Un){var Qh="oninput"in document;if(!Qh){var Cp=document.createElement("div");Cp.setAttribute("oninput","return;"),Qh=typeof Cp.oninput=="function"}Gh=Qh}else Gh=!1;xp=Gh&&(!document.documentMode||9<document.documentMode)}function Np(){Ho&&(Ho.detachEvent("onpropertychange",Ip),Fo=Ho=null)}function Ip(e){if(e.propertyName==="value"&&xu(Fo)){var n=[];wp(n,Fo,e,kn(e)),bs(ET,n)}}function TT(e,n,s){e==="focusin"?(Np(),Ho=n,Fo=s,Ho.attachEvent("onpropertychange",Ip)):e==="focusout"&&Np()}function AT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return xu(Fo)}function bT(e,n){if(e==="click")return xu(n)}function ST(e,n){if(e==="input"||e==="change")return xu(n)}function wT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Sn=typeof Object.is=="function"?Object.is:wT;function Go(e,n){if(Sn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Se.call(n,h)||!Sn(e[h],n[h]))return!1}return!0}function Dp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Mp(e,n){var s=Dp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Dp(s)}}function Op(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Op(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=_i(e.document)}return n}function Kh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var RT=Un&&"documentMode"in document&&11>=document.documentMode,va=null,Yh=null,Qo=null,Xh=!1;function kp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Xh||va==null||va!==_i(o)||(o=va,"selectionStart"in o&&Kh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Qo&&Go(Qo,o)||(Qo=o,o=pc(Yh,"onSelect"),0<o.length&&(n=new Ti("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=va)))}function Ur(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Ea={animationend:Ur("Animation","AnimationEnd"),animationiteration:Ur("Animation","AnimationIteration"),animationstart:Ur("Animation","AnimationStart"),transitionrun:Ur("Transition","TransitionRun"),transitionstart:Ur("Transition","TransitionStart"),transitioncancel:Ur("Transition","TransitionCancel"),transitionend:Ur("Transition","TransitionEnd")},$h={},Up={};Un&&(Up=document.createElement("div").style,"AnimationEvent"in window||(delete Ea.animationend.animation,delete Ea.animationiteration.animation,delete Ea.animationstart.animation),"TransitionEvent"in window||delete Ea.transitionend.transition);function Lr(e){if($h[e])return $h[e];if(!Ea[e])return e;var n=Ea[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Up)return $h[e]=n[s];return e}var Lp=Lr("animationend"),jp=Lr("animationiteration"),Pp=Lr("animationstart"),xT=Lr("transitionrun"),CT=Lr("transitionstart"),NT=Lr("transitioncancel"),zp=Lr("transitionend"),Bp=new Map,Zh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Zh.push("scrollEnd");function ii(e,n){Bp.set(e,n),gi(n,[e])}var Cu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},jn=[],Ta=0,Jh=0;function Nu(){for(var e=Ta,n=Jh=Ta=0;n<e;){var s=jn[n];jn[n++]=null;var o=jn[n];jn[n++]=null;var h=jn[n];jn[n++]=null;var f=jn[n];if(jn[n++]=null,o!==null&&h!==null){var g=o.pending;g===null?h.next=h:(h.next=g.next,g.next=h),o.pending=h}f!==0&&qp(s,h,f)}}function Iu(e,n,s,o){jn[Ta++]=e,jn[Ta++]=n,jn[Ta++]=s,jn[Ta++]=o,Jh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Wh(e,n,s,o){return Iu(e,n,s,o),Du(e)}function jr(e,n){return Iu(e,null,null,n),Du(e)}function qp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-_e(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Du(e){if(50<ml)throw ml=0,ud=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Aa={};function IT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,s,o){return new IT(e,n,s,o)}function tf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Qi(e,n){var s=e.alternate;return s===null?(s=wn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Hp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Mu(e,n,s,o,h,f){var g=0;if(o=e,typeof e=="function")tf(e)&&(g=1);else if(typeof e=="string")g=kA(e,s,st.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case x:return e=wn(31,s,n,h),e.elementType=x,e.lanes=f,e;case et:return Pr(s.children,h,f,n);case J:g=8,h|=24;break;case at:return e=wn(12,s,n,h|2),e.elementType=at,e.lanes=f,e;case qt:return e=wn(13,s,n,h),e.elementType=qt,e.lanes=f,e;case It:return e=wn(19,s,n,h),e.elementType=It,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:g=10;break t;case ut:g=9;break t;case dt:g=11;break t;case N:g=14;break t;case w:g=16,o=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=wn(g,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Pr(e,n,s,o){return e=wn(7,e,o,n),e.lanes=s,e}function ef(e,n,s){return e=wn(6,e,null,n),e.lanes=s,e}function Fp(e){var n=wn(18,null,null,0);return n.stateNode=e,n}function nf(e,n,s){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Gp=new WeakMap;function Pn(e,n){if(typeof e=="object"&&e!==null){var s=Gp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:bo(n)},Gp.set(e,n),n)}return{value:e,source:n,stack:bo(n)}}var ba=[],Sa=0,Ou=null,Ko=0,zn=[],Bn=0,xs=null,wi=1,Ri="";function Ki(e,n){ba[Sa++]=Ko,ba[Sa++]=Ou,Ou=e,Ko=n}function Qp(e,n,s){zn[Bn++]=wi,zn[Bn++]=Ri,zn[Bn++]=xs,xs=e;var o=wi;e=Ri;var h=32-_e(o)-1;o&=~(1<<h),s+=1;var f=32-_e(n)+h;if(30<f){var g=h-h%5;f=(o&(1<<g)-1).toString(32),o>>=g,h-=g,wi=1<<32-_e(n)+h|s<<h|o,Ri=f+e}else wi=1<<f|s<<h|o,Ri=e}function sf(e){e.return!==null&&(Ki(e,1),Qp(e,1,0))}function rf(e){for(;e===Ou;)Ou=ba[--Sa],ba[Sa]=null,Ko=ba[--Sa],ba[Sa]=null;for(;e===xs;)xs=zn[--Bn],zn[Bn]=null,Ri=zn[--Bn],zn[Bn]=null,wi=zn[--Bn],zn[Bn]=null}function Kp(e,n){zn[Bn++]=wi,zn[Bn++]=Ri,zn[Bn++]=xs,wi=n.id,Ri=n.overflow,xs=e}var Ke=null,oe=null,zt=!1,Cs=null,qn=!1,af=Error(a(519));function Ns(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Yo(Pn(n,e)),af}function Yp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Re]=e,n[ze]=o,s){case"dialog":Ot("cancel",n),Ot("close",n);break;case"iframe":case"object":case"embed":Ot("load",n);break;case"video":case"audio":for(s=0;s<gl.length;s++)Ot(gl[s],n);break;case"source":Ot("error",n);break;case"img":case"image":case"link":Ot("error",n),Ot("load",n);break;case"details":Ot("toggle",n);break;case"input":Ot("invalid",n),fu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ot("invalid",n);break;case"textarea":Ot("invalid",n),Es(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||h_(n.textContent,s)?(o.popover!=null&&(Ot("beforetoggle",n),Ot("toggle",n)),o.onScroll!=null&&Ot("scroll",n),o.onScrollEnd!=null&&Ot("scrollend",n),o.onClick!=null&&(n.onclick=Jn),n=!0):n=!1,n||Ns(e,!0)}function Xp(e){for(Ke=e.return;Ke;)switch(Ke.tag){case 5:case 31:case 13:qn=!1;return;case 27:case 3:qn=!0;return;default:Ke=Ke.return}}function wa(e){if(e!==Ke)return!1;if(!zt)return Xp(e),zt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Sd(e.type,e.memoizedProps)),s=!s),s&&oe&&Ns(e),Xp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=E_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=E_(e)}else n===27?(n=oe,Hs(e.type)?(e=Nd,Nd=null,oe=e):oe=n):oe=Ke?Fn(e.stateNode.nextSibling):null;return!0}function zr(){oe=Ke=null,zt=!1}function of(){var e=Cs;return e!==null&&(gn===null?gn=e:gn.push.apply(gn,e),Cs=null),e}function Yo(e){Cs===null?Cs=[e]:Cs.push(e)}var lf=D(null),Br=null,Yi=null;function Is(e,n,s){it(lf,n._currentValue),n._currentValue=s}function Xi(e){e._currentValue=lf.current,Y(lf)}function uf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function cf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var C=0;C<n.length;C++)if(E.context===n[C]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),uf(f.return,s,e),o||(g=null);break t}f=E.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),uf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function Ra(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var E=h.type;Sn(h.pendingProps.value,g.value)||(e!==null?e.push(E):e=[E])}}else if(h===Vt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Tl):e=[Tl])}h=h.return}e!==null&&cf(n,e,s,o),n.flags|=262144}function Vu(e){for(e=e.firstContext;e!==null;){if(!Sn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qr(e){Br=e,Yi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ye(e){return $p(Br,e)}function ku(e,n){return Br===null&&qr(e),$p(e,n)}function $p(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},Yi===null){if(e===null)throw Error(a(308));Yi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Yi=Yi.next=n;return s}var DT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},MT=r.unstable_scheduleCallback,OT=r.unstable_NormalPriority,Ne={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function hf(){return{controller:new DT,data:new Map,refCount:0}}function Xo(e){e.refCount--,e.refCount===0&&MT(OT,function(){e.controller.abort()})}var $o=null,ff=0,xa=0,Ca=null;function VT(e,n){if($o===null){var s=$o=[];ff=0,xa=pd(),Ca={status:"pending",value:void 0,then:function(o){s.push(o)}}}return ff++,n.then(Zp,Zp),n}function Zp(){if(--ff===0&&$o!==null){Ca!==null&&(Ca.status="fulfilled");var e=$o;$o=null,xa=0,Ca=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function kT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Jp=B.S;B.S=function(e,n){ky=ln(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&VT(e,n),Jp!==null&&Jp(e,n)};var Hr=D(null);function df(){var e=Hr.current;return e!==null?e:se.pooledCache}function Uu(e,n){n===null?it(Hr,Hr.current):it(Hr,n.pool)}function Wp(){var e=df();return e===null?null:{parent:Ne._currentValue,pool:e}}var Na=Error(a(460)),mf=Error(a(474)),Lu=Error(a(542)),ju={then:function(){}};function tg(e){return e=e.status,e==="fulfilled"||e==="rejected"}function eg(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Jn,Jn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e;default:if(typeof n.status=="string")n.then(Jn,Jn);else{if(e=se,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,ig(e),e}throw Gr=n,Na}}function Fr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Gr=s,Na):s}}var Gr=null;function ng(){if(Gr===null)throw Error(a(459));var e=Gr;return Gr=null,e}function ig(e){if(e===Na||e===Lu)throw Error(a(483))}var Ia=null,Zo=0;function Pu(e){var n=Zo;return Zo+=1,Ia===null&&(Ia=[]),eg(Ia,e,n)}function Jo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function zu(e,n){throw n.$$typeof===I?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sg(e){function n(U,O){if(e){var j=U.deletions;j===null?(U.deletions=[O],U.flags|=16):j.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Qi(U,O),U.index=0,U.sibling=null,U}function f(U,O,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<O?(U.flags|=67108866,O):j):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function g(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,j,K){return O===null||O.tag!==6?(O=ef(j,U.mode,K),O.return=U,O):(O=h(O,j),O.return=U,O)}function C(U,O,j,K){var mt=j.type;return mt===et?Q(U,O,j.props.children,K,j.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Fr(mt)===O.type)?(O=h(O,j.props),Jo(O,j),O.return=U,O):(O=Mu(j.type,j.key,j.props,null,U.mode,K),Jo(O,j),O.return=U,O)}function P(U,O,j,K){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=nf(j,U.mode,K),O.return=U,O):(O=h(O,j.children||[]),O.return=U,O)}function Q(U,O,j,K,mt){return O===null||O.tag!==7?(O=Pr(j,U.mode,K,mt),O.return=U,O):(O=h(O,j),O.return=U,O)}function X(U,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ef(""+O,U.mode,j),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return j=Mu(O.type,O.key,O.props,null,U.mode,j),Jo(j,O),j.return=U,j;case W:return O=nf(O,U.mode,j),O.return=U,O;case w:return O=Fr(O),X(U,O,j)}if(Qt(O)||k(O))return O=Pr(O,U.mode,j,null),O.return=U,O;if(typeof O.then=="function")return X(U,Pu(O),j);if(O.$$typeof===ft)return X(U,ku(U,O),j);zu(U,O)}return null}function z(U,O,j,K){var mt=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return mt!==null?null:E(U,O,""+j,K);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case G:return j.key===mt?C(U,O,j,K):null;case W:return j.key===mt?P(U,O,j,K):null;case w:return j=Fr(j),z(U,O,j,K)}if(Qt(j)||k(j))return mt!==null?null:Q(U,O,j,K,null);if(typeof j.then=="function")return z(U,O,Pu(j),K);if(j.$$typeof===ft)return z(U,O,ku(U,j),K);zu(U,j)}return null}function H(U,O,j,K,mt){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(j)||null,E(O,U,""+K,mt);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case G:return U=U.get(K.key===null?j:K.key)||null,C(O,U,K,mt);case W:return U=U.get(K.key===null?j:K.key)||null,P(O,U,K,mt);case w:return K=Fr(K),H(U,O,j,K,mt)}if(Qt(K)||k(K))return U=U.get(j)||null,Q(O,U,K,mt,null);if(typeof K.then=="function")return H(U,O,j,Pu(K),mt);if(K.$$typeof===ft)return H(U,O,j,ku(O,K),mt);zu(O,K)}return null}function lt(U,O,j,K){for(var mt=null,Ft=null,ht=O,Nt=O=0,Ut=null;ht!==null&&Nt<j.length;Nt++){ht.index>Nt?(Ut=ht,ht=null):Ut=ht.sibling;var Gt=z(U,ht,j[Nt],K);if(Gt===null){ht===null&&(ht=Ut);break}e&&ht&&Gt.alternate===null&&n(U,ht),O=f(Gt,O,Nt),Ft===null?mt=Gt:Ft.sibling=Gt,Ft=Gt,ht=Ut}if(Nt===j.length)return s(U,ht),zt&&Ki(U,Nt),mt;if(ht===null){for(;Nt<j.length;Nt++)ht=X(U,j[Nt],K),ht!==null&&(O=f(ht,O,Nt),Ft===null?mt=ht:Ft.sibling=ht,Ft=ht);return zt&&Ki(U,Nt),mt}for(ht=o(ht);Nt<j.length;Nt++)Ut=H(ht,U,Nt,j[Nt],K),Ut!==null&&(e&&Ut.alternate!==null&&ht.delete(Ut.key===null?Nt:Ut.key),O=f(Ut,O,Nt),Ft===null?mt=Ut:Ft.sibling=Ut,Ft=Ut);return e&&ht.forEach(function(Ys){return n(U,Ys)}),zt&&Ki(U,Nt),mt}function yt(U,O,j,K){if(j==null)throw Error(a(151));for(var mt=null,Ft=null,ht=O,Nt=O=0,Ut=null,Gt=j.next();ht!==null&&!Gt.done;Nt++,Gt=j.next()){ht.index>Nt?(Ut=ht,ht=null):Ut=ht.sibling;var Ys=z(U,ht,Gt.value,K);if(Ys===null){ht===null&&(ht=Ut);break}e&&ht&&Ys.alternate===null&&n(U,ht),O=f(Ys,O,Nt),Ft===null?mt=Ys:Ft.sibling=Ys,Ft=Ys,ht=Ut}if(Gt.done)return s(U,ht),zt&&Ki(U,Nt),mt;if(ht===null){for(;!Gt.done;Nt++,Gt=j.next())Gt=X(U,Gt.value,K),Gt!==null&&(O=f(Gt,O,Nt),Ft===null?mt=Gt:Ft.sibling=Gt,Ft=Gt);return zt&&Ki(U,Nt),mt}for(ht=o(ht);!Gt.done;Nt++,Gt=j.next())Gt=H(ht,U,Nt,Gt.value,K),Gt!==null&&(e&&Gt.alternate!==null&&ht.delete(Gt.key===null?Nt:Gt.key),O=f(Gt,O,Nt),Ft===null?mt=Gt:Ft.sibling=Gt,Ft=Gt);return e&&ht.forEach(function(QA){return n(U,QA)}),zt&&Ki(U,Nt),mt}function ie(U,O,j,K){if(typeof j=="object"&&j!==null&&j.type===et&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case G:t:{for(var mt=j.key;O!==null;){if(O.key===mt){if(mt=j.type,mt===et){if(O.tag===7){s(U,O.sibling),K=h(O,j.props.children),K.return=U,U=K;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Fr(mt)===O.type){s(U,O.sibling),K=h(O,j.props),Jo(K,j),K.return=U,U=K;break t}s(U,O);break}else n(U,O);O=O.sibling}j.type===et?(K=Pr(j.props.children,U.mode,K,j.key),K.return=U,U=K):(K=Mu(j.type,j.key,j.props,null,U.mode,K),Jo(K,j),K.return=U,U=K)}return g(U);case W:t:{for(mt=j.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){s(U,O.sibling),K=h(O,j.children||[]),K.return=U,U=K;break t}else{s(U,O);break}else n(U,O);O=O.sibling}K=nf(j,U.mode,K),K.return=U,U=K}return g(U);case w:return j=Fr(j),ie(U,O,j,K)}if(Qt(j))return lt(U,O,j,K);if(k(j)){if(mt=k(j),typeof mt!="function")throw Error(a(150));return j=mt.call(j),yt(U,O,j,K)}if(typeof j.then=="function")return ie(U,O,Pu(j),K);if(j.$$typeof===ft)return ie(U,O,ku(U,j),K);zu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(s(U,O.sibling),K=h(O,j),K.return=U,U=K):(s(U,O),K=ef(j,U.mode,K),K.return=U,U=K),g(U)):s(U,O)}return function(U,O,j,K){try{Zo=0;var mt=ie(U,O,j,K);return Ia=null,mt}catch(ht){if(ht===Na||ht===Lu)throw ht;var Ft=wn(29,ht,null,U.mode);return Ft.lanes=K,Ft.return=U,Ft}}}var Qr=sg(!0),rg=sg(!1),Ds=!1;function pf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function gf(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ms(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Os(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Yt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Du(e),qp(e,null,s),n}return Iu(e,o,n,s),Du(e)}function Wo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ro(e,s)}}function yf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var _f=!1;function tl(){if(_f){var e=Ca;if(e!==null)throw e}}function el(e,n,s,o){_f=!1;var h=e.updateQueue;Ds=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var C=E,P=C.next;C.next=null,g===null?f=P:g.next=P,g=C;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==g&&(E===null?Q.firstBaseUpdate=P:E.next=P,Q.lastBaseUpdate=C))}if(f!==null){var X=h.baseState;g=0,Q=P=C=null,E=f;do{var z=E.lane&-536870913,H=z!==E.lane;if(H?(kt&z)===z:(o&z)===z){z!==0&&z===xa&&(_f=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var lt=e,yt=E;z=n;var ie=s;switch(yt.tag){case 1:if(lt=yt.payload,typeof lt=="function"){X=lt.call(ie,X,z);break t}X=lt;break t;case 3:lt.flags=lt.flags&-65537|128;case 0:if(lt=yt.payload,z=typeof lt=="function"?lt.call(ie,X,z):lt,z==null)break t;X=S({},X,z);break t;case 2:Ds=!0}}z=E.callback,z!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[z]:H.push(z))}else H={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(P=Q=H,C=X):Q=Q.next=H,g|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(C=X),h.baseState=C,h.firstBaseUpdate=P,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),js|=g,e.lanes=g,e.memoizedState=X}}function ag(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function og(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ag(s[e],n)}var Da=D(null),Bu=D(0);function lg(e,n){e=ss,it(Bu,e),it(Da,n),ss=e|n.baseLanes}function vf(){it(Bu,ss),it(Da,Da.current)}function Ef(){ss=Bu.current,Y(Da),Y(Bu)}var Rn=D(null),Hn=null;function Vs(e){var n=e.alternate;it(Ee,Ee.current&1),it(Rn,e),Hn===null&&(n===null||Da.current!==null||n.memoizedState!==null)&&(Hn=e)}function Tf(e){it(Ee,Ee.current),it(Rn,e),Hn===null&&(Hn=e)}function ug(e){e.tag===22?(it(Ee,Ee.current),it(Rn,e),Hn===null&&(Hn=e)):ks()}function ks(){it(Ee,Ee.current),it(Rn,Rn.current)}function xn(e){Y(Rn),Hn===e&&(Hn=null),Y(Ee)}var Ee=D(0);function qu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||xd(s)||Cd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var $i=0,Ct=null,ee=null,Ie=null,Hu=!1,Ma=!1,Kr=!1,Fu=0,nl=0,Oa=null,UT=0;function me(){throw Error(a(321))}function Af(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!Sn(e[s],n[s]))return!1;return!0}function bf(e,n,s,o,h,f){return $i=f,Ct=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,B.H=e===null||e.memoizedState===null?Qg:jf,Kr=!1,f=s(o,h),Kr=!1,Ma&&(f=hg(n,s,o,h)),cg(e),f}function cg(e){B.H=rl;var n=ee!==null&&ee.next!==null;if($i=0,Ie=ee=Ct=null,Hu=!1,nl=0,Oa=null,n)throw Error(a(300));e===null||De||(e=e.dependencies,e!==null&&Vu(e)&&(De=!0))}function hg(e,n,s,o){Ct=e;var h=0;do{if(Ma&&(Oa=null),nl=0,Ma=!1,25<=h)throw Error(a(301));if(h+=1,Ie=ee=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}B.H=Kg,f=n(s,o)}while(Ma);return f}function LT(){var e=B.H,n=e.useState()[0];return n=typeof n.then=="function"?il(n):n,e=e.useState()[0],(ee!==null?ee.memoizedState:null)!==e&&(Ct.flags|=1024),n}function Sf(){var e=Fu!==0;return Fu=0,e}function wf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Rf(e){if(Hu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Hu=!1}$i=0,Ie=ee=Ct=null,Ma=!1,nl=Fu=0,Oa=null}function cn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?Ct.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Te(){if(ee===null){var e=Ct.alternate;e=e!==null?e.memoizedState:null}else e=ee.next;var n=Ie===null?Ct.memoizedState:Ie.next;if(n!==null)Ie=n,ee=e;else{if(e===null)throw Ct.alternate===null?Error(a(467)):Error(a(310));ee=e,e={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ie===null?Ct.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function Gu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function il(e){var n=nl;return nl+=1,Oa===null&&(Oa=[]),e=eg(Oa,e,n),n=Ct,(Ie===null?n.memoizedState:Ie.next)===null&&(n=n.alternate,B.H=n===null||n.memoizedState===null?Qg:jf),e}function Qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return il(e);if(e.$$typeof===ft)return Ye(e)}throw Error(a(438,String(e)))}function xf(e){var n=null,s=Ct.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Ct.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Gu(),Ct.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=V;return n.index++,s}function Zi(e,n){return typeof n=="function"?n(e):n}function Ku(e){var n=Te();return Cf(n,ee,e)}function Cf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=g=null,C=null,P=n,Q=!1;do{var X=P.lane&-536870913;if(X!==P.lane?(kt&X)===X:($i&X)===X){var z=P.revertLane;if(z===0)C!==null&&(C=C.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),X===xa&&(Q=!0);else if(($i&z)===z){P=P.next,z===xa&&(Q=!0);continue}else X={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=X,g=f):C=C.next=X,Ct.lanes|=z,js|=z;X=P.action,Kr&&s(f,X),f=P.hasEagerState?P.eagerState:s(f,X)}else z={lane:X,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},C===null?(E=C=z,g=f):C=C.next=z,Ct.lanes|=X,js|=X;P=P.next}while(P!==null&&P!==n);if(C===null?g=f:C.next=E,!Sn(f,e.memoizedState)&&(De=!0,Q&&(s=Ca,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=C,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Nf(e){var n=Te(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);Sn(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function fg(e,n,s){var o=Ct,h=Te(),f=zt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!Sn((ee||h).memoizedState,s);if(g&&(h.memoizedState=s,De=!0),h=h.queue,Mf(pg.bind(null,o,h,e),[e]),h.getSnapshot!==n||g||Ie!==null&&Ie.memoizedState.tag&1){if(o.flags|=2048,Va(9,{destroy:void 0},mg.bind(null,o,h,s,n),null),se===null)throw Error(a(349));f||($i&127)!==0||dg(o,n,s)}return s}function dg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Ct.updateQueue,n===null?(n=Gu(),Ct.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function mg(e,n,s,o){n.value=s,n.getSnapshot=o,gg(n)&&yg(e)}function pg(e,n,s){return s(function(){gg(n)&&yg(e)})}function gg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!Sn(e,s)}catch{return!0}}function yg(e){var n=jr(e,2);n!==null&&yn(n,e,2)}function If(e){var n=cn();if(typeof e=="function"){var s=e;if(e=s(),Kr){On(!0);try{s()}finally{On(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:e},n}function _g(e,n,s,o){return e.baseState=s,Cf(e,ee,typeof o=="function"?o:Zi)}function jT(e,n,s,o,h){if($u(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};B.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,vg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function vg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=B.T,g={};B.T=g;try{var E=s(h,o),C=B.S;C!==null&&C(g,E),Eg(e,n,E)}catch(P){Df(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),B.T=f}}else try{f=s(h,o),Eg(e,n,f)}catch(P){Df(e,n,P)}}function Eg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){Tg(e,n,o)},function(o){return Df(e,n,o)}):Tg(e,n,s)}function Tg(e,n,s){n.status="fulfilled",n.value=s,Ag(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,vg(e,s)))}function Df(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,Ag(n),n=n.next;while(n!==o)}e.action=null}function Ag(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function bg(e,n){return n}function Sg(e,n){if(zt){var s=se.formState;if(s!==null){t:{var o=Ct;if(zt){if(oe){e:{for(var h=oe,f=qn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Fn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Fn(h.nextSibling),o=h.data==="F!";break t}}Ns(o)}o=!1}o&&(n=s[0])}}return s=cn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:bg,lastRenderedState:n},s.queue=o,s=Hg.bind(null,Ct,o),o.dispatch=s,o=If(!1),f=Lf.bind(null,Ct,!1,o.queue),o=cn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=jT.bind(null,Ct,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function wg(e){var n=Te();return Rg(n,ee,e)}function Rg(e,n,s){if(n=Cf(e,n,bg)[0],e=Ku(Zi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=il(n)}catch(g){throw g===Na?Lu:g}else o=n;n=Te();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Ct.flags|=2048,Va(9,{destroy:void 0},PT.bind(null,h,s),null)),[o,f,e]}function PT(e,n){e.action=n}function xg(e){var n=Te(),s=ee;if(s!==null)return Rg(n,s,e);Te(),n=n.memoizedState,s=Te();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Va(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Ct.updateQueue,n===null&&(n=Gu(),Ct.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Cg(){return Te().memoizedState}function Yu(e,n,s,o){var h=cn();Ct.flags|=e,h.memoizedState=Va(1|n,{destroy:void 0},s,o===void 0?null:o)}function Xu(e,n,s,o){var h=Te();o=o===void 0?null:o;var f=h.memoizedState.inst;ee!==null&&o!==null&&Af(o,ee.memoizedState.deps)?h.memoizedState=Va(n,f,s,o):(Ct.flags|=e,h.memoizedState=Va(1|n,f,s,o))}function Ng(e,n){Yu(8390656,8,e,n)}function Mf(e,n){Xu(2048,8,e,n)}function zT(e){Ct.flags|=4;var n=Ct.updateQueue;if(n===null)n=Gu(),Ct.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Ig(e){var n=Te().memoizedState;return zT({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Dg(e,n){return Xu(4,2,e,n)}function Mg(e,n){return Xu(4,4,e,n)}function Og(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vg(e,n,s){s=s!=null?s.concat([e]):null,Xu(4,4,Og.bind(null,n,e),s)}function Of(){}function kg(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&Af(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Ug(e,n){var s=Te();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&Af(n,o[1]))return o[0];if(o=e(),Kr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[o,n],o}function Vf(e,n,s){return s===void 0||($i&1073741824)!==0&&(kt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Ly(),Ct.lanes|=e,js|=e,s)}function Lg(e,n,s,o){return Sn(s,n)?s:Da.current!==null?(e=Vf(e,s,o),Sn(e,n)||(De=!0),e):($i&42)===0||($i&1073741824)!==0&&(kt&261930)===0?(De=!0,e.memoizedState=s):(e=Ly(),Ct.lanes|=e,js|=e,n)}function jg(e,n,s,o,h){var f=tt.p;tt.p=f!==0&&8>f?f:8;var g=B.T,E={};B.T=E,Lf(e,!1,n,s);try{var C=h(),P=B.S;if(P!==null&&P(E,C),C!==null&&typeof C=="object"&&typeof C.then=="function"){var Q=kT(C,o);sl(e,n,Q,In(e))}else sl(e,n,o,In(e))}catch(X){sl(e,n,{then:function(){},status:"rejected",reason:X},In())}finally{tt.p=f,g!==null&&E.types!==null&&(g.types=E.types),B.T=g}}function BT(){}function kf(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Pg(e).queue;jg(e,h,n,ot,s===null?BT:function(){return zg(e),s(o)})}function Pg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ot,baseState:ot,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:ot},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Zi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function zg(e){var n=Pg(e);n.next===null&&(n=e.alternate.memoizedState),sl(e,n.next.queue,{},In())}function Uf(){return Ye(Tl)}function Bg(){return Te().memoizedState}function qg(){return Te().memoizedState}function qT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=In();e=Ms(s);var o=Os(n,e,s);o!==null&&(yn(o,n,s),Wo(o,n,s)),n={cache:hf()},e.payload=n;return}n=n.return}}function HT(e,n,s){var o=In();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},$u(e)?Fg(n,s):(s=Wh(e,n,s,o),s!==null&&(yn(s,e,o),Gg(s,n,o)))}function Hg(e,n,s){var o=In();sl(e,n,s,o)}function sl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if($u(e))Fg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,E=f(g,s);if(h.hasEagerState=!0,h.eagerState=E,Sn(E,g))return Iu(e,n,h,0),se===null&&Nu(),!1}catch{}if(s=Wh(e,n,h,o),s!==null)return yn(s,e,o),Gg(s,n,o),!0}return!1}function Lf(e,n,s,o){if(o={lane:2,revertLane:pd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},$u(e)){if(n)throw Error(a(479))}else n=Wh(e,s,o,2),n!==null&&yn(n,e,2)}function $u(e){var n=e.alternate;return e===Ct||n!==null&&n===Ct}function Fg(e,n){Ma=Hu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Gg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ro(e,s)}}var rl={readContext:Ye,use:Qu,useCallback:me,useContext:me,useEffect:me,useImperativeHandle:me,useLayoutEffect:me,useInsertionEffect:me,useMemo:me,useReducer:me,useRef:me,useState:me,useDebugValue:me,useDeferredValue:me,useTransition:me,useSyncExternalStore:me,useId:me,useHostTransitionStatus:me,useFormState:me,useActionState:me,useOptimistic:me,useMemoCache:me,useCacheRefresh:me};rl.useEffectEvent=me;var Qg={readContext:Ye,use:Qu,useCallback:function(e,n){return cn().memoizedState=[e,n===void 0?null:n],e},useContext:Ye,useEffect:Ng,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Yu(4194308,4,Og.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Yu(4194308,4,e,n)},useInsertionEffect:function(e,n){Yu(4,2,e,n)},useMemo:function(e,n){var s=cn();n=n===void 0?null:n;var o=e();if(Kr){On(!0);try{e()}finally{On(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=cn();if(s!==void 0){var h=s(n);if(Kr){On(!0);try{s(n)}finally{On(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=HT.bind(null,Ct,e),[o.memoizedState,e]},useRef:function(e){var n=cn();return e={current:e},n.memoizedState=e},useState:function(e){e=If(e);var n=e.queue,s=Hg.bind(null,Ct,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Of,useDeferredValue:function(e,n){var s=cn();return Vf(s,e,n)},useTransition:function(){var e=If(!1);return e=jg.bind(null,Ct,e.queue,!0,!1),cn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Ct,h=cn();if(zt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),se===null)throw Error(a(349));(kt&127)!==0||dg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Ng(pg.bind(null,o,f,e),[e]),o.flags|=2048,Va(9,{destroy:void 0},mg.bind(null,o,f,s,n),null),s},useId:function(){var e=cn(),n=se.identifierPrefix;if(zt){var s=Ri,o=wi;s=(o&~(1<<32-_e(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Fu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=UT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Uf,useFormState:Sg,useActionState:Sg,useOptimistic:function(e){var n=cn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Lf.bind(null,Ct,!0,s),s.dispatch=n,[e,n]},useMemoCache:xf,useCacheRefresh:function(){return cn().memoizedState=qT.bind(null,Ct)},useEffectEvent:function(e){var n=cn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},jf={readContext:Ye,use:Qu,useCallback:kg,useContext:Ye,useEffect:Mf,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Mg,useMemo:Ug,useReducer:Ku,useRef:Cg,useState:function(){return Ku(Zi)},useDebugValue:Of,useDeferredValue:function(e,n){var s=Te();return Lg(s,ee.memoizedState,e,n)},useTransition:function(){var e=Ku(Zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Uf,useFormState:wg,useActionState:wg,useOptimistic:function(e,n){var s=Te();return _g(s,ee,e,n)},useMemoCache:xf,useCacheRefresh:qg};jf.useEffectEvent=Ig;var Kg={readContext:Ye,use:Qu,useCallback:kg,useContext:Ye,useEffect:Mf,useImperativeHandle:Vg,useInsertionEffect:Dg,useLayoutEffect:Mg,useMemo:Ug,useReducer:Nf,useRef:Cg,useState:function(){return Nf(Zi)},useDebugValue:Of,useDeferredValue:function(e,n){var s=Te();return ee===null?Vf(s,e,n):Lg(s,ee.memoizedState,e,n)},useTransition:function(){var e=Nf(Zi)[0],n=Te().memoizedState;return[typeof e=="boolean"?e:il(e),n]},useSyncExternalStore:fg,useId:Bg,useHostTransitionStatus:Uf,useFormState:xg,useActionState:xg,useOptimistic:function(e,n){var s=Te();return ee!==null?_g(s,ee,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:xf,useCacheRefresh:qg};Kg.useEffectEvent=Ig;function Pf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var zf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ms(o);h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(yn(n,e,o),Wo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=In(),h=Ms(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Os(e,h,o),n!==null&&(yn(n,e,o),Wo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=In(),o=Ms(s);o.tag=2,n!=null&&(o.callback=n),n=Os(e,o,s),n!==null&&(yn(n,e,s),Wo(n,e,s))}};function Yg(e,n,s,o,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,g):n.prototype&&n.prototype.isPureReactComponent?!Go(s,o)||!Go(h,f):!0}function Xg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&zf.enqueueReplaceState(n,n.state,null)}function Yr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function $g(e){Cu(e)}function Zg(e){console.error(e)}function Jg(e){Cu(e)}function Zu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Wg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Bf(e,n,s){return s=Ms(s),s.tag=3,s.payload={element:null},s.callback=function(){Zu(e,n)},s}function ty(e){return e=Ms(e),e.tag=3,e}function ey(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Wg(n,s,o)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){Wg(n,s,o),typeof h!="function"&&(Ps===null?Ps=new Set([this]):Ps.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function FT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ra(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return Hn===null?uc():s.alternate===null&&pe===0&&(pe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ju?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),fd(e,o,h)),!1;case 22:return s.flags|=65536,o===ju?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),fd(e,o,h)),!1}throw Error(a(435,s.tag))}return fd(e,o,h),uc(),!1}if(zt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==af&&(e=Error(a(422),{cause:o}),Yo(Pn(e,s)))):(o!==af&&(n=Error(a(423),{cause:o}),Yo(Pn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Pn(o,s),h=Bf(e.stateNode,o,h),yf(e,h),pe!==4&&(pe=2)),!1;var f=Error(a(520),{cause:o});if(f=Pn(f,s),dl===null?dl=[f]:dl.push(f),pe!==4&&(pe=2),n===null)return!0;o=Pn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Bf(s.stateNode,o,e),yf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ps===null||!Ps.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ty(h),ey(h,e,s,o),yf(s,h),!1}s=s.return}while(s!==null);return!1}var qf=Error(a(461)),De=!1;function Xe(e,n,s,o){n.child=e===null?rg(n,null,s,o):Qr(n,e.child,s,o)}function ny(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var g={};for(var E in o)E!=="ref"&&(g[E]=o[E])}else g=o;return qr(n),o=bf(e,n,s,g,f,h),E=Sf(),e!==null&&!De?(wf(e,n,h),Ji(e,n,h)):(zt&&E&&sf(n),n.flags|=1,Xe(e,n,o,h),n.child)}function iy(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!tf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,sy(e,n,f,o,h)):(e=Mu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!$f(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:Go,s(g,o)&&e.ref===n.ref)return Ji(e,n,h)}return n.flags|=1,e=Qi(f,o),e.ref=n.ref,e.return=n,n.child=e}function sy(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Go(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,$f(e,h))(e.flags&131072)!==0&&(De=!0);else return n.lanes=e.lanes,Ji(e,n,h)}return Hf(e,n,s,o,h)}function ry(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ay(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Uu(n,f!==null?f.cachePool:null),f!==null?lg(n,f):vf(),ug(n);else return o=n.lanes=536870912,ay(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Uu(n,f.cachePool),lg(n,f),ks(),n.memoizedState=null):(e!==null&&Uu(n,null),vf(),ks());return Xe(e,n,h,s),n.child}function al(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ay(e,n,s,o,h){var f=df();return f=f===null?null:{parent:Ne._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Uu(n,null),vf(),ug(n),e!==null&&Ra(e,n,o,!0),n.childLanes=h,null}function Ju(e,n){return n=tc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function oy(e,n,s){return Qr(n,e.child,null,s),e=Ju(n,n.pendingProps),e.flags|=2,xn(n),n.memoizedState=null,e}function GT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(zt){if(o.mode==="hidden")return e=Ju(n,o),n.lanes=536870912,al(null,e);if(Tf(n),(e=oe)?(e=v_(e,qn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Fp(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Ns(n);return n.lanes=536870912,null}return Ju(n,o)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Tf(n),h)if(n.flags&256)n.flags&=-257,n=oy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(De||Ra(e,n,s,!1),h=(s&e.childLanes)!==0,De||h){if(o=se,o!==null&&(g=xo(o,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,jr(e,g),yn(o,e,g),qf;uc(),n=oy(e,n,s)}else e=f.treeContext,oe=Fn(g.nextSibling),Ke=n,zt=!0,Cs=null,qn=!1,e!==null&&Kp(n,e),n=Ju(n,o),n.flags|=4096;return n}return e=Qi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Wu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Hf(e,n,s,o,h){return qr(n),s=bf(e,n,s,o,void 0,h),o=Sf(),e!==null&&!De?(wf(e,n,h),Ji(e,n,h)):(zt&&o&&sf(n),n.flags|=1,Xe(e,n,s,h),n.child)}function ly(e,n,s,o,h,f){return qr(n),n.updateQueue=null,s=hg(n,o,s,h),cg(e),o=Sf(),e!==null&&!De?(wf(e,n,f),Ji(e,n,f)):(zt&&o&&sf(n),n.flags|=1,Xe(e,n,s,f),n.child)}function uy(e,n,s,o,h){if(qr(n),n.stateNode===null){var f=Aa,g=s.contextType;typeof g=="object"&&g!==null&&(f=Ye(g)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=zf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},pf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?Ye(g):Aa,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Pf(n,s,g,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&zf.enqueueReplaceState(f,f.state,null),el(n,o,f,h),tl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,C=Yr(s,E);f.props=C;var P=f.context,Q=s.contextType;g=Aa,typeof Q=="object"&&Q!==null&&(g=Ye(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||P!==g)&&Xg(n,f,o,g),Ds=!1;var z=n.memoizedState;f.state=z,el(n,o,f,h),tl(),P=n.memoizedState,E||z!==P||Ds?(typeof X=="function"&&(Pf(n,s,X,o),P=n.memoizedState),(C=Ds||Yg(n,s,C,o,z,P,g))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=P),f.props=o,f.state=P,f.context=g,o=C):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,gf(e,n),g=n.memoizedProps,Q=Yr(s,g),f.props=Q,X=n.pendingProps,z=f.context,P=s.contextType,C=Aa,typeof P=="object"&&P!==null&&(C=Ye(P)),E=s.getDerivedStateFromProps,(P=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==X||z!==C)&&Xg(n,f,o,C),Ds=!1,z=n.memoizedState,f.state=z,el(n,o,f,h),tl();var H=n.memoizedState;g!==X||z!==H||Ds||e!==null&&e.dependencies!==null&&Vu(e.dependencies)?(typeof E=="function"&&(Pf(n,s,E,o),H=n.memoizedState),(Q=Ds||Yg(n,s,Q,o,z,H,C)||e!==null&&e.dependencies!==null&&Vu(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,C),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,C)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=C,o=Q):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Wu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Qr(n,e.child,null,h),n.child=Qr(n,null,s,h)):Xe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Ji(e,n,h),e}function cy(e,n,s,o){return zr(),n.flags|=256,Xe(e,n,s,o),n.child}var Ff={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Gf(e){return{baseLanes:e,cachePool:Wp()}}function Qf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Nn),e}function hy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Ee.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(h?Vs(n):ks(),(e=oe)?(e=v_(e,qn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:xs!==null?{id:wi,overflow:Ri}:null,retryLane:536870912,hydrationErrors:null},s=Fp(e),s.return=n,n.child=s,Ke=n,oe=null)):e=null,e===null)throw Ns(n);return Cd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(ks(),h=n.mode,E=tc({mode:"hidden",children:E},h),o=Pr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Gf(s),o.childLanes=Qf(e,g,s),n.memoizedState=Ff,al(null,o)):(Vs(n),Kf(n,E))}var C=e.memoizedState;if(C!==null&&(E=C.dehydrated,E!==null)){if(f)n.flags&256?(Vs(n),n.flags&=-257,n=Yf(e,n,s)):n.memoizedState!==null?(ks(),n.child=e.child,n.flags|=128,n=null):(ks(),E=o.fallback,h=n.mode,o=tc({mode:"visible",children:o.children},h),E=Pr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Qr(n,e.child,null,s),o=n.child,o.memoizedState=Gf(s),o.childLanes=Qf(e,g,s),n.memoizedState=Ff,n=al(null,o));else if(Vs(n),Cd(E)){if(g=E.nextSibling&&E.nextSibling.dataset,g)var P=g.dgst;g=P,o=Error(a(419)),o.stack="",o.digest=g,Yo({value:o,source:null,stack:null}),n=Yf(e,n,s)}else if(De||Ra(e,n,s,!1),g=(s&e.childLanes)!==0,De||g){if(g=se,g!==null&&(o=xo(g,s),o!==0&&o!==C.retryLane))throw C.retryLane=o,jr(e,o),yn(g,e,o),qf;xd(E)||uc(),n=Yf(e,n,s)}else xd(E)?(n.flags|=192,n.child=e.child,n=null):(e=C.treeContext,oe=Fn(E.nextSibling),Ke=n,zt=!0,Cs=null,qn=!1,e!==null&&Kp(n,e),n=Kf(n,o.children),n.flags|=4096);return n}return h?(ks(),E=o.fallback,h=n.mode,C=e.child,P=C.sibling,o=Qi(C,{mode:"hidden",children:o.children}),o.subtreeFlags=C.subtreeFlags&65011712,P!==null?E=Qi(P,E):(E=Pr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,al(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Gf(s):(h=E.cachePool,h!==null?(C=Ne._currentValue,h=h.parent!==C?{parent:C,pool:C}:h):h=Wp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Qf(e,g,s),n.memoizedState=Ff,al(e.child,o)):(Vs(n),s=e.child,e=s.sibling,s=Qi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Kf(e,n){return n=tc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function tc(e,n){return e=wn(22,e,null,n),e.lanes=0,e}function Yf(e,n,s){return Qr(n,e.child,null,s),e=Kf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function fy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),uf(e.return,n,s)}function Xf(e,n,s,o,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=o,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function dy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var g=Ee.current,E=(g&2)!==0;if(E?(g=g&1|2,n.flags|=128):g&=1,it(Ee,g),Xe(e,n,o,s),o=zt?Ko:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fy(e,s,n);else if(e.tag===19)fy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&qu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Xf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&qu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Xf(n,!0,s,null,f,o);break;case"together":Xf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Ji(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),js|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ra(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Qi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Qi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function $f(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Vu(e)))}function QT(e,n,s){switch(n.tag){case 3:ye(n,n.stateNode.containerInfo),Is(n,Ne,e.memoizedState.cache),zr();break;case 27:case 5:gt(n);break;case 4:ye(n,n.stateNode.containerInfo);break;case 10:Is(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Tf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Vs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?hy(e,n,s):(Vs(n),e=Ji(e,n,s),e!==null?e.sibling:null);Vs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ra(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return dy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),it(Ee,Ee.current),o)break;return null;case 22:return n.lanes=0,ry(e,n,s,n.pendingProps);case 24:Is(n,Ne,e.memoizedState.cache)}return Ji(e,n,s)}function my(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!$f(e,s)&&(n.flags&128)===0)return De=!1,QT(e,n,s);De=(e.flags&131072)!==0}else De=!1,zt&&(n.flags&1048576)!==0&&Qp(n,Ko,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Fr(n.elementType),n.type=e,typeof e=="function")tf(e)?(o=Yr(e,o),n.tag=1,n=uy(null,n,e,o,s)):(n.tag=0,n=Hf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===dt){n.tag=11,n=ny(null,n,e,o,s);break t}else if(h===N){n.tag=14,n=iy(null,n,e,o,s);break t}}throw n=Et(e)||e,Error(a(306,n,""))}}return n;case 0:return Hf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Yr(o,n.pendingProps),uy(e,n,o,h,s);case 3:t:{if(ye(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,gf(e,n),el(n,o,null,s);var g=n.memoizedState;if(o=g.cache,Is(n,Ne,o),o!==f.cache&&cf(n,[Ne],s,!0),tl(),o=g.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=cy(e,n,o,s);break t}else if(o!==h){h=Pn(Error(a(424)),n),Yo(h),n=cy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=Fn(e.firstChild),Ke=n,zt=!0,Cs=null,qn=!0,s=rg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(zr(),o===h){n=Ji(e,n,s);break t}Xe(e,n,o,s)}n=n.child}return n;case 26:return Wu(e,n),e===null?(s=w_(n.type,null,n.pendingProps,null))?n.memoizedState=s:zt||(s=n.type,e=n.pendingProps,o=gc(Rt.current).createElement(s),o[Re]=n,o[ze]=e,$e(o,s,e),xe(o),n.stateNode=o):n.memoizedState=w_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return gt(n),e===null&&zt&&(o=n.stateNode=A_(n.type,n.pendingProps,Rt.current),Ke=n,qn=!0,h=oe,Hs(n.type)?(Nd=h,oe=Fn(o.firstChild)):oe=h),Xe(e,n,n.pendingProps.children,s),Wu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&zt&&((h=o=oe)&&(o=AA(o,n.type,n.pendingProps,qn),o!==null?(n.stateNode=o,Ke=n,oe=Fn(o.firstChild),qn=!1,h=!0):h=!1),h||Ns(n)),gt(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,o=f.children,Sd(h,f)?o=null:g!==null&&Sd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=bf(e,n,LT,null,null,s),Tl._currentValue=h),Wu(e,n),Xe(e,n,o,s),n.child;case 6:return e===null&&zt&&((e=s=oe)&&(s=bA(s,n.pendingProps,qn),s!==null?(n.stateNode=s,Ke=n,oe=null,e=!0):e=!1),e||Ns(n)),null;case 13:return hy(e,n,s);case 4:return ye(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Qr(n,null,o,s):Xe(e,n,o,s),n.child;case 11:return ny(e,n,n.type,n.pendingProps,s);case 7:return Xe(e,n,n.pendingProps,s),n.child;case 8:return Xe(e,n,n.pendingProps.children,s),n.child;case 12:return Xe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Is(n,n.type,o.value),Xe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,qr(n),h=Ye(h),o=o(h),n.flags|=1,Xe(e,n,o,s),n.child;case 14:return iy(e,n,n.type,n.pendingProps,s);case 15:return sy(e,n,n.type,n.pendingProps,s);case 19:return dy(e,n,s);case 31:return GT(e,n,s);case 22:return ry(e,n,s,n.pendingProps);case 24:return qr(n),o=Ye(Ne),e===null?(h=df(),h===null&&(h=se,f=hf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},pf(n),Is(n,Ne,h)):((e.lanes&s)!==0&&(gf(e,n),el(n,null,null,s),tl()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Is(n,Ne,o)):(o=f.cache,Is(n,Ne,o),o!==h.cache&&cf(n,[Ne],s,!0))),Xe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Wi(e){e.flags|=4}function Zf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(By())e.flags|=8192;else throw Gr=ju,mf}else e.flags&=-16777217}function py(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!I_(n))if(By())e.flags|=8192;else throw Gr=ju,mf}function ec(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ou():536870912,e.lanes|=n,ja|=n)}function ol(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function le(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function KT(e,n,s){var o=n.pendingProps;switch(rf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return le(n),null;case 1:return le(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Xi(Ne),F(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(wa(n)?Wi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,of())),le(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Wi(n),f!==null?(le(n),py(n,f)):(le(n),Zf(n,h,null,o,s))):f?f!==e.memoizedState?(Wi(n),le(n),py(n,f)):(le(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Wi(n),le(n),Zf(n,h,e,o,s)),null;case 27:if($t(n),s=Rt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}e=st.current,wa(n)?Yp(n):(e=A_(h,o,s),n.stateNode=e,Wi(n))}return le(n),null;case 5:if($t(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return le(n),null}if(f=st.current,wa(n))Yp(n);else{var g=gc(Rt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?g.createElement("select",{is:o.is}):g.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?g.createElement(h,{is:o.is}):g.createElement(h)}}f[Re]=n,f[ze]=o;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch($e(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Wi(n)}}return le(n),Zf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Wi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Rt.current,wa(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Ke,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Re]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||h_(e.nodeValue,s)),e||Ns(n,!0)}else e=gc(e).createTextNode(o),e[Re]=n,n.stateNode=e}return le(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=wa(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Re]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),e=!1}else s=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(xn(n),n):(xn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return le(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=wa(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Re]=n}else zr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;le(n),h=!1}else h=of(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(xn(n),n):(xn(n),null)}return xn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ec(n,n.updateQueue),le(n),null);case 4:return F(),e===null&&vd(n.stateNode.containerInfo),le(n),null;case 10:return Xi(n.type),le(n),null;case 19:if(Y(Ee),o=n.memoizedState,o===null)return le(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)ol(o,!1);else{if(pe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=qu(e),f!==null){for(n.flags|=128,ol(o,!1),e=f.updateQueue,n.updateQueue=e,ec(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Hp(s,e),s=s.sibling;return it(Ee,Ee.current&1|2),zt&&Ki(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&ln()>ac&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304)}else{if(!h)if(e=qu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ec(n,e),ol(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!zt)return le(n),null}else 2*ln()-o.renderingStartTime>ac&&s!==536870912&&(n.flags|=128,h=!0,ol(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=ln(),e.sibling=null,s=Ee.current,it(Ee,h?s&1|2:s&1),zt&&Ki(n,o.treeForkCount),e):(le(n),null);case 22:case 23:return xn(n),Ef(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(le(n),n.subtreeFlags&6&&(n.flags|=8192)):le(n),s=n.updateQueue,s!==null&&ec(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Hr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Xi(Ne),le(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function YT(e,n){switch(rf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Xi(Ne),F(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return $t(n),null;case 31:if(n.memoizedState!==null){if(xn(n),n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(xn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));zr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Ee),null;case 4:return F(),null;case 10:return Xi(n.type),null;case 22:case 23:return xn(n),Ef(),e!==null&&Y(Hr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Xi(Ne),null;case 25:return null;default:return null}}function gy(e,n){switch(rf(n),n.tag){case 3:Xi(Ne),F();break;case 26:case 27:case 5:$t(n);break;case 4:F();break;case 31:n.memoizedState!==null&&xn(n);break;case 13:xn(n);break;case 19:Y(Ee);break;case 10:Xi(n.type);break;case 22:case 23:xn(n),Ef(),e!==null&&Y(Hr);break;case 24:Xi(Ne)}}function ll(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,g=s.inst;o=f(),g.destroy=o}s=s.next}while(s!==h)}}catch(E){Wt(n,n.return,E)}}function Us(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var g=o.inst,E=g.destroy;if(E!==void 0){g.destroy=void 0,h=n;var C=s,P=E;try{P()}catch(Q){Wt(h,C,Q)}}}o=o.next}while(o!==f)}}catch(Q){Wt(n,n.return,Q)}}function yy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{og(n,s)}catch(o){Wt(e,e.return,o)}}}function _y(e,n,s){s.props=Yr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Wt(e,n,o)}}function ul(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Wt(e,n,h)}}function xi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function vy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function Jf(e,n,s){try{var o=e.stateNode;gA(o,e.type,s,n),o[ze]=n}catch(h){Wt(e,e.return,h)}}function Ey(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Hs(e.type)||e.tag===4}function Wf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||Ey(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Hs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function td(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Jn));else if(o!==4&&(o===27&&Hs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(td(e,n,s),e=e.sibling;e!==null;)td(e,n,s),e=e.sibling}function nc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Hs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(nc(e,n,s),e=e.sibling;e!==null;)nc(e,n,s),e=e.sibling}function Ty(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);$e(n,o,s),n[Re]=e,n[ze]=s}catch(f){Wt(e,e.return,f)}}var ts=!1,Me=!1,ed=!1,Ay=typeof WeakSet=="function"?WeakSet:Set,qe=null;function XT(e,n){if(e=e.containerInfo,Ad=bc,e=Vp(e),Kh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,E=-1,C=-1,P=0,Q=0,X=e,z=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=g+h),X!==f||o!==0&&X.nodeType!==3||(C=g+o),X.nodeType===3&&(g+=X.nodeValue.length),(H=X.firstChild)!==null;)z=X,X=H;for(;;){if(X===e)break e;if(z===s&&++P===h&&(E=g),z===f&&++Q===o&&(C=g),(H=X.nextSibling)!==null)break;X=z,z=X.parentNode}X=H}s=E===-1||C===-1?null:{start:E,end:C}}else s=null}s=s||{start:0,end:0}}else s=null;for(bd={focusedElem:e,selectionRange:s},bc=!1,qe=n;qe!==null;)if(n=qe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,qe=e;else for(;qe!==null;){switch(n=qe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var lt=Yr(s.type,h);e=o.getSnapshotBeforeUpdate(lt,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(yt){Wt(s,s.return,yt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,qe=e;break}qe=n.return}}function by(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:ns(e,s),o&4&&ll(5,s);break;case 1:if(ns(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(s,s.return,g)}else{var h=Yr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(s,s.return,g)}}o&64&&yy(s),o&512&&ul(s,s.return);break;case 3:if(ns(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{og(e,n)}catch(g){Wt(s,s.return,g)}}break;case 27:n===null&&o&4&&Ty(s);case 26:case 5:ns(e,s),n===null&&o&4&&vy(s),o&512&&ul(s,s.return);break;case 12:ns(e,s);break;case 31:ns(e,s),o&4&&Ry(e,s);break;case 13:ns(e,s),o&4&&xy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=sA.bind(null,s),SA(e,s))));break;case 22:if(o=s.memoizedState!==null||ts,!o){n=n!==null&&n.memoizedState!==null||Me,h=ts;var f=Me;ts=o,(Me=n)&&!f?is(e,s,(s.subtreeFlags&8772)!==0):ns(e,s),ts=h,Me=f}break;case 30:break;default:ns(e,s)}}function Sy(e){var n=e.alternate;n!==null&&(e.alternate=null,Sy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&la(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var fe=null,dn=!1;function es(e,n,s){for(s=s.child;s!==null;)wy(e,n,s),s=s.sibling}function wy(e,n,s){if(Ge&&typeof Ge.onCommitFiberUnmount=="function")try{Ge.onCommitFiberUnmount(Yn,s)}catch{}switch(s.tag){case 26:Me||xi(s,n),es(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Me||xi(s,n);var o=fe,h=dn;Hs(s.type)&&(fe=s.stateNode,dn=!1),es(e,n,s),_l(s.stateNode),fe=o,dn=h;break;case 5:Me||xi(s,n);case 6:if(o=fe,h=dn,fe=null,es(e,n,s),fe=o,dn=h,fe!==null)if(dn)try{(fe.nodeType===9?fe.body:fe.nodeName==="HTML"?fe.ownerDocument.body:fe).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{fe.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:fe!==null&&(dn?(e=fe,y_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Qa(e)):y_(fe,s.stateNode));break;case 4:o=fe,h=dn,fe=s.stateNode.containerInfo,dn=!0,es(e,n,s),fe=o,dn=h;break;case 0:case 11:case 14:case 15:Us(2,s,n),Me||Us(4,s,n),es(e,n,s);break;case 1:Me||(xi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&_y(s,n,o)),es(e,n,s);break;case 21:es(e,n,s);break;case 22:Me=(o=Me)||s.memoizedState!==null,es(e,n,s),Me=o;break;default:es(e,n,s)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Qa(e)}catch(s){Wt(n,n.return,s)}}}function xy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Qa(e)}catch(s){Wt(n,n.return,s)}}function $T(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ay),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ay),n;default:throw Error(a(435,e.tag))}}function ic(e,n){var s=$T(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=rA.bind(null,e,o);o.then(h,h)}})}function mn(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,g=n,E=g;t:for(;E!==null;){switch(E.tag){case 27:if(Hs(E.type)){fe=E.stateNode,dn=!1;break t}break;case 5:fe=E.stateNode,dn=!1;break t;case 3:case 4:fe=E.stateNode.containerInfo,dn=!0;break t}E=E.return}if(fe===null)throw Error(a(160));wy(f,g,h),fe=null,dn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Cy(n,e),n=n.sibling}var si=null;function Cy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:mn(n,e),pn(e),o&4&&(Us(3,e,e.return),ll(3,e),Us(5,e,e.return));break;case 1:mn(n,e),pn(e),o&512&&(Me||s===null||xi(s,s.return)),o&64&&ts&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=si;if(mn(n,e),pn(e),o&512&&(Me||s===null||xi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[di]||f[Re]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),$e(f,o,s),f[Re]=e,xe(f),o=f;break t;case"link":var g=C_("link","href",h).get(o+(s.href||""));if(g){for(var E=0;E<g.length;E++)if(f=g[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;case"meta":if(g=C_("meta","content",h).get(o+(s.content||""))){for(E=0;E<g.length;E++)if(f=g[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(E,1);break e}}f=h.createElement(o),$e(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Re]=e,xe(f),o=f}e.stateNode=o}else N_(h,e.type,e.stateNode);else e.stateNode=x_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?N_(h,e.type,e.stateNode):x_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Jf(e,e.memoizedProps,s.memoizedProps)}break;case 27:mn(n,e),pn(e),o&512&&(Me||s===null||xi(s,s.return)),s!==null&&o&4&&Jf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(mn(n,e),pn(e),o&512&&(Me||s===null||xi(s,s.return)),e.flags&32){h=e.stateNode;try{fn(h,"")}catch(lt){Wt(e,e.return,lt)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Jf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(ed=!0);break;case 6:if(mn(n,e),pn(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(lt){Wt(e,e.return,lt)}}break;case 3:if(vc=null,h=si,si=yc(n.containerInfo),mn(n,e),si=h,pn(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Qa(n.containerInfo)}catch(lt){Wt(e,e.return,lt)}ed&&(ed=!1,Ny(e));break;case 4:o=si,si=yc(e.stateNode.containerInfo),mn(n,e),pn(e),si=o;break;case 12:mn(n,e),pn(e);break;case 31:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 13:mn(n,e),pn(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(rc=ln()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 22:h=e.memoizedState!==null;var C=s!==null&&s.memoizedState!==null,P=ts,Q=Me;if(ts=P||h,Me=Q||C,mn(n,e),Me=Q,ts=P,pn(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||C||ts||Me||Xr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){C=s=n;try{if(f=C.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{E=C.stateNode;var X=C.memoizedProps.style,z=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(lt){Wt(C,C.return,lt)}}}else if(n.tag===6){if(s===null){C=n;try{C.stateNode.nodeValue=h?"":C.memoizedProps}catch(lt){Wt(C,C.return,lt)}}}else if(n.tag===18){if(s===null){C=n;try{var H=C.stateNode;h?__(H,!0):__(C.stateNode,!1)}catch(lt){Wt(C,C.return,lt)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ic(e,s))));break;case 19:mn(n,e),pn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ic(e,o)));break;case 30:break;case 21:break;default:mn(n,e),pn(e)}}function pn(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(Ey(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Wf(e);nc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(fn(g,""),s.flags&=-33);var E=Wf(e);nc(e,E,g);break;case 3:case 4:var C=s.stateNode.containerInfo,P=Wf(e);td(e,P,C);break;default:throw Error(a(161))}}catch(Q){Wt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ny(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ny(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function ns(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)by(e,n.alternate,n),n=n.sibling}function Xr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Us(4,n,n.return),Xr(n);break;case 1:xi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&_y(n,n.return,s),Xr(n);break;case 27:_l(n.stateNode);case 26:case 5:xi(n,n.return),Xr(n);break;case 22:n.memoizedState===null&&Xr(n);break;case 30:Xr(n);break;default:Xr(n)}e=e.sibling}}function is(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:is(h,f,s),ll(4,f);break;case 1:if(is(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Wt(o,o.return,P)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var C=h.shared.hiddenCallbacks;if(C!==null)for(h.shared.hiddenCallbacks=null,h=0;h<C.length;h++)ag(C[h],E)}catch(P){Wt(o,o.return,P)}}s&&g&64&&yy(f),ul(f,f.return);break;case 27:Ty(f);case 26:case 5:is(h,f,s),s&&o===null&&g&4&&vy(f),ul(f,f.return);break;case 12:is(h,f,s);break;case 31:is(h,f,s),s&&g&4&&Ry(h,f);break;case 13:is(h,f,s),s&&g&4&&xy(h,f);break;case 22:f.memoizedState===null&&is(h,f,s),ul(f,f.return);break;case 30:break;default:is(h,f,s)}n=n.sibling}}function nd(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Xo(s))}function id(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e))}function ri(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Iy(e,n,s,o),n=n.sibling}function Iy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ri(e,n,s,o),h&2048&&ll(9,n);break;case 1:ri(e,n,s,o);break;case 3:ri(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Xo(e)));break;case 12:if(h&2048){ri(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,E=f.onPostCommit;typeof E=="function"&&E(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(C){Wt(n,n.return,C)}}else ri(e,n,s,o);break;case 31:ri(e,n,s,o);break;case 13:ri(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ri(e,n,s,o):cl(e,n):f._visibility&2?ri(e,n,s,o):(f._visibility|=2,ka(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&nd(g,n);break;case 24:ri(e,n,s,o),h&2048&&id(n.alternate,n);break;default:ri(e,n,s,o)}}function ka(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,E=s,C=o,P=g.flags;switch(g.tag){case 0:case 11:case 15:ka(f,g,E,C,h),ll(8,g);break;case 23:break;case 22:var Q=g.stateNode;g.memoizedState!==null?Q._visibility&2?ka(f,g,E,C,h):cl(f,g):(Q._visibility|=2,ka(f,g,E,C,h)),h&&P&2048&&nd(g.alternate,g);break;case 24:ka(f,g,E,C,h),h&&P&2048&&id(g.alternate,g);break;default:ka(f,g,E,C,h)}n=n.sibling}}function cl(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:cl(s,o),h&2048&&nd(o.alternate,o);break;case 24:cl(s,o),h&2048&&id(o.alternate,o);break;default:cl(s,o)}n=n.sibling}}var hl=8192;function Ua(e,n,s){if(e.subtreeFlags&hl)for(e=e.child;e!==null;)Dy(e,n,s),e=e.sibling}function Dy(e,n,s){switch(e.tag){case 26:Ua(e,n,s),e.flags&hl&&e.memoizedState!==null&&UA(s,si,e.memoizedState,e.memoizedProps);break;case 5:Ua(e,n,s);break;case 3:case 4:var o=si;si=yc(e.stateNode.containerInfo),Ua(e,n,s),si=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=hl,hl=16777216,Ua(e,n,s),hl=o):Ua(e,n,s));break;default:Ua(e,n,s)}}function My(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function fl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Vy(o,e)}My(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Oy(e),e=e.sibling}function Oy(e){switch(e.tag){case 0:case 11:case 15:fl(e),e.flags&2048&&Us(9,e,e.return);break;case 3:fl(e);break;case 12:fl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,sc(e)):fl(e);break;default:fl(e)}}function sc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];qe=o,Vy(o,e)}My(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Us(8,n,n.return),sc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,sc(n));break;default:sc(n)}e=e.sibling}}function Vy(e,n){for(;qe!==null;){var s=qe;switch(s.tag){case 0:case 11:case 15:Us(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Xo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,qe=o;else t:for(s=e;qe!==null;){o=qe;var h=o.sibling,f=o.return;if(Sy(o),o===s){qe=null;break t}if(h!==null){h.return=f,qe=h;break t}qe=f}}}var ZT={getCacheForType:function(e){var n=Ye(Ne),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return Ye(Ne).controller.signal}},JT=typeof WeakMap=="function"?WeakMap:Map,Yt=0,se=null,Mt=null,kt=0,Jt=0,Cn=null,Ls=!1,La=!1,sd=!1,ss=0,pe=0,js=0,$r=0,rd=0,Nn=0,ja=0,dl=null,gn=null,ad=!1,rc=0,ky=0,ac=1/0,oc=null,Ps=null,Ue=0,zs=null,Pa=null,rs=0,od=0,ld=null,Uy=null,ml=0,ud=null;function In(){return(Yt&2)!==0&&kt!==0?kt&-kt:B.T!==null?pd():lu()}function Ly(){if(Nn===0)if((kt&536870912)===0||zt){var e=br;br<<=1,(br&3932160)===0&&(br=262144),Nn=e}else Nn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Nn}function yn(e,n,s){(e===se&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(za(e,0),Bs(e,kt,Nn,!1)),Sr(e,s),((Yt&2)===0||e!==se)&&(e===se&&((Yt&2)===0&&($r|=s),pe===4&&Bs(e,kt,Nn,!1)),Ci(e))}function jy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Xn(e,n),h=o?eA(e,n):hd(e,n,!0),f=o;do{if(h===0){La&&!o&&Bs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!WT(s)){h=hd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var E=e;h=dl;var C=E.current.memoizedState.isDehydrated;if(C&&(za(E,g).flags|=256),g=hd(E,g,!1),g!==2){if(sd&&!C){E.errorRecoveryDisabledLanes|=f,$r|=f,h=4;break t}f=gn,gn=h,f!==null&&(gn===null?gn=f:gn.push.apply(gn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){za(e,0),Bs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Bs(o,n,Nn,!Ls);break t;case 2:gn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=rc+300-ln(),10<h)){if(Bs(o,n,Nn,!Ls),ci(o,0,!0)!==0)break t;rs=n,o.timeoutHandle=p_(Py.bind(null,o,s,gn,oc,ad,n,Nn,$r,ja,Ls,f,"Throttled",-0,0),h);break t}Py(o,s,gn,oc,ad,n,Nn,$r,ja,Ls,f,null,-0,0)}}break}while(!0);Ci(e)}function Py(e,n,s,o,h,f,g,E,C,P,Q,X,z,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Jn},Dy(n,f,X);var lt=(f&62914560)===f?rc-ln():(f&4194048)===f?ky-ln():0;if(lt=LA(X,lt),lt!==null){rs=f,e.cancelPendingCommit=lt(Ky.bind(null,e,n,f,s,o,h,g,E,C,Q,X,null,z,H)),Bs(e,f,g,!P);return}}Ky(e,n,f,s,o,h,g,E,C)}function WT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!Sn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Bs(e,n,s,o){n&=~rd,n&=~$r,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-_e(h),g=1<<f;o[f]=-1,h&=~g}s!==0&&wr(e,s,n)}function lc(){return(Yt&6)===0?(pl(0),!1):!0}function cd(){if(Mt!==null){if(Jt===0)var e=Mt.return;else e=Mt,Yi=Br=null,Rf(e),Ia=null,Zo=0,e=Mt;for(;e!==null;)gy(e.alternate,e),e=e.return;Mt=null}}function za(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,vA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),rs=0,cd(),se=e,Mt=s=Qi(e.current,null),kt=n,Jt=0,Cn=null,Ls=!1,La=Xn(e,n),sd=!1,ja=Nn=rd=$r=js=pe=0,gn=dl=null,ad=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-_e(o),f=1<<h;n|=e[h],o&=~f}return ss=n,Nu(),s}function zy(e,n){Ct=null,B.H=rl,n===Na||n===Lu?(n=ng(),Jt=3):n===mf?(n=ng(),Jt=4):Jt=n===qf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Cn=n,Mt===null&&(pe=1,Zu(e,Pn(n,e.current)))}function By(){var e=Rn.current;return e===null?!0:(kt&4194048)===kt?Hn===null:(kt&62914560)===kt||(kt&536870912)!==0?e===Hn:!1}function qy(){var e=B.H;return B.H=rl,e===null?rl:e}function Hy(){var e=B.A;return B.A=ZT,e}function uc(){pe=4,Ls||(kt&4194048)!==kt&&Rn.current!==null||(La=!0),(js&134217727)===0&&($r&134217727)===0||se===null||Bs(se,kt,Nn,!1)}function hd(e,n,s){var o=Yt;Yt|=2;var h=qy(),f=Hy();(se!==e||kt!==n)&&(oc=null,za(e,n)),n=!1;var g=pe;t:do try{if(Jt!==0&&Mt!==null){var E=Mt,C=Cn;switch(Jt){case 8:cd(),g=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Jt;if(Jt=0,Cn=null,Ba(e,E,C,P),s&&La){g=0;break t}break;default:P=Jt,Jt=0,Cn=null,Ba(e,E,C,P)}}tA(),g=pe;break}catch(Q){zy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,Yi=Br=null,Yt=o,B.H=h,B.A=f,Mt===null&&(se=null,kt=0,Nu()),g}function tA(){for(;Mt!==null;)Fy(Mt)}function eA(e,n){var s=Yt;Yt|=2;var o=qy(),h=Hy();se!==e||kt!==n?(oc=null,ac=ln()+500,za(e,n)):La=Xn(e,n);t:do try{if(Jt!==0&&Mt!==null){n=Mt;var f=Cn;e:switch(Jt){case 1:Jt=0,Cn=null,Ba(e,n,f,1);break;case 2:case 9:if(tg(f)){Jt=0,Cn=null,Gy(n);break}n=function(){Jt!==2&&Jt!==9||se!==e||(Jt=7),Ci(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:tg(f)?(Jt=0,Cn=null,Gy(n)):(Jt=0,Cn=null,Ba(e,n,f,7));break;case 5:var g=null;switch(Mt.tag){case 26:g=Mt.memoizedState;case 5:case 27:var E=Mt;if(g?I_(g):E.stateNode.complete){Jt=0,Cn=null;var C=E.sibling;if(C!==null)Mt=C;else{var P=E.return;P!==null?(Mt=P,cc(P)):Mt=null}break e}}Jt=0,Cn=null,Ba(e,n,f,5);break;case 6:Jt=0,Cn=null,Ba(e,n,f,6);break;case 8:cd(),pe=6;break t;default:throw Error(a(462))}}nA();break}catch(Q){zy(e,Q)}while(!0);return Yi=Br=null,B.H=o,B.A=h,Yt=s,Mt!==null?0:(se=null,kt=0,Nu(),pe)}function nA(){for(;Mt!==null&&!zh();)Fy(Mt)}function Fy(e){var n=my(e.alternate,e,ss);e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function Gy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ly(s,n,n.pendingProps,n.type,void 0,kt);break;case 11:n=ly(s,n,n.pendingProps,n.type.render,n.ref,kt);break;case 5:Rf(n);default:gy(s,n),n=Mt=Hp(n,ss),n=my(s,n,ss)}e.memoizedProps=e.pendingProps,n===null?cc(e):Mt=n}function Ba(e,n,s,o){Yi=Br=null,Rf(n),Ia=null,Zo=0;var h=n.return;try{if(FT(e,h,n,s,kt)){pe=1,Zu(e,Pn(s,e.current)),Mt=null;return}}catch(f){if(h!==null)throw Mt=h,f;pe=1,Zu(e,Pn(s,e.current)),Mt=null;return}n.flags&32768?(zt||o===1?e=!0:La||(kt&536870912)!==0?e=!1:(Ls=e=!0,(o===2||o===9||o===3||o===6)&&(o=Rn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Qy(n,e)):cc(n)}function cc(e){var n=e;do{if((n.flags&32768)!==0){Qy(n,Ls);return}e=n.return;var s=KT(n.alternate,n,ss);if(s!==null){Mt=s;return}if(n=n.sibling,n!==null){Mt=n;return}Mt=n=e}while(n!==null);pe===0&&(pe=5)}function Qy(e,n){do{var s=YT(e.alternate,e);if(s!==null){s.flags&=32767,Mt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Mt=e;return}Mt=e=s}while(e!==null);pe=6,Mt=null}function Ky(e,n,s,o,h,f,g,E,C){e.cancelPendingCommit=null;do hc();while(Ue!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Jh,Hh(e,s,f,g,E,C),e===se&&(Mt=se=null,kt=0),Pa=n,zs=e,rs=s,od=f,ld=h,Uy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,aA(ys,function(){return Jy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=B.T,B.T=null,h=tt.p,tt.p=2,g=Yt,Yt|=4;try{XT(e,n,s)}finally{Yt=g,tt.p=h,B.T=o}}Ue=1,Yy(),Xy(),$y()}}function Yy(){if(Ue===1){Ue=0;var e=zs,n=Pa,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=B.T,B.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{Cy(n,e);var f=bd,g=Vp(e.containerInfo),E=f.focusedElem,C=f.selectionRange;if(g!==E&&E&&E.ownerDocument&&Op(E.ownerDocument.documentElement,E)){if(C!==null&&Kh(E)){var P=C.start,Q=C.end;if(Q===void 0&&(Q=P),"selectionStart"in E)E.selectionStart=P,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,z=X&&X.defaultView||window;if(z.getSelection){var H=z.getSelection(),lt=E.textContent.length,yt=Math.min(C.start,lt),ie=C.end===void 0?yt:Math.min(C.end,lt);!H.extend&&yt>ie&&(g=ie,ie=yt,yt=g);var U=Mp(E,yt),O=Mp(E,ie);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=X.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),yt>ie?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var K=X[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}bc=!!Ad,bd=Ad=null}finally{Yt=h,tt.p=o,B.T=s}}e.current=n,Ue=2}}function Xy(){if(Ue===2){Ue=0;var e=zs,n=Pa,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=B.T,B.T=null;var o=tt.p;tt.p=2;var h=Yt;Yt|=4;try{by(e,n.alternate,n)}finally{Yt=h,tt.p=o,B.T=s}}Ue=3}}function $y(){if(Ue===4||Ue===3){Ue=0,eu();var e=zs,n=Pa,s=rs,o=Uy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Pa=zs=null,Zy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ps=null),qi(s),n=n.stateNode,Ge&&typeof Ge.onCommitFiberRoot=="function")try{Ge.onCommitFiberRoot(Yn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=B.T,h=tt.p,tt.p=2,B.T=null;try{for(var f=e.onRecoverableError,g=0;g<o.length;g++){var E=o[g];f(E.value,{componentStack:E.stack})}}finally{B.T=n,tt.p=h}}(rs&3)!==0&&hc(),Ci(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ud?ml++:(ml=0,ud=e):ml=0,pl(0)}}function Zy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Xo(n)))}function hc(){return Yy(),Xy(),$y(),Jy()}function Jy(){if(Ue!==5)return!1;var e=zs,n=od;od=0;var s=qi(rs),o=B.T,h=tt.p;try{tt.p=32>s?32:s,B.T=null,s=ld,ld=null;var f=zs,g=rs;if(Ue=0,Pa=zs=null,rs=0,(Yt&6)!==0)throw Error(a(331));var E=Yt;if(Yt|=4,Oy(f.current),Iy(f,f.current,g,s),Yt=E,pl(0,!1),Ge&&typeof Ge.onPostCommitFiberRoot=="function")try{Ge.onPostCommitFiberRoot(Yn,f)}catch{}return!0}finally{tt.p=h,B.T=o,Zy(e,n)}}function Wy(e,n,s){n=Pn(s,n),n=Bf(e.stateNode,n,2),e=Os(e,n,2),e!==null&&(Sr(e,2),Ci(e))}function Wt(e,n,s){if(e.tag===3)Wy(e,e,s);else for(;n!==null;){if(n.tag===3){Wy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ps===null||!Ps.has(o))){e=Pn(s,e),s=ty(2),o=Os(n,s,2),o!==null&&(ey(s,o,n,e),Sr(o,2),Ci(o));break}}n=n.return}}function fd(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new JT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(sd=!0,h.add(s),e=iA.bind(null,e,n,s),n.then(e,e))}function iA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,se===e&&(kt&s)===s&&(pe===4||pe===3&&(kt&62914560)===kt&&300>ln()-rc?(Yt&2)===0&&za(e,0):rd|=s,ja===kt&&(ja=0)),Ci(e)}function t_(e,n){n===0&&(n=ou()),e=jr(e,n),e!==null&&(Sr(e,n),Ci(e))}function sA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),t_(e,s)}function rA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),t_(e,s)}function aA(e,n){return ke(e,n)}var fc=null,qa=null,dd=!1,dc=!1,md=!1,qs=0;function Ci(e){e!==qa&&e.next===null&&(qa===null?fc=qa=e:qa=qa.next=e),dc=!0,dd||(dd=!0,lA())}function pl(e,n){if(!md&&dc){md=!0;do for(var s=!1,o=fc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var g=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-_e(42|e)+1)-1,f&=h&~(g&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,s_(o,f))}else f=kt,f=ci(o,o===se?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Xn(o,f)||(s=!0,s_(o,f));o=o.next}while(s);md=!1}}function oA(){e_()}function e_(){dc=dd=!1;var e=0;qs!==0&&_A()&&(e=qs);for(var n=ln(),s=null,o=fc;o!==null;){var h=o.next,f=n_(o,n);f===0?(o.next=null,s===null?fc=h:s.next=h,h===null&&(qa=s)):(s=o,(e!==0||(f&3)!==0)&&(dc=!0)),o=h}Ue!==0&&Ue!==5||pl(e),qs!==0&&(qs=0)}function n_(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-_e(f),E=1<<g,C=h[g];C===-1?((E&s)===0||(E&o)!==0)&&(h[g]=qh(E,n)):C<=n&&(e.expiredLanes|=E),f&=~E}if(n=se,s=kt,s=ci(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&gs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Xn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&gs(o),qi(s)){case 2:case 8:s=wo;break;case 32:s=ys;break;case 268435456:s=nu;break;default:s=ys}return o=i_.bind(null,e),s=ke(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&gs(o),e.callbackPriority=2,e.callbackNode=null,2}function i_(e,n){if(Ue!==0&&Ue!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(hc()&&e.callbackNode!==s)return null;var o=kt;return o=ci(e,e===se?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(jy(e,o,n),n_(e,ln()),e.callbackNode!=null&&e.callbackNode===s?i_.bind(null,e):null)}function s_(e,n){if(hc())return null;jy(e,n,!0)}function lA(){EA(function(){(Yt&6)!==0?ke(So,oA):e_()})}function pd(){if(qs===0){var e=xa;e===0&&(e=li,li<<=1,(li&261888)===0&&(li=256)),qs=e}return qs}function r_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:fa(""+e)}function a_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function uA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=r_((h[ze]||null).action),g=o.submitter;g&&(n=(n=g[ze]||null)?r_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var E=new Ti("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(qs!==0){var C=g?a_(h,g):new FormData(h);kf(s,{pending:!0,data:C,method:h.method,action:f},null,C)}}else typeof f=="function"&&(E.preventDefault(),C=g?a_(h,g):new FormData(h),kf(s,{pending:!0,data:C,method:h.method,action:f},f,C))},currentTarget:h}]})}}for(var gd=0;gd<Zh.length;gd++){var yd=Zh[gd],cA=yd.toLowerCase(),hA=yd[0].toUpperCase()+yd.slice(1);ii(cA,"on"+hA)}ii(Lp,"onAnimationEnd"),ii(jp,"onAnimationIteration"),ii(Pp,"onAnimationStart"),ii("dblclick","onDoubleClick"),ii("focusin","onFocus"),ii("focusout","onBlur"),ii(xT,"onTransitionRun"),ii(CT,"onTransitionStart"),ii(NT,"onTransitionCancel"),ii(zp,"onTransitionEnd"),yi("onMouseEnter",["mouseout","mouseover"]),yi("onMouseLeave",["mouseout","mouseover"]),yi("onPointerEnter",["pointerout","pointerover"]),yi("onPointerLeave",["pointerout","pointerover"]),gi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gi("onBeforeInput",["compositionend","keypress","textInput","paste"]),gi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function o_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var g=o.length-1;0<=g;g--){var E=o[g],C=E.instance,P=E.currentTarget;if(E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=C}else for(g=0;g<o.length;g++){if(E=o[g],C=E.instance,P=E.currentTarget,E=E.listener,C!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=P;try{f(h)}catch(Q){Cu(Q)}h.currentTarget=null,f=C}}}}function Ot(e,n){var s=n[oa];s===void 0&&(s=n[oa]=new Set);var o=e+"__bubble";s.has(o)||(l_(n,e,2,!1),s.add(o))}function _d(e,n,s){var o=0;n&&(o|=4),l_(s,e,o,n)}var mc="_reactListening"+Math.random().toString(36).slice(2);function vd(e){if(!e[mc]){e[mc]=!0,Co.forEach(function(s){s!=="selectionchange"&&(fA.has(s)||_d(s,!1,e),_d(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[mc]||(n[mc]=!0,_d("selectionchange",!1,n))}}function l_(e,n,s,o){switch(L_(n)){case 2:var h=zA;break;case 8:h=BA;break;default:h=Vd}s=h.bind(null,n,s,e),h=void 0,!Ir||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function Ed(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var g=o.tag;if(g===3||g===4){var E=o.stateNode.containerInfo;if(E===h)break;if(g===4)for(g=o.return;g!==null;){var C=g.tag;if((C===3||C===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;E!==null;){if(g=mi(E),g===null)return;if(C=g.tag,C===5||C===6||C===26||C===27){o=f=g;continue t}E=E.parentNode}}o=o.return}bs(function(){var P=f,Q=kn(s),X=[];t:{var z=Bp.get(e);if(z!==void 0){var H=Ti,lt=e;switch(e){case"keypress":if(Mr(s)===0)break t;case"keydown":case"keyup":H=wu;break;case"focusin":lt="focus",H=Vr;break;case"focusout":lt="blur",H=Vr;break;case"beforeblur":case"afterblur":H=Vr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Bo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=gu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Lp:case jp:case Pp:H=_u;break;case zp:H=A;break;case"scroll":case"scrollend":H=zo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Gi;break;case"toggle":case"beforetoggle":H=xt}var yt=(n&4)!==0,ie=!yt&&(e==="scroll"||e==="scrollend"),U=yt?z!==null?z+"Capture":null:z;yt=[];for(var O=P,j;O!==null;){var K=O;if(j=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||j===null||U===null||(K=Wn(O,U),K!=null&&yt.push(yl(O,K,j))),ie)break;O=O.return}0<yt.length&&(z=new H(z,lt,null,s,Q),X.push({event:z,listeners:yt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",z&&s!==Lo&&(lt=s.relatedTarget||s.fromElement)&&(mi(lt)||lt[fi]))break t;if((H||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,H?(lt=s.relatedTarget||s.toElement,H=P,lt=lt?mi(lt):null,lt!==null&&(ie=c(lt),yt=lt.tag,lt!==ie||yt!==5&&yt!==27&&yt!==6)&&(lt=null)):(H=null,lt=P),H!==lt)){if(yt=Bo,K="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(yt=Gi,K="onPointerLeave",U="onPointerEnter",O="pointer"),ie=H==null?z:An(H),j=lt==null?z:An(lt),z=new yt(K,O+"leave",H,s,Q),z.target=ie,z.relatedTarget=j,K=null,mi(Q)===P&&(yt=new yt(U,O+"enter",lt,s,Q),yt.target=j,yt.relatedTarget=ie,K=yt),ie=K,H&&lt)e:{for(yt=dA,U=H,O=lt,j=0,K=U;K;K=yt(K))j++;K=0;for(var mt=O;mt;mt=yt(mt))K++;for(;0<j-K;)U=yt(U),j--;for(;0<K-j;)O=yt(O),K--;for(;j--;){if(U===O||O!==null&&U===O.alternate){yt=U;break e}U=yt(U),O=yt(O)}yt=null}else yt=null;H!==null&&u_(X,z,H,yt,!1),lt!==null&&ie!==null&&u_(X,ie,lt,yt,!0)}}t:{if(z=P?An(P):window,H=z.nodeName&&z.nodeName.toLowerCase(),H==="select"||H==="input"&&z.type==="file")var Ft=Rp;else if(Sp(z))if(xp)Ft=ST;else{Ft=AT;var ht=TT}else H=z.nodeName,!H||H.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&ha(P.elementType)&&(Ft=Rp):Ft=bT;if(Ft&&(Ft=Ft(e,P))){wp(X,Ft,s,Q);break t}ht&&ht(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Vo(z,"number",z.value)}switch(ht=P?An(P):window,e){case"focusin":(Sp(ht)||ht.contentEditable==="true")&&(va=ht,Yh=P,Qo=null);break;case"focusout":Qo=Yh=va=null;break;case"mousedown":Xh=!0;break;case"contextmenu":case"mouseup":case"dragend":Xh=!1,kp(X,s,Q);break;case"selectionchange":if(RT)break;case"keydown":case"keyup":kp(X,s,Q)}var Nt;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else _a?kr(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Si&&s.locale!=="ko"&&(_a||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&_a&&(Nt=Po()):(Ei=Q,jo="value"in Ei?Ei.value:Ei.textContent,_a=!0)),ht=pc(P,Ut),0<ht.length&&(Ut=new bi(Ut,e,null,s,Q),X.push({event:Ut,listeners:ht}),Nt?Ut.data=Nt:(Nt=ya(s),Nt!==null&&(Ut.data=Nt)))),(Nt=Ln?yT(e,s):_T(e,s))&&(Ut=pc(P,"onBeforeInput"),0<Ut.length&&(ht=new bi("onBeforeInput","beforeinput",null,s,Q),X.push({event:ht,listeners:Ut}),ht.data=Nt)),uA(X,e,P,s,Q)}o_(X,n)})}function yl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function pc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Wn(e,s),h!=null&&o.unshift(yl(e,h,f)),h=Wn(e,n),h!=null&&o.push(yl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function dA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function u_(e,n,s,o,h){for(var f=n._reactName,g=[];s!==null&&s!==o;){var E=s,C=E.alternate,P=E.stateNode;if(E=E.tag,C!==null&&C===o)break;E!==5&&E!==26&&E!==27||P===null||(C=P,h?(P=Wn(s,f),P!=null&&g.unshift(yl(s,P,C))):h||(P=Wn(s,f),P!=null&&g.push(yl(s,P,C)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var mA=/\r\n?/g,pA=/\u0000|\uFFFD/g;function c_(e){return(typeof e=="string"?e:""+e).replace(mA,`
`).replace(pA,"")}function h_(e,n){return n=c_(n),c_(e)===n}function ne(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||fn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&fn(e,""+o);break;case"className":bn(e,"class",o);break;case"tabIndex":bn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":bn(e,s,o);break;case"style":Uo(e,o,f);break;case"data":if(n!=="object"){bn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ne(e,n,"name",h.name,h,null),ne(e,n,"formEncType",h.formEncType,h,null),ne(e,n,"formMethod",h.formMethod,h,null),ne(e,n,"formTarget",h.formTarget,h,null)):(ne(e,n,"encType",h.encType,h,null),ne(e,n,"method",h.method,h,null),ne(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=fa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=fa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ot("beforetoggle",e),Ot("toggle",e),ua(e,"popover",o);break;case"xlinkActuate":Ce(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ce(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ce(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ce(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ce(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ce(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ce(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ua(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=pu.get(s)||s,ua(e,s,o))}}function Td(e,n,s,o,h,f){switch(s){case"style":Uo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?fn(e,o):(typeof o=="number"||typeof o=="bigint")&&fn(e,""+o);break;case"onScroll":o!=null&&Ot("scroll",e);break;case"onScrollEnd":o!=null&&Ot("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!No.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ze]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ua(e,s,o)}}}function $e(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ot("error",e),Ot("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,f,g,s,null)}}h&&ne(e,n,"srcSet",s.srcSet,s,null),o&&ne(e,n,"src",s.src,s,null);return;case"input":Ot("invalid",e);var E=f=g=h=null,C=null,P=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":g=Q;break;case"checked":C=Q;break;case"defaultChecked":P=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:ne(e,n,o,Q,s,null)}}fu(e,f,E,C,P,g,h,!1);return;case"select":Ot("invalid",e),o=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":g=E;break;case"multiple":o=E;default:ne(e,n,h,E,s,null)}n=f,s=g,e.multiple=!!o,n!=null?vs(e,!!o,n,!1):s!=null&&vs(e,!!o,s,!0);return;case"textarea":Ot("invalid",e),f=h=o=null;for(g in s)if(s.hasOwnProperty(g)&&(E=s[g],E!=null))switch(g){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:ne(e,n,g,E,s,null)}Es(e,o,h,f);return;case"option":for(C in s)s.hasOwnProperty(C)&&(o=s[C],o!=null)&&(C==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":ne(e,n,C,o,s,null));return;case"dialog":Ot("beforetoggle",e),Ot("toggle",e),Ot("cancel",e),Ot("close",e);break;case"iframe":case"object":Ot("load",e);break;case"video":case"audio":for(o=0;o<gl.length;o++)Ot(gl[o],e);break;case"image":Ot("error",e),Ot("load",e);break;case"details":Ot("toggle",e);break;case"embed":case"source":case"link":Ot("error",e),Ot("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(o=s[P],o!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ne(e,n,P,o,s,null)}return;default:if(ha(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&Td(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&ne(e,n,E,o,s,null))}function gA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,E=null,C=null,P=null,Q=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":C=X;default:o.hasOwnProperty(H)||ne(e,n,H,null,o,X)}}for(var z in o){var H=o[z];if(X=s[z],o.hasOwnProperty(z)&&(H!=null||X!=null))switch(z){case"type":f=H;break;case"name":h=H;break;case"checked":P=H;break;case"defaultChecked":Q=H;break;case"value":g=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&ne(e,n,z,H,o,X)}}ca(e,g,E,C,P,Q,f,h);return;case"select":H=g=E=z=null;for(f in s)if(C=s[f],s.hasOwnProperty(f)&&C!=null)switch(f){case"value":break;case"multiple":H=C;default:o.hasOwnProperty(f)||ne(e,n,f,null,o,C)}for(h in o)if(f=o[h],C=s[h],o.hasOwnProperty(h)&&(f!=null||C!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":g=f;default:f!==C&&ne(e,n,h,f,o,C)}n=E,s=g,o=H,z!=null?vs(e,!!s,z,!1):!!o!=!!s&&(n!=null?vs(e,!!s,n,!0):vs(e,!!s,s?[]:"",!1));return;case"textarea":H=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ne(e,n,E,null,o,h)}for(g in o)if(h=o[g],f=s[g],o.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ne(e,n,g,h,o,f)}du(e,z,H);return;case"option":for(var lt in s)z=s[lt],s.hasOwnProperty(lt)&&z!=null&&!o.hasOwnProperty(lt)&&(lt==="selected"?e.selected=!1:ne(e,n,lt,null,o,z));for(C in o)z=o[C],H=s[C],o.hasOwnProperty(C)&&z!==H&&(z!=null||H!=null)&&(C==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ne(e,n,C,z,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var yt in s)z=s[yt],s.hasOwnProperty(yt)&&z!=null&&!o.hasOwnProperty(yt)&&ne(e,n,yt,null,o,z);for(P in o)if(z=o[P],H=s[P],o.hasOwnProperty(P)&&z!==H&&(z!=null||H!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ne(e,n,P,z,o,H)}return;default:if(ha(n)){for(var ie in s)z=s[ie],s.hasOwnProperty(ie)&&z!==void 0&&!o.hasOwnProperty(ie)&&Td(e,n,ie,void 0,o,z);for(Q in o)z=o[Q],H=s[Q],!o.hasOwnProperty(Q)||z===H||z===void 0&&H===void 0||Td(e,n,Q,z,o,H);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&ne(e,n,U,null,o,z);for(X in o)z=o[X],H=s[X],!o.hasOwnProperty(X)||z===H||z==null&&H==null||ne(e,n,X,z,o,H)}function f_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,g=h.initiatorType,E=h.duration;if(f&&E&&f_(g)){for(g=0,E=h.responseEnd,o+=1;o<s.length;o++){var C=s[o],P=C.startTime;if(P>E)break;var Q=C.transferSize,X=C.initiatorType;Q&&f_(X)&&(C=C.responseEnd,g+=Q*(C<E?1:(E-P)/(C-P)))}if(--o,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Ad=null,bd=null;function gc(e){return e.nodeType===9?e:e.ownerDocument}function d_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function m_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Sd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var wd=null;function _A(){var e=window.event;return e&&e.type==="popstate"?e===wd?!1:(wd=e,!0):(wd=null,!1)}var p_=typeof setTimeout=="function"?setTimeout:void 0,vA=typeof clearTimeout=="function"?clearTimeout:void 0,g_=typeof Promise=="function"?Promise:void 0,EA=typeof queueMicrotask=="function"?queueMicrotask:typeof g_<"u"?function(e){return g_.resolve(null).then(e).catch(TA)}:p_;function TA(e){setTimeout(function(){throw e})}function Hs(e){return e==="head"}function y_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")_l(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,_l(s);for(var f=s.firstChild;f;){var g=f.nextSibling,E=f.nodeName;f[di]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&_l(e.ownerDocument.body);s=h}while(s);Qa(n)}function __(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),la(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function AA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[di])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Fn(e.nextSibling),e===null)break}return null}function bA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Fn(e.nextSibling),e===null))return null;return e}function v_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Fn(e.nextSibling),e===null))return null;return e}function xd(e){return e.data==="$?"||e.data==="$~"}function Cd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function SA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Fn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Nd=null;function E_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Fn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function T_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function A_(e,n,s){switch(n=gc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function _l(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);la(e)}var Gn=new Map,b_=new Set;function yc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var as=tt.d;tt.d={f:wA,r:RA,D:xA,C:CA,L:NA,m:IA,X:MA,S:DA,M:OA};function wA(){var e=as.f(),n=lc();return e||n}function RA(e){var n=Vn(e);n!==null&&n.tag===5&&n.type==="form"?zg(n):as.r(e)}var Ha=typeof document>"u"?null:document;function S_(e,n,s){var o=Ha;if(o&&typeof n=="string"&&n){var h=hn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),b_.has(h)||(b_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),$e(n,"link",e),xe(n),o.head.appendChild(n)))}}function xA(e){as.D(e),S_("dns-prefetch",e,null)}function CA(e,n){as.C(e,n),S_("preconnect",e,n)}function NA(e,n,s){as.L(e,n,s);var o=Ha;if(o&&e&&n){var h='link[rel="preload"][as="'+hn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+hn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+hn(s.imageSizes)+'"]')):h+='[href="'+hn(e)+'"]';var f=h;switch(n){case"style":f=Fa(e);break;case"script":f=Ga(e)}Gn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Gn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(vl(f))||n==="script"&&o.querySelector(El(f))||(n=o.createElement("link"),$e(n,"link",e),xe(n),o.head.appendChild(n)))}}function IA(e,n){as.m(e,n);var s=Ha;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+hn(o)+'"][href="'+hn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ga(e)}if(!Gn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Gn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(El(f)))return}o=s.createElement("link"),$e(o,"link",e),xe(o),s.head.appendChild(o)}}}function DA(e,n,s){as.S(e,n,s);var o=Ha;if(o&&e){var h=pi(o).hoistableStyles,f=Fa(e);n=n||"default";var g=h.get(f);if(!g){var E={loading:0,preload:null};if(g=o.querySelector(vl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Gn.get(f))&&Id(e,s);var C=g=o.createElement("link");xe(C),$e(C,"link",e),C._p=new Promise(function(P,Q){C.onload=P,C.onerror=Q}),C.addEventListener("load",function(){E.loading|=1}),C.addEventListener("error",function(){E.loading|=2}),E.loading|=4,_c(g,n,o)}g={type:"stylesheet",instance:g,count:1,state:E},h.set(f,g)}}}function MA(e,n){as.X(e,n);var s=Ha;if(s&&e){var o=pi(s).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=s.querySelector(El(h)),f||(e=S({src:e,async:!0},n),(n=Gn.get(h))&&Dd(e,n),f=s.createElement("script"),xe(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function OA(e,n){as.M(e,n);var s=Ha;if(s&&e){var o=pi(s).hoistableScripts,h=Ga(e),f=o.get(h);f||(f=s.querySelector(El(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Gn.get(h))&&Dd(e,n),f=s.createElement("script"),xe(f),$e(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function w_(e,n,s,o){var h=(h=Rt.current)?yc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Fa(s.href),s=pi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Fa(s.href);var f=pi(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(vl(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Gn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Gn.set(e,s),f||VA(h,e,s,g.state))),n&&o===null)throw Error(a(528,""));return g}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ga(s),s=pi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Fa(e){return'href="'+hn(e)+'"'}function vl(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function VA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),$e(n,"link",s),xe(n),e.head.appendChild(n))}function Ga(e){return'[src="'+hn(e)+'"]'}function El(e){return"script[async]"+e}function x_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+hn(s.href)+'"]');if(o)return n.instance=o,xe(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),xe(o),$e(o,"style",h),_c(o,s.precedence,e),n.instance=o;case"stylesheet":h=Fa(s.href);var f=e.querySelector(vl(h));if(f)return n.state.loading|=4,n.instance=f,xe(f),f;o=R_(s),(h=Gn.get(h))&&Id(o,h),f=(e.ownerDocument||e).createElement("link"),xe(f);var g=f;return g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),$e(f,"link",o),n.state.loading|=4,_c(f,s.precedence,e),n.instance=f;case"script":return f=Ga(s.src),(h=e.querySelector(El(f)))?(n.instance=h,xe(h),h):(o=s,(h=Gn.get(f))&&(o=S({},s),Dd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),xe(h),$e(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,_c(o,s.precedence,e));return n.instance}function _c(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,g=0;g<o.length;g++){var E=o[g];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Id(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Dd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var vc=null;function C_(e,n,s){if(vc===null){var o=new Map,h=vc=new Map;h.set(s,o)}else h=vc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[di]||f[Re]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var E=o.get(g);E?E.push(f):o.set(g,[f])}}return o}function N_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function kA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function I_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function UA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Fa(o.href),f=n.querySelector(vl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Ec.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,xe(f);return}f=n.ownerDocument||n,o=R_(o),(h=Gn.get(h))&&Id(o,h),f=f.createElement("link"),xe(f);var g=f;g._p=new Promise(function(E,C){g.onload=E,g.onerror=C}),$e(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=Ec.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Md=0;function LA(e,n){return e.stylesheets&&e.count===0&&Ac(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Md===0&&(Md=62500*yA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ac(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Md?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function Ec(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ac(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tc=null;function Ac(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tc=new Map,n.forEach(jA,e),Tc=null,Ec.call(e))}function jA(e,n){if(!(n.state.loading&4)){var s=Tc.get(e);if(s)var o=s.get(null);else{s=new Map,Tc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),o=g)}o&&s.set(null,o)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||o,f===o&&s.set(null,h),s.set(g,h),this.count++,o=Ec.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Tl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:ot,_currentValue2:ot,_threadCount:0};function PA(e,n,s,o,h,f,g,E,C){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=hi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hi(0),this.hiddenUpdates=hi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=C,this.incompleteTransitions=new Map}function D_(e,n,s,o,h,f,g,E,C,P,Q,X){return e=new PA(e,n,s,g,C,P,Q,X,E),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=hf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},pf(f),e}function M_(e){return e?(e=Aa,e):Aa}function O_(e,n,s,o,h,f){h=M_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ms(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Os(e,o,n),s!==null&&(yn(s,e,n),Wo(s,e,n))}function V_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Od(e,n){V_(e,n),(e=e.alternate)&&V_(e,n)}function k_(e){if(e.tag===13||e.tag===31){var n=jr(e,67108864);n!==null&&yn(n,e,67108864),Od(e,67108864)}}function U_(e){if(e.tag===13||e.tag===31){var n=In();n=Rr(n);var s=jr(e,n);s!==null&&yn(s,e,n),Od(e,n)}}var bc=!0;function zA(e,n,s,o){var h=B.T;B.T=null;var f=tt.p;try{tt.p=2,Vd(e,n,s,o)}finally{tt.p=f,B.T=h}}function BA(e,n,s,o){var h=B.T;B.T=null;var f=tt.p;try{tt.p=8,Vd(e,n,s,o)}finally{tt.p=f,B.T=h}}function Vd(e,n,s,o){if(bc){var h=kd(o);if(h===null)Ed(e,n,o,Sc,s),j_(e,o);else if(HA(h,e,n,s,o))o.stopPropagation();else if(j_(e,o),n&4&&-1<qA.indexOf(e)){for(;h!==null;){var f=Vn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=ui(f.pendingLanes);if(g!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;g;){var C=1<<31-_e(g);E.entanglements[1]|=C,g&=~C}Ci(f),(Yt&6)===0&&(ac=ln()+500,pl(0))}}break;case 31:case 13:E=jr(f,2),E!==null&&yn(E,f,2),lc(),Od(f,2)}if(f=kd(o),f===null&&Ed(e,n,o,Sc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else Ed(e,n,o,null,s)}}function kd(e){return e=kn(e),Ud(e)}var Sc=null;function Ud(e){if(Sc=null,e=mi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Sc=e,null}function L_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case So:return 2;case wo:return 8;case ys:case Bh:return 32;case nu:return 268435456;default:return 32}default:return 32}}var Ld=!1,Fs=null,Gs=null,Qs=null,Al=new Map,bl=new Map,Ks=[],qA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function j_(e,n){switch(e){case"focusin":case"focusout":Fs=null;break;case"dragenter":case"dragleave":Gs=null;break;case"mouseover":case"mouseout":Qs=null;break;case"pointerover":case"pointerout":Al.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(n.pointerId)}}function Sl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Vn(n),n!==null&&k_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function HA(e,n,s,o,h){switch(n){case"focusin":return Fs=Sl(Fs,e,n,s,o,h),!0;case"dragenter":return Gs=Sl(Gs,e,n,s,o,h),!0;case"mouseover":return Qs=Sl(Qs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return Al.set(f,Sl(Al.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,bl.set(f,Sl(bl.get(f)||null,e,n,s,o,h)),!0}return!1}function P_(e){var n=mi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,$n(e.priority,function(){U_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,$n(e.priority,function(){U_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function wc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=kd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Lo=o,s.target.dispatchEvent(o),Lo=null}else return n=Vn(s),n!==null&&k_(n),e.blockedOn=s,!1;n.shift()}return!0}function z_(e,n,s){wc(e)&&s.delete(n)}function FA(){Ld=!1,Fs!==null&&wc(Fs)&&(Fs=null),Gs!==null&&wc(Gs)&&(Gs=null),Qs!==null&&wc(Qs)&&(Qs=null),Al.forEach(z_),bl.forEach(z_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Ld||(Ld=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,FA)))}var xc=null;function B_(e){xc!==e&&(xc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){xc===e&&(xc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Ud(o||s)===null)continue;break}var f=Vn(s);f!==null&&(e.splice(n,3),n-=3,kf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Qa(e){function n(C){return Rc(C,e)}Fs!==null&&Rc(Fs,e),Gs!==null&&Rc(Gs,e),Qs!==null&&Rc(Qs,e),Al.forEach(n),bl.forEach(n);for(var s=0;s<Ks.length;s++){var o=Ks[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ks.length&&(s=Ks[0],s.blockedOn===null);)P_(s),s.blockedOn===null&&Ks.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],g=h[ze]||null;if(typeof f=="function")g||B_(s);else if(g){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[ze]||null)E=g.formAction;else if(Ud(h)!==null)continue}else E=g.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),B_(s)}}}function q_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function jd(e){this._internalRoot=e}Cc.prototype.render=jd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=In();O_(s,o,e,n,null,null)},Cc.prototype.unmount=jd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;O_(e.current,2,null,e,null,null),lc(),n[fi]=null}};function Cc(e){this._internalRoot=e}Cc.prototype.unstable_scheduleHydration=function(e){if(e){var n=lu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ks.length&&n!==0&&n<Ks[s].priority;s++);Ks.splice(s,0,e),s===0&&P_(e)}};var H_=t.version;if(H_!=="19.2.3")throw Error(a(527,H_,"19.2.3"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var GA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nc.isDisabled&&Nc.supportsFiber)try{Yn=Nc.inject(GA),Ge=Nc}catch{}}return Rl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=$g,f=Zg,g=Jg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=D_(e,1,!1,null,null,s,o,null,h,f,g,q_),e[fi]=n.current,vd(e),new jd(n)},Rl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=$g,g=Zg,E=Jg,C=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(C=s.formState)),n=D_(e,1,!0,n,s??null,o,h,C,f,g,E,q_),n.context=M_(null),s=n.current,o=In(),o=Rr(o),h=Ms(o),h.callback=null,Os(s,h,o),s=o,n.current.lanes=s,Sr(n,s),Ci(n),e[fi]=n.current,vd(e),new Cc(n)},Rl.version="19.2.3",Rl}var W_;function eb(){if(W_)return Bd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=tb(),Bd.exports}var nb=eb();const ib=()=>{};var tv={};const k0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},sb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],p=r[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},U0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,p=d?r[l+1]:0,y=l+2<r.length,_=y?r[l+2]:0,b=c>>2,S=(c&3)<<4|p>>4;let I=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(I=64)),a.push(i[b],i[S],i[I],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(k0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):sb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],p=l<r.length?i[r.charAt(l)]:0;++l;const _=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||p==null||_==null||S==null)throw new rb;const I=c<<2|p>>4;if(a.push(I),_!==64){const G=p<<4&240|_>>2;if(a.push(G),S!==64){const W=_<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class rb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ab=function(r){const t=k0(r);return U0.encodeByteArray(t,!0)},Xc=function(r){return ab(r).replace(/\./g,"")},L0=function(r){try{return U0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ob(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const lb=()=>ob().__FIREBASE_DEFAULTS__,ub=()=>{if(typeof process>"u"||typeof tv>"u")return;const r=tv.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},cb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&L0(r[1]);return t&&JSON.parse(t)},ph=()=>{try{return ib()||lb()||ub()||cb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},j0=r=>ph()?.emulatorHosts?.[r],hb=r=>{const t=j0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},P0=()=>ph()?.config,z0=r=>ph()?.[`_${r}`];class fb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function fo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function B0(r){return(await fetch(r,{credentials:"include"})).ok}function db(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Xc(JSON.stringify(i)),Xc(JSON.stringify(d)),""].join(".")}const Dl={};function mb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Dl))Dl[t]?r.emulator.push(t):r.prod.push(t);return r}function pb(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let ev=!1;function q0(r,t){if(typeof window>"u"||typeof document>"u"||!fo(window.location.host)||Dl[r]===t||Dl[r]||ev)return;Dl[r]=t;function i(I){return`__firebase__banner__${I}`}const a="__firebase__banner",c=mb().prod.length>0;function d(){const I=document.getElementById(a);I&&I.remove()}function p(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function y(I,G){I.setAttribute("width","24"),I.setAttribute("id",G),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function _(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{ev=!0,d()},I}function b(I,G){I.setAttribute("id",G),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function S(){const I=pb(a),G=i("text"),W=document.getElementById(G)||document.createElement("span"),et=i("learnmore"),J=document.getElementById(et)||document.createElement("a"),at=i("preprendIcon"),ut=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ft=I.element;p(ft),b(J,et);const dt=_();y(ut,at),ft.append(ut,W,J,dt),document.body.appendChild(ft)}c?(W.innerText="Preview backend disconnected.",ut.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ut.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function yb(){const r=ph()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function _b(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function vb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Eb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Tb(){const r=on();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Ab(){return!yb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function bb(){try{return typeof indexedDB=="object"}catch{return!1}}function Sb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const wb="FirebaseError";class ps extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=wb,Object.setPrototypeOf(this,ps.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fl.prototype.create)}}class Fl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Rb(c,a):"Error",p=`${this.serviceName}: ${d} (${l}).`;return new ps(l,p,a)}}function Rb(r,t){return r.replace(xb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const xb=/\{\$([^}]+)}/g;function Cb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function us(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(nv(c)&&nv(d)){if(!us(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function nv(r){return r!==null&&typeof r=="object"}function Gl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Nb(r,t){const i=new Ib(r,t);return i.subscribe.bind(i)}class Ib{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Db(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Gd),l.error===void 0&&(l.error=Gd),l.complete===void 0&&(l.complete=Gd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Db(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Gd(){}function Fe(r){return r&&r._delegate?r._delegate:r}class ta{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Zr="[DEFAULT]";class Mb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new fb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Vb(t))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Zr){return this.instances.has(t)}getOptions(t=Zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Ob(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Zr){return this.component?this.component.multipleInstances?t:Zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Ob(r){return r===Zr?void 0:r}function Vb(r){return r.instantiationMode==="EAGER"}class kb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Mb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const Ub={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},Lb=Lt.INFO,jb={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},Pb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=jb[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class km{constructor(t){this.name=t,this._logLevel=Lb,this._logHandler=Pb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Ub[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const zb=(r,t)=>t.some(i=>r instanceof i);let iv,sv;function Bb(){return iv||(iv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function qb(){return sv||(sv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H0=new WeakMap,rm=new WeakMap,F0=new WeakMap,Qd=new WeakMap,Um=new WeakMap;function Hb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ir(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&H0.set(i,r)}).catch(()=>{}),Um.set(t,r),t}function Fb(r){if(rm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});rm.set(r,t)}let am={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return rm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||F0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ir(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Gb(r){am=r(am)}function Qb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Kd(this),t,...i);return F0.set(a,t.sort?t.sort():[t]),ir(a)}:qb().includes(r)?function(...t){return r.apply(Kd(this),t),ir(H0.get(this))}:function(...t){return ir(r.apply(Kd(this),t))}}function Kb(r){return typeof r=="function"?Qb(r):(r instanceof IDBTransaction&&Fb(r),zb(r,Bb())?new Proxy(r,am):r)}function ir(r){if(r instanceof IDBRequest)return Hb(r);if(Qd.has(r))return Qd.get(r);const t=Kb(r);return t!==r&&(Qd.set(r,t),Um.set(t,r)),t}const Kd=r=>Um.get(r);function Yb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),p=ir(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ir(d.result),y.oldVersion,y.newVersion,ir(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const Xb=["get","getKey","getAll","getAllKeys","count"],$b=["put","add","delete","clear"],Yd=new Map;function rv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Yd.get(t))return Yd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=$b.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Xb.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),l&&y.done]))[0]};return Yd.set(t,c),c}Gb(r=>({...r,get:(t,i,a)=>rv(t,i)||r.get(t,i,a),has:(t,i)=>!!rv(t,i)||r.has(t,i)}));class Zb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Jb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Jb(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",av="0.14.6";const cs=new km("@firebase/app"),Wb="@firebase/app-compat",tS="@firebase/analytics-compat",eS="@firebase/analytics",nS="@firebase/app-check-compat",iS="@firebase/app-check",sS="@firebase/auth",rS="@firebase/auth-compat",aS="@firebase/database",oS="@firebase/data-connect",lS="@firebase/database-compat",uS="@firebase/functions",cS="@firebase/functions-compat",hS="@firebase/installations",fS="@firebase/installations-compat",dS="@firebase/messaging",mS="@firebase/messaging-compat",pS="@firebase/performance",gS="@firebase/performance-compat",yS="@firebase/remote-config",_S="@firebase/remote-config-compat",vS="@firebase/storage",ES="@firebase/storage-compat",TS="@firebase/firestore",AS="@firebase/ai",bS="@firebase/firestore-compat",SS="firebase",wS="12.6.0";const lm="[DEFAULT]",RS={[om]:"fire-core",[Wb]:"fire-core-compat",[eS]:"fire-analytics",[tS]:"fire-analytics-compat",[iS]:"fire-app-check",[nS]:"fire-app-check-compat",[sS]:"fire-auth",[rS]:"fire-auth-compat",[aS]:"fire-rtdb",[oS]:"fire-data-connect",[lS]:"fire-rtdb-compat",[uS]:"fire-fn",[cS]:"fire-fn-compat",[hS]:"fire-iid",[fS]:"fire-iid-compat",[dS]:"fire-fcm",[mS]:"fire-fcm-compat",[pS]:"fire-perf",[gS]:"fire-perf-compat",[yS]:"fire-rc",[_S]:"fire-rc-compat",[vS]:"fire-gcs",[ES]:"fire-gcs-compat",[TS]:"fire-fst",[bS]:"fire-fst-compat",[AS]:"fire-vertex","fire-js":"fire-js",[SS]:"fire-js-all"};const $c=new Map,xS=new Map,um=new Map;function ov(r,t){try{r.container.addComponent(t)}catch(i){cs.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function io(r){const t=r.name;if(um.has(t))return cs.debug(`There were multiple attempts to register component ${t}.`),!1;um.set(t,r);for(const i of $c.values())ov(i,r);for(const i of xS.values())ov(i,r);return!0}function Lm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ai(r){return r==null?!1:r.settings!==void 0}const CS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},sr=new Fl("app","Firebase",CS);class NS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ta("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw sr.create("app-deleted",{appName:this._name})}}const mo=wS;function G0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:lm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw sr.create("bad-app-name",{appName:String(l)});if(i||(i=P0()),!i)throw sr.create("no-options");const c=$c.get(l);if(c){if(us(i,c.options)&&us(a,c.config))return c;throw sr.create("duplicate-app",{appName:l})}const d=new kb(l);for(const y of um.values())d.addComponent(y);const p=new NS(i,a,d);return $c.set(l,p),p}function Q0(r=lm){const t=$c.get(r);if(!t&&r===lm&&P0())return G0();if(!t)throw sr.create("no-app",{appName:r});return t}function rr(r,t,i){let a=RS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),cs.warn(d.join(" "));return}io(new ta(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const IS="firebase-heartbeat-database",DS=1,Ll="firebase-heartbeat-store";let Xd=null;function K0(){return Xd||(Xd=Yb(IS,DS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Ll)}catch(i){console.warn(i)}}}}).catch(r=>{throw sr.create("idb-open",{originalErrorMessage:r.message})})),Xd}async function MS(r){try{const i=(await K0()).transaction(Ll),a=await i.objectStore(Ll).get(Y0(r));return await i.done,a}catch(t){if(t instanceof ps)cs.warn(t.message);else{const i=sr.create("idb-get",{originalErrorMessage:t?.message});cs.warn(i.message)}}}async function lv(r,t){try{const a=(await K0()).transaction(Ll,"readwrite");await a.objectStore(Ll).put(t,Y0(r)),await a.done}catch(i){if(i instanceof ps)cs.warn(i.message);else{const a=sr.create("idb-set",{originalErrorMessage:i?.message});cs.warn(a.message)}}}function Y0(r){return`${r.name}!${r.options.appId}`}const OS=1024,VS=30;class kS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new LS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=uv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>VS){const l=jS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){cs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=uv(),{heartbeatsToSend:i,unsentEntries:a}=US(this._heartbeatsCache.heartbeats),l=Xc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return cs.warn(t),""}}}function uv(){return new Date().toISOString().substring(0,10)}function US(r,t=OS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),cv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),cv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class LS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return bb()?Sb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await MS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return lv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function cv(r){return Xc(JSON.stringify({version:2,heartbeats:r})).length}function jS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function PS(r){io(new ta("platform-logger",t=>new Zb(t),"PRIVATE")),io(new ta("heartbeat",t=>new kS(t),"PRIVATE")),rr(om,av,r),rr(om,av,"esm2020"),rr("fire-js","")}PS("");var zS="firebase",BS="12.7.0";rr(zS,BS,"app");var hv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ar,X0;(function(){var r;function t(N,w){function x(){}x.prototype=w.prototype,N.F=w.prototype,N.prototype=new x,N.prototype.constructor=N,N.D=function(V,M,k){for(var R=Array(arguments.length-2),Et=2;Et<arguments.length;Et++)R[Et-2]=arguments[Et];return w.prototype[M].apply(V,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(N,w,x){x||(x=0);const V=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)V[M]=w.charCodeAt(x++)|w.charCodeAt(x++)<<8|w.charCodeAt(x++)<<16|w.charCodeAt(x++)<<24;else for(M=0;M<16;++M)V[M]=w[x++]|w[x++]<<8|w[x++]<<16|w[x++]<<24;w=N.g[0],x=N.g[1],M=N.g[2];let k=N.g[3],R;R=w+(k^x&(M^k))+V[0]+3614090360&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(M^w&(x^M))+V[1]+3905402710&4294967295,k=w+(R<<12&4294967295|R>>>20),R=M+(x^k&(w^x))+V[2]+606105819&4294967295,M=k+(R<<17&4294967295|R>>>15),R=x+(w^M&(k^w))+V[3]+3250441966&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(k^x&(M^k))+V[4]+4118548399&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(M^w&(x^M))+V[5]+1200080426&4294967295,k=w+(R<<12&4294967295|R>>>20),R=M+(x^k&(w^x))+V[6]+2821735955&4294967295,M=k+(R<<17&4294967295|R>>>15),R=x+(w^M&(k^w))+V[7]+4249261313&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(k^x&(M^k))+V[8]+1770035416&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(M^w&(x^M))+V[9]+2336552879&4294967295,k=w+(R<<12&4294967295|R>>>20),R=M+(x^k&(w^x))+V[10]+4294925233&4294967295,M=k+(R<<17&4294967295|R>>>15),R=x+(w^M&(k^w))+V[11]+2304563134&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(k^x&(M^k))+V[12]+1804603682&4294967295,w=x+(R<<7&4294967295|R>>>25),R=k+(M^w&(x^M))+V[13]+4254626195&4294967295,k=w+(R<<12&4294967295|R>>>20),R=M+(x^k&(w^x))+V[14]+2792965006&4294967295,M=k+(R<<17&4294967295|R>>>15),R=x+(w^M&(k^w))+V[15]+1236535329&4294967295,x=M+(R<<22&4294967295|R>>>10),R=w+(M^k&(x^M))+V[1]+4129170786&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^M&(w^x))+V[6]+3225465664&4294967295,k=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(k^w))+V[11]+643717713&4294967295,M=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(M^k))+V[0]+3921069994&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^k&(x^M))+V[5]+3593408605&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^M&(w^x))+V[10]+38016083&4294967295,k=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(k^w))+V[15]+3634488961&4294967295,M=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(M^k))+V[4]+3889429448&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^k&(x^M))+V[9]+568446438&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^M&(w^x))+V[14]+3275163606&4294967295,k=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(k^w))+V[3]+4107603335&4294967295,M=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(M^k))+V[8]+1163531501&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(M^k&(x^M))+V[13]+2850285829&4294967295,w=x+(R<<5&4294967295|R>>>27),R=k+(x^M&(w^x))+V[2]+4243563512&4294967295,k=w+(R<<9&4294967295|R>>>23),R=M+(w^x&(k^w))+V[7]+1735328473&4294967295,M=k+(R<<14&4294967295|R>>>18),R=x+(k^w&(M^k))+V[12]+2368359562&4294967295,x=M+(R<<20&4294967295|R>>>12),R=w+(x^M^k)+V[5]+4294588738&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^M)+V[8]+2272392833&4294967295,k=w+(R<<11&4294967295|R>>>21),R=M+(k^w^x)+V[11]+1839030562&4294967295,M=k+(R<<16&4294967295|R>>>16),R=x+(M^k^w)+V[14]+4259657740&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^k)+V[1]+2763975236&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^M)+V[4]+1272893353&4294967295,k=w+(R<<11&4294967295|R>>>21),R=M+(k^w^x)+V[7]+4139469664&4294967295,M=k+(R<<16&4294967295|R>>>16),R=x+(M^k^w)+V[10]+3200236656&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^k)+V[13]+681279174&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^M)+V[0]+3936430074&4294967295,k=w+(R<<11&4294967295|R>>>21),R=M+(k^w^x)+V[3]+3572445317&4294967295,M=k+(R<<16&4294967295|R>>>16),R=x+(M^k^w)+V[6]+76029189&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(x^M^k)+V[9]+3654602809&4294967295,w=x+(R<<4&4294967295|R>>>28),R=k+(w^x^M)+V[12]+3873151461&4294967295,k=w+(R<<11&4294967295|R>>>21),R=M+(k^w^x)+V[15]+530742520&4294967295,M=k+(R<<16&4294967295|R>>>16),R=x+(M^k^w)+V[2]+3299628645&4294967295,x=M+(R<<23&4294967295|R>>>9),R=w+(M^(x|~k))+V[0]+4096336452&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~M))+V[7]+1126891415&4294967295,k=w+(R<<10&4294967295|R>>>22),R=M+(w^(k|~x))+V[14]+2878612391&4294967295,M=k+(R<<15&4294967295|R>>>17),R=x+(k^(M|~w))+V[5]+4237533241&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~k))+V[12]+1700485571&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~M))+V[3]+2399980690&4294967295,k=w+(R<<10&4294967295|R>>>22),R=M+(w^(k|~x))+V[10]+4293915773&4294967295,M=k+(R<<15&4294967295|R>>>17),R=x+(k^(M|~w))+V[1]+2240044497&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~k))+V[8]+1873313359&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~M))+V[15]+4264355552&4294967295,k=w+(R<<10&4294967295|R>>>22),R=M+(w^(k|~x))+V[6]+2734768916&4294967295,M=k+(R<<15&4294967295|R>>>17),R=x+(k^(M|~w))+V[13]+1309151649&4294967295,x=M+(R<<21&4294967295|R>>>11),R=w+(M^(x|~k))+V[4]+4149444226&4294967295,w=x+(R<<6&4294967295|R>>>26),R=k+(x^(w|~M))+V[11]+3174756917&4294967295,k=w+(R<<10&4294967295|R>>>22),R=M+(w^(k|~x))+V[2]+718787259&4294967295,M=k+(R<<15&4294967295|R>>>17),R=x+(k^(M|~w))+V[9]+3951481745&4294967295,N.g[0]=N.g[0]+w&4294967295,N.g[1]=N.g[1]+(M+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+M&4294967295,N.g[3]=N.g[3]+k&4294967295}a.prototype.v=function(N,w){w===void 0&&(w=N.length);const x=w-this.blockSize,V=this.C;let M=this.h,k=0;for(;k<w;){if(M==0)for(;k<=x;)l(this,N,k),k+=this.blockSize;if(typeof N=="string"){for(;k<w;)if(V[M++]=N.charCodeAt(k++),M==this.blockSize){l(this,V),M=0;break}}else for(;k<w;)if(V[M++]=N[k++],M==this.blockSize){l(this,V),M=0;break}}this.h=M,this.o+=w},a.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var w=1;w<N.length-8;++w)N[w]=0;w=this.o*8;for(var x=N.length-8;x<N.length;++x)N[x]=w&255,w/=256;for(this.v(N),N=Array(16),w=0,x=0;x<4;++x)for(let V=0;V<32;V+=8)N[w++]=this.g[x]>>>V&255;return N};function c(N,w){var x=p;return Object.prototype.hasOwnProperty.call(x,N)?x[N]:x[N]=w(N)}function d(N,w){this.h=w;const x=[];let V=!0;for(let M=N.length-1;M>=0;M--){const k=N[M]|0;V&&k==w||(x[M]=k,V=!1)}this.g=x}var p={};function y(N){return-128<=N&&N<128?c(N,function(w){return new d([w|0],w<0?-1:0)}):new d([N|0],N<0?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return S;if(N<0)return J(_(-N));const w=[];let x=1;for(let V=0;N>=x;V++)w[V]=N/x|0,x*=4294967296;return new d(w,0)}function b(N,w){if(N.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(N.charAt(0)=="-")return J(b(N.substring(1),w));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const x=_(Math.pow(w,8));let V=S;for(let k=0;k<N.length;k+=8){var M=Math.min(8,N.length-k);const R=parseInt(N.substring(k,k+M),w);M<8?(M=_(Math.pow(w,M)),V=V.j(M).add(_(R))):(V=V.j(x),V=V.add(_(R)))}return V}var S=y(0),I=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(et(this))return-J(this).m();let N=0,w=1;for(let x=0;x<this.g.length;x++){const V=this.i(x);N+=(V>=0?V:4294967296+V)*w,w*=4294967296}return N},r.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(W(this))return"0";if(et(this))return"-"+J(this).toString(N);const w=_(Math.pow(N,6));var x=this;let V="";for(;;){const M=dt(x,w).g;x=at(x,M.j(w));let k=((x.g.length>0?x.g[0]:x.h)>>>0).toString(N);if(x=M,W(x))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function W(N){if(N.h!=0)return!1;for(let w=0;w<N.g.length;w++)if(N.g[w]!=0)return!1;return!0}function et(N){return N.h==-1}r.l=function(N){return N=at(this,N),et(N)?-1:W(N)?0:1};function J(N){const w=N.g.length,x=[];for(let V=0;V<w;V++)x[V]=~N.g[V];return new d(x,~N.h).add(I)}r.abs=function(){return et(this)?J(this):this},r.add=function(N){const w=Math.max(this.g.length,N.g.length),x=[];let V=0;for(let M=0;M<=w;M++){let k=V+(this.i(M)&65535)+(N.i(M)&65535),R=(k>>>16)+(this.i(M)>>>16)+(N.i(M)>>>16);V=R>>>16,k&=65535,R&=65535,x[M]=R<<16|k}return new d(x,x[x.length-1]&-2147483648?-1:0)};function at(N,w){return N.add(J(w))}r.j=function(N){if(W(this)||W(N))return S;if(et(this))return et(N)?J(this).j(J(N)):J(J(this).j(N));if(et(N))return J(this.j(J(N)));if(this.l(G)<0&&N.l(G)<0)return _(this.m()*N.m());const w=this.g.length+N.g.length,x=[];for(var V=0;V<2*w;V++)x[V]=0;for(V=0;V<this.g.length;V++)for(let M=0;M<N.g.length;M++){const k=this.i(V)>>>16,R=this.i(V)&65535,Et=N.i(M)>>>16,Qt=N.i(M)&65535;x[2*V+2*M]+=R*Qt,ut(x,2*V+2*M),x[2*V+2*M+1]+=k*Qt,ut(x,2*V+2*M+1),x[2*V+2*M+1]+=R*Et,ut(x,2*V+2*M+1),x[2*V+2*M+2]+=k*Et,ut(x,2*V+2*M+2)}for(N=0;N<w;N++)x[N]=x[2*N+1]<<16|x[2*N];for(N=w;N<2*w;N++)x[N]=0;return new d(x,0)};function ut(N,w){for(;(N[w]&65535)!=N[w];)N[w+1]+=N[w]>>>16,N[w]&=65535,w++}function ft(N,w){this.g=N,this.h=w}function dt(N,w){if(W(w))throw Error("division by zero");if(W(N))return new ft(S,S);if(et(N))return w=dt(J(N),w),new ft(J(w.g),J(w.h));if(et(w))return w=dt(N,J(w)),new ft(J(w.g),w.h);if(N.g.length>30){if(et(N)||et(w))throw Error("slowDivide_ only works with positive integers.");for(var x=I,V=w;V.l(N)<=0;)x=qt(x),V=qt(V);var M=It(x,1),k=It(V,1);for(V=It(V,2),x=It(x,2);!W(V);){var R=k.add(V);R.l(N)<=0&&(M=M.add(x),k=R),V=It(V,1),x=It(x,1)}return w=at(N,M.j(w)),new ft(M,w)}for(M=S;N.l(w)>=0;){for(x=Math.max(1,Math.floor(N.m()/w.m())),V=Math.ceil(Math.log(x)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(x),R=k.j(w);et(R)||R.l(N)>0;)x-=V,k=_(x),R=k.j(w);W(k)&&(k=I),M=M.add(k),N=at(N,R)}return new ft(M,N)}r.B=function(N){return dt(this,N).h},r.and=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)&N.i(V);return new d(x,this.h&N.h)},r.or=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)|N.i(V);return new d(x,this.h|N.h)},r.xor=function(N){const w=Math.max(this.g.length,N.g.length),x=[];for(let V=0;V<w;V++)x[V]=this.i(V)^N.i(V);return new d(x,this.h^N.h)};function qt(N){const w=N.g.length+1,x=[];for(let V=0;V<w;V++)x[V]=N.i(V)<<1|N.i(V-1)>>>31;return new d(x,N.h)}function It(N,w){const x=w>>5;w%=32;const V=N.g.length-x,M=[];for(let k=0;k<V;k++)M[k]=w>0?N.i(k+x)>>>w|N.i(k+x+1)<<32-w:N.i(k+x);return new d(M,N.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,X0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,ar=d}).apply(typeof hv<"u"?hv:typeof self<"u"?self:typeof window<"u"?window:{});var Ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var $0,xl,Z0,jc,cm,J0,W0,tE;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ic=="object"&&Ic];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var L=u[A];if(!(L in v))break t;v=v[L]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,L,q){for(var nt=Array(arguments.length-2),xt=2;xt<arguments.length;xt++)nt[xt-2]=arguments[xt];return m.prototype[L].apply(A,nt)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const L=arguments[A];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=L[nt]}else u.push(L)}}class et{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function at(){var u=N;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class ut{constructor(){this.h=this.g=null}add(m,v){const A=ft.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var ft=new et(()=>new dt,u=>u.reset());class dt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let qt,It=!1,N=new ut,w=()=>{const u=Promise.resolve(void 0);qt=()=>{u.then(x)}};function x(){for(var u;u=at();){try{u.h.call(u.g)}catch(v){J(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}It=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Et(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Et,M),Et.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Et.Z.h.call(this)},Et.prototype.h=function(){Et.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),B=0;function tt(u,m,v,A,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=L,this.key=++B,this.da=this.fa=!1}function ot(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function _t(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Dt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function it(u,m){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)u[v]=A[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function st(u){this.src=u,this.g={},this.h=0}st.prototype.add=function(u,m,v,A,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=Rt(u,m,A,L);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new tt(m,this.src,q,!!A,L),m.fa=v,u.push(m)),m};function Tt(u,m){const v=m.type;if(v in u.g){var A=u.g[v],L=Array.prototype.indexOf.call(A,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(A,L,1),q&&(ot(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Rt(u,m,v,A){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return L}return-1}var Vt="closure_lm_"+(Math.random()*1e6|0),ye={};function F(u,m,v,A,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)F(u,m[q],v,A,L);return null}return v=bo(v),u&&u[Qt]?u.J(m,v,p(A)?!!A.capture:!1,L):gt(u,m,v,!1,A,L)}function gt(u,m,v,A,L,q){if(!m)throw Error("Invalid event type");const nt=p(L)?!!L.capture:!!L;let xt=Tr(u);if(xt||(u[Vt]=xt=new st(u)),v=xt.add(m,v,A,nt,q),v.proxy)return v;if(A=$t(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(L=nt),L===void 0&&(L=!1),u.addEventListener(m.toString(),A,L);else if(u.attachEvent)u.attachEvent(tn(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function $t(){function u(v){return m.call(u.src,u.listener,v)}const m=Bi;return u}function Pe(u,m,v,A,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Pe(u,m[q],v,A,L);else A=p(A)?!!A.capture:!!A,v=bo(v),u&&u[Qt]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Rt(m,v,A,L),v>-1&&(ot(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=Tr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Rt(m,v,A,L)),(v=u>-1?m[u]:null)&&ae(v))}function ae(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])Tt(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(tn(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=Tr(m))?(Tt(v,u),v.h==0&&(v.src=null,m[Vt]=null)):ot(u)}}}function tn(u){return u in ye?ye[u]:ye[u]="on"+u}function Bi(u,m){if(u.da)u=!0;else{m=new Et(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ae(u),u=v.call(A,m)}return u}function Tr(u){return u=u[Vt],u instanceof st?u:null}var Ao="__closure_events_fn_"+(Math.random()*1e9>>>0);function bo(u){return typeof u=="function"?u:(u[Ao]||(u[Ao]=function(m){return u.handleEvent(m)}),u[Ao])}function Se(){V.call(this),this.i=new st(this),this.M=this,this.G=null}S(Se,V),Se.prototype[Qt]=!0,Se.prototype.removeEventListener=function(u,m,v,A){Pe(this,u,m,v,A)};function ke(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var L=m;m=new M(A,u),it(m,L)}L=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],L=gs(q,A,!0,m)&&L;if(q=m.g=u,L=gs(q,A,!0,m)&&L,L=gs(q,A,!1,m)&&L,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],L=gs(q,A,!1,m)&&L}Se.prototype.N=function(){if(Se.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ot(v[A]);delete u.g[m],u.h--}}this.G=null},Se.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},Se.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function gs(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const xt=nt.listener,ve=nt.ha||nt.src;nt.fa&&Tt(u.i,nt),L=xt.call(ve,A)!==!1&&L}}return L&&!A.defaultPrevented}function zh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function eu(u){u.g=zh(()=>{u.g=null,u.i&&(u.i=!1,eu(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class ln extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(u){V.call(this),this.h=u,this.g={}}S(Ar,V);var So=[];function wo(u){_t(u.g,function(m,v){this.g.hasOwnProperty(v)&&ae(m)},u),u.g={}}Ar.prototype.N=function(){Ar.Z.N.call(this),wo(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ys=d.JSON.stringify,Bh=d.JSON.parse,nu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function iu(){}function su(){}var Yn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ge(){M.call(this,"d")}S(Ge,M);function On(){M.call(this,"c")}S(On,M);var _e={},ru=null;function aa(){return ru=ru||new Se}_e.Ia="serverreachability";function au(u){M.call(this,_e.Ia,u)}S(au,M);function li(u){const m=aa();ke(m,new au(m))}_e.STAT_EVENT="statevent";function br(u,m){M.call(this,_e.STAT_EVENT,u),this.stat=m}S(br,M);function we(u){const m=aa();ke(m,new br(m,u))}_e.Ja="timingevent";function ui(u,m){M.call(this,_e.Ja,u),this.size=m}S(ui,M);function ci(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Xn(){this.g=!0}Xn.prototype.ua=function(){this.g=!1};function qh(u,m,v,A,L,q){u.info(function(){if(u.g)if(q){var nt="",xt=q.split("&");for(let Kt=0;Kt<xt.length;Kt++){var ve=xt[Kt].split("=");if(ve.length>1){const he=ve[0];ve=ve[1];const Ln=he.split("_");nt=Ln.length>=2&&Ln[1]=="type"?nt+(he+"="+ve+"&"):nt+(he+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+m+`
`+v+`
`+nt})}function ou(u,m,v,A,L,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+nt})}function hi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Hh(u,v)+(A?" "+A:"")})}function Sr(u,m){u.info(function(){return"TIMEOUT: "+m})}Xn.prototype.info=function(){};function Hh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var L=A[0];if(L!="noop"&&L!="stop"&&L!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return ys(q)}catch{return m}}var wr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ro={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xo;function Rr(){}S(Rr,iu),Rr.prototype.g=function(){return new XMLHttpRequest},xo=new Rr;function qi(u){return encodeURIComponent(String(u))}function lu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function $n(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new Ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Zn}function Zn(){this.i=null,this.g="",this.h=!1}var Re={},ze={};function fi(u,m,v){u.M=1,u.A=xr(Ce(m)),u.u=v,u.R=!0,oa(u,null)}function oa(u,m){u.F=Date.now(),di(u),u.B=Ce(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),ha(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Zn,u.g=bu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new ln(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(So[0]=L.toString()),L=So);for(let q=0;q<L.length;q++){const nt=F(v,L[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),li(),qh(u.i,u.v,u.B,u.l,u.S,u.u)}$n.prototype.ba=function(u){u=u.target;const m=this.O;m&&ti(u)==3?m.j():this.Y(u)},$n.prototype.Y=function(u){try{if(u==this.g)t:{const xt=ti(this.g),ve=this.g.ya(),Kt=this.g.ca();if(!(xt<3)&&(xt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||xt!=4||ve==7||(ve==8||Kt<=0?li(3):li(2)),mi(this);var m=this.g.ca();this.X=m;var v=Fh(this);if(this.o=m==200,ou(this.i,this.v,this.B,this.l,this.S,xt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,L=this.g;if((A=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var q=A;break e}}q=null}if(u=q)hi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,pi(this,u);else{this.o=!1,this.m=3,we(12),An(this),Vn(this);break t}}if(this.R){u=!0;let he;for(;!this.K&&this.C<v.length;)if(he=cu(this,v),he==ze){xt==4&&(this.m=4,we(14),u=!1),hi(this.i,this.l,null,"[Incomplete Response]");break}else if(he==Re){this.m=4,we(15),hi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else hi(this.i,this.l,he,null),pi(this,he);if(uu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),xt!=4||v.length!=0||this.h.h||(this.m=1,we(16),u=!1),this.o=this.o&&u,!u)hi(this.i,this.l,v,"[Invalid Chunked Response]"),An(this),Vn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),qo(nt),nt.P=!0,we(11))}}else hi(this.i,this.l,v,null),pi(this,v);xt==4&&An(this),this.o&&!this.K&&(xt==4?vu(this.j,this):(this.o=!1,di(this)))}else Fi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,we(12)):(this.m=0,we(13)),An(this),Vn(this)}}}catch{}};function Fh(u){if(!uu(u))return u.g.la();const m=Qe(u.g);if(m==="")return"";let v="";const A=m.length,L=ti(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return An(u),Vn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function uu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function cu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?ze:(v=Number(m.substring(v,A)),isNaN(v)?Re:(A+=1,A+v>m.length?ze:(m=m.slice(A,A+v),u.C=A+v,m)))}$n.prototype.cancel=function(){this.K=!0,An(this)};function di(u){u.T=Date.now()+u.H,la(u,u.H)}function la(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ci(_(u.aa,u),m)}function mi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}$n.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Sr(this.i,this.B),this.M!=2&&(li(),we(17)),An(this),this.m=2,Vn(this)):la(this,this.T-u)};function Vn(u){u.j.I==0||u.K||vu(u.j,u)}function An(u){mi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,wo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function pi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||yi(v.h,u))){if(!u.L&&yi(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ga(v),ws(v);else break t;Vr(v),we(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ci(_(v.Va,v),6e3));gi(v.h)<=1&&v.ta&&(v.ta=void 0)}else bi(v,11)}else if((u.L||v.g==u)&&ga(v),!R(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Kt=L[m];const he=Kt[0];if(!(he<=v.K))if(v.K=he,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const Ln=Kt[3];Ln!=null&&(v.ka=Ln,v.j.info("VER="+v.ka));const Si=Kt[4];Si!=null&&(v.za=Si,v.j.info("SVER="+v.za));const ei=Kt[5];ei!=null&&typeof ei=="number"&&ei>0&&(A=1.5*ei,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const ni=u.g;if(ni){const kr=ni.g?ni.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(kr){var q=A.h;q.g||kr.indexOf("spdy")==-1&&kr.indexOf("quic")==-1&&kr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Io(q,q.h),q.h=null))}if(A.G){const ya=ni.g?ni.g.getResponseHeader("X-HTTP-Session-Id"):null;ya&&(A.wa=ya,Zt(A.J,A.G,ya))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=u;if(A.na=Au(A,A.L?A.ba:null,A.W),nt.L){Do(A.h,nt);var xt=nt,ve=A.O;ve&&(xt.H=ve),xt.D&&(mi(xt),di(xt)),A.g=nt}else yu(A);v.i.length>0&&Ai(v)}else Kt[0]!="stop"&&Kt[0]!="close"||bi(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?bi(v,7):zo(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}li(4)}catch{}}var xe=class{constructor(u,m){this.g=u,this.map=m}};function Co(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function No(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function gi(u){return u.h?1:u.g?u.g.size:0}function yi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Io(u,m){u.g?u.g.add(m):u.h=m}function Do(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Co.prototype.cancel=function(){if(this.i=Mo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Mo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var hu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ua(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let L,q=null;A>=0?(L=u[v].substring(0,A),q=u[v].substring(A+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function bn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof bn?(this.l=u.l,Be(this,u.j),this.o=u.o,this.g=u.g,_s(this,u.u),this.h=u.h,Oo(this,pu(u.i)),this.m=u.m):u&&(m=String(u).match(hu))?(this.l=!1,Be(this,m[1]||"",!0),this.o=_i(m[2]||""),this.g=_i(m[3]||"",!0),_s(this,m[4]),this.h=_i(m[5]||"",!0),Oo(this,m[6]||"",!0),this.m=_i(m[7]||"")):(this.l=!1,this.i=new Es(null,this.l))}bn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Cr(m,ca,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Cr(m,ca,!0),"@"),u.push(qi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Cr(v,v.charAt(0)=="/"?Vo:fu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Cr(v,du)),u.join("")},bn.prototype.resolve=function(u){const m=Ce(this);let v=!!u.j;v?Be(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)_s(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var L=m.h.lastIndexOf("/");L!=-1&&(A=m.h.slice(0,L+1)+A)}if(L=A,L==".."||L==".")A="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){A=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let nt=0;nt<L.length;){const xt=L[nt++];xt=="."?A&&nt==L.length&&q.push(""):xt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&nt==L.length&&q.push("")):(q.push(xt),A=!0)}A=q.join("/")}else A=L}return v?m.h=A:v=u.i.toString()!=="",v?Oo(m,pu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ce(u){return new bn(u)}function Be(u,m,v){u.j=v?_i(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function _s(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Oo(u,m,v){m instanceof Es?(u.i=m,fa(u.i,u.l)):(v||(m=Cr(m,vs)),u.i=new Es(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function xr(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function _i(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Cr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,hn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function hn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ca=/[#\/\?@]/g,fu=/[#\?:]/g,Vo=/[#\?]/g,vs=/[#\?@]/g,du=/#/g;function Es(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function fn(u){u.g||(u.g=new Map,u.h=0,u.i&&ua(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Es.prototype,r.add=function(u,m){fn(this),this.i=null,u=Ts(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function mu(u,m){fn(u),m=Ts(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function ko(u,m){return fn(u),m=Ts(u,m),u.g.has(m)}r.forEach=function(u,m){fn(this),this.g.forEach(function(v,A){v.forEach(function(L){u.call(m,L,A,this)},this)},this)};function Uo(u,m){fn(u);let v=[];if(typeof m=="string")ko(u,m)&&(v=v.concat(u.g.get(Ts(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return fn(this),this.i=null,u=Ts(this,u),ko(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Uo(this,u),u.length>0?String(u[0]):m):m};function ha(u,m,v){mu(u,m),v.length>0&&(u.i=null,u.g.set(Ts(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const L=qi(v);v=Uo(this,v);for(let q=0;q<v.length;q++){let nt=L;v[q]!==""&&(nt+="="+qi(v[q])),u.push(nt)}}return this.i=u.join("&")};function pu(u){const m=new Es;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ts(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function fa(u,m){m&&!u.j&&(fn(u),u.i=null,u.g.forEach(function(v,A){const L=A.toLowerCase();A!=L&&(mu(this,A),ha(this,L,v))},u)),u.j=m}function Jn(u,m){const v=new Xn;if(d.Image){const A=new Image;A.onload=b(kn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(kn,v,"TestLoadImage: error",!1,m,A),A.onabort=b(kn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(kn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Lo(u,m){const v=new Xn,A=new AbortController,L=setTimeout(()=>{A.abort(),kn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(L),q.ok?kn(v,"TestPingServer: ok",!0,m):kn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),kn(v,"TestPingServer: error",!1,m)})}function kn(u,m,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function As(){this.g=new nu}function vi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(vi,iu),vi.prototype.g=function(){return new Nr(this.i,this.h)};function Nr(u,m){Se.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Nr,Se),r=Nr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Wn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Wn(this)),this.g&&(this.readyState=3,Wn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;da(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function da(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?bs(this):Wn(this),this.readyState==3&&da(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,bs(this))},r.Na=function(u){this.g&&(this.response=u,bs(this))},r.ga=function(){this.g&&bs(this)};function bs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Wn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Wn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Nr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Un(u){let m="";return _t(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function Ir(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Un(v),typeof u=="string"?v!=null&&qi(v):Zt(u,m,v))}function te(u){Se.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(te,Se);var Ei=/^https?$/i,jo=["POST","PUT"];r=te.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xo.g(),this.g.onreadystatechange=I(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Dr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(jo,m,void 0)>=0)||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Dr(this,q)}};function Dr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Po(u),Hi(u)}function Po(u){u.A||(u.A=!0,ke(u,"complete"),ke(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,ke(this,"complete"),ke(this,"abort"),Hi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hi(this,!0)),te.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Mr(this):this.Xa())},r.Xa=function(){Mr(this)};function Mr(u){if(u.h&&typeof c<"u"){if(u.v&&ti(u)==4)setTimeout(u.Ca.bind(u),0);else if(ke(u,"readystatechange"),ti(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let nt=String(u.D).match(hu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),A=!Ei.test(nt?nt.toLowerCase():"")}v=A}if(v)ke(u,"complete"),ke(u,"success");else{u.o=6;try{var L=ti(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Po(u)}}finally{Hi(u)}}}}function Hi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||ke(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ti(u){return u.g?u.g.readyState:0}r.ca=function(){try{return ti(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Bh(m)}};function Qe(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fi(u){const m={};u=(u.g&&ti(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var v=lu(u[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}Dt(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ti(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ss(u){this.za=0,this.i=[],this.j=new Xn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ti("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ti("baseRetryDelayMs",5e3,u),this.Za=Ti("retryDelaySeedMs",1e4,u),this.Ta=Ti("forwardChannelMaxRetries",2,u),this.va=Ti("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Co(u&&u.concurrentRequestLimit),this.Ba=new As,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ss.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){we(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Au(this,null,this.W),Ai(this)};function zo(u){if(ma(u),u.I==3){var m=u.V++,v=Ce(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),Or(u,v),m=new $n(u,u.j,m),m.M=2,m.A=xr(Ce(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=bu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),di(m)}Tu(u)}function ws(u){u.g&&(qo(u),u.g.cancel(),u.g=null)}function ma(u){ws(u),u.v&&(d.clearTimeout(u.v),u.v=null),ga(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ai(u){if(!No(u.h)&&!u.m){u.m=!0;var m=u.Ea;qt||w(),It||(qt(),It=!0),N.add(m,u),u.D=0}}function pa(u,m){return gi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ci(_(u.Ea,u,m),Eu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new $n(this,this.j,u);let q=this.o;if(this.U&&(q?(q=D(q),it(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=gu(this,L,m),v=Ce(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),Or(this,v),q&&(this.R?m="headers="+qi(Un(q))+"&"+m:this.u&&Ir(v,this.u,q)),Io(this.h,L),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),L.U=!0,fi(L,v,null)):fi(L,v,m),this.I=2}}else this.I==3&&(u?Bo(this,u):this.i.length==0||No(this.h)||Bo(this))};function Bo(u,m){var v;m?v=m.l:v=u.V++;const A=Ce(u.J);Zt(A,"SID",u.M),Zt(A,"RID",v),Zt(A,"AID",u.K),Or(u,A),u.u&&u.o&&Ir(A,u.u,u.o),v=new $n(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=gu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Io(u.h,v),fi(v,A,m)}function Or(u,m){u.H&&_t(u.H,function(v,A){Zt(m,A,v)}),u.l&&_t({},function(v,A){Zt(m,A,v)})}function gu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let xt=-1;for(;;){const ve=["count="+v];xt==-1?v>0?(xt=L[0].g,ve.push("ofs="+xt)):xt=0:ve.push("ofs="+xt);let Kt=!0;for(let he=0;he<v;he++){var q=L[he].g;const Ln=L[he].map;if(q-=xt,q<0)xt=Math.max(0,L[he].g-100),Kt=!1;else try{q="req"+q+"_"||"";try{var nt=Ln instanceof Map?Ln:Object.entries(Ln);for(const[Si,ei]of nt){let ni=ei;p(ei)&&(ni=ys(ei)),ve.push(q+Si+"="+encodeURIComponent(ni))}}catch(Si){throw ve.push(q+"type="+encodeURIComponent("_badmap")),Si}}catch{A&&A(Ln)}}if(Kt){nt=ve.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function yu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;qt||w(),It||(qt(),It=!0),N.add(m,u),u.A=0}}function Vr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ci(_(u.Da,u),Eu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,_u(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ci(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,we(10),ws(this),_u(this))};function qo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function _u(u){u.g=new $n(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ce(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),Or(u,m),u.u&&u.o&&Ir(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=xr(Ce(m)),v.u=null,v.R=!0,oa(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ws(this),Vr(this),we(19))};function ga(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function vu(u,m){var v=null;if(u.g==m){ga(u),qo(u),u.g=null;var A=2}else if(yi(u.h,m))v=m.G,Do(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;A=aa(),ke(A,new ui(A,v)),Ai(u)}else yu(u);else if(L=m.m,L==3||L==0&&m.X>0||!(A==1&&pa(u,m)||A==2&&Vr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:bi(u,5);break;case 4:bi(u,10);break;case 3:bi(u,6);break;default:bi(u,2)}}}function Eu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function bi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),A=u.Ua;const L=!A;A=new bn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Be(A,"https"),xr(A),L?Jn(A.toString(),v):Lo(A.toString(),v)}else we(2);u.I=0,u.l&&u.l.pa(m),Tu(u),ma(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),we(2)):(this.j.info("Failed to ping google.com"),we(1))};function Tu(u){if(u.I=0,u.ja=[],u.l){const m=Mo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Au(u,m,v){var A=v instanceof bn?Ce(v):new bn(v);if(A.g!="")m&&(A.g=m+"."+A.g),_s(A,A.u);else{var L=d.location;A=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new bn(null);A&&Be(q,A),m&&(q.g=m),L&&_s(q,L),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Zt(A,v,m),Zt(A,"VER",u.ka),Or(u,A),A}function bu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new te(new vi({ab:v})):new te(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Su(){}r=Su.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Rs(){}Rs.prototype.g=function(u,m){return new un(u,m)};function un(u,m){Se.call(this),this.g=new Ss(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Gi(this)}S(un,Se),un.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},un.prototype.close=function(){zo(this.g)},un.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ys(u),u=v);m.i.push(new xe(m.Ya++,u)),m.I==3&&Ai(m)},un.prototype.N=function(){this.g.l=null,delete this.j,zo(this.g),delete this.g,un.Z.N.call(this)};function wu(u){Ge.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(wu,Ge);function Ru(){On.call(this),this.status=1}S(Ru,On);function Gi(u){this.g=u}S(Gi,Su),Gi.prototype.ra=function(){ke(this.g,"a")},Gi.prototype.qa=function(u){ke(this.g,new wu(u))},Gi.prototype.pa=function(u){ke(this.g,new Ru)},Gi.prototype.oa=function(){ke(this.g,"b")},Rs.prototype.createWebChannel=Rs.prototype.g,un.prototype.send=un.prototype.o,un.prototype.open=un.prototype.m,un.prototype.close=un.prototype.close,tE=function(){return new Rs},W0=function(){return aa()},J0=_e,cm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},wr.NO_ERROR=0,wr.TIMEOUT=8,wr.HTTP_ERROR=6,jc=wr,Ro.COMPLETE="complete",Z0=Ro,su.EventType=Yn,Yn.OPEN="a",Yn.CLOSE="b",Yn.ERROR="c",Yn.MESSAGE="d",Se.prototype.listen=Se.prototype.J,xl=su,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,$0=te}).apply(typeof Ic<"u"?Ic:typeof self<"u"?self:typeof window<"u"?window:{});const fv="@firebase/firestore",dv="4.9.3";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let po="12.7.0";const ea=new km("@firebase/firestore");function Ka(){return ea.logLevel}function rt(r,...t){if(ea.logLevel<=Lt.DEBUG){const i=t.map(jm);ea.debug(`Firestore (${po}): ${r}`,...i)}}function hs(r,...t){if(ea.logLevel<=Lt.ERROR){const i=t.map(jm);ea.error(`Firestore (${po}): ${r}`,...i)}}function so(r,...t){if(ea.logLevel<=Lt.WARN){const i=t.map(jm);ea.warn(`Firestore (${po}): ${r}`,...i)}}function jm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function vt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,eE(r,a,i)}function eE(r,t,i){let a=`FIRESTORE (${po}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw hs(a),new Error(a)}function Xt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||eE(t,l,a)}function wt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ps{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class nE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class HS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class FS{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Xt(this.o===void 0,42304);let a=this.i;const l=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},p=y=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Xt(typeof a.accessToken=="string",31837,{l:a}),new nE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Xt(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class GS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class QS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new GS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class mv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class KS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ai(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Xt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new mv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Xt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new mv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function YS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=YS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function jt(r,t){return r<t?-1:r>t?1:0}function hm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return $d(l)===$d(c)?jt(l,c):$d(l)?1:-1}return jt(r.length,t.length)}const XS=55296,$S=57343;function $d(r){const t=r.charCodeAt(0);return t>=XS&&t<=$S}function ro(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const pv="__name__";class Di{constructor(t,i,a){i===void 0?i=0:i>t.length&&vt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&vt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Di.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Di?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Di.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return jt(t.length,i.length)}static compareSegments(t,i){const a=Di.isNumericId(t),l=Di.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Di.extractNumericId(t).compare(Di.extractNumericId(i)):hm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ar.fromString(t.substring(4,t.length-2))}}class ue extends Di{construct(t,i,a){return new ue(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ue(i)}static emptyPath(){return new ue([])}}const ZS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends Di{construct(t,i,a){return new Je(t,i,a)}static isValidIdentifier(t){return ZS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===pv}static keyField(){return new Je([pv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ct(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const p=t[l];if(p==="\\"){if(l+1===t.length)throw new ct(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,l+=2}else p==="`"?(d=!d,l++):p!=="."||d?(a+=p,l++):(c(),l++)}if(c(),d)throw new ct(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ue.fromString(t))}static fromName(t){return new pt(ue.fromString(t).popFirst(5))}static empty(){return new pt(ue.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ue.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ue.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ue(t.slice()))}}function iE(r,t,i){if(!i)throw new ct(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function JS(r,t,i,a){if(t===!0&&a===!0)throw new ct(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function gv(r){if(!pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function yv(r){if(pt.isDocumentKey(r))throw new ct(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function sE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":vt(12329,{type:typeof r})}function Kn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(r);throw new ct(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ve(r,t){const i={typeString:r};return t&&(i.value=t),i}function Ql(r,t){if(!sE(r))throw new ct(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(Z.INVALID_ARGUMENT,i);return!0}const _v=-62135596800,vv=1e6;class ce{static now(){return ce.fromMillis(Date.now())}static fromDate(t){return ce.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*vv);return new ce(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<_v)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vv}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ce._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Ql(t,ce._jsonSchema))return new ce(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-_v;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ce._jsonSchemaVersion="firestore/timestamp/1.0",ce._jsonSchema={type:Ve("string",ce._jsonSchemaVersion),seconds:Ve("number"),nanoseconds:Ve("number")};class bt{static fromTimestamp(t){return new bt(t)}static min(){return new bt(new ce(0,0))}static max(){return new bt(new ce(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const jl=-1;function WS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=bt.fromTimestamp(a===1e9?new ce(i+1,0):new ce(i,a));return new hr(l,pt.empty(),t)}function tw(r){return new hr(r.readTime,r.key,jl)}class hr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new hr(bt.min(),pt.empty(),jl)}static max(){return new hr(bt.max(),pt.empty(),jl)}}function ew(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:jt(r.largestBatchId,t.largestBatchId))}const nw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class iw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function go(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==nw)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((p=>{++l,p.next((()=>{++c,d&&c===l&&i()}),(y=>a(y)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++p,p===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function sw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function yo(r){return r.name==="IndexedDbTransactionError"}class gh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}gh.ce=-1;const Bm=-1;function yh(r){return r==null}function Zc(r){return r===0&&1/r==-1/0}function rw(r){return typeof r=="number"&&Number.isInteger(r)&&!Zc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const rE="";function aw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=Ev(t)),t=ow(r.get(i),t);return Ev(t)}function ow(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case rE:i+="";break;default:i+=c}}return i}function Ev(r){return r+rE+""}function Tv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function vr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function aE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class de{constructor(t,i){this.comparator=t,this.root=i||Ze.EMPTY}insert(t,i){return new de(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ze.BLACK,null,null))}remove(t){return new de(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ze.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Dc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Dc(this.root,t,this.comparator,!0)}}class Dc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ze{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Ze.RED,this.left=l??Ze.EMPTY,this.right=c??Ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Ze(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ze.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ze.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw vt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw vt(27949);return t+(this.isRed()?0:1)}}Ze.EMPTY=null,Ze.RED=!0,Ze.BLACK=!1;Ze.EMPTY=new class{constructor(){this.size=0}get key(){throw vt(57766)}get value(){throw vt(16141)}get color(){throw vt(16727)}get left(){throw vt(29726)}get right(){throw vt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Ze(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class je{constructor(t){this.comparator=t,this.data=new de(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new Av(this.data.getIterator())}getIteratorFrom(t){return new Av(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof je)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new je(this.comparator);return i.data=t,i}}class Av{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Mn{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Mn([])}unionWith(t){let i=new je(Je.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new Mn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ro(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class oE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class We{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new oE("Invalid base64 string: "+c):c}})(t);return new We(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new We(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}We.EMPTY_BYTE_STRING=new We("");const lw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function fr(r){if(Xt(!!r,39018),typeof r=="string"){let t=0;const i=lw.exec(r);if(Xt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:Ae(r.seconds),nanos:Ae(r.nanos)}}function Ae(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function dr(r){return typeof r=="string"?We.fromBase64String(r):We.fromUint8Array(r)}const lE="server_timestamp",uE="__type__",cE="__previous_value__",hE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[uE]?.stringValue===lE}function _h(r){const t=r.mapValue.fields[cE];return qm(t)?_h(t):t}function Pl(r){const t=fr(r.mapValue.fields[hE].timestampValue);return new ce(t.seconds,t.nanos)}class uw{constructor(t,i,a,l,c,d,p,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Jc="(default)";class zl{constructor(t,i){this.projectId=t,this.database=i||Jc}static empty(){return new zl("","")}get isDefaultDatabase(){return this.database===Jc}isEqual(t){return t instanceof zl&&t.projectId===this.projectId&&t.database===this.database}}const fE="__type__",cw="__max__",Mc={mapValue:{}},dE="__vector__",Wc="value";function mr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:fw(r)?9007199254740991:hw(r)?10:11:vt(28295,{value:r})}function Pi(r,t){if(r===t)return!0;const i=mr(r);if(i!==mr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Pl(r).isEqual(Pl(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=fr(l.timestampValue),p=fr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return dr(l.bytesValue).isEqual(dr(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return Ae(l.geoPointValue.latitude)===Ae(c.geoPointValue.latitude)&&Ae(l.geoPointValue.longitude)===Ae(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return Ae(l.integerValue)===Ae(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=Ae(l.doubleValue),p=Ae(c.doubleValue);return d===p?Zc(d)===Zc(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ro(r.arrayValue.values||[],t.arrayValue.values||[],Pi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},p=c.mapValue.fields||{};if(Tv(d)!==Tv(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Pi(d[y],p[y])))return!1;return!0})(r,t);default:return vt(52216,{left:r})}}function Bl(r,t){return(r.values||[]).find((i=>Pi(i,t)))!==void 0}function ao(r,t){if(r===t)return 0;const i=mr(r),a=mr(t);if(i!==a)return jt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return jt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=Ae(c.integerValue||c.doubleValue),y=Ae(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return bv(r.timestampValue,t.timestampValue);case 4:return bv(Pl(r),Pl(t));case 5:return hm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=dr(c),y=dr(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const b=jt(p[_],y[_]);if(b!==0)return b}return jt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=jt(Ae(c.latitude),Ae(d.latitude));return p!==0?p:jt(Ae(c.longitude),Ae(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Sv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[Wc]?.arrayValue,b=y[Wc]?.arrayValue,S=jt(_?.values?.length||0,b?.values?.length||0);return S!==0?S:Sv(_,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Mc.mapValue&&d===Mc.mapValue)return 0;if(c===Mc.mapValue)return 1;if(d===Mc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let S=0;S<y.length&&S<b.length;++S){const I=hm(y[S],b[S]);if(I!==0)return I;const G=ao(p[y[S]],_[b[S]]);if(G!==0)return G}return jt(y.length,b.length)})(r.mapValue,t.mapValue);default:throw vt(23264,{he:i})}}function bv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return jt(r,t);const i=fr(r),a=fr(t),l=jt(i.seconds,a.seconds);return l!==0?l:jt(i.nanos,a.nanos)}function Sv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=ao(i[l],a[l]);if(c)return c}return jt(i.length,a.length)}function oo(r){return fm(r)}function fm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=fr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return dr(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=fm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${fm(i.fields[d])}`;return l+"}"})(r.mapValue):vt(61005,{value:r})}function Pc(r){switch(mr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=_h(r);return t?16+Pc(t):16;case 5:return 2*r.stringValue.length;case 6:return dr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Pc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return vr(a.fields,((c,d)=>{l+=c.length+Pc(d)})),l})(r.mapValue);default:throw vt(13486,{value:r})}}function dm(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function wv(r){return!!r&&"nullValue"in r}function Rv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function zc(r){return!!r&&"mapValue"in r}function hw(r){return(r?.mapValue?.fields||{})[fE]?.stringValue===dE}function Ml(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return vr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Ml(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Ml(r.arrayValue.values[i]);return t}return{...r}}function fw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===cw}class En{constructor(t){this.value=t}static empty(){return new En({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!zc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Ml(i)}setAll(t){let i=Je.emptyPath(),a={},l=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,l),a={},l=[],i=p.popLast()}d?a[p.lastSegment()]=Ml(d):l.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());zc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Pi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];zc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){vr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new En(Ml(this.value))}}function mE(r){const t=[];return vr(r.fields,((i,a)=>{const l=new Je([i]);if(zc(a)){const c=mE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Mn(t)}class an{constructor(t,i,a,l,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,bt.min(),bt.min(),bt.min(),En.empty(),0)}static newFoundDocument(t,i,a,l){return new an(t,1,i,bt.min(),a,l,0)}static newNoDocument(t,i){return new an(t,2,i,bt.min(),bt.min(),En.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,bt.min(),bt.min(),En.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=bt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class th{constructor(t,i){this.position=t,this.inclusive=i}}function xv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=ao(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Cv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Pi(r.position[i],t.position[i]))return!1;return!0}class eh{constructor(t,i="asc"){this.field=t,this.dir=i}}function dw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class pE{}class Le extends pE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new pw(t,i,a):i==="array-contains"?new _w(t,a):i==="in"?new vw(t,a):i==="not-in"?new Ew(t,a):i==="array-contains-any"?new Tw(t,a):new Le(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new gw(t,a):new yw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(ao(i,this.value)):i!==null&&mr(this.value)===mr(i)&&this.matchesComparison(ao(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class zi extends pE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new zi(t,i)}matches(t){return gE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function gE(r){return r.op==="and"}function yE(r){return mw(r)&&gE(r)}function mw(r){for(const t of r.filters)if(t instanceof zi)return!1;return!0}function mm(r){if(r instanceof Le)return r.field.canonicalString()+r.op.toString()+oo(r.value);if(yE(r))return r.filters.map((t=>mm(t))).join(",");{const t=r.filters.map((i=>mm(i))).join(",");return`${r.op}(${t})`}}function _E(r,t){return r instanceof Le?(function(a,l){return l instanceof Le&&a.op===l.op&&a.field.isEqual(l.field)&&Pi(a.value,l.value)})(r,t):r instanceof zi?(function(a,l){return l instanceof zi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,p)=>c&&_E(d,l.filters[p])),!0):!1})(r,t):void vt(19439)}function vE(r){return r instanceof Le?(function(i){return`${i.field.canonicalString()} ${i.op} ${oo(i.value)}`})(r):r instanceof zi?(function(i){return i.op.toString()+" {"+i.getFilters().map(vE).join(" ,")+"}"})(r):"Filter"}class pw extends Le{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class gw extends Le{constructor(t,i){super(t,"in",i),this.keys=EE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class yw extends Le{constructor(t,i){super(t,"not-in",i),this.keys=EE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function EE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class _w extends Le{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Bl(i.arrayValue,this.value)}}class vw extends Le{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Bl(this.value.arrayValue,i)}}class Ew extends Le{constructor(t,i){super(t,"not-in",i)}matches(t){if(Bl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Bl(this.value.arrayValue,i)}}class Tw extends Le{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Bl(this.value.arrayValue,a)))}}class Aw{constructor(t,i=null,a=[],l=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function Nv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Aw(r,t,i,a,l,c,d)}function Fm(r){const t=wt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>mm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),yh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>oo(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>oo(a))).join(",")),t.Te=i}return t.Te}function Gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!dw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!_E(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Cv(r.startAt,t.startAt)&&Cv(r.endAt,t.endAt)}function pm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class vh{constructor(t,i=null,a=[],l=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function bw(r,t,i,a,l,c,d,p){return new vh(r,t,i,a,l,c,d,p)}function Eh(r){return new vh(r)}function Iv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Sw(r){return r.collectionGroup!==null}function Ol(r){const t=wt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new je(Je.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new eh(c,a))})),i.has(Je.keyField().canonicalString())||t.Ie.push(new eh(Je.keyField(),a))}return t.Ie}function Oi(r){const t=wt(r);return t.Ee||(t.Ee=ww(t,Ol(r))),t.Ee}function ww(r,t){if(r.limitType==="F")return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new eh(l.field,c)}));const i=r.endAt?new th(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new th(r.startAt.position,r.startAt.inclusive):null;return Nv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function gm(r,t,i){return new vh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Th(r,t){return Gm(Oi(r),Oi(t))&&r.limitType===t.limitType}function TE(r){return`${Fm(Oi(r))}|lt:${r.limitType}`}function Ya(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>vE(l))).join(", ")}]`),yh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>oo(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>oo(l))).join(",")),`Target(${a})`})(Oi(r))}; limitType=${r.limitType})`}function Ah(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Ol(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,p,y){const _=xv(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,Ol(a),l)||a.endAt&&!(function(d,p,y){const _=xv(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,Ol(a),l))})(r,t)}function Rw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function AE(r){return(t,i)=>{let a=!1;for(const l of Ol(r)){const c=xw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function xw(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?ao(y,_):vt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return vt(19790,{direction:r.dir})}}class sa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){vr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return aE(this.inner)}size(){return this.innerSize}}const Cw=new de(pt.comparator);function fs(){return Cw}const bE=new de(pt.comparator);function Cl(...r){let t=bE;for(const i of r)t=t.insert(i.key,i);return t}function SE(r){let t=bE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Jr(){return Vl()}function wE(){return Vl()}function Vl(){return new sa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Nw=new de(pt.comparator),Iw=new je(pt.comparator);function Pt(...r){let t=Iw;for(const i of r)t=t.add(i);return t}const Dw=new je(jt);function Mw(){return Dw}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Zc(t)?"-0":t}}function RE(r){return{integerValue:""+r}}function xE(r,t){return rw(t)?RE(t):Qm(r,t)}class bh{constructor(){this._=void 0}}function Ow(r,t,i){return r instanceof nh?(function(l,c){const d={fields:{[uE]:{stringValue:lE},[hE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&qm(c)&&(c=_h(c)),c&&(d.fields[cE]=c),{mapValue:d}})(i,t):r instanceof lo?NE(r,t):r instanceof uo?IE(r,t):(function(l,c){const d=CE(l,c),p=Dv(d)+Dv(l.Ae);return dm(d)&&dm(l.Ae)?RE(p):Qm(l.serializer,p)})(r,t)}function Vw(r,t,i){return r instanceof lo?NE(r,t):r instanceof uo?IE(r,t):i}function CE(r,t){return r instanceof ql?(function(a){return dm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class nh extends bh{}class lo extends bh{constructor(t){super(),this.elements=t}}function NE(r,t){const i=DE(t);for(const a of r.elements)i.some((l=>Pi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class uo extends bh{constructor(t){super(),this.elements=t}}function IE(r,t){let i=DE(t);for(const a of r.elements)i=i.filter((l=>!Pi(l,a)));return{arrayValue:{values:i}}}class ql extends bh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Dv(r){return Ae(r.integerValue||r.doubleValue)}function DE(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Km{constructor(t,i){this.field=t,this.transform=i}}function kw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof lo&&l instanceof lo||a instanceof uo&&l instanceof uo?ro(a.elements,l.elements,Pi):a instanceof ql&&l instanceof ql?Pi(a.Ae,l.Ae):a instanceof nh&&l instanceof nh})(r.transform,t.transform)}class Uw{constructor(t,i){this.version=t,this.transformResults=i}}class Tn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new Tn}static exists(t){return new Tn(void 0,t)}static updateTime(t){return new Tn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Bc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Sh{}function ME(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new wh(r.key,Tn.none()):new Kl(r.key,r.data,Tn.none());{const i=r.data,a=En.empty();let l=new je(Je.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new Er(r.key,a,new Mn(l.toArray()),Tn.none())}}function Lw(r,t,i){r instanceof Kl?(function(l,c,d){const p=l.value.clone(),y=Ov(l.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Er?(function(l,c,d){if(!Bc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const p=Ov(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(OE(l)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function kl(r,t,i,a){return r instanceof Kl?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=c.value.clone(),b=Vv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Er?(function(c,d,p,y){if(!Bc(c.precondition,d))return p;const _=Vv(c.fieldTransforms,y,d),b=d.data;return b.setAll(OE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Bc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function jw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=CE(a.transform,l||null);c!=null&&(i===null&&(i=En.empty()),i.set(a.field,c))}return i||null}function Mv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&ro(a,l,((c,d)=>kw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Kl extends Sh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Er extends Sh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function OE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Ov(r,t,i){const a=new Map;Xt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,p=t.data.field(c.field);a.set(c.field,Vw(d,p,i[l]))}return a}function Vv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Ow(c,d,t))}return a}class wh extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pw extends Sh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class zw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Lw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=kl(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=kl(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=wE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(l.key)?null:p;const y=ME(d,p);y!==null&&a.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(bt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Pt())}isEqual(t){return this.batchId===t.batchId&&ro(this.mutations,t.mutations,((i,a)=>Mv(i,a)))&&ro(this.baseMutations,t.baseMutations,((i,a)=>Mv(i,a)))}}class Ym{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Xt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Nw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Ym(t,i,a,l)}}class Bw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class qw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Oe,Bt;function Hw(r){switch(r){case Z.OK:return vt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return vt(15467,{code:r})}}function VE(r){if(r===void 0)return hs("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Oe.OK:return Z.OK;case Oe.CANCELLED:return Z.CANCELLED;case Oe.UNKNOWN:return Z.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return Z.INTERNAL;case Oe.UNAVAILABLE:return Z.UNAVAILABLE;case Oe.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Oe.NOT_FOUND:return Z.NOT_FOUND;case Oe.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Oe.ABORTED:return Z.ABORTED;case Oe.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Oe.DATA_LOSS:return Z.DATA_LOSS;default:return vt(39323,{code:r})}}(Bt=Oe||(Oe={}))[Bt.OK=0]="OK",Bt[Bt.CANCELLED=1]="CANCELLED",Bt[Bt.UNKNOWN=2]="UNKNOWN",Bt[Bt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Bt[Bt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Bt[Bt.NOT_FOUND=5]="NOT_FOUND",Bt[Bt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Bt[Bt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Bt[Bt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Bt[Bt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Bt[Bt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Bt[Bt.ABORTED=10]="ABORTED",Bt[Bt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Bt[Bt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Bt[Bt.INTERNAL=13]="INTERNAL",Bt[Bt.UNAVAILABLE=14]="UNAVAILABLE",Bt[Bt.DATA_LOSS=15]="DATA_LOSS";function Fw(){return new TextEncoder}const Gw=new ar([4294967295,4294967295],0);function kv(r){const t=Fw().encode(r),i=new X0;return i.update(t),new Uint8Array(i.digest())}function Uv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new ar([i,a],0),new ar([l,c],0)]}class Xm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Nl(`Invalid padding: ${i}`);if(a<0)throw new Nl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Nl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Nl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=ar.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(ar.fromNumber(a)));return l.compare(Gw)===1&&(l=new ar([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=kv(t),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Xm(c,l,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=kv(t),[a,l]=Uv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Rh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Yl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Rh(bt.min(),l,new de(jt),fs(),Pt())}}class Yl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Yl(a,i,Pt(),Pt(),Pt())}}class qc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class kE{constructor(t,i){this.targetId=t,this.Ce=i}}class UE{constructor(t,i,a=We.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Lv{constructor(){this.ve=0,this.Fe=jv(),this.Me=We.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Pt(),i=Pt(),a=Pt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:vt(38017,{changeType:c})}})),new Yl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=jv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Xt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Qw{constructor(t){this.Ge=t,this.ze=new Map,this.je=fs(),this.Je=Oc(),this.He=Oc(),this.Ye=new de(jt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:vt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(pm(c))if(a===0){const d=new pt(c.path);this.et(i,d,an.newNoDocument(d,bt.min()))}else Xt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,p;try{d=dr(a).toUint8Array()}catch(y){if(y instanceof oE)return so("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new Xm(d,l,c)}catch(y){return so(y instanceof Nl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&pm(p.target)){const y=new pt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Pt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Rh(t,i,this.Ye,this.je,a);return this.je=fs(),this.Je=Oc(),this.He=Oc(),this.Ye=new de(jt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Lv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new je(jt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new je(jt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Lv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Oc(){return new de(pt.comparator)}function jv(){return new de(pt.comparator)}const Kw={asc:"ASCENDING",desc:"DESCENDING"},Yw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Xw={and:"AND",or:"OR"};class $w{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function ym(r,t){return r.useProto3Json||yh(t)?t:{value:t}}function ih(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Zw(r,t){return ih(r,t.toTimestamp())}function Vi(r){return Xt(!!r,49232),bt.fromTimestamp((function(i){const a=fr(i);return new ce(a.seconds,a.nanos)})(r))}function $m(r,t){return _m(r,t).canonicalString()}function _m(r,t){const i=(function(l){return new ue(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function jE(r){const t=ue.fromString(r);return Xt(HE(t),10190,{key:t.toString()}),t}function vm(r,t){return $m(r.databaseId,t.path)}function Zd(r,t){const i=jE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(zE(i))}function PE(r,t){return $m(r.databaseId,t)}function Jw(r){const t=jE(r);return t.length===4?ue.emptyPath():zE(t)}function Em(r){return new ue(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function zE(r){return Xt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Pv(r,t,i){return{name:vm(r,t),fields:i.value.mapValue.fields}}function Ww(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:vt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Xt(b===void 0||typeof b=="string",58123),We.fromBase64String(b||"")):(Xt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),We.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const b=_.code===void 0?Z.UNKNOWN:VE(_.code);return new ct(b,_.message||"")})(d);i=new UE(a,l,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Zd(r,a.document.name),c=Vi(a.document.updateTime),d=a.document.createTime?Vi(a.document.createTime):bt.min(),p=new En({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(l,c,d,p),_=a.targetIds||[],b=a.removedTargetIds||[];i=new qc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Zd(r,a.document),c=a.readTime?Vi(a.readTime):bt.min(),d=an.newNoDocument(l,c),p=a.removedTargetIds||[];i=new qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Zd(r,a.document),c=a.removedTargetIds||[];i=new qc([],c,l,null)}else{if(!("filter"in t))return vt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new qw(l,c),p=a.targetId;i=new kE(p,d)}}return i}function t2(r,t){let i;if(t instanceof Kl)i={update:Pv(r,t.key,t.value)};else if(t instanceof wh)i={delete:vm(r,t.key)};else if(t instanceof Er)i={update:Pv(r,t.key,t.data),updateMask:u2(t.fieldMask)};else{if(!(t instanceof Pw))return vt(16599,{Vt:t.type});i={verify:vm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof nh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof lo)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof uo)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof ql)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw vt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Zw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:vt(27497)})(r,t.precondition)),i}function e2(r,t){return r&&r.length>0?(Xt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Vi(l.updateTime):Vi(c);return d.isEqual(bt.min())&&(d=Vi(c)),new Uw(d,l.transformResults||[])})(i,t)))):[]}function n2(r,t){return{documents:[PE(r,t.path)]}}function i2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=PE(r,l);const c=(function(_){if(_.length!==0)return qE(zi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(I){return{field:Xa(I.field),direction:a2(I.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=ym(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function s2(r){let t=Jw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Xt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const I=BE(S);return I instanceof zi&&yE(I)?I.getFilters():[I]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((I=>(function(W){return new eh($a(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(I)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let I;return I=typeof S=="object"?S.value:S,yh(I)?null:I})(i.limit));let y=null;i.startAt&&(y=(function(S){const I=!!S.before,G=S.values||[];return new th(G,I)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const I=!S.before,G=S.values||[];return new th(G,I)})(i.endAt)),bw(t,l,d,c,p,"F",y,_)}function r2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return vt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function BE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=$a(i.unaryFilter.field);return Le.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=$a(i.unaryFilter.field);return Le.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=$a(i.unaryFilter.field);return Le.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=$a(i.unaryFilter.field);return Le.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return vt(61313);default:return vt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Le.create($a(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return vt(58110);default:return vt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return zi.create(i.compositeFilter.filters.map((a=>BE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return vt(1026)}})(i.compositeFilter.op))})(r):vt(30097,{filter:r})}function a2(r){return Kw[r]}function o2(r){return Yw[r]}function l2(r){return Xw[r]}function Xa(r){return{fieldPath:r.canonicalString()}}function $a(r){return Je.fromServerFormat(r.fieldPath)}function qE(r){return r instanceof Le?(function(i){if(i.op==="=="){if(Rv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NAN"}};if(wv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Rv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NAN"}};if(wv(i.value))return{unaryFilter:{field:Xa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xa(i.field),op:o2(i.op),value:i.value}}})(r):r instanceof zi?(function(i){const a=i.getFilters().map((l=>qE(l)));return a.length===1?a[0]:{compositeFilter:{op:l2(i.op),filters:a}}})(r):vt(54877,{filter:r})}function u2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function HE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class nr{constructor(t,i,a,l,c=bt.min(),d=bt.min(),p=We.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new nr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new nr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class c2{constructor(t){this.yt=t}}function h2(r){const t=s2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?gm(t,t.limit,"L"):t}class f2{constructor(){this.Cn=new d2}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(hr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(hr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class d2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new je(ue.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new je(ue.comparator)).toArray()}}const zv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},FE=41943040;class _n{static withCacheSize(t){return new _n(t,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}_n.DEFAULT_COLLECTION_PERCENTILE=10,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_n.DEFAULT=new _n(FE,_n.DEFAULT_COLLECTION_PERCENTILE,_n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_n.DISABLED=new _n(-1,0,0);class co{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new co(0)}static cr(){return new co(-1)}}const Bv="LruGarbageCollector",m2=1048576;function qv([r,t],[i,a]){const l=jt(r,i);return l===0?jt(t,a):l}class p2{constructor(t){this.Ir=t,this.buffer=new je(qv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();qv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class g2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Bv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){yo(i)?rt(Bv,"Ignoring IndexedDB error during garbage collection: ",i):await go(i)}await this.Vr(3e5)}))}}class y2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(gh.ce);const a=new p2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(zv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),zv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,p,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),Ka()<=Lt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function _2(r,t){return new y2(r,t)}class v2{constructor(){this.changes=new sa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class E2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class T2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&kl(a.mutation,l,Mn.empty(),ce.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Pt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Pt()){const l=Jr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Cl();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Jr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Pt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,l){let c=fs();const d=Vl(),p=(function(){return Vl()})();return i.forEach(((y,_)=>{const b=a.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof Er)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),kl(b.mutation,_,b.mutation.getFieldMask(),ce.now())):d.set(_.key,Mn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>p.set(_,new E2(b,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Vl();let l=new de(((d,p)=>d-p)),c=Pt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=a.get(y)||Mn.empty();b=p.applyToLocalView(_,b),a.set(y,b);const S=(l.get(p.batchId)||Pt()).add(y);l=l.insert(p.batchId,S)}))})).next((()=>{const d=[],p=l.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,b=y.value,S=wE();b.forEach((I=>{if(!c.has(I)){const G=ME(i.get(I),a.get(I));G!==null&&S.set(I,G),c=c.add(I)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Sw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Jr());let p=jl,y=c;return d.next((_=>$.forEach(_,((b,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((I=>{y=y.insert(b,I)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Pt()))).next((b=>({batchId:p,changes:SE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Cl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Cl();return this.indexManager.getCollectionParents(t,c).next((p=>$.forEach(p,(y=>{const _=(function(S,I){return new vh(I,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,l).next((b=>{b.forEach(((S,I)=>{d=d.insert(S,I)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,an.newInvalidDocument(b)))}));let p=Cl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&kl(b.mutation,_,Mn.empty(),ce.now()),Ah(i,_)&&(p=p.insert(y,_))})),p}))}}class A2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Vi(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:h2(l.bundledQuery),readTime:Vi(l.readTime)}})(i)),$.resolve()}}class b2{constructor(){this.overlays=new de(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Jr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Jr(),c=i.length+1,d=new pt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&l.set(y.getKey(),y)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new de(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let b=c.get(_.largestBatchId);b===null&&(b=Jr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const p=Jr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>p.set(_,b))),!(p.size()>=l)););return $.resolve(p)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Bw(i,a));let c=this.qr.get(i);c===void 0&&(c=Pt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class S2{constructor(){this.sessionToken=We.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Zm{constructor(){this.Qr=new je(He.$r),this.Ur=new je(He.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new He(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new He(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new ue([])),a=new He(i,t),l=new He(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new ue([])),a=new He(i,t),l=new He(i,t+1);let c=Pt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new He(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class He{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||jt(t.Yr,i.Yr)}static Kr(t,i){return jt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class w2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new je(He.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new zw(c,i,a,l);this.mutationQueue.push(d);for(const p of l)this.Zr=this.Zr.add(new He(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new He(i,0),l=new He(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const p=this.Xr(d.Yr);c.push(p)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new je(jt);return i.forEach((l=>{const c=new He(l,0),d=new He(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new He(new pt(c),0);let p=new je(jt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===l&&(p=p.add(y.Yr)),!0)}),d),$.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Xt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new He(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new He(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class R2{constructor(t){this.ri=t,this.docs=(function(){return new de(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=fs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():an.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=fs();const d=i.path,p=new pt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ew(tw(b),a)<=0||(l.has(b.key)||Ah(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){vt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new x2(this)}getSize(t){return $.resolve(this.size)}}class x2 extends v2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class C2{constructor(t){this.persistence=t,this.si=new sa((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=bt.min(),this.highestTargetId=0,this.oi=0,this._i=new Zm,this.targetCount=0,this.ai=co.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new co(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class GE{constructor(t,i){this.ui={},this.overlays={},this.ci=new gh(0),this.li=!1,this.li=!0,this.hi=new S2,this.referenceDelegate=t(this),this.Pi=new C2(this),this.indexManager=new f2,this.remoteDocumentCache=(function(l){return new R2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new c2(i),this.Ii=new A2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new b2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new w2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new N2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class N2 extends iw{constructor(t){super(),this.currentSequenceNumber=t}}class Jm{constructor(t){this.persistence=t,this.Ri=new Zm,this.Vi=null}static mi(t){return new Jm(t)}get fi(){if(this.Vi)return this.Vi;throw vt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,bt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class sh{constructor(t,i){this.persistence=t,this.pi=new sa((a=>aw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=_2(this,i)}static mi(t,i){return new sh(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,bt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Pc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Wm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Pt(),l=Pt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Wm(t,i.fromCache,a,l)}}class I2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class D2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Ab()?8:sw(on())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new I2;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ka()<=Lt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Ya(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ka()<=Lt.DEBUG&&rt("QueryEngine","Query:",Ya(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ka()<=Lt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Ya(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Oi(i))):$.resolve())}ys(t,i){if(Iv(i))return $.resolve(null);let a=Oi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=gm(i,null,"F"),a=Oi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Pt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,gm(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,l){return Iv(i)||l.isEqual(bt.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ka()<=Lt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ya(i)),this.vs(t,d,i,WS(l,jl)).next((p=>p)))}))}Ds(t,i){let a=new je(AE(t));return i.forEach(((l,c)=>{Ah(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ka()<=Lt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Ya(i)),this.ps.getDocumentsMatchingQuery(t,i,hr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const tp="LocalStore",M2=3e8;class O2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new de(jt),this.xs=new sa((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new T2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function V2(r,t,i,a){return new O2(r,t,i,a)}async function QE(r,t){const i=wt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=Pt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){p.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function k2(r,t){const i=wt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,b){const S=_.batch,I=S.keys();let G=$.resolve();return I.forEach((W=>{G=G.next((()=>b.getEntry(y,W))).next((et=>{const J=_.docVersions.get(W);Xt(J!==null,48541),et.version.compareTo(J)<0&&(S.applyToRemoteDocument(et,_),et.isValidDocument()&&(et.setReadTime(_.commitVersion),b.addEntry(et)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=Pt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function KE(r){const t=wt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function U2(r,t){const i=wt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const p=[];t.targetChanges.forEach(((b,S)=>{const I=l.get(S);if(!I)return;p.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let G=I.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(We.EMPTY_BYTE_STRING,bt.min()).withLastLimboFreeSnapshotVersion(bt.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,a)),l=l.insert(S,G),(function(et,J,at){return et.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-et.snapshotVersion.toMicroseconds()>=M2?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(I,G,b)&&p.push(i.Pi.updateTargetData(c,G))}));let y=fs(),_=Pt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),p.push(L2(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!a.isEqual(bt.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(b)}return $.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function L2(r,t,i){let a=Pt(),l=Pt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=fs();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(p)),y.isNoDocument()&&y.version.isEqual(bt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):rt(tp,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function j2(r,t){const i=wt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function P2(r,t){const i=wt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new nr(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function Tm(r,t,i){const a=wt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!yo(d))throw d;rt(tp,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Hv(r,t,i){const a=wt(r);let l=bt.min(),c=Pt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const S=wt(y),I=S.xs.get(b);return I!==void 0?$.resolve(S.Ms.get(I)):S.Pi.getTargetData(_,b)})(a,d,Oi(t)).next((p=>{if(p)return l=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:bt.min(),i?c:Pt()))).next((p=>(z2(a,Rw(t),p),{documents:p,Qs:c})))))}function z2(r,t,i){let a=r.Os.get(t)||bt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Fv{constructor(){this.activeTargetIds=Mw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class B2{constructor(){this.Mo=new Fv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Fv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class q2{Oo(t){}shutdown(){}}const Gv="ConnectivityMonitor";class Qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Gv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Gv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Vc=null;function Am(){return Vc===null?Vc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Vc++,"0x"+Vc.toString(16)}const Jd="RestConnection",H2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class F2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Jc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Am(),p=this.zo(t,i.toUriEncodedString());rt(Jd,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(p),b=fo(_);return this.Jo(t,p,y,a,b).then((S=>(rt(Jd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw so(Jd,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+po})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=H2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class G2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const nn="WebChannelConnection";class Q2 extends F2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Am();return new Promise(((p,y)=>{const _=new $0;_.setWithCredentials(!0),_.listenOnce(Z0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case jc.NO_ERROR:const S=_.getResponseJson();rt(nn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case jc.TIMEOUT:rt(nn,`RPC '${t}' ${d} timed out`),y(new ct(Z.DEADLINE_EXCEEDED,"Request time out"));break;case jc.HTTP_ERROR:const I=_.getStatus();if(rt(nn,`RPC '${t}' ${d} failed with status:`,I,"response text:",_.getResponseText()),I>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const W=G?.error;if(W&&W.status&&W.message){const et=(function(at){const ut=at.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(ut)>=0?ut:Z.UNKNOWN})(W.status);y(new ct(et,W.message))}else y(new ct(Z.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(Z.UNAVAILABLE,"Connection failed."));break;default:vt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{rt(nn,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);rt(nn,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=tE(),p=W0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const b=c.join("");rt(nn,`Creating RPC '${t}' stream ${l}: ${b}`,y);const S=d.createWebChannel(b,y);this.I_(S);let I=!1,G=!1;const W=new G2({Yo:J=>{G?rt(nn,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(I||(rt(nn,`Opening RPC '${t}' stream ${l} transport.`),S.open(),I=!0),rt(nn,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),et=(J,at,ut)=>{J.listen(at,(ft=>{try{ut(ft)}catch(dt){setTimeout((()=>{throw dt}),0)}}))};return et(S,xl.EventType.OPEN,(()=>{G||(rt(nn,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),et(S,xl.EventType.CLOSE,(()=>{G||(G=!0,rt(nn,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),et(S,xl.EventType.ERROR,(J=>{G||(G=!0,so(nn,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new ct(Z.UNAVAILABLE,"The operation could not be completed")))})),et(S,xl.EventType.MESSAGE,(J=>{if(!G){const at=J.data[0];Xt(!!at,16349);const ut=at,ft=ut?.error||ut[0]?.error;if(ft){rt(nn,`RPC '${t}' stream ${l} received error:`,ft);const dt=ft.status;let qt=(function(w){const x=Oe[w];if(x!==void 0)return VE(x)})(dt),It=ft.message;qt===void 0&&(qt=Z.INTERNAL,It="Unknown error status: "+dt+" with message "+ft.message),G=!0,W.a_(new ct(qt,It)),S.close()}else rt(nn,`RPC '${t}' stream ${l} received:`,at),W.u_(at)}})),et(p,J0.STAT_EVENT,(J=>{J.stat===cm.PROXY?rt(nn,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===cm.NOPROXY&&rt(nn,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Wd(){return typeof document<"u"?document:null}function xh(r){return new $w(r,!0)}class YE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Kv="PersistentStream";class XE{constructor(t,i,a,l,c,d,p,y){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new YE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(hs(i.toString()),hs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ct(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Kv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Kv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class K2 extends XE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Ww(this.serializer,t),a=(function(c){if(!("targetChange"in c))return bt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?bt.min():d.readTime?Vi(d.readTime):bt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Em(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=pm(y)?{documents:n2(c,y)}:{query:i2(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=LE(c,d.resumeToken);const _=ym(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(bt.min())>0){p.readTime=ih(c,d.snapshotVersion.toTimestamp());const _=ym(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=r2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Em(this.serializer),i.removeTarget=t,this.q_(i)}}class Y2 extends XE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Xt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Xt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Xt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=e2(t.writeResults,t.commitTime),a=Vi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Em(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>t2(this.serializer,a)))};this.q_(i)}}class X2{}class $2 extends X2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,_m(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,_m(i,a),l,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Z2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(hs(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const na="RemoteStore";class J2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{ra(this)&&(rt(na,"Restarting streams for network reachability change."),await(async function(y){const _=wt(y);_.Ea.add(4),await Xl(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Ch(_)})(this))}))})),this.Ra=new Z2(a,l)}}async function Ch(r){if(ra(r))for(const t of r.da)await t(!0)}async function Xl(r){for(const t of r.da)await t(!1)}function $E(r,t){const i=wt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),sp(i)?ip(i):_o(i).O_()&&np(i,t))}function ep(r,t){const i=wt(r),a=_o(i);i.Ia.delete(t),a.O_()&&ZE(i,t),i.Ia.size===0&&(a.O_()?a.L_():ra(i)&&i.Ra.set("Unknown"))}function np(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(bt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}_o(r).Y_(t)}function ZE(r,t){r.Va.Ue(t),_o(r).Z_(t)}function ip(r){r.Va=new Qw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),_o(r).start(),r.Ra.ua()}function sp(r){return ra(r)&&!_o(r).x_()&&r.Ia.size>0}function ra(r){return wt(r).Ea.size===0}function JE(r){r.Va=void 0}async function W2(r){r.Ra.set("Online")}async function tR(r){r.Ia.forEach(((t,i)=>{np(r,t)}))}async function eR(r,t){JE(r),sp(r)?(r.Ra.ha(t),ip(r)):r.Ra.set("Unknown")}async function nR(r,t,i){if(r.Ra.set("Online"),t instanceof UE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const p of c.targetIds)l.Ia.has(p)&&(await l.remoteSyncer.rejectListen(p,d),l.Ia.delete(p),l.Va.removeTarget(p))})(r,t)}catch(a){rt(na,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await rh(r,a)}else if(t instanceof qc?r.Va.Ze(t):t instanceof kE?r.Va.st(t):r.Va.tt(t),!i.isEqual(bt.min()))try{const a=await KE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(We.EMPTY_BYTE_STRING,b.snapshotVersion)),ZE(c,y);const S=new nr(b.target,y,_,b.sequenceNumber);np(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){rt(na,"Failed to raise snapshot:",a),await rh(r,a)}}async function rh(r,t,i){if(!yo(t))throw t;r.Ea.add(1),await Xl(r),r.Ra.set("Offline"),i||(i=()=>KE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(na,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Ch(r)}))}function WE(r,t){return t().catch((i=>rh(r,i,t)))}async function Nh(r){const t=wt(r),i=pr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;iR(t);)try{const l=await j2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,sR(t,l)}catch(l){await rh(t,l)}t1(t)&&e1(t)}function iR(r){return ra(r)&&r.Ta.length<10}function sR(r,t){r.Ta.push(t);const i=pr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function t1(r){return ra(r)&&!pr(r).x_()&&r.Ta.length>0}function e1(r){pr(r).start()}async function rR(r){pr(r).ra()}async function aR(r){const t=pr(r);for(const i of r.Ta)t.ea(i.mutations)}async function oR(r,t,i){const a=r.Ta.shift(),l=Ym.from(a,t,i);await WE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Nh(r)}async function lR(r,t){t&&pr(r).X_&&await(async function(a,l){if((function(d){return Hw(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();pr(a).B_(),await WE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Nh(a)}})(r,t),t1(r)&&e1(r)}async function Yv(r,t){const i=wt(r);i.asyncQueue.verifyOperationInProgress(),rt(na,"RemoteStore received new credentials");const a=ra(i);i.Ea.add(3),await Xl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Ch(i)}async function uR(r,t){const i=wt(r);t?(i.Ea.delete(2),await Ch(i)):t||(i.Ea.add(2),await Xl(i),i.Ra.set("Unknown"))}function _o(r){return r.ma||(r.ma=(function(i,a,l){const c=wt(i);return c.sa(),new K2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:W2.bind(null,r),t_:tR.bind(null,r),r_:eR.bind(null,r),H_:nR.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),sp(r)?ip(r):r.Ra.set("Unknown")):(await r.ma.stop(),JE(r))}))),r.ma}function pr(r){return r.fa||(r.fa=(function(i,a,l){const c=wt(i);return c.sa(),new Y2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:rR.bind(null,r),r_:lR.bind(null,r),ta:aR.bind(null,r),na:oR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Nh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(na,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class rp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,p=new rp(t,i,d,l,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ap(r,t){if(hs("AsyncQueue",`${t}: ${r}`),yo(r))return new ct(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ja{static emptySet(t){return new Ja(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Cl(),this.sortedSet=new de(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ja)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ja;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Xv{constructor(){this.ga=new de(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):vt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ho{constructor(t,i,a,l,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new ho(t,i,Ja.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Th(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class cR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class hR{constructor(){this.queries=$v(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=wt(i),c=l.queries;l.queries=$v(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ct(Z.ABORTED,"Firestore shutting down"))}}function $v(){return new sa((r=>TE(r)),Th)}async function n1(r,t){const i=wt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new cR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const p=ap(d,`Initialization of query '${Ya(t.query)}' failed`);return void t.onError(p)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&op(i)}async function i1(r,t){const i=wt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function fR(r,t){const i=wt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(l)&&(a=!0);d.wa=l}}a&&op(i)}function dR(r,t,i){const a=wt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function op(r){r.Ca.forEach((t=>{t.next()}))}var bm,Zv;(Zv=bm||(bm={})).Ma="default",Zv.Cache="cache";class s1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ho(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ho.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==bm.Cache}}class r1{constructor(t){this.key=t}}class a1{constructor(t){this.key=t}}class mR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Pt(),this.mutatedKeys=Pt(),this.eu=AE(t),this.tu=new Ja(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Xv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,p=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const I=l.get(b),G=Ah(this.query,S)?S:null,W=!!I&&this.mutatedKeys.has(I.key),et=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let J=!1;I&&G?I.data.isEqual(G.data)?W!==et&&(a.track({type:3,doc:G}),J=!0):this.su(I,G)||(a.track({type:2,doc:G}),J=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!I&&G?(a.track({type:0,doc:G}),J=!0):I&&!G&&(a.track({type:1,doc:I}),J=!0,(y||_)&&(p=!0)),J&&(G?(d=d.add(G),c=et?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(G,W){const et=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return vt(20277,{Rt:J})}};return et(G)-et(W)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const p=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ho(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Xv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Pt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new a1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new r1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Pt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ho.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const lp="SyncEngine";class pR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class gR{constructor(t){this.key=t,this.hu=!1}}class yR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new sa((p=>TE(p)),Th),this.Iu=new Map,this.Eu=new Set,this.du=new de(pt.comparator),this.Au=new Map,this.Ru=new Zm,this.Vu={},this.mu=new Map,this.fu=co.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function _R(r,t,i=!0){const a=f1(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await o1(a,t,i,!0),l}async function vR(r,t){const i=f1(r);await o1(i,t,!0,!1)}async function o1(r,t,i,a){const l=await P2(r.localStore,Oi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await ER(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&$E(r.remoteStore,l),p}async function ER(r,t,i,a,l){r.pu=(S,I,G)=>(async function(et,J,at,ut){let ft=J.view.ru(at);ft.Cs&&(ft=await Hv(et.localStore,J.query,!1).then((({documents:N})=>J.view.ru(N,ft))));const dt=ut&&ut.targetChanges.get(J.targetId),qt=ut&&ut.targetMismatches.get(J.targetId)!=null,It=J.view.applyChanges(ft,et.isPrimaryClient,dt,qt);return Wv(et,J.targetId,It.au),It.snapshot})(r,S,I,G);const c=await Hv(r.localStore,t,!0),d=new mR(t,c.Qs),p=d.ru(c.documents),y=Yl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),_=d.applyChanges(p,r.isPrimaryClient,y);Wv(r,i,_.au);const b=new pR(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function TR(r,t,i){const a=wt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!Th(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await Tm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&ep(a.remoteStore,l.targetId),Sm(a,l.targetId)})).catch(go)):(Sm(a,l.targetId),await Tm(a.localStore,l.targetId,!0))}async function AR(r,t){const i=wt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),ep(i.remoteStore,a.targetId))}async function bR(r,t,i){const a=IR(r);try{const l=await(function(d,p){const y=wt(d),_=ce.now(),b=p.reduce(((G,W)=>G.add(W.key)),Pt());let S,I;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let W=fs(),et=Pt();return y.Ns.getEntries(G,b).next((J=>{W=J,W.forEach(((at,ut)=>{ut.isValidDocument()||(et=et.add(at))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,W))).next((J=>{S=J;const at=[];for(const ut of p){const ft=jw(ut,S.get(ut.key).overlayedDocument);ft!=null&&at.push(new Er(ut.key,ft,mE(ft.value.mapValue),Tn.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,at,p)})).next((J=>{I=J;const at=J.applyToLocalDocumentSet(S,et);return y.documentOverlayCache.saveOverlays(G,J.batchId,at)}))})).then((()=>({batchId:I.batchId,changes:SE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new de(jt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,l.batchId,i),await $l(a,l.changes),await Nh(a.remoteStore)}catch(l){const c=ap(l,"Failed to persist write");i.reject(c)}}async function l1(r,t){const i=wt(r);try{const a=await U2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Xt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Xt(d.hu,14607):l.removedDocuments.size>0&&(Xt(d.hu,42227),d.hu=!1))})),await $l(i,a,t)}catch(a){await go(a)}}function Jv(r,t,i){const a=wt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&l.push(p.snapshot)})),(function(d,p){const y=wt(d);y.onlineState=p;let _=!1;y.queries.forEach(((b,S)=>{for(const I of S.Sa)I.va(p)&&(_=!0)})),_&&op(y)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function SR(r,t,i){const a=wt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new de(pt.comparator);d=d.insert(c,an.newNoDocument(c,bt.min()));const p=Pt().add(c),y=new Rh(bt.min(),new Map,new de(jt),d,p);await l1(a,y),a.du=a.du.remove(c),a.Au.delete(t),up(a)}else await Tm(a.localStore,t,!1).then((()=>Sm(a,t,i))).catch(go)}async function wR(r,t){const i=wt(r),a=t.batch.batchId;try{const l=await k2(i.localStore,t);c1(i,a,null),u1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await $l(i,l)}catch(l){await go(l)}}async function RR(r,t,i){const a=wt(r);try{const l=await(function(d,p){const y=wt(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>(Xt(S!==null,37113),b=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(a.localStore,t);c1(a,t,i),u1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await $l(a,l)}catch(l){await go(l)}}function u1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function c1(r,t,i){const a=wt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Sm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||h1(r,a)}))}function h1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(ep(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),up(r))}function Wv(r,t,i){for(const a of i)a instanceof r1?(r.Ru.addReference(a.key,t),xR(r,a)):a instanceof a1?(rt(lp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||h1(r,a.key)):vt(19791,{wu:a})}function xR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(lp,"New document in limbo: "+i),r.Eu.add(a),up(r))}function up(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(ue.fromString(t)),a=r.fu.next();r.Au.set(a,new gR(i)),r.du=r.du.insert(i,a),$E(r.remoteStore,new nr(Oi(Eh(i.path)),a,"TargetPurposeLimboResolution",gh.ce))}}async function $l(r,t,i){const a=wt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Wm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(y,_){const b=wt(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(_,(I=>$.forEach(I.Es,(G=>b.persistence.referenceDelegate.addReference(S,I.targetId,G))).next((()=>$.forEach(I.ds,(G=>b.persistence.referenceDelegate.removeReference(S,I.targetId,G)))))))))}catch(S){if(!yo(S))throw S;rt(tp,"Failed to update sequence numbers: "+S)}for(const S of _){const I=S.targetId;if(!S.fromCache){const G=b.Ms.get(I),W=G.snapshotVersion,et=G.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(I,et)}}})(a.localStore,c))}async function CR(r,t){const i=wt(r);if(!i.currentUser.isEqual(t)){rt(lp,"User change. New user:",t.toKey());const a=await QE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await $l(i,a.Ls)}}function NR(r,t){const i=wt(r),a=i.Au.get(t);if(a&&a.hu)return Pt().add(a.key);{let l=Pt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const p=i.Tu.get(d);l=l.unionWith(p.view.nu)}return l}}function f1(r){const t=wt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=NR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=SR.bind(null,t),t.Pu.H_=fR.bind(null,t.eventManager),t.Pu.yu=dR.bind(null,t.eventManager),t}function IR(r){const t=wt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=wR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=RR.bind(null,t),t}class ah{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=xh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return V2(this.persistence,new D2,t.initialUser,this.serializer)}Cu(t){return new GE(Jm.mi,this.serializer)}Du(t){return new B2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ah.provider={build:()=>new ah};class DR extends ah{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Xt(this.persistence.referenceDelegate instanceof sh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new g2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?_n.withCacheSize(this.cacheSizeBytes):_n.DEFAULT;return new GE((a=>sh.mi(a,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Jv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=CR.bind(null,this.syncEngine),await uR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new hR})()}createDatastore(t){const i=xh(t.databaseInfo.databaseId),a=(function(c){return new Q2(c)})(t.databaseInfo);return(function(c,d,p,y){return new $2(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,p){return new J2(a,l,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>Jv(this.syncEngine,i,0)),(function(){return Qv.v()?new Qv:new q2})())}createSyncEngine(t,i){return(function(l,c,d,p,y,_,b){const S=new yR(l,c,d,p,y,_);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=wt(i);rt(na,"RemoteStore shutting down."),a.Ea.add(5),await Xl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class d1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):hs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const gr="FirestoreClient";class MR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=rn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(gr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(gr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ap(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function tm(r,t){r.asyncQueue.verifyOperationInProgress(),rt(gr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await QE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function t0(r,t){r.asyncQueue.verifyOperationInProgress();const i=await OR(r);rt(gr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Yv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Yv(t.remoteStore,l))),r._onlineComponents=t}async function OR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(gr,"Using user provided OfflineComponentProvider");try{await tm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;so("Error using user provided cache. Falling back to memory cache: "+i),await tm(r,new ah)}}else rt(gr,"Using default OfflineComponentProvider"),await tm(r,new DR(void 0));return r._offlineComponents}async function m1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(gr,"Using user provided OnlineComponentProvider"),await t0(r,r._uninitializedComponentsProvider._online)):(rt(gr,"Using default OnlineComponentProvider"),await t0(r,new wm))),r._onlineComponents}function VR(r){return m1(r).then((t=>t.syncEngine))}async function Rm(r){const t=await m1(r),i=t.eventManager;return i.onListen=_R.bind(null,t.syncEngine),i.onUnlisten=TR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=vR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=AR.bind(null,t.syncEngine),i}function kR(r,t,i={}){const a=new or;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const b=new d1({next:I=>{b.Nu(),d.enqueueAndForget((()=>i1(c,S)));const G=I.docs.has(p);!G&&I.fromCache?_.reject(new ct(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&I.fromCache&&y&&y.source==="server"?_.reject(new ct(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(I)},error:I=>_.reject(I)}),S=new s1(Eh(p.path),b,{includeMetadataChanges:!0,qa:!0});return n1(c,S)})(await Rm(r),r.asyncQueue,t,i,a))),a.promise}function p1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const e0=new Map;const g1="firestore.googleapis.com",n0=!0;class i0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=g1,this.ssl=n0}else this.host=t.host,this.ssl=t.ssl??n0;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=FE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<m2)throw new ct(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}JS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=p1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ih{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new qS;switch(a.type){case"firstParty":return new QS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=e0.get(i);a&&(rt("ComponentProvider","Removing Datastore"),e0.delete(i),a.terminate())})(this),Promise.resolve()}}function UR(r,t,i,a={}){r=Kn(r,Ih);const l=fo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;l&&(B0(`https://${p}`),q0("Firestore",!0)),c.host!==g1&&c.host!==p&&so("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:l,emulatorOptions:a};if(!us(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,b;if(typeof a.mockUserToken=="string")_=a.mockUserToken,b=rn.MOCK_USER;else{_=db(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ct(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new rn(S)}r._authCredentials=new HS(new nE(_,b))}}class Dh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Dh(this.firestore,t,this._query)}}class be{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new lr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new be(this.firestore,t,this._key)}toJSON(){return{type:be._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Ql(i,be._jsonSchema))return new be(t,a||null,new pt(ue.fromString(i.referencePath)))}}be._jsonSchemaVersion="firestore/documentReference/1.0",be._jsonSchema={type:Ve("string",be._jsonSchemaVersion),referencePath:Ve("string")};class lr extends Dh{constructor(t,i,a){super(t,i,Eh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new be(this.firestore,null,new pt(t))}withConverter(t){return new lr(this.firestore,t,this._path)}}function em(r,t,...i){if(r=Fe(r),iE("collection","path",t),r instanceof Ih){const a=ue.fromString(t,...i);return yv(a),new lr(r,null,a)}{if(!(r instanceof be||r instanceof lr))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return yv(a),new lr(r.firestore,null,a)}}function ge(r,t,...i){if(r=Fe(r),arguments.length===1&&(t=Pm.newId()),iE("doc","path",t),r instanceof Ih){const a=ue.fromString(t,...i);return gv(a),new be(r,null,new pt(a))}{if(!(r instanceof be||r instanceof lr))throw new ct(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ue.fromString(t,...i));return gv(a),new be(r.firestore,r instanceof lr?r.converter:null,new pt(a))}}const s0="AsyncQueue";class r0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new YE(this,"async_queue_retry"),this._c=()=>{const a=Wd();a&&rt(s0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Wd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Wd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!yo(t))throw t;rt(s0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,hs("INTERNAL UNHANDLED ERROR: ",a0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=rp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&vt(47125,{Pc:a0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function a0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function o0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class yr extends Ih{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new r0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new r0(t),this._firestoreClient=void 0,await t}}}function LR(r,t){const i=typeof r=="object"?r:Q0(),a=typeof r=="string"?r:Jc,l=Lm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=hb("firestore");c&&UR(l,...c)}return l}function Mh(r){if(r._terminated)throw new ct(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||jR(r),r._firestoreClient}function jR(r){const t=r._freezeSettings(),i=(function(l,c,d,p){return new uw(l,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,p1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new MR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class Qn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Qn(We.fromBase64String(t))}catch(i){throw new ct(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Qn(We.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Qn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Ql(t,Qn._jsonSchema))return Qn.fromBase64String(t.bytes)}}Qn._jsonSchemaVersion="firestore/bytes/1.0",Qn._jsonSchema={type:Ve("string",Qn._jsonSchemaVersion),bytes:Ve("string")};class Zl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vo{constructor(t){this._methodName=t}}class ki{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ki._jsonSchemaVersion}}static fromJSON(t){if(Ql(t,ki._jsonSchema))return new ki(t.latitude,t.longitude)}}ki._jsonSchemaVersion="firestore/geoPoint/1.0",ki._jsonSchema={type:Ve("string",ki._jsonSchemaVersion),latitude:Ve("number"),longitude:Ve("number")};class Ui{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ui._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Ql(t,Ui._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ui(t.vectorValues);throw new ct(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ui._jsonSchemaVersion="firestore/vectorValue/1.0",Ui._jsonSchema={type:Ve("string",Ui._jsonSchemaVersion),vectorValues:Ve("object")};const PR=/^__.*__$/;class zR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Er(t,this.data,this.fieldMask,i,this.fieldTransforms):new Kl(t,this.data,i,this.fieldTransforms)}}class y1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Er(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function _1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw vt(40011,{Ac:r})}}class Oh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Oh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return oh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(_1(this.Ac)&&PR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class BR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||xh(t)}Cc(t,i,a,l=!1){return new Oh({Ac:t,methodName:i,Dc:a,path:Je.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function cp(r){const t=r._freezeSettings(),i=xh(r._databaseId);return new BR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function v1(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);mp("Data must be an object, but it was:",d,a);const p=b1(a,d);let y,_;if(c.merge)y=new Mn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const I=xm(t,S,i);if(!d.contains(I))throw new ct(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);w1(b,I)||b.push(I)}y=new Mn(b),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new zR(new En(p),y,_)}class Vh extends vo{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Vh}}function E1(r,t,i){return new Oh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class hp extends vo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=E1(this,t,!0),a=this.vc.map((c=>Eo(c,i))),l=new lo(a);return new Km(t.path,l)}isEqual(t){return t instanceof hp&&us(this.vc,t.vc)}}class fp extends vo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=E1(this,t,!0),a=this.vc.map((c=>Eo(c,i))),l=new uo(a);return new Km(t.path,l)}isEqual(t){return t instanceof fp&&us(this.vc,t.vc)}}class dp extends vo{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new ql(t.serializer,xE(t.serializer,this.Fc));return new Km(t.path,i)}isEqual(t){return t instanceof dp&&this.Fc===t.Fc}}function T1(r,t,i,a){const l=r.Cc(1,t,i);mp("Data must be an object, but it was:",l,a);const c=[],d=En.empty();vr(a,((y,_)=>{const b=pp(t,y,i);_=Fe(_);const S=l.yc(b);if(_ instanceof Vh)c.push(b);else{const I=Eo(_,S);I!=null&&(c.push(b),d.set(b,I))}}));const p=new Mn(c);return new y1(d,p,l.fieldTransforms)}function A1(r,t,i,a,l,c){const d=r.Cc(1,t,i),p=[xm(t,a,i)],y=[l];if(c.length%2!=0)throw new ct(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<c.length;I+=2)p.push(xm(t,c[I])),y.push(c[I+1]);const _=[],b=En.empty();for(let I=p.length-1;I>=0;--I)if(!w1(_,p[I])){const G=p[I];let W=y[I];W=Fe(W);const et=d.yc(G);if(W instanceof Vh)_.push(G);else{const J=Eo(W,et);J!=null&&(_.push(G),b.set(G,J))}}const S=new Mn(_);return new y1(b,S,d.fieldTransforms)}function Eo(r,t){if(S1(r=Fe(r)))return mp("Unsupported field value:",t,r),b1(r,t);if(r instanceof vo)return(function(a,l){if(!_1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const p of a){let y=Eo(p,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Fe(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return xE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ce.fromDate(a);return{timestampValue:ih(l.serializer,c)}}if(a instanceof ce){const c=new ce(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:ih(l.serializer,c)}}if(a instanceof ki)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Qn)return{bytesValue:LE(l.serializer,a._byteString)};if(a instanceof be){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:$m(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ui)return(function(d,p){return{mapValue:{fields:{[fE]:{stringValue:dE},[Wc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,_)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${zm(a)}`)})(r,t)}function b1(r,t){const i={};return aE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vr(r,((a,l)=>{const c=Eo(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function S1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ce||r instanceof ki||r instanceof Qn||r instanceof be||r instanceof vo||r instanceof Ui)}function mp(r,t,i){if(!S1(i)||!sE(i)){const a=zm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function xm(r,t,i){if((t=Fe(t))instanceof Zl)return t._internalPath;if(typeof t=="string")return pp(r,t);throw oh("Field path arguments must be of type string or ",r,!1,void 0,i)}const qR=new RegExp("[~\\*/\\[\\]]");function pp(r,t,i){if(t.search(qR)>=0)throw oh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Zl(...t.split("."))._internalPath}catch{throw oh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function oh(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${l}`),y+=")"),new ct(Z.INVALID_ARGUMENT,p+r+y)}function w1(r,t){return r.some((i=>i.isEqual(t)))}class R1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new be(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new HR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(x1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class HR extends R1{data(){return super.data()}}function x1(r,t){return typeof t=="string"?pp(r,t):t instanceof Zl?t._internalPath:t._delegate._internalPath}function FR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GR{convertValue(t,i="none"){switch(mr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ae(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(dr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw vt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return vr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Wc].arrayValue?.values?.map((a=>Ae(a.doubleValue)));return new Ui(i)}convertGeoPoint(t){return new ki(Ae(t.latitude),Ae(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=_h(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Pl(t));default:return null}}convertTimestamp(t){const i=fr(t);return new ce(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ue.fromString(t);Xt(HE(a),9688,{name:t});const l=new zl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||hs(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function C1(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Il{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Wr extends R1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Hc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(x1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Wr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Wr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Wr._jsonSchema={type:Ve("string",Wr._jsonSchemaVersion),bundleSource:Ve("string","DocumentSnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class Hc extends Wr{data(t={}){return super.data(t)}}class Wa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Il(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Hc(this._firestore,this._userDataWriter,a.key,a,new Il(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Hc(l._firestore,l._userDataWriter,p.doc.key,p.doc,new Il(l._snapshot.mutatedKeys.has(p.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),b=d.indexOf(p.doc.key)),{type:QR(p.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Wa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function QR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return vt(61501,{type:r})}}function Fc(r){r=Kn(r,be);const t=Kn(r.firestore,yr);return kR(Mh(t),r._key).then((i=>I1(t,r,i)))}Wa._jsonSchemaVersion="firestore/querySnapshot/1.0",Wa._jsonSchema={type:Ve("string",Wa._jsonSchemaVersion),bundleSource:Ve("string","QuerySnapshot"),bundleName:Ve("string"),bundle:Ve("string")};class N1 extends GR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Qn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new be(this.firestore,null,i)}}function Zs(r,t,i){r=Kn(r,be);const a=Kn(r.firestore,yr),l=C1(r.converter,t,i);return kh(a,[v1(cp(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,Tn.none())])}function vn(r,t,i,...a){r=Kn(r,be);const l=Kn(r.firestore,yr),c=cp(l);let d;return d=typeof(t=Fe(t))=="string"||t instanceof Zl?A1(c,"updateDoc",r._key,t,i,a):T1(c,"updateDoc",r._key,t),kh(l,[d.toMutation(r._key,Tn.exists(!0))])}function l0(r){return kh(Kn(r.firestore,yr),[new wh(r._key,Tn.none())])}function kc(r,...t){r=Fe(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||o0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(o0(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof be)d=Kn(r.firestore,yr),p=Eh(r._key.path),c={next:y=>{t[a]&&t[a](I1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=Kn(r,Dh);d=Kn(y.firestore,yr),p=y._query;const _=new N1(d);c={next:b=>{t[a]&&t[a](new Wa(d,_,y,b))},error:t[a+1],complete:t[a+2]},FR(r._query)}return(function(_,b,S,I){const G=new d1(I),W=new s1(b,G,S);return _.asyncQueue.enqueueAndForget((async()=>n1(await Rm(_),W))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>i1(await Rm(_),W)))}})(Mh(d),p,l,c)}function kh(r,t){return(function(a,l){const c=new or;return a.asyncQueue.enqueueAndForget((async()=>bR(await VR(a),l,c))),c.promise})(Mh(r),t)}function I1(r,t,i){const a=i.docs.get(t._key),l=new N1(r);return new Wr(r,l,t._key,a,new Il(i.hasPendingWrites,i.fromCache),t.converter)}class KR{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=cp(t)}set(t,i,a){this._verifyNotCommitted();const l=nm(t,this._firestore),c=C1(l.converter,i,a),d=v1(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,Tn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=nm(t,this._firestore);let d;return d=typeof(i=Fe(i))=="string"||i instanceof Zl?A1(this._dataReader,"WriteBatch.update",c._key,i,a,l):T1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,Tn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=nm(t,this._firestore);return this._mutations=this._mutations.concat(new wh(i._key,Tn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ct(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function nm(r,t){if((r=Fe(r)).firestore!==t)throw new ct(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function YR(...r){return new hp("arrayUnion",r)}function lh(...r){return new fp("arrayRemove",r)}function Mi(r){return new dp("increment",r)}function XR(r){return Mh(r=Kn(r,yr)),new KR(r,(t=>kh(r,t)))}(function(t,i=!0){(function(l){po=l})(mo),io(new ta("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new yr(new FS(a.getProvider("auth-internal")),new KS(d,a.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zl(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),rr(fv,dv,t),rr(fv,dv,"esm2020")})();function D1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $R=D1,M1=new Fl("auth","Firebase",D1());const uh=new km("@firebase/auth");function ZR(r,...t){uh.logLevel<=Lt.WARN&&uh.warn(`Auth (${mo}): ${r}`,...t)}function Gc(r,...t){uh.logLevel<=Lt.ERROR&&uh.error(`Auth (${mo}): ${r}`,...t)}function ds(r,...t){throw gp(r,...t)}function Li(r,...t){return gp(r,...t)}function O1(r,t,i){const a={...$R(),[t]:i};return new Fl("auth","Firebase",a).create(t,{appName:r.name})}function ur(r){return O1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function gp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return M1.create(r,...t)}function At(r,t,...i){if(!r)throw gp(t,...i)}function os(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Gc(t),new Error(t)}function ms(r,t){r||os(t)}function Cm(){return typeof self<"u"&&self.location?.href||""}function JR(){return u0()==="http:"||u0()==="https:"}function u0(){return typeof self<"u"&&self.location?.protocol||null}function WR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(JR()||vb()||"connection"in navigator)?navigator.onLine:!0}function tx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Jl{constructor(t,i){this.shortDelay=t,this.longDelay=i,ms(i>t,"Short delay should be less than long delay!"),this.isMobile=gb()||Eb()}get(){return WR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function yp(r,t){ms(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class V1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;os("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;os("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;os("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const ex={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const nx=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ix=new Jl(3e4,6e4);function Uh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function To(r,t,i,a,l={}){return k1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Gl({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return _b()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&fo(r.emulatorConfig.host)&&(_.credentials="include"),V1.fetch()(await L1(r,r.config.apiHost,i,p),_)})}async function k1(r,t,i){r._canInitEmulator=!1;const a={...ex,...t};try{const l=new sx(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Uc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Uc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Uc(r,"user-disabled",d);const b=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw O1(r,b,_);ds(r,b)}}catch(l){if(l instanceof ps)throw l;ds(r,"network-request-failed",{message:String(l)})}}async function U1(r,t,i,a,l={}){const c=await To(r,t,i,a,l);return"mfaPendingCredential"in c&&ds(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function L1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?yp(r.config,l):`${r.config.apiScheme}://${l}`;return nx.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class sx{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Li(this.auth,"network-request-failed")),ix.get())})}}function Uc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Li(r,t,a);return l.customData._tokenResponse=i,l}async function rx(r,t){return To(r,"POST","/v1/accounts:delete",t)}async function ch(r,t){return To(r,"POST","/v1/accounts:lookup",t)}function Ul(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ax(r,t=!1){const i=Fe(r),a=await i.getIdToken(t),l=_p(a);At(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ul(im(l.auth_time)),issuedAtTime:Ul(im(l.iat)),expirationTime:Ul(im(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(r){return Number(r)*1e3}function _p(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Gc("JWT malformed, contained fewer than 3 sections"),null;try{const l=L0(i);return l?JSON.parse(l):(Gc("Failed to decode base64 JWT payload"),null)}catch(l){return Gc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function c0(r){const t=_p(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Hl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ps&&ox(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function ox({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class lx{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Nm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ul(this.lastLoginAt),this.creationTime=Ul(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hh(r){const t=r.auth,i=await r.getIdToken(),a=await Hl(r,ch(t,{idToken:i}));At(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?j1(l.providerUserInfo):[],d=cx(r.providerData,c),p=r.isAnonymous,y=!(r.email&&l.passwordHash)&&!d?.length,_=p?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(r,b)}async function ux(r){const t=Fe(r);await hh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function cx(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function j1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function hx(r,t){const i=await k1(r,{},async()=>{const a=Gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await L1(r,l,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&fo(r.emulatorConfig.host)&&(y.credentials="include"),V1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function fx(r,t){return To(r,"POST","/v2/accounts:revokeToken",Uh(r,t))}class to{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):c0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=c0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await hx(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new to;return a&&(At(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(At(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(At(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new to,this.toJSON())}_performRefresh(){return os("not implemented")}}function Xs(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class oi{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new lx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Nm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Hl(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ax(this,t)}reload(){return ux(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new oi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await hh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ai(this.auth.app))return Promise.reject(ur(this.auth));const t=await this.getIdToken();return await Hl(this,rx(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:I,isAnonymous:G,providerData:W,stsTokenManager:et}=i;At(S&&et,t,"internal-error");const J=to.fromJSON(this.name,et);At(typeof S=="string",t,"internal-error"),Xs(a,t.name),Xs(l,t.name),At(typeof I=="boolean",t,"internal-error"),At(typeof G=="boolean",t,"internal-error"),Xs(c,t.name),Xs(d,t.name),Xs(p,t.name),Xs(y,t.name),Xs(_,t.name),Xs(b,t.name);const at=new oi({uid:S,auth:t,email:l,emailVerified:I,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:J,createdAt:_,lastLoginAt:b});return W&&Array.isArray(W)&&(at.providerData=W.map(ut=>({...ut}))),y&&(at._redirectEventId=y),at}static async _fromIdTokenResponse(t,i,a=!1){const l=new to;l.updateFromServerResponse(i);const c=new oi({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await hh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];At(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?j1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,p=new to;p.updateFromIdToken(a);const y=new oi({uid:l.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Nm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const h0=new Map;function ls(r){ms(r instanceof Function,"Expected a class definition");let t=h0.get(r);return t?(ms(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,h0.set(r,t),t)}class P1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}P1.type="NONE";const f0=P1;function Qc(r,t,i){return`firebase:${r}:${t}:${i}`}class eo{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=Qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=Qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ch(this.auth,{idToken:t}).catch(()=>{});return i?oi._fromGetAccountInfoResponse(this.auth,i,t):null}return oi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new eo(ls(f0),t,a);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ls(f0);const d=Qc(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const b=await _._get(d);if(b){let S;if(typeof b=="string"){const I=await ch(t,{idToken:b}).catch(()=>{});if(!I)break;S=await oi._fromGetAccountInfoResponse(t,I,b)}else S=oi._fromJSON(t,b);_!==c&&(p=S),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new eo(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new eo(c,t,a))}}function d0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(H1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(G1(t))return"Blackberry";if(Q1(t))return"Webos";if(B1(t))return"Safari";if((t.includes("chrome/")||q1(t))&&!t.includes("edge/"))return"Chrome";if(F1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function z1(r=on()){return/firefox\//i.test(r)}function B1(r=on()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function q1(r=on()){return/crios\//i.test(r)}function H1(r=on()){return/iemobile/i.test(r)}function F1(r=on()){return/android/i.test(r)}function G1(r=on()){return/blackberry/i.test(r)}function Q1(r=on()){return/webos/i.test(r)}function vp(r=on()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function dx(r=on()){return vp(r)&&!!window.navigator?.standalone}function mx(){return Tb()&&document.documentMode===10}function K1(r=on()){return vp(r)||F1(r)||Q1(r)||G1(r)||/windows phone/i.test(r)||H1(r)}function Y1(r,t=[]){let i;switch(r){case"Browser":i=d0(on());break;case"Worker":i=`${d0(on())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${mo}/${a}`}class px{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function gx(r,t={}){return To(r,"GET","/v2/passwordPolicy",Uh(r,t))}const yx=6;class _x{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??yx,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class vx{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new m0(this),this.idTokenSubscription=new m0(this),this.beforeStateQueue=new px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=M1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ls(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await eo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ch(this,{idToken:t}),a=await oi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ai(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await hh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=tx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ai(this.app))return Promise.reject(ur(this));const i=t?Fe(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ai(this.app)?Promise.reject(ur(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ai(this.app)?Promise.reject(ur(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ls(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await gx(this),i=new _x(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Fl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await fx(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ls(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await eo.create(this,[ls(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Y1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ai(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&ZR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Lh(r){return Fe(r)}class m0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Nb(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Ep={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Ex(r){Ep=r}function Tx(r){return Ep.loadJS(r)}function Ax(){return Ep.gapiScript}function bx(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function Sx(r,t){const i=Lm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(us(c,t??{}))return l;ds(l,"already-initialized")}return i.initialize({options:t})}function wx(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ls);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function Rx(r,t,i){const a=Lh(r);At(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=X1(t),{host:d,port:p}=xx(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){At(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),At(us(_,a.config.emulator)&&us(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,fo(d)?(B0(`${c}//${d}${y}`),q0("Auth",!0)):Cx()}function X1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function xx(r){const t=X1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:p0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:p0(d)}}}function p0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function Cx(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class $1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return os("not implemented")}_getIdTokenResponse(t){return os("not implemented")}_linkToIdToken(t,i){return os("not implemented")}_getReauthenticationResolver(t){return os("not implemented")}}async function no(r,t){return U1(r,"POST","/v1/accounts:signInWithIdp",Uh(r,t))}const Nx="http://localhost";class ia extends $1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ia(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ds("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new ia(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return no(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,no(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,no(t,i)}buildRequest(){const t={requestUri:Nx,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Gl(i)}return t}}class Z1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Wl extends Z1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Js extends Wl{constructor(){super("facebook.com")}static credential(t){return ia._fromParams({providerId:Js.PROVIDER_ID,signInMethod:Js.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Js.credentialFromTaggedObject(t)}static credentialFromError(t){return Js.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Js.credential(t.oauthAccessToken)}catch{return null}}}Js.FACEBOOK_SIGN_IN_METHOD="facebook.com";Js.PROVIDER_ID="facebook.com";class Ws extends Wl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ia._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ws.credentialFromTaggedObject(t)}static credentialFromError(t){return Ws.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Ws.credential(i,a)}catch{return null}}}Ws.GOOGLE_SIGN_IN_METHOD="google.com";Ws.PROVIDER_ID="google.com";class tr extends Wl{constructor(){super("github.com")}static credential(t){return ia._fromParams({providerId:tr.PROVIDER_ID,signInMethod:tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tr.credentialFromTaggedObject(t)}static credentialFromError(t){return tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tr.credential(t.oauthAccessToken)}catch{return null}}}tr.GITHUB_SIGN_IN_METHOD="github.com";tr.PROVIDER_ID="github.com";class er extends Wl{constructor(){super("twitter.com")}static credential(t,i){return ia._fromParams({providerId:er.PROVIDER_ID,signInMethod:er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return er.credentialFromTaggedObject(t)}static credentialFromError(t){return er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return er.credential(i,a)}catch{return null}}}er.TWITTER_SIGN_IN_METHOD="twitter.com";er.PROVIDER_ID="twitter.com";async function Ix(r,t){return U1(r,"POST","/v1/accounts:signUp",Uh(r,t))}class _r{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await oi._fromIdTokenResponse(t,a,l),d=g0(a);return new _r({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=g0(a);return new _r({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function g0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function Dx(r){if(ai(r.app))return Promise.reject(ur(r));const t=Lh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new _r({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await Ix(t,{returnSecureToken:!0}),a=await _r._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class fh extends ps{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new fh(t,i,a,l)}}function J1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(r,c,t,a):c})}async function Mx(r,t,i=!1){const a=await Hl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return _r._forOperation(r,"link",a)}async function Ox(r,t,i=!1){const{auth:a}=r;if(ai(a.app))return Promise.reject(ur(a));const l="reauthenticate";try{const c=await Hl(r,J1(a,l,t,r),i);At(c.idToken,a,"internal-error");const d=_p(c.idToken);At(d,a,"internal-error");const{sub:p}=d;return At(r.uid===p,a,"user-mismatch"),_r._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ds(a,"user-mismatch"),c}}async function Vx(r,t,i=!1){if(ai(r.app))return Promise.reject(ur(r));const a="signIn",l=await J1(r,a,t),c=await _r._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function kx(r,t,i,a){return Fe(r).onIdTokenChanged(t,i,a)}function Ux(r,t,i){return Fe(r).beforeAuthStateChanged(t,i)}function Lx(r,t,i,a){return Fe(r).onAuthStateChanged(t,i,a)}const dh="__sak";class W1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(dh,"1"),this.storage.removeItem(dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jx=1e3,Px=10;class tT extends W1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=K1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);mx()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,Px):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},jx)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}tT.type="LOCAL";const zx=tT;class eT extends W1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}eT.type="SESSION";const nT=eT;function Bx(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class jh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new jh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await Bx(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jh.receivers=[];function Tp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class qx{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Tp("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const I=S;if(I.data.eventId===_)switch(I.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(I.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function ji(){return window}function Hx(r){ji().location.href=r}function iT(){return typeof ji().WorkerGlobalScope<"u"&&typeof ji().importScripts=="function"}async function Fx(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gx(){return navigator?.serviceWorker?.controller||null}function Qx(){return iT()?self:null}const sT="firebaseLocalStorageDb",Kx=1,mh="firebaseLocalStorage",rT="fbase_key";class tu{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Ph(r,t){return r.transaction([mh],t?"readwrite":"readonly").objectStore(mh)}function Yx(){const r=indexedDB.deleteDatabase(sT);return new tu(r).toPromise()}function Im(){const r=indexedDB.open(sT,Kx);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(mh,{keyPath:rT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(mh)?t(a):(a.close(),await Yx(),t(await Im()))})})}async function y0(r,t,i){const a=Ph(r,!0).put({[rT]:t,value:i});return new tu(a).toPromise()}async function Xx(r,t){const i=Ph(r,!1).get(t),a=await new tu(i).toPromise();return a===void 0?null:a.value}function _0(r,t){const i=Ph(r,!0).delete(t);return new tu(i).toPromise()}const $x=800,Zx=3;class aT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Im(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>Zx)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return iT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jh._getInstance(Qx()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await Fx(),!this.activeServiceWorker)return;this.sender=new qx(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Gx()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Im();return await y0(t,dh,"1"),await _0(t,dh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>y0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>Xx(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>_0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Ph(l,!1).getAll();return new tu(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$x)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aT.type="LOCAL";const Jx=aT;new Jl(3e4,6e4);function Wx(r,t){return t?ls(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Ap extends $1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return no(t,this._buildIdpRequest())}_linkToIdToken(t,i){return no(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return no(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function tC(r){return Vx(r.auth,new Ap(r),r.bypassAuthState)}function eC(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),Ox(i,new Ap(r),r.bypassAuthState)}async function nC(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),Mx(i,new Ap(r),r.bypassAuthState)}class oT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return tC;case"linkViaPopup":case"linkViaRedirect":return nC;case"reauthViaPopup":case"reauthViaRedirect":return eC;default:ds(this.auth,"internal-error")}}resolve(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const iC=new Jl(2e3,1e4);class Za extends oT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Za.currentPopupAction&&Za.currentPopupAction.cancel(),Za.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){ms(this.filter.length===1,"Popup operations only handle one event");const t=Tp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Li(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Li(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Za.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Li(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,iC.get())};t()}}Za.currentPopupAction=null;const sC="pendingRedirect",Kc=new Map;class rC extends oT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Kc.get(this.auth._key());if(!t){try{const a=await aC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Kc.set(this.auth._key(),t)}return this.bypassAuthState||Kc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aC(r,t){const i=uC(t),a=lC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function oC(r,t){Kc.set(r._key(),t)}function lC(r){return ls(r._redirectPersistence)}function uC(r){return Qc(sC,r.config.apiKey,r.name)}async function cC(r,t,i=!1){if(ai(r.app))return Promise.reject(ur(r));const a=Lh(r),l=Wx(a,t),d=await new rC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const hC=600*1e3;class fC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!dC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!lT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Li(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=hC&&this.cachedEventUids.clear(),this.cachedEventUids.has(v0(t))}saveEventToCache(t){this.cachedEventUids.add(v0(t)),this.lastProcessedEventTime=Date.now()}}function v0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function lT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function dC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return lT(r);default:return!1}}async function mC(r,t={}){return To(r,"GET","/v1/projects",t)}const pC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,gC=/^https?/;async function yC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await mC(r);for(const i of t)try{if(_C(i))return}catch{}ds(r,"unauthorized-domain")}function _C(r){const t=Cm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!gC.test(i))return!1;if(pC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const vC=new Jl(3e4,6e4);function E0(){const r=ji().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function EC(r){return new Promise((t,i)=>{function a(){E0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{E0(),i(Li(r,"network-request-failed"))},timeout:vC.get()})}if(ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ji().gapi?.load)a();else{const l=bx("iframefcb");return ji()[l]=()=>{gapi.load?a():i(Li(r,"network-request-failed"))},Tx(`${Ax()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Yc=null,t})}let Yc=null;function TC(r){return Yc=Yc||EC(r),Yc}const AC=new Jl(5e3,15e3),bC="__/auth/iframe",SC="emulator/auth/iframe",wC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},RC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xC(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?yp(t,SC):`https://${r.config.authDomain}/${bC}`,a={apiKey:t.apiKey,appName:r.name,v:mo},l=RC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Gl(a).slice(1)}`}async function CC(r){const t=await TC(r),i=ji().gapi;return At(i,r,"internal-error"),t.open({where:document.body,url:xC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:wC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Li(r,"network-request-failed"),p=ji().setTimeout(()=>{c(d)},AC.get());function y(){ji().clearTimeout(p),l(a)}a.ping(y).then(y,()=>{c(d)})}))}const NC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},IC=500,DC=600,MC="_blank",OC="http://localhost";class T0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function VC(r,t,i,a=IC,l=DC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...NC,width:a.toString(),height:l.toString(),top:c,left:d},_=on().toLowerCase();i&&(p=q1(_)?MC:i),z1(_)&&(t=t||OC,y.scrollbars="yes");const b=Object.entries(y).reduce((I,[G,W])=>`${I}${G}=${W},`,"");if(dx(_)&&p!=="_self")return kC(t||"",p),new T0(null);const S=window.open(t||"",p,b);At(S,r,"popup-blocked");try{S.focus()}catch{}return new T0(S)}function kC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const UC="__/auth/handler",LC="emulator/auth/handler",jC=encodeURIComponent("fac");async function A0(r,t,i,a,l,c){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:mo,eventId:l};if(t instanceof Z1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Cb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Wl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const b of Object.keys(p))p[b]===void 0&&delete p[b];const y=await r._getAppCheckToken(),_=y?`#${jC}=${encodeURIComponent(y)}`:"";return`${PC(r)}?${Gl(p).slice(1)}${_}`}function PC({config:r}){return r.emulator?yp(r,LC):`https://${r.authDomain}/${UC}`}const sm="webStorageSupport";class zC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=nT,this._completeRedirectFn=cC,this._overrideRedirectResult=oC}async _openPopup(t,i,a,l){ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await A0(t,i,a,Cm(),l);return VC(t,c,Tp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await A0(t,i,a,Cm(),l);return Hx(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(ms(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await CC(t),a=new fC(t);return i.register("authEvent",l=>(At(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(sm,{type:sm},l=>{const c=l?.[0]?.[sm];c!==void 0&&i(!!c),ds(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=yC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return K1()||B1()||vp()}}const BC=zC;var b0="@firebase/auth",S0="1.12.0";class qC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function HC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FC(r){io(new ta("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y1(r)},_=new vx(a,l,c,y);return wx(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),io(new ta("auth-internal",t=>{const i=Lh(t.getProvider("auth").getImmediate());return(a=>new qC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),rr(b0,S0,HC(r)),rr(b0,S0,"esm2020")}const GC=300,QC=z0("authIdTokenMaxAge")||GC;let w0=null;const KC=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>QC)return;const l=i?.token;w0!==l&&(w0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function YC(r=Q0()){const t=Lm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=Sx(r,{popupRedirectResolver:BC,persistence:[Jx,zx,nT]}),a=z0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=KC(c.toString());Ux(i,d,()=>d(i.currentUser)),kx(i,p=>d(p))}}const l=j0("auth");return l&&Rx(i,`http://${l}`),i}function XC(){return document.getElementsByTagName("head")?.[0]??document}Ex({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Li("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",XC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FC("Browser");const $C=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ZC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),R0=r=>{const t=ZC(r);return t.charAt(0).toUpperCase()+t.slice(1)},uT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),JC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var WC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const tN=Ht.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...p},y)=>Ht.createElement("svg",{ref:y,...WC,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:uT("lucide",l),...!c&&!JC(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,b])=>Ht.createElement(_,b)),...Array.isArray(c)?c:[c]]));const re=(r,t)=>{const i=Ht.forwardRef(({className:a,...l},c)=>Ht.createElement(tN,{ref:c,iconNode:t,className:uT(`lucide-${$C(R0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=R0(r),i};const eN=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],nN=re("activity",eN);const iN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],sN=re("book-open",iN);const rN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Dm=re("calendar",rN);const aN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],cT=re("check",aN);const oN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],lN=re("circle-check-big",oN);const uN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],cN=re("circle-x",uN);const hN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],hT=re("clipboard-list",hN);const fN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],dN=re("clock",fN);const mN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],x0=re("dollar-sign",mN);const pN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],gN=re("eye-off",pN);const yN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_N=re("eye",yN);const vN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],EN=re("heart",vN);const TN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],AN=re("info",TN);const bN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],C0=re("key",bN);const SN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],N0=re("loader-circle",SN);const wN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],RN=re("log-out",wN);const xN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],CN=re("party-popper",xN);const NN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],IN=re("shield-check",NN);const DN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Mm=re("stethoscope",DN);const MN=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ON=re("toggle-left",MN);const VN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],kN=re("toggle-right",VN);const UN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],I0=re("trash-2",UN);const LN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],fT=re("trophy",LN);const jN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],D0=re("user-check",jN);const PN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],M0=re("user-x",PN);const zN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],dT=re("users",zN);const BN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],O0=re("x",BN),qN={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},mT=G0(qN),Ni=LR(mT),sn=YC(mT),Ii="balletfitbyjen-6b36a",HN="JENNY2024",cr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],V0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Lc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],Dn=({children:r,className:t=""})=>T.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),$s=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return T.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${l}`,disabled:a,children:r})},pT=(r,t)=>{const i=new Date,a=new Date,[l,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const y=i.getHours()*60+i.getMinutes(),_=l*60+c;y>_&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(l,c,0,0),(a-i)/(1e3*60*60)},FN=r=>{const t=new Date(r.valueOf()),i=r.getDay();t.setDate(t.getDate()-i+3);const a=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((a-t)/6048e5)},Om=(r,t)=>{const i=new Date,a=i.getDay(),[l,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),p=l*60+c;return a>r||a===r&&d>=p},gT=(r=null)=>{let t=cr;return r&&(t=cr.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:pT(a.dayIdx,a.time)})).sort((a,l)=>a.diff-l.diff)[0]},bp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function GN(){const[r,t]=Ht.useState("login"),[i,a]=Ht.useState(null),[l,c]=Ht.useState([]),[d,p]=Ht.useState([]),[y,_]=Ht.useState({}),[b,S]=Ht.useState({totalClassesTaught:0}),[I,G]=Ht.useState(null),[W,et]=Ht.useState(!0),[J,at]=Ht.useState(null),[ut,ft]=Ht.useState(""),dt=(R,Et="success")=>{G({msg:R,type:Et}),setTimeout(()=>G(null),4e3)},qt=em(Ni,"artifacts",Ii,"public","data","alumnas"),It=em(Ni,"artifacts",Ii,"public","data","maestros"),N=em(Ni,"artifacts",Ii,"public","data","sesiones"),w=ge(Ni,"artifacts",Ii,"public","data","config","metadata");Ht.useEffect(()=>{ft(Lc[Math.floor(Math.random()*Lc.length)]),(async()=>{try{await Dx(sn)}catch(Et){console.error("Error Auth:",Et)}Lx(sn,Et=>{if(!Et)return;const Qt=kc(qt,_t=>{const Dt=_t.docs.map(D=>({id:D.id,...D.data()}));c(Dt),et(!1)},_t=>console.error("Error alumnas:",_t)),B=kc(It,_t=>{const Dt=_t.docs.map(D=>({id:D.id,...D.data()}));p(Dt)}),tt=kc(N,_t=>{const Dt={};_t.docs.forEach(D=>Dt[D.id]=D.data()),_(Dt)}),ot=kc(w,_t=>{_t.exists()?S(_t.data()):Zs(w,{totalClassesTaught:0,lastResetWeek:0},{merge:!0})});return()=>{Qt(),B(),tt(),ot()}})})()},[]),Ht.useEffect(()=>{if(i&&i.role==="student"){const R=l.find(Et=>Et.id===i.id);R&&a(Et=>({...Et,...R}))}},[l]);const x=(R,Et)=>{const Qt=R.trim().toUpperCase(),B=Et.trim();if(at(null),Qt==="ADMIN-JEN"||Qt==="JENNY")if(B===HN){a({firstName:"JENNY",role:"admin"}),t("admin"),dt("Acceso Admin concedido");return}else{at("Contrasea de Admin incorrecta.");return}const tt=d.find(_t=>_t.id.toUpperCase()===Qt);if(tt)if(tt.password===B){if(tt.status==="inactive"){at("Cuenta de maestra inactiva.");return}a({...tt,firstName:tt.name.split(" ")[0],role:"teacher"}),t("teacher"),dt("Acceso Maestra concedido");return}else{at("Contrasea de maestra incorrecta.");return}const ot=l.find(_t=>_t.id.toUpperCase()===Qt);if(ot){if(ot.password&&ot.password!==B){at("Contrasea incorrecta.");return}if(ot.status==="inactive"){at("Cuenta inactiva. Contacta a Jenny.");return}a({...ot,firstName:ot.name.split(" ")[0],role:"student"}),ft(Lc[Math.floor(Math.random()*Lc.length)]),t("student")}else at("ID no encontrado o datos incorrectos.")},V=async R=>{if(!sn.currentUser)return;const Et=cr.find(B=>B.id===R),Qt=y[R];if(Om(Et.dayIdx,Et.time)){dt("Esta clase ya ocurri.","error");return}if(Qt?.isClosed){dt("Clase cerrada.","error");return}if(i.credits<=0){dt("Sin crditos.","error");return}try{const B=ge(Ni,"artifacts",Ii,"public","data","alumnas",i.id),tt=ge(Ni,"artifacts",Ii,"public","data","sesiones",R);await vn(B,{credits:Mi(-1),history:YR(R)}),await Zs(tt,{booked:Mi(1)},{merge:!0}),dt("Clase reservada!")}catch{dt("Error al reservar","error")}},M=async R=>{if(!sn.currentUser)return;const Et=cr.find(tt=>tt.id===R);if(Om(Et.dayIdx,Et.time)){dt("No se puede cancelar una clase que ya finaliz.","error");return}const B=pT(Et.dayIdx,Et.time)<6;if(!(B&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const tt=ge(Ni,"artifacts",Ii,"public","data","alumnas",i.id),ot=ge(Ni,"artifacts",Ii,"public","data","sesiones",R);B?await vn(tt,{history:lh(R)}):await vn(tt,{credits:Mi(1),history:lh(R)}),await vn(ot,{booked:Mi(-1)}),dt(B?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{dt("Error al cancelar","error")}},k=()=>{a(null),t("login"),at(null)};return W?T.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):T.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[I&&T.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${I.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[I.type==="error"?T.jsx(cN,{size:18}):T.jsx(lN,{size:18}),T.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:I.msg})]}),r==="login"&&T.jsx(QN,{onLogin:x,error:J}),r==="student"&&T.jsx(KN,{user:i,quote:ut,sessions:cr,sessionsData:y,onBook:V,onCancel:M,onLogout:k}),r==="admin"&&T.jsx(YN,{students:l,teachers:d,sessionsData:y,settings:b,db:Ni,appId:Ii,onLogout:k,showNotification:dt}),r==="teacher"&&T.jsx(XN,{user:i,students:l,sessionsData:y,db:Ni,appId:Ii,onLogout:k,showNotification:dt})]})}const QN=({onLogin:r,error:t})=>{const[i,a]=Ht.useState(""),[l,c]=Ht.useState(""),[d,p]=Ht.useState(!1);return T.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[T.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),T.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:T.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),T.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Portal alumnas"})]}),T.jsxs("form",{onSubmit:y=>{y.preventDefault(),r(i,l)},className:"space-y-6",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),T.jsx("input",{type:"text",required:!0,placeholder:"Ingresa tu ID",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:y=>a(y.target.value)})]}),T.jsxs("div",{className:"space-y-1 relative",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),T.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:l,onChange:y=>c(y.target.value)}),T.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?T.jsx(gN,{size:18}):T.jsx(_N,{size:18})})]}),t&&T.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),T.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"})]})]})})]})},KN=({user:r,quote:t,sessions:i,sessionsData:a,onBook:l,onCancel:c,onLogout:d})=>{const p=r.history||[],y=i.filter(S=>p.includes(S.id)),_=y.length>0?y[0]:null,b=bp();return T.jsxs("div",{className:"pb-20",children:[T.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[T.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),T.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[T.jsx("span",{children:"Salir"}),T.jsx(RN,{size:16})]})]})}),T.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),T.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[T.jsx(EN,{size:16,fill:"#369EAD"})," ",t]})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[T.jsxs(Dn,{className:"md:col-span-2 flex flex-col justify-between",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsx("div",{children:T.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",b]})}),T.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:T.jsx(nN,{size:24})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases de la semana"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),T.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",r.maxCredits]})]})]}),T.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),T.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),T.jsxs(Dn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:T.jsx(Dm,{size:120})}),T.jsx(Dm,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),T.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),_?T.jsxs("div",{className:"animate-in fade-in duration-500",children:[T.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:_.day}),T.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:_.time}),T.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",_.teacher]})]}):T.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),T.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),T.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(S=>{const I=p.includes(S.id),G=a[S.id]||{booked:0,isClosed:!1},W=(G.booked||0)>=S.spots,et=G.isClosed,J=Om(S.dayIdx,S.time),at=r.credits>0&&!I&&!W&&!et&&!J;return T.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${I?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":et||J?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex justify-between items-start font-sans",children:[T.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:S.day}),et?T.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):J?T.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),T.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:S.time}),T.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:S.teacher})]}),T.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[T.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[T.jsx(dT,{size:12})," ",G.booked||0,"/",S.spots]}),I?J?T.jsx("span",{className:"text-[9px] text-[#369EAD] font-bold uppercase italic opacity-60",children:"Asistencia registrada"}):T.jsx("button",{onClick:()=>c(S.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):T.jsx($s,{onClick:()=>l(S.id),disabled:!at,className:"!px-4 !py-2 !text-[9px]",children:et?"Cerrado":J?"Pasada":W?"Lleno":"Reservar"})]})]},S.id)})})]})]})},YN=({students:r,teachers:t,sessionsData:i,settings:a,db:l,appId:c,onLogout:d,showNotification:p})=>{const[y,_]=Ht.useState(!1),[b,S]=Ht.useState(!1),[I,G]=Ht.useState(null),[W,et]=Ht.useState(null),[J,at]=Ht.useState(""),[ut,ft]=Ht.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:""}),[dt,qt]=Ht.useState({id:"",name:"",password:"",role:"teacher"}),[It,N]=Ht.useState(!1),[w,x]=Ht.useState(null),[V,M]=Ht.useState(0),k=bp(),R=r.filter(F=>F.status!=="inactive"),Et=ge(l,"artifacts",c,"public","data","config","metadata"),Qt=F=>{const gt=F.map(ae=>ae.id).filter(ae=>ae.startsWith("BF-")).map(ae=>parseInt(ae.split("-")[1])).filter(ae=>!isNaN(ae)),Pe=(gt.length>0?Math.max(...gt):0)+1;return`BF-${String(Pe).padStart(3,"0")}`};Ht.useEffect(()=>{if(y){const F=Qt(r);ft(gt=>({...gt,id:F}))}},[y,r]),Ht.useEffect(()=>{const F=async()=>{if(!sn.currentUser)return;const gt=FN(new Date);try{const $t=await Fc(Et);let Pe=0;if($t.exists()&&(Pe=$t.data().lastResetWeek||0),gt!==Pe&&r.length>0){const ae=XR(l);R.forEach(tn=>{const Bi=ge(l,"artifacts",c,"public","data","alumnas",tn.id);ae.update(Bi,{credits:tn.maxCredits,history:[]})}),cr.forEach(tn=>{const Bi=ge(l,"artifacts",c,"public","data","sesiones",tn.id);ae.set(Bi,{booked:0,isCounted:!1},{merge:!0})}),await Zs(Et,{lastResetWeek:gt},{merge:!0}),await ae.commit(),p("Semana reiniciada!","success")}}catch($t){console.error("Error in auto-reset:",$t)}};r.length>0&&F()},[r.length]);const B=gT(),tt=r.filter(F=>F.history?.includes(B.id)&&F.status!=="inactive"),ot=r.reduce((F,gt)=>F+(gt.monthlyPayment||0),0),_t=async(F,gt)=>{sn.currentUser&&(await Zs(ge(l,"artifacts",c,"public","data","sesiones",F),{isClosed:!gt},{merge:!0}),p("Estado actualizado"))},Dt=async(F,gt)=>{if(sn.currentUser&&window.confirm("Confirmar asistencia?"))try{const $t=ge(l,"artifacts",c,"public","data","alumnas",F),Pe=ge(l,"artifacts",c,"public","data","sesiones",gt),ae=await Fc(Pe);ae.exists()&&ae.data().isCounted||(await vn(Et,{totalClassesTaught:Mi(1)}),await Zs(Pe,{isCounted:!0},{merge:!0})),await vn($t,{totalAttendance:Mi(1),history:lh(gt)}),await vn(Pe,{booked:Mi(-1)}),p("Asistencia confirmada")}catch($t){console.error($t)}},D=async(F,gt,$t)=>{if(!sn.currentUser)return;const Pe=$t==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus?"))try{await vn(ge(l,"artifacts",c,"public","data",F,gt),{status:Pe}),p("Estatus actualizado")}catch(ae){console.error(ae)}},Y=async(F,gt)=>{if(sn.currentUser&&J.trim())try{await vn(ge(l,"artifacts",c,"public","data",F,gt),{password:J.trim()}),p("Contrasea actualizada"),G(null),et(null),at("")}catch($t){console.error($t)}},it=async F=>{if(!sn.currentUser)return;F.preventDefault();const gt=ut.id.trim().toUpperCase();if(!gt||!ut.name||!ut.password){p("Completa los campos","error");return}N(!0);try{const $t=ge(l,"artifacts",c,"public","data","alumnas",gt);if((await Fc($t)).exists()){p("ID ya usado","error"),N(!1);return}const ae=parseInt(ut.plan.split(" ")[0])||2;await Zs($t,{id:gt,name:ut.name.trim().toUpperCase(),password:ut.password,plan:ut.plan,maxCredits:ae,credits:ae,history:[],monthlyPayment:0,totalAttendance:0,notes:ut.notes.trim(),status:"active",registrationDate:new Date().toISOString()}),p("Registrada"),_(!1),ft({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch($t){console.error($t)}N(!1)},st=async F=>{if(!sn.currentUser)return;F.preventDefault();const gt=dt.id.trim().toUpperCase();if(!gt||!dt.name||!dt.password){p("Completa los campos","error");return}N(!0);try{await Zs(ge(l,"artifacts",c,"public","data","maestros",gt),{...dt,id:gt,name:dt.name.trim().toUpperCase(),status:"active"}),p("Staff registrado"),S(!1),qt({id:"",name:"",password:"",role:"teacher"})}catch($t){console.error($t)}N(!1)},Tt=async()=>{if(!(!sn.currentUser||!w))try{await vn(ge(l,"artifacts",c,"public","data","alumnas",w),{monthlyPayment:parseFloat(V)}),p("Pago registrado"),x(null),M(0)}catch(F){console.error(F)}},Rt=async(F,gt)=>{sn.currentUser&&window.confirm("Reiniciar semana?")&&await vn(ge(l,"artifacts",c,"public","data","alumnas",F),{credits:gt,history:[]})},Vt=async(F,gt)=>{if(sn.currentUser&&window.confirm(`Borrar a ${gt}?`))try{await l0(ge(l,"artifacts",c,"public","data","alumnas",F)),p("Eliminada")}catch{p("Error","error")}},ye=async(F,gt)=>{if(sn.currentUser&&window.confirm(`Borrar a ${gt}?`))try{await l0(ge(l,"artifacts",c,"public","data","maestros",F)),p("Eliminado")}catch{p("Error","error")}};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),T.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:k})]}),T.jsx("button",{onClick:d,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Dn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(hT,{size:20})," Roster: Prxima Clase"]}),T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[B.day," ",B.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:tt.length>0?tt.map(F=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-serif italic font-bold text-sm",children:F.name}),T.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:F.id})]}),F.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Mm,{size:12,className:"mt-1 flex-shrink-0"}),T.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:F.notes})]})]}),T.jsx("button",{onClick:()=>Dt(F.id,B.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:T.jsx(cT,{size:18})})]},F.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas"})})]}),T.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[T.jsxs(Dn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] group-hover:rotate-6 transition-transform",children:T.jsx(x0,{size:28})}),T.jsxs("div",{children:[T.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",k]}),T.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",ot.toLocaleString()]})]})]}),T.jsxs(Dn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[T.jsx(CN,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),T.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),T.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 px-4",children:"Cada alumna nueva es un paso ms"})]}),T.jsxs(Dn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm group-hover:scale-110 transition-transform",children:T.jsx(fT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),T.jsxs("p",{className:"text-3xl font-bold",children:[a?.totalClassesTaught||0," clases dadas"]})]})]}),T.jsxs(Dn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 md:col-span-2",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:T.jsx(dT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),T.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[R.length," Alumnas pagando"]})]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[T.jsxs(Dn,{className:"bg-white border-[#C5A059]",children:[T.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(AN,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),T.jsx("div",{className:"space-y-3 font-sans text-[11px]",children:V0.map((F,gt)=>T.jsxs("div",{className:"flex justify-between items-center border-b border-gray-50 pb-2",children:[T.jsx("span",{className:"text-gray-400 uppercase font-bold",children:F.plan}),T.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",F.price]})]},gt))})]}),T.jsxs(Dn,{className:"bg-white border-[#369EAD]",children:[T.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),T.jsx("div",{className:"space-y-4 font-sans text-xs",children:cr.map(F=>{const gt=i[F.id]?.isClosed||!1;return T.jsxs("div",{className:"flex justify-between items-center",children:[T.jsx("span",{className:"font-bold opacity-60 uppercase",children:F.day}),T.jsx("button",{onClick:()=>_t(F.id,gt),children:gt?T.jsx(ON,{size:30,className:"text-red-300"}):T.jsx(kN,{size:30,className:"text-[#369EAD]"})})]},F.id)})})]})]}),T.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[T.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[T.jsx(IN,{size:20,className:"text-[#369EAD]"})," Control Maestras"]}),T.jsx($s,{onClick:()=>S(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-4",children:"Nombre"}),T.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),T.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(F=>T.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${F.status==="inactive"?"opacity-40":""}`,children:[T.jsx("td",{className:"px-6 py-4",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${F.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold font-serif italic",children:F.name}),T.jsxs("div",{className:"text-[9px] uppercase text-gray-400",children:[F.id,"  ",F.role]})]})]})}),T.jsx("td",{className:"px-6 py-4 text-center font-bold text-[#C5A059]",children:F.password}),T.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>et(F.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:T.jsx(C0,{size:16})}),T.jsx("button",{onClick:()=>D("maestros",F.id,F.status),className:`p-2 rounded-full ${F.status==="inactive"?"text-green-500":"text-red-400"}`,children:F.status==="inactive"?T.jsx(D0,{size:16}):T.jsx(M0,{size:16})}),T.jsx("button",{onClick:()=>ye(F.id,F.name),className:"p-2 text-red-100 hover:text-red-500",children:T.jsx(I0,{size:16})})]})]},F.id))})]})})]}),T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[T.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control Alumnas"}),T.jsx($s,{onClick:()=>_(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-5",children:"Nombre"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Clave"})," ",T.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Asistencias"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Pago"}),T.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(F=>{const gt=F.status==="inactive";return T.jsxs("tr",{className:`hover:bg-gray-50 transition-all text-sm ${gt?"opacity-40 grayscale-[0.5]":""}`,children:[T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex flex-col",children:[T.jsx("span",{className:"text-[10px] font-black text-[#369EAD] bg-[#EBF5F6] px-2 py-0.5 rounded-sm w-fit mb-1",children:F.id}),T.jsx("div",{className:"font-bold font-serif italic",children:F.name}),F.notes&&T.jsxs("div",{className:"text-[10px] text-red-400 italic flex items-center gap-1",children:[T.jsx(Mm,{size:10})," ",F.notes]})]})}),T.jsx("td",{className:"px-6 py-5 text-center font-mono text-xs font-bold text-[#369EAD]",children:F.password}),T.jsxs("td",{className:"px-6 py-5 text-center font-bold",children:[T.jsx("span",{className:F.credits===0?"text-red-400":"text-[#369EAD]",children:F.credits})," / ",F.maxCredits]}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold",children:F.totalAttendance||0})}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsxs("button",{onClick:()=>{x(F.id),M(F.monthlyPayment||0)},className:`font-bold px-3 py-1 rounded text-xs transition-colors ${F.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",F.monthlyPayment||0]})}),T.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>G(F.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:T.jsx(C0,{size:16})}),T.jsx("button",{onClick:()=>D("alumnas",F.id,F.status),className:`p-2 rounded-full ${gt?"text-green-500":"text-gray-300"}`,children:gt?T.jsx(D0,{size:16}):T.jsx(M0,{size:16})}),T.jsx("button",{onClick:()=>Rt(F.id,F.maxCredits),className:"p-2 text-[#C5A059]",children:T.jsx(dN,{size:16})}),T.jsx("button",{onClick:()=>Vt(F.id,F.name),className:"p-2 text-red-100 hover:text-red-500",children:T.jsx(I0,{size:16})})]})]},F.id)})})]})})]})]})]})]}),I&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Alumna"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:I}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:J,onChange:F=>at(F.target.value)}),T.jsx($s,{onClick:()=>Y("alumnas",I),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{G(null),at("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),W&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Staff"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:W}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:J,onChange:F=>at(F.target.value)}),T.jsx($s,{onClick:()=>Y("maestros",W),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{et(null),at("")},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})}),y&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[T.jsx("button",{onClick:()=>_(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(O0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),T.jsxs("form",{onSubmit:it,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-bold text-[#369EAD]",value:ut.id,onChange:F=>ft({...ut,id:F.target.value}),placeholder:"ID"}),T.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"w-full p-4 bg-gray-50 border-b outline-none text-sm font-bold",value:ut.password,onChange:F=>ft({...ut,password:F.target.value})})]}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 border-b outline-none uppercase text-sm font-serif italic font-bold",value:ut.name,onChange:F=>ft({...ut,name:F.target.value})}),T.jsx("select",{className:"w-full p-4 bg-gray-50 border-b outline-none text-sm",value:ut.plan,onChange:F=>ft({...ut,plan:F.target.value}),children:V0.slice(0,4).map((F,gt)=>T.jsx("option",{value:F.plan,children:F.plan},gt))}),T.jsx("textarea",{placeholder:"NOTAS MDICAS",className:"w-full p-4 bg-gray-50 border-b outline-none text-xs h-24 italic",value:ut.notes,onChange:F=>ft({...ut,notes:F.target.value})}),T.jsx($s,{disabled:It,className:"w-full !py-4 font-bold",children:It?T.jsx(N0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),b&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD]",children:[T.jsx("button",{onClick:()=>S(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(O0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nuevo Staff"}),T.jsxs("form",{onSubmit:st,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",required:!0,placeholder:"ID",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b",value:dt.id,onChange:F=>qt({...dt,id:F.target.value})}),T.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b",value:dt.password,onChange:F=>qt({...dt,password:F.target.value})})]}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b",value:dt.name,onChange:F=>qt({...dt,name:F.target.value})}),T.jsxs("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b",value:dt.role,onChange:F=>qt({...dt,role:F.target.value}),children:[T.jsx("option",{value:"teacher",children:"Maestra"}),T.jsx("option",{value:"admin",children:"Admin Secundario"})]}),T.jsx($s,{disabled:It,className:"w-full !py-4 font-bold",children:It?T.jsx(N0,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),w&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059]",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),T.jsxs("div",{className:"space-y-4 text-center",children:[T.jsxs("div",{className:"relative",children:[T.jsx(x0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),T.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50 border-b outline-none text-xl font-bold",value:V,onChange:F=>M(F.target.value)})]}),T.jsx($s,{onClick:Tt,className:"w-full !py-4 font-bold",children:"Confirmar"}),T.jsx("button",{onClick:()=>x(null),className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})]})})]})},XN=({user:r,students:t,sessionsData:i,db:a,appId:l,onLogout:c,showNotification:d})=>{bp();const p=cr.filter(I=>I.teacher.toUpperCase()===r.firstName.toUpperCase()),y=gT(r.firstName),_=t.filter(I=>I.history?.includes(y?.id)&&I.status!=="inactive"),b=ge(a,"artifacts",l,"public","data","config","metadata"),S=async(I,G)=>{if(sn.currentUser&&window.confirm("Confirmar asistencia?"))try{const W=ge(a,"artifacts",l,"public","data","alumnas",I),et=ge(a,"artifacts",l,"public","data","sesiones",G),J=await Fc(et);J.exists()&&J.data().isCounted||(await vn(b,{totalClassesTaught:Mi(1)}),await Zs(et,{isCounted:!0},{merge:!0})),await vn(W,{totalAttendance:Mi(1),history:lh(G)}),await vn(et,{booked:Mi(-1)}),d("Asistencia marcada")}catch(W){console.error(W)}};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Portal Maestras"}),T.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] px-2 py-0.5 rounded font-black uppercase",children:r.firstName})]}),T.jsx("button",{onClick:c,className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),T.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Tu pasin no solo mueve pesas, mueve vidas enteras. Sigue inspirando!"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[T.jsxs(Dn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:T.jsx(sN,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1",children:"Disciplina"}),T.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),T.jsxs(Dn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:T.jsx(fT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1",children:"Impacto"}),T.jsx("p",{className:"text-3xl font-bold text-[#369EAD]",children:"Enseando"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Dn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(hT,{size:20})," Asistencia"]}),y&&T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-bold uppercase",children:[y.day," ",y.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:_.length>0?_.map(I=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"font-serif italic font-bold text-sm",children:I.name}),I.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Mm,{size:12}),T.jsx("p",{className:"text-[10px] italic",children:I.notes})]})]}),T.jsx("button",{onClick:()=>S(I.id,y.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:T.jsx(cT,{size:18})})]},I.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay inscritas"})})]}),T.jsx("div",{className:"lg:col-span-2 space-y-8",children:T.jsxs(Dn,{className:"bg-white",children:[T.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(Dm,{size:20,className:"text-[#369EAD]"})," Horario"]}),T.jsx("div",{className:"grid grid-cols-1 gap-4",children:p.map(I=>T.jsxs("div",{className:"p-10 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[T.jsx("span",{className:"text-xs font-black uppercase text-gray-400",children:I.day}),T.jsx("p",{className:"text-5xl font-bold text-[#1A3A3E] my-2",children:I.time}),T.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase",children:I.type})]},I.id))})]})})]})]})]})};nb.createRoot(document.getElementById("root")).render(T.jsx(Ht.StrictMode,{children:T.jsx(GN,{})}));
