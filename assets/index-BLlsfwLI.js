(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},Al={};var B_;function GA(){if(B_)return Al;B_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var q_;function QA(){return q_||(q_=1,kd.exports=GA()),kd.exports}var T=QA(),Ud={exports:{}},Tt={};var H_;function YA(){if(H_)return Tt;H_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=M&&V[M]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,J={};function ut(V,K,st){this.props=V,this.context=K,this.refs=J,this.updater=st||W}ut.prototype.isReactComponent={},ut.prototype.setState=function(V,K){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,K,"setState")},ut.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function rt(){}rt.prototype=ut.prototype;function dt(V,K,st){this.props=V,this.context=K,this.refs=J,this.updater=st||W}var kt=dt.prototype=new rt;kt.constructor=dt,tt(kt,ut.prototype),kt.isPureReactComponent=!0;var Pt=Array.isArray;function wt(){}var R={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(V,K,st){var U=st.ref;return{$$typeof:r,type:V,key:K,ref:U!==void 0?U:null,props:st}}function D(V,K){return C(V.type,K,V.props)}function I(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function k(V){var K={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(st){return K[st]})}var x=/\/+/g;function $t(V,K){return typeof V=="object"&&V!==null&&V.key!=null?k(""+V.key):K.toString(36)}function de(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(wt,wt):(V.status="pending",V.then(function(K){V.status==="pending"&&(V.status="fulfilled",V.value=K)},function(K){V.status==="pending"&&(V.status="rejected",V.reason=K)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function G(V,K,st,U,et){var ht=typeof V;(ht==="undefined"||ht==="boolean")&&(V=null);var _t=!1;if(V===null)_t=!0;else switch(ht){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(V.$$typeof){case r:case t:_t=!0;break;case b:return _t=V._init,G(_t(V._payload),K,st,U,et)}}if(_t)return et=et(V),_t=U===""?"."+$t(V,0):U,Pt(et)?(st="",_t!=null&&(st=_t.replace(x,"$&/")+"/"),G(et,K,st,"",function(ni){return ni})):et!=null&&(I(et)&&(et=D(et,st+(et.key==null||V&&V.key===et.key?"":(""+et.key).replace(x,"$&/")+"/")+_t)),K.push(et)),1;_t=0;var Ut=U===""?".":U+":";if(Pt(V))for(var ne=0;ne<V.length;ne++)U=V[ne],ht=Ut+$t(U,ne),_t+=G(U,K,st,ht,et);else if(ne=F(V),typeof ne=="function")for(V=ne.call(V),ne=0;!(U=V.next()).done;)U=U.value,ht=Ut+$t(U,ne++),_t+=G(U,K,st,ht,et);else if(ht==="object"){if(typeof V.then=="function")return G(de(V),K,st,U,et);throw K=String(V),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function it(V,K,st){if(V==null)return V;var U=[],et=0;return G(V,U,"","",function(ht){return K.call(st,ht,et++)}),U}function ft(V){if(V._status===-1){var K=V._result;K=K(),K.then(function(st){(V._status===0||V._status===-1)&&(V._status=1,V._result=st)},function(st){(V._status===0||V._status===-1)&&(V._status=2,V._result=st)}),V._status===-1&&(V._status=0,V._result=K)}if(V._status===1)return V._result.default;throw V._result}var Nt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Ht={map:it,forEach:function(V,K,st){it(V,function(){K.apply(this,arguments)},st)},count:function(V){var K=0;return it(V,function(){K++}),K},toArray:function(V){return it(V,function(K){return K})||[]},only:function(V){if(!I(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Tt.Activity=S,Tt.Children=Ht,Tt.Component=ut,Tt.Fragment=i,Tt.Profiler=l,Tt.PureComponent=dt,Tt.StrictMode=a,Tt.Suspense=_,Tt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,Tt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return R.H.useMemoCache(V)}},Tt.cache=function(V){return function(){return V.apply(null,arguments)}},Tt.cacheSignal=function(){return null},Tt.cloneElement=function(V,K,st){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var U=tt({},V.props),et=V.key;if(K!=null)for(ht in K.key!==void 0&&(et=""+K.key),K)!w.call(K,ht)||ht==="key"||ht==="__self"||ht==="__source"||ht==="ref"&&K.ref===void 0||(U[ht]=K[ht]);var ht=arguments.length-2;if(ht===1)U.children=st;else if(1<ht){for(var _t=Array(ht),Ut=0;Ut<ht;Ut++)_t[Ut]=arguments[Ut+2];U.children=_t}return C(V.type,et,U)},Tt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},Tt.createElement=function(V,K,st){var U,et={},ht=null;if(K!=null)for(U in K.key!==void 0&&(ht=""+K.key),K)w.call(K,U)&&U!=="key"&&U!=="__self"&&U!=="__source"&&(et[U]=K[U]);var _t=arguments.length-2;if(_t===1)et.children=st;else if(1<_t){for(var Ut=Array(_t),ne=0;ne<_t;ne++)Ut[ne]=arguments[ne+2];et.children=Ut}if(V&&V.defaultProps)for(U in _t=V.defaultProps,_t)et[U]===void 0&&(et[U]=_t[U]);return C(V,ht,et)},Tt.createRef=function(){return{current:null}},Tt.forwardRef=function(V){return{$$typeof:g,render:V}},Tt.isValidElement=I,Tt.lazy=function(V){return{$$typeof:b,_payload:{_status:-1,_result:V},_init:ft}},Tt.memo=function(V,K){return{$$typeof:y,type:V,compare:K===void 0?null:K}},Tt.startTransition=function(V){var K=R.T,st={};R.T=st;try{var U=V(),et=R.S;et!==null&&et(st,U),typeof U=="object"&&U!==null&&typeof U.then=="function"&&U.then(wt,Nt)}catch(ht){Nt(ht)}finally{K!==null&&st.types!==null&&(K.types=st.types),R.T=K}},Tt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},Tt.use=function(V){return R.H.use(V)},Tt.useActionState=function(V,K,st){return R.H.useActionState(V,K,st)},Tt.useCallback=function(V,K){return R.H.useCallback(V,K)},Tt.useContext=function(V){return R.H.useContext(V)},Tt.useDebugValue=function(){},Tt.useDeferredValue=function(V,K){return R.H.useDeferredValue(V,K)},Tt.useEffect=function(V,K){return R.H.useEffect(V,K)},Tt.useEffectEvent=function(V){return R.H.useEffectEvent(V)},Tt.useId=function(){return R.H.useId()},Tt.useImperativeHandle=function(V,K,st){return R.H.useImperativeHandle(V,K,st)},Tt.useInsertionEffect=function(V,K){return R.H.useInsertionEffect(V,K)},Tt.useLayoutEffect=function(V,K){return R.H.useLayoutEffect(V,K)},Tt.useMemo=function(V,K){return R.H.useMemo(V,K)},Tt.useOptimistic=function(V,K){return R.H.useOptimistic(V,K)},Tt.useReducer=function(V,K,st){return R.H.useReducer(V,K,st)},Tt.useRef=function(V){return R.H.useRef(V)},Tt.useState=function(V){return R.H.useState(V)},Tt.useSyncExternalStore=function(V,K,st){return R.H.useSyncExternalStore(V,K,st)},Tt.useTransition=function(){return R.H.useTransition()},Tt.version="19.2.3",Tt}var F_;function Dm(){return F_||(F_=1,Ud.exports=YA()),Ud.exports}var qt=Dm(),Ld={exports:{}},bl={},jd={exports:{}},Pd={};var G_;function KA(){return G_||(G_=1,(function(r){function t(G,it){var ft=G.length;G.push(it);t:for(;0<ft;){var Nt=ft-1>>>1,Ht=G[Nt];if(0<l(Ht,it))G[Nt]=it,G[ft]=Ht,ft=Nt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ft=G.pop();if(ft!==it){G[0]=ft;t:for(var Nt=0,Ht=G.length,V=Ht>>>1;Nt<V;){var K=2*(Nt+1)-1,st=G[K],U=K+1,et=G[U];if(0>l(st,ft))U<Ht&&0>l(et,st)?(G[Nt]=et,G[U]=ft,Nt=U):(G[Nt]=st,G[K]=ft,Nt=K);else if(U<Ht&&0>l(et,ft))G[Nt]=et,G[U]=ft,Nt=U;else break t}}return it}function l(G,it){var ft=G.sortIndex-it.sortIndex;return ft!==0?ft:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],b=1,S=null,M=3,F=!1,W=!1,tt=!1,J=!1,ut=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,dt=typeof setImmediate<"u"?setImmediate:null;function kt(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function Pt(G){if(tt=!1,kt(G),!W)if(i(_)!==null)W=!0,wt||(wt=!0,k());else{var it=i(y);it!==null&&de(Pt,it.startTime-G)}}var wt=!1,R=-1,w=5,C=-1;function D(){return J?!0:!(r.unstable_now()-C<w)}function I(){if(J=!1,wt){var G=r.unstable_now();C=G;var it=!0;try{t:{W=!1,tt&&(tt=!1,rt(R),R=-1),F=!0;var ft=M;try{e:{for(kt(G),S=i(_);S!==null&&!(S.expirationTime>G&&D());){var Nt=S.callback;if(typeof Nt=="function"){S.callback=null,M=S.priorityLevel;var Ht=Nt(S.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){S.callback=Ht,kt(G),it=!0;break e}S===i(_)&&a(_),kt(G)}else a(_);S=i(_)}if(S!==null)it=!0;else{var V=i(y);V!==null&&de(Pt,V.startTime-G),it=!1}}break t}finally{S=null,M=ft,F=!1}it=void 0}}finally{it?k():wt=!1}}}var k;if(typeof dt=="function")k=function(){dt(I)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,$t=x.port2;x.port1.onmessage=I,k=function(){$t.postMessage(null)}}else k=function(){ut(I,0)};function de(G,it){R=ut(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(G){switch(M){case 1:case 2:case 3:var it=3;break;default:it=M}var ft=M;M=it;try{return G()}finally{M=ft}},r.unstable_requestPaint=function(){J=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=M;M=G;try{return it()}finally{M=ft}},r.unstable_scheduleCallback=function(G,it,ft){var Nt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Nt+ft:Nt):ft=Nt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,G={id:b++,callback:it,priorityLevel:G,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Nt?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(tt?(rt(R),R=-1):tt=!0,de(Pt,ft-Nt))):(G.sortIndex=Ht,t(_,G),W||F||(W=!0,wt||(wt=!0,k()))),G},r.unstable_shouldYield=D,r.unstable_wrapCallback=function(G){var it=M;return function(){var ft=M;M=it;try{return G.apply(this,arguments)}finally{M=ft}}}})(Pd)),Pd}var Q_;function XA(){return Q_||(Q_=1,jd.exports=KA()),jd.exports}var zd={exports:{}},$e={};var Y_;function $A(){if(Y_)return $e;Y_=1;var r=Dm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)y+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,b){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:b}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(_,y){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,b)},$e.flushSync=function(_){var y=d.T,b=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=b,a.d.f()}},$e.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},$e.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},$e.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin),M=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;b==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:F}):b==="script"&&a.d.X(_,{crossOrigin:S,integrity:M,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var b=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},$e.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var b=y.as,S=g(b,y.crossOrigin);a.d.L(_,b,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(_,y){if(typeof _=="string")if(y){var b=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:b,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},$e.requestFormReset=function(_){a.d.r(_)},$e.unstable_batchedUpdates=function(_,y){return _(y)},$e.useFormState=function(_,y,b){return d.H.useFormState(_,y,b)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var K_;function JA(){if(K_)return zd.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=$A(),zd.exports}var X_;function ZA(){if(X_)return bl;X_=1;var r=XA(),t=Dm(),i=JA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),J=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),dt=Symbol.for("react.context"),kt=Symbol.for("react.forward_ref"),Pt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),I=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=I&&e[I]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function $t(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ut:return"Profiler";case J:return"StrictMode";case Pt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case dt:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case kt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case R:return n=e.displayName||null,n!==null?n:$t(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return $t(e(n))}catch{}}return null}var de=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Nt=[],Ht=-1;function V(e){return{current:e}}function K(e){0>Ht||(e.current=Nt[Ht],Nt[Ht]=null,Ht--)}function st(e,n){Ht++,Nt[Ht]=e.current,e.current=n}var U=V(null),et=V(null),ht=V(null),_t=V(null);function Ut(e,n){switch(st(ht,n),st(et,e),st(U,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?c_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=c_(n),e=h_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}K(U),st(U,e)}function ne(){K(U),K(et),K(ht)}function ni(e){e.memoizedState!==null&&st(_t,e);var n=U.current,s=h_(n,e.type);n!==s&&(st(et,e),st(U,s))}function us(e){et.current===e&&(K(U),K(et)),_t.current===e&&(K(_t),_l._currentValue=ft)}var ta,ea;function ii(e){if(ta===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",ea=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+ea}var _o=!1;function mr(e,n){if(!e||_o)return"";_o=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(H){var B=H}Reflect.construct(e,[],X)}else{try{X.call()}catch(H){B=H}e.call(X.prototype)}}else{try{throw Error()}catch(H){B=H}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),z=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===z.length)for(o=N.length-1,h=z.length-1;1<=o&&0<=h&&N[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==z[h]){var Q=`
`+N[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{_o=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ii(s):""}function vo(e,n){switch(e.tag){case 26:case 27:case 5:return ii(e.type);case 16:return ii("Lazy");case 13:return e.child!==n&&n!==null?ii("Suspense Fallback"):ii("Suspense");case 19:return ii("SuspenseList");case 0:case 15:return mr(e.type,!1);case 11:return mr(e.type.render,!1);case 1:return mr(e.type,!0);case 31:return ii("Activity");default:return""}}function Eo(e){try{var n="",s=null;do n+=vo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,cs=r.unstable_cancelCallback,Uh=r.unstable_shouldYield,Wl=r.unstable_requestPaint,en=r.unstable_now,pr=r.unstable_getCurrentPriorityLevel,To=r.unstable_ImmediatePriority,Ao=r.unstable_UserBlockingPriority,hs=r.unstable_NormalPriority,Lh=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,qn=null,ze=null;function xn(e){if(typeof eu=="function"&&nu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(qn,e)}catch{}}var me=Math.clz32?Math.clz32:su,iu=Math.log,na=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/na|0)|0}var si=256,gr=262144,Te=4194304;function ri(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ai(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ri(o):(p&=E,p!==0?h=ri(p):s||(s=E&~e,s!==0&&(h=ri(s))))):(E=o&~f,E!==0?h=ri(E):p!==0?h=ri(p):s||(s=o&~e,s!==0&&(h=ri(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function oi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function yr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ph(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-me(s),X=1<<Q;E[Q]=0,N[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var H=B[Q];H!==null&&(H.lane&=-536870913)}s&=~X}o!==0&&_r(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function _r(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-me(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function bo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-me(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function So(e,n){var s=n&-n;return s=(s&42)!==0?1:vr(s),(s&(e.suspendedLanes|n))!==0?0:s}function vr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:V_(e.type))}function Fn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Gn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Gn,Ue="__reactProps$"+Gn,li="__reactContainer$"+Gn,ia="__reactEvents$"+Gn,zh="__reactListeners$"+Gn,ou="__reactHandles$"+Gn,lu="__reactResources$"+Gn,ui="__reactMarker$"+Gn;function sa(e){delete e[Ae],delete e[Ue],delete e[ia],delete e[zh],delete e[ou]}function ci(e){var n=e[Ae];if(n)return n;for(var s=e.parentNode;s;){if(n=s[li]||s[Ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=__(e);e!==null;){if(s=e[Ae])return s;e=__(e)}return n}e=s,s=e.parentNode}return null}function Rn(e){if(e=e[Ae]||e[li]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function hi(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(e){e[ui]=!0}var wo=new Set,xo={};function fi(e,n){di(e,n),di(e+"Capture",n)}function di(e,n){for(xo[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},No={};function uu(e){return Ee.call(No,e)?!0:Ee.call(Co,e)?!1:Ro.test(e)?No[e]=!0:(Co[e]=!0,!1)}function ra(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Se(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function fs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Yt(e){if(!e._valueTracker){var n=fs(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function Er(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=fs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function mi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Tr=/[\n"\\]/g;function rn(e){return e.replace(Tr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Do(e,p,Le(n)):s!=null?Do(e,p,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function cu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Yt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Yt(e)}function Do(e,n,s){n==="number"&&mi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function ds(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function ms(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(de(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Yt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Oo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Mo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Oo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Oo(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ps=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return ps.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Vo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var gs=null,pi=null;function Ar(e){var n=Rn(e);if(n&&(e=n.stateNode)){var s=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&Er(o)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&ds(e,!!s.multiple,n,!1)}}}var ua=!1;function ys(e,n,s){if(ua)return e(n,s);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(gs!==null||pi!==null)&&(ac(),gs&&(n=gs,e=pi,pi=gs=null,Ar(n),e)))for(n=0;n<e.length;n++)Ar(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ue]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),br=!1;if(Nn)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){br=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{br=!1}var gi=null,ko=null,Sr=null;function Uo(){if(Sr)return Sr;var e,n=ko,s=n.length,o,h="value"in gi?gi.value:gi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Sr=h.slice(e,1<o?1-o:void 0)}function wr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Kn(){return!1}function Be(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},yi=Be(Ui),_s=S({},Ui,{view:0,detail:0}),Lo=Be(_s),vs,ca,_i,ha=S({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Es,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==_i&&(_i&&e.type==="mousemove"?(vs=e.screenX-_i.screenX,ca=e.screenY-_i.screenY):ca=vs=0,_i=e),vs)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),jo=Be(ha),xr=S({},ha,{dataTransfer:0}),mu=Be(xr),pu=S({},_s,{relatedTarget:0}),Rr=Be(pu),Po=S({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Be(Po),fa=S({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Be(fa),_u=S({},Ui,{data:0}),vi=Be(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function Es(){return Au}var nn=S({},_s,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=wr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Es,charCode:function(e){return e.type==="keypress"?wr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Be(nn),Su=S({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Be(Su),u=S({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Es}),m=Be(u),v=S({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),A=Be(v),j=S({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=Be(j),nt=S({},Ui,{newState:0,oldState:0}),bt=Be(nt),pe=[9,13,27,32],Ft=Nn&&"CompositionEvent"in window,le=null;Nn&&"documentMode"in document&&(le=document.documentMode);var In=Nn&&"TextEvent"in window&&!le,Ei=Nn&&(!Ft||le&&8<le&&11>=le),Xn=" ",$n=!1;function Cr(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function pT(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function gT(e,n){if(ma)return e==="compositionend"||!Ft&&Cr(e,n)?(e=Uo(),Sr=ko=gi=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ei&&n.locale!=="ko"?null:n.data;default:return null}}var yT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!yT[e.type]:n==="textarea"}function Ap(e,n,s,o){gs?pi?pi.push(o):pi=[o]:gs=o,n=dc(n,"onChange"),0<n.length&&(s=new yi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var zo=null,Bo=null;function _T(e){s_(e,0)}function wu(e){var n=pn(e);if(Er(n))return e}function bp(e,n){if(e==="change")return n}var Sp=!1;if(Nn){var Bh;if(Nn){var qh="oninput"in document;if(!qh){var wp=document.createElement("div");wp.setAttribute("oninput","return;"),qh=typeof wp.oninput=="function"}Bh=qh}else Bh=!1;Sp=Bh&&(!document.documentMode||9<document.documentMode)}function xp(){zo&&(zo.detachEvent("onpropertychange",Rp),Bo=zo=null)}function Rp(e){if(e.propertyName==="value"&&wu(Bo)){var n=[];Ap(n,Bo,e,Cn(e)),ys(_T,n)}}function vT(e,n,s){e==="focusin"?(xp(),zo=n,Bo=s,zo.attachEvent("onpropertychange",Rp)):e==="focusout"&&xp()}function ET(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(Bo)}function TT(e,n){if(e==="click")return wu(n)}function AT(e,n){if(e==="input"||e==="change")return wu(n)}function bT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:bT;function qo(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ee.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Np(e,n){var s=Cp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Cp(s)}}function Ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Dp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=mi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=mi(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ST=Nn&&"documentMode"in document&&11>=document.documentMode,pa=null,Fh=null,Ho=null,Gh=!1;function Op(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gh||pa==null||pa!==mi(o)||(o=pa,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=dc(Fh,"onSelect"),0<o.length&&(n=new yi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=pa)))}function Nr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ga={animationend:Nr("Animation","AnimationEnd"),animationiteration:Nr("Animation","AnimationIteration"),animationstart:Nr("Animation","AnimationStart"),transitionrun:Nr("Transition","TransitionRun"),transitionstart:Nr("Transition","TransitionStart"),transitioncancel:Nr("Transition","TransitionCancel"),transitionend:Nr("Transition","TransitionEnd")},Qh={},Mp={};Nn&&(Mp=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function Ir(e){if(Qh[e])return Qh[e];if(!ga[e])return e;var n=ga[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Mp)return Qh[e]=n[s];return e}var Vp=Ir("animationend"),kp=Ir("animationiteration"),Up=Ir("animationstart"),wT=Ir("transitionrun"),xT=Ir("transitionstart"),RT=Ir("transitioncancel"),Lp=Ir("transitionend"),jp=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Jn(e,n){jp.set(e,n),fi(n,[e])}var xu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ya=0,Kh=0;function Ru(){for(var e=ya,n=Kh=ya=0;n<e;){var s=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Pp(s,h,f)}}function Cu(e,n,s,o){Dn[ya++]=e,Dn[ya++]=n,Dn[ya++]=s,Dn[ya++]=o,Kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,s,o){return Cu(e,n,s,o),Nu(e)}function Dr(e,n){return Cu(e,null,null,n),Nu(e)}function Pp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Nu(e){if(50<hl)throw hl=0,rd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function CT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,s,o){return new CT(e,n,s,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ji(e,n){var s=e.alternate;return s===null?(s=_n(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function zp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")$h(e)&&(p=1);else if(typeof e=="string")p=MA(e,s,U.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=_n(31,s,n,h),e.elementType=C,e.lanes=f,e;case tt:return Or(s.children,h,f,n);case J:p=8,h|=24;break;case ut:return e=_n(12,s,n,h|2),e.elementType=ut,e.lanes=f,e;case Pt:return e=_n(13,s,n,h),e.elementType=Pt,e.lanes=f,e;case wt:return e=_n(19,s,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dt:p=10;break t;case rt:p=9;break t;case kt:p=11;break t;case R:p=14;break t;case w:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=_n(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Or(e,n,s,o){return e=_n(7,e,o,n),e.lanes=s,e}function Jh(e,n,s){return e=_n(6,e,null,n),e.lanes=s,e}function Bp(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,s){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var qp=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var s=qp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Eo(n)},qp.set(e,n),n)}return{value:e,source:n,stack:Eo(n)}}var va=[],Ea=0,Du=null,Fo=0,Mn=[],Vn=0,Ts=null,Ti=1,Ai="";function Pi(e,n){va[Ea++]=Fo,va[Ea++]=Du,Du=e,Fo=n}function Hp(e,n,s){Mn[Vn++]=Ti,Mn[Vn++]=Ai,Mn[Vn++]=Ts,Ts=e;var o=Ti;e=Ai;var h=32-me(o)-1;o&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ti=1<<32-me(n)+h|s<<h|o,Ai=f+e}else Ti=1<<f|s<<h|o,Ai=e}function Wh(e){e.return!==null&&(Pi(e,1),Hp(e,1,0))}function tf(e){for(;e===Du;)Du=va[--Ea],va[Ea]=null,Fo=va[--Ea],va[Ea]=null;for(;e===Ts;)Ts=Mn[--Vn],Mn[Vn]=null,Ai=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null}function Fp(e,n){Mn[Vn++]=Ti,Mn[Vn++]=Ai,Mn[Vn++]=Ts,Ti=n.id,Ai=n.overflow,Ts=e}var qe=null,se=null,Lt=!1,As=null,kn=!1,ef=Error(a(519));function bs(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(On(n,e)),ef}function Gp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Ue]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)Ct(dl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ms(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||l_(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||bs(e,!0)}function Qp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function Ta(e){if(e!==qe)return!1;if(!Lt)return Qp(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ed(e.type,e.memoizedProps)),s=!s),s&&se&&bs(e),Qp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=y_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));se=y_(e)}else n===27?(n=se,Ls(e.type)?(e=wd,wd=null,se=e):se=n):se=qe?Ln(e.stateNode.nextSibling):null;return!0}function Mr(){se=qe=null,Lt=!1}function nf(){var e=As;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),As=null),e}function Go(e){As===null?As=[e]:As.push(e)}var sf=V(null),Vr=null,zi=null;function Ss(e,n,s){st(sf,n._currentValue),n._currentValue=s}function Bi(e){e._currentValue=sf.current,K(sf)}function rf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function af(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),rf(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),rf(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Aa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;yn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===_t.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&af(n,e,s,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function kr(e){Vr=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Yp(Vr,e)}function Mu(e,n){return Vr===null&&kr(e),Yp(e,n)}function Yp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(e===null)throw Error(a(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return s}var NT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},IT=r.unstable_scheduleCallback,DT=r.unstable_NormalPriority,we={$$typeof:dt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new NT,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&IT(DT,function(){e.controller.abort()})}var Yo=null,lf=0,ba=0,Sa=null;function OT(e,n){if(Yo===null){var s=Yo=[];lf=0,ba=hd(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lf++,n.then(Kp,Kp),n}function Kp(){if(--lf===0&&Yo!==null){Sa!==null&&(Sa.status="fulfilled");var e=Yo;Yo=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function MT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Xp=G.S;G.S=function(e,n){Oy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&OT(e,n),Xp!==null&&Xp(e,n)};var Ur=V(null);function uf(){var e=Ur.current;return e!==null?e:ie.pooledCache}function Vu(e,n){n===null?st(Ur,Ur.current):st(Ur,n.pool)}function $p(){var e=uf();return e===null?null:{parent:we._currentValue,pool:e}}var wa=Error(a(460)),cf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function Jp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Zp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tg(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=ie,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,tg(e),e}throw jr=n,wa}}function Lr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(jr=s,wa):s}}var jr=null;function Wp(){if(jr===null)throw Error(a(459));var e=jr;return jr=null,e}function tg(e){if(e===wa||e===ku)throw Error(a(483))}var xa=null,Ko=0;function Lu(e){var n=Ko;return Ko+=1,xa===null&&(xa=[]),Zp(xa,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ju(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function eg(e){function n(L,O){if(e){var P=L.deletions;P===null?(L.deletions=[O],L.flags|=16):P.push(O)}}function s(L,O){if(!e)return null;for(;O!==null;)n(L,O),O=O.sibling;return null}function o(L){for(var O=new Map;L!==null;)L.key!==null?O.set(L.key,L):O.set(L.index,L),L=L.sibling;return O}function h(L,O){return L=ji(L,O),L.index=0,L.sibling=null,L}function f(L,O,P){return L.index=P,e?(P=L.alternate,P!==null?(P=P.index,P<O?(L.flags|=67108866,O):P):(L.flags|=67108866,O)):(L.flags|=1048576,O)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,O,P,Y){return O===null||O.tag!==6?(O=Jh(P,L.mode,Y),O.return=L,O):(O=h(O,P),O.return=L,O)}function N(L,O,P,Y){var mt=P.type;return mt===tt?Q(L,O,P.props.children,Y,P.key):O!==null&&(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Lr(mt)===O.type)?(O=h(O,P.props),Xo(O,P),O.return=L,O):(O=Iu(P.type,P.key,P.props,null,L.mode,Y),Xo(O,P),O.return=L,O)}function z(L,O,P,Y){return O===null||O.tag!==4||O.stateNode.containerInfo!==P.containerInfo||O.stateNode.implementation!==P.implementation?(O=Zh(P,L.mode,Y),O.return=L,O):(O=h(O,P.children||[]),O.return=L,O)}function Q(L,O,P,Y,mt){return O===null||O.tag!==7?(O=Or(P,L.mode,Y,mt),O.return=L,O):(O=h(O,P),O.return=L,O)}function X(L,O,P){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,L.mode,P),O.return=L,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return P=Iu(O.type,O.key,O.props,null,L.mode,P),Xo(P,O),P.return=L,P;case W:return O=Zh(O,L.mode,P),O.return=L,O;case w:return O=Lr(O),X(L,O,P)}if(de(O)||k(O))return O=Or(O,L.mode,P,null),O.return=L,O;if(typeof O.then=="function")return X(L,Lu(O),P);if(O.$$typeof===dt)return X(L,Mu(L,O),P);ju(L,O)}return null}function B(L,O,P,Y){var mt=O!==null?O.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return mt!==null?null:E(L,O,""+P,Y);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case F:return P.key===mt?N(L,O,P,Y):null;case W:return P.key===mt?z(L,O,P,Y):null;case w:return P=Lr(P),B(L,O,P,Y)}if(de(P)||k(P))return mt!==null?null:Q(L,O,P,Y,null);if(typeof P.then=="function")return B(L,O,Lu(P),Y);if(P.$$typeof===dt)return B(L,O,Mu(L,P),Y);ju(L,P)}return null}function H(L,O,P,Y,mt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(P)||null,E(O,L,""+Y,mt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case F:return L=L.get(Y.key===null?P:Y.key)||null,N(O,L,Y,mt);case W:return L=L.get(Y.key===null?P:Y.key)||null,z(O,L,Y,mt);case w:return Y=Lr(Y),H(L,O,P,Y,mt)}if(de(Y)||k(Y))return L=L.get(P)||null,Q(O,L,Y,mt,null);if(typeof Y.then=="function")return H(L,O,P,Lu(Y),mt);if(Y.$$typeof===dt)return H(L,O,P,Mu(O,Y),mt);ju(O,Y)}return null}function ot(L,O,P,Y){for(var mt=null,zt=null,ct=O,xt=O=0,Dt=null;ct!==null&&xt<P.length;xt++){ct.index>xt?(Dt=ct,ct=null):Dt=ct.sibling;var Bt=B(L,ct,P[xt],Y);if(Bt===null){ct===null&&(ct=Dt);break}e&&ct&&Bt.alternate===null&&n(L,ct),O=f(Bt,O,xt),zt===null?mt=Bt:zt.sibling=Bt,zt=Bt,ct=Dt}if(xt===P.length)return s(L,ct),Lt&&Pi(L,xt),mt;if(ct===null){for(;xt<P.length;xt++)ct=X(L,P[xt],Y),ct!==null&&(O=f(ct,O,xt),zt===null?mt=ct:zt.sibling=ct,zt=ct);return Lt&&Pi(L,xt),mt}for(ct=o(ct);xt<P.length;xt++)Dt=H(ct,L,xt,P[xt],Y),Dt!==null&&(e&&Dt.alternate!==null&&ct.delete(Dt.key===null?xt:Dt.key),O=f(Dt,O,xt),zt===null?mt=Dt:zt.sibling=Dt,zt=Dt);return e&&ct.forEach(function(qs){return n(L,qs)}),Lt&&Pi(L,xt),mt}function gt(L,O,P,Y){if(P==null)throw Error(a(151));for(var mt=null,zt=null,ct=O,xt=O=0,Dt=null,Bt=P.next();ct!==null&&!Bt.done;xt++,Bt=P.next()){ct.index>xt?(Dt=ct,ct=null):Dt=ct.sibling;var qs=B(L,ct,Bt.value,Y);if(qs===null){ct===null&&(ct=Dt);break}e&&ct&&qs.alternate===null&&n(L,ct),O=f(qs,O,xt),zt===null?mt=qs:zt.sibling=qs,zt=qs,ct=Dt}if(Bt.done)return s(L,ct),Lt&&Pi(L,xt),mt;if(ct===null){for(;!Bt.done;xt++,Bt=P.next())Bt=X(L,Bt.value,Y),Bt!==null&&(O=f(Bt,O,xt),zt===null?mt=Bt:zt.sibling=Bt,zt=Bt);return Lt&&Pi(L,xt),mt}for(ct=o(ct);!Bt.done;xt++,Bt=P.next())Bt=H(ct,L,xt,Bt.value,Y),Bt!==null&&(e&&Bt.alternate!==null&&ct.delete(Bt.key===null?xt:Bt.key),O=f(Bt,O,xt),zt===null?mt=Bt:zt.sibling=Bt,zt=Bt);return e&&ct.forEach(function(FA){return n(L,FA)}),Lt&&Pi(L,xt),mt}function te(L,O,P,Y){if(typeof P=="object"&&P!==null&&P.type===tt&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case F:t:{for(var mt=P.key;O!==null;){if(O.key===mt){if(mt=P.type,mt===tt){if(O.tag===7){s(L,O.sibling),Y=h(O,P.props.children),Y.return=L,L=Y;break t}}else if(O.elementType===mt||typeof mt=="object"&&mt!==null&&mt.$$typeof===w&&Lr(mt)===O.type){s(L,O.sibling),Y=h(O,P.props),Xo(Y,P),Y.return=L,L=Y;break t}s(L,O);break}else n(L,O);O=O.sibling}P.type===tt?(Y=Or(P.props.children,L.mode,Y,P.key),Y.return=L,L=Y):(Y=Iu(P.type,P.key,P.props,null,L.mode,Y),Xo(Y,P),Y.return=L,L=Y)}return p(L);case W:t:{for(mt=P.key;O!==null;){if(O.key===mt)if(O.tag===4&&O.stateNode.containerInfo===P.containerInfo&&O.stateNode.implementation===P.implementation){s(L,O.sibling),Y=h(O,P.children||[]),Y.return=L,L=Y;break t}else{s(L,O);break}else n(L,O);O=O.sibling}Y=Zh(P,L.mode,Y),Y.return=L,L=Y}return p(L);case w:return P=Lr(P),te(L,O,P,Y)}if(de(P))return ot(L,O,P,Y);if(k(P)){if(mt=k(P),typeof mt!="function")throw Error(a(150));return P=mt.call(P),gt(L,O,P,Y)}if(typeof P.then=="function")return te(L,O,Lu(P),Y);if(P.$$typeof===dt)return te(L,O,Mu(L,P),Y);ju(L,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,O!==null&&O.tag===6?(s(L,O.sibling),Y=h(O,P),Y.return=L,L=Y):(s(L,O),Y=Jh(P,L.mode,Y),Y.return=L,L=Y),p(L)):s(L,O)}return function(L,O,P,Y){try{Ko=0;var mt=te(L,O,P,Y);return xa=null,mt}catch(ct){if(ct===wa||ct===ku)throw ct;var zt=_n(29,ct,null,L.mode);return zt.lanes=Y,zt.return=L,zt}}}var Pr=eg(!0),ng=eg(!1),ws=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function xs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Nu(e),Pp(e,null,s),n}return Cu(e,o,n,s),Nu(e)}function $o(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}function df(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var mf=!1;function Jo(){if(mf){var e=Sa;if(e!==null)throw e}}function Zo(e,n,s,o){mf=!1;var h=e.updateQueue;ws=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,z=N.next;N.next=null,p===null?f=z:p.next=z,p=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=N))}if(f!==null){var X=h.baseState;p=0,Q=z=N=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(It&B)===B:(o&B)===B){B!==0&&B===ba&&(mf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ot=e,gt=E;B=n;var te=s;switch(gt.tag){case 1:if(ot=gt.payload,typeof ot=="function"){X=ot.call(te,X,B);break t}X=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=gt.payload,B=typeof ot=="function"?ot.call(te,X,B):ot,B==null)break t;X=S({},X,B);break t;case 2:ws=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=H,N=X):Q=Q.next=H,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);Q===null&&(N=X),h.baseState=N,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Os|=p,e.lanes=p,e.memoizedState=X}}function ig(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function sg(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ig(s[e],n)}var Ra=V(null),Pu=V(0);function rg(e,n){e=$i,st(Pu,e),st(Ra,n),$i=e|n.baseLanes}function pf(){st(Pu,$i),st(Ra,Ra.current)}function gf(){$i=Pu.current,K(Ra),K(Pu)}var vn=V(null),Un=null;function Cs(e){var n=e.alternate;st(ge,ge.current&1),st(vn,e),Un===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Un=e)}function yf(e){st(ge,ge.current),st(vn,e),Un===null&&(Un=e)}function ag(e){e.tag===22?(st(ge,ge.current),st(vn,e),Un===null&&(Un=e)):Ns()}function Ns(){st(ge,ge.current),st(vn,vn.current)}function En(e){K(vn),Un===e&&(Un=null),K(ge)}var ge=V(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||bd(s)||Sd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,St=null,Zt=null,xe=null,Bu=!1,Ca=!1,zr=!1,qu=0,Wo=0,Na=null,VT=0;function he(){throw Error(a(321))}function _f(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function vf(e,n,s,o,h,f){return qi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Hg:Vf,zr=!1,f=s(o,h),zr=!1,Ca&&(f=lg(n,s,o,h)),og(e),f}function og(e){G.H=nl;var n=Zt!==null&&Zt.next!==null;if(qi=0,xe=Zt=St=null,Bu=!1,Wo=0,Na=null,n)throw Error(a(300));e===null||Re||(e=e.dependencies,e!==null&&Ou(e)&&(Re=!0))}function lg(e,n,s,o){St=e;var h=0;do{if(Ca&&(Na=null),Wo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,xe=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Fg,f=n(s,o)}while(Ca);return f}function kT(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(St.flags|=1024),n}function Ef(){var e=qu!==0;return qu=0,e}function Tf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Af(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}qi=0,xe=Zt=St=null,Ca=!1,Wo=qu=0,Na=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?St.memoizedState=xe=e:xe=xe.next=e,xe}function ye(){if(Zt===null){var e=St.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=xe===null?St.memoizedState:xe.next;if(n!==null)xe=n,Zt=e;else{if(e===null)throw St.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},xe===null?St.memoizedState=xe=e:xe=xe.next=e}return xe}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,Na===null&&(Na=[]),e=Zp(Na,e,n),n=St,(xe===null?n.memoizedState:xe.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Hg:Vf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===dt)return He(e)}throw Error(a(438,String(e)))}function bf(e){var n=null,s=St.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=St.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),St.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=D;return n.index++,s}function Hi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=ye();return Sf(n,Zt,e)}function Sf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,N=null,z=n,Q=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(It&X)===X:(qi&X)===X){var B=z.revertLane;if(B===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===ba&&(Q=!0);else if((qi&B)===B){z=z.next,B===ba&&(Q=!0);continue}else X={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=X,p=f):N=N.next=X,St.lanes|=B,Os|=B;X=z.action,zr&&s(f,X),f=z.hasEagerState?z.eagerState:s(f,X)}else B={lane:X,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},N===null?(E=N=B,p=f):N=N.next=B,St.lanes|=X,Os|=X;z=z.next}while(z!==null&&z!==n);if(N===null?p=f:N.next=E,!yn(f,e.memoizedState)&&(Re=!0,Q&&(s=Sa,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);yn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ug(e,n,s){var o=St,h=ye(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!yn((Zt||h).memoizedState,s);if(p&&(h.memoizedState=s,Re=!0),h=h.queue,Cf(fg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||xe!==null&&xe.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},hg.bind(null,o,h,s,n),null),ie===null)throw Error(a(349));f||(qi&127)!==0||cg(o,n,s)}return s}function cg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=St.updateQueue,n===null?(n=Hu(),St.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function hg(e,n,s,o){n.value=s,n.getSnapshot=o,dg(n)&&mg(e)}function fg(e,n,s){return s(function(){dg(n)&&mg(e)})}function dg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function mg(e){var n=Dr(e,2);n!==null&&hn(n,e,2)}function xf(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),zr){xn(!0);try{s()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function pg(e,n,s,o){return e.baseState=s,Sf(e,Zt,typeof o=="function"?o:Hi)}function UT(e,n,s,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,gg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function gg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),N=G.S;N!==null&&N(p,E),yg(e,n,E)}catch(z){Rf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),yg(e,n,f)}catch(z){Rf(e,n,z)}}function yg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){_g(e,n,o)},function(o){return Rf(e,n,o)}):_g(e,n,s)}function _g(e,n,s){n.status="fulfilled",n.value=s,vg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,gg(e,s)))}function Rf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,vg(n),n=n.next;while(n!==o)}e.action=null}function vg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Eg(e,n){return n}function Tg(e,n){if(Lt){var s=ie.formState;if(s!==null){t:{var o=St;if(Lt){if(se){e:{for(var h=se,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){se=Ln(h.nextSibling),o=h.data==="F!";break t}}bs(o)}o=!1}o&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Eg,lastRenderedState:n},s.queue=o,s=zg.bind(null,St,o),o.dispatch=s,o=xf(!1),f=Mf.bind(null,St,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=UT.bind(null,St,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Ag(e){var n=ye();return bg(n,Zt,e)}function bg(e,n,s){if(n=Sf(e,n,Eg)[0],e=Gu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(p){throw p===wa?ku:p}else o=n;n=ye();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(St.flags|=2048,Ia(9,{destroy:void 0},LT.bind(null,h,s),null)),[o,f,e]}function LT(e,n){e.action=n}function Sg(e){var n=ye(),s=Zt;if(s!==null)return bg(n,s,e);ye(),n=n.memoizedState,s=ye();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=St.updateQueue,n===null&&(n=Hu(),St.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function wg(){return ye().memoizedState}function Qu(e,n,s,o){var h=sn();St.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function Yu(e,n,s,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&_f(o,Zt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(St.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function xg(e,n){Qu(8390656,8,e,n)}function Cf(e,n){Yu(2048,8,e,n)}function jT(e){St.flags|=4;var n=St.updateQueue;if(n===null)n=Hu(),St.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Rg(e){var n=ye().memoizedState;return jT({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cg(e,n){return Yu(4,2,e,n)}function Ng(e,n){return Yu(4,4,e,n)}function Ig(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dg(e,n,s){s=s!=null?s.concat([e]):null,Yu(4,4,Ig.bind(null,n,e),s)}function Nf(){}function Og(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Mg(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),zr){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o}function If(e,n,s){return s===void 0||(qi&1073741824)!==0&&(It&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Vy(),St.lanes|=e,Os|=e,s)}function Vg(e,n,s,o){return yn(s,n)?s:Ra.current!==null?(e=If(e,s,o),yn(e,n)||(Re=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(It&261930)===0?(Re=!0,e.memoizedState=s):(e=Vy(),St.lanes|=e,Os|=e,n)}function kg(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Mf(e,!1,n,s);try{var N=h(),z=G.S;if(z!==null&&z(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=MT(N,o);el(e,n,Q,bn(e))}else el(e,n,o,bn(e))}catch(X){el(e,n,{then:function(){},status:"rejected",reason:X},bn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function PT(){}function Df(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Ug(e).queue;kg(e,h,n,ft,s===null?PT:function(){return Lg(e),s(o)})}function Ug(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Lg(e){var n=Ug(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},bn())}function Of(){return He(_l)}function jg(){return ye().memoizedState}function Pg(){return ye().memoizedState}function zT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=xs(s);var o=Rs(n,e,s);o!==null&&(hn(o,n,s),$o(o,n,s)),n={cache:of()},e.payload=n;return}n=n.return}}function BT(e,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?Bg(n,s):(s=Xh(e,n,s,o),s!==null&&(hn(s,e,o),qg(s,n,o)))}function zg(e,n,s){var o=bn();el(e,n,s,o)}function el(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))Bg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,yn(E,p))return Cu(e,n,h,0),ie===null&&Ru(),!1}catch{}if(s=Xh(e,n,h,o),s!==null)return hn(s,e,o),qg(s,n,o),!0}return!1}function Mf(e,n,s,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=Xh(e,s,o,2),n!==null&&hn(n,e,2)}function Ku(e){var n=e.alternate;return e===St||n!==null&&n===St}function Bg(e,n){Ca=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function qg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}var nl={readContext:He,use:Fu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};nl.useEffectEvent=he;var Hg={readContext:He,use:Fu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:xg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,Ig.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var o=e();if(zr){xn(!0);try{e()}finally{xn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=sn();if(s!==void 0){var h=s(n);if(zr){xn(!0);try{s(n)}finally{xn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=BT.bind(null,St,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=xf(e);var n=e.queue,s=zg.bind(null,St,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Nf,useDeferredValue:function(e,n){var s=sn();return If(s,e,n)},useTransition:function(){var e=xf(!1);return e=kg.bind(null,St,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=St,h=sn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ie===null)throw Error(a(349));(It&127)!==0||cg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,xg(fg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},hg.bind(null,o,f,s,n),null),s},useId:function(){var e=sn(),n=ie.identifierPrefix;if(Lt){var s=Ai,o=Ti;s=(o&~(1<<32-me(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=VT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:Tg,useActionState:Tg,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Mf.bind(null,St,!0,s),s.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return sn().memoizedState=zT.bind(null,St)},useEffectEvent:function(e){var n=sn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Vf={readContext:He,use:Fu,useCallback:Og,useContext:He,useEffect:Cf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ng,useMemo:Mg,useReducer:Gu,useRef:wg,useState:function(){return Gu(Hi)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=ye();return Vg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Gu(Hi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:ug,useId:jg,useHostTransitionStatus:Of,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var s=ye();return pg(s,Zt,e,n)},useMemoCache:bf,useCacheRefresh:Pg};Vf.useEffectEvent=Rg;var Fg={readContext:He,use:Fu,useCallback:Og,useContext:He,useEffect:Cf,useImperativeHandle:Dg,useInsertionEffect:Cg,useLayoutEffect:Ng,useMemo:Mg,useReducer:wf,useRef:wg,useState:function(){return wf(Hi)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=ye();return Zt===null?If(s,e,n):Vg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=wf(Hi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:ug,useId:jg,useHostTransitionStatus:Of,useFormState:Sg,useActionState:Sg,useOptimistic:function(e,n){var s=ye();return Zt!==null?pg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Pg};Fg.useEffectEvent=Rg;function kf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Uf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=bn(),h=xs(o);h.payload=n,s!=null&&(h.callback=s),n=Rs(e,h,o),n!==null&&(hn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=bn(),h=xs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Rs(e,h,o),n!==null&&(hn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),o=xs(s);o.tag=2,n!=null&&(o.callback=n),n=Rs(e,o,s),n!==null&&(hn(n,e,s),$o(n,e,s))}};function Gg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(s,o)||!qo(h,f):!0}function Qg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function Br(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Yg(e){xu(e)}function Kg(e){console.error(e)}function Xg(e){xu(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function $g(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,s){return s=xs(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function Jg(e){return e=xs(e),e.tag=3,e}function Zg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){$g(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){$g(n,s,o),typeof h!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function qT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?oc():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ld(e,o,h)),!1}throw Error(a(435,s.tag))}return ld(e,o,h),oc(),!1}if(Lt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(a(422),{cause:o}),Go(On(e,s)))):(o!==ef&&(n=Error(a(423),{cause:o}),Go(On(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,s),h=Lf(e.stateNode,o,h),df(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=On(f,s),cl===null?cl=[f]:cl.push(f),fe!==4&&(fe=2),n===null)return!0;o=On(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Lf(s.stateNode,o,e),df(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Jg(h),Zg(h,e,s,o),df(s,h),!1}s=s.return}while(s!==null);return!1}var jf=Error(a(461)),Re=!1;function Fe(e,n,s,o){n.child=e===null?ng(n,null,s,o):Pr(n,e.child,s,o)}function Wg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return kr(n),o=vf(e,n,s,p,f,h),E=Ef(),e!==null&&!Re?(Tf(e,n,h),Fi(e,n,h)):(Lt&&E&&Wh(n),n.flags|=1,Fe(e,n,o,h),n.child)}function ty(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ey(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(p,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=ji(f,o),e.ref=n.ref,e.return=n,n.child=e}function ey(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(Re=!1,n.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return Pf(e,n,s,o,h)}function ny(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return iy(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?rg(n,f):pf(),ag(n);else return o=n.lanes=536870912,iy(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),rg(n,f),Ns(),n.memoizedState=null):(e!==null&&Vu(n,null),pf(),Ns());return Fe(e,n,h,s),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function iy(e,n,s,o,h){var f=uf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),pf(),ag(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function sy(e,n,s){return Pr(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function HT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,il(null,e);if(yf(n),(e=se)?(e=g_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Bp(e),s.return=n,n.child=s,qe=n,se=null)):e=null,e===null)throw bs(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=sy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Re||Aa(e,n,s,!1),h=(s&e.childLanes)!==0,Re||h){if(o=ie,o!==null&&(p=So(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Dr(e,p),hn(o,e,p),jf;oc(),n=sy(e,n,s)}else e=f.treeContext,se=Ln(p.nextSibling),qe=n,Lt=!0,As=null,kn=!1,e!==null&&Fp(n,e),n=$u(n,o),n.flags|=4096;return n}return e=ji(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Pf(e,n,s,o,h){return kr(n),s=vf(e,n,s,o,void 0,h),o=Ef(),e!==null&&!Re?(Tf(e,n,h),Fi(e,n,h)):(Lt&&o&&Wh(n),n.flags|=1,Fe(e,n,s,h),n.child)}function ry(e,n,s,o,h,f){return kr(n),n.updateQueue=null,s=lg(n,o,s,h),og(e),o=Ef(),e!==null&&!Re?(Tf(e,n,f),Fi(e,n,f)):(Lt&&o&&Wh(n),n.flags|=1,Fe(e,n,s,f),n.child)}function ay(e,n,s,o,h){if(kr(n),n.stateNode===null){var f=_a,p=s.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?He(p):_a,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(kf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Zo(n,o,f,h),Jo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=Br(s,E);f.props=N;var z=f.context,Q=s.contextType;p=_a,typeof Q=="object"&&Q!==null&&(p=He(Q));var X=s.getDerivedStateFromProps;Q=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Qg(n,f,o,p),ws=!1;var B=n.memoizedState;f.state=B,Zo(n,o,f,h),Jo(),z=n.memoizedState,E||B!==z||ws?(typeof X=="function"&&(kf(n,s,X,o),z=n.memoizedState),(N=ws||Gg(n,s,N,o,B,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),p=n.memoizedProps,Q=Br(s,p),f.props=Q,X=n.pendingProps,B=f.context,z=s.contextType,N=_a,typeof z=="object"&&z!==null&&(N=He(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==X||B!==N)&&Qg(n,f,o,N),ws=!1,B=n.memoizedState,f.state=B,Zo(n,o,f,h),Jo();var H=n.memoizedState;p!==X||B!==H||ws||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(kf(n,s,E,o),H=n.memoizedState),(Q=ws||Gg(n,s,Q,o,B,H,N)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=N,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Pr(n,e.child,null,h),n.child=Pr(n,null,s,h)):Fe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function oy(e,n,s,o){return Mr(),n.flags|=256,Fe(e,n,s,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:$p()}}function qf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=An),e}function ly(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?Cs(n):Ns(),(e=se)?(e=g_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Ts!==null?{id:Ti,overflow:Ai}:null,retryLane:536870912,hydrationErrors:null},s=Bp(e),s.return=n,n.child=s,qe=n,se=null)):e=null,e===null)throw bs(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Ns(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Or(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(e,p,s),n.memoizedState=zf,il(null,o)):(Cs(n),Hf(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=Ff(e,n,s)):n.memoizedState!==null?(Ns(),n.child=e.child,n.flags|=128,n=null):(Ns(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Or(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Pr(n,e.child,null,s),o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(e,p,s),n.memoizedState=zf,n=il(null,o));else if(Cs(n),Sd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Go({value:o,source:null,stack:null}),n=Ff(e,n,s)}else if(Re||Aa(e,n,s,!1),p=(s&e.childLanes)!==0,Re||p){if(p=ie,p!==null&&(o=So(p,s),o!==0&&o!==N.retryLane))throw N.retryLane=o,Dr(e,o),hn(p,e,o),jf;bd(E)||oc(),n=Ff(e,n,s)}else bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,se=Ln(E.nextSibling),qe=n,Lt=!0,As=null,kn=!1,e!==null&&Fp(n,e),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Ns(),E=o.fallback,h=n.mode,N=e.child,z=N.sibling,o=ji(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,z!==null?E=ji(z,E):(E=Or(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Bf(s):(h=E.cachePool,h!==null?(N=we._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=$p(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=qf(e,p,s),n.memoizedState=zf,il(e.child,o)):(Cs(n),s=e.child,e=s.sibling,s=ji(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Hf(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Ff(e,n,s){return Pr(n,e.child,null,s),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function uy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rf(e.return,n,s)}function Gf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function cy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=ge.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,st(ge,p),Fe(e,n,o,s),o=Lt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&uy(e,s,n);else if(e.tag===19)uy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Gf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Gf(n,!0,s,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Os|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=ji(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=ji(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function FT(e,n,s){switch(n.tag){case 3:Ut(n,n.stateNode.containerInfo),Ss(n,we,e.memoizedState.cache),Mr();break;case 27:case 5:ni(n);break;case 4:Ut(n,n.stateNode.containerInfo);break;case 10:Ss(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ly(e,n,s):(Cs(n),e=Fi(e,n,s),e!==null?e.sibling:null);Cs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return cy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(ge,ge.current),o)break;return null;case 22:return n.lanes=0,ny(e,n,s,n.pendingProps);case 24:Ss(n,we,e.memoizedState.cache)}return Fi(e,n,s)}function hy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Qf(e,s)&&(n.flags&128)===0)return Re=!1,FT(e,n,s);Re=(e.flags&131072)!==0}else Re=!1,Lt&&(n.flags&1048576)!==0&&Hp(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Lr(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=Br(e,o),n.tag=1,n=ay(null,n,e,o,s)):(n.tag=0,n=Pf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===kt){n.tag=11,n=Wg(null,n,e,o,s);break t}else if(h===R){n.tag=14,n=ty(null,n,e,o,s);break t}}throw n=$t(e)||e,Error(a(306,n,""))}}return n;case 0:return Pf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Br(o,n.pendingProps),ay(e,n,o,h,s);case 3:t:{if(Ut(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),Zo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Ss(n,we,o),o!==f.cache&&af(n,[we],s,!0),Jo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=oy(e,n,o,s);break t}else if(o!==h){h=On(Error(a(424)),n),Go(h),n=oy(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,se=Ln(e.firstChild),qe=n,Lt=!0,As=null,kn=!0,s=ng(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Mr(),o===h){n=Fi(e,n,s);break t}Fe(e,n,o,s)}n=n.child}return n;case 26:return Ju(e,n),e===null?(s=A_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=mc(ht.current).createElement(s),o[Ae]=n,o[Ue]=e,Ge(o,s,e),be(o),n.stateNode=o):n.memoizedState=A_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ni(n),e===null&&Lt&&(o=n.stateNode=v_(n.type,n.pendingProps,ht.current),qe=n,kn=!0,h=se,Ls(n.type)?(wd=h,se=Ln(o.firstChild)):se=h),Fe(e,n,n.pendingProps.children,s),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=se)&&(o=EA(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,qe=n,se=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||bs(n)),ni(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ed(h,f)?o=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,kT,null,null,s),_l._currentValue=h),Ju(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=se)&&(s=TA(s,n.pendingProps,kn),s!==null?(n.stateNode=s,qe=n,se=null,e=!0):e=!1),e||bs(n)),null;case 13:return ly(e,n,s);case 4:return Ut(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Pr(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return Wg(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ss(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,kr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return ty(e,n,n.type,n.pendingProps,s);case 15:return ey(e,n,n.type,n.pendingProps,s);case 19:return cy(e,n,s);case 31:return HT(e,n,s);case 22:return ny(e,n,s,n.pendingProps);case 24:return kr(n),o=He(we),e===null?(h=uf(),h===null&&(h=ie,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},hf(n),Ss(n,we,h)):((e.lanes&s)!==0&&(ff(e,n),Zo(n,null,null,s),Jo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ss(n,we,o)):(o=f.cache,Ss(n,we,o),o!==h.cache&&af(n,[we],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function Yf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(jy())e.flags|=8192;else throw jr=Uu,cf}else e.flags&=-16777217}function fy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R_(n))if(jy())e.flags|=8192;else throw jr=Uu,cf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Va|=n)}function sl(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function re(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function GT(e,n,s){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(n),null;case 1:return re(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(we),ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),re(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(re(n),fy(n,f)):(re(n),Yf(n,h,null,o,s))):f?f!==e.memoizedState?(Gi(n),re(n),fy(n,f)):(re(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),re(n),Yf(n,h,e,o,s)),null;case 27:if(us(n),s=ht.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}e=U.current,Ta(n)?Gp(n):(e=v_(h,o,s),n.stateNode=e,Gi(n))}return re(n),null;case 5:if(us(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return re(n),null}if(f=U.current,Ta(n))Gp(n);else{var p=mc(ht.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ae]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return re(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=ht.current,Ta(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||l_(e.nodeValue,s)),e||bs(n,!0)}else e=mc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return re(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),e=!1}else s=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return re(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Mr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;re(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),re(n),null);case 4:return ne(),e===null&&pd(n.stateNode.containerInfo),re(n),null;case 10:return Bi(n.type),re(n),null;case 19:if(K(ge),o=n.memoizedState,o===null)return re(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)zp(s,e),s=s.sibling;return st(ge,ge.current&1|2),Lt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>sc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return re(n),null}else 2*en()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,s=ge.current,st(ge,h?s&1|2:s&1),Lt&&Pi(n,o.treeForkCount),e):(re(n),null);case 22:case 23:return En(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(re(n),n.subtreeFlags&6&&(n.flags|=8192)):re(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&K(Ur),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(we),re(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function QT(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(we),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return us(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Mr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return K(ge),null;case 4:return ne(),null;case 10:return Bi(n.type),null;case 22:case 23:return En(n),gf(),e!==null&&K(Ur),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(we),null;case 25:return null;default:return null}}function dy(e,n){switch(tf(n),n.tag){case 3:Bi(we),ne();break;case 26:case 27:case 5:us(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:K(ge);break;case 10:Bi(n.type);break;case 22:case 23:En(n),gf(),e!==null&&K(Ur);break;case 24:Bi(we)}}function rl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Xt(n,n.return,E)}}function Is(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=s,z=E;try{z()}catch(Q){Xt(h,N,Q)}}}o=o.next}while(o!==f)}}catch(Q){Xt(n,n.return,Q)}}function my(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{sg(n,s)}catch(o){Xt(e,e.return,o)}}}function py(e,n,s){s.props=Br(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Xt(e,n,o)}}function al(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Xt(e,n,h)}}function bi(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Xt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Xt(e,n,h)}else s.current=null}function gy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Xt(e,e.return,h)}}function Kf(e,n,s){try{var o=e.stateNode;mA(o,e.type,s,n),o[Ue]=n}catch(h){Xt(e,e.return,h)}}function yy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Ls(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||yy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Ls(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&Ls(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,s),e=e.sibling;e!==null;)$f(e,n,s),e=e.sibling}function tc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Ls(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function _y(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[Ae]=e,n[Ue]=s}catch(f){Xt(e,e.return,f)}}var Qi=!1,Ce=!1,Jf=!1,vy=typeof WeakSet=="function"?WeakSet:Set,je=null;function YT(e,n){if(e=e.containerInfo,_d=Tc,e=Dp(e),Hh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,N=-1,z=0,Q=0,X=e,B=null;e:for(;;){for(var H;X!==s||h!==0&&X.nodeType!==3||(E=p+h),X!==f||o!==0&&X.nodeType!==3||(N=p+o),X.nodeType===3&&(p+=X.nodeValue.length),(H=X.firstChild)!==null;)B=X,X=H;for(;;){if(X===e)break e;if(B===s&&++z===h&&(E=p),B===f&&++Q===o&&(N=p),(H=X.nextSibling)!==null)break;X=B,B=X.parentNode}X=H}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(vd={focusedElem:e,selectionRange:s},Tc=!1,je=n;je!==null;)if(n=je,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,je=e;else for(;je!==null;){switch(n=je,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var ot=Br(s.type,h);e=o.getSnapshotBeforeUpdate(ot,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){Xt(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Ad(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,je=e;break}je=n.return}}function Ey(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),o&4&&rl(5,s);break;case 1:if(Ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Xt(s,s.return,p)}else{var h=Br(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Xt(s,s.return,p)}}o&64&&my(s),o&512&&al(s,s.return);break;case 3:if(Ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{sg(e,n)}catch(p){Xt(s,s.return,p)}}break;case 27:n===null&&o&4&&_y(s);case 26:case 5:Ki(e,s),n===null&&o&4&&gy(s),o&512&&al(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),o&4&&by(e,s);break;case 13:Ki(e,s),o&4&&Sy(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=nA.bind(null,s),AA(e,s))));break;case 22:if(o=s.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||Ce,h=Qi;var f=Ce;Qi=o,(Ce=n)&&!f?Xi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Qi=h,Ce=f}break;case 30:break;default:Ki(e,s)}}function Ty(e){var n=e.alternate;n!==null&&(e.alternate=null,Ty(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ue=null,on=!1;function Yi(e,n,s){for(s=s.child;s!==null;)Ay(e,n,s),s=s.sibling}function Ay(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:Ce||bi(s,n),Yi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||bi(s,n);var o=ue,h=on;Ls(s.type)&&(ue=s.stateNode,on=!1),Yi(e,n,s),pl(s.stateNode),ue=o,on=h;break;case 5:Ce||bi(s,n);case 6:if(o=ue,h=on,ue=null,Yi(e,n,s),ue=o,on=h,ue!==null)if(on)try{(ue.nodeType===9?ue.body:ue.nodeName==="HTML"?ue.ownerDocument.body:ue).removeChild(s.stateNode)}catch(f){Xt(s,n,f)}else try{ue.removeChild(s.stateNode)}catch(f){Xt(s,n,f)}break;case 18:ue!==null&&(on?(e=ue,m_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qa(e)):m_(ue,s.stateNode));break;case 4:o=ue,h=on,ue=s.stateNode.containerInfo,on=!0,Yi(e,n,s),ue=o,on=h;break;case 0:case 11:case 14:case 15:Is(2,s,n),Ce||Is(4,s,n),Yi(e,n,s);break;case 1:Ce||(bi(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&py(s,n,o)),Yi(e,n,s);break;case 21:Yi(e,n,s);break;case 22:Ce=(o=Ce)||s.memoizedState!==null,Yi(e,n,s),Ce=o;break;default:Yi(e,n,s)}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(s){Xt(n,n.return,s)}}}function Sy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(s){Xt(n,n.return,s)}}function KT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new vy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new vy),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=KT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=iA.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Ls(E.type)){ue=E.stateNode,on=!1;break t}break;case 5:ue=E.stateNode,on=!1;break t;case 3:case 4:ue=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(ue===null)throw Error(a(160));Ay(f,p,h),ue=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)wy(n,e),n=n.sibling}var Zn=null;function wy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Is(3,e,e.return),rl(3,e),Is(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Zn;if(ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ui]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[Ae]=e,be(f),o=f;break t;case"link":var p=w_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(p=w_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,be(f),o=f}e.stateNode=o}else x_(h,e.type,e.stateNode);else e.stateNode=S_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?x_(h,e.type,e.stateNode):S_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),s!==null&&o&4&&Kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Ce||s===null||bi(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(ot){Xt(e,e.return,ot)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(ot){Xt(e,e.return,ot)}}break;case 3:if(yc=null,h=Zn,Zn=pc(n.containerInfo),ln(n,e),Zn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(ot){Xt(e,e.return,ot)}Jf&&(Jf=!1,xy(e));break;case 4:o=Zn,Zn=pc(e.stateNode.containerInfo),ln(n,e),un(e),Zn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,z=Qi,Q=Ce;if(Qi=z||h,Ce=Q||N,ln(n,e),Ce=Q,Qi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||N||Qi||Ce||qr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var X=N.memoizedProps.style,B=X!=null&&X.hasOwnProperty("display")?X.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(ot){Xt(N,N.return,ot)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(ot){Xt(N,N.return,ot)}}}else if(n.tag===18){if(s===null){N=n;try{var H=N.stateNode;h?p_(H,!0):p_(N.stateNode,!1)}catch(ot){Xt(N,N.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(yy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Xf(e);tc(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var E=Xf(e);tc(e,E,p);break;case 3:case 4:var N=s.stateNode.containerInfo,z=Xf(e);$f(e,z,N);break;default:throw Error(a(161))}}catch(Q){Xt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function xy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;xy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Ey(e,n.alternate,n),n=n.sibling}function qr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),qr(n);break;case 1:bi(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&py(n,n.return,s),qr(n);break;case 27:pl(n.stateNode);case 26:case 5:bi(n,n.return),qr(n);break;case 22:n.memoizedState===null&&qr(n);break;case 30:qr(n);break;default:qr(n)}e=e.sibling}}function Xi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,s),rl(4,f);break;case 1:if(Xi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Xt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)ig(N[h],E)}catch(z){Xt(o,o.return,z)}}s&&p&64&&my(f),al(f,f.return);break;case 27:_y(f);case 26:case 5:Xi(h,f,s),s&&o===null&&p&4&&gy(f),al(f,f.return);break;case 12:Xi(h,f,s);break;case 31:Xi(h,f,s),s&&p&4&&by(h,f);break;case 13:Xi(h,f,s),s&&p&4&&Sy(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,s),al(f,f.return);break;case 30:break;default:Xi(h,f,s)}n=n.sibling}}function Zf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function Wn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,s,o),n=n.sibling}function Ry(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,o),h&2048&&rl(9,n);break;case 1:Wn(e,n,s,o);break;case 3:Wn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){Wn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Xt(n,n.return,N)}}else Wn(e,n,s,o);break;case 31:Wn(e,n,s,o);break;case 13:Wn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,o):ol(e,n):f._visibility&2?Wn(e,n,s,o):(f._visibility|=2,Da(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:Wn(e,n,s,o),h&2048&&Wf(n.alternate,n);break;default:Wn(e,n,s,o)}}function Da(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,N=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Da(f,p,E,N,h),rl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Da(f,p,E,N,h):ol(f,p):(Q._visibility|=2,Da(f,p,E,N,h)),h&&z&2048&&Zf(p.alternate,p);break;case 24:Da(f,p,E,N,h),h&&z&2048&&Wf(p.alternate,p);break;default:Da(f,p,E,N,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Zf(o.alternate,o);break;case 24:ol(s,o),h&2048&&Wf(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function Oa(e,n,s){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Cy(e,n,s),e=e.sibling}function Cy(e,n,s){switch(e.tag){case 26:Oa(e,n,s),e.flags&ll&&e.memoizedState!==null&&VA(s,Zn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,s);break;case 3:case 4:var o=Zn;Zn=pc(e.stateNode.containerInfo),Oa(e,n,s),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Oa(e,n,s),ll=o):Oa(e,n,s));break;default:Oa(e,n,s)}}function Ny(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,Dy(o,e)}Ny(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Is(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):ul(e);break;default:ul(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];je=o,Dy(o,e)}Ny(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Is(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Dy(e,n){for(;je!==null;){var s=je;switch(s.tag){case 0:case 11:case 15:Is(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,je=o;else t:for(s=e;je!==null;){o=je;var h=o.sibling,f=o.return;if(Ty(o),o===s){je=null;break t}if(h!==null){h.return=f,je=h;break t}je=f}}}var XT={getCacheForType:function(e){var n=He(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return He(we).controller.signal}},$T=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ie=null,Rt=null,It=0,Kt=0,Tn=null,Ds=!1,Ma=!1,td=!1,$i=0,fe=0,Os=0,Hr=0,ed=0,An=0,Va=0,cl=null,cn=null,nd=!1,ic=0,Oy=0,sc=1/0,rc=null,Ms=null,Oe=0,Vs=null,ka=null,Ji=0,id=0,sd=null,My=null,hl=0,rd=null;function bn(){return(Gt&2)!==0&&It!==0?It&-It:G.T!==null?hd():au()}function Vy(){if(An===0)if((It&536870912)===0||Lt){var e=gr;gr<<=1,(gr&3932160)===0&&(gr=262144),An=e}else An=536870912;return e=vn.current,e!==null&&(e.flags|=32),An}function hn(e,n,s){(e===ie&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),ks(e,It,An,!1)),yr(e,s),((Gt&2)===0||e!==ie)&&(e===ie&&((Gt&2)===0&&(Hr|=s),fe===4&&ks(e,It,An,!1)),Si(e))}function ky(e,n,s){if((Gt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?WT(e,n):od(e,n,!0),f=o;do{if(h===0){Ma&&!o&&ks(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!JT(s)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=cl;var N=E.current.memoizedState.isDehydrated;if(N&&(Ua(E,p).flags|=256),p=od(E,p,!1),p!==2){if(td&&!N){E.errorRecoveryDisabledLanes|=f,Hr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),ks(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:ks(o,n,An,!Ds);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-en(),10<h)){if(ks(o,n,An,!Ds),ai(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=f_(Uy.bind(null,o,s,cn,rc,nd,n,An,Hr,Va,Ds,f,"Throttled",-0,0),h);break t}Uy(o,s,cn,rc,nd,n,An,Hr,Va,Ds,f,null,-0,0)}}break}while(!0);Si(e)}function Uy(e,n,s,o,h,f,p,E,N,z,Q,X,B,H){if(e.timeoutHandle=-1,X=n.subtreeFlags,X&8192||(X&16785408)===16785408){X={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Cy(n,f,X);var ot=(f&62914560)===f?ic-en():(f&4194048)===f?Oy-en():0;if(ot=kA(X,ot),ot!==null){Ji=f,e.cancelPendingCommit=ot(Fy.bind(null,e,n,f,s,o,h,p,E,N,Q,X,null,B,H)),ks(e,f,p,!z);return}}Fy(e,n,f,s,o,h,p,E,N)}function JT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function ks(e,n,s,o){n&=~ed,n&=~Hr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&_r(e,s,n)}function ac(){return(Gt&6)===0?(fl(0),!1):!0}function ad(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,zi=Vr=null,Af(e),xa=null,Ko=0,e=Rt;for(;e!==null;)dy(e.alternate,e),e=e.return;Rt=null}}function Ua(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,yA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ji=0,ad(),ie=e,Rt=s=ji(e.current,null),It=n,Kt=0,Tn=null,Ds=!1,Ma=Hn(e,n),td=!1,Va=An=ed=Hr=Os=fe=0,cn=cl=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-me(o),f=1<<h;n|=e[h],o&=~f}return $i=n,Ru(),s}function Ly(e,n){St=null,G.H=nl,n===wa||n===ku?(n=Wp(),Kt=3):n===cf?(n=Wp(),Kt=4):Kt=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,Rt===null&&(fe=1,Xu(e,On(n,e.current)))}function jy(){var e=vn.current;return e===null?!0:(It&4194048)===It?Un===null:(It&62914560)===It||(It&536870912)!==0?e===Un:!1}function Py(){var e=G.H;return G.H=nl,e===null?nl:e}function zy(){var e=G.A;return G.A=XT,e}function oc(){fe=4,Ds||(It&4194048)!==It&&vn.current!==null||(Ma=!0),(Os&134217727)===0&&(Hr&134217727)===0||ie===null||ks(ie,It,An,!1)}function od(e,n,s){var o=Gt;Gt|=2;var h=Py(),f=zy();(ie!==e||It!==n)&&(rc=null,Ua(e,n)),n=!1;var p=fe;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,N=Tn;switch(Kt){case 8:ad(),p=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var z=Kt;if(Kt=0,Tn=null,La(e,E,N,z),s&&Ma){p=0;break t}break;default:z=Kt,Kt=0,Tn=null,La(e,E,N,z)}}ZT(),p=fe;break}catch(Q){Ly(e,Q)}while(!0);return n&&e.shellSuspendCounter++,zi=Vr=null,Gt=o,G.H=h,G.A=f,Rt===null&&(ie=null,It=0,Ru()),p}function ZT(){for(;Rt!==null;)By(Rt)}function WT(e,n){var s=Gt;Gt|=2;var o=Py(),h=zy();ie!==e||It!==n?(rc=null,sc=en()+500,Ua(e,n)):Ma=Hn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=Tn;e:switch(Kt){case 1:Kt=0,Tn=null,La(e,n,f,1);break;case 2:case 9:if(Jp(f)){Kt=0,Tn=null,qy(n);break}n=function(){Kt!==2&&Kt!==9||ie!==e||(Kt=7),Si(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Jp(f)?(Kt=0,Tn=null,qy(n)):(Kt=0,Tn=null,La(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?R_(p):E.stateNode.complete){Kt=0,Tn=null;var N=E.sibling;if(N!==null)Rt=N;else{var z=E.return;z!==null?(Rt=z,lc(z)):Rt=null}break e}}Kt=0,Tn=null,La(e,n,f,5);break;case 6:Kt=0,Tn=null,La(e,n,f,6);break;case 8:ad(),fe=6;break t;default:throw Error(a(462))}}tA();break}catch(Q){Ly(e,Q)}while(!0);return zi=Vr=null,G.H=o,G.A=h,Gt=s,Rt!==null?0:(ie=null,It=0,Ru(),fe)}function tA(){for(;Rt!==null&&!Uh();)By(Rt)}function By(e){var n=hy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?lc(e):Rt=n}function qy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=ry(s,n,n.pendingProps,n.type,void 0,It);break;case 11:n=ry(s,n,n.pendingProps,n.type.render,n.ref,It);break;case 5:Af(n);default:dy(s,n),n=Rt=zp(n,$i),n=hy(s,n,$i)}e.memoizedProps=e.pendingProps,n===null?lc(e):Rt=n}function La(e,n,s,o){zi=Vr=null,Af(n),xa=null,Ko=0;var h=n.return;try{if(qT(e,h,n,s,It)){fe=1,Xu(e,On(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;fe=1,Xu(e,On(s,e.current)),Rt=null;return}n.flags&32768?(Lt||o===1?e=!0:Ma||(It&536870912)!==0?e=!1:(Ds=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Hy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){Hy(n,Ds);return}e=n.return;var s=GT(n.alternate,n,$i);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);fe===0&&(fe=5)}function Hy(e,n){do{var s=QT(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);fe=6,Rt=null}function Fy(e,n,s,o,h,f,p,E,N){e.cancelPendingCommit=null;do uc();while(Oe!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,Ph(e,s,f,p,E,N),e===ie&&(Rt=ie=null,It=0),ka=n,Vs=e,Ji=s,id=f,sd=h,My=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,sA(hs,function(){return Xy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,p=Gt,Gt|=4;try{YT(e,n,s)}finally{Gt=p,it.p=h,G.T=o}}Oe=1,Gy(),Qy(),Yy()}}function Gy(){if(Oe===1){Oe=0;var e=Vs,n=ka,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=Gt;Gt|=4;try{wy(n,e);var f=vd,p=Dp(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ip(E.ownerDocument.documentElement,E)){if(N!==null&&Hh(E)){var z=N.start,Q=N.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var X=E.ownerDocument||document,B=X&&X.defaultView||window;if(B.getSelection){var H=B.getSelection(),ot=E.textContent.length,gt=Math.min(N.start,ot),te=N.end===void 0?gt:Math.min(N.end,ot);!H.extend&&gt>te&&(p=te,te=gt,gt=p);var L=Np(E,gt),O=Np(E,te);if(L&&O&&(H.rangeCount!==1||H.anchorNode!==L.node||H.anchorOffset!==L.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var P=X.createRange();P.setStart(L.node,L.offset),H.removeAllRanges(),gt>te?(H.addRange(P),H.extend(O.node,O.offset)):(P.setEnd(O.node,O.offset),H.addRange(P))}}}}for(X=[],H=E;H=H.parentNode;)H.nodeType===1&&X.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<X.length;E++){var Y=X[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tc=!!_d,vd=_d=null}finally{Gt=h,it.p=o,G.T=s}}e.current=n,Oe=2}}function Qy(){if(Oe===2){Oe=0;var e=Vs,n=ka,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=Gt;Gt|=4;try{Ey(e,n.alternate,n)}finally{Gt=h,it.p=o,G.T=s}}Oe=3}}function Yy(){if(Oe===4||Oe===3){Oe=0,Wl();var e=Vs,n=ka,s=Ji,o=My;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,ka=Vs=null,Ky(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ms=null),Vi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Ji&3)!==0&&uc(),Si(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===rd?hl++:(hl=0,rd=e):hl=0,fl(0)}}function Ky(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function uc(){return Gy(),Qy(),Yy(),Xy()}function Xy(){if(Oe!==5)return!1;var e=Vs,n=id;id=0;var s=Vi(Ji),o=G.T,h=it.p;try{it.p=32>s?32:s,G.T=null,s=sd,sd=null;var f=Vs,p=Ji;if(Oe=0,ka=Vs=null,Ji=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Iy(f.current),Ry(f,f.current,p,s),Gt=E,fl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{it.p=h,G.T=o,Ky(e,n)}}function $y(e,n,s){n=On(s,n),n=Lf(e.stateNode,n,2),e=Rs(e,n,2),e!==null&&(yr(e,2),Si(e))}function Xt(e,n,s){if(e.tag===3)$y(e,e,s);else for(;n!==null;){if(n.tag===3){$y(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ms===null||!Ms.has(o))){e=On(s,e),s=Jg(2),o=Rs(n,s,2),o!==null&&(Zg(s,o,n,e),yr(o,2),Si(o));break}}n=n.return}}function ld(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new $T;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(td=!0,h.add(s),e=eA.bind(null,e,n,s),n.then(e,e))}function eA(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ie===e&&(It&s)===s&&(fe===4||fe===3&&(It&62914560)===It&&300>en()-ic?(Gt&2)===0&&Ua(e,0):ed|=s,Va===It&&(Va=0)),Si(e)}function Jy(e,n){n===0&&(n=ru()),e=Dr(e,n),e!==null&&(yr(e,n),Si(e))}function nA(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Jy(e,s)}function iA(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Jy(e,s)}function sA(e,n){return De(e,n)}var cc=null,ja=null,ud=!1,hc=!1,cd=!1,Us=0;function Si(e){e!==ja&&e.next===null&&(ja===null?cc=ja=e:ja=ja.next=e),hc=!0,ud||(ud=!0,aA())}function fl(e,n){if(!cd&&hc){cd=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,e_(o,f))}else f=It,f=ai(o,o===ie?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(s=!0,e_(o,f));o=o.next}while(s);cd=!1}}function rA(){Zy()}function Zy(){hc=ud=!1;var e=0;Us!==0&&gA()&&(e=Us);for(var n=en(),s=null,o=cc;o!==null;){var h=o.next,f=Wy(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(ja=s)):(s=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Oe!==0&&Oe!==5||fl(e),Us!==0&&(Us=0)}function Wy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-me(f),E=1<<p,N=h[p];N===-1?((E&s)===0||(E&o)!==0)&&(h[p]=jh(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=ie,s=It,s=ai(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&cs(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&cs(o),Vi(s)){case 2:case 8:s=Ao;break;case 32:s=hs;break;case 268435456:s=tu;break;default:s=hs}return o=t_.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&cs(o),e.callbackPriority=2,e.callbackNode=null,2}function t_(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=It;return o=ai(e,e===ie?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(ky(e,o,n),Wy(e,en()),e.callbackNode!=null&&e.callbackNode===s?t_.bind(null,e):null)}function e_(e,n){if(uc())return null;ky(e,n,!0)}function aA(){_A(function(){(Gt&6)!==0?De(To,rA):Zy()})}function hd(){if(Us===0){var e=ba;e===0&&(e=si,si<<=1,(si&261888)===0&&(si=256)),Us=e}return Us}function n_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function i_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function oA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=n_((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?n_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new yi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Us!==0){var N=p?i_(h,p):new FormData(h);Df(s,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?i_(h,p):new FormData(h),Df(s,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var fd=0;fd<Yh.length;fd++){var dd=Yh[fd],lA=dd.toLowerCase(),uA=dd[0].toUpperCase()+dd.slice(1);Jn(lA,"on"+uA)}Jn(Vp,"onAnimationEnd"),Jn(kp,"onAnimationIteration"),Jn(Up,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(wT,"onTransitionRun"),Jn(xT,"onTransitionStart"),Jn(RT,"onTransitionCancel"),Jn(Lp,"onTransitionEnd"),di("onMouseEnter",["mouseout","mouseover"]),di("onMouseLeave",["mouseout","mouseover"]),di("onPointerEnter",["pointerout","pointerover"]),di("onPointerLeave",["pointerout","pointerover"]),fi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),fi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),fi("onBeforeInput",["compositionend","keypress","textInput","paste"]),fi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),fi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function s_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],N=E.instance,z=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=N}else for(p=0;p<o.length;p++){if(E=o[p],N=E.instance,z=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){xu(Q)}h.currentTarget=null,f=N}}}}function Ct(e,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var o=e+"__bubble";s.has(o)||(r_(n,e,2,!1),s.add(o))}function md(e,n,s){var o=0;n&&(o|=4),r_(s,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[fc]){e[fc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(cA.has(s)||md(s,!1,e),md(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,md("selectionchange",!1,n))}}function r_(e,n,s,o){switch(V_(n)){case 2:var h=jA;break;case 8:h=PA;break;default:h=Id}s=h.bind(null,n,s,e),h=void 0,!br||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function gd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ci(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ys(function(){var z=f,Q=Cn(s),X=[];t:{var B=jp.get(e);if(B!==void 0){var H=yi,ot=e;switch(e){case"keypress":if(wr(s)===0)break t;case"keydown":case"keyup":H=bu;break;case"focusin":ot="focus",H=Rr;break;case"focusout":ot="blur",H=Rr;break;case"beforeblur":case"afterblur":H=Rr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Vp:case kp:case Up:H=gu;break;case Lp:H=A;break;case"scroll":case"scrollend":H=Lo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Li;break;case"toggle":case"beforetoggle":H=bt}var gt=(n&4)!==0,te=!gt&&(e==="scroll"||e==="scrollend"),L=gt?B!==null?B+"Capture":null:B;gt=[];for(var O=z,P;O!==null;){var Y=O;if(P=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||P===null||L===null||(Y=Yn(O,L),Y!=null&&gt.push(ml(O,Y,P))),te)break;O=O.return}0<gt.length&&(B=new H(B,ot,null,s,Q),X.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Vo&&(ot=s.relatedTarget||s.fromElement)&&(ci(ot)||ot[li]))break t;if((H||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,H?(ot=s.relatedTarget||s.toElement,H=z,ot=ot?ci(ot):null,ot!==null&&(te=c(ot),gt=ot.tag,ot!==te||gt!==5&&gt!==27&&gt!==6)&&(ot=null)):(H=null,ot=z),H!==ot)){if(gt=jo,Y="onMouseLeave",L="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Li,Y="onPointerLeave",L="onPointerEnter",O="pointer"),te=H==null?B:pn(H),P=ot==null?B:pn(ot),B=new gt(Y,O+"leave",H,s,Q),B.target=te,B.relatedTarget=P,Y=null,ci(Q)===z&&(gt=new gt(L,O+"enter",ot,s,Q),gt.target=P,gt.relatedTarget=te,Y=gt),te=Y,H&&ot)e:{for(gt=hA,L=H,O=ot,P=0,Y=L;Y;Y=gt(Y))P++;Y=0;for(var mt=O;mt;mt=gt(mt))Y++;for(;0<P-Y;)L=gt(L),P--;for(;0<Y-P;)O=gt(O),Y--;for(;P--;){if(L===O||O!==null&&L===O.alternate){gt=L;break e}L=gt(L),O=gt(O)}gt=null}else gt=null;H!==null&&a_(X,B,H,gt,!1),ot!==null&&te!==null&&a_(X,te,ot,gt,!0)}}t:{if(B=z?pn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var zt=bp;else if(Tp(B))if(Sp)zt=AT;else{zt=ET;var ct=vT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&oa(z.elementType)&&(zt=bp):zt=TT;if(zt&&(zt=zt(e,z))){Ap(X,zt,s,Q);break t}ct&&ct(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Do(B,"number",B.value)}switch(ct=z?pn(z):window,e){case"focusin":(Tp(ct)||ct.contentEditable==="true")&&(pa=ct,Fh=z,Ho=null);break;case"focusout":Ho=Fh=pa=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Op(X,s,Q);break;case"selectionchange":if(ST)break;case"keydown":case"keyup":Op(X,s,Q)}var xt;if(Ft)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ma?Cr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(Ei&&s.locale!=="ko"&&(ma||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ma&&(xt=Uo()):(gi=Q,ko="value"in gi?gi.value:gi.textContent,ma=!0)),ct=dc(z,Dt),0<ct.length&&(Dt=new vi(Dt,e,null,s,Q),X.push({event:Dt,listeners:ct}),xt?Dt.data=xt:(xt=da(s),xt!==null&&(Dt.data=xt)))),(xt=In?pT(e,s):gT(e,s))&&(Dt=dc(z,"onBeforeInput"),0<Dt.length&&(ct=new vi("onBeforeInput","beforeinput",null,s,Q),X.push({event:ct,listeners:Dt}),ct.data=xt)),oA(X,e,z,s,Q)}s_(X,n)})}function ml(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&o.unshift(ml(e,h,f)),h=Yn(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function hA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function a_(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,N=E.alternate,z=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||z===null||(N=z,h?(z=Yn(s,f),z!=null&&p.unshift(ml(s,z,N))):h||(z=Yn(s,f),z!=null&&p.push(ml(s,z,N)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var fA=/\r\n?/g,dA=/\u0000|\uFFFD/g;function o_(e){return(typeof e=="string"?e:""+e).replace(fA,`
`).replace(dA,"")}function l_(e,n){return n=o_(n),o_(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,s,o);break;case"style":Mo(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ra(e,s,o))}}function yd(e,n,s,o,h,f){switch(s){case"style":Mo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!xo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ue]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ra(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,p,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=p=h=null,N=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":N=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Wt(e,n,o,Q,s,null)}}cu(e,f,E,N,z,p,h,!1);return;case"select":Ct("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Wt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?ds(e,!!o,n,!1):s!=null&&ds(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,p,E,s,null)}ms(e,o,h,f);return;case"option":for(N in s)s.hasOwnProperty(N)&&(o=s[N],o!=null)&&(N==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,N,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Ct(dl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,o,s,null)}return;default:if(oa(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&yd(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Wt(e,n,E,o,s,null))}function mA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,z=null,Q=null;for(H in s){var X=s[H];if(s.hasOwnProperty(H)&&X!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":N=X;default:o.hasOwnProperty(H)||Wt(e,n,H,null,o,X)}}for(var B in o){var H=o[B];if(X=s[B],o.hasOwnProperty(B)&&(H!=null||X!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":Q=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==X&&Wt(e,n,B,H,o,X)}}aa(e,p,E,N,z,Q,f,h);return;case"select":H=p=E=B=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":H=N;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,N)}for(h in o)if(f=o[h],N=s[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&Wt(e,n,h,f,o,N)}n=E,s=p,o=H,B!=null?ds(e,!!s,B,!1):!!o!=!!s&&(n!=null?ds(e,!!s,n,!0):ds(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,p,h,o,f)}hu(e,B,H);return;case"option":for(var ot in s)B=s[ot],s.hasOwnProperty(ot)&&B!=null&&!o.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:Wt(e,n,ot,null,o,B));for(N in o)B=o[N],H=s[N],o.hasOwnProperty(N)&&B!==H&&(B!=null||H!=null)&&(N==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Wt(e,n,N,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)B=s[gt],s.hasOwnProperty(gt)&&B!=null&&!o.hasOwnProperty(gt)&&Wt(e,n,gt,null,o,B);for(z in o)if(B=o[z],H=s[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Wt(e,n,z,B,o,H)}return;default:if(oa(n)){for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&yd(e,n,te,void 0,o,B);for(Q in o)B=o[Q],H=s[Q],!o.hasOwnProperty(Q)||B===H||B===void 0&&H===void 0||yd(e,n,Q,B,o,H);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&Wt(e,n,L,null,o,B);for(X in o)B=o[X],H=s[X],!o.hasOwnProperty(X)||B===H||B==null&&H==null||Wt(e,n,X,B,o,H)}function u_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function pA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&u_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var N=s[o],z=N.startTime;if(z>E)break;var Q=N.transferSize,X=N.initiatorType;Q&&u_(X)&&(N=N.responseEnd,p+=Q*(N<E?1:(E-z)/(N-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function c_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function gA(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var f_=typeof setTimeout=="function"?setTimeout:void 0,yA=typeof clearTimeout=="function"?clearTimeout:void 0,d_=typeof Promise=="function"?Promise:void 0,_A=typeof queueMicrotask=="function"?queueMicrotask:typeof d_<"u"?function(e){return d_.resolve(null).then(e).catch(vA)}:f_;function vA(e){setTimeout(function(){throw e})}function Ls(e){return e==="head"}function m_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")pl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,pl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[ui]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&pl(e.ownerDocument.body);s=h}while(s);qa(n)}function p_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),sa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function EA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[ui])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function TA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function g_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function AA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function y_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function __(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function v_(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var jn=new Map,E_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=it.d;it.d={f:bA,r:SA,D:wA,C:xA,L:RA,m:CA,X:IA,S:NA,M:DA};function bA(){var e=Zi.f(),n=ac();return e||n}function SA(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Lg(n):Zi.r(e)}var Pa=typeof document>"u"?null:document;function T_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),E_.has(h)||(E_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),be(n),o.head.appendChild(n)))}}function wA(e){Zi.D(e),T_("dns-prefetch",e,null)}function xA(e,n){Zi.C(e,n),T_("preconnect",e,n)}function RA(e,n,s){Zi.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=Ba(e)}jn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),jn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Ge(n,"link",e),be(n),o.head.appendChild(n)))}}function CA(e,n){Zi.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!jn.has(f)&&(e=S({rel:"modulepreload",href:e},n),jn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),Ge(o,"link",e),be(o),s.head.appendChild(o)}}}function NA(e,n,s){Zi.S(e,n,s);var o=Pa;if(o&&e){var h=hi(o).hoistableStyles,f=za(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(gl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=jn.get(f))&&xd(e,s);var N=p=o.createElement("link");be(N),Ge(N,"link",e),N._p=new Promise(function(z,Q){N.onload=z,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function IA(e,n){Zi.X(e,n);var s=Pa;if(s&&e){var o=hi(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=S({src:e,async:!0},n),(n=jn.get(h))&&Rd(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function DA(e,n){Zi.M(e,n);var s=Pa;if(s&&e){var o=hi(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=jn.get(h))&&Rd(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function A_(e,n,s,o){var h=(h=ht.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=za(s.href),s=hi(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=za(s.href);var f=hi(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(gl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),jn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},jn.set(e,s),f||OA(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(s),s=hi(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+rn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function b_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function OA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),be(n),e.head.appendChild(n))}function Ba(e){return'[src="'+rn(e)+'"]'}function yl(e){return"script[async]"+e}function S_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,be(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),be(o),Ge(o,"style",h),gc(o,s.precedence,e),n.instance=o;case"stylesheet":h=za(s.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,be(f),f;o=b_(s),(h=jn.get(h))&&xd(o,h),f=(e.ownerDocument||e).createElement("link"),be(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Ge(f,"link",o),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=Ba(s.src),(h=e.querySelector(yl(f)))?(n.instance=h,be(h),h):(o=s,(h=jn.get(f))&&(o=S({},s),Rd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,e));return n.instance}function gc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function w_(e,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[ui]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function x_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function MA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function VA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=za(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,be(f);return}f=n.ownerDocument||n,o=b_(o),(h=jn.get(h))&&xd(o,h),f=f.createElement("link"),be(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Cd=0;function kA(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Cd===0&&(Cd=62500*pA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Cd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(UA,e),vc=null,_c.call(e))}function UA(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var o=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:dt,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function LA(e,n,s,o,h,f,p,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oi(0),this.hiddenUpdates=oi(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function C_(e,n,s,o,h,f,p,E,N,z,Q,X){return e=new LA(e,n,s,p,N,z,Q,X,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},hf(f),e}function N_(e){return e?(e=_a,e):_a}function I_(e,n,s,o,h,f){h=N_(h),o.context===null?o.context=h:o.pendingContext=h,o=xs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Rs(e,o,n),s!==null&&(hn(s,e,n),$o(s,e,n))}function D_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Nd(e,n){D_(e,n),(e=e.alternate)&&D_(e,n)}function O_(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&hn(n,e,67108864),Nd(e,67108864)}}function M_(e){if(e.tag===13||e.tag===31){var n=bn();n=vr(n);var s=Dr(e,n);s!==null&&hn(s,e,n),Nd(e,n)}}var Tc=!0;function jA(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Id(e,n,s,o)}finally{it.p=f,G.T=h}}function PA(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Id(e,n,s,o)}finally{it.p=f,G.T=h}}function Id(e,n,s,o){if(Tc){var h=Dd(o);if(h===null)gd(e,n,o,Ac,s),k_(e,o);else if(BA(h,e,n,s,o))o.stopPropagation();else if(k_(e,o),n&4&&-1<zA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ri(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-me(p);E.entanglements[1]|=N,p&=~N}Si(f),(Gt&6)===0&&(sc=en()+500,fl(0))}}break;case 31:case 13:E=Dr(f,2),E!==null&&hn(E,f,2),ac(),Nd(f,2)}if(f=Dd(o),f===null&&gd(e,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,s)}}function Dd(e){return e=Cn(e),Od(e)}var Ac=null;function Od(e){if(Ac=null,e=ci(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function V_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(pr()){case To:return 2;case Ao:return 8;case hs:case Lh:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Md=!1,js=null,Ps=null,zs=null,vl=new Map,El=new Map,Bs=[],zA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function k_(e,n){switch(e){case"focusin":case"focusout":js=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":zs=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&O_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function BA(e,n,s,o,h){switch(n){case"focusin":return js=Tl(js,e,n,s,o,h),!0;case"dragenter":return Ps=Tl(Ps,e,n,s,o,h),!0;case"mouseover":return zs=Tl(zs,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,s,o,h)),!0}return!1}function U_(e){var n=ci(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){M_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){M_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Dd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Vo=o,s.target.dispatchEvent(o),Vo=null}else return n=Rn(s),n!==null&&O_(n),e.blockedOn=s,!1;n.shift()}return!0}function L_(e,n,s){bc(e)&&s.delete(n)}function qA(){Md=!1,js!==null&&bc(js)&&(js=null),Ps!==null&&bc(Ps)&&(Ps=null),zs!==null&&bc(zs)&&(zs=null),vl.forEach(L_),El.forEach(L_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,qA)))}var wc=null;function j_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||s)===null)continue;break}var f=Rn(s);f!==null&&(e.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function qa(e){function n(N){return Sc(N,e)}js!==null&&Sc(js,e),Ps!==null&&Sc(Ps,e),zs!==null&&Sc(zs,e),vl.forEach(n),El.forEach(n);for(var s=0;s<Bs.length;s++){var o=Bs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Bs.length&&(s=Bs[0],s.blockedOn===null);)U_(s),s.blockedOn===null&&Bs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Ue]||null;if(typeof f=="function")p||j_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)E=p.formAction;else if(Od(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),j_(s)}}}function P_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}xc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();I_(s,o,e,n,null,null)},xc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;I_(e.current,2,null,e,null,null),ac(),n[li]=null}};function xc(e){this._internalRoot=e}xc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Bs.length&&n!==0&&n<Bs[s].priority;s++);Bs.splice(s,0,e),s===0&&U_(e)}};var z_=t.version;if(z_!=="19.2.3")throw Error(a(527,z_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var HA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{qn=Rc.inject(HA),ze=Rc}catch{}}return bl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Yg,f=Kg,p=Xg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C_(e,1,!1,null,null,s,o,null,h,f,p,P_),e[li]=n.current,pd(e),new Vd(n)},bl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Yg,p=Kg,E=Xg,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=C_(e,1,!0,n,s??null,o,h,N,f,p,E,P_),n.context=N_(null),s=n.current,o=bn(),o=vr(o),h=xs(o),h.callback=null,Rs(s,h,o),s=o,n.current.lanes=s,yr(n,s),Si(n),e[li]=n.current,pd(e),new xc(n)},bl.version="19.2.3",bl}var $_;function WA(){if($_)return Ld.exports;$_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=ZA(),Ld.exports}var tb=WA();const eb=()=>{};var J_={};const M0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},nb=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},V0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,b=c>>2,S=(c&3)<<4|g>>4;let M=(g&15)<<2|y>>6,F=y&63;_||(F=64,d||(M=64)),a.push(i[b],i[S],i[M],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(M0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):nb(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new ib;const M=c<<2|g>>4;if(a.push(M),y!==64){const F=g<<4&240|y>>2;if(a.push(F),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class ib extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sb=function(r){const t=M0(r);return V0.encodeByteArray(t,!0)},Gc=function(r){return sb(r).replace(/\./g,"")},k0=function(r){try{return V0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const ab=()=>rb().__FIREBASE_DEFAULTS__,ob=()=>{if(typeof process>"u"||typeof J_>"u")return;const r=J_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},lb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&k0(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return eb()||ab()||ob()||lb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},U0=r=>hh()?.emulatorHosts?.[r],ub=r=>{const t=U0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},L0=()=>hh()?.config,j0=r=>hh()?.[`_${r}`];class cb{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function lo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function P0(r){return(await fetch(r,{credentials:"include"})).ok}function hb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Nl={};function fb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Nl))Nl[t]?r.emulator.push(t):r.prod.push(t);return r}function db(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let Z_=!1;function z0(r,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||Nl[r]===t||Nl[r]||Z_)return;Nl[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=fb().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function g(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function _(M,F){M.setAttribute("width","24"),M.setAttribute("id",F),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function y(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{Z_=!0,d()},M}function b(M,F){M.setAttribute("id",F),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=db(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),J=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),rt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const dt=M.element;g(dt),b(J,tt);const kt=y();_(rt,ut),dt.append(rt,W,J,kt),document.body.appendChild(dt)}c?(W.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function pb(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function _b(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vb(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Eb(){return!pb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Tb(){try{return typeof indexedDB=="object"}catch{return!1}}function Ab(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const bb="FirebaseError";class ls extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=bb,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Sb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ls(l,g,a)}}function Sb(r,t){return r.replace(wb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const wb=/\{\$([^}]+)}/g;function xb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ns(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(W_(c)&&W_(d)){if(!ns(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function W_(r){return r!==null&&typeof r=="object"}function Hl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Rb(r,t){const i=new Cb(r,t);return i.subscribe.bind(i)}class Cb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Nb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Nb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function Ke(r){return r&&r._delegate?r._delegate:r}class Kr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Fr="[DEFAULT]";class Ib{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new cb;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Ob(t))try{this.getOrInitializeService({instanceIdentifier:Fr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=Fr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Fr){return this.instances.has(t)}getOptions(t=Fr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Db(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=Fr){return this.component?this.component.multipleInstances?t:Fr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Db(r){return r===Fr?void 0:r}function Ob(r){return r.instantiationMode==="EAGER"}class Mb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Ib(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Ot;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Ot||(Ot={}));const Vb={debug:Ot.DEBUG,verbose:Ot.VERBOSE,info:Ot.INFO,warn:Ot.WARN,error:Ot.ERROR,silent:Ot.SILENT},kb=Ot.INFO,Ub={[Ot.DEBUG]:"log",[Ot.VERBOSE]:"log",[Ot.INFO]:"info",[Ot.WARN]:"warn",[Ot.ERROR]:"error"},Lb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Ub[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Om{constructor(t){this.name=t,this._logLevel=kb,this._logHandler=Lb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ot))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Vb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ot.DEBUG,...t),this._logHandler(this,Ot.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ot.VERBOSE,...t),this._logHandler(this,Ot.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ot.INFO,...t),this._logHandler(this,Ot.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ot.WARN,...t),this._logHandler(this,Ot.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ot.ERROR,...t),this._logHandler(this,Ot.ERROR,...t)}}const jb=(r,t)=>t.some(i=>r instanceof i);let tv,ev;function Pb(){return tv||(tv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zb(){return ev||(ev=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const B0=new WeakMap,nm=new WeakMap,q0=new WeakMap,qd=new WeakMap,Mm=new WeakMap;function Bb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Js(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&B0.set(i,r)}).catch(()=>{}),Mm.set(t,r),t}function qb(r){if(nm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});nm.set(r,t)}let im={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return nm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||q0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Js(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Hb(r){im=r(im)}function Fb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Hd(this),t,...i);return q0.set(a,t.sort?t.sort():[t]),Js(a)}:zb().includes(r)?function(...t){return r.apply(Hd(this),t),Js(B0.get(this))}:function(...t){return Js(r.apply(Hd(this),t))}}function Gb(r){return typeof r=="function"?Fb(r):(r instanceof IDBTransaction&&qb(r),jb(r,Pb())?new Proxy(r,im):r)}function Js(r){if(r instanceof IDBRequest)return Bb(r);if(qd.has(r))return qd.get(r);const t=Gb(r);return t!==r&&(qd.set(r,t),Mm.set(t,r)),t}const Hd=r=>Mm.get(r);function Qb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Js(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Js(d.result),_.oldVersion,_.newVersion,Js(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Yb=["get","getKey","getAll","getAllKeys","count"],Kb=["put","add","delete","clear"],Fd=new Map;function nv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Kb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Yb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Fd.set(t,c),c}Hb(r=>({...r,get:(t,i,a)=>nv(t,i)||r.get(t,i,a),has:(t,i)=>!!nv(t,i)||r.has(t,i)}));class Xb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if($b(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function $b(r){return r.getComponent()?.type==="VERSION"}const sm="@firebase/app",iv="0.14.6";const is=new Om("@firebase/app"),Jb="@firebase/app-compat",Zb="@firebase/analytics-compat",Wb="@firebase/analytics",tS="@firebase/app-check-compat",eS="@firebase/app-check",nS="@firebase/auth",iS="@firebase/auth-compat",sS="@firebase/database",rS="@firebase/data-connect",aS="@firebase/database-compat",oS="@firebase/functions",lS="@firebase/functions-compat",uS="@firebase/installations",cS="@firebase/installations-compat",hS="@firebase/messaging",fS="@firebase/messaging-compat",dS="@firebase/performance",mS="@firebase/performance-compat",pS="@firebase/remote-config",gS="@firebase/remote-config-compat",yS="@firebase/storage",_S="@firebase/storage-compat",vS="@firebase/firestore",ES="@firebase/ai",TS="@firebase/firestore-compat",AS="firebase",bS="12.6.0";const rm="[DEFAULT]",SS={[sm]:"fire-core",[Jb]:"fire-core-compat",[Wb]:"fire-analytics",[Zb]:"fire-analytics-compat",[eS]:"fire-app-check",[tS]:"fire-app-check-compat",[nS]:"fire-auth",[iS]:"fire-auth-compat",[sS]:"fire-rtdb",[rS]:"fire-data-connect",[aS]:"fire-rtdb-compat",[oS]:"fire-fn",[lS]:"fire-fn-compat",[uS]:"fire-iid",[cS]:"fire-iid-compat",[hS]:"fire-fcm",[fS]:"fire-fcm-compat",[dS]:"fire-perf",[mS]:"fire-perf-compat",[pS]:"fire-rc",[gS]:"fire-rc-compat",[yS]:"fire-gcs",[_S]:"fire-gcs-compat",[vS]:"fire-fst",[TS]:"fire-fst-compat",[ES]:"fire-vertex","fire-js":"fire-js",[AS]:"fire-js-all"};const Qc=new Map,wS=new Map,am=new Map;function sv(r,t){try{r.container.addComponent(t)}catch(i){is.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Wa(r){const t=r.name;if(am.has(t))return is.debug(`There were multiple attempts to register component ${t}.`),!1;am.set(t,r);for(const i of Qc.values())sv(i,r);for(const i of wS.values())sv(i,r);return!0}function Vm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}const xS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zs=new ql("app","Firebase",xS);class RS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Kr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Zs.create("app-deleted",{appName:this._name})}}const uo=bS;function H0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:rm,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Zs.create("bad-app-name",{appName:String(l)});if(i||(i=L0()),!i)throw Zs.create("no-options");const c=Qc.get(l);if(c){if(ns(i,c.options)&&ns(a,c.config))return c;throw Zs.create("duplicate-app",{appName:l})}const d=new Mb(l);for(const _ of am.values())d.addComponent(_);const g=new RS(i,a,d);return Qc.set(l,g),g}function F0(r=rm){const t=Qc.get(r);if(!t&&r===rm&&L0())return H0();if(!t)throw Zs.create("no-app",{appName:r});return t}function Ws(r,t,i){let a=SS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),is.warn(d.join(" "));return}Wa(new Kr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const CS="firebase-heartbeat-database",NS=1,kl="firebase-heartbeat-store";let Gd=null;function G0(){return Gd||(Gd=Qb(CS,NS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Zs.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function IS(r){try{const i=(await G0()).transaction(kl),a=await i.objectStore(kl).get(Q0(r));return await i.done,a}catch(t){if(t instanceof ls)is.warn(t.message);else{const i=Zs.create("idb-get",{originalErrorMessage:t?.message});is.warn(i.message)}}}async function rv(r,t){try{const a=(await G0()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,Q0(r)),await a.done}catch(i){if(i instanceof ls)is.warn(i.message);else{const a=Zs.create("idb-set",{originalErrorMessage:i?.message});is.warn(a.message)}}}function Q0(r){return`${r.name}!${r.options.appId}`}const DS=1024,OS=30;class MS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new kS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=av();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>OS){const l=US(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=av(),{heartbeatsToSend:i,unsentEntries:a}=VS(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return is.warn(t),""}}}function av(){return new Date().toISOString().substring(0,10)}function VS(r,t=DS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ov(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ov(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class kS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Tb()?Ab().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await IS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return rv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function ov(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function US(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function LS(r){Wa(new Kr("platform-logger",t=>new Xb(t),"PRIVATE")),Wa(new Kr("heartbeat",t=>new MS(t),"PRIVATE")),Ws(sm,iv,r),Ws(sm,iv,"esm2020"),Ws("fire-js","")}LS("");var jS="firebase",PS="12.7.0";Ws(jS,PS,"app");var lv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var tr,Y0;(function(){var r;function t(R,w){function C(){}C.prototype=w.prototype,R.F=w.prototype,R.prototype=new C,R.prototype.constructor=R,R.D=function(D,I,k){for(var x=Array(arguments.length-2),$t=2;$t<arguments.length;$t++)x[$t-2]=arguments[$t];return w.prototype[I].apply(D,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(R,w,C){C||(C=0);const D=Array(16);if(typeof w=="string")for(var I=0;I<16;++I)D[I]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(I=0;I<16;++I)D[I]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=R.g[0],C=R.g[1],I=R.g[2];let k=R.g[3],x;x=w+(k^C&(I^k))+D[0]+3614090360&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+D[1]+3905402710&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+D[2]+606105819&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+D[3]+3250441966&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(k^C&(I^k))+D[4]+4118548399&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+D[5]+1200080426&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+D[6]+2821735955&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+D[7]+4249261313&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(k^C&(I^k))+D[8]+1770035416&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+D[9]+2336552879&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+D[10]+4294925233&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+D[11]+2304563134&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(k^C&(I^k))+D[12]+1804603682&4294967295,w=C+(x<<7&4294967295|x>>>25),x=k+(I^w&(C^I))+D[13]+4254626195&4294967295,k=w+(x<<12&4294967295|x>>>20),x=I+(C^k&(w^C))+D[14]+2792965006&4294967295,I=k+(x<<17&4294967295|x>>>15),x=C+(w^I&(k^w))+D[15]+1236535329&4294967295,C=I+(x<<22&4294967295|x>>>10),x=w+(I^k&(C^I))+D[1]+4129170786&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+D[6]+3225465664&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+D[11]+643717713&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+D[0]+3921069994&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(C^I))+D[5]+3593408605&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+D[10]+38016083&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+D[15]+3634488961&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+D[4]+3889429448&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(C^I))+D[9]+568446438&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+D[14]+3275163606&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+D[3]+4107603335&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+D[8]+1163531501&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(I^k&(C^I))+D[13]+2850285829&4294967295,w=C+(x<<5&4294967295|x>>>27),x=k+(C^I&(w^C))+D[2]+4243563512&4294967295,k=w+(x<<9&4294967295|x>>>23),x=I+(w^C&(k^w))+D[7]+1735328473&4294967295,I=k+(x<<14&4294967295|x>>>18),x=C+(k^w&(I^k))+D[12]+2368359562&4294967295,C=I+(x<<20&4294967295|x>>>12),x=w+(C^I^k)+D[5]+4294588738&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+D[8]+2272392833&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+D[11]+1839030562&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+D[14]+4259657740&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^k)+D[1]+2763975236&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+D[4]+1272893353&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+D[7]+4139469664&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+D[10]+3200236656&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^k)+D[13]+681279174&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+D[0]+3936430074&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+D[3]+3572445317&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+D[6]+76029189&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(C^I^k)+D[9]+3654602809&4294967295,w=C+(x<<4&4294967295|x>>>28),x=k+(w^C^I)+D[12]+3873151461&4294967295,k=w+(x<<11&4294967295|x>>>21),x=I+(k^w^C)+D[15]+530742520&4294967295,I=k+(x<<16&4294967295|x>>>16),x=C+(I^k^w)+D[2]+3299628645&4294967295,C=I+(x<<23&4294967295|x>>>9),x=w+(I^(C|~k))+D[0]+4096336452&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+D[7]+1126891415&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+D[14]+2878612391&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+D[5]+4237533241&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~k))+D[12]+1700485571&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+D[3]+2399980690&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+D[10]+4293915773&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+D[1]+2240044497&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~k))+D[8]+1873313359&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+D[15]+4264355552&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+D[6]+2734768916&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+D[13]+1309151649&4294967295,C=I+(x<<21&4294967295|x>>>11),x=w+(I^(C|~k))+D[4]+4149444226&4294967295,w=C+(x<<6&4294967295|x>>>26),x=k+(C^(w|~I))+D[11]+3174756917&4294967295,k=w+(x<<10&4294967295|x>>>22),x=I+(w^(k|~C))+D[2]+718787259&4294967295,I=k+(x<<15&4294967295|x>>>17),x=C+(k^(I|~w))+D[9]+3951481745&4294967295,R.g[0]=R.g[0]+w&4294967295,R.g[1]=R.g[1]+(I+(x<<21&4294967295|x>>>11))&4294967295,R.g[2]=R.g[2]+I&4294967295,R.g[3]=R.g[3]+k&4294967295}a.prototype.v=function(R,w){w===void 0&&(w=R.length);const C=w-this.blockSize,D=this.C;let I=this.h,k=0;for(;k<w;){if(I==0)for(;k<=C;)l(this,R,k),k+=this.blockSize;if(typeof R=="string"){for(;k<w;)if(D[I++]=R.charCodeAt(k++),I==this.blockSize){l(this,D),I=0;break}}else for(;k<w;)if(D[I++]=R[k++],I==this.blockSize){l(this,D),I=0;break}}this.h=I,this.o+=w},a.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var w=1;w<R.length-8;++w)R[w]=0;w=this.o*8;for(var C=R.length-8;C<R.length;++C)R[C]=w&255,w/=256;for(this.v(R),R=Array(16),w=0,C=0;C<4;++C)for(let D=0;D<32;D+=8)R[w++]=this.g[C]>>>D&255;return R};function c(R,w){var C=g;return Object.prototype.hasOwnProperty.call(C,R)?C[R]:C[R]=w(R)}function d(R,w){this.h=w;const C=[];let D=!0;for(let I=R.length-1;I>=0;I--){const k=R[I]|0;D&&k==w||(C[I]=k,D=!1)}this.g=C}var g={};function _(R){return-128<=R&&R<128?c(R,function(w){return new d([w|0],w<0?-1:0)}):new d([R|0],R<0?-1:0)}function y(R){if(isNaN(R)||!isFinite(R))return S;if(R<0)return J(y(-R));const w=[];let C=1;for(let D=0;R>=C;D++)w[D]=R/C|0,C*=4294967296;return new d(w,0)}function b(R,w){if(R.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(R.charAt(0)=="-")return J(b(R.substring(1),w));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(w,8));let D=S;for(let k=0;k<R.length;k+=8){var I=Math.min(8,R.length-k);const x=parseInt(R.substring(k,k+I),w);I<8?(I=y(Math.pow(w,I)),D=D.j(I).add(y(x))):(D=D.j(C),D=D.add(y(x)))}return D}var S=_(0),M=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-J(this).m();let R=0,w=1;for(let C=0;C<this.g.length;C++){const D=this.i(C);R+=(D>=0?D:4294967296+D)*w,w*=4294967296}return R},r.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(W(this))return"0";if(tt(this))return"-"+J(this).toString(R);const w=y(Math.pow(R,6));var C=this;let D="";for(;;){const I=kt(C,w).g;C=ut(C,I.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(R);if(C=I,W(C))return k+D;for(;k.length<6;)k="0"+k;D=k+D}},r.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function W(R){if(R.h!=0)return!1;for(let w=0;w<R.g.length;w++)if(R.g[w]!=0)return!1;return!0}function tt(R){return R.h==-1}r.l=function(R){return R=ut(this,R),tt(R)?-1:W(R)?0:1};function J(R){const w=R.g.length,C=[];for(let D=0;D<w;D++)C[D]=~R.g[D];return new d(C,~R.h).add(M)}r.abs=function(){return tt(this)?J(this):this},r.add=function(R){const w=Math.max(this.g.length,R.g.length),C=[];let D=0;for(let I=0;I<=w;I++){let k=D+(this.i(I)&65535)+(R.i(I)&65535),x=(k>>>16)+(this.i(I)>>>16)+(R.i(I)>>>16);D=x>>>16,k&=65535,x&=65535,C[I]=x<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function ut(R,w){return R.add(J(w))}r.j=function(R){if(W(this)||W(R))return S;if(tt(this))return tt(R)?J(this).j(J(R)):J(J(this).j(R));if(tt(R))return J(this.j(J(R)));if(this.l(F)<0&&R.l(F)<0)return y(this.m()*R.m());const w=this.g.length+R.g.length,C=[];for(var D=0;D<2*w;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(let I=0;I<R.g.length;I++){const k=this.i(D)>>>16,x=this.i(D)&65535,$t=R.i(I)>>>16,de=R.i(I)&65535;C[2*D+2*I]+=x*de,rt(C,2*D+2*I),C[2*D+2*I+1]+=k*de,rt(C,2*D+2*I+1),C[2*D+2*I+1]+=x*$t,rt(C,2*D+2*I+1),C[2*D+2*I+2]+=k*$t,rt(C,2*D+2*I+2)}for(R=0;R<w;R++)C[R]=C[2*R+1]<<16|C[2*R];for(R=w;R<2*w;R++)C[R]=0;return new d(C,0)};function rt(R,w){for(;(R[w]&65535)!=R[w];)R[w+1]+=R[w]>>>16,R[w]&=65535,w++}function dt(R,w){this.g=R,this.h=w}function kt(R,w){if(W(w))throw Error("division by zero");if(W(R))return new dt(S,S);if(tt(R))return w=kt(J(R),w),new dt(J(w.g),J(w.h));if(tt(w))return w=kt(R,J(w)),new dt(J(w.g),w.h);if(R.g.length>30){if(tt(R)||tt(w))throw Error("slowDivide_ only works with positive integers.");for(var C=M,D=w;D.l(R)<=0;)C=Pt(C),D=Pt(D);var I=wt(C,1),k=wt(D,1);for(D=wt(D,2),C=wt(C,2);!W(D);){var x=k.add(D);x.l(R)<=0&&(I=I.add(C),k=x),D=wt(D,1),C=wt(C,1)}return w=ut(R,I.j(w)),new dt(I,w)}for(I=S;R.l(w)>=0;){for(C=Math.max(1,Math.floor(R.m()/w.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),k=y(C),x=k.j(w);tt(x)||x.l(R)>0;)C-=D,k=y(C),x=k.j(w);W(k)&&(k=M),I=I.add(k),R=ut(R,x)}return new dt(I,R)}r.B=function(R){return kt(this,R).h},r.and=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<w;D++)C[D]=this.i(D)&R.i(D);return new d(C,this.h&R.h)},r.or=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<w;D++)C[D]=this.i(D)|R.i(D);return new d(C,this.h|R.h)},r.xor=function(R){const w=Math.max(this.g.length,R.g.length),C=[];for(let D=0;D<w;D++)C[D]=this.i(D)^R.i(D);return new d(C,this.h^R.h)};function Pt(R){const w=R.g.length+1,C=[];for(let D=0;D<w;D++)C[D]=R.i(D)<<1|R.i(D-1)>>>31;return new d(C,R.h)}function wt(R,w){const C=w>>5;w%=32;const D=R.g.length-C,I=[];for(let k=0;k<D;k++)I[k]=w>0?R.i(k+C)>>>w|R.i(k+C+1)<<32-w:R.i(k+C);return new d(I,R.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Y0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=b,tr=d}).apply(typeof lv<"u"?lv:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var K0,Sl,X0,kc,om,$0,J0,Z0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var A=0;A<u.length-1;A++){var j=u[A];if(!(j in v))break t;v=v[j]}u=u[u.length-1],A=v[u],m=m(A),m!=A&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],A;for(A in m)Object.prototype.hasOwnProperty.call(m,A)&&v.push([A,m[A]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(A,j,q){for(var nt=Array(arguments.length-2),bt=2;bt<arguments.length;bt++)nt[bt-2]=arguments[bt];return m.prototype[j].apply(A,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let A=0;A<m;A++)v[A]=u[A];return v}return[]}function W(u,m){for(let A=1;A<arguments.length;A++){const j=arguments[A];var v=typeof j;if(v=v!="object"?v:j?Array.isArray(j)?"array":v:"null",v=="array"||v=="object"&&typeof j.length=="number"){v=u.length||0;const q=j.length||0;u.length=v+q;for(let nt=0;nt<q;nt++)u[v+nt]=j[nt]}else u.push(j)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function J(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=R;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,v){const A=dt.get();A.set(m,v),this.h?this.h.next=A:this.g=A,this.h=A}}var dt=new tt(()=>new kt,u=>u.reset());class kt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Pt,wt=!1,R=new rt,w=()=>{const u=Promise.resolve(void 0);Pt=()=>{u.then(C)}};function C(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){J(v)}var m=dt;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function I(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}I.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function $t(u,m){I.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S($t,I),$t.prototype.init=function(u,m){const v=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&$t.Z.h.call(this)},$t.prototype.h=function(){$t.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,A,j){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!A,this.ha=j,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Nt(u,m,v){for(const A in u)m.call(v,u[A],A,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const K="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,A;for(let j=1;j<arguments.length;j++){A=arguments[j];for(v in A)u[v]=A[v];for(let q=0;q<K.length;q++)v=K[q],Object.prototype.hasOwnProperty.call(A,v)&&(u[v]=A[v])}}function U(u){this.src=u,this.g={},this.h=0}U.prototype.add=function(u,m,v,A,j){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const nt=ht(u,m,A,j);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new it(m,this.src,q,!!A,j),m.fa=v,u.push(m)),m};function et(u,m){const v=m.type;if(v in u.g){var A=u.g[v],j=Array.prototype.indexOf.call(A,m,void 0),q;(q=j>=0)&&Array.prototype.splice.call(A,j,1),q&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function ht(u,m,v,A){for(let j=0;j<u.length;++j){const q=u[j];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==A)return j}return-1}var _t="closure_lm_"+(Math.random()*1e6|0),Ut={};function ne(u,m,v,A,j){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ne(u,m[q],v,A,j);return null}return v=Eo(v),u&&u[de]?u.J(m,v,g(A)?!!A.capture:!1,j):ni(u,m,v,!1,A,j)}function ni(u,m,v,A,j,q){if(!m)throw Error("Invalid event type");const nt=g(j)?!!j.capture:!!j;let bt=mr(u);if(bt||(u[_t]=bt=new U(u)),v=bt.add(m,v,A,nt,q),v.proxy)return v;if(A=us(),v.proxy=A,A.src=u,A.listener=v,u.addEventListener)k||(j=nt),j===void 0&&(j=!1),u.addEventListener(m.toString(),A,j);else if(u.attachEvent)u.attachEvent(ii(m.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function us(){function u(v){return m.call(u.src,u.listener,v)}const m=_o;return u}function ta(u,m,v,A,j){if(Array.isArray(m))for(var q=0;q<m.length;q++)ta(u,m[q],v,A,j);else A=g(A)?!!A.capture:!!A,v=Eo(v),u&&u[de]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=ht(m,v,A,j),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=mr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=ht(m,v,A,j)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[de])et(m.i,u);else{var v=u.type,A=u.proxy;m.removeEventListener?m.removeEventListener(v,A,u.capture):m.detachEvent?m.detachEvent(ii(v),A):m.addListener&&m.removeListener&&m.removeListener(A),(v=mr(m))?(et(v,u),v.h==0&&(v.src=null,m[_t]=null)):ft(u)}}}function ii(u){return u in Ut?Ut[u]:Ut[u]="on"+u}function _o(u,m){if(u.da)u=!0;else{m=new $t(m,this);const v=u.listener,A=u.ha||u.src;u.fa&&ea(u),u=v.call(A,m)}return u}function mr(u){return u=u[_t],u instanceof U?u:null}var vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(u){return typeof u=="function"?u:(u[vo]||(u[vo]=function(m){return u.handleEvent(m)}),u[vo])}function Ee(){D.call(this),this.i=new U(this),this.M=this,this.G=null}S(Ee,D),Ee.prototype[de]=!0,Ee.prototype.removeEventListener=function(u,m,v,A){ta(this,u,m,v,A)};function De(u,m){var v,A=u.G;if(A)for(v=[];A;A=A.G)v.push(A);if(u=u.M,A=m.type||m,typeof m=="string")m=new I(m,u);else if(m instanceof I)m.target=m.target||u;else{var j=m;m=new I(A,u),st(m,j)}j=!0;let q,nt;if(v)for(nt=v.length-1;nt>=0;nt--)q=m.g=v[nt],j=cs(q,A,!0,m)&&j;if(q=m.g=u,j=cs(q,A,!0,m)&&j,j=cs(q,A,!1,m)&&j,v)for(nt=0;nt<v.length;nt++)q=m.g=v[nt],j=cs(q,A,!1,m)&&j}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let A=0;A<v.length;A++)ft(v[A]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,A){return this.i.add(String(u),m,!1,v,A)},Ee.prototype.K=function(u,m,v,A){return this.i.add(String(u),m,!0,v,A)};function cs(u,m,v,A){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let j=!0;for(let q=0;q<m.length;++q){const nt=m[q];if(nt&&!nt.da&&nt.capture==v){const bt=nt.listener,pe=nt.ha||nt.src;nt.fa&&et(u.i,nt),j=bt.call(pe,A)!==!1&&j}}return j&&!A.defaultPrevented}function Uh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Uh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends D{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pr(u){D.call(this),this.h=u,this.g={}}S(pr,D);var To=[];function Ao(u){Nt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}pr.prototype.N=function(){pr.Z.N.call(this),Ao(this)},pr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var hs=d.JSON.stringify,Lh=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){I.call(this,"d")}S(ze,I);function xn(){I.call(this,"c")}S(xn,I);var me={},iu=null;function na(){return iu=iu||new Ee}me.Ia="serverreachability";function su(u){I.call(this,me.Ia,u)}S(su,I);function si(u){const m=na();De(m,new su(m))}me.STAT_EVENT="statevent";function gr(u,m){I.call(this,me.STAT_EVENT,u),this.stat=m}S(gr,I);function Te(u){const m=na();De(m,new gr(m,u))}me.Ja="timingevent";function ri(u,m){I.call(this,me.Ja,u),this.size=m}S(ri,I);function ai(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function jh(u,m,v,A,j,q){u.info(function(){if(u.g)if(q){var nt="",bt=q.split("&");for(let Ft=0;Ft<bt.length;Ft++){var pe=bt[Ft].split("=");if(pe.length>1){const le=pe[0];pe=pe[1];const In=le.split("_");nt=In.length>=2&&In[1]=="type"?nt+(le+"="+pe+"&"):nt+(le+"=redacted&")}}}else nt=null;else nt=q;return"XMLHTTP REQ ("+A+") [attempt "+j+"]: "+m+`
`+v+`
`+nt})}function ru(u,m,v,A,j,q,nt){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+j+"]: "+m+`
`+v+`
`+q+" "+nt})}function oi(u,m,v,A){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Ph(u,v)+(A?" "+A:"")})}function yr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function Ph(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var A=v[1];if(Array.isArray(A)&&!(A.length<1)){var j=A[0];if(j!="noop"&&j!="stop"&&j!="close")for(let nt=1;nt<A.length;nt++)A[nt]=""}}}}return hs(q)}catch{return m}}var _r={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function vr(){}S(vr,eu),vr.prototype.g=function(){return new XMLHttpRequest},So=new vr;function Vi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,A){this.j=u,this.i=m,this.l=v,this.S=A||1,this.V=new pr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function li(u,m,v){u.M=1,u.A=Er(Se(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),ui(u),u.B=Se(u.A);var v=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),oa(v.i,"t",A),u.C=0,v=u.j.L,u.h=new Gn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,A=u.ba;var j="readystatechange";Array.isArray(j)||(j&&(To[0]=j.toString()),j=To);for(let q=0;q<j.length;q++){const nt=ne(v,j[q],A||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),si(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const bt=Kn(this.g),pe=this.g.ya(),Ft=this.g.ca();if(!(bt<3)&&(bt!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||bt!=4||pe==7||(pe==8||Ft<=0?si(3):si(2)),ci(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,bt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var A,j=this.g;if((A=j.g?j.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(A)){var q=A;break e}}q=null}if(u=q)oi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hi(this,u);else{this.o=!1,this.m=3,Te(12),pn(this),Rn(this);break t}}if(this.R){u=!0;let le;for(;!this.K&&this.C<v.length;)if(le=lu(this,v),le==Ue){bt==4&&(this.m=4,Te(14),u=!1),oi(this.i,this.l,null,"[Incomplete Response]");break}else if(le==Ae){this.m=4,Te(15),oi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else oi(this.i,this.l,le,null),hi(this,le);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)oi(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(nt),nt.P=!0,Te(11))}}else oi(this.i,this.l,v,null),hi(this,v);bt==4&&pn(this),this.o&&!this.K&&(bt==4?yu(this.j,this):(this.o=!1,ui(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),Rn(this)}}}catch{}};function zh(u){if(!ou(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const A=m.length,j=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<A;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(j&&q==A-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,A=m.indexOf(`
`,v);return A==-1?Ue:(v=Number(m.substring(v,A)),isNaN(v)?Ae:(A+=1,A+v>m.length?Ue:(m=m.slice(A,A+v),u.C=A+v,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function ui(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ai(y(u.aa,u),m)}function ci(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(yr(this.i,this.B),this.M!=2&&(si(),Te(17)),pn(this),this.m=2,Rn(this)):sa(this,this.T-u)};function Rn(u){u.j.I==0||u.K||yu(u.j,u)}function pn(u){ci(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function hi(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||di(v.h,u))){if(!u.L&&di(v.h,u)&&v.I==3){try{var A=v.Ba.g.parse(m)}catch{A=null}if(Array.isArray(A)&&A.length==3){var j=A;if(j[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),vs(v);else break t;Rr(v),Te(18)}}else v.xa=j[1],0<v.xa-v.K&&j[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ai(y(v.Va,v),6e3));fi(v.h)<=1&&v.ta&&(v.ta=void 0)}else vi(v,11)}else if((u.L||v.g==u)&&fa(v),!x(m))for(j=v.Ba.g.parse(m),m=0;m<j.length;m++){let Ft=j[m];const le=Ft[0];if(!(le<=v.K))if(v.K=le,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const In=Ft[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const Ei=Ft[4];Ei!=null&&(v.za=Ei,v.j.info("SVER="+v.za));const Xn=Ft[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(A=1.5*Xn,v.O=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const $n=u.g;if($n){const Cr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Cr){var q=A.h;q.g||Cr.indexOf("spdy")==-1&&Cr.indexOf("quic")==-1&&Cr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ro(q,q.h),q.h=null))}if(A.G){const da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(A.wa=da,Yt(A.J,A.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),A=v;var nt=u;if(A.na=Eu(A,A.L?A.ba:null,A.W),nt.L){Co(A.h,nt);var bt=nt,pe=A.O;pe&&(bt.H=pe),bt.D&&(ci(bt),ui(bt)),A.g=nt}else pu(A);v.i.length>0&&_i(v)}else Ft[0]!="stop"&&Ft[0]!="close"||vi(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?vi(v,7):Lo(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}si(4)}catch{}}var be=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function fi(u){return u.h?1:u.g?u.g.size:0}function di(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const A=u[v].indexOf("=");let j,q=null;A>=0?(j=u[v].substring(0,A),q=u[v].substring(A+1)):j=u[v],m(j,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,fs(this,u.u),this.h=u.h,Io(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=mi(m[2]||""),this.g=mi(m[3]||"",!0),fs(this,m[4]),this.h=mi(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=mi(m[7]||"")):(this.l=!1,this.i=new ms(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Tr(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Tr(m,aa,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Tr(v,v.charAt(0)=="/"?Do:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Tr(v,hu)),u.join("")},gn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var A=u.h;if(v)fs(m,u.u);else if(v=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var j=m.h.lastIndexOf("/");j!=-1&&(A=m.h.slice(0,j+1)+A)}if(j=A,j==".."||j==".")A="";else if(j.indexOf("./")!=-1||j.indexOf("/.")!=-1){A=j.lastIndexOf("/",0)==0,j=j.split("/");const q=[];for(let nt=0;nt<j.length;){const bt=j[nt++];bt=="."?A&&nt==j.length&&q.push(""):bt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),A&&nt==j.length&&q.push("")):(q.push(bt),A=!0)}A=q.join("/")}else A=j}return v?m.h=A:v=u.i.toString()!=="",v?Io(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new gn(u)}function Le(u,m,v){u.j=v?mi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function fs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof ms?(u.i=m,la(u.i,u.l)):(v||(m=Tr(m,ds)),u.i=new ms(m,u.l))}function Yt(u,m,v){u.i.set(m,v)}function Er(u){return Yt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function mi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,cu=/[#\?:]/g,Do=/[#\?]/g,ds=/[#\?@]/g,hu=/#/g;function ms(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=ms.prototype,r.add=function(u,m){an(this),this.i=null,u=ps(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){an(u),m=ps(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Oo(u,m){return an(u),m=ps(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,A){v.forEach(function(j){u.call(m,j,A,this)},this)},this)};function Mo(u,m){an(u);let v=[];if(typeof m=="string")Oo(u,m)&&(v=v.concat(u.g.get(ps(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ps(this,u),Oo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Mo(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(ps(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let A=0;A<m.length;A++){var v=m[A];const j=Vi(v);v=Mo(this,v);for(let q=0;q<v.length;q++){let nt=j;v[q]!==""&&(nt+="="+Vi(v[q])),u.push(nt)}}return this.i=u.join("&")};function du(u){const m=new ms;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ps(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,A){const j=A.toLowerCase();A!=j&&(fu(this,A),oa(this,j,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const A=new Image;A.onload=b(Cn,v,"TestLoadImage: loaded",!0,m,A),A.onerror=b(Cn,v,"TestLoadImage: error",!1,m,A),A.onabort=b(Cn,v,"TestLoadImage: abort",!1,m,A),A.ontimeout=b(Cn,v,"TestLoadImage: timeout",!1,m,A),d.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else m(!1)}function Vo(u,m){const v=new Hn,A=new AbortController,j=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:A.signal}).then(q=>{clearTimeout(j),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(j),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,A,j){try{j&&(j.onload=null,j.onerror=null,j.onabort=null,j.ontimeout=null),A(v)}catch{}}function gs(){this.g=new tu}function pi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(pi,eu),pi.prototype.g=function(){return new Ar(this.i,this.h)};function Ar(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Ar,Ee),r=Ar.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ys(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ys(this):Yn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ys(this))},r.Na=function(u){this.g&&(this.response=u,ys(this))},r.ga=function(){this.g&&ys(this)};function ys(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Ar.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Nn(u){let m="";return Nt(u,function(v,A){m+=A,m+=":",m+=v,m+=`\r
`}),m}function br(u,m,v){t:{for(A in v){var A=!1;break t}A=!0}A||(v=Nn(v),typeof u=="string"?v!=null&&Vi(v):Yt(u,m,v))}function Jt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Jt,Ee);var gi=/^https?$/i,ko=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=M(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Sr(this,q);return}if(u=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var j in A)v.set(j,A[j]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const q of A.keys())v.set(q,A.get(q));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),j=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||A||j||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,nt]of v)this.g.setRequestHeader(q,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Sr(this,q)}};function Sr(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),ki(u)}function Uo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?wr(this):this.Xa())},r.Xa=function(){wr(this)};function wr(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var A;if(A=q===0){let nt=String(u.D).match(uu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),A=!gi.test(nt?nt.toLowerCase():"")}v=A}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var j=Kn(u)>2?u.g.statusText:""}catch{j=""}u.l=j+" ["+u.ca()+"]",Uo(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(x(u[A]))continue;var v=au(u[A]);const j=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[j]||[];m[j]=q,q.push(v)}Ht(m,function(A){return A.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function yi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function _s(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=yi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=yi("baseRetryDelayMs",5e3,u),this.Za=yi("retryDelaySeedMs",1e4,u),this.Ta=yi("forwardChannelMaxRetries",2,u),this.va=yi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new gs,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=_s.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,A){Te(0),this.W=u,this.H=m||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.J=Eu(this,null,this.W),_i(this)};function Lo(u){if(ca(u),u.I==3){var m=u.V++,v=Se(u.J);if(Yt(v,"SID",u.M),Yt(v,"RID",m),Yt(v,"TYPE","terminate"),xr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=Er(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),ui(m)}vu(u)}function vs(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function ca(u){vs(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function _i(u){if(!xo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Pt||w(),wt||(Pt(),wt=!0),R.add(m,u),u.D=0}}function ha(u,m){return fi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ai(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const j=new Fn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),st(q,this.U)):q=this.U),this.u!==null||this.R||(j.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break e}A=void 0}if(A===void 0)break;if(m+=A,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,j,m),v=Se(this.J),Yt(v,"RID",u),Yt(v,"CVER",22),this.G&&Yt(v,"X-HTTP-Session-Id",this.G),xr(this,v),q&&(this.R?m="headers="+Vi(Nn(q))+"&"+m:this.u&&br(v,this.u,q)),Ro(this.h,j),this.Ra&&Yt(v,"TYPE","init"),this.S?(Yt(v,"$req",m),Yt(v,"SID","null"),j.U=!0,li(j,v,null)):li(j,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||xo(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const A=Se(u.J);Yt(A,"SID",u.M),Yt(A,"RID",v),Yt(A,"AID",u.K),xr(u,A),u.u&&u.o&&br(A,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),li(v,A,m)}function xr(u,m){u.H&&Nt(u.H,function(v,A){Yt(m,A,v)}),u.l&&Nt({},function(v,A){Yt(m,A,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const A=u.l?y(u.l.Ka,u.l,u):null;t:{var j=u.i;let bt=-1;for(;;){const pe=["count="+v];bt==-1?v>0?(bt=j[0].g,pe.push("ofs="+bt)):bt=0:pe.push("ofs="+bt);let Ft=!0;for(let le=0;le<v;le++){var q=j[le].g;const In=j[le].map;if(q-=bt,q<0)bt=Math.max(0,j[le].g-100),Ft=!1;else try{q="req"+q+"_"||"";try{var nt=In instanceof Map?In:Object.entries(In);for(const[Ei,Xn]of nt){let $n=Xn;g(Xn)&&($n=hs(Xn)),pe.push(q+Ei+"="+encodeURIComponent($n))}}catch(Ei){throw pe.push(q+"type="+encodeURIComponent("_badmap")),Ei}}catch{A&&A(In)}}if(Ft){nt=pe.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Pt||w(),wt||(Pt(),wt=!0),R.add(m,u),u.A=0}}function Rr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ai(y(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ai(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),vs(this),gu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Yt(m,"RID","rpc"),Yt(m,"SID",u.M),Yt(m,"AID",u.K),Yt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Yt(m,"TO",u.ia),Yt(m,"TYPE","xmlhttp"),xr(u,m),u.u&&u.o&&br(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Er(Se(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,vs(this),Rr(this),Te(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){fa(u),Po(u),u.g=null;var A=2}else if(di(u.h,m))v=m.G,Co(u.h,m),A=1;else return;if(u.I!=0){if(m.o)if(A==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var j=u.D;A=na(),De(A,new ri(A,v)),_i(u)}else pu(u);else if(j=m.m,j==3||j==0&&m.X>0||!(A==1&&ha(u,m)||A==2&&Rr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),j){case 1:vi(u,5);break;case 4:vi(u,10);break;case 3:vi(u,6);break;default:vi(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function vi(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),A=u.Ua;const j=!A;A=new gn(A||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(A,"https"),Er(A),j?Qn(A.toString(),v):Vo(A.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),vu(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var A=v instanceof gn?Se(v):new gn(v);if(A.g!="")m&&(A.g=m+"."+A.g),fs(A,A.u);else{var j=d.location;A=j.protocol,m=m?m+"."+j.hostname:j.hostname,j=+j.port;const q=new gn(null);A&&Le(q,A),m&&(q.g=m),j&&fs(q,j),v&&(q.h=v),A=q}return v=u.G,m=u.wa,v&&m&&Yt(A,v,m),Yt(A,"VER",u.ka),xr(u,A),A}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new pi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Es(){}Es.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Ee.call(this),this.g=new _s(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}S(nn,Ee),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Lo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=hs(u),u=v);m.i.push(new be(m.Ya++,u)),m.I==3&&_i(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,nn.Z.N.call(this)};function bu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(bu,ze);function Su(){xn.call(this),this.status=1}S(Su,xn);function Li(u){this.g=u}S(Li,Au),Li.prototype.ra=function(){De(this.g,"a")},Li.prototype.qa=function(u){De(this.g,new bu(u))},Li.prototype.pa=function(u){De(this.g,new Su)},Li.prototype.oa=function(){De(this.g,"b")},Es.prototype.createWebChannel=Es.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,Z0=function(){return new Es},J0=function(){return na()},$0=me,om={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},_r.NO_ERROR=0,_r.TIMEOUT=8,_r.HTTP_ERROR=6,kc=_r,bo.COMPLETE="complete",X0=bo,nu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,Sl=nu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,K0=Jt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const uv="@firebase/firestore",cv="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let co="12.7.0";const Xr=new Om("@firebase/firestore");function Ha(){return Xr.logLevel}function at(r,...t){if(Xr.logLevel<=Ot.DEBUG){const i=t.map(km);Xr.debug(`Firestore (${co}): ${r}`,...i)}}function ss(r,...t){if(Xr.logLevel<=Ot.ERROR){const i=t.map(km);Xr.error(`Firestore (${co}): ${r}`,...i)}}function to(r,...t){if(Xr.logLevel<=Ot.WARN){const i=t.map(km);Xr.warn(`Firestore (${co}): ${r}`,...i)}}function km(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,W0(r,a,i)}function W0(r,t,i){let a=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ss(a),new Error(a)}function Qt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||W0(t,l,a)}function At(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ls{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class er{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class tE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class zS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class BS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class qS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Qt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new er;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new er,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{at("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(at("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new er)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(at("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Qt(typeof a.accessToken=="string",31837,{l:a}),new tE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class HS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class FS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new HS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class hv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class GS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Qt(this.o===void 0,3512);const a=c=>{c.error!=null&&at("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,at("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{at("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):at("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new hv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Qt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new hv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function QS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Um{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=QS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Mt(r,t){return r<t?-1:r>t?1:0}function lm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Qd(l)===Qd(c)?Mt(l,c):Qd(l)?1:-1}return Mt(r.length,t.length)}const YS=55296,KS=57343;function Qd(r){const t=r.charCodeAt(0);return t>=YS&&t<=KS}function eo(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const fv="__name__";class wi{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return wi.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof wi?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=wi.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Mt(t.length,i.length)}static compareSegments(t,i){const a=wi.isNumericId(t),l=wi.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?wi.extractNumericId(t).compare(wi.extractNumericId(i)):lm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return tr.fromString(t.substring(4,t.length-2))}}class ae extends wi{construct(t,i,a){return new ae(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new ae(i)}static emptyPath(){return new ae([])}}const XS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends wi{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return XS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new Ye([fv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(ae.fromString(t))}static fromName(t){return new pt(ae.fromString(t).popFirst(5))}static empty(){return new pt(ae.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ae.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ae.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new ae(t.slice()))}}function eE(r,t,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function $S(r,t,i,a){if(t===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function dv(r){if(!pt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function mv(r){if(pt.isDocumentKey(r))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function nE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Lm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Lm(r);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!nE(r))throw new lt(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new lt(Z.INVALID_ARGUMENT,i);return!0}const pv=-62135596800,gv=1e6;class oe{static now(){return oe.fromMillis(Date.now())}static fromDate(t){return oe.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*gv);return new oe(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<pv)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/gv}_compareTo(t){return this.seconds===t.seconds?Mt(this.nanoseconds,t.nanoseconds):Mt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:oe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,oe._jsonSchema))return new oe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-pv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}oe._jsonSchemaVersion="firestore/timestamp/1.0",oe._jsonSchema={type:Ie("string",oe._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class Et{static fromTimestamp(t){return new Et(t)}static min(){return new Et(new oe(0,0))}static max(){return new Et(new oe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function JS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=Et.fromTimestamp(a===1e9?new oe(i+1,0):new oe(i,a));return new sr(l,pt.empty(),t)}function ZS(r){return new sr(r.readTime,r.key,Ul)}class sr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new sr(Et.min(),pt.empty(),Ul)}static max(){return new sr(Et.max(),pt.empty(),Ul)}}function WS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Mt(r.largestBatchId,t.largestBatchId))}const tw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ew{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==tw)throw r;at("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((b=>{d[y]=b,++g,g===c&&a(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function nw(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const jm=-1;function dh(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function iw(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const iE="";function sw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=yv(t)),t=rw(r.get(i),t);return yv(t)}function rw(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case iE:i+="";break;default:i+=c}}return i}function yv(r){return r+iE+""}function _v(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function fr(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function sE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ce{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ce(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ce(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Nc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Nc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Nc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Nc(this.root,t,this.comparator,!0)}}class Nc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ce(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new vv(this.data.getIterator())}getIteratorFrom(t){return new vv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class vv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let i=new ke(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return eo(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class rE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new rE("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Mt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const aw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rr(r){if(Qt(!!r,39018),typeof r=="string"){let t=0;const i=aw.exec(r);if(Qt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ar(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const aE="server_timestamp",oE="__type__",lE="__previous_value__",uE="__local_write_time__";function Pm(r){return(r?.mapValue?.fields||{})[oE]?.stringValue===aE}function mh(r){const t=r.mapValue.fields[lE];return Pm(t)?mh(t):t}function Ll(r){const t=rr(r.mapValue.fields[uE].timestampValue);return new oe(t.seconds,t.nanos)}class ow{constructor(t,i,a,l,c,d,g,_,y,b){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=b}}const Kc="(default)";class jl{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new jl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof jl&&t.projectId===this.projectId&&t.database===this.database}}const cE="__type__",lw="__max__",Ic={mapValue:{}},hE="__vector__",Xc="value";function or(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pm(r)?4:cw(r)?9007199254740991:uw(r)?10:11:yt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=or(r);if(i!==or(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=rr(l.timestampValue),g=rr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ar(l.bytesValue).isEqual(ar(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return _e(l.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return _e(l.integerValue)===_e(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=_e(l.doubleValue),g=_e(c.doubleValue);return d===g?Yc(d)===Yc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return eo(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(_v(d)!==_v(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Oi(d[_],g[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function no(r,t){if(r===t)return 0;const i=or(r),a=or(t);if(i!==a)return Mt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Mt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=_e(c.integerValue||c.doubleValue),_=_e(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return Ev(r.timestampValue,t.timestampValue);case 4:return Ev(Ll(r),Ll(t));case 5:return lm(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=ar(c),_=ar(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const b=Mt(g[y],_[y]);if(b!==0)return b}return Mt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Mt(_e(c.latitude),_e(d.latitude));return g!==0?g:Mt(_e(c.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Tv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Xc]?.arrayValue,b=_[Xc]?.arrayValue,S=Mt(y?.values?.length||0,b?.values?.length||0);return S!==0?S:Tv(y,b)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},b=Object.keys(y);_.sort(),b.sort();for(let S=0;S<_.length&&S<b.length;++S){const M=lm(_[S],b[S]);if(M!==0)return M;const F=no(g[_[S]],y[b[S]]);if(F!==0)return F}return Mt(_.length,b.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function Ev(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Mt(r,t);const i=rr(r),a=rr(t),l=Mt(i.seconds,a.seconds);return l!==0?l:Mt(i.nanos,a.nanos)}function Tv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=no(i[l],a[l]);if(c)return c}return Mt(i.length,a.length)}function io(r){return um(r)}function um(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=rr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ar(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=um(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${um(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Uc(r){switch(or(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return ar(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return fr(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function cm(r){return!!r&&"integerValue"in r}function zm(r){return!!r&&"arrayValue"in r}function Av(r){return!!r&&"nullValue"in r}function bv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function uw(r){return(r?.mapValue?.fields||{})[cE]?.stringValue===hE}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return fr(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function cw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===lw}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){fr(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(Il(this.value))}}function fE(r){const t=[];return fr(r.fields,((i,a)=>{const l=new Ye([i]);if(Lc(a)){const c=fE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class We{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,Et.min(),Et.min(),Et.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,Et.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,Et.min(),Et.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,Et.min(),Et.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(Et.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Et.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Sv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=no(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function wv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function hw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class dE{}class Ve extends dE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new dw(t,i,a):i==="array-contains"?new gw(t,a):i==="in"?new yw(t,a):i==="not-in"?new _w(t,a):i==="array-contains-any"?new vw(t,a):new Ve(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new mw(t,a):new pw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(no(i,this.value)):i!==null&&or(this.value)===or(i)&&this.matchesComparison(no(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends dE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Mi(t,i)}matches(t){return mE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mE(r){return r.op==="and"}function pE(r){return fw(r)&&mE(r)}function fw(r){for(const t of r.filters)if(t instanceof Mi)return!1;return!0}function hm(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+io(r.value);if(pE(r))return r.filters.map((t=>hm(t))).join(",");{const t=r.filters.map((i=>hm(i))).join(",");return`${r.op}(${t})`}}function gE(r,t){return r instanceof Ve?(function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&Oi(a.value,l.value)})(r,t):r instanceof Mi?(function(a,l){return l instanceof Mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&gE(d,l.filters[g])),!0):!1})(r,t):void yt(19439)}function yE(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${io(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(yE).join(" ,")+"}"})(r):"Filter"}class dw extends Ve{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class mw extends Ve{constructor(t,i){super(t,"in",i),this.keys=_E("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class pw extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=_E("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function _E(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class gw extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return zm(i)&&Pl(i.arrayValue,this.value)}}class yw extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class _w extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class vw extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!zm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}class Ew{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function xv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new Ew(r,t,i,a,l,c,d)}function Bm(r){const t=At(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>hm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>io(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>io(a))).join(",")),t.Te=i}return t.Te}function qm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!hw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!gE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!wv(r.startAt,t.startAt)&&wv(r.endAt,t.endAt)}function fm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ph{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Tw(r,t,i,a,l,c,d,g){return new ph(r,t,i,a,l,c,d,g)}function gh(r){return new ph(r)}function Rv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Aw(r){return r.collectionGroup!==null}function Dl(r){const t=At(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(Ye.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Jc(Ye.keyField(),a))}return t.Ie}function xi(r){const t=At(r);return t.Ee||(t.Ee=bw(t,Dl(r))),t.Ee}function bw(r,t){if(r.limitType==="F")return xv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return xv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function dm(r,t,i){return new ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function yh(r,t){return qm(xi(r),xi(t))&&r.limitType===t.limitType}function vE(r){return`${Bm(xi(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>yE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>io(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>io(l))).join(",")),`Target(${a})`})(xi(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=Sv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,g,_){const y=Sv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Dl(a),l))})(r,t)}function Sw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function EE(r){return(t,i)=>{let a=!1;for(const l of Dl(r)){const c=ww(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function ww(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?no(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Zr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){fr(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return sE(this.inner)}size(){return this.innerSize}}const xw=new ce(pt.comparator);function rs(){return xw}const TE=new ce(pt.comparator);function wl(...r){let t=TE;for(const i of r)t=t.insert(i.key,i);return t}function AE(r){let t=TE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Gr(){return Ol()}function bE(){return Ol()}function Ol(){return new Zr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Rw=new ce(pt.comparator),Cw=new ke(pt.comparator);function Vt(...r){let t=Cw;for(const i of r)t=t.add(i);return t}const Nw=new ke(Mt);function Iw(){return Nw}function Hm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function SE(r){return{integerValue:""+r}}function wE(r,t){return iw(t)?SE(t):Hm(r,t)}class vh{constructor(){this._=void 0}}function Dw(r,t,i){return r instanceof Zc?(function(l,c){const d={fields:{[oE]:{stringValue:aE},[uE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=mh(c)),c&&(d.fields[lE]=c),{mapValue:d}})(i,t):r instanceof so?RE(r,t):r instanceof ro?CE(r,t):(function(l,c){const d=xE(l,c),g=Cv(d)+Cv(l.Ae);return cm(d)&&cm(l.Ae)?SE(g):Hm(l.serializer,g)})(r,t)}function Ow(r,t,i){return r instanceof so?RE(r,t):r instanceof ro?CE(r,t):i}function xE(r,t){return r instanceof zl?(function(a){return cm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Zc extends vh{}class so extends vh{constructor(t){super(),this.elements=t}}function RE(r,t){const i=NE(t);for(const a of r.elements)i.some((l=>Oi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ro extends vh{constructor(t){super(),this.elements=t}}function CE(r,t){let i=NE(t);for(const a of r.elements)i=i.filter((l=>!Oi(l,a)));return{arrayValue:{values:i}}}class zl extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Cv(r){return _e(r.integerValue||r.doubleValue)}function NE(r){return zm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Fm{constructor(t,i){this.field=t,this.transform=i}}function Mw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof so&&l instanceof so||a instanceof ro&&l instanceof ro?eo(a.elements,l.elements,Oi):a instanceof zl&&l instanceof zl?Oi(a.Ae,l.Ae):a instanceof Zc&&l instanceof Zc})(r.transform,t.transform)}class Vw{constructor(t,i){this.version=t,this.transformResults=i}}class mn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function jc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Eh{}function IE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Th(r.key,mn.none()):new Gl(r.key,r.data,mn.none());{const i=r.data,a=dn.empty();let l=new ke(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new dr(r.key,a,new wn(l.toArray()),mn.none())}}function kw(r,t,i){r instanceof Gl?(function(l,c,d){const g=l.value.clone(),_=Iv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof dr?(function(l,c,d){if(!jc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Iv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(DE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(r,t,i,a){return r instanceof Gl?(function(c,d,g,_){if(!jc(c.precondition,d))return g;const y=c.value.clone(),b=Dv(c.fieldTransforms,_,d);return y.setAll(b),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof dr?(function(c,d,g,_){if(!jc(c.precondition,d))return g;const y=Dv(c.fieldTransforms,_,d),b=d.data;return b.setAll(DE(c)),b.setAll(y),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,g){return jc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function Uw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=xE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function Nv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&eo(a,l,((c,d)=>Mw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class dr extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function DE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Iv(r,t,i){const a=new Map;Qt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,Ow(d,g,i[l]))}return a}function Dv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Dw(c,d,t))}return a}class Th extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Lw extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&kw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=bE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=IE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(Et.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Vt())}isEqual(t){return this.batchId===t.batchId&&eo(this.mutations,t.mutations,((i,a)=>Nv(i,a)))&&eo(this.baseMutations,t.baseMutations,((i,a)=>Nv(i,a)))}}class Gm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Qt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Rw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Gm(t,i,a,l)}}class Pw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class zw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ne,jt;function Bw(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function OE(r){if(r===void 0)return ss("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ne.OK:return Z.OK;case Ne.CANCELLED:return Z.CANCELLED;case Ne.UNKNOWN:return Z.UNKNOWN;case Ne.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ne.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ne.INTERNAL:return Z.INTERNAL;case Ne.UNAVAILABLE:return Z.UNAVAILABLE;case Ne.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ne.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ne.NOT_FOUND:return Z.NOT_FOUND;case Ne.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ne.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ne.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ne.ABORTED:return Z.ABORTED;case Ne.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ne.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ne.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(jt=Ne||(Ne={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function qw(){return new TextEncoder}const Hw=new tr([4294967295,4294967295],0);function Ov(r){const t=qw().encode(r),i=new Y0;return i.update(t),new Uint8Array(i.digest())}function Mv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new tr([i,a],0),new tr([l,c],0)]}class Qm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=tr.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(tr.fromNumber(a)));return l.compare(Hw)===1&&(l=new tr([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Ov(t),[a,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Qm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Ov(t),[a,l]=Mv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(Et.min(),l,new ce(Mt),rs(),Vt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,Vt(),Vt(),Vt())}}class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class ME{constructor(t,i){this.targetId=t,this.Ce=i}}class VE{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Vv{constructor(){this.ve=0,this.Fe=kv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Vt(),i=Vt(),a=Vt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=kv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Fw{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.Je=Dc(),this.He=Dc(),this.Ye=new ce(Mt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(fm(c))if(a===0){const d=new pt(c.path);this.et(i,d,We.newNoDocument(d,Et.min()))}else Qt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=ar(a).toUint8Array()}catch(_){if(_ instanceof rE)return to("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Qm(d,l,c)}catch(_){return to(_ instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&fm(g.target)){const _=new pt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,We.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=Vt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ye,this.je,a);return this.je=rs(),this.Je=Dc(),this.He=Dc(),this.Ye=new ce(Mt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Vv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Mt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Mt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||at("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Vv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ce(pt.comparator)}function kv(){return new ce(pt.comparator)}const Gw={asc:"ASCENDING",desc:"DESCENDING"},Qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Yw={and:"AND",or:"OR"};class Kw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function mm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function kE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Xw(r,t){return Wc(r,t.toTimestamp())}function Ri(r){return Qt(!!r,49232),Et.fromTimestamp((function(i){const a=rr(i);return new oe(a.seconds,a.nanos)})(r))}function Ym(r,t){return pm(r,t).canonicalString()}function pm(r,t){const i=(function(l){return new ae(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function UE(r){const t=ae.fromString(r);return Qt(BE(t),10190,{key:t.toString()}),t}function gm(r,t){return Ym(r.databaseId,t.path)}function Yd(r,t){const i=UE(t);if(i.get(1)!==r.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(jE(i))}function LE(r,t){return Ym(r.databaseId,t)}function $w(r){const t=UE(r);return t.length===4?ae.emptyPath():jE(t)}function ym(r){return new ae(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function jE(r){return Qt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Uv(r,t,i){return{name:gm(r,t),fields:i.value.mapValue.fields}}function Jw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,b){return y.useProto3Json?(Qt(b===void 0||typeof b=="string",58123),Xe.fromBase64String(b||"")):(Qt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Xe.fromUint8Array(b||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const b=y.code===void 0?Z.UNKNOWN:OE(y.code);return new lt(b,y.message||"")})(d);i=new VE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Yd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):Et.min(),g=new dn({mapValue:{fields:a.document.fields}}),_=We.newFoundDocument(l,c,d,g),y=a.targetIds||[],b=a.removedTargetIds||[];i=new Pc(y,b,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Yd(r,a.document),c=a.readTime?Ri(a.readTime):Et.min(),d=We.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Yd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new zw(l,c),g=a.targetId;i=new ME(g,d)}}return i}function Zw(r,t){let i;if(t instanceof Gl)i={update:Uv(r,t.key,t.value)};else if(t instanceof Th)i={delete:gm(r,t.key)};else if(t instanceof dr)i={update:Uv(r,t.key,t.data),updateMask:o2(t.fieldMask)};else{if(!(t instanceof Lw))return yt(16599,{Vt:t.type});i={verify:gm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof so)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Xw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function Ww(r,t){return r&&r.length>0?(Qt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(Et.min())&&(d=Ri(c)),new Vw(d,l.transformResults||[])})(i,t)))):[]}function t2(r,t){return{documents:[LE(r,t.path)]}}function e2(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=LE(r,l);const c=(function(y){if(y.length!==0)return zE(Mi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((b=>(function(M){return{field:Ga(M.field),direction:s2(M.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=mm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function n2(r){let t=$w(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Qt(a===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(S){const M=PE(S);return M instanceof Mi&&pE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(W){return new Jc(Qa(W.field),(function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(M)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let M;return M=typeof S=="object"?S.value:S,dh(M)?null:M})(i.limit));let _=null;i.startAt&&(_=(function(S){const M=!!S.before,F=S.values||[];return new $c(F,M)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const M=!S.before,F=S.values||[];return new $c(F,M)})(i.endAt)),Tw(t,l,d,c,g,"F",_,y)}function i2(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function PE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>PE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function s2(r){return Gw[r]}function r2(r){return Qw[r]}function a2(r){return Yw[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Ye.fromServerFormat(r.fieldPath)}function zE(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(bv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:r2(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((l=>zE(l)));return a.length===1?a[0]:{compositeFilter:{op:a2(i.op),filters:a}}})(r):yt(54877,{filter:r})}function o2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function BE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Xs{constructor(t,i,a,l,c=Et.min(),d=Et.min(),g=Xe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Xs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Xs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class l2{constructor(t){this.yt=t}}function u2(r){const t=n2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?dm(t,t.limit,"L"):t}class c2{constructor(){this.Cn=new h2}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(sr.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(sr.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class h2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ke(ae.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ke(ae.comparator)).toArray()}}const Lv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(qE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ao{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ao(0)}static cr(){return new ao(-1)}}const jv="LruGarbageCollector",f2=1048576;function Pv([r,t],[i,a]){const l=Mt(r,i);return l===0?Mt(t,a):l}class d2{constructor(t){this.Ir=t,this.buffer=new ke(Pv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Pv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class m2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){at(jv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?at(jv,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class p2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(fh.ce);const a=new d2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(at("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(Lv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(at("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Lv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,y;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(at("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),Ha()<=Ot.DEBUG&&at("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-b}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function g2(r,t){return new p2(r,t)}class y2{constructor(){this.changes=new Zr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class _2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class v2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ml(a.mutation,l,wn.empty(),oe.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,Vt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=Vt()){const l=Gr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=wl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Gr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,Vt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=rs();const d=Ol(),g=(function(){return Ol()})();return i.forEach(((_,y)=>{const b=a.get(y.key);l.has(y.key)&&(b===void 0||b.mutation instanceof dr)?c=c.insert(y.key,y):b!==void 0?(d.set(y.key,b.mutation.getFieldMask()),Ml(b.mutation,y,b.mutation.getFieldMask(),oe.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,b)=>d.set(y,b))),i.forEach(((y,b)=>g.set(y,new _2(b,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ol();let l=new ce(((d,g)=>d-g)),c=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let b=a.get(_)||wn.empty();b=g.applyToLocalView(y,b),a.set(_,b);const S=(l.get(g.batchId)||Vt()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,b=_.value,S=bE();b.forEach((M=>{if(!c.has(M)){const F=IE(i.get(M),a.get(M));F!==null&&S.set(M,F),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Aw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Gr());let g=Ul,_=c;return d.next((y=>$.forEach(y,((b,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(b)?$.resolve():this.remoteDocumentCache.getEntry(t,b).next((M=>{_=_.insert(b,M)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,Vt()))).next((b=>({batchId:g,changes:AE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=wl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(S,M){return new ph(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((b=>{b.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const b=y.getKey();d.get(b)===null&&(d=d.insert(b,We.newInvalidDocument(b)))}));let g=wl();return d.forEach(((_,y)=>{const b=c.get(_);b!==void 0&&Ml(b.mutation,y,wn.empty(),oe.now()),_h(i,y)&&(g=g.insert(_,y))})),g}))}}class E2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:u2(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),$.resolve()}}class T2{constructor(){this.overlays=new ce(pt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Gr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Gr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ce(((y,b)=>y-b));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let b=c.get(y.largestBatchId);b===null&&(b=Gr(),c=c.insert(y.largestBatchId,b)),b.set(y.getKey(),y)}}const g=Gr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,b)=>g.set(y,b))),!(g.size()>=l)););return $.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Pw(i,a));let c=this.qr.get(i);c===void 0&&(c=Vt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class A2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Km{constructor(){this.Qr=new ke(Pe.$r),this.Ur=new ke(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new ae([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new ae([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=Vt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Mt(t.Yr,i.Yr)}static Kr(t,i){return Mt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class b2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?jm:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ke(Mt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new pt(c),0);let g=new ke(Mt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Qt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class S2{constructor(t){this.ri=t,this.docs=(function(){return new ce(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=rs();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=rs();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:b}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||WS(ZS(b),a)<=0||(l.has(b.key)||_h(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new w2(this)}getSize(t){return $.resolve(this.size)}}class w2 extends y2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class x2{constructor(t){this.persistence=t,this.si=new Zr((i=>Bm(i)),qm),this.lastRemoteSnapshotVersion=Et.min(),this.highestTargetId=0,this.oi=0,this._i=new Km,this.targetCount=0,this.ai=ao.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ao(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class HE{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new A2,this.referenceDelegate=t(this),this.Pi=new x2(this),this.indexManager=new c2,this.remoteDocumentCache=(function(l){return new S2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new l2(i),this.Ii=new E2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new T2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new b2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){at("MemoryPersistence","Starting transaction:",t);const l=new R2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class R2 extends ew{constructor(t){super(),this.currentSequenceNumber=t}}class Xm{constructor(t){this.persistence=t,this.Ri=new Km,this.Vi=null}static mi(t){return new Xm(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,Et.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new Zr((a=>sw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=g2(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,Et.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class $m{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=Vt(),l=Vt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new $m(t,i.fromCache,a,l)}}class C2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class N2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Eb()?8:nw(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new C2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ha()<=Ot.DEBUG&&at("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(Ha()<=Ot.DEBUG&&at("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ha()<=Ot.DEBUG&&at("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,xi(i))):$.resolve())}ys(t,i){if(Rv(i))return $.resolve(null);let a=xi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=dm(i,null,"F"),a=xi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=Vt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,dm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Rv(i)||l.isEqual(Et.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(Ha()<=Ot.DEBUG&&at("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(t,d,i,JS(l,Ul)).next((g=>g)))}))}Ds(t,i){let a=new ke(EE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ha()<=Ot.DEBUG&&at("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,sr.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Jm="LocalStore",I2=3e8;class D2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ce(Mt),this.xs=new Zr((c=>Bm(c)),qm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new v2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function O2(r,t,i,a){return new D2(r,t,i,a)}async function FE(r,t){const i=At(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=Vt();for(const y of l){d.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}for(const y of c){g.push(y.batchId);for(const b of y.mutations)_=_.add(b.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function M2(r,t){const i=At(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,b){const S=y.batch,M=S.keys();let F=$.resolve();return M.forEach((W=>{F=F.next((()=>b.getEntry(_,W))).next((tt=>{const J=y.docVersions.get(W);Qt(J!==null,48541),tt.version.compareTo(J)<0&&(S.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),b.addEntry(tt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=Vt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function GE(r){const t=At(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function V2(r,t){const i=At(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,S)=>{const M=l.get(S);if(!M)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,S))));let F=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Xe.EMPTY_BYTE_STRING,Et.min()).withLastLimboFreeSnapshotVersion(Et.min()):b.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(b.resumeToken,a)),l=l.insert(S,F),(function(tt,J,ut){return tt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=I2?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(M,F,b)&&g.push(i.Pi.updateTargetData(c,F))}));let _=rs(),y=Vt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(k2(c,d,t.documentUpdates).next((b=>{_=b.ks,y=b.qs}))),!a.isEqual(Et.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(b)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function k2(r,t,i){let a=Vt(),l=Vt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=rs();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(Et.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):at(Jm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function U2(r,t){const i=At(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=jm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function L2(r,t){const i=At(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Xs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function _m(r,t,i){const a=At(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;at(Jm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function zv(r,t,i){const a=At(r);let l=Et.min(),c=Vt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,b){const S=At(_),M=S.xs.get(b);return M!==void 0?$.resolve(S.Ms.get(M)):S.Pi.getTargetData(y,b)})(a,d,xi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:Et.min(),i?c:Vt()))).next((g=>(j2(a,Sw(t),g),{documents:g,Qs:c})))))}function j2(r,t,i){let a=r.Os.get(t)||Et.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Bv{constructor(){this.activeTargetIds=Iw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class P2{constructor(){this.Mo=new Bv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Bv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class z2{Oo(t){}shutdown(){}}const qv="ConnectivityMonitor";class Hv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){at(qv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){at(qv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function vm(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Kd="RestConnection",B2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class q2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=vm(),g=this.zo(t,i.toUriEncodedString());at(Kd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),b=lo(y);return this.Jo(t,g,_,a,b).then((S=>(at(Kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw to(Kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=B2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class H2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class F2 extends q2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=vm();return new Promise(((g,_)=>{const y=new K0;y.setWithCredentials(!0),y.listenOnce(X0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const S=y.getResponseJson();at(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case kc.TIMEOUT:at(Je,`RPC '${t}' ${d} timed out`),_(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const M=y.getStatus();if(at(Je,`RPC '${t}' ${d} failed with status:`,M,"response text:",y.getResponseText()),M>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const tt=(function(ut){const rt=ut.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(rt)>=0?rt:Z.UNKNOWN})(W.status);_(new lt(tt,W.message))}else _(new lt(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{at(Je,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);at(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",b,a,15)}))}T_(t,i,a){const l=vm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Z0(),g=J0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const b=c.join("");at(Je,`Creating RPC '${t}' stream ${l}: ${b}`,_);const S=d.createWebChannel(b,_);this.I_(S);let M=!1,F=!1;const W=new H2({Yo:J=>{F?at(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(M||(at(Je,`Opening RPC '${t}' stream ${l} transport.`),S.open(),M=!0),at(Je,`RPC '${t}' stream ${l} sending:`,J),S.send(J))},Zo:()=>S.close()}),tt=(J,ut,rt)=>{J.listen(ut,(dt=>{try{rt(dt)}catch(kt){setTimeout((()=>{throw kt}),0)}}))};return tt(S,Sl.EventType.OPEN,(()=>{F||(at(Je,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),tt(S,Sl.EventType.CLOSE,(()=>{F||(F=!0,at(Je,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),tt(S,Sl.EventType.ERROR,(J=>{F||(F=!0,to(Je,`RPC '${t}' stream ${l} transport errored. Name:`,J.name,"Message:",J.message),W.a_(new lt(Z.UNAVAILABLE,"The operation could not be completed")))})),tt(S,Sl.EventType.MESSAGE,(J=>{if(!F){const ut=J.data[0];Qt(!!ut,16349);const rt=ut,dt=rt?.error||rt[0]?.error;if(dt){at(Je,`RPC '${t}' stream ${l} received error:`,dt);const kt=dt.status;let Pt=(function(w){const C=Ne[w];if(C!==void 0)return OE(C)})(kt),wt=dt.message;Pt===void 0&&(Pt=Z.INTERNAL,wt="Unknown error status: "+kt+" with message "+dt.message),F=!0,W.a_(new lt(Pt,wt)),S.close()}else at(Je,`RPC '${t}' stream ${l} received:`,ut),W.u_(ut)}})),tt(g,$0.STAT_EVENT,(J=>{J.stat===om.PROXY?at(Je,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===om.NOPROXY&&at(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Xd(){return typeof document<"u"?document:null}function bh(r){return new Kw(r,!0)}class QE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&at("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Fv="PersistentStream";class YE{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new QE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return at(Fv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(at(Fv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class G2 extends YE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Jw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return Et.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Et.min():d.readTime?Ri(d.readTime):Et.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=ym(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=fm(_)?{documents:t2(c,_)}:{query:e2(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=kE(c,d.resumeToken);const y=mm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(Et.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const y=mm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=i2(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=ym(this.serializer),i.removeTarget=t,this.q_(i)}}class Q2 extends YE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Ww(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=ym(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Zw(this.serializer,a)))};this.q_(i)}}class Y2{}class K2 extends Y2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,pm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new lt(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,pm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class X2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):at("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const $r="RemoteStore";class $2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Wr(this)&&(at($r,"Restarting streams for network reachability change."),await(async function(_){const y=At(_);y.Ea.add(4),await Yl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sh(y)})(this))}))})),this.Ra=new X2(a,l)}}async function Sh(r){if(Wr(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function KE(r,t){const i=At(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),ep(i)?tp(i):mo(i).O_()&&Wm(i,t))}function Zm(r,t){const i=At(r),a=mo(i);i.Ia.delete(t),a.O_()&&XE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Wr(i)&&i.Ra.set("Unknown"))}function Wm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Et.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(r).Y_(t)}function XE(r,t){r.Va.Ue(t),mo(r).Z_(t)}function tp(r){r.Va=new Fw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),mo(r).start(),r.Ra.ua()}function ep(r){return Wr(r)&&!mo(r).x_()&&r.Ia.size>0}function Wr(r){return At(r).Ea.size===0}function $E(r){r.Va=void 0}async function J2(r){r.Ra.set("Online")}async function Z2(r){r.Ia.forEach(((t,i)=>{Wm(r,t)}))}async function W2(r,t){$E(r),ep(r)?(r.Ra.ha(t),tp(r)):r.Ra.set("Unknown")}async function tx(r,t,i){if(r.Ra.set("Online"),t instanceof VE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){at($r,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof ME?r.Va.st(t):r.Va.tt(t),!i.isEqual(Et.min()))try{const a=await GE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const b=c.Ia.get(y);b&&c.Ia.set(y,b.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const b=c.Ia.get(_);if(!b)return;c.Ia.set(_,b.withResumeToken(Xe.EMPTY_BYTE_STRING,b.snapshotVersion)),XE(c,_);const S=new Xs(b.target,_,y,b.sequenceNumber);Wm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){at($r,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!fo(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>GE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{at($r,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function JE(r,t){return t().catch((i=>eh(r,i,t)))}async function wh(r){const t=At(r),i=lr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:jm;for(;ex(t);)try{const l=await U2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,nx(t,l)}catch(l){await eh(t,l)}ZE(t)&&WE(t)}function ex(r){return Wr(r)&&r.Ta.length<10}function nx(r,t){r.Ta.push(t);const i=lr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function ZE(r){return Wr(r)&&!lr(r).x_()&&r.Ta.length>0}function WE(r){lr(r).start()}async function ix(r){lr(r).ra()}async function sx(r){const t=lr(r);for(const i of r.Ta)t.ea(i.mutations)}async function rx(r,t,i){const a=r.Ta.shift(),l=Gm.from(a,t,i);await JE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await wh(r)}async function ax(r,t){t&&lr(r).X_&&await(async function(a,l){if((function(d){return Bw(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();lr(a).B_(),await JE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(r,t),ZE(r)&&WE(r)}async function Gv(r,t){const i=At(r);i.asyncQueue.verifyOperationInProgress(),at($r,"RemoteStore received new credentials");const a=Wr(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function ox(r,t){const i=At(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function mo(r){return r.ma||(r.ma=(function(i,a,l){const c=At(i);return c.sa(),new G2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:J2.bind(null,r),t_:Z2.bind(null,r),r_:W2.bind(null,r),H_:tx.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),ep(r)?tp(r):r.Ra.set("Unknown")):(await r.ma.stop(),$E(r))}))),r.ma}function lr(r){return r.fa||(r.fa=(function(i,a,l){const c=At(i);return c.sa(),new Q2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:ix.bind(null,r),r_:ax.bind(null,r),ta:sx.bind(null,r),na:rx.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await wh(r)):(await r.fa.stop(),r.Ta.length>0&&(at($r,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class np{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new er,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new np(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ip(r,t){if(ss("AsyncQueue",`${t}: ${r}`),fo(r))return new lt(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=wl(),this.sortedSet=new ce(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Qv{constructor(){this.ga=new ce(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class oo{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new oo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class lx{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class ux{constructor(){this.queries=Yv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=At(i),c=l.queries;l.queries=Yv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function Yv(){return new Zr((r=>vE(r)),yh)}async function t1(r,t){const i=At(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new lx,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ip(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&sp(i)}async function e1(r,t){const i=At(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function cx(r,t){const i=At(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&sp(i)}function hx(r,t,i){const a=At(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function sp(r){r.Ca.forEach((t=>{t.next()}))}var Em,Kv;(Kv=Em||(Em={})).Ma="default",Kv.Cache="cache";class n1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new oo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=oo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Em.Cache}}class i1{constructor(t){this.key=t}}class s1{constructor(t){this.key=t}}class fx{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Vt(),this.mutatedKeys=Vt(),this.eu=EE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Qv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,S)=>{const M=l.get(b),F=_h(this.query,S)?S:null,W=!!M&&this.mutatedKeys.has(M.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;M&&F?M.data.isEqual(F.data)?W!==tt&&(a.track({type:3,doc:F}),J=!0):this.su(M,F)||(a.track({type:2,doc:F}),J=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(g=!0)):!M&&F?(a.track({type:0,doc:F}),J=!0):M&&!F&&(a.track({type:1,doc:M}),J=!0,(_||y)&&(g=!0)),J&&(F?(d=d.add(F),c=tt?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),a.track({type:1,doc:b})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,S)=>(function(F,W){const tt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:J})}};return tt(F)-tt(W)})(b.type,S.type)||this.eu(b.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new oo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Qv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Vt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new s1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new i1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=Vt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return oo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const rp="SyncEngine";class dx{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class mx{constructor(t){this.key=t,this.hu=!1}}class px{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Zr((g=>vE(g)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ce(pt.comparator),this.Au=new Map,this.Ru=new Km,this.Vu={},this.mu=new Map,this.fu=ao.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function gx(r,t,i=!0){const a=c1(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await r1(a,t,i,!0),l}async function yx(r,t){const i=c1(r);await r1(i,t,!0,!1)}async function r1(r,t,i,a){const l=await L2(r.localStore,xi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await _x(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&KE(r.remoteStore,l),g}async function _x(r,t,i,a,l){r.pu=(S,M,F)=>(async function(tt,J,ut,rt){let dt=J.view.ru(ut);dt.Cs&&(dt=await zv(tt.localStore,J.query,!1).then((({documents:R})=>J.view.ru(R,dt))));const kt=rt&&rt.targetChanges.get(J.targetId),Pt=rt&&rt.targetMismatches.get(J.targetId)!=null,wt=J.view.applyChanges(dt,tt.isPrimaryClient,kt,Pt);return $v(tt,J.targetId,wt.au),wt.snapshot})(r,S,M,F);const c=await zv(r.localStore,t,!0),d=new fx(t,c.Qs),g=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);$v(r,i,y.au);const b=new dx(t,i,d);return r.Tu.set(t,b),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function vx(r,t,i){const a=At(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await _m(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Zm(a.remoteStore,l.targetId),Tm(a,l.targetId)})).catch(ho)):(Tm(a,l.targetId),await _m(a.localStore,l.targetId,!0))}async function Ex(r,t){const i=At(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Zm(i.remoteStore,a.targetId))}async function Tx(r,t,i){const a=Cx(r);try{const l=await(function(d,g){const _=At(d),y=oe.now(),b=g.reduce(((F,W)=>F.add(W.key)),Vt());let S,M;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=rs(),tt=Vt();return _.Ns.getEntries(F,b).next((J=>{W=J,W.forEach(((ut,rt)=>{rt.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,W))).next((J=>{S=J;const ut=[];for(const rt of g){const dt=Uw(rt,S.get(rt.key).overlayedDocument);dt!=null&&ut.push(new dr(rt.key,dt,fE(dt.value.mapValue),mn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ut,g)})).next((J=>{M=J;const ut=J.applyToLocalDocumentSet(S,tt);return _.documentOverlayCache.saveOverlays(F,J.batchId,ut)}))})).then((()=>({batchId:M.batchId,changes:AE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ce(Mt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Kl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=ip(l,"Failed to persist write");i.reject(c)}}async function a1(r,t){const i=At(r);try{const a=await V2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Qt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Qt(d.hu,14607):l.removedDocuments.size>0&&(Qt(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await ho(a)}}function Xv(r,t,i){const a=At(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=At(d);_.onlineState=g;let y=!1;_.queries.forEach(((b,S)=>{for(const M of S.Sa)M.va(g)&&(y=!0)})),y&&sp(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function Ax(r,t,i){const a=At(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ce(pt.comparator);d=d.insert(c,We.newNoDocument(c,Et.min()));const g=Vt().add(c),_=new Ah(Et.min(),new Map,new ce(Mt),d,g);await a1(a,_),a.du=a.du.remove(c),a.Au.delete(t),ap(a)}else await _m(a.localStore,t,!1).then((()=>Tm(a,t,i))).catch(ho)}async function bx(r,t){const i=At(r),a=t.batch.batchId;try{const l=await M2(i.localStore,t);l1(i,a,null),o1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await ho(l)}}async function Sx(r,t,i){const a=At(r);try{const l=await(function(d,g){const _=At(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let b;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Qt(S!==null,37113),b=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,b,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,b))).next((()=>_.localDocuments.getDocuments(y,b)))}))})(a.localStore,t);l1(a,t,i),o1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await ho(l)}}function o1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function l1(r,t,i){const a=At(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Tm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||u1(r,a)}))}function u1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Zm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),ap(r))}function $v(r,t,i){for(const a of i)a instanceof i1?(r.Ru.addReference(a.key,t),wx(r,a)):a instanceof s1?(at(rp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||u1(r,a.key)):yt(19791,{wu:a})}function wx(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(at(rp,"New document in limbo: "+i),r.Eu.add(a),ap(r))}function ap(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(ae.fromString(t)),a=r.fu.next();r.Au.set(a,new mx(i)),r.du=r.du.insert(i,a),KE(r.remoteStore,new Xs(xi(gh(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Kl(r,t,i){const a=At(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const b=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,b?"current":"not-current")}if(y){l.push(y);const b=$m.As(_.targetId,y);c.push(b)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const b=At(_);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(M=>$.forEach(M.Es,(F=>b.persistence.referenceDelegate.addReference(S,M.targetId,F))).next((()=>$.forEach(M.ds,(F=>b.persistence.referenceDelegate.removeReference(S,M.targetId,F)))))))))}catch(S){if(!fo(S))throw S;at(Jm,"Failed to update sequence numbers: "+S)}for(const S of y){const M=S.targetId;if(!S.fromCache){const F=b.Ms.get(M),W=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(W);b.Ms=b.Ms.insert(M,tt)}}})(a.localStore,c))}async function xx(r,t){const i=At(r);if(!i.currentUser.isEqual(t)){at(rp,"User change. New user:",t.toKey());const a=await FE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new lt(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ls)}}function Rx(r,t){const i=At(r),a=i.Au.get(t);if(a&&a.hu)return Vt().add(a.key);{let l=Vt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function c1(r){const t=At(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=a1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Rx.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Ax.bind(null,t),t.Pu.H_=cx.bind(null,t.eventManager),t.Pu.yu=hx.bind(null,t.eventManager),t}function Cx(r){const t=At(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=bx.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Sx.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return O2(this.persistence,new N2,t.initialUser,this.serializer)}Cu(t){return new HE(Xm.mi,this.serializer)}Du(t){return new P2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class Nx extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Qt(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new m2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new HE((a=>th.mi(a,i)),this.serializer)}}class Am{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Xv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=xx.bind(null,this.syncEngine),await ox(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new ux})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new F2(c)})(t.databaseInfo);return(function(c,d,g,_){return new K2(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new $2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Xv(this.syncEngine,i,0)),(function(){return Hv.v()?new Hv:new z2})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,b){const S=new px(l,c,d,g,_,y);return b&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=At(i);at($r,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Am.provider={build:()=>new Am};class h1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ur="FirestoreClient";class Ix{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Um.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{at(ur,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(at(ur,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new er;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ip(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function $d(r,t){r.asyncQueue.verifyOperationInProgress(),at(ur,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await FE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Jv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await Dx(r);at(ur,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Gv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Gv(t.remoteStore,l))),r._onlineComponents=t}async function Dx(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){at(ur,"Using user provided OfflineComponentProvider");try{await $d(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;to("Error using user provided cache. Falling back to memory cache: "+i),await $d(r,new nh)}}else at(ur,"Using default OfflineComponentProvider"),await $d(r,new Nx(void 0));return r._offlineComponents}async function f1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(at(ur,"Using user provided OnlineComponentProvider"),await Jv(r,r._uninitializedComponentsProvider._online)):(at(ur,"Using default OnlineComponentProvider"),await Jv(r,new Am))),r._onlineComponents}function Ox(r){return f1(r).then((t=>t.syncEngine))}async function bm(r){const t=await f1(r),i=t.eventManager;return i.onListen=gx.bind(null,t.syncEngine),i.onUnlisten=vx.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=yx.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=Ex.bind(null,t.syncEngine),i}function Mx(r,t,i={}){const a=new er;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const b=new h1({next:M=>{b.Nu(),d.enqueueAndForget((()=>e1(c,S)));const F=M.docs.has(g);!F&&M.fromCache?y.reject(new lt(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&_&&_.source==="server"?y.reject(new lt(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(M)},error:M=>y.reject(M)}),S=new n1(gh(g.path),b,{includeMetadataChanges:!0,qa:!0});return t1(c,S)})(await bm(r),r.asyncQueue,t,i,a))),a.promise}function d1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Zv=new Map;const m1="firestore.googleapis.com",Wv=!0;class t0{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=m1,this.ssl=Wv}else this.host=t.host,this.ssl=t.ssl??Wv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<f2)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}$S("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=d1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t0(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new zS;switch(a.type){case"firstParty":return new FS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Zv.get(i);a&&(at("ComponentProvider","Removing Datastore"),Zv.delete(i),a.terminate())})(this),Promise.resolve()}}function Vx(r,t,i,a={}){r=Bn(r,xh);const l=lo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(P0(`https://${g}`),z0("Firestore",!0)),c.host!==m1&&c.host!==g&&to("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!ns(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,b;if(typeof a.mockUserToken=="string")y=a.mockUserToken,b=Ze.MOCK_USER;else{y=hb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(S)}r._authCredentials=new BS(new tE(y,b))}}class Rh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Rh(this.firestore,t,this._query)}}class ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,ve._jsonSchema))return new ve(t,a||null,new pt(ae.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:Ie("string",ve._jsonSchemaVersion),referencePath:Ie("string")};class nr extends Rh{constructor(t,i,a){super(t,i,gh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new pt(t))}withConverter(t){return new nr(this.firestore,t,this._path)}}function Jd(r,t,...i){if(r=Ke(r),eE("collection","path",t),r instanceof xh){const a=ae.fromString(t,...i);return mv(a),new nr(r,null,a)}{if(!(r instanceof ve||r instanceof nr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...i));return mv(a),new nr(r.firestore,null,a)}}function Me(r,t,...i){if(r=Ke(r),arguments.length===1&&(t=Um.newId()),eE("doc","path",t),r instanceof xh){const a=ae.fromString(t,...i);return dv(a),new ve(r,null,new pt(a))}{if(!(r instanceof ve||r instanceof nr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ae.fromString(t,...i));return dv(a),new ve(r.firestore,r instanceof nr?r.converter:null,new pt(a))}}const e0="AsyncQueue";class n0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new QE(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&at(e0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new er;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;at(e0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",i0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=np.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:i0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function i0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function s0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class cr extends xh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new n0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new n0(t),this._firestoreClient=void 0,await t}}}function kx(r,t){const i=typeof r=="object"?r:F0(),a=typeof r=="string"?r:Kc,l=Vm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=ub("firestore");c&&Vx(l,...c)}return l}function Ch(r){if(r._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||Ux(r),r._firestoreClient}function Ux(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new ow(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,d1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new Ix(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Xe.fromBase64String(t))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ie("string",zn._jsonSchemaVersion),bytes:Ie("string")};class Xl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class po{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Mt(this._lat,t._lat)||Mt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class Ni{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ni._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ni._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ni(t.vectorValues);throw new lt(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ni._jsonSchemaVersion="firestore/vectorValue/1.0",Ni._jsonSchema={type:Ie("string",Ni._jsonSchemaVersion),vectorValues:Ie("object")};const Lx=/^__.*__$/;class jx{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new dr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class p1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new dr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function g1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Nh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(g1(this.Ac)&&Lx.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class Px{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new Nh({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function op(r){const t=r._freezeSettings(),i=bh(r._databaseId);return new Px(r._databaseId,!!t.ignoreUndefinedProperties,i)}function y1(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);hp("Data must be an object, but it was:",d,a);const g=T1(a,d);let _,y;if(c.merge)_=new wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const S of c.mergeFields){const M=Sm(t,S,i);if(!d.contains(M))throw new lt(Z.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);b1(b,M)||b.push(M)}_=new wn(b),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new jx(new dn(g),_,y)}class Ih extends po{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ih}}function _1(r,t,i){return new Nh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class lp extends po{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=_1(this,t,!0),a=this.vc.map((c=>go(c,i))),l=new so(a);return new Fm(t.path,l)}isEqual(t){return t instanceof lp&&ns(this.vc,t.vc)}}class up extends po{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=_1(this,t,!0),a=this.vc.map((c=>go(c,i))),l=new ro(a);return new Fm(t.path,l)}isEqual(t){return t instanceof up&&ns(this.vc,t.vc)}}class cp extends po{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new zl(t.serializer,wE(t.serializer,this.Fc));return new Fm(t.path,i)}isEqual(t){return t instanceof cp&&this.Fc===t.Fc}}function v1(r,t,i,a){const l=r.Cc(1,t,i);hp("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();fr(a,((_,y)=>{const b=fp(t,_,i);y=Ke(y);const S=l.yc(b);if(y instanceof Ih)c.push(b);else{const M=go(y,S);M!=null&&(c.push(b),d.set(b,M))}}));const g=new wn(c);return new p1(d,g,l.fieldTransforms)}function E1(r,t,i,a,l,c){const d=r.Cc(1,t,i),g=[Sm(t,a,i)],_=[l];if(c.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)g.push(Sm(t,c[M])),_.push(c[M+1]);const y=[],b=dn.empty();for(let M=g.length-1;M>=0;--M)if(!b1(y,g[M])){const F=g[M];let W=_[M];W=Ke(W);const tt=d.yc(F);if(W instanceof Ih)y.push(F);else{const J=go(W,tt);J!=null&&(y.push(F),b.set(F,J))}}const S=new wn(y);return new p1(b,S,d.fieldTransforms)}function go(r,t){if(A1(r=Ke(r)))return hp("Unsupported field value:",t,r),T1(r,t);if(r instanceof po)return(function(a,l){if(!g1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=go(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ke(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return wE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=oe.fromDate(a);return{timestampValue:Wc(l.serializer,c)}}if(a instanceof oe){const c=new oe(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:kE(l.serializer,a._byteString)};if(a instanceof ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Ym(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ni)return(function(d,g){return{mapValue:{fields:{[cE]:{stringValue:hE},[Xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Hm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Lm(a)}`)})(r,t)}function T1(r,t){const i={};return sE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):fr(r,((a,l)=>{const c=go(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function A1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof oe||r instanceof Ci||r instanceof zn||r instanceof ve||r instanceof po||r instanceof Ni)}function hp(r,t,i){if(!A1(i)||!nE(i)){const a=Lm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Sm(r,t,i){if((t=Ke(t))instanceof Xl)return t._internalPath;if(typeof t=="string")return fp(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const zx=new RegExp("[~\\*/\\[\\]]");function fp(r,t,i){if(t.search(zx)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Xl(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new lt(Z.INVALID_ARGUMENT,g+r+_)}function b1(r,t){return r.some((i=>i.isEqual(t)))}class S1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Bx(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(w1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Bx extends S1{data(){return super.data()}}function w1(r,t){return typeof t=="string"?fp(r,t):t instanceof Xl?t._internalPath:t._delegate._internalPath}function qx(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Hx{convertValue(t,i="none"){switch(or(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ar(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return fr(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>_e(a.doubleValue)));return new Ni(i)}convertGeoPoint(t){return new Ci(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=rr(t);return new oe(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ae.fromString(t);Qt(BE(a),9688,{name:t});const l=new jl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function x1(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Qr extends S1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(w1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Qr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Qr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Qr._jsonSchema={type:Ie("string",Qr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class zc extends Qr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,b=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:Fx(g.type),doc:_,oldIndex:y,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Um.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Fx(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function r0(r){r=Bn(r,ve);const t=Bn(r.firestore,cr);return Mx(Ch(t),r._key).then((i=>C1(t,r,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:Ie("string",Xa._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class R1 extends Hx{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function Cl(r,t,i){r=Bn(r,ve);const a=Bn(r.firestore,cr),l=x1(r.converter,t,i);return Dh(a,[y1(op(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,mn.none())])}function Pn(r,t,i,...a){r=Bn(r,ve);const l=Bn(r.firestore,cr),c=op(l);let d;return d=typeof(t=Ke(t))=="string"||t instanceof Xl?E1(c,"updateDoc",r._key,t,i,a):v1(c,"updateDoc",r._key,t),Dh(l,[d.toMutation(r._key,mn.exists(!0))])}function a0(r){return Dh(Bn(r.firestore,cr),[new Th(r._key,mn.none())])}function Zd(r,...t){r=Ke(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||s0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(s0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof ve)d=Bn(r.firestore,cr),g=gh(r._key.path),c={next:_=>{t[a]&&t[a](C1(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Bn(r,Rh);d=Bn(_.firestore,cr),g=_._query;const y=new R1(d);c={next:b=>{t[a]&&t[a](new Xa(d,y,_,b))},error:t[a+1],complete:t[a+2]},qx(r._query)}return(function(y,b,S,M){const F=new h1(M),W=new n1(b,F,S);return y.asyncQueue.enqueueAndForget((async()=>t1(await bm(y),W))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>e1(await bm(y),W)))}})(Ch(d),g,l,c)}function Dh(r,t){return(function(a,l){const c=new er;return a.asyncQueue.enqueueAndForget((async()=>Tx(await Ox(a),l,c))),c.promise})(Ch(r),t)}function C1(r,t,i){const a=i.docs.get(t._key),l=new R1(r);return new Qr(r,l,t._key,a,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}class Gx{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=op(t)}set(t,i,a){this._verifyNotCommitted();const l=Wd(t,this._firestore),c=x1(l.converter,i,a),d=y1(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,mn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Wd(t,this._firestore);let d;return d=typeof(i=Ke(i))=="string"||i instanceof Xl?E1(this._dataReader,"WriteBatch.update",c._key,i,a,l):v1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Wd(t,this._firestore);return this._mutations=this._mutations.concat(new Th(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Wd(r,t){if((r=Ke(r)).firestore!==t)throw new lt(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function Qx(...r){return new lp("arrayUnion",r)}function sh(...r){return new up("arrayRemove",r)}function $s(r){return new cp("increment",r)}function Yx(r){return Ch(r=Bn(r,cr)),new Gx(r,(t=>Dh(r,t)))}(function(t,i=!0){(function(l){co=l})(uo),Wa(new Kr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new cr(new qS(a.getProvider("auth-internal")),new GS(d,a.getProvider("app-check-internal")),(function(y,b){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new jl(y.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),Ws(uv,cv,t),Ws(uv,cv,"esm2020")})();function N1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Kx=N1,I1=new ql("auth","Firebase",N1());const rh=new Om("@firebase/auth");function Xx(r,...t){rh.logLevel<=Ot.WARN&&rh.warn(`Auth (${uo}): ${r}`,...t)}function Bc(r,...t){rh.logLevel<=Ot.ERROR&&rh.error(`Auth (${uo}): ${r}`,...t)}function as(r,...t){throw dp(r,...t)}function Ii(r,...t){return dp(r,...t)}function D1(r,t,i){const a={...Kx(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:r.name})}function ir(r){return D1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return I1.create(r,...t)}function vt(r,t,...i){if(!r)throw dp(t,...i)}function ts(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function os(r,t){r||ts(t)}function wm(){return typeof self<"u"&&self.location?.href||""}function $x(){return o0()==="http:"||o0()==="https:"}function o0(){return typeof self<"u"&&self.location?.protocol||null}function Jx(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($x()||yb()||"connection"in navigator)?navigator.onLine:!0}function Zx(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $l{constructor(t,i){this.shortDelay=t,this.longDelay=i,os(i>t,"Short delay should be less than long delay!"),this.isMobile=mb()||_b()}get(){return Jx()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function mp(r,t){os(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class O1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ts("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ts("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ts("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wx={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eR=new $l(3e4,6e4);function Oh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function yo(r,t,i,a,l={}){return M1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Hl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return gb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&lo(r.emulatorConfig.host)&&(y.credentials="include"),O1.fetch()(await k1(r,r.config.apiHost,i,g),y)})}async function M1(r,t,i){r._canInitEmulator=!1;const a={...Wx,...t};try{const l=new nR(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Mc(r,"user-disabled",d);const b=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw D1(r,b,y);as(r,b)}}catch(l){if(l instanceof ls)throw l;as(r,"network-request-failed",{message:String(l)})}}async function V1(r,t,i,a,l={}){const c=await yo(r,t,i,a,l);return"mfaPendingCredential"in c&&as(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function k1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?mp(r.config,l):`${r.config.apiScheme}://${l}`;return tR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class nR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),eR.get())})}}function Mc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ii(r,t,a);return l.customData._tokenResponse=i,l}async function iR(r,t){return yo(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return yo(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sR(r,t=!1){const i=Ke(r),a=await i.getIdToken(t),l=pp(a);vt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(tm(l.auth_time)),issuedAtTime:Vl(tm(l.iat)),expirationTime:Vl(tm(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function tm(r){return Number(r)*1e3}function pp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=k0(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function l0(r){const t=pp(r);return vt(t,"internal-error"),vt(typeof t.exp<"u","internal-error"),vt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof ls&&rR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function rR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class aR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class xm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(r){const t=r.auth,i=await r.getIdToken(),a=await Bl(r,ah(t,{idToken:i}));vt(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?U1(l.providerUserInfo):[],d=lR(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,b)}async function oR(r){const t=Ke(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function lR(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function U1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function uR(r,t){const i=await M1(r,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await k1(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&lo(r.emulatorConfig.host)&&(_.credentials="include"),O1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function cR(r,t){return yo(r,"POST","/v2/accounts:revokeToken",Oh(r,t))}class $a{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){vt(t.idToken,"internal-error"),vt(typeof t.idToken<"u","internal-error"),vt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):l0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){vt(t.length!==0,"internal-error");const i=l0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(vt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await uR(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new $a;return a&&(vt(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(vt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(vt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $a,this.toJSON())}_performRefresh(){return ts("not implemented")}}function Hs(r,t){vt(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new aR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new xm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return vt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return sR(this,t)}reload(){return oR(this)}_assign(t){this!==t&&(vt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(ir(this.auth));const t=await this.getIdToken();return await Bl(this,iR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:F,providerData:W,stsTokenManager:tt}=i;vt(S&&tt,t,"internal-error");const J=$a.fromJSON(this.name,tt);vt(typeof S=="string",t,"internal-error"),Hs(a,t.name),Hs(l,t.name),vt(typeof M=="boolean",t,"internal-error"),vt(typeof F=="boolean",t,"internal-error"),Hs(c,t.name),Hs(d,t.name),Hs(g,t.name),Hs(_,t.name),Hs(y,t.name),Hs(b,t.name);const ut=new ei({uid:S,auth:t,email:l,emailVerified:M,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:J,createdAt:y,lastLoginAt:b});return W&&Array.isArray(W)&&(ut.providerData=W.map(rt=>({...rt}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new $a;l.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];vt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?U1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new $a;g.updateFromIdToken(a);const _=new ei({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new xm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const u0=new Map;function es(r){os(r instanceof Function,"Expected a class definition");let t=u0.get(r);return t?(os(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,u0.set(r,t),t)}class L1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}L1.type="NONE";const c0=L1;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class Ja{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Ja(es(c0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||es(c0);const d=qc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const b=await y._get(d);if(b){let S;if(typeof b=="string"){const M=await ah(t,{idToken:b}).catch(()=>{});if(!M)break;S=await ei._fromGetAccountInfoResponse(t,M,b)}else S=ei._fromJSON(t,b);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Ja(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Ja(c,t,a))}}function h0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(B1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(j1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(H1(t))return"Blackberry";if(F1(t))return"Webos";if(P1(t))return"Safari";if((t.includes("chrome/")||z1(t))&&!t.includes("edge/"))return"Chrome";if(q1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function j1(r=tn()){return/firefox\//i.test(r)}function P1(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function z1(r=tn()){return/crios\//i.test(r)}function B1(r=tn()){return/iemobile/i.test(r)}function q1(r=tn()){return/android/i.test(r)}function H1(r=tn()){return/blackberry/i.test(r)}function F1(r=tn()){return/webos/i.test(r)}function gp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hR(r=tn()){return gp(r)&&!!window.navigator?.standalone}function fR(){return vb()&&document.documentMode===10}function G1(r=tn()){return gp(r)||q1(r)||F1(r)||H1(r)||/windows phone/i.test(r)||B1(r)}function Q1(r,t=[]){let i;switch(r){case"Browser":i=h0(tn());break;case"Worker":i=`${h0(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${a}`}class dR{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function mR(r,t={}){return yo(r,"GET","/v2/passwordPolicy",Oh(r,t))}const pR=6;class gR{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??pR,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class yR{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new f0(this),this.idTokenSubscription=new f0(this),this.beforeStateQueue=new dR(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=I1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=es(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Ja.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),a=await ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Zx()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(ir(this));const i=t?Ke(t):null;return i&&vt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&vt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(ir(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(ir(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(es(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mR(this),i=new gR(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await cR(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&es(t)||this._popupRedirectResolver;vt(i,this,"argument-error"),this.redirectPersistenceManager=await Ja.create(this,[es(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(vt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=Q1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Xx(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Mh(r){return Ke(r)}class f0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Rb(i=>this.observer=i)}get next(){return vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _R(r){yp=r}function vR(r){return yp.loadJS(r)}function ER(){return yp.gapiScript}function TR(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function AR(r,t){const i=Vm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ns(c,t??{}))return l;as(l,"already-initialized")}return i.initialize({options:t})}function bR(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(es);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function SR(r,t,i){const a=Mh(r);vt(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=Y1(t),{host:d,port:g}=wR(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){vt(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),vt(ns(y,a.config.emulator)&&ns(b,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=b,a.settings.appVerificationDisabledForTesting=!0,lo(d)?(P0(`${c}//${d}${_}`),z0("Auth",!0)):xR()}function Y1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function wR(r){const t=Y1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:d0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:d0(d)}}}function d0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function xR(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class K1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ts("not implemented")}_getIdTokenResponse(t){return ts("not implemented")}_linkToIdToken(t,i){return ts("not implemented")}_getReauthenticationResolver(t){return ts("not implemented")}}async function Za(r,t){return V1(r,"POST","/v1/accounts:signInWithIdp",Oh(r,t))}const RR="http://localhost";class Jr extends K1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Jr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Jr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Za(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:RR,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class X1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends X1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Gs extends Jl{constructor(){super("facebook.com")}static credential(t){return Jr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Gs.PROVIDER_ID="facebook.com";class Qs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Jr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Qs.credential(i,a)}catch{return null}}}Qs.GOOGLE_SIGN_IN_METHOD="google.com";Qs.PROVIDER_ID="google.com";class Ys extends Jl{constructor(){super("github.com")}static credential(t){return Jr._fromParams({providerId:Ys.PROVIDER_ID,signInMethod:Ys.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Ys.credentialFromTaggedObject(t)}static credentialFromError(t){return Ys.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Ys.credential(t.oauthAccessToken)}catch{return null}}}Ys.GITHUB_SIGN_IN_METHOD="github.com";Ys.PROVIDER_ID="github.com";class Ks extends Jl{constructor(){super("twitter.com")}static credential(t,i){return Jr._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ks.credentialFromTaggedObject(t)}static credentialFromError(t){return Ks.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Ks.credential(i,a)}catch{return null}}}Ks.TWITTER_SIGN_IN_METHOD="twitter.com";Ks.PROVIDER_ID="twitter.com";async function CR(r,t){return V1(r,"POST","/v1/accounts:signUp",Oh(r,t))}class hr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ei._fromIdTokenResponse(t,a,l),d=m0(a);return new hr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=m0(a);return new hr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function m0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function NR(r){if(ti(r.app))return Promise.reject(ir(r));const t=Mh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new hr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await CR(t,{returnSecureToken:!0}),a=await hr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class lh extends ls{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new lh(t,i,a,l)}}function $1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,c,t,a):c})}async function IR(r,t,i=!1){const a=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return hr._forOperation(r,"link",a)}async function DR(r,t,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(ir(a));const l="reauthenticate";try{const c=await Bl(r,$1(a,l,t,r),i);vt(c.idToken,a,"internal-error");const d=pp(c.idToken);vt(d,a,"internal-error");const{sub:g}=d;return vt(r.uid===g,a,"user-mismatch"),hr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(a,"user-mismatch"),c}}async function OR(r,t,i=!1){if(ti(r.app))return Promise.reject(ir(r));const a="signIn",l=await $1(r,a,t),c=await hr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function MR(r,t,i,a){return Ke(r).onIdTokenChanged(t,i,a)}function VR(r,t,i){return Ke(r).beforeAuthStateChanged(t,i)}const uh="__sak";class J1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const kR=1e3,UR=10;class Z1 extends J1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=G1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);fR()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,UR):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},kR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Z1.type="LOCAL";const LR=Z1;class W1 extends J1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}W1.type="SESSION";const tT=W1;function jR(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Vh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await jR(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function _p(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class PR{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=_p("",20);l.port1.start();const b=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const M=S;if(M.data.eventId===y)switch(M.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(M.data.response);break;default:clearTimeout(b),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function zR(r){Di().location.href=r}function eT(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function BR(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function qR(){return navigator?.serviceWorker?.controller||null}function HR(){return eT()?self:null}const nT="firebaseLocalStorageDb",FR=1,ch="firebaseLocalStorage",iT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function GR(){const r=indexedDB.deleteDatabase(nT);return new Zl(r).toPromise()}function Rm(){const r=indexedDB.open(nT,FR);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ch,{keyPath:iT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ch)?t(a):(a.close(),await GR(),t(await Rm()))})})}async function p0(r,t,i){const a=kh(r,!0).put({[iT]:t,value:i});return new Zl(a).toPromise()}async function QR(r,t){const i=kh(r,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function g0(r,t){const i=kh(r,!0).delete(t);return new Zl(i).toPromise()}const YR=800,KR=3;class sT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Rm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>KR)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return eT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(HR()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await BR(),!this.activeServiceWorker)return;this.sender=new PR(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||qR()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Rm();return await p0(t,uh,"1"),await g0(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>p0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>QR(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>g0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=kh(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YR)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}sT.type="LOCAL";const XR=sT;new $l(3e4,6e4);function $R(r,t){return t?es(t):(vt(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class vp extends K1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function JR(r){return OR(r.auth,new vp(r),r.bypassAuthState)}function ZR(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),DR(i,new vp(r),r.bypassAuthState)}async function WR(r){const{auth:t,user:i}=r;return vt(i,t,"internal-error"),IR(i,new vp(r),r.bypassAuthState)}class rT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JR;case"linkViaPopup":case"linkViaRedirect":return WR;case"reauthViaPopup":case"reauthViaRedirect":return ZR;default:as(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const tC=new $l(2e3,1e4);class Ya extends rT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return vt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=_p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,tC.get())};t()}}Ya.currentPopupAction=null;const eC="pendingRedirect",Hc=new Map;class nC extends rT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const a=await iC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function iC(r,t){const i=aC(t),a=rC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function sC(r,t){Hc.set(r._key(),t)}function rC(r){return es(r._redirectPersistence)}function aC(r){return qc(eC,r.config.apiKey,r.name)}async function oC(r,t,i=!1){if(ti(r.app))return Promise.reject(ir(r));const a=Mh(r),l=$R(a,t),d=await new nC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const lC=600*1e3;class uC{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!cC(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!aT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=lC&&this.cachedEventUids.clear(),this.cachedEventUids.has(y0(t))}saveEventToCache(t){this.cachedEventUids.add(y0(t)),this.lastProcessedEventTime=Date.now()}}function y0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function aT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function cC(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return aT(r);default:return!1}}async function hC(r,t={}){return yo(r,"GET","/v1/projects",t)}const fC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,dC=/^https?/;async function mC(r){if(r.config.emulator)return;const{authorizedDomains:t}=await hC(r);for(const i of t)try{if(pC(i))return}catch{}as(r,"unauthorized-domain")}function pC(r){const t=wm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!dC.test(i))return!1;if(fC.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const gC=new $l(3e4,6e4);function _0(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function yC(r){return new Promise((t,i)=>{function a(){_0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{_0(),i(Ii(r,"network-request-failed"))},timeout:gC.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const l=TR("iframefcb");return Di()[l]=()=>{gapi.load?a():i(Ii(r,"network-request-failed"))},vR(`${ER()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function _C(r){return Fc=Fc||yC(r),Fc}const vC=new $l(5e3,15e3),EC="__/auth/iframe",TC="emulator/auth/iframe",AC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function SC(r){const t=r.config;vt(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?mp(t,TC):`https://${r.config.authDomain}/${EC}`,a={apiKey:t.apiKey,appName:r.name,v:uo},l=bC.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function wC(r){const t=await _C(r),i=Di().gapi;return vt(i,r,"internal-error"),t.open({where:document.body,url:SC(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AC,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),g=Di().setTimeout(()=>{c(d)},vC.get());function _(){Di().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const xC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RC=500,CC=600,NC="_blank",IC="http://localhost";class v0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function DC(r,t,i,a=RC,l=CC){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...xC,width:a.toString(),height:l.toString(),top:c,left:d},y=tn().toLowerCase();i&&(g=z1(y)?NC:i),j1(y)&&(t=t||IC,_.scrollbars="yes");const b=Object.entries(_).reduce((M,[F,W])=>`${M}${F}=${W},`,"");if(hR(y)&&g!=="_self")return OC(t||"",g),new v0(null);const S=window.open(t||"",g,b);vt(S,r,"popup-blocked");try{S.focus()}catch{}return new v0(S)}function OC(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const MC="__/auth/handler",VC="emulator/auth/handler",kC=encodeURIComponent("fac");async function E0(r,t,i,a,l,c){vt(r.config.authDomain,r,"auth-domain-config-required"),vt(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:uo,eventId:l};if(t instanceof X1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",xb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,S]of Object.entries({}))d[b]=S}if(t instanceof Jl){const b=t.getScopes().filter(S=>S!=="");b.length>0&&(d.scopes=b.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const _=await r._getAppCheckToken(),y=_?`#${kC}=${encodeURIComponent(_)}`:"";return`${UC(r)}?${Hl(g).slice(1)}${y}`}function UC({config:r}){return r.emulator?mp(r,VC):`https://${r.authDomain}/${MC}`}const em="webStorageSupport";class LC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=tT,this._completeRedirectFn=oC,this._overrideRedirectResult=sC}async _openPopup(t,i,a,l){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await E0(t,i,a,wm(),l);return DC(t,c,_p())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await E0(t,i,a,wm(),l);return zR(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(os(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await wC(t),a=new uC(t);return i.register("authEvent",l=>(vt(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(em,{type:em},l=>{const c=l?.[0]?.[em];c!==void 0&&i(!!c),as(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=mC(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return G1()||P1()||gp()}}const jC=LC;var T0="@firebase/auth",A0="1.12.0";class PC{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function zC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function BC(r){Wa(new Kr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;vt(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Q1(r)},y=new yR(a,l,c,_);return bR(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Wa(new Kr("auth-internal",t=>{const i=Mh(t.getProvider("auth").getImmediate());return(a=>new PC(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ws(T0,A0,zC(r)),Ws(T0,A0,"esm2020")}const qC=300,HC=j0("authIdTokenMaxAge")||qC;let b0=null;const FC=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>HC)return;const l=i?.token;b0!==l&&(b0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function GC(r=F0()){const t=Vm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=AR(r,{popupRedirectResolver:jC,persistence:[XR,LR,tT]}),a=j0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=FC(c.toString());VR(i,d,()=>d(i.currentUser)),MR(i,g=>d(g))}}const l=U0("auth");return l&&SR(i,`http://${l}`),i}function QC(){return document.getElementsByTagName("head")?.[0]??document}_R({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",QC().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});BC("Browser");const YC=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),KC=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),S0=r=>{const t=KC(r);return t.charAt(0).toUpperCase()+t.slice(1)},oT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),XC=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var $C={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JC=qt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>qt.createElement("svg",{ref:_,...$C,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:oT("lucide",l),...!c&&!XC(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,b])=>qt.createElement(y,b)),...Array.isArray(c)?c:[c]]));const ee=(r,t)=>{const i=qt.forwardRef(({className:a,...l},c)=>qt.createElement(JC,{ref:c,iconNode:t,className:oT(`lucide-${YC(S0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=S0(r),i};const ZC=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],WC=ee("activity",ZC);const tN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],eN=ee("book-open",tN);const nN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Cm=ee("calendar",nN);const iN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],lT=ee("check",iN);const sN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],rN=ee("circle-check-big",sN);const aN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oN=ee("circle-x",aN);const lN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],uT=ee("clipboard-list",lN);const uN=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],cN=ee("clock",uN);const hN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],w0=ee("dollar-sign",hN);const fN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],dN=ee("eye-off",fN);const mN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pN=ee("eye",mN);const gN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],yN=ee("heart",gN);const _N=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],vN=ee("info",_N);const EN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],x0=ee("key",EN);const TN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],R0=ee("loader-circle",TN);const AN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bN=ee("log-out",AN);const SN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],wN=ee("party-popper",SN);const xN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],RN=ee("shield-check",xN);const CN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Nm=ee("stethoscope",CN);const NN=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],IN=ee("toggle-left",NN);const DN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ON=ee("toggle-right",DN);const MN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],C0=ee("trash-2",MN);const VN=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],kN=ee("trending-up",VN);const UN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],cT=ee("trophy",UN);const LN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],N0=ee("user-check",LN);const jN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],I0=ee("user-x",jN);const PN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Im=ee("users",PN);const zN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],D0=ee("x",zN),BN={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},hT=H0(BN),Wi=kx(hT),qN=GC(hT),HN="balletfitbyjen-6b36a",FN="JENNY2024",Yr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],O0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Vc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],Sn=({children:r,className:t=""})=>T.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),Fs=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return T.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${l}`,disabled:a,children:r})},fT=(r,t)=>{const i=new Date,a=new Date,[l,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const _=i.getHours()*60+i.getMinutes(),y=l*60+c;_>y&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(l,c,0,0),(a-i)/(1e3*60*60)},GN=r=>{const t=new Date(r.valueOf()),i=(r.getDay()+6)%7;t.setDate(t.getDate()-i+3);const a=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((a-t)/6048e5)},dT=(r,t)=>{const i=new Date,a=i.getDay(),[l,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),g=l*60+c;return a>r||a===r&&d>=g},mT=(r=null)=>{let t=Yr;return r&&(t=Yr.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:fT(a.dayIdx,a.time)})).sort((a,l)=>a.diff-l.diff)[0]},Ep=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function QN(){const[r,t]=qt.useState("login"),[i,a]=qt.useState(null),[l,c]=qt.useState([]),[d,g]=qt.useState([]),[_,y]=qt.useState({}),[b,S]=qt.useState(null),[M,F]=qt.useState(!0),[W,tt]=qt.useState(null),[J,ut]=qt.useState(""),rt=(R,w="success")=>{S({msg:R,type:w}),setTimeout(()=>S(null),4e3)};qt.useEffect(()=>{ut(Vc[Math.floor(Math.random()*Vc.length)]),(async()=>{try{await NR(qN)}catch(I){console.error("Error Auth:",I)}const w=Zd(Jd(Wi,"alumnas"),I=>{const k=I.docs.map(x=>({id:x.id,...x.data()}));c(k),F(!1)},I=>rt("Error al cargar alumnas","error")),C=Zd(Jd(Wi,"maestros"),I=>{const k=I.docs.map(x=>({id:x.id,...x.data()}));g(k)}),D=Zd(Jd(Wi,"sesiones"),I=>{const k={};I.docs.forEach(x=>k[x.id]=x.data()),y(k)});return()=>{w(),C(),D()}})()},[]),qt.useEffect(()=>{if(i&&i.role==="student"){const R=l.find(w=>w.id===i.id);R&&a(w=>({...w,...R}))}},[l]);const dt=(R,w)=>{const C=R.trim().toUpperCase(),D=w.trim();if(tt(null),C==="ADMIN-JEN"||C==="JENNY")if(D===FN){a({firstName:"JENNY",role:"admin"}),t("admin"),rt("Acceso Admin concedido");return}else{tt("Contrasea de Admin incorrecta.");return}const I=d.find(x=>x.id.toUpperCase()===C);if(I)if(I.password===D){if(I.status==="inactive"){tt("Cuenta de maestra inactiva.");return}a({...I,firstName:I.name.split(" ")[0],role:"teacher"}),t("teacher"),rt("Acceso Maestra concedido");return}else{tt("Contrasea de maestra incorrecta.");return}const k=l.find(x=>x.id.toUpperCase()===C);if(k){if(k.password&&k.password!==D){tt("Contrasea incorrecta.");return}if(k.status==="inactive"){tt("Cuenta inactiva. Contacta a Jenny.");return}a({...k,firstName:k.name.split(" ")[0],role:"student"}),ut(Vc[Math.floor(Math.random()*Vc.length)]),t("student")}else tt("ID no encontrado o datos incorrectos.")},kt=async R=>{const w=Yr.find(D=>D.id===R),C=_[R];if(dT(w.dayIdx,w.time)){rt("Esta clase ya ocurri.","error");return}if(C?.isClosed){rt("Clase cerrada.","error");return}if(i.credits<=0){rt("Sin crditos.","error");return}try{const D=Me(Wi,"alumnas",i.id),I=Me(Wi,"sesiones",R);await Pn(D,{credits:$s(-1),history:Qx(R)}),await Cl(I,{booked:$s(1)},{merge:!0}),rt("Clase reservada!")}catch{rt("Error al reservar","error")}},Pt=async R=>{const w=Yr.find(I=>I.id===R),D=fT(w.dayIdx,w.time)<6;if(!(D&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const I=Me(Wi,"alumnas",i.id),k=Me(Wi,"sesiones",R);D?await Pn(I,{history:sh(R)}):await Pn(I,{credits:$s(1),history:sh(R)}),await Pn(k,{booked:$s(-1)}),rt(D?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{rt("Error al cancelar","error")}},wt=()=>{a(null),t("login"),tt(null)};return M?T.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):T.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[b&&T.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${b.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[b.type==="error"?T.jsx(oN,{size:18}):T.jsx(rN,{size:18}),T.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:b.msg})]}),r==="login"&&T.jsx(YN,{onLogin:dt,error:W}),r==="student"&&T.jsx(KN,{user:i,quote:J,sessions:Yr,sessionsData:_,onBook:kt,onCancel:Pt,onLogout:wt}),r==="admin"&&T.jsx(XN,{students:l,teachers:d,sessionsData:_,db:Wi,onLogout:wt,showNotification:rt}),r==="teacher"&&T.jsx($N,{user:i,students:l,sessionsData:_,db:Wi,onLogout:wt,showNotification:rt})]})}const YN=({onLogin:r,error:t})=>{const[i,a]=qt.useState(""),[l,c]=qt.useState(""),[d,g]=qt.useState(!1);return T.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[T.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),T.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:T.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[T.jsxs("div",{className:"text-center mb-10",children:[T.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),T.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Acceso Seguro"})]}),T.jsxs("form",{onSubmit:_=>{_.preventDefault(),r(i,l)},className:"space-y-6",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),T.jsx("input",{type:"text",required:!0,placeholder:"JENNY / BF-001",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:_=>a(_.target.value)})]}),T.jsxs("div",{className:"space-y-1 relative",children:[T.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),T.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:l,onChange:_=>c(_.target.value)}),T.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?T.jsx(dN,{size:18}):T.jsx(pN,{size:18})})]}),t&&T.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),T.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"})]})]})})]})},KN=({user:r,quote:t,sessions:i,sessionsData:a,onBook:l,onCancel:c,onLogout:d})=>{const g=r.history||[],_=i.filter(S=>g.includes(S.id)),y=_.length>0?_[0]:null,b=Ep();return T.jsxs("div",{className:"pb-20",children:[T.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:T.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[T.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),T.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[T.jsx("span",{children:"Salir"}),T.jsx(bN,{size:16})]})]})}),T.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),T.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[T.jsx(yN,{size:16,fill:"#369EAD"})," ",t]})]}),T.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[T.jsxs(Sn,{className:"md:col-span-2 flex flex-col justify-between",children:[T.jsxs("div",{className:"flex justify-between items-start mb-6",children:[T.jsx("div",{children:T.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",b]})}),T.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:T.jsx(WC,{size:24})})]}),T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases del Mes"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),T.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",r.maxCredits]})]})]}),T.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[T.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),T.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[T.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),T.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),T.jsxs(Sn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[T.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:T.jsx(Cm,{size:120})}),T.jsx(Cm,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),T.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),y?T.jsxs("div",{className:"animate-in fade-in duration-500",children:[T.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:y.day}),T.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:y.time}),T.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",y.teacher]})]}):T.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),T.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),T.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(S=>{const M=g.includes(S.id),F=a[S.id]||{booked:0,isClosed:!1},W=(F.booked||0)>=S.spots,tt=F.isClosed,J=dT(S.dayIdx,S.time),ut=r.credits>0&&!M&&!W&&!tt&&!J;return T.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${M?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":tt||J?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[T.jsxs("div",{className:"mb-6",children:[T.jsxs("div",{className:"flex justify-between items-start font-sans",children:[T.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:S.day}),tt?T.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):J?T.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),T.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:S.time}),T.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:S.teacher})]}),T.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[T.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[T.jsx(Im,{size:12})," ",F.booked||0,"/",S.spots]}),M?T.jsx("button",{onClick:()=>c(S.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):T.jsx(Fs,{onClick:()=>l(S.id),disabled:!ut,className:"!px-4 !py-2 !text-[9px]",children:tt?"Cerrado":J?"Pasada":W?"Lleno":"Reservar"})]})]},S.id)})})]})]})},XN=({students:r,teachers:t,sessionsData:i,db:a,onLogout:l,showNotification:c})=>{const[d,g]=qt.useState(!1),[_,y]=qt.useState(!1),[b,S]=qt.useState(null),[M,F]=qt.useState(null),[W,tt]=qt.useState(""),[J,ut]=qt.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:""}),[rt,dt]=qt.useState({id:"",name:"",password:"",role:"teacher"}),[kt,Pt]=qt.useState(!1),[wt,R]=qt.useState(null),[w,C]=qt.useState(0),D=Ep(),I=r.filter(U=>U.status!=="inactive"),k=U=>{const et=U.map(Ut=>Ut.id).filter(Ut=>Ut.startsWith("BF-")).map(Ut=>parseInt(Ut.split("-")[1])).filter(Ut=>!isNaN(Ut)),_t=(et.length>0?Math.max(...et):0)+1;return`BF-${String(_t).padStart(3,"0")}`};qt.useEffect(()=>{if(d){const U=k(r);ut(et=>({...et,id:U}))}},[d,r]),qt.useEffect(()=>{const U=async()=>{const et=Me(a,"artifacts",HN,"public","metadata","settings"),ht=GN(new Date);try{const _t=await r0(et);let Ut=0;if(_t.exists()&&(Ut=_t.data().lastResetWeek||0),ht!==Ut&&r.length>0){const ne=Yx(a);I.forEach(ni=>{const us=Me(a,"alumnas",ni.id);ne.update(us,{credits:ni.maxCredits,history:[]})}),await Cl(et,{lastResetWeek:ht},{merge:!0}),await ne.commit(),c("Crditos reiniciados para la nueva semana!","success")}}catch(_t){console.error("Error in auto-reset:",_t)}};r.length>0&&U()},[r.length]);const x=mT(),$t=r.filter(U=>U.history?.includes(x.id)&&U.status!=="inactive"),de=r.reduce((U,et)=>U+(et.monthlyPayment||0),0),G=async(U,et)=>{await Cl(Me(a,"sesiones",U),{isClosed:!et},{merge:!0}),c("Estado actualizado")},it=async(U,et)=>{if(window.confirm("Confirmar asistencia? Esto sumar la clase al historial de la alumna."))try{const ht=Me(a,"alumnas",U),_t=Me(a,"sesiones",et);await Pn(ht,{totalAttendance:$s(1),history:sh(et)}),await Pn(_t,{booked:$s(-1)}),c("Asistencia confirmada")}catch(ht){console.error(ht)}},ft=async(U,et,ht)=>{const _t=ht==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus de este registro?"))try{await Pn(Me(a,U,et),{status:_t}),c("Estatus actualizado")}catch(Ut){console.error(Ut)}},Nt=async(U,et)=>{if(W.trim())try{await Pn(Me(a,U,et),{password:W.trim()}),c("Contrasea actualizada"),S(null),F(null),tt("")}catch(ht){console.error(ht)}},Ht=async U=>{U.preventDefault();const et=J.id.trim().toUpperCase();if(!et||!J.name||!J.password){c("Completa todos los campos obligatorios","error");return}Pt(!0);try{const ht=Me(a,"alumnas",et),_t=await r0(ht);if(_t.exists()){c(`ID ya usado por ${_t.data().name}`,"error"),Pt(!1);return}const Ut=parseInt(J.plan.split(" ")[0])||2;await Cl(ht,{id:et,name:J.name.trim().toUpperCase(),password:J.password,plan:J.plan,maxCredits:Ut,credits:Ut,history:[],monthlyPayment:0,totalAttendance:0,notes:J.notes.trim(),status:"active",registrationDate:new Date().toISOString()}),c("Alumna registrada correctamente"),g(!1),ut({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(ht){console.error(ht)}Pt(!1)},V=async U=>{U.preventDefault();const et=rt.id.trim().toUpperCase();if(!et||!rt.name||!rt.password){c("Completa todos los campos","error");return}Pt(!0);try{await Cl(Me(a,"maestros",et),{...rt,id:et,name:rt.name.trim().toUpperCase(),status:"active"}),c("Maestro registrado"),y(!1),dt({id:"",name:"",password:"",role:"teacher"})}catch(ht){console.error(ht)}Pt(!1)},K=async()=>{if(wt)try{await Pn(Me(a,"alumnas",wt),{monthlyPayment:parseFloat(w)}),c("Pago registrado"),R(null),C(0)}catch(U){console.error(U)}},st=async(U,et)=>{window.confirm("Reiniciar semana manual? Se limpiarn los crditos.")&&await Pn(Me(a,"alumnas",U),{credits:et,history:[]})};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),T.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:D})]}),T.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Sn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(uT,{size:20})," Roster: Prxima Clase"]}),T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[x.day," ",x.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:$t.length>0?$t.map(U=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsxs("div",{className:"flex justify-between items-start",children:[T.jsx("span",{className:"font-serif italic font-bold text-sm",children:U.name}),T.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:U.id})]}),U.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Nm,{size:12,className:"mt-1 flex-shrink-0"}),T.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:U.notes})]})]}),T.jsx("button",{onClick:()=>it(U.id,x.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",title:"Pasar Asistencia",children:T.jsx(lT,{size:18})})]},U.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas todava"})}),T.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10 flex justify-between items-center font-sans",children:[T.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Pendientes por llegar"}),T.jsx("span",{className:"font-bold text-[#C5A059]",children:$t.length})]})]}),T.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[T.jsxs(Sn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] transition-transform group-hover:rotate-6",children:T.jsx(w0,{size:28})}),T.jsxs("div",{children:[T.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",D]}),T.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",de.toLocaleString()]})]})]}),T.jsxs(Sn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[T.jsx(wN,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),T.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),T.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 leading-relaxed px-4",children:"Cada alumna nueva es un paso ms hacia tu sueo"}),T.jsx("div",{className:"absolute -bottom-4 -right-4 opacity-5 transform rotate-12",children:T.jsx(kN,{size:120})})]}),T.jsxs(Sn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm transition-transform group-hover:scale-110",children:T.jsx(cT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),T.jsxs("p",{className:"text-3xl font-bold",children:[r.reduce((U,et)=>U+(et.totalAttendance||0),0)," clases dadas"]})]})]}),T.jsxs(Sn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 md:col-span-2",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:T.jsx(Im,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),T.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[I.length," Alumnas pagando"]})]})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[T.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[T.jsxs(Sn,{className:"bg-white border-[#C5A059]",children:[T.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(vN,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),T.jsx("div",{className:"space-y-3 font-sans",children:O0.map((U,et)=>T.jsxs("div",{className:"flex justify-between items-center text-[11px] border-b border-gray-50 pb-2",children:[T.jsx("span",{className:"text-gray-400 uppercase font-bold",children:U.plan}),T.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",U.price]})]},et))})]}),T.jsxs(Sn,{className:"bg-white border-[#369EAD]",children:[T.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),T.jsx("div",{className:"space-y-4 font-sans",children:Yr.map(U=>{const et=i[U.id]?.isClosed||!1;return T.jsxs("div",{className:"flex justify-between items-center text-xs",children:[T.jsx("span",{className:"font-bold opacity-60 uppercase tracking-tighter",children:U.day}),T.jsx("button",{onClick:()=>G(U.id,et),children:et?T.jsx(IN,{size:30,className:"text-red-300"}):T.jsx(ON,{size:30,className:"text-[#369EAD]"})})]},U.id)})})]})]}),T.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[T.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[T.jsx(RN,{size:20,className:"text-[#369EAD]"})," Control de Maestros (Staff)"]}),T.jsx(Fs,{onClick:()=>y(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-4",children:"Nombre / Rol"}),T.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),T.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(U=>T.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${U.status==="inactive"?"opacity-40":""}`,children:[T.jsx("td",{className:"px-6 py-4",children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("div",{className:`w-2 h-2 rounded-full ${U.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold font-serif italic",children:U.name}),T.jsxs("div",{className:"text-[9px] uppercase font-black text-gray-400",children:[U.id,"  ",U.role]})]})]})}),T.jsx("td",{className:"px-6 py-4 text-center font-sans font-bold text-[#C5A059]",children:U.password}),T.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>F(U.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:T.jsx(x0,{size:16})}),T.jsx("button",{onClick:()=>ft("maestros",U.id,U.status),className:`p-2 rounded-full ${U.status==="inactive"?"text-green-500":"text-red-400"}`,children:U.status==="inactive"?T.jsx(N0,{size:16}):T.jsx(I0,{size:16})}),T.jsx("button",{onClick:()=>{window.confirm(`Borrar a ${U.name}?`)&&a0(Me(a,"maestros",U.id))},className:"p-2 text-red-100 hover:text-red-500",children:T.jsx(C0,{size:16})})]})]},U.id))})]})})]}),T.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[T.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[T.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control de Alumnas e Historial"}),T.jsxs("div",{className:"flex gap-2",children:[T.jsxs("span",{className:"text-[9px] font-sans font-bold uppercase flex items-center gap-1 opacity-50",children:[T.jsx(Im,{size:12})," Total Registros: ",r.length]}),T.jsx(Fs,{onClick:()=>g(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]})]}),T.jsx("div",{className:"overflow-x-auto",children:T.jsxs("table",{className:"w-full text-left",children:[T.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 tracking-widest font-black font-sans",children:T.jsxs("tr",{children:[T.jsx("th",{className:"px-6 py-5",children:"Identificacin / Nombre"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),T.jsx("th",{className:"px-6 py-5 text-center",children:"Histrico"}),T.jsxs("th",{className:"px-6 py-5 text-center",children:["Pago ",D]}),T.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),T.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(U=>{const et=U.status==="inactive";return T.jsxs("tr",{className:`hover:bg-gray-50 transition-all text-sm group ${et?"opacity-40 grayscale-[0.5]":""}`,children:[T.jsx("td",{className:"px-6 py-5",children:T.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[T.jsx("span",{className:"text-[10px] font-sans font-black text-[#369EAD] bg-[#EBF5F6] px-2 py-0.5 rounded-sm border border-[#369EAD]/10 w-fit",children:U.id}),T.jsxs("div",{children:[T.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E]",children:U.name}),T.jsxs("div",{className:"text-[9px] text-gray-400 font-sans mt-1",children:["Clave actual: ",T.jsx("span",{className:"font-bold text-[#C5A059]",children:U.password||"---"})]}),et?T.jsx("span",{className:"text-[8px] uppercase font-bold text-red-400 bg-red-50 px-1 rounded-sm",children:"Baja / Inactiva"}):U.notes&&T.jsxs("div",{className:"text-[10px] text-red-400 italic font-sans flex items-center gap-1 mt-1",children:[T.jsx(Nm,{size:10})," ",U.notes]})]})]})}),T.jsxs("td",{className:"px-6 py-5 text-center font-sans",children:[T.jsx("span",{className:`font-bold ${U.credits===0?"text-red-400":"text-[#369EAD]"}`,children:U.credits}),T.jsxs("span",{className:"text-gray-300 text-xs italic",children:[" / ",U.maxCredits]})]}),T.jsx("td",{className:"px-6 py-5 text-center font-sans",children:T.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold shadow-sm",children:U.totalAttendance||0})}),T.jsx("td",{className:"px-6 py-5 text-center",children:T.jsxs("button",{onClick:()=>{R(U.id),C(U.monthlyPayment||0)},className:`font-bold font-sans px-3 py-1 rounded text-xs transition-colors ${U.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",U.monthlyPayment||0]})}),T.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[T.jsx("button",{onClick:()=>S(U.id),className:"p-2 text-gray-300 hover:text-[#C5A059] transition-all",title:"Gestionar Clave",children:T.jsx(x0,{size:16})}),T.jsx("button",{onClick:()=>ft("alumnas",U.id,U.status),className:`p-2 rounded-full transition-all ${et?"text-green-500 hover:bg-green-50":"text-gray-300 hover:text-red-400 hover:bg-red-50"}`,title:et?"Dar de Alta":"Dar de Baja",children:et?T.jsx(N0,{size:16}):T.jsx(I0,{size:16})}),T.jsx("button",{onClick:()=>st(U.id,U.maxCredits),className:"p-2 text-[#C5A059] hover:bg-amber-50 rounded-full transition-transform hover:scale-110",children:T.jsx(cN,{size:16})}),T.jsx("button",{onClick:()=>{window.confirm(`Borrar permanentemente a ${U.name}? Se perder todo su historial.`)&&a0(Me(a,"alumnas",U.id))},className:"p-2 text-red-100 hover:text-red-500 transition-all",children:T.jsx(C0,{size:16})})]})]},U.id)})})]})})]})]})]})]}),b&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] animate-in zoom-in font-sans text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Alumna"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold mb-6",children:b}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold font-sans",placeholder:"Nueva clave",value:W,onChange:U=>tt(U.target.value)}),T.jsx(Fs,{onClick:()=>Nt("alumnas",b),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{S(null),tt("")},className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400",children:"Cancelar"})]})]})}),M&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] animate-in zoom-in font-sans text-center",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Clave Staff"}),T.jsx("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold mb-6",children:M}),T.jsxs("div",{className:"space-y-4",children:[T.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold font-sans",placeholder:"Nueva clave",value:W,onChange:U=>tt(U.target.value)}),T.jsx(Fs,{onClick:()=>Nt("maestros",M),className:"w-full !py-4 font-bold",children:"Actualizar"}),T.jsx("button",{onClick:()=>{F(null),tt("")},className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400",children:"Cancelar"})]})]})}),d&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD] animate-in zoom-in font-sans",children:[T.jsx("button",{onClick:()=>g(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(D0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),T.jsxs("form",{onSubmit:Ht,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 ml-1",children:"ID (Sugerido)"}),T.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none uppercase text-sm font-bold text-[#369EAD]",value:J.id,onChange:U=>ut({...J,id:U.target.value})})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 ml-1",children:"Contrasea Inicial"}),T.jsx("input",{type:"text",required:!0,placeholder:"Ej. 1234",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-sm font-bold",value:J.password,onChange:U=>ut({...J,password:U.target.value})})]})]}),T.jsxs("div",{className:"space-y-1",children:[T.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 ml-1",children:"Nombre Completo"}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none uppercase text-sm font-serif italic font-bold",value:J.name,onChange:U=>ut({...J,name:U.target.value})})]}),T.jsx("select",{className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-sm",value:J.plan,onChange:U=>ut({...J,plan:U.target.value}),children:O0.slice(0,4).map((U,et)=>T.jsx("option",{value:U.plan,children:U.plan},et))}),T.jsx("textarea",{placeholder:"NOTAS MDICAS O LESIONES (OPCIONAL)",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-xs h-24 italic",value:J.notes,onChange:U=>ut({...J,notes:U.target.value})}),T.jsx(Fs,{disabled:kt,className:"w-full !py-4 font-bold",children:kt?T.jsx(R0,{className:"animate-spin"}):"Guardar Registro"})]})]})}),_&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD] font-sans",children:[T.jsx("button",{onClick:()=>y(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:T.jsx(D0,{size:28})}),T.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nuevo Maestro / Staff"}),T.jsxs("form",{onSubmit:V,className:"space-y-6",children:[T.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[T.jsx("input",{type:"text",required:!0,placeholder:"ID (Ej. LUCY)",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:rt.id,onChange:U=>dt({...rt,id:U.target.value})}),T.jsx("input",{type:"text",required:!0,placeholder:"CONTRASEA",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:rt.password,onChange:U=>dt({...rt,password:U.target.value})})]}),T.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b border-gray-100 focus:border-[#369EAD]",value:rt.name,onChange:U=>dt({...rt,name:U.target.value})}),T.jsxs("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b border-gray-100 focus:border-[#369EAD]",value:rt.role,onChange:U=>dt({...rt,role:U.target.value}),children:[T.jsx("option",{value:"teacher",children:"Maestra"}),T.jsx("option",{value:"admin",children:"Administrador Secundario"})]}),T.jsx(Fs,{disabled:kt,className:"w-full !py-4 font-bold",children:kt?T.jsx(R0,{className:"animate-spin"}):"Guardar Registro"})]})]})}),wt&&T.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:T.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] animate-in zoom-in font-sans",children:[T.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),T.jsxs("div",{className:"space-y-4 text-center",children:[T.jsxs("div",{className:"relative",children:[T.jsx(w0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),T.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50 border-b border-gray-200 outline-none text-xl font-bold font-sans",value:w,onChange:U=>C(U.target.value)})]}),T.jsx(Fs,{onClick:K,className:"w-full !py-4 font-bold",children:"Confirmar"}),T.jsx("button",{onClick:()=>R(null),className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400",children:"Cancelar"})]})]})})]})},$N=({user:r,students:t,sessionsData:i,db:a,onLogout:l,showNotification:c})=>{Ep();const d=Yr.filter(b=>b.teacher.toUpperCase()===r.firstName.toUpperCase()),g=mT(r.firstName),_=t.filter(b=>b.history?.includes(g?.id)&&b.status!=="inactive"),y=async(b,S)=>{if(window.confirm("Confirmar asistencia de la alumna?"))try{const M=Me(a,"alumnas",b),F=Me(a,"sesiones",S);await Pn(M,{totalAttendance:$s(1),history:sh(S)}),await Pn(F,{booked:$s(-1)}),c("Asistencia marcada")}catch(M){console.error(M)}};return T.jsxs("div",{className:"pb-20",children:[T.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Portal Staff"}),T.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:r.firstName})]}),T.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),T.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[T.jsxs("div",{className:"mb-10 text-center md:text-left",children:[T.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),T.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Lista para tu prxima clase"})]}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[T.jsxs(Sn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:T.jsx(eN,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Disciplina"}),T.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),T.jsxs(Sn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[T.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:T.jsx(cT,{size:28})}),T.jsxs("div",{children:[T.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Impacto"}),T.jsx("p",{className:"text-3xl font-bold text-[#369EAD] font-sans",children:"Enseando este mes"})]})]})]}),T.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[T.jsxs(Sn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[T.jsxs("div",{className:"flex justify-between items-center mb-6",children:[T.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[T.jsx(uT,{size:20})," Asistencia: Prxima Clase"]}),g&&T.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[g.day," ",g.time]})]}),T.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:_.length>0?_.map(b=>T.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[T.jsxs("div",{className:"flex-1",children:[T.jsx("div",{className:"font-serif italic font-bold text-sm",children:b.name}),b.notes&&T.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[T.jsx(Nm,{size:12,className:"mt-1 flex-shrink-0"}),T.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:b.notes})]})]}),T.jsx("button",{onClick:()=>y(b.id,g.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:T.jsx(lT,{size:18})})]},b.id)):T.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay alumnas inscritas an"})})]}),T.jsx("div",{className:"lg:col-span-2 space-y-8",children:T.jsxs(Sn,{className:"bg-white",children:[T.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[T.jsx(Cm,{size:20,className:"text-[#369EAD]"})," Horario Asignado"]}),T.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(b=>T.jsxs("div",{className:"p-10 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[T.jsx("span",{className:"text-xs font-sans font-black uppercase text-gray-400 tracking-widest",children:b.day}),T.jsx("p",{className:"text-5xl font-sans font-bold text-[#1A3A3E] my-2",children:b.time}),T.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase tracking-[0.2em]",children:b.type})]},b.id))})]})})]})]})]})};tb.createRoot(document.getElementById("root")).render(T.jsx(qt.StrictMode,{children:T.jsx(QN,{})}));
