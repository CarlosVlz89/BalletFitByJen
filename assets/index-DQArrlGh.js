(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Ud={exports:{}},bl={};var z_;function BA(){if(z_)return bl;z_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return bl.Fragment=t,bl.jsx=i,bl.jsxs=i,bl}var B_;function qA(){return B_||(B_=1,Ud.exports=BA()),Ud.exports}var b=qA(),Ld={exports:{}},Et={};var q_;function HA(){if(q_)return Et;q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),O=Symbol.iterator;function q(M){return M===null||typeof M!="object"?null:(M=O&&M[O]||M["@@iterator"],typeof M=="function"?M:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,$={};function lt(M,V,J){this.props=M,this.context=V,this.refs=$,this.updater=J||W}lt.prototype.isReactComponent={},lt.prototype.setState=function(M,V){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,V,"setState")},lt.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function st(){}st.prototype=lt.prototype;function ct(M,V,J){this.props=M,this.context=V,this.refs=$,this.updater=J||W}var Ut=ct.prototype=new st;Ut.constructor=ct,tt(Ut,lt.prototype),Ut.isPureReactComponent=!0;var zt=Array.isArray;function wt(){}var I={H:null,A:null,T:null,S:null},S=Object.prototype.hasOwnProperty;function C(M,V,J){var et=J.ref;return{$$typeof:r,type:M,key:V,ref:et!==void 0?et:null,props:J}}function k(M,V){return C(M.type,V,M.props)}function N(M){return typeof M=="object"&&M!==null&&M.$$typeof===r}function U(M){var V={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(J){return V[J]})}var R=/\/+/g;function Rt(M,V){return typeof M=="object"&&M!==null&&M.key!=null?U(""+M.key):V.toString(36)}function Qt(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(wt,wt):(M.status="pending",M.then(function(V){M.status==="pending"&&(M.status="fulfilled",M.value=V)},function(V){M.status==="pending"&&(M.status="rejected",M.reason=V)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function G(M,V,J,et,ht){var mt=typeof M;(mt==="undefined"||mt==="boolean")&&(M=null);var Ct=!1;if(M===null)Ct=!0;else switch(mt){case"bigint":case"string":case"number":Ct=!0;break;case"object":switch(M.$$typeof){case r:case t:Ct=!0;break;case A:return Ct=M._init,G(Ct(M._payload),V,J,et,ht)}}if(Ct)return ht=ht(M),Ct=et===""?"."+Rt(M,0):et,zt(ht)?(J="",Ct!=null&&(J=Ct.replace(R,"$&/")+"/"),G(ht,V,J,"",function(hr){return hr})):ht!=null&&(N(ht)&&(ht=k(ht,J+(ht.key==null||M&&M.key===ht.key?"":(""+ht.key).replace(R,"$&/")+"/")+Ct)),V.push(ht)),1;Ct=0;var ce=et===""?".":et+":";if(zt(M))for(var ne=0;ne<M.length;ne++)et=M[ne],mt=ce+Rt(et,ne),Ct+=G(et,V,J,mt,ht);else if(ne=q(M),typeof ne=="function")for(M=ne.call(M),ne=0;!(et=M.next()).done;)et=et.value,mt=ce+Rt(et,ne++),Ct+=G(et,V,J,mt,ht);else if(mt==="object"){if(typeof M.then=="function")return G(Qt(M),V,J,et,ht);throw V=String(M),Error("Objects are not valid as a React child (found: "+(V==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":V)+"). If you meant to render a collection of children, use an array instead.")}return Ct}function it(M,V,J){if(M==null)return M;var et=[],ht=0;return G(M,et,"","",function(mt){return V.call(J,mt,ht++)}),et}function ft(M){if(M._status===-1){var V=M._result;V=V(),V.then(function(J){(M._status===0||M._status===-1)&&(M._status=1,M._result=J)},function(J){(M._status===0||M._status===-1)&&(M._status=2,M._result=J)}),M._status===-1&&(M._status=0,M._result=V)}if(M._status===1)return M._result.default;throw M._result}var Lt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var V=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(V))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},Ht={map:it,forEach:function(M,V,J){it(M,function(){V.apply(this,arguments)},J)},count:function(M){var V=0;return it(M,function(){V++}),V},toArray:function(M){return it(M,function(V){return V})||[]},only:function(M){if(!N(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Et.Activity=w,Et.Children=Ht,Et.Component=lt,Et.Fragment=i,Et.Profiler=l,Et.PureComponent=ct,Et.StrictMode=a,Et.Suspense=_,Et.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,Et.__COMPILER_RUNTIME={__proto__:null,c:function(M){return I.H.useMemoCache(M)}},Et.cache=function(M){return function(){return M.apply(null,arguments)}},Et.cacheSignal=function(){return null},Et.cloneElement=function(M,V,J){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var et=tt({},M.props),ht=M.key;if(V!=null)for(mt in V.key!==void 0&&(ht=""+V.key),V)!S.call(V,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&V.ref===void 0||(et[mt]=V[mt]);var mt=arguments.length-2;if(mt===1)et.children=J;else if(1<mt){for(var Ct=Array(mt),ce=0;ce<mt;ce++)Ct[ce]=arguments[ce+2];et.children=Ct}return C(M.type,ht,et)},Et.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:c,_context:M},M},Et.createElement=function(M,V,J){var et,ht={},mt=null;if(V!=null)for(et in V.key!==void 0&&(mt=""+V.key),V)S.call(V,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ht[et]=V[et]);var Ct=arguments.length-2;if(Ct===1)ht.children=J;else if(1<Ct){for(var ce=Array(Ct),ne=0;ne<Ct;ne++)ce[ne]=arguments[ne+2];ht.children=ce}if(M&&M.defaultProps)for(et in Ct=M.defaultProps,Ct)ht[et]===void 0&&(ht[et]=Ct[et]);return C(M,mt,ht)},Et.createRef=function(){return{current:null}},Et.forwardRef=function(M){return{$$typeof:g,render:M}},Et.isValidElement=N,Et.lazy=function(M){return{$$typeof:A,_payload:{_status:-1,_result:M},_init:ft}},Et.memo=function(M,V){return{$$typeof:y,type:M,compare:V===void 0?null:V}},Et.startTransition=function(M){var V=I.T,J={};I.T=J;try{var et=M(),ht=I.S;ht!==null&&ht(J,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(wt,Lt)}catch(mt){Lt(mt)}finally{V!==null&&J.types!==null&&(V.types=J.types),I.T=V}},Et.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},Et.use=function(M){return I.H.use(M)},Et.useActionState=function(M,V,J){return I.H.useActionState(M,V,J)},Et.useCallback=function(M,V){return I.H.useCallback(M,V)},Et.useContext=function(M){return I.H.useContext(M)},Et.useDebugValue=function(){},Et.useDeferredValue=function(M,V){return I.H.useDeferredValue(M,V)},Et.useEffect=function(M,V){return I.H.useEffect(M,V)},Et.useEffectEvent=function(M){return I.H.useEffectEvent(M)},Et.useId=function(){return I.H.useId()},Et.useImperativeHandle=function(M,V,J){return I.H.useImperativeHandle(M,V,J)},Et.useInsertionEffect=function(M,V){return I.H.useInsertionEffect(M,V)},Et.useLayoutEffect=function(M,V){return I.H.useLayoutEffect(M,V)},Et.useMemo=function(M,V){return I.H.useMemo(M,V)},Et.useOptimistic=function(M,V){return I.H.useOptimistic(M,V)},Et.useReducer=function(M,V,J){return I.H.useReducer(M,V,J)},Et.useRef=function(M){return I.H.useRef(M)},Et.useState=function(M){return I.H.useState(M)},Et.useSyncExternalStore=function(M,V,J){return I.H.useSyncExternalStore(M,V,J)},Et.useTransition=function(){return I.H.useTransition()},Et.version="19.2.3",Et}var H_;function Nm(){return H_||(H_=1,Ld.exports=HA()),Ld.exports}var Ot=Nm(),Pd={exports:{}},Sl={},jd={exports:{}},zd={};var F_;function FA(){return F_||(F_=1,(function(r){function t(G,it){var ft=G.length;G.push(it);t:for(;0<ft;){var Lt=ft-1>>>1,Ht=G[Lt];if(0<l(Ht,it))G[Lt]=it,G[ft]=Ht,ft=Lt;else break t}}function i(G){return G.length===0?null:G[0]}function a(G){if(G.length===0)return null;var it=G[0],ft=G.pop();if(ft!==it){G[0]=ft;t:for(var Lt=0,Ht=G.length,M=Ht>>>1;Lt<M;){var V=2*(Lt+1)-1,J=G[V],et=V+1,ht=G[et];if(0>l(J,ft))et<Ht&&0>l(ht,J)?(G[Lt]=ht,G[et]=ft,Lt=et):(G[Lt]=J,G[V]=ft,Lt=V);else if(et<Ht&&0>l(ht,ft))G[Lt]=ht,G[et]=ft,Lt=et;else break t}}return it}function l(G,it){var ft=G.sortIndex-it.sortIndex;return ft!==0?ft:G.id-it.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,w=null,O=3,q=!1,W=!1,tt=!1,$=!1,lt=typeof setTimeout=="function"?setTimeout:null,st=typeof clearTimeout=="function"?clearTimeout:null,ct=typeof setImmediate<"u"?setImmediate:null;function Ut(G){for(var it=i(y);it!==null;){if(it.callback===null)a(y);else if(it.startTime<=G)a(y),it.sortIndex=it.expirationTime,t(_,it);else break;it=i(y)}}function zt(G){if(tt=!1,Ut(G),!W)if(i(_)!==null)W=!0,wt||(wt=!0,U());else{var it=i(y);it!==null&&Qt(zt,it.startTime-G)}}var wt=!1,I=-1,S=5,C=-1;function k(){return $?!0:!(r.unstable_now()-C<S)}function N(){if($=!1,wt){var G=r.unstable_now();C=G;var it=!0;try{t:{W=!1,tt&&(tt=!1,st(I),I=-1),q=!0;var ft=O;try{e:{for(Ut(G),w=i(_);w!==null&&!(w.expirationTime>G&&k());){var Lt=w.callback;if(typeof Lt=="function"){w.callback=null,O=w.priorityLevel;var Ht=Lt(w.expirationTime<=G);if(G=r.unstable_now(),typeof Ht=="function"){w.callback=Ht,Ut(G),it=!0;break e}w===i(_)&&a(_),Ut(G)}else a(_);w=i(_)}if(w!==null)it=!0;else{var M=i(y);M!==null&&Qt(zt,M.startTime-G),it=!1}}break t}finally{w=null,O=ft,q=!1}it=void 0}}finally{it?U():wt=!1}}}var U;if(typeof ct=="function")U=function(){ct(N)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Rt=R.port2;R.port1.onmessage=N,U=function(){Rt.postMessage(null)}}else U=function(){lt(N,0)};function Qt(G,it){I=lt(function(){G(r.unstable_now())},it)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(G){G.callback=null},r.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<G?Math.floor(1e3/G):5},r.unstable_getCurrentPriorityLevel=function(){return O},r.unstable_next=function(G){switch(O){case 1:case 2:case 3:var it=3;break;default:it=O}var ft=O;O=it;try{return G()}finally{O=ft}},r.unstable_requestPaint=function(){$=!0},r.unstable_runWithPriority=function(G,it){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ft=O;O=G;try{return it()}finally{O=ft}},r.unstable_scheduleCallback=function(G,it,ft){var Lt=r.unstable_now();switch(typeof ft=="object"&&ft!==null?(ft=ft.delay,ft=typeof ft=="number"&&0<ft?Lt+ft:Lt):ft=Lt,G){case 1:var Ht=-1;break;case 2:Ht=250;break;case 5:Ht=1073741823;break;case 4:Ht=1e4;break;default:Ht=5e3}return Ht=ft+Ht,G={id:A++,callback:it,priorityLevel:G,startTime:ft,expirationTime:Ht,sortIndex:-1},ft>Lt?(G.sortIndex=ft,t(y,G),i(_)===null&&G===i(y)&&(tt?(st(I),I=-1):tt=!0,Qt(zt,ft-Lt))):(G.sortIndex=Ht,t(_,G),W||q||(W=!0,wt||(wt=!0,U()))),G},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(G){var it=O;return function(){var ft=O;O=it;try{return G.apply(this,arguments)}finally{O=ft}}}})(zd)),zd}var G_;function GA(){return G_||(G_=1,jd.exports=FA()),jd.exports}var Bd={exports:{}},$e={};var Q_;function QA(){if(Q_)return $e;Q_=1;var r=Nm();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:w==null?null:""+w,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},$e.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},$e.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},$e.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},$e.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin),O=typeof y.integrity=="string"?y.integrity:void 0,q=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:O,fetchPriority:q}):A==="script"&&a.d.X(_,{crossOrigin:w,integrity:O,fetchPriority:q,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},$e.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,w=g(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},$e.requestFormReset=function(_){a.d.r(_)},$e.unstable_batchedUpdates=function(_,y){return _(y)},$e.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Y_;function YA(){if(Y_)return Bd.exports;Y_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Bd.exports=QA(),Bd.exports}var K_;function KA(){if(K_)return Sl;K_=1;var r=GA(),t=Nm(),i=YA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var w=Object.assign,O=Symbol.for("react.element"),q=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),st=Symbol.for("react.consumer"),ct=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),zt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function U(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var R=Symbol.for("react.client.reference");function Rt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===R?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case lt:return"Profiler";case $:return"StrictMode";case zt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ct:return e.displayName||"Context";case st:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Rt(e.type)||"Memo";case S:n=e._payload,e=e._init;try{return Rt(e(n))}catch{}}return null}var Qt=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft={pending:!1,data:null,method:null,action:null},Lt=[],Ht=-1;function M(e){return{current:e}}function V(e){0>Ht||(e.current=Lt[Ht],Lt[Ht]=null,Ht--)}function J(e,n){Ht++,Lt[Ht]=e.current,e.current=n}var et=M(null),ht=M(null),mt=M(null),Ct=M(null);function ce(e,n){switch(J(mt,n),J(ht,e),J(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?u_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=u_(n),e=c_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V(et),J(et,e)}function ne(){V(et),V(ht),V(mt)}function hr(e){e.memoizedState!==null&&J(Ct,e);var n=et.current,s=c_(n,e.type);n!==s&&(J(ht,e),J(et,s))}function Wr(e){ht.current===e&&(V(et),V(ht)),Ct.current===e&&(V(Ct),vl._currentValue=ft)}var ta,ea;function ni(e){if(ta===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);ta=n&&n[1]||"",ea=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ta+e+ea}var vo=!1;function fr(e,n){if(!e||vo)return"";vo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(F){var B=F}Reflect.construct(e,[],K)}else{try{K.call()}catch(F){B=F}e.call(K.prototype)}}else{try{throw Error()}catch(F){B=F}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(F){if(F&&B&&typeof F.stack=="string")return[F.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var x=p.split(`
`),z=E.split(`
`);for(h=o=0;o<x.length&&!x[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===x.length||h===z.length)for(o=x.length-1,h=z.length-1;1<=o&&0<=h&&x[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(x[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||x[o]!==z[h]){var Q=`
`+x[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{vo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ni(s):""}function Eo(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return ni("Activity");default:return""}}function To(e){try{var n="",s=null;do n+=Eo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var Ee=Object.prototype.hasOwnProperty,Oe=r.unstable_scheduleCallback,ls=r.unstable_cancelCallback,Lh=r.unstable_shouldYield,Wl=r.unstable_requestPaint,en=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,Ao=r.unstable_ImmediatePriority,bo=r.unstable_UserBlockingPriority,us=r.unstable_NormalPriority,Ph=r.unstable_LowPriority,tu=r.unstable_IdlePriority,eu=r.log,nu=r.unstable_setDisableYieldValue,qn=null,ze=null;function Rn(e){if(typeof eu=="function"&&nu(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(qn,e)}catch{}}var me=Math.clz32?Math.clz32:su,iu=Math.log,na=Math.LN2;function su(e){return e>>>=0,e===0?32:31-(iu(e)/na|0)|0}var ii=256,mr=262144,Te=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(p&=E,p!==0?h=si(p):s||(s=E&~e,s!==0&&(h=si(s))))):(E=o&~f,E!==0?h=si(E):p!==0?h=si(p):s||(s=o&~e,s!==0&&(h=si(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function jh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ru(){var e=Te;return Te<<=1,(Te&62914560)===0&&(Te=4194304),e}function ai(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function zh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,x=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-me(s),K=1<<Q;E[Q]=0,x[Q]=-1;var B=z[Q];if(B!==null)for(z[Q]=null,Q=0;Q<B.length;Q++){var F=B[Q];F!==null&&(F.lane&=-536870913)}s&=~K}o!==0&&gr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function gr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-me(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function So(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-me(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function wo(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Vi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function au(){var e=it.p;return e!==0?e:(e=window.event,e===void 0?32:M_(e.type))}function Fn(e,n){var s=it.p;try{return it.p=e,n()}finally{it.p=s}}var Gn=Math.random().toString(36).slice(2),Ae="__reactFiber$"+Gn,Ue="__reactProps$"+Gn,oi="__reactContainer$"+Gn,ia="__reactEvents$"+Gn,Bh="__reactListeners$"+Gn,ou="__reactHandles$"+Gn,lu="__reactResources$"+Gn,li="__reactMarker$"+Gn;function sa(e){delete e[Ae],delete e[Ue],delete e[ia],delete e[Bh],delete e[ou]}function ui(e){var n=e[Ae];if(n)return n;for(var s=e.parentNode;s;){if(n=s[oi]||s[Ae]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=y_(e);e!==null;){if(s=e[Ae])return s;e=y_(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[Ae]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[lu];return n||(n=e[lu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function be(e){e[li]=!0}var Ro=new Set,Co={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(Co[e]=n,e=0;e<n.length;e++)Ro.add(n[e])}var xo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Io={},No={};function uu(e){return Ee.call(No,e)?!0:Ee.call(Io,e)?!1:xo.test(e)?No[e]=!0:(Io[e]=!0,!1)}function ra(e,n,s){if(uu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Se(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Le(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Do(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Kt(e){if(!e._valueTracker){var n=cs(e)?"checked":"value";e._valueTracker=Do(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=cs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function rn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function aa(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Le(n)):e.value!==""+Le(n)&&(e.value=""+Le(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Oo(e,p,Le(n)):s!=null?Oo(e,p,Le(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Le(E):e.removeAttribute("name")}function cu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Kt(e);return}s=s!=null?""+Le(s):"",n=n!=null?""+Le(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Kt(e)}function Oo(e,n,s){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function hs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Le(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function hu(e,n,s){if(n!=null&&(n=""+Le(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Le(s):""}function fs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(Qt(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Le(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Kt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var fu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||fu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Vo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Mo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Mo(e,f,n[f])}function oa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var du=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ds=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function la(e){return ds.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var ko=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ms=null,mi=null;function Er(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[Ue]||null;t:switch(e=n.stateNode,n.type){case"input":if(aa(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[Ue]||null;if(!h)throw Error(a(90));aa(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&_r(o)}break t;case"textarea":hu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&hs(e,!!s.multiple,n,!1)}}}var ua=!1;function ps(e,n,s){if(ua)return e(n,s);ua=!0;try{var o=e(n);return o}finally{if(ua=!1,(ms!==null||mi!==null)&&(ac(),ms&&(n=ms,e=mi,mi=ms=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[Ue]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(In)try{var Jt={};Object.defineProperty(Jt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Jt,Jt),window.removeEventListener("test",Jt,Jt)}catch{Tr=!1}var pi=null,Uo=null,Ar=null;function Lo(){if(Ar)return Ar;var e,n=Uo,s=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Ar=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function ki(){return!0}function Kn(){return!1}function Be(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ki:Kn,this.isPropagationStopped=Kn,this}return w(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=ki)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=ki)},persist:function(){},isPersistent:ki}),n}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=Be(Ui),gs=w({},Ui,{view:0,detail:0}),Po=Be(gs),ys,ca,yi,ha=w({},gs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_s,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(ys=e.screenX-yi.screenX,ca=e.screenY-yi.screenY):ca=ys=0,yi=e),ys)},movementY:function(e){return"movementY"in e?e.movementY:ca}}),jo=Be(ha),Sr=w({},ha,{dataTransfer:0}),mu=Be(Sr),pu=w({},gs,{relatedTarget:0}),wr=Be(pu),zo=w({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),gu=Be(zo),fa=w({},Ui,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yu=Be(fa),_u=w({},Ui,{data:0}),_i=Be(_u),vu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Eu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Au(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Tu[e])?!!n[e]:!1}function _s(){return Au}var nn=w({},gs,{key:function(e){if(e.key){var n=vu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Eu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_s,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),bu=Be(nn),Su=w({},ha,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Li=Be(Su),u=w({},gs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_s}),m=Be(u),v=w({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=Be(v),P=w({},ha,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Be(P),nt=w({},Ui,{newState:0,oldState:0}),At=Be(nt),pe=[9,13,27,32],Ft=In&&"CompositionEvent"in window,oe=null;In&&"documentMode"in document&&(oe=document.documentMode);var Nn=In&&"TextEvent"in window&&!oe,vi=In&&(!Ft||oe&&8<oe&&11>=oe),Xn=" ",$n=!1;function Rr(e,n){switch(e){case"keyup":return pe.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function da(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ma=!1;function h1(e,n){switch(e){case"compositionend":return da(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function f1(e,n){if(ma)return e==="compositionend"||!Ft&&Rr(e,n)?(e=Lo(),Ar=Uo=pi=null,ma=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var d1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ep(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!d1[e.type]:n==="textarea"}function Tp(e,n,s,o){ms?mi?mi.push(o):mi=[o]:ms=o,n=dc(n,"onChange"),0<n.length&&(s=new gi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var Bo=null,qo=null;function m1(e){i_(e,0)}function wu(e){var n=pn(e);if(_r(n))return e}function Ap(e,n){if(e==="change")return n}var bp=!1;if(In){var qh;if(In){var Hh="oninput"in document;if(!Hh){var Sp=document.createElement("div");Sp.setAttribute("oninput","return;"),Hh=typeof Sp.oninput=="function"}qh=Hh}else qh=!1;bp=qh&&(!document.documentMode||9<document.documentMode)}function wp(){Bo&&(Bo.detachEvent("onpropertychange",Rp),qo=Bo=null)}function Rp(e){if(e.propertyName==="value"&&wu(qo)){var n=[];Tp(n,qo,e,xn(e)),ps(m1,n)}}function p1(e,n,s){e==="focusin"?(wp(),Bo=n,qo=s,Bo.attachEvent("onpropertychange",Rp)):e==="focusout"&&wp()}function g1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wu(qo)}function y1(e,n){if(e==="click")return wu(n)}function _1(e,n){if(e==="input"||e==="change")return wu(n)}function v1(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:v1;function Ho(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!Ee.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Cp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function xp(e,n){var s=Cp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Cp(s)}}function Ip(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Ip(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Np(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=di(e.document)}return n}function Fh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var E1=In&&"documentMode"in document&&11>=document.documentMode,pa=null,Gh=null,Fo=null,Qh=!1;function Dp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Qh||pa==null||pa!==di(o)||(o=pa,"selectionStart"in o&&Fh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Fo&&Ho(Fo,o)||(Fo=o,o=dc(Gh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=pa)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var ga={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Yh={},Op={};In&&(Op=document.createElement("div").style,"AnimationEvent"in window||(delete ga.animationend.animation,delete ga.animationiteration.animation,delete ga.animationstart.animation),"TransitionEvent"in window||delete ga.transitionend.transition);function xr(e){if(Yh[e])return Yh[e];if(!ga[e])return e;var n=ga[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Op)return Yh[e]=n[s];return e}var Mp=xr("animationend"),Vp=xr("animationiteration"),kp=xr("animationstart"),T1=xr("transitionrun"),A1=xr("transitionstart"),b1=xr("transitioncancel"),Up=xr("transitionend"),Lp=new Map,Kh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Kh.push("scrollEnd");function Jn(e,n){Lp.set(e,n),hi(n,[e])}var Ru=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ya=0,Xh=0;function Cu(){for(var e=ya,n=Xh=ya=0;n<e;){var s=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Pp(s,h,f)}}function xu(e,n,s,o){Dn[ya++]=e,Dn[ya++]=n,Dn[ya++]=s,Dn[ya++]=o,Xh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function $h(e,n,s,o){return xu(e,n,s,o),Iu(e)}function Ir(e,n){return xu(e,null,null,n),Iu(e)}function Pp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-me(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Iu(e){if(50<fl)throw fl=0,ad=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var _a={};function S1(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,s,o){return new S1(e,n,s,o)}function Jh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pi(e,n){var s=e.alternate;return s===null?(s=_n(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function jp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Nu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Jh(e)&&(p=1);else if(typeof e=="string")p=IA(e,s,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=_n(31,s,n,h),e.elementType=C,e.lanes=f,e;case tt:return Nr(s.children,h,f,n);case $:p=8,h|=24;break;case lt:return e=_n(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case zt:return e=_n(13,s,n,h),e.elementType=zt,e.lanes=f,e;case wt:return e=_n(19,s,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ct:p=10;break t;case st:p=9;break t;case Ut:p=11;break t;case I:p=14;break t;case S:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=_n(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Nr(e,n,s,o){return e=_n(7,e,o,n),e.lanes=s,e}function Zh(e,n,s){return e=_n(6,e,null,n),e.lanes=s,e}function zp(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function Wh(e,n,s){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Bp=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var s=Bp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:To(n)},Bp.set(e,n),n)}return{value:e,source:n,stack:To(n)}}var va=[],Ea=0,Du=null,Go=0,Mn=[],Vn=0,vs=null,Ei=1,Ti="";function ji(e,n){va[Ea++]=Go,va[Ea++]=Du,Du=e,Go=n}function qp(e,n,s){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=vs,vs=e;var o=Ei;e=Ti;var h=32-me(o)-1;o&=~(1<<h),s+=1;var f=32-me(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ei=1<<32-me(n)+h|s<<h|o,Ti=f+e}else Ei=1<<f|s<<h|o,Ti=e}function tf(e){e.return!==null&&(ji(e,1),qp(e,1,0))}function ef(e){for(;e===Du;)Du=va[--Ea],va[Ea]=null,Go=va[--Ea],va[Ea]=null;for(;e===vs;)vs=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null,Ei=Mn[--Vn],Mn[Vn]=null}function Hp(e,n){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=vs,Ei=n.id,Ti=n.overflow,vs=e}var qe=null,ie=null,Pt=!1,Es=null,kn=!1,nf=Error(a(519));function Ts(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Qo(On(n,e)),nf}function Fp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ae]=e,n[Ue]=o,s){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(s=0;s<ml.length;s++)It(ml[s],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),cu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),fs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||o_(n.textContent,s)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Ts(e,!0)}function Gp(e){for(qe=e.return;qe;)switch(qe.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:qe=qe.return}}function Ta(e){if(e!==qe)return!1;if(!Pt)return Gp(e),Pt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Td(e.type,e.memoizedProps)),s=!s),s&&ie&&Ts(e),Gp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=g_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ie=g_(e)}else n===27?(n=ie,ks(e.type)?(e=Rd,Rd=null,ie=e):ie=n):ie=qe?Ln(e.stateNode.nextSibling):null;return!0}function Dr(){ie=qe=null,Pt=!1}function sf(){var e=Es;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Es=null),e}function Qo(e){Es===null?Es=[e]:Es.push(e)}var rf=M(null),Or=null,zi=null;function As(e,n,s){J(rf,n._currentValue),n._currentValue=s}function Bi(e){e._currentValue=rf.current,V(rf)}function af(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function of(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var x=0;x<n.length;x++)if(E.context===n[x]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),af(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),af(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Aa(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;yn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ct.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(vl):e=[vl])}h=h.return}e!==null&&of(n,e,s,o),n.flags|=262144}function Ou(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,zi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function He(e){return Qp(Or,e)}function Mu(e,n){return Or===null&&Mr(e),Qp(e,n)}function Qp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},zi===null){if(e===null)throw Error(a(308));zi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else zi=zi.next=n;return s}var w1=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},R1=r.unstable_scheduleCallback,C1=r.unstable_NormalPriority,we={$$typeof:ct,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lf(){return{controller:new w1,data:new Map,refCount:0}}function Yo(e){e.refCount--,e.refCount===0&&R1(C1,function(){e.controller.abort()})}var Ko=null,uf=0,ba=0,Sa=null;function x1(e,n){if(Ko===null){var s=Ko=[];uf=0,ba=fd(),Sa={status:"pending",value:void 0,then:function(o){s.push(o)}}}return uf++,n.then(Yp,Yp),n}function Yp(){if(--uf===0&&Ko!==null){Sa!==null&&(Sa.status="fulfilled");var e=Ko;Ko=null,ba=0,Sa=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function I1(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Kp=G.S;G.S=function(e,n){Dy=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&x1(e,n),Kp!==null&&Kp(e,n)};var Vr=M(null);function cf(){var e=Vr.current;return e!==null?e:ee.pooledCache}function Vu(e,n){n===null?J(Vr,Vr.current):J(Vr,n.pool)}function Xp(){var e=cf();return e===null?null:{parent:we._currentValue,pool:e}}var wa=Error(a(460)),hf=Error(a(474)),ku=Error(a(542)),Uu={then:function(){}};function $p(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Jp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=ee,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Wp(e),e}throw Ur=n,wa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ur=s,wa):s}}var Ur=null;function Zp(){if(Ur===null)throw Error(a(459));var e=Ur;return Ur=null,e}function Wp(e){if(e===wa||e===ku)throw Error(a(483))}var Ra=null,Xo=0;function Lu(e){var n=Xo;return Xo+=1,Ra===null&&(Ra=[]),Jp(Ra,e,n)}function $o(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Pu(e,n){throw n.$$typeof===O?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function tg(e){function n(L,D){if(e){var j=L.deletions;j===null?(L.deletions=[D],L.flags|=16):j.push(D)}}function s(L,D){if(!e)return null;for(;D!==null;)n(L,D),D=D.sibling;return null}function o(L){for(var D=new Map;L!==null;)L.key!==null?D.set(L.key,L):D.set(L.index,L),L=L.sibling;return D}function h(L,D){return L=Pi(L,D),L.index=0,L.sibling=null,L}function f(L,D,j){return L.index=j,e?(j=L.alternate,j!==null?(j=j.index,j<D?(L.flags|=67108866,D):j):(L.flags|=67108866,D)):(L.flags|=1048576,D)}function p(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function E(L,D,j,Y){return D===null||D.tag!==6?(D=Zh(j,L.mode,Y),D.return=L,D):(D=h(D,j),D.return=L,D)}function x(L,D,j,Y){var dt=j.type;return dt===tt?Q(L,D,j.props.children,Y,j.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&kr(dt)===D.type)?(D=h(D,j.props),$o(D,j),D.return=L,D):(D=Nu(j.type,j.key,j.props,null,L.mode,Y),$o(D,j),D.return=L,D)}function z(L,D,j,Y){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=Wh(j,L.mode,Y),D.return=L,D):(D=h(D,j.children||[]),D.return=L,D)}function Q(L,D,j,Y,dt){return D===null||D.tag!==7?(D=Nr(j,L.mode,Y,dt),D.return=L,D):(D=h(D,j),D.return=L,D)}function K(L,D,j){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Zh(""+D,L.mode,j),D.return=L,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case q:return j=Nu(D.type,D.key,D.props,null,L.mode,j),$o(j,D),j.return=L,j;case W:return D=Wh(D,L.mode,j),D.return=L,D;case S:return D=kr(D),K(L,D,j)}if(Qt(D)||U(D))return D=Nr(D,L.mode,j,null),D.return=L,D;if(typeof D.then=="function")return K(L,Lu(D),j);if(D.$$typeof===ct)return K(L,Mu(L,D),j);Pu(L,D)}return null}function B(L,D,j,Y){var dt=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return dt!==null?null:E(L,D,""+j,Y);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case q:return j.key===dt?x(L,D,j,Y):null;case W:return j.key===dt?z(L,D,j,Y):null;case S:return j=kr(j),B(L,D,j,Y)}if(Qt(j)||U(j))return dt!==null?null:Q(L,D,j,Y,null);if(typeof j.then=="function")return B(L,D,Lu(j),Y);if(j.$$typeof===ct)return B(L,D,Mu(L,j),Y);Pu(L,j)}return null}function F(L,D,j,Y,dt){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return L=L.get(j)||null,E(D,L,""+Y,dt);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case q:return L=L.get(Y.key===null?j:Y.key)||null,x(D,L,Y,dt);case W:return L=L.get(Y.key===null?j:Y.key)||null,z(D,L,Y,dt);case S:return Y=kr(Y),F(L,D,j,Y,dt)}if(Qt(Y)||U(Y))return L=L.get(j)||null,Q(D,L,Y,dt,null);if(typeof Y.then=="function")return F(L,D,j,Lu(Y),dt);if(Y.$$typeof===ct)return F(L,D,j,Mu(D,Y),dt);Pu(D,Y)}return null}function at(L,D,j,Y){for(var dt=null,Bt=null,ut=D,St=D=0,Dt=null;ut!==null&&St<j.length;St++){ut.index>St?(Dt=ut,ut=null):Dt=ut.sibling;var qt=B(L,ut,j[St],Y);if(qt===null){ut===null&&(ut=Dt);break}e&&ut&&qt.alternate===null&&n(L,ut),D=f(qt,D,St),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt,ut=Dt}if(St===j.length)return s(L,ut),Pt&&ji(L,St),dt;if(ut===null){for(;St<j.length;St++)ut=K(L,j[St],Y),ut!==null&&(D=f(ut,D,St),Bt===null?dt=ut:Bt.sibling=ut,Bt=ut);return Pt&&ji(L,St),dt}for(ut=o(ut);St<j.length;St++)Dt=F(ut,L,St,j[St],Y),Dt!==null&&(e&&Dt.alternate!==null&&ut.delete(Dt.key===null?St:Dt.key),D=f(Dt,D,St),Bt===null?dt=Dt:Bt.sibling=Dt,Bt=Dt);return e&&ut.forEach(function(zs){return n(L,zs)}),Pt&&ji(L,St),dt}function gt(L,D,j,Y){if(j==null)throw Error(a(151));for(var dt=null,Bt=null,ut=D,St=D=0,Dt=null,qt=j.next();ut!==null&&!qt.done;St++,qt=j.next()){ut.index>St?(Dt=ut,ut=null):Dt=ut.sibling;var zs=B(L,ut,qt.value,Y);if(zs===null){ut===null&&(ut=Dt);break}e&&ut&&zs.alternate===null&&n(L,ut),D=f(zs,D,St),Bt===null?dt=zs:Bt.sibling=zs,Bt=zs,ut=Dt}if(qt.done)return s(L,ut),Pt&&ji(L,St),dt;if(ut===null){for(;!qt.done;St++,qt=j.next())qt=K(L,qt.value,Y),qt!==null&&(D=f(qt,D,St),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return Pt&&ji(L,St),dt}for(ut=o(ut);!qt.done;St++,qt=j.next())qt=F(ut,L,St,qt.value,Y),qt!==null&&(e&&qt.alternate!==null&&ut.delete(qt.key===null?St:qt.key),D=f(qt,D,St),Bt===null?dt=qt:Bt.sibling=qt,Bt=qt);return e&&ut.forEach(function(zA){return n(L,zA)}),Pt&&ji(L,St),dt}function te(L,D,j,Y){if(typeof j=="object"&&j!==null&&j.type===tt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case q:t:{for(var dt=j.key;D!==null;){if(D.key===dt){if(dt=j.type,dt===tt){if(D.tag===7){s(L,D.sibling),Y=h(D,j.props.children),Y.return=L,L=Y;break t}}else if(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===S&&kr(dt)===D.type){s(L,D.sibling),Y=h(D,j.props),$o(Y,j),Y.return=L,L=Y;break t}s(L,D);break}else n(L,D);D=D.sibling}j.type===tt?(Y=Nr(j.props.children,L.mode,Y,j.key),Y.return=L,L=Y):(Y=Nu(j.type,j.key,j.props,null,L.mode,Y),$o(Y,j),Y.return=L,L=Y)}return p(L);case W:t:{for(dt=j.key;D!==null;){if(D.key===dt)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){s(L,D.sibling),Y=h(D,j.children||[]),Y.return=L,L=Y;break t}else{s(L,D);break}else n(L,D);D=D.sibling}Y=Wh(j,L.mode,Y),Y.return=L,L=Y}return p(L);case S:return j=kr(j),te(L,D,j,Y)}if(Qt(j))return at(L,D,j,Y);if(U(j)){if(dt=U(j),typeof dt!="function")throw Error(a(150));return j=dt.call(j),gt(L,D,j,Y)}if(typeof j.then=="function")return te(L,D,Lu(j),Y);if(j.$$typeof===ct)return te(L,D,Mu(L,j),Y);Pu(L,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,D!==null&&D.tag===6?(s(L,D.sibling),Y=h(D,j),Y.return=L,L=Y):(s(L,D),Y=Zh(j,L.mode,Y),Y.return=L,L=Y),p(L)):s(L,D)}return function(L,D,j,Y){try{Xo=0;var dt=te(L,D,j,Y);return Ra=null,dt}catch(ut){if(ut===wa||ut===ku)throw ut;var Bt=_n(29,ut,null,L.mode);return Bt.lanes=Y,Bt.return=L,Bt}}}var Lr=tg(!0),eg=tg(!1),bs=!1;function ff(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function df(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ss(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ws(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Gt&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Iu(e),Pp(e,null,s),n}return xu(e,o,n,s),Iu(e)}function Jo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}function mf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var pf=!1;function Zo(){if(pf){var e=Sa;if(e!==null)throw e}}function Wo(e,n,s,o){pf=!1;var h=e.updateQueue;bs=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var x=E,z=x.next;x.next=null,p===null?f=z:p.next=z,p=x;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=z:E.next=z,Q.lastBaseUpdate=x))}if(f!==null){var K=h.baseState;p=0,Q=z=x=null,E=f;do{var B=E.lane&-536870913,F=B!==E.lane;if(F?(Nt&B)===B:(o&B)===B){B!==0&&B===ba&&(pf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,gt=E;B=n;var te=s;switch(gt.tag){case 1:if(at=gt.payload,typeof at=="function"){K=at.call(te,K,B);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=gt.payload,B=typeof at=="function"?at.call(te,K,B):at,B==null)break t;K=w({},K,B);break t;case 2:bs=!0}}B=E.callback,B!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[B]:F.push(B))}else F={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(z=Q=F,x=K):Q=Q.next=F,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(x=K),h.baseState=x,h.firstBaseUpdate=z,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ns|=p,e.lanes=p,e.memoizedState=K}}function ng(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ig(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)ng(s[e],n)}var Ca=M(null),ju=M(0);function sg(e,n){e=$i,J(ju,e),J(Ca,n),$i=e|n.baseLanes}function gf(){J(ju,$i),J(Ca,Ca.current)}function yf(){$i=ju.current,V(Ca),V(ju)}var vn=M(null),Un=null;function Rs(e){var n=e.alternate;J(ge,ge.current&1),J(vn,e),Un===null&&(n===null||Ca.current!==null||n.memoizedState!==null)&&(Un=e)}function _f(e){J(ge,ge.current),J(vn,e),Un===null&&(Un=e)}function rg(e){e.tag===22?(J(ge,ge.current),J(vn,e),Un===null&&(Un=e)):Cs()}function Cs(){J(ge,ge.current),J(vn,vn.current)}function En(e){V(vn),Un===e&&(Un=null),V(ge)}var ge=M(0);function zu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Sd(s)||wd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var qi=0,bt=null,Zt=null,Re=null,Bu=!1,xa=!1,Pr=!1,qu=0,tl=0,Ia=null,N1=0;function he(){throw Error(a(321))}function vf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function Ef(e,n,s,o,h,f){return qi=f,bt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?qg:kf,Pr=!1,f=s(o,h),Pr=!1,xa&&(f=og(n,s,o,h)),ag(e),f}function ag(e){G.H=il;var n=Zt!==null&&Zt.next!==null;if(qi=0,Re=Zt=bt=null,Bu=!1,tl=0,Ia=null,n)throw Error(a(300));e===null||Ce||(e=e.dependencies,e!==null&&Ou(e)&&(Ce=!0))}function og(e,n,s,o){bt=e;var h=0;do{if(xa&&(Ia=null),tl=0,xa=!1,25<=h)throw Error(a(301));if(h+=1,Re=Zt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Hg,f=n(s,o)}while(xa);return f}function D1(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?el(n):n,e=e.useState()[0],(Zt!==null?Zt.memoizedState:null)!==e&&(bt.flags|=1024),n}function Tf(){var e=qu!==0;return qu=0,e}function Af(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function bf(e){if(Bu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Bu=!1}qi=0,Re=Zt=bt=null,xa=!1,tl=qu=0,Ia=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Re===null?bt.memoizedState=Re=e:Re=Re.next=e,Re}function ye(){if(Zt===null){var e=bt.alternate;e=e!==null?e.memoizedState:null}else e=Zt.next;var n=Re===null?bt.memoizedState:Re.next;if(n!==null)Re=n,Zt=e;else{if(e===null)throw bt.alternate===null?Error(a(467)):Error(a(310));Zt=e,e={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},Re===null?bt.memoizedState=Re=e:Re=Re.next=e}return Re}function Hu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function el(e){var n=tl;return tl+=1,Ia===null&&(Ia=[]),e=Jp(Ia,e,n),n=bt,(Re===null?n.memoizedState:Re.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?qg:kf),e}function Fu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return el(e);if(e.$$typeof===ct)return He(e)}throw Error(a(438,String(e)))}function Sf(e){var n=null,s=bt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=bt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Hu(),bt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=k;return n.index++,s}function Hi(e,n){return typeof n=="function"?n(e):n}function Gu(e){var n=ye();return wf(n,Zt,e)}function wf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,x=null,z=n,Q=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Nt&K)===K:(qi&K)===K){var B=z.revertLane;if(B===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===ba&&(Q=!0);else if((qi&B)===B){z=z.next,B===ba&&(Q=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=K,p=f):x=x.next=K,bt.lanes|=B,Ns|=B;K=z.action,Pr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else B={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},x===null?(E=x=B,p=f):x=x.next=B,bt.lanes|=K,Ns|=K;z=z.next}while(z!==null&&z!==n);if(x===null?p=f:x.next=E,!yn(f,e.memoizedState)&&(Ce=!0,Q&&(s=Sa,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=x,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Rf(e){var n=ye(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);yn(f,n.memoizedState)||(Ce=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function lg(e,n,s){var o=bt,h=ye(),f=Pt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!yn((Zt||h).memoizedState,s);if(p&&(h.memoizedState=s,Ce=!0),h=h.queue,If(hg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Re!==null&&Re.memoizedState.tag&1){if(o.flags|=2048,Na(9,{destroy:void 0},cg.bind(null,o,h,s,n),null),ee===null)throw Error(a(349));f||(qi&127)!==0||ug(o,n,s)}return s}function ug(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=bt.updateQueue,n===null?(n=Hu(),bt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function cg(e,n,s,o){n.value=s,n.getSnapshot=o,fg(n)&&dg(e)}function hg(e,n,s){return s(function(){fg(n)&&dg(e)})}function fg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function dg(e){var n=Ir(e,2);n!==null&&hn(n,e,2)}function Cf(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),Pr){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:e},n}function mg(e,n,s,o){return e.baseState=s,wf(e,Zt,typeof o=="function"?o:Hi)}function O1(e,n,s,o,h){if(Ku(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,pg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function pg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),x=G.S;x!==null&&x(p,E),gg(e,n,E)}catch(z){xf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),gg(e,n,f)}catch(z){xf(e,n,z)}}function gg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){yg(e,n,o)},function(o){return xf(e,n,o)}):yg(e,n,s)}function yg(e,n,s){n.status="fulfilled",n.value=s,_g(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,pg(e,s)))}function xf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,_g(n),n=n.next;while(n!==o)}e.action=null}function _g(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function vg(e,n){return n}function Eg(e,n){if(Pt){var s=ee.formState;if(s!==null){t:{var o=bt;if(Pt){if(ie){e:{for(var h=ie,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ie=Ln(h.nextSibling),o=h.data==="F!";break t}}Ts(o)}o=!1}o&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vg,lastRenderedState:n},s.queue=o,s=jg.bind(null,bt,o),o.dispatch=s,o=Cf(!1),f=Vf.bind(null,bt,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=O1.bind(null,bt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Tg(e){var n=ye();return Ag(n,Zt,e)}function Ag(e,n,s){if(n=wf(e,n,vg)[0],e=Gu(Hi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=el(n)}catch(p){throw p===wa?ku:p}else o=n;n=ye();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(bt.flags|=2048,Na(9,{destroy:void 0},M1.bind(null,h,s),null)),[o,f,e]}function M1(e,n){e.action=n}function bg(e){var n=ye(),s=Zt;if(s!==null)return Ag(n,s,e);ye(),n=n.memoizedState,s=ye();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Na(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=bt.updateQueue,n===null&&(n=Hu(),bt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function Sg(){return ye().memoizedState}function Qu(e,n,s,o){var h=sn();bt.flags|=e,h.memoizedState=Na(1|n,{destroy:void 0},s,o===void 0?null:o)}function Yu(e,n,s,o){var h=ye();o=o===void 0?null:o;var f=h.memoizedState.inst;Zt!==null&&o!==null&&vf(o,Zt.memoizedState.deps)?h.memoizedState=Na(n,f,s,o):(bt.flags|=e,h.memoizedState=Na(1|n,f,s,o))}function wg(e,n){Qu(8390656,8,e,n)}function If(e,n){Yu(2048,8,e,n)}function V1(e){bt.flags|=4;var n=bt.updateQueue;if(n===null)n=Hu(),bt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Rg(e){var n=ye().memoizedState;return V1({ref:n,nextImpl:e}),function(){if((Gt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Cg(e,n){return Yu(4,2,e,n)}function xg(e,n){return Yu(4,4,e,n)}function Ig(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ng(e,n,s){s=s!=null?s.concat([e]):null,Yu(4,4,Ig.bind(null,n,e),s)}function Nf(){}function Dg(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&vf(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Og(e,n){var s=ye();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&vf(n,o[1]))return o[0];if(o=e(),Pr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[o,n],o}function Df(e,n,s){return s===void 0||(qi&1073741824)!==0&&(Nt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=My(),bt.lanes|=e,Ns|=e,s)}function Mg(e,n,s,o){return yn(s,n)?s:Ca.current!==null?(e=Df(e,s,o),yn(e,n)||(Ce=!0),e):(qi&42)===0||(qi&1073741824)!==0&&(Nt&261930)===0?(Ce=!0,e.memoizedState=s):(e=My(),bt.lanes|=e,Ns|=e,n)}function Vg(e,n,s,o,h){var f=it.p;it.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,Vf(e,!1,n,s);try{var x=h(),z=G.S;if(z!==null&&z(E,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var Q=I1(x,o);nl(e,n,Q,bn(e))}else nl(e,n,o,bn(e))}catch(K){nl(e,n,{then:function(){},status:"rejected",reason:K},bn())}finally{it.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function k1(){}function Of(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=kg(e).queue;Vg(e,h,n,ft,s===null?k1:function(){return Ug(e),s(o)})}function kg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ft,baseState:ft,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:ft},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Hi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Ug(e){var n=kg(e);n.next===null&&(n=e.alternate.memoizedState),nl(e,n.next.queue,{},bn())}function Mf(){return He(vl)}function Lg(){return ye().memoizedState}function Pg(){return ye().memoizedState}function U1(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=Ss(s);var o=ws(n,e,s);o!==null&&(hn(o,n,s),Jo(o,n,s)),n={cache:lf()},e.payload=n;return}n=n.return}}function L1(e,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ku(e)?zg(n,s):(s=$h(e,n,s,o),s!==null&&(hn(s,e,o),Bg(s,n,o)))}function jg(e,n,s){var o=bn();nl(e,n,s,o)}function nl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ku(e))zg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,yn(E,p))return xu(e,n,h,0),ee===null&&Cu(),!1}catch{}if(s=$h(e,n,h,o),s!==null)return hn(s,e,o),Bg(s,n,o),!0}return!1}function Vf(e,n,s,o){if(o={lane:2,revertLane:fd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ku(e)){if(n)throw Error(a(479))}else n=$h(e,s,o,2),n!==null&&hn(n,e,2)}function Ku(e){var n=e.alternate;return e===bt||n!==null&&n===bt}function zg(e,n){xa=Bu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Bg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,So(e,s)}}var il={readContext:He,use:Fu,useCallback:he,useContext:he,useEffect:he,useImperativeHandle:he,useLayoutEffect:he,useInsertionEffect:he,useMemo:he,useReducer:he,useRef:he,useState:he,useDebugValue:he,useDeferredValue:he,useTransition:he,useSyncExternalStore:he,useId:he,useHostTransitionStatus:he,useFormState:he,useActionState:he,useOptimistic:he,useMemoCache:he,useCacheRefresh:he};il.useEffectEvent=he;var qg={readContext:He,use:Fu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:He,useEffect:wg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Qu(4194308,4,Ig.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Qu(4194308,4,e,n)},useInsertionEffect:function(e,n){Qu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var o=e();if(Pr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=sn();if(s!==void 0){var h=s(n);if(Pr){Rn(!0);try{s(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=L1.bind(null,bt,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Cf(e);var n=e.queue,s=jg.bind(null,bt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Nf,useDeferredValue:function(e,n){var s=sn();return Df(s,e,n)},useTransition:function(){var e=Cf(!1);return e=Vg.bind(null,bt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=bt,h=sn();if(Pt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ee===null)throw Error(a(349));(Nt&127)!==0||ug(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,wg(hg.bind(null,o,f,e),[e]),o.flags|=2048,Na(9,{destroy:void 0},cg.bind(null,o,f,s,n),null),s},useId:function(){var e=sn(),n=ee.identifierPrefix;if(Pt){var s=Ti,o=Ei;s=(o&~(1<<32-me(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=N1++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Mf,useFormState:Eg,useActionState:Eg,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Vf.bind(null,bt,!0,s),s.dispatch=n,[e,n]},useMemoCache:Sf,useCacheRefresh:function(){return sn().memoizedState=U1.bind(null,bt)},useEffectEvent:function(e){var n=sn(),s={impl:e};return n.memoizedState=s,function(){if((Gt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},kf={readContext:He,use:Fu,useCallback:Dg,useContext:He,useEffect:If,useImperativeHandle:Ng,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Og,useReducer:Gu,useRef:Sg,useState:function(){return Gu(Hi)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=ye();return Mg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Gu(Hi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:lg,useId:Lg,useHostTransitionStatus:Mf,useFormState:Tg,useActionState:Tg,useOptimistic:function(e,n){var s=ye();return mg(s,Zt,e,n)},useMemoCache:Sf,useCacheRefresh:Pg};kf.useEffectEvent=Rg;var Hg={readContext:He,use:Fu,useCallback:Dg,useContext:He,useEffect:If,useImperativeHandle:Ng,useInsertionEffect:Cg,useLayoutEffect:xg,useMemo:Og,useReducer:Rf,useRef:Sg,useState:function(){return Rf(Hi)},useDebugValue:Nf,useDeferredValue:function(e,n){var s=ye();return Zt===null?Df(s,e,n):Mg(s,Zt.memoizedState,e,n)},useTransition:function(){var e=Rf(Hi)[0],n=ye().memoizedState;return[typeof e=="boolean"?e:el(e),n]},useSyncExternalStore:lg,useId:Lg,useHostTransitionStatus:Mf,useFormState:bg,useActionState:bg,useOptimistic:function(e,n){var s=ye();return Zt!==null?mg(s,Zt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Sf,useCacheRefresh:Pg};Hg.useEffectEvent=Rg;function Uf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:w({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Lf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=bn(),h=Ss(o);h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,o),n!==null&&(hn(n,e,o),Jo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=bn(),h=Ss(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=ws(e,h,o),n!==null&&(hn(n,e,o),Jo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),o=Ss(s);o.tag=2,n!=null&&(o.callback=n),n=ws(e,o,s),n!==null&&(hn(n,e,s),Jo(n,e,s))}};function Fg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Ho(s,o)||!Ho(h,f):!0}function Gg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Lf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=w({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Qg(e){Ru(e)}function Yg(e){console.error(e)}function Kg(e){Ru(e)}function Xu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Xg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pf(e,n,s){return s=Ss(s),s.tag=3,s.payload={element:null},s.callback=function(){Xu(e,n)},s}function $g(e){return e=Ss(e),e.tag=3,e}function Jg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Xg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Xg(n,s,o),typeof h!="function"&&(Ds===null?Ds=new Set([this]):Ds.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function P1(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Aa(n,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?oc():s.alternate===null&&fe===0&&(fe=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ud(e,o,h)),!1;case 22:return s.flags|=65536,o===Uu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ud(e,o,h)),!1}throw Error(a(435,s.tag))}return ud(e,o,h),oc(),!1}if(Pt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==nf&&(e=Error(a(422),{cause:o}),Qo(On(e,s)))):(o!==nf&&(n=Error(a(423),{cause:o}),Qo(On(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,s),h=Pf(e.stateNode,o,h),mf(e,h),fe!==4&&(fe=2)),!1;var f=Error(a(520),{cause:o});if(f=On(f,s),hl===null?hl=[f]:hl.push(f),fe!==4&&(fe=2),n===null)return!0;o=On(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Pf(s.stateNode,o,e),mf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ds===null||!Ds.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=$g(h),Jg(h,e,s,o),mf(s,h),!1}s=s.return}while(s!==null);return!1}var jf=Error(a(461)),Ce=!1;function Fe(e,n,s,o){n.child=e===null?eg(n,null,s,o):Lr(n,e.child,s,o)}function Zg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Mr(n),o=Ef(e,n,s,p,f,h),E=Tf(),e!==null&&!Ce?(Af(e,n,h),Fi(e,n,h)):(Pt&&E&&tf(n),n.flags|=1,Fe(e,n,o,h),n.child)}function Wg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ty(e,n,f,o,h)):(e=Nu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Yf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Ho,s(p,o)&&e.ref===n.ref)return Fi(e,n,h)}return n.flags|=1,e=Pi(f,o),e.ref=n.ref,e.return=n,n.child=e}function ty(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Ho(f,o)&&e.ref===n.ref)if(Ce=!1,n.pendingProps=o=f,Yf(e,h))(e.flags&131072)!==0&&(Ce=!0);else return n.lanes=e.lanes,Fi(e,n,h)}return zf(e,n,s,o,h)}function ey(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ny(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Vu(n,f!==null?f.cachePool:null),f!==null?sg(n,f):gf(),rg(n);else return o=n.lanes=536870912,ny(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Vu(n,f.cachePool),sg(n,f),Cs(),n.memoizedState=null):(e!==null&&Vu(n,null),gf(),Cs());return Fe(e,n,h,s),n.child}function sl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ny(e,n,s,o,h){var f=cf();return f=f===null?null:{parent:we._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Vu(n,null),gf(),rg(n),e!==null&&Aa(e,n,o,!0),n.childLanes=h,null}function $u(e,n){return n=Zu({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function iy(e,n,s){return Lr(n,e.child,null,s),e=$u(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function j1(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Pt){if(o.mode==="hidden")return e=$u(n,o),n.lanes=536870912,sl(null,e);if(_f(n),(e=ie)?(e=p_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=zp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Ts(n);return n.lanes=536870912,null}return $u(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(_f(n),h)if(n.flags&256)n.flags&=-257,n=iy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ce||Aa(e,n,s,!1),h=(s&e.childLanes)!==0,Ce||h){if(o=ee,o!==null&&(p=wo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ir(e,p),hn(o,e,p),jf;oc(),n=iy(e,n,s)}else e=f.treeContext,ie=Ln(p.nextSibling),qe=n,Pt=!0,Es=null,kn=!1,e!==null&&Hp(n,e),n=$u(n,o),n.flags|=4096;return n}return e=Pi(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Ju(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function zf(e,n,s,o,h){return Mr(n),s=Ef(e,n,s,o,void 0,h),o=Tf(),e!==null&&!Ce?(Af(e,n,h),Fi(e,n,h)):(Pt&&o&&tf(n),n.flags|=1,Fe(e,n,s,h),n.child)}function sy(e,n,s,o,h,f){return Mr(n),n.updateQueue=null,s=og(n,o,s,h),ag(e),o=Tf(),e!==null&&!Ce?(Af(e,n,f),Fi(e,n,f)):(Pt&&o&&tf(n),n.flags|=1,Fe(e,n,s,f),n.child)}function ry(e,n,s,o,h){if(Mr(n),n.stateNode===null){var f=_a,p=s.contextType;typeof p=="object"&&p!==null&&(f=He(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Lf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},ff(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?He(p):_a,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Uf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Lf.enqueueReplaceState(f,f.state,null),Wo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,x=jr(s,E);f.props=x;var z=f.context,Q=s.contextType;p=_a,typeof Q=="object"&&Q!==null&&(p=He(Q));var K=s.getDerivedStateFromProps;Q=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Gg(n,f,o,p),bs=!1;var B=n.memoizedState;f.state=B,Wo(n,o,f,h),Zo(),z=n.memoizedState,E||B!==z||bs?(typeof K=="function"&&(Uf(n,s,K,o),z=n.memoizedState),(x=bs||Fg(n,s,x,o,B,z,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=x):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,df(e,n),p=n.memoizedProps,Q=jr(s,p),f.props=Q,K=n.pendingProps,B=f.context,z=s.contextType,x=_a,typeof z=="object"&&z!==null&&(x=He(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||B!==x)&&Gg(n,f,o,x),bs=!1,B=n.memoizedState,f.state=B,Wo(n,o,f,h),Zo();var F=n.memoizedState;p!==K||B!==F||bs||e!==null&&e.dependencies!==null&&Ou(e.dependencies)?(typeof E=="function"&&(Uf(n,s,E,o),F=n.memoizedState),(Q=bs||Fg(n,s,Q,o,B,F,x)||e!==null&&e.dependencies!==null&&Ou(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,x),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,x)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=x,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Ju(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,s,h)):Fe(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Fi(e,n,h),e}function ay(e,n,s,o){return Dr(),n.flags|=256,Fe(e,n,s,o),n.child}var Bf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function qf(e){return{baseLanes:e,cachePool:Xp()}}function Hf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=An),e}function oy(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(ge.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Pt){if(h?Rs(n):Cs(),(e=ie)?(e=p_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:vs!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=zp(e),s.return=n,n.child=s,qe=n,ie=null)):e=null,e===null)throw Ts(n);return wd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Cs(),h=n.mode,E=Zu({mode:"hidden",children:E},h),o=Nr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=qf(s),o.childLanes=Hf(e,p,s),n.memoizedState=Bf,sl(null,o)):(Rs(n),Ff(n,E))}var x=e.memoizedState;if(x!==null&&(E=x.dehydrated,E!==null)){if(f)n.flags&256?(Rs(n),n.flags&=-257,n=Gf(e,n,s)):n.memoizedState!==null?(Cs(),n.child=e.child,n.flags|=128,n=null):(Cs(),E=o.fallback,h=n.mode,o=Zu({mode:"visible",children:o.children},h),E=Nr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Lr(n,e.child,null,s),o=n.child,o.memoizedState=qf(s),o.childLanes=Hf(e,p,s),n.memoizedState=Bf,n=sl(null,o));else if(Rs(n),wd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Qo({value:o,source:null,stack:null}),n=Gf(e,n,s)}else if(Ce||Aa(e,n,s,!1),p=(s&e.childLanes)!==0,Ce||p){if(p=ee,p!==null&&(o=wo(p,s),o!==0&&o!==x.retryLane))throw x.retryLane=o,Ir(e,o),hn(p,e,o),jf;Sd(E)||oc(),n=Gf(e,n,s)}else Sd(E)?(n.flags|=192,n.child=e.child,n=null):(e=x.treeContext,ie=Ln(E.nextSibling),qe=n,Pt=!0,Es=null,kn=!1,e!==null&&Hp(n,e),n=Ff(n,o.children),n.flags|=4096);return n}return h?(Cs(),E=o.fallback,h=n.mode,x=e.child,z=x.sibling,o=Pi(x,{mode:"hidden",children:o.children}),o.subtreeFlags=x.subtreeFlags&65011712,z!==null?E=Pi(z,E):(E=Nr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,sl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=qf(s):(h=E.cachePool,h!==null?(x=we._currentValue,h=h.parent!==x?{parent:x,pool:x}:h):h=Xp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Hf(e,p,s),n.memoizedState=Bf,sl(e.child,o)):(Rs(n),s=e.child,e=s.sibling,s=Pi(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Ff(e,n){return n=Zu({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Zu(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Gf(e,n,s){return Lr(n,e.child,null,s),e=Ff(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function ly(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),af(e.return,n,s)}function Qf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function uy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=ge.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,J(ge,p),Fe(e,n,o,s),o=Pt?Go:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&ly(e,s,n);else if(e.tag===19)ly(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&zu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Qf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&zu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Qf(n,!0,s,null,f,o);break;case"together":Qf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Fi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ns|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Aa(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Pi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Pi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Yf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Ou(e)))}function z1(e,n,s){switch(n.tag){case 3:ce(n,n.stateNode.containerInfo),As(n,we,e.memoizedState.cache),Dr();break;case 27:case 5:hr(n);break;case 4:ce(n,n.stateNode.containerInfo);break;case 10:As(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,_f(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Rs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?oy(e,n,s):(Rs(n),e=Fi(e,n,s),e!==null?e.sibling:null);Rs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Aa(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return uy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),J(ge,ge.current),o)break;return null;case 22:return n.lanes=0,ey(e,n,s,n.pendingProps);case 24:As(n,we,e.memoizedState.cache)}return Fi(e,n,s)}function cy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ce=!0;else{if(!Yf(e,s)&&(n.flags&128)===0)return Ce=!1,z1(e,n,s);Ce=(e.flags&131072)!==0}else Ce=!1,Pt&&(n.flags&1048576)!==0&&qp(n,Go,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")Jh(e)?(o=jr(e,o),n.tag=1,n=ry(null,n,e,o,s)):(n.tag=0,n=zf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ut){n.tag=11,n=Zg(null,n,e,o,s);break t}else if(h===I){n.tag=14,n=Wg(null,n,e,o,s);break t}}throw n=Rt(e)||e,Error(a(306,n,""))}}return n;case 0:return zf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=jr(o,n.pendingProps),ry(e,n,o,h,s);case 3:t:{if(ce(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,df(e,n),Wo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,As(n,we,o),o!==f.cache&&of(n,[we],s,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ay(e,n,o,s);break t}else if(o!==h){h=On(Error(a(424)),n),Qo(h),n=ay(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ie=Ln(e.firstChild),qe=n,Pt=!0,Es=null,kn=!0,s=eg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Dr(),o===h){n=Fi(e,n,s);break t}Fe(e,n,o,s)}n=n.child}return n;case 26:return Ju(e,n),e===null?(s=T_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Pt||(s=n.type,e=n.pendingProps,o=mc(mt.current).createElement(s),o[Ae]=n,o[Ue]=e,Ge(o,s,e),be(o),n.stateNode=o):n.memoizedState=T_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hr(n),e===null&&Pt&&(o=n.stateNode=__(n.type,n.pendingProps,mt.current),qe=n,kn=!0,h=ie,ks(n.type)?(Rd=h,ie=Ln(o.firstChild)):ie=h),Fe(e,n,n.pendingProps.children,s),Ju(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Pt&&((h=o=ie)&&(o=gA(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,qe=n,ie=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||Ts(n)),hr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Td(h,f)?o=null:p!==null&&Td(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=Ef(e,n,D1,null,null,s),vl._currentValue=h),Ju(e,n),Fe(e,n,o,s),n.child;case 6:return e===null&&Pt&&((e=s=ie)&&(s=yA(s,n.pendingProps,kn),s!==null?(n.stateNode=s,qe=n,ie=null,e=!0):e=!1),e||Ts(n)),null;case 13:return oy(e,n,s);case 4:return ce(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Lr(n,null,o,s):Fe(e,n,o,s),n.child;case 11:return Zg(e,n,n.type,n.pendingProps,s);case 7:return Fe(e,n,n.pendingProps,s),n.child;case 8:return Fe(e,n,n.pendingProps.children,s),n.child;case 12:return Fe(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,As(n,n.type,o.value),Fe(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mr(n),h=He(h),o=o(h),n.flags|=1,Fe(e,n,o,s),n.child;case 14:return Wg(e,n,n.type,n.pendingProps,s);case 15:return ty(e,n,n.type,n.pendingProps,s);case 19:return uy(e,n,s);case 31:return j1(e,n,s);case 22:return ey(e,n,s,n.pendingProps);case 24:return Mr(n),o=He(we),e===null?(h=cf(),h===null&&(h=ee,f=lf(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},ff(n),As(n,we,h)):((e.lanes&s)!==0&&(df(e,n),Wo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),As(n,we,o)):(o=f.cache,As(n,we,o),o!==h.cache&&of(n,[we],s,!0))),Fe(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Gi(e){e.flags|=4}function Kf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Ly())e.flags|=8192;else throw Ur=Uu,hf}else e.flags&=-16777217}function hy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!R_(n))if(Ly())e.flags|=8192;else throw Ur=Uu,hf}function Wu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?ru():536870912,e.lanes|=n,Va|=n)}function rl(e,n){if(!Pt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function se(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function B1(e,n,s){var o=n.pendingProps;switch(ef(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return se(n),null;case 1:return se(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Bi(we),ne(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ta(n)?Gi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,sf())),se(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Gi(n),f!==null?(se(n),hy(n,f)):(se(n),Kf(n,h,null,o,s))):f?f!==e.memoizedState?(Gi(n),se(n),hy(n,f)):(se(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Gi(n),se(n),Kf(n,h,e,o,s)),null;case 27:if(Wr(n),s=mt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}e=et.current,Ta(n)?Fp(n):(e=__(h,o,s),n.stateNode=e,Gi(n))}return se(n),null;case 5:if(Wr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return se(n),null}if(f=et.current,Ta(n))Fp(n);else{var p=mc(mt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ae]=n,f[Ue]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Ge(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Gi(n)}}return se(n),Kf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Gi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=mt.current,Ta(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=qe,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ae]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||o_(e.nodeValue,s)),e||Ts(n,!0)}else e=mc(e).createTextNode(o),e[Ae]=n,n.stateNode=e}return se(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ta(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ae]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),e=!1}else s=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return se(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ta(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ae]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;se(n),h=!1}else h=sf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Wu(n,n.updateQueue),se(n),null);case 4:return ne(),e===null&&gd(n.stateNode.containerInfo),se(n),null;case 10:return Bi(n.type),se(n),null;case 19:if(V(ge),o=n.memoizedState,o===null)return se(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)rl(o,!1);else{if(fe!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=zu(e),f!==null){for(n.flags|=128,rl(o,!1),e=f.updateQueue,n.updateQueue=e,Wu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)jp(s,e),s=s.sibling;return J(ge,ge.current&1|2),Pt&&ji(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>sc&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304)}else{if(!h)if(e=zu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Wu(n,e),rl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Pt)return se(n),null}else 2*en()-o.renderingStartTime>sc&&s!==536870912&&(n.flags|=128,h=!0,rl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,s=ge.current,J(ge,h?s&1|2:s&1),Pt&&ji(n,o.treeForkCount),e):(se(n),null);case 22:case 23:return En(n),yf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(se(n),n.subtreeFlags&6&&(n.flags|=8192)):se(n),s=n.updateQueue,s!==null&&Wu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&V(Vr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),Bi(we),se(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function q1(e,n){switch(ef(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Bi(we),ne(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Wr(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return V(ge),null;case 4:return ne(),null;case 10:return Bi(n.type),null;case 22:case 23:return En(n),yf(),e!==null&&V(Vr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Bi(we),null;case 25:return null;default:return null}}function fy(e,n){switch(ef(n),n.tag){case 3:Bi(we),ne();break;case 26:case 27:case 5:Wr(n);break;case 4:ne();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:V(ge);break;case 10:Bi(n.type);break;case 22:case 23:En(n),yf(),e!==null&&V(Vr);break;case 24:Bi(we)}}function al(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){$t(n,n.return,E)}}function xs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var x=s,z=E;try{z()}catch(Q){$t(h,x,Q)}}}o=o.next}while(o!==f)}}catch(Q){$t(n,n.return,Q)}}function dy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ig(n,s)}catch(o){$t(e,e.return,o)}}}function my(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){$t(e,n,o)}}function ol(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){$t(e,n,h)}}function Ai(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){$t(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){$t(e,n,h)}else s.current=null}function py(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){$t(e,e.return,h)}}function Xf(e,n,s){try{var o=e.stateNode;cA(o,e.type,s,n),o[Ue]=n}catch(h){$t(e,e.return,h)}}function gy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ks(e.type)||e.tag===4}function $f(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||gy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ks(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&ks(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Jf(e,n,s),e=e.sibling;e!==null;)Jf(e,n,s),e=e.sibling}function tc(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&ks(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(tc(e,n,s),e=e.sibling;e!==null;)tc(e,n,s),e=e.sibling}function yy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Ge(n,o,s),n[Ae]=e,n[Ue]=s}catch(f){$t(e,e.return,f)}}var Qi=!1,xe=!1,Zf=!1,_y=typeof WeakSet=="function"?WeakSet:Set,Pe=null;function H1(e,n){if(e=e.containerInfo,vd=Tc,e=Np(e),Fh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,x=-1,z=0,Q=0,K=e,B=null;e:for(;;){for(var F;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(x=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(F=K.firstChild)!==null;)B=K,K=F;for(;;){if(K===e)break e;if(B===s&&++z===h&&(E=p),B===f&&++Q===o&&(x=p),(F=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=F}s=E===-1||x===-1?null:{start:E,end:x}}else s=null}s=s||{start:0,end:0}}else s=null;for(Ed={focusedElem:e,selectionRange:s},Tc=!1,Pe=n;Pe!==null;)if(n=Pe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Pe=e;else for(;Pe!==null;){switch(n=Pe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=jr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(gt){$t(s,s.return,gt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)bd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":bd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Pe=e;break}Pe=n.return}}function vy(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),o&4&&al(5,s);break;case 1:if(Ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){$t(s,s.return,p)}else{var h=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){$t(s,s.return,p)}}o&64&&dy(s),o&512&&ol(s,s.return);break;case 3:if(Ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ig(e,n)}catch(p){$t(s,s.return,p)}}break;case 27:n===null&&o&4&&yy(s);case 26:case 5:Ki(e,s),n===null&&o&4&&py(s),o&512&&ol(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),o&4&&Ay(e,s);break;case 13:Ki(e,s),o&4&&by(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=Z1.bind(null,s),_A(e,s))));break;case 22:if(o=s.memoizedState!==null||Qi,!o){n=n!==null&&n.memoizedState!==null||xe,h=Qi;var f=xe;Qi=o,(xe=n)&&!f?Xi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Qi=h,xe=f}break;case 30:break;default:Ki(e,s)}}function Ey(e){var n=e.alternate;n!==null&&(e.alternate=null,Ey(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&sa(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Yi(e,n,s){for(s=s.child;s!==null;)Ty(e,n,s),s=s.sibling}function Ty(e,n,s){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:xe||Ai(s,n),Yi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:xe||Ai(s,n);var o=le,h=on;ks(s.type)&&(le=s.stateNode,on=!1),Yi(e,n,s),gl(s.stateNode),le=o,on=h;break;case 5:xe||Ai(s,n);case 6:if(o=le,h=on,le=null,Yi(e,n,s),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){$t(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){$t(s,n,f)}break;case 18:le!==null&&(on?(e=le,d_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),qa(e)):d_(le,s.stateNode));break;case 4:o=le,h=on,le=s.stateNode.containerInfo,on=!0,Yi(e,n,s),le=o,on=h;break;case 0:case 11:case 14:case 15:xs(2,s,n),xe||xs(4,s,n),Yi(e,n,s);break;case 1:xe||(Ai(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&my(s,n,o)),Yi(e,n,s);break;case 21:Yi(e,n,s);break;case 22:xe=(o=xe)||s.memoizedState!==null,Yi(e,n,s),xe=o;break;default:Yi(e,n,s)}}function Ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qa(e)}catch(s){$t(n,n.return,s)}}}function by(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qa(e)}catch(s){$t(n,n.return,s)}}function F1(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _y),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _y),n;default:throw Error(a(435,e.tag))}}function ec(e,n){var s=F1(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=W1.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(ks(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(a(160));Ty(f,p,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Sy(n,e),n=n.sibling}var Zn=null;function Sy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(xs(3,e,e.return),al(3,e),xs(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(xe||s===null||Ai(s,s.return)),o&64&&Qi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Zn;if(ln(n,e),un(e),o&512&&(xe||s===null||Ai(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Ae]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Ge(f,o,s),f[Ae]=e,be(f),o=f;break t;case"link":var p=S_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;case"meta":if(p=S_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Ge(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Ae]=e,be(f),o=f}e.stateNode=o}else w_(h,e.type,e.stateNode);else e.stateNode=b_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?w_(h,e.type,e.stateNode):b_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Xf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(xe||s===null||Ai(s,s.return)),s!==null&&o&4&&Xf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(xe||s===null||Ai(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(at){$t(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Xf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Zf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){$t(e,e.return,at)}}break;case 3:if(yc=null,h=Zn,Zn=pc(n.containerInfo),ln(n,e),Zn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{qa(n.containerInfo)}catch(at){$t(e,e.return,at)}Zf&&(Zf=!1,wy(e));break;case 4:o=Zn,Zn=pc(e.stateNode.containerInfo),ln(n,e),un(e),Zn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ic=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 22:h=e.memoizedState!==null;var x=s!==null&&s.memoizedState!==null,z=Qi,Q=xe;if(Qi=z||h,xe=Q||x,ln(n,e),xe=Q,Qi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||x||Qi||xe||zr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){x=s=n;try{if(f=x.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=x.stateNode;var K=x.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){$t(x,x.return,at)}}}else if(n.tag===6){if(s===null){x=n;try{x.stateNode.nodeValue=h?"":x.memoizedProps}catch(at){$t(x,x.return,at)}}}else if(n.tag===18){if(s===null){x=n;try{var F=x.stateNode;h?m_(F,!0):m_(x.stateNode,!1)}catch(at){$t(x,x.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,ec(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,ec(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(gy(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=$f(e);tc(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var E=$f(e);tc(e,E,p);break;case 3:case 4:var x=s.stateNode.containerInfo,z=$f(e);Jf(e,z,x);break;default:throw Error(a(161))}}catch(Q){$t(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function wy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;wy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)vy(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:xs(4,n,n.return),zr(n);break;case 1:Ai(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&my(n,n.return,s),zr(n);break;case 27:gl(n.stateNode);case 26:case 5:Ai(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function Xi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(h,f,s),al(4,f);break;case 1:if(Xi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){$t(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var x=h.shared.hiddenCallbacks;if(x!==null)for(h.shared.hiddenCallbacks=null,h=0;h<x.length;h++)ng(x[h],E)}catch(z){$t(o,o.return,z)}}s&&p&64&&dy(f),ol(f,f.return);break;case 27:yy(f);case 26:case 5:Xi(h,f,s),s&&o===null&&p&4&&py(f),ol(f,f.return);break;case 12:Xi(h,f,s);break;case 31:Xi(h,f,s),s&&p&4&&Ay(h,f);break;case 13:Xi(h,f,s),s&&p&4&&by(h,f);break;case 22:f.memoizedState===null&&Xi(h,f,s),ol(f,f.return);break;case 30:break;default:Xi(h,f,s)}n=n.sibling}}function Wf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Yo(s))}function td(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e))}function Wn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ry(e,n,s,o),n=n.sibling}function Ry(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,o),h&2048&&al(9,n);break;case 1:Wn(e,n,s,o);break;case 3:Wn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Yo(e)));break;case 12:if(h&2048){Wn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){$t(n,n.return,x)}}else Wn(e,n,s,o);break;case 31:Wn(e,n,s,o);break;case 13:Wn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,o):ll(e,n):f._visibility&2?Wn(e,n,s,o):(f._visibility|=2,Da(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Wf(p,n);break;case 24:Wn(e,n,s,o),h&2048&&td(n.alternate,n);break;default:Wn(e,n,s,o)}}function Da(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,x=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Da(f,p,E,x,h),al(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Da(f,p,E,x,h):ll(f,p):(Q._visibility|=2,Da(f,p,E,x,h)),h&&z&2048&&Wf(p.alternate,p);break;case 24:Da(f,p,E,x,h),h&&z&2048&&td(p.alternate,p);break;default:Da(f,p,E,x,h)}n=n.sibling}}function ll(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ll(s,o),h&2048&&Wf(o.alternate,o);break;case 24:ll(s,o),h&2048&&td(o.alternate,o);break;default:ll(s,o)}n=n.sibling}}var ul=8192;function Oa(e,n,s){if(e.subtreeFlags&ul)for(e=e.child;e!==null;)Cy(e,n,s),e=e.sibling}function Cy(e,n,s){switch(e.tag){case 26:Oa(e,n,s),e.flags&ul&&e.memoizedState!==null&&NA(s,Zn,e.memoizedState,e.memoizedProps);break;case 5:Oa(e,n,s);break;case 3:case 4:var o=Zn;Zn=pc(e.stateNode.containerInfo),Oa(e,n,s),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ul,ul=16777216,Oa(e,n,s),ul=o):Oa(e,n,s));break;default:Oa(e,n,s)}}function xy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function cl(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Ny(o,e)}xy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Iy(e),e=e.sibling}function Iy(e){switch(e.tag){case 0:case 11:case 15:cl(e),e.flags&2048&&xs(9,e,e.return);break;case 3:cl(e);break;case 12:cl(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,nc(e)):cl(e);break;default:cl(e)}}function nc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Pe=o,Ny(o,e)}xy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:xs(8,n,n.return),nc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,nc(n));break;default:nc(n)}e=e.sibling}}function Ny(e,n){for(;Pe!==null;){var s=Pe;switch(s.tag){case 0:case 11:case 15:xs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Yo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Pe=o;else t:for(s=e;Pe!==null;){o=Pe;var h=o.sibling,f=o.return;if(Ey(o),o===s){Pe=null;break t}if(h!==null){h.return=f,Pe=h;break t}Pe=f}}}var G1={getCacheForType:function(e){var n=He(we),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return He(we).controller.signal}},Q1=typeof WeakMap=="function"?WeakMap:Map,Gt=0,ee=null,xt=null,Nt=0,Xt=0,Tn=null,Is=!1,Ma=!1,ed=!1,$i=0,fe=0,Ns=0,Br=0,nd=0,An=0,Va=0,hl=null,cn=null,id=!1,ic=0,Dy=0,sc=1/0,rc=null,Ds=null,Me=0,Os=null,ka=null,Ji=0,sd=0,rd=null,Oy=null,fl=0,ad=null;function bn(){return(Gt&2)!==0&&Nt!==0?Nt&-Nt:G.T!==null?fd():au()}function My(){if(An===0)if((Nt&536870912)===0||Pt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),An=e}else An=536870912;return e=vn.current,e!==null&&(e.flags|=32),An}function hn(e,n,s){(e===ee&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)&&(Ua(e,0),Ms(e,Nt,An,!1)),pr(e,s),((Gt&2)===0||e!==ee)&&(e===ee&&((Gt&2)===0&&(Br|=s),fe===4&&Ms(e,Nt,An,!1)),bi(e))}function Vy(e,n,s){if((Gt&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?X1(e,n):ld(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Ms(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!Y1(s)){h=ld(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=hl;var x=E.current.memoizedState.isDehydrated;if(x&&(Ua(E,p).flags|=256),p=ld(E,p,!1),p!==2){if(ed&&!x){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){Ua(e,0),Ms(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Ms(o,n,An,!Is);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=ic+300-en(),10<h)){if(Ms(o,n,An,!Is),ri(o,0,!0)!==0)break t;Ji=n,o.timeoutHandle=h_(ky.bind(null,o,s,cn,rc,id,n,An,Br,Va,Is,f,"Throttled",-0,0),h);break t}ky(o,s,cn,rc,id,n,An,Br,Va,Is,f,null,-0,0)}}break}while(!0);bi(e)}function ky(e,n,s,o,h,f,p,E,x,z,Q,K,B,F){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Cy(n,f,K);var at=(f&62914560)===f?ic-en():(f&4194048)===f?Dy-en():0;if(at=DA(K,at),at!==null){Ji=f,e.cancelPendingCommit=at(Hy.bind(null,e,n,f,s,o,h,p,E,x,Q,K,null,B,F)),Ms(e,f,p,!z);return}}Hy(e,n,f,s,o,h,p,E,x)}function Y1(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Ms(e,n,s,o){n&=~nd,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-me(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&gr(e,s,n)}function ac(){return(Gt&6)===0?(dl(0),!1):!0}function od(){if(xt!==null){if(Xt===0)var e=xt.return;else e=xt,zi=Or=null,bf(e),Ra=null,Xo=0,e=xt;for(;e!==null;)fy(e.alternate,e),e=e.return;xt=null}}function Ua(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,dA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),Ji=0,od(),ee=e,xt=s=Pi(e.current,null),Nt=n,Xt=0,Tn=null,Is=!1,Ma=Hn(e,n),ed=!1,Va=An=nd=Br=Ns=fe=0,cn=hl=null,id=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-me(o),f=1<<h;n|=e[h],o&=~f}return $i=n,Cu(),s}function Uy(e,n){bt=null,G.H=il,n===wa||n===ku?(n=Zp(),Xt=3):n===hf?(n=Zp(),Xt=4):Xt=n===jf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,xt===null&&(fe=1,Xu(e,On(n,e.current)))}function Ly(){var e=vn.current;return e===null?!0:(Nt&4194048)===Nt?Un===null:(Nt&62914560)===Nt||(Nt&536870912)!==0?e===Un:!1}function Py(){var e=G.H;return G.H=il,e===null?il:e}function jy(){var e=G.A;return G.A=G1,e}function oc(){fe=4,Is||(Nt&4194048)!==Nt&&vn.current!==null||(Ma=!0),(Ns&134217727)===0&&(Br&134217727)===0||ee===null||Ms(ee,Nt,An,!1)}function ld(e,n,s){var o=Gt;Gt|=2;var h=Py(),f=jy();(ee!==e||Nt!==n)&&(rc=null,Ua(e,n)),n=!1;var p=fe;t:do try{if(Xt!==0&&xt!==null){var E=xt,x=Tn;switch(Xt){case 8:od(),p=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var z=Xt;if(Xt=0,Tn=null,La(e,E,x,z),s&&Ma){p=0;break t}break;default:z=Xt,Xt=0,Tn=null,La(e,E,x,z)}}K1(),p=fe;break}catch(Q){Uy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,zi=Or=null,Gt=o,G.H=h,G.A=f,xt===null&&(ee=null,Nt=0,Cu()),p}function K1(){for(;xt!==null;)zy(xt)}function X1(e,n){var s=Gt;Gt|=2;var o=Py(),h=jy();ee!==e||Nt!==n?(rc=null,sc=en()+500,Ua(e,n)):Ma=Hn(e,n);t:do try{if(Xt!==0&&xt!==null){n=xt;var f=Tn;e:switch(Xt){case 1:Xt=0,Tn=null,La(e,n,f,1);break;case 2:case 9:if($p(f)){Xt=0,Tn=null,By(n);break}n=function(){Xt!==2&&Xt!==9||ee!==e||(Xt=7),bi(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:$p(f)?(Xt=0,Tn=null,By(n)):(Xt=0,Tn=null,La(e,n,f,7));break;case 5:var p=null;switch(xt.tag){case 26:p=xt.memoizedState;case 5:case 27:var E=xt;if(p?R_(p):E.stateNode.complete){Xt=0,Tn=null;var x=E.sibling;if(x!==null)xt=x;else{var z=E.return;z!==null?(xt=z,lc(z)):xt=null}break e}}Xt=0,Tn=null,La(e,n,f,5);break;case 6:Xt=0,Tn=null,La(e,n,f,6);break;case 8:od(),fe=6;break t;default:throw Error(a(462))}}$1();break}catch(Q){Uy(e,Q)}while(!0);return zi=Or=null,G.H=o,G.A=h,Gt=s,xt!==null?0:(ee=null,Nt=0,Cu(),fe)}function $1(){for(;xt!==null&&!Lh();)zy(xt)}function zy(e){var n=cy(e.alternate,e,$i);e.memoizedProps=e.pendingProps,n===null?lc(e):xt=n}function By(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=sy(s,n,n.pendingProps,n.type,void 0,Nt);break;case 11:n=sy(s,n,n.pendingProps,n.type.render,n.ref,Nt);break;case 5:bf(n);default:fy(s,n),n=xt=jp(n,$i),n=cy(s,n,$i)}e.memoizedProps=e.pendingProps,n===null?lc(e):xt=n}function La(e,n,s,o){zi=Or=null,bf(n),Ra=null,Xo=0;var h=n.return;try{if(P1(e,h,n,s,Nt)){fe=1,Xu(e,On(s,e.current)),xt=null;return}}catch(f){if(h!==null)throw xt=h,f;fe=1,Xu(e,On(s,e.current)),xt=null;return}n.flags&32768?(Pt||o===1?e=!0:Ma||(Nt&536870912)!==0?e=!1:(Is=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),qy(n,e)):lc(n)}function lc(e){var n=e;do{if((n.flags&32768)!==0){qy(n,Is);return}e=n.return;var s=B1(n.alternate,n,$i);if(s!==null){xt=s;return}if(n=n.sibling,n!==null){xt=n;return}xt=n=e}while(n!==null);fe===0&&(fe=5)}function qy(e,n){do{var s=q1(e.alternate,e);if(s!==null){s.flags&=32767,xt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){xt=e;return}xt=e=s}while(e!==null);fe=6,xt=null}function Hy(e,n,s,o,h,f,p,E,x){e.cancelPendingCommit=null;do uc();while(Me!==0);if((Gt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Xh,zh(e,s,f,p,E,x),e===ee&&(xt=ee=null,Nt=0),ka=n,Os=e,Ji=s,sd=f,rd=h,Oy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,tA(us,function(){return Ky(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=it.p,it.p=2,p=Gt,Gt|=4;try{H1(e,n,s)}finally{Gt=p,it.p=h,G.T=o}}Me=1,Fy(),Gy(),Qy()}}function Fy(){if(Me===1){Me=0;var e=Os,n=ka,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=Gt;Gt|=4;try{Sy(n,e);var f=Ed,p=Np(e.containerInfo),E=f.focusedElem,x=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Ip(E.ownerDocument.documentElement,E)){if(x!==null&&Fh(E)){var z=x.start,Q=x.end;if(Q===void 0&&(Q=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(Q,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var F=B.getSelection(),at=E.textContent.length,gt=Math.min(x.start,at),te=x.end===void 0?gt:Math.min(x.end,at);!F.extend&&gt>te&&(p=te,te=gt,gt=p);var L=xp(E,gt),D=xp(E,te);if(L&&D&&(F.rangeCount!==1||F.anchorNode!==L.node||F.anchorOffset!==L.offset||F.focusNode!==D.node||F.focusOffset!==D.offset)){var j=K.createRange();j.setStart(L.node,L.offset),F.removeAllRanges(),gt>te?(F.addRange(j),F.extend(D.node,D.offset)):(j.setEnd(D.node,D.offset),F.addRange(j))}}}}for(K=[],F=E;F=F.parentNode;)F.nodeType===1&&K.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Y=K[E];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Tc=!!vd,Ed=vd=null}finally{Gt=h,it.p=o,G.T=s}}e.current=n,Me=2}}function Gy(){if(Me===2){Me=0;var e=Os,n=ka,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=it.p;it.p=2;var h=Gt;Gt|=4;try{vy(e,n.alternate,n)}finally{Gt=h,it.p=o,G.T=s}}Me=3}}function Qy(){if(Me===4||Me===3){Me=0,Wl();var e=Os,n=ka,s=Ji,o=Oy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,ka=Os=null,Yy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ds=null),Vi(s),n=n.stateNode,ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=it.p,it.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,it.p=h}}(Ji&3)!==0&&uc(),bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===ad?fl++:(fl=0,ad=e):fl=0,dl(0)}}function Yy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Yo(n)))}function uc(){return Fy(),Gy(),Qy(),Ky()}function Ky(){if(Me!==5)return!1;var e=Os,n=sd;sd=0;var s=Vi(Ji),o=G.T,h=it.p;try{it.p=32>s?32:s,G.T=null,s=rd,rd=null;var f=Os,p=Ji;if(Me=0,ka=Os=null,Ji=0,(Gt&6)!==0)throw Error(a(331));var E=Gt;if(Gt|=4,Iy(f.current),Ry(f,f.current,p,s),Gt=E,dl(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{it.p=h,G.T=o,Yy(e,n)}}function Xy(e,n,s){n=On(s,n),n=Pf(e.stateNode,n,2),e=ws(e,n,2),e!==null&&(pr(e,2),bi(e))}function $t(e,n,s){if(e.tag===3)Xy(e,e,s);else for(;n!==null;){if(n.tag===3){Xy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ds===null||!Ds.has(o))){e=On(s,e),s=$g(2),o=ws(n,s,2),o!==null&&(Jg(s,o,n,e),pr(o,2),bi(o));break}}n=n.return}}function ud(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new Q1;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(ed=!0,h.add(s),e=J1.bind(null,e,n,s),n.then(e,e))}function J1(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ee===e&&(Nt&s)===s&&(fe===4||fe===3&&(Nt&62914560)===Nt&&300>en()-ic?(Gt&2)===0&&Ua(e,0):nd|=s,Va===Nt&&(Va=0)),bi(e)}function $y(e,n){n===0&&(n=ru()),e=Ir(e,n),e!==null&&(pr(e,n),bi(e))}function Z1(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),$y(e,s)}function W1(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),$y(e,s)}function tA(e,n){return Oe(e,n)}var cc=null,Pa=null,cd=!1,hc=!1,hd=!1,Vs=0;function bi(e){e!==Pa&&e.next===null&&(Pa===null?cc=Pa=e:Pa=Pa.next=e),hc=!0,cd||(cd=!0,nA())}function dl(e,n){if(!hd&&hc){hd=!0;do for(var s=!1,o=cc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-me(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,t_(o,f))}else f=Nt,f=ri(o,o===ee?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(s=!0,t_(o,f));o=o.next}while(s);hd=!1}}function eA(){Jy()}function Jy(){hc=cd=!1;var e=0;Vs!==0&&fA()&&(e=Vs);for(var n=en(),s=null,o=cc;o!==null;){var h=o.next,f=Zy(o,n);f===0?(o.next=null,s===null?cc=h:s.next=h,h===null&&(Pa=s)):(s=o,(e!==0||(f&3)!==0)&&(hc=!0)),o=h}Me!==0&&Me!==5||dl(e),Vs!==0&&(Vs=0)}function Zy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-me(f),E=1<<p,x=h[p];x===-1?((E&s)===0||(E&o)!==0)&&(h[p]=jh(E,n)):x<=n&&(e.expiredLanes|=E),f&=~E}if(n=ee,s=Nt,s=ri(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Xt===2||Xt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&ls(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&ls(o),Vi(s)){case 2:case 8:s=bo;break;case 32:s=us;break;case 268435456:s=tu;break;default:s=us}return o=Wy.bind(null,e),s=Oe(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&ls(o),e.callbackPriority=2,e.callbackNode=null,2}function Wy(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(uc()&&e.callbackNode!==s)return null;var o=Nt;return o=ri(e,e===ee?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Vy(e,o,n),Zy(e,en()),e.callbackNode!=null&&e.callbackNode===s?Wy.bind(null,e):null)}function t_(e,n){if(uc())return null;Vy(e,n,!0)}function nA(){mA(function(){(Gt&6)!==0?Oe(Ao,eA):Jy()})}function fd(){if(Vs===0){var e=ba;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Vs=e}return Vs}function e_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:la(""+e)}function n_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function iA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=e_((h[Ue]||null).action),p=o.submitter;p&&(n=(n=p[Ue]||null)?e_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Vs!==0){var x=p?n_(h,p):new FormData(h);Of(s,{pending:!0,data:x,method:h.method,action:f},null,x)}}else typeof f=="function"&&(E.preventDefault(),x=p?n_(h,p):new FormData(h),Of(s,{pending:!0,data:x,method:h.method,action:f},f,x))},currentTarget:h}]})}}for(var dd=0;dd<Kh.length;dd++){var md=Kh[dd],sA=md.toLowerCase(),rA=md[0].toUpperCase()+md.slice(1);Jn(sA,"on"+rA)}Jn(Mp,"onAnimationEnd"),Jn(Vp,"onAnimationIteration"),Jn(kp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(T1,"onTransitionRun"),Jn(A1,"onTransitionStart"),Jn(b1,"onTransitionCancel"),Jn(Up,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ml));function i_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],x=E.instance,z=E.currentTarget;if(E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=x}else for(p=0;p<o.length;p++){if(E=o[p],x=E.instance,z=E.currentTarget,E=E.listener,x!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(Q){Ru(Q)}h.currentTarget=null,f=x}}}}function It(e,n){var s=n[ia];s===void 0&&(s=n[ia]=new Set);var o=e+"__bubble";s.has(o)||(s_(n,e,2,!1),s.add(o))}function pd(e,n,s){var o=0;n&&(o|=4),s_(s,e,o,n)}var fc="_reactListening"+Math.random().toString(36).slice(2);function gd(e){if(!e[fc]){e[fc]=!0,Ro.forEach(function(s){s!=="selectionchange"&&(aA.has(s)||pd(s,!1,e),pd(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[fc]||(n[fc]=!0,pd("selectionchange",!1,n))}}function s_(e,n,s,o){switch(M_(n)){case 2:var h=VA;break;case 8:h=kA;break;default:h=Dd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function yd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var x=p.tag;if((x===3||x===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ui(E),p===null)return;if(x=p.tag,x===5||x===6||x===26||x===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ps(function(){var z=f,Q=xn(s),K=[];t:{var B=Lp.get(e);if(B!==void 0){var F=gi,at=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":F=bu;break;case"focusin":at="focus",F=wr;break;case"focusout":at="blur",F=wr;break;case"beforeblur":case"afterblur":F=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=jo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=mu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Mp:case Vp:case kp:F=gu;break;case Up:F=T;break;case"scroll":case"scrollend":F=Po;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=yu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Li;break;case"toggle":case"beforetoggle":F=At}var gt=(n&4)!==0,te=!gt&&(e==="scroll"||e==="scrollend"),L=gt?B!==null?B+"Capture":null:B;gt=[];for(var D=z,j;D!==null;){var Y=D;if(j=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||j===null||L===null||(Y=Yn(D,L),Y!=null&&gt.push(pl(D,Y,j))),te)break;D=D.return}0<gt.length&&(B=new F(B,at,null,s,Q),K.push({event:B,listeners:gt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",B&&s!==ko&&(at=s.relatedTarget||s.fromElement)&&(ui(at)||at[oi]))break t;if((F||B)&&(B=Q.window===Q?Q:(B=Q.ownerDocument)?B.defaultView||B.parentWindow:window,F?(at=s.relatedTarget||s.toElement,F=z,at=at?ui(at):null,at!==null&&(te=c(at),gt=at.tag,at!==te||gt!==5&&gt!==27&&gt!==6)&&(at=null)):(F=null,at=z),F!==at)){if(gt=jo,Y="onMouseLeave",L="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(gt=Li,Y="onPointerLeave",L="onPointerEnter",D="pointer"),te=F==null?B:pn(F),j=at==null?B:pn(at),B=new gt(Y,D+"leave",F,s,Q),B.target=te,B.relatedTarget=j,Y=null,ui(Q)===z&&(gt=new gt(L,D+"enter",at,s,Q),gt.target=j,gt.relatedTarget=te,Y=gt),te=Y,F&&at)e:{for(gt=oA,L=F,D=at,j=0,Y=L;Y;Y=gt(Y))j++;Y=0;for(var dt=D;dt;dt=gt(dt))Y++;for(;0<j-Y;)L=gt(L),j--;for(;0<Y-j;)D=gt(D),Y--;for(;j--;){if(L===D||D!==null&&L===D.alternate){gt=L;break e}L=gt(L),D=gt(D)}gt=null}else gt=null;F!==null&&r_(K,B,F,gt,!1),at!==null&&te!==null&&r_(K,te,at,gt,!0)}}t:{if(B=z?pn(z):window,F=B.nodeName&&B.nodeName.toLowerCase(),F==="select"||F==="input"&&B.type==="file")var Bt=Ap;else if(Ep(B))if(bp)Bt=_1;else{Bt=g1;var ut=p1}else F=B.nodeName,!F||F.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&oa(z.elementType)&&(Bt=Ap):Bt=y1;if(Bt&&(Bt=Bt(e,z))){Tp(K,Bt,s,Q);break t}ut&&ut(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&Oo(B,"number",B.value)}switch(ut=z?pn(z):window,e){case"focusin":(Ep(ut)||ut.contentEditable==="true")&&(pa=ut,Gh=z,Fo=null);break;case"focusout":Fo=Gh=pa=null;break;case"mousedown":Qh=!0;break;case"contextmenu":case"mouseup":case"dragend":Qh=!1,Dp(K,s,Q);break;case"selectionchange":if(E1)break;case"keydown":case"keyup":Dp(K,s,Q)}var St;if(Ft)t:{switch(e){case"compositionstart":var Dt="onCompositionStart";break t;case"compositionend":Dt="onCompositionEnd";break t;case"compositionupdate":Dt="onCompositionUpdate";break t}Dt=void 0}else ma?Rr(e,s)&&(Dt="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Dt="onCompositionStart");Dt&&(vi&&s.locale!=="ko"&&(ma||Dt!=="onCompositionStart"?Dt==="onCompositionEnd"&&ma&&(St=Lo()):(pi=Q,Uo="value"in pi?pi.value:pi.textContent,ma=!0)),ut=dc(z,Dt),0<ut.length&&(Dt=new _i(Dt,e,null,s,Q),K.push({event:Dt,listeners:ut}),St?Dt.data=St:(St=da(s),St!==null&&(Dt.data=St)))),(St=Nn?h1(e,s):f1(e,s))&&(Dt=dc(z,"onBeforeInput"),0<Dt.length&&(ut=new _i("onBeforeInput","beforeinput",null,s,Q),K.push({event:ut,listeners:Dt}),ut.data=St)),iA(K,e,z,s,Q)}i_(K,n)})}function pl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function dc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&o.unshift(pl(e,h,f)),h=Yn(e,n),h!=null&&o.push(pl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function oA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function r_(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,x=E.alternate,z=E.stateNode;if(E=E.tag,x!==null&&x===o)break;E!==5&&E!==26&&E!==27||z===null||(x=z,h?(z=Yn(s,f),z!=null&&p.unshift(pl(s,z,x))):h||(z=Yn(s,f),z!=null&&p.push(pl(s,z,x)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var lA=/\r\n?/g,uA=/\u0000|\uFFFD/g;function a_(e){return(typeof e=="string"?e:""+e).replace(lA,`
`).replace(uA,"")}function o_(e,n){return n=a_(n),a_(e)===n}function Wt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,s,o);break;case"style":Vo(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Wt(e,n,"name",h.name,h,null),Wt(e,n,"formEncType",h.formEncType,h,null),Wt(e,n,"formMethod",h.formMethod,h,null),Wt(e,n,"formTarget",h.formTarget,h,null)):(Wt(e,n,"encType",h.encType,h,null),Wt(e,n,"method",h.method,h,null),Wt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=la(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=la(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":It("beforetoggle",e),It("toggle",e),ra(e,"popover",o);break;case"xlinkActuate":Se(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Se(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Se(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Se(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Se(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Se(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Se(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Se(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Se(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":ra(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=du.get(s)||s,ra(e,s,o))}}function _d(e,n,s,o,h,f){switch(s){case"style":Vo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Co.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[Ue]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):ra(e,s,o)}}}function Ge(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,f,p,s,null)}}h&&Wt(e,n,"srcSet",s.srcSet,s,null),o&&Wt(e,n,"src",s.src,s,null);return;case"input":It("invalid",e);var E=f=p=h=null,x=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":x=Q;break;case"defaultChecked":z=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(a(137,n));break;default:Wt(e,n,o,Q,s,null)}}cu(e,f,E,x,z,p,h,!1);return;case"select":It("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Wt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?hs(e,!!o,n,!1):s!=null&&hs(e,!!o,s,!0);return;case"textarea":It("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Wt(e,n,p,E,s,null)}fs(e,o,h,f);return;case"option":for(x in s)s.hasOwnProperty(x)&&(o=s[x],o!=null)&&(x==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Wt(e,n,x,o,s,null));return;case"dialog":It("beforetoggle",e),It("toggle",e),It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<ml.length;o++)It(ml[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Wt(e,n,z,o,s,null)}return;default:if(oa(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&_d(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Wt(e,n,E,o,s,null))}function cA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,x=null,z=null,Q=null;for(F in s){var K=s[F];if(s.hasOwnProperty(F)&&K!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":x=K;default:o.hasOwnProperty(F)||Wt(e,n,F,null,o,K)}}for(var B in o){var F=o[B];if(K=s[B],o.hasOwnProperty(B)&&(F!=null||K!=null))switch(B){case"type":f=F;break;case"name":h=F;break;case"checked":z=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==K&&Wt(e,n,B,F,o,K)}}aa(e,p,E,x,z,Q,f,h);return;case"select":F=p=E=B=null;for(f in s)if(x=s[f],s.hasOwnProperty(f)&&x!=null)switch(f){case"value":break;case"multiple":F=x;default:o.hasOwnProperty(f)||Wt(e,n,f,null,o,x)}for(h in o)if(f=o[h],x=s[h],o.hasOwnProperty(h)&&(f!=null||x!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==x&&Wt(e,n,h,f,o,x)}n=E,s=p,o=F,B!=null?hs(e,!!s,B,!1):!!o!=!!s&&(n!=null?hs(e,!!s,n,!0):hs(e,!!s,s?[]:"",!1));return;case"textarea":F=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Wt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&Wt(e,n,p,h,o,f)}hu(e,B,F);return;case"option":for(var at in s)B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Wt(e,n,at,null,o,B));for(x in o)B=o[x],F=s[x],o.hasOwnProperty(x)&&B!==F&&(B!=null||F!=null)&&(x==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":Wt(e,n,x,B,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var gt in s)B=s[gt],s.hasOwnProperty(gt)&&B!=null&&!o.hasOwnProperty(gt)&&Wt(e,n,gt,null,o,B);for(z in o)if(B=o[z],F=s[z],o.hasOwnProperty(z)&&B!==F&&(B!=null||F!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Wt(e,n,z,B,o,F)}return;default:if(oa(n)){for(var te in s)B=s[te],s.hasOwnProperty(te)&&B!==void 0&&!o.hasOwnProperty(te)&&_d(e,n,te,void 0,o,B);for(Q in o)B=o[Q],F=s[Q],!o.hasOwnProperty(Q)||B===F||B===void 0&&F===void 0||_d(e,n,Q,B,o,F);return}}for(var L in s)B=s[L],s.hasOwnProperty(L)&&B!=null&&!o.hasOwnProperty(L)&&Wt(e,n,L,null,o,B);for(K in o)B=o[K],F=s[K],!o.hasOwnProperty(K)||B===F||B==null&&F==null||Wt(e,n,K,B,o,F)}function l_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function hA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&l_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var x=s[o],z=x.startTime;if(z>E)break;var Q=x.transferSize,K=x.initiatorType;Q&&l_(K)&&(x=x.responseEnd,p+=Q*(x<E?1:(E-z)/(x-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var vd=null,Ed=null;function mc(e){return e.nodeType===9?e:e.ownerDocument}function u_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function c_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Td(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Ad=null;function fA(){var e=window.event;return e&&e.type==="popstate"?e===Ad?!1:(Ad=e,!0):(Ad=null,!1)}var h_=typeof setTimeout=="function"?setTimeout:void 0,dA=typeof clearTimeout=="function"?clearTimeout:void 0,f_=typeof Promise=="function"?Promise:void 0,mA=typeof queueMicrotask=="function"?queueMicrotask:typeof f_<"u"?function(e){return f_.resolve(null).then(e).catch(pA)}:h_;function pA(e){setTimeout(function(){throw e})}function ks(e){return e==="head"}function d_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),qa(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")gl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,gl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&gl(e.ownerDocument.body);s=h}while(s);qa(n)}function m_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function bd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":bd(s),sa(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function gA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function yA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function p_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function Sd(e){return e.data==="$?"||e.data==="$~"}function wd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function _A(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Rd=null;function g_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function y_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function __(e,n,s){switch(n=mc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function gl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);sa(e)}var Pn=new Map,v_=new Set;function pc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=it.d;it.d={f:vA,r:EA,D:TA,C:AA,L:bA,m:SA,X:RA,S:wA,M:CA};function vA(){var e=Zi.f(),n=ac();return e||n}function EA(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?Ug(n):Zi.r(e)}var ja=typeof document>"u"?null:document;function E_(e,n,s){var o=ja;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),v_.has(h)||(v_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Ge(n,"link",e),be(n),o.head.appendChild(n)))}}function TA(e){Zi.D(e),E_("dns-prefetch",e,null)}function AA(e,n){Zi.C(e,n),E_("preconnect",e,n)}function bA(e,n,s){Zi.L(e,n,s);var o=ja;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=za(e);break;case"script":f=Ba(e)}Pn.has(f)||(e=w({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(yl(f))||n==="script"&&o.querySelector(_l(f))||(n=o.createElement("link"),Ge(n,"link",e),be(n),o.head.appendChild(n)))}}function SA(e,n){Zi.m(e,n);var s=ja;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ba(e)}if(!Pn.has(f)&&(e=w({rel:"modulepreload",href:e},n),Pn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(_l(f)))return}o=s.createElement("link"),Ge(o,"link",e),be(o),s.head.appendChild(o)}}}function wA(e,n,s){Zi.S(e,n,s);var o=ja;if(o&&e){var h=ci(o).hoistableStyles,f=za(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(yl(f)))E.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pn.get(f))&&Cd(e,s);var x=p=o.createElement("link");be(x),Ge(x,"link",e),x._p=new Promise(function(z,Q){x.onload=z,x.onerror=Q}),x.addEventListener("load",function(){E.loading|=1}),x.addEventListener("error",function(){E.loading|=2}),E.loading|=4,gc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function RA(e,n){Zi.X(e,n);var s=ja;if(s&&e){var o=ci(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0},n),(n=Pn.get(h))&&xd(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function CA(e,n){Zi.M(e,n);var s=ja;if(s&&e){var o=ci(s).hoistableScripts,h=Ba(e),f=o.get(h);f||(f=s.querySelector(_l(h)),f||(e=w({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&xd(e,n),f=s.createElement("script"),be(f),Ge(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function T_(e,n,s,o){var h=(h=mt.current)?pc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=za(s.href),s=ci(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=za(s.href);var f=ci(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(yl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),f||xA(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ba(s),s=ci(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function za(e){return'href="'+rn(e)+'"'}function yl(e){return'link[rel="stylesheet"]['+e+"]"}function A_(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function xA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Ge(n,"link",s),be(n),e.head.appendChild(n))}function Ba(e){return'[src="'+rn(e)+'"]'}function _l(e){return"script[async]"+e}function b_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,be(o),o;var h=w({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),be(o),Ge(o,"style",h),gc(o,s.precedence,e),n.instance=o;case"stylesheet":h=za(s.href);var f=e.querySelector(yl(h));if(f)return n.state.loading|=4,n.instance=f,be(f),f;o=A_(s),(h=Pn.get(h))&&Cd(o,h),f=(e.ownerDocument||e).createElement("link"),be(f);var p=f;return p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Ge(f,"link",o),n.state.loading|=4,gc(f,s.precedence,e),n.instance=f;case"script":return f=Ba(s.src),(h=e.querySelector(_l(f)))?(n.instance=h,be(h),h):(o=s,(h=Pn.get(f))&&(o=w({},s),xd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),be(h),Ge(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,gc(o,s.precedence,e));return n.instance}function gc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function xd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var yc=null;function S_(e,n,s){if(yc===null){var o=new Map,h=yc=new Map;h.set(s,o)}else h=yc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[li]||f[Ae]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function w_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function IA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function R_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function NA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=za(o.href),f=n.querySelector(yl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,be(f);return}f=n.ownerDocument||n,o=A_(o),(h=Pn.get(h))&&Cd(o,h),f=f.createElement("link"),be(f);var p=f;p._p=new Promise(function(E,x){p.onload=E,p.onerror=x}),Ge(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=_c.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Id=0;function DA(e,n){return e.stylesheets&&e.count===0&&Ec(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Id===0&&(Id=62500*hA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ec(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Id?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ec(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var vc=null;function Ec(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,vc=new Map,n.forEach(OA,e),vc=null,_c.call(e))}function OA(e,n){if(!(n.state.loading&4)){var s=vc.get(e);if(s)var o=s.get(null);else{s=new Map,vc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=_c.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var vl={$$typeof:ct,Provider:null,Consumer:null,_currentValue:ft,_currentValue2:ft,_threadCount:0};function MA(e,n,s,o,h,f,p,E,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function C_(e,n,s,o,h,f,p,E,x,z,Q,K){return e=new MA(e,n,s,p,x,z,Q,K,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=lf(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},ff(f),e}function x_(e){return e?(e=_a,e):_a}function I_(e,n,s,o,h,f){h=x_(h),o.context===null?o.context=h:o.pendingContext=h,o=Ss(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=ws(e,o,n),s!==null&&(hn(s,e,n),Jo(s,e,n))}function N_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Nd(e,n){N_(e,n),(e=e.alternate)&&N_(e,n)}function D_(e){if(e.tag===13||e.tag===31){var n=Ir(e,67108864);n!==null&&hn(n,e,67108864),Nd(e,67108864)}}function O_(e){if(e.tag===13||e.tag===31){var n=bn();n=yr(n);var s=Ir(e,n);s!==null&&hn(s,e,n),Nd(e,n)}}var Tc=!0;function VA(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=2,Dd(e,n,s,o)}finally{it.p=f,G.T=h}}function kA(e,n,s,o){var h=G.T;G.T=null;var f=it.p;try{it.p=8,Dd(e,n,s,o)}finally{it.p=f,G.T=h}}function Dd(e,n,s,o){if(Tc){var h=Od(o);if(h===null)yd(e,n,o,Ac,s),V_(e,o);else if(LA(h,e,n,s,o))o.stopPropagation();else if(V_(e,o),n&4&&-1<UA.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var x=1<<31-me(p);E.entanglements[1]|=x,p&=~x}bi(f),(Gt&6)===0&&(sc=en()+500,dl(0))}}break;case 31:case 13:E=Ir(f,2),E!==null&&hn(E,f,2),ac(),Nd(f,2)}if(f=Od(o),f===null&&yd(e,n,o,Ac,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else yd(e,n,o,null,s)}}function Od(e){return e=xn(e),Md(e)}var Ac=null;function Md(e){if(Ac=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ac=e,null}function M_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Ao:return 2;case bo:return 8;case us:case Ph:return 32;case tu:return 268435456;default:return 32}default:return 32}}var Vd=!1,Us=null,Ls=null,Ps=null,El=new Map,Tl=new Map,js=[],UA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function V_(e,n){switch(e){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ls=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":El.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Tl.delete(n.pointerId)}}function Al(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&D_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function LA(e,n,s,o,h){switch(n){case"focusin":return Us=Al(Us,e,n,s,o,h),!0;case"dragenter":return Ls=Al(Ls,e,n,s,o,h),!0;case"mouseover":return Ps=Al(Ps,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return El.set(f,Al(El.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,Tl.set(f,Al(Tl.get(f)||null,e,n,s,o,h)),!0}return!1}function k_(e){var n=ui(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){O_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){O_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function bc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Od(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);ko=o,s.target.dispatchEvent(o),ko=null}else return n=Cn(s),n!==null&&D_(n),e.blockedOn=s,!1;n.shift()}return!0}function U_(e,n,s){bc(e)&&s.delete(n)}function PA(){Vd=!1,Us!==null&&bc(Us)&&(Us=null),Ls!==null&&bc(Ls)&&(Ls=null),Ps!==null&&bc(Ps)&&(Ps=null),El.forEach(U_),Tl.forEach(U_)}function Sc(e,n){e.blockedOn===n&&(e.blockedOn=null,Vd||(Vd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,PA)))}var wc=null;function L_(e){wc!==e&&(wc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===e&&(wc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Md(o||s)===null)continue;break}var f=Cn(s);f!==null&&(e.splice(n,3),n-=3,Of(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function qa(e){function n(x){return Sc(x,e)}Us!==null&&Sc(Us,e),Ls!==null&&Sc(Ls,e),Ps!==null&&Sc(Ps,e),El.forEach(n),Tl.forEach(n);for(var s=0;s<js.length;s++){var o=js[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<js.length&&(s=js[0],s.blockedOn===null);)k_(s),s.blockedOn===null&&js.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[Ue]||null;if(typeof f=="function")p||L_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[Ue]||null)E=p.formAction;else if(Md(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),L_(s)}}}function P_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function kd(e){this._internalRoot=e}Rc.prototype.render=kd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();I_(s,o,e,n,null,null)},Rc.prototype.unmount=kd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;I_(e.current,2,null,e,null,null),ac(),n[oi]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var n=au();e={blockedOn:null,target:e,priority:n};for(var s=0;s<js.length&&n!==0&&n<js[s].priority;s++);js.splice(s,0,e),s===0&&k_(e)}};var j_=t.version;if(j_!=="19.2.3")throw Error(a(527,j_,"19.2.3"));it.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var jA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cc.isDisabled&&Cc.supportsFiber)try{qn=Cc.inject(jA),ze=Cc}catch{}}return Sl.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Qg,f=Yg,p=Kg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=C_(e,1,!1,null,null,s,o,null,h,f,p,P_),e[oi]=n.current,gd(e),new kd(n)},Sl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Qg,p=Yg,E=Kg,x=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(x=s.formState)),n=C_(e,1,!0,n,s??null,o,h,x,f,p,E,P_),n.context=x_(null),s=n.current,o=bn(),o=yr(o),h=Ss(o),h.callback=null,ws(s,h,o),s=o,n.current.lanes=s,pr(n,s),bi(n),e[oi]=n.current,gd(e),new Rc(n)},Sl.version="19.2.3",Sl}var X_;function XA(){if(X_)return Pd.exports;X_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Pd.exports=KA(),Pd.exports}var $A=XA();const JA=()=>{};var $_={};const S0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},ZA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},w0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,w=(c&3)<<4|g>>4;let O=(g&15)<<2|y>>6,q=y&63;_||(q=64,d||(O=64)),a.push(i[A],i[w],i[O],i[q])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(S0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):ZA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const w=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||w==null)throw new WA;const O=c<<2|g>>4;if(a.push(O),y!==64){const q=g<<4&240|y>>2;if(a.push(q),w!==64){const W=y<<6&192|w;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class WA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const tb=function(r){const t=S0(r);return w0.encodeByteArray(t,!0)},Gc=function(r){return tb(r).replace(/\./g,"")},R0=function(r){try{return w0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function eb(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const nb=()=>eb().__FIREBASE_DEFAULTS__,ib=()=>{if(typeof process>"u"||typeof $_>"u")return;const r=$_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},sb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&R0(r[1]);return t&&JSON.parse(t)},fh=()=>{try{return JA()||nb()||ib()||sb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},C0=r=>fh()?.emulatorHosts?.[r],rb=r=>{const t=C0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},x0=()=>fh()?.config,I0=r=>fh()?.[`_${r}`];class ab{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function uo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function N0(r){return(await fetch(r,{credentials:"include"})).ok}function ob(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const Il={};function lb(){const r={prod:[],emulator:[]};for(const t of Object.keys(Il))Il[t]?r.emulator.push(t):r.prod.push(t);return r}function ub(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let J_=!1;function D0(r,t){if(typeof window>"u"||typeof document>"u"||!uo(window.location.host)||Il[r]===t||Il[r]||J_)return;Il[r]=t;function i(O){return`__firebase__banner__${O}`}const a="__firebase__banner",c=lb().prod.length>0;function d(){const O=document.getElementById(a);O&&O.remove()}function g(O){O.style.display="flex",O.style.background="#7faaf0",O.style.position="fixed",O.style.bottom="5px",O.style.left="5px",O.style.padding=".5em",O.style.borderRadius="5px",O.style.alignItems="center"}function _(O,q){O.setAttribute("width","24"),O.setAttribute("id",q),O.setAttribute("height","24"),O.setAttribute("viewBox","0 0 24 24"),O.setAttribute("fill","none"),O.style.marginLeft="-6px"}function y(){const O=document.createElement("span");return O.style.cursor="pointer",O.style.marginLeft="16px",O.style.fontSize="24px",O.innerHTML=" &times;",O.onclick=()=>{J_=!0,d()},O}function A(O,q){O.setAttribute("id",q),O.innerText="Learn more",O.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",O.setAttribute("target","__blank"),O.style.paddingLeft="5px",O.style.textDecoration="underline"}function w(){const O=ub(a),q=i("text"),W=document.getElementById(q)||document.createElement("span"),tt=i("learnmore"),$=document.getElementById(tt)||document.createElement("a"),lt=i("preprendIcon"),st=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(O.created){const ct=O.element;g(ct),A($,tt);const Ut=y();_(st,lt),ct.append(st,W,$,Ut),document.body.appendChild(ct)}c?(W.innerText="Preview backend disconnected.",st.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(st.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",q)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function cb(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function hb(){const r=fh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function db(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function mb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pb(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function gb(){return!hb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function yb(){try{return typeof indexedDB=="object"}catch{return!1}}function _b(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const vb="FirebaseError";class os extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=vb,Object.setPrototypeOf(this,os.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ql.prototype.create)}}class ql{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?Eb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new os(l,g,a)}}function Eb(r,t){return r.replace(Tb,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const Tb=/\{\$([^}]+)}/g;function Ab(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function es(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(Z_(c)&&Z_(d)){if(!es(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function Z_(r){return r!==null&&typeof r=="object"}function Hl(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function bb(r,t){const i=new Sb(r,t);return i.subscribe.bind(i)}class Sb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");wb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=qd),l.error===void 0&&(l.error=qd),l.complete===void 0&&(l.complete=qd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function wb(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function qd(){}function Ke(r){return r&&r._delegate?r._delegate:r}class Yr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class Rb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ab;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(xb(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Cb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Cb(r){return r===qr?void 0:r}function xb(r){return r.instantiationMode==="EAGER"}class Ib{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new Rb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const Nb={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},Db=Mt.INFO,Ob={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Mb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Ob[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Dm{constructor(t){this.name=t,this._logLevel=Db,this._logHandler=Mb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Nb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const Vb=(r,t)=>t.some(i=>r instanceof i);let W_,tv;function kb(){return W_||(W_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ub(){return tv||(tv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const O0=new WeakMap,im=new WeakMap,M0=new WeakMap,Hd=new WeakMap,Om=new WeakMap;function Lb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ks(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&O0.set(i,r)}).catch(()=>{}),Om.set(t,r),t}function Pb(r){if(im.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});im.set(r,t)}let sm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return im.get(r);if(t==="objectStoreNames")return r.objectStoreNames||M0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function jb(r){sm=r(sm)}function zb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Fd(this),t,...i);return M0.set(a,t.sort?t.sort():[t]),Ks(a)}:Ub().includes(r)?function(...t){return r.apply(Fd(this),t),Ks(O0.get(this))}:function(...t){return Ks(r.apply(Fd(this),t))}}function Bb(r){return typeof r=="function"?zb(r):(r instanceof IDBTransaction&&Pb(r),Vb(r,kb())?new Proxy(r,sm):r)}function Ks(r){if(r instanceof IDBRequest)return Lb(r);if(Hd.has(r))return Hd.get(r);const t=Bb(r);return t!==r&&(Hd.set(r,t),Om.set(t,r)),t}const Fd=r=>Om.get(r);function qb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Ks(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ks(d.result),_.oldVersion,_.newVersion,Ks(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const Hb=["get","getKey","getAll","getAllKeys","count"],Fb=["put","add","delete","clear"],Gd=new Map;function ev(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Gd.get(t))return Gd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Fb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||Hb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Gd.set(t,c),c}jb(r=>({...r,get:(t,i,a)=>ev(t,i)||r.get(t,i,a),has:(t,i)=>!!ev(t,i)||r.has(t,i)}));class Gb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Qb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Qb(r){return r.getComponent()?.type==="VERSION"}const rm="@firebase/app",nv="0.14.6";const ns=new Dm("@firebase/app"),Yb="@firebase/app-compat",Kb="@firebase/analytics-compat",Xb="@firebase/analytics",$b="@firebase/app-check-compat",Jb="@firebase/app-check",Zb="@firebase/auth",Wb="@firebase/auth-compat",tS="@firebase/database",eS="@firebase/data-connect",nS="@firebase/database-compat",iS="@firebase/functions",sS="@firebase/functions-compat",rS="@firebase/installations",aS="@firebase/installations-compat",oS="@firebase/messaging",lS="@firebase/messaging-compat",uS="@firebase/performance",cS="@firebase/performance-compat",hS="@firebase/remote-config",fS="@firebase/remote-config-compat",dS="@firebase/storage",mS="@firebase/storage-compat",pS="@firebase/firestore",gS="@firebase/ai",yS="@firebase/firestore-compat",_S="firebase",vS="12.6.0";const am="[DEFAULT]",ES={[rm]:"fire-core",[Yb]:"fire-core-compat",[Xb]:"fire-analytics",[Kb]:"fire-analytics-compat",[Jb]:"fire-app-check",[$b]:"fire-app-check-compat",[Zb]:"fire-auth",[Wb]:"fire-auth-compat",[tS]:"fire-rtdb",[eS]:"fire-data-connect",[nS]:"fire-rtdb-compat",[iS]:"fire-fn",[sS]:"fire-fn-compat",[rS]:"fire-iid",[aS]:"fire-iid-compat",[oS]:"fire-fcm",[lS]:"fire-fcm-compat",[uS]:"fire-perf",[cS]:"fire-perf-compat",[hS]:"fire-rc",[fS]:"fire-rc-compat",[dS]:"fire-gcs",[mS]:"fire-gcs-compat",[pS]:"fire-fst",[yS]:"fire-fst-compat",[gS]:"fire-vertex","fire-js":"fire-js",[_S]:"fire-js-all"};const Qc=new Map,TS=new Map,om=new Map;function iv(r,t){try{r.container.addComponent(t)}catch(i){ns.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function to(r){const t=r.name;if(om.has(t))return ns.debug(`There were multiple attempts to register component ${t}.`),!1;om.set(t,r);for(const i of Qc.values())iv(i,r);for(const i of TS.values())iv(i,r);return!0}function Mm(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}const AS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new ql("app","Firebase",AS);class bS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Yr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const co=vS;function V0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:am,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(i||(i=x0()),!i)throw Xs.create("no-options");const c=Qc.get(l);if(c){if(es(i,c.options)&&es(a,c.config))return c;throw Xs.create("duplicate-app",{appName:l})}const d=new Ib(l);for(const _ of om.values())d.addComponent(_);const g=new bS(i,a,d);return Qc.set(l,g),g}function k0(r=am){const t=Qc.get(r);if(!t&&r===am&&x0())return V0();if(!t)throw Xs.create("no-app",{appName:r});return t}function $s(r,t,i){let a=ES[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ns.warn(d.join(" "));return}to(new Yr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const SS="firebase-heartbeat-database",wS=1,kl="firebase-heartbeat-store";let Qd=null;function U0(){return Qd||(Qd=qb(SS,wS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(kl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xs.create("idb-open",{originalErrorMessage:r.message})})),Qd}async function RS(r){try{const i=(await U0()).transaction(kl),a=await i.objectStore(kl).get(L0(r));return await i.done,a}catch(t){if(t instanceof os)ns.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});ns.warn(i.message)}}}async function sv(r,t){try{const a=(await U0()).transaction(kl,"readwrite");await a.objectStore(kl).put(t,L0(r)),await a.done}catch(i){if(i instanceof os)ns.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});ns.warn(a.message)}}}function L0(r){return`${r.name}!${r.options.appId}`}const CS=1024,xS=30;class IS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new DS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=rv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>xS){const l=OS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=rv(),{heartbeatsToSend:i,unsentEntries:a}=NS(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return ns.warn(t),""}}}function rv(){return new Date().toISOString().substring(0,10)}function NS(r,t=CS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),av(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),av(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class DS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return yb()?_b().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return sv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function av(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function OS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function MS(r){to(new Yr("platform-logger",t=>new Gb(t),"PRIVATE")),to(new Yr("heartbeat",t=>new IS(t),"PRIVATE")),$s(rm,nv,r),$s(rm,nv,"esm2020"),$s("fire-js","")}MS("");var VS="firebase",kS="12.7.0";$s(VS,kS,"app");var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,P0;(function(){var r;function t(I,S){function C(){}C.prototype=S.prototype,I.F=S.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(k,N,U){for(var R=Array(arguments.length-2),Rt=2;Rt<arguments.length;Rt++)R[Rt-2]=arguments[Rt];return S.prototype[N].apply(k,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(I,S,C){C||(C=0);const k=Array(16);if(typeof S=="string")for(var N=0;N<16;++N)k[N]=S.charCodeAt(C++)|S.charCodeAt(C++)<<8|S.charCodeAt(C++)<<16|S.charCodeAt(C++)<<24;else for(N=0;N<16;++N)k[N]=S[C++]|S[C++]<<8|S[C++]<<16|S[C++]<<24;S=I.g[0],C=I.g[1],N=I.g[2];let U=I.g[3],R;R=S+(U^C&(N^U))+k[0]+3614090360&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+k[1]+3905402710&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+k[2]+606105819&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+k[3]+3250441966&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(U^C&(N^U))+k[4]+4118548399&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+k[5]+1200080426&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+k[6]+2821735955&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+k[7]+4249261313&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(U^C&(N^U))+k[8]+1770035416&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+k[9]+2336552879&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+k[10]+4294925233&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+k[11]+2304563134&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(U^C&(N^U))+k[12]+1804603682&4294967295,S=C+(R<<7&4294967295|R>>>25),R=U+(N^S&(C^N))+k[13]+4254626195&4294967295,U=S+(R<<12&4294967295|R>>>20),R=N+(C^U&(S^C))+k[14]+2792965006&4294967295,N=U+(R<<17&4294967295|R>>>15),R=C+(S^N&(U^S))+k[15]+1236535329&4294967295,C=N+(R<<22&4294967295|R>>>10),R=S+(N^U&(C^N))+k[1]+4129170786&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+k[6]+3225465664&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+k[11]+643717713&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+k[0]+3921069994&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(C^N))+k[5]+3593408605&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+k[10]+38016083&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+k[15]+3634488961&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+k[4]+3889429448&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(C^N))+k[9]+568446438&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+k[14]+3275163606&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+k[3]+4107603335&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+k[8]+1163531501&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(N^U&(C^N))+k[13]+2850285829&4294967295,S=C+(R<<5&4294967295|R>>>27),R=U+(C^N&(S^C))+k[2]+4243563512&4294967295,U=S+(R<<9&4294967295|R>>>23),R=N+(S^C&(U^S))+k[7]+1735328473&4294967295,N=U+(R<<14&4294967295|R>>>18),R=C+(U^S&(N^U))+k[12]+2368359562&4294967295,C=N+(R<<20&4294967295|R>>>12),R=S+(C^N^U)+k[5]+4294588738&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+k[8]+2272392833&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+k[11]+1839030562&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+k[14]+4259657740&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^U)+k[1]+2763975236&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+k[4]+1272893353&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+k[7]+4139469664&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+k[10]+3200236656&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^U)+k[13]+681279174&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+k[0]+3936430074&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+k[3]+3572445317&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+k[6]+76029189&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(C^N^U)+k[9]+3654602809&4294967295,S=C+(R<<4&4294967295|R>>>28),R=U+(S^C^N)+k[12]+3873151461&4294967295,U=S+(R<<11&4294967295|R>>>21),R=N+(U^S^C)+k[15]+530742520&4294967295,N=U+(R<<16&4294967295|R>>>16),R=C+(N^U^S)+k[2]+3299628645&4294967295,C=N+(R<<23&4294967295|R>>>9),R=S+(N^(C|~U))+k[0]+4096336452&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+k[7]+1126891415&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+k[14]+2878612391&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+k[5]+4237533241&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~U))+k[12]+1700485571&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+k[3]+2399980690&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+k[10]+4293915773&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+k[1]+2240044497&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~U))+k[8]+1873313359&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+k[15]+4264355552&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+k[6]+2734768916&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+k[13]+1309151649&4294967295,C=N+(R<<21&4294967295|R>>>11),R=S+(N^(C|~U))+k[4]+4149444226&4294967295,S=C+(R<<6&4294967295|R>>>26),R=U+(C^(S|~N))+k[11]+3174756917&4294967295,U=S+(R<<10&4294967295|R>>>22),R=N+(S^(U|~C))+k[2]+718787259&4294967295,N=U+(R<<15&4294967295|R>>>17),R=C+(U^(N|~S))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(N+(R<<21&4294967295|R>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+U&4294967295}a.prototype.v=function(I,S){S===void 0&&(S=I.length);const C=S-this.blockSize,k=this.C;let N=this.h,U=0;for(;U<S;){if(N==0)for(;U<=C;)l(this,I,U),U+=this.blockSize;if(typeof I=="string"){for(;U<S;)if(k[N++]=I.charCodeAt(U++),N==this.blockSize){l(this,k),N=0;break}}else for(;U<S;)if(k[N++]=I[U++],N==this.blockSize){l(this,k),N=0;break}}this.h=N,this.o+=S},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,C=0;C<4;++C)for(let k=0;k<32;k+=8)I[S++]=this.g[C]>>>k&255;return I};function c(I,S){var C=g;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=S(I)}function d(I,S){this.h=S;const C=[];let k=!0;for(let N=I.length-1;N>=0;N--){const U=I[N]|0;k&&U==S||(C[N]=U,k=!1)}this.g=C}var g={};function _(I){return-128<=I&&I<128?c(I,function(S){return new d([S|0],S<0?-1:0)}):new d([I|0],I<0?-1:0)}function y(I){if(isNaN(I)||!isFinite(I))return w;if(I<0)return $(y(-I));const S=[];let C=1;for(let k=0;I>=C;k++)S[k]=I/C|0,C*=4294967296;return new d(S,0)}function A(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return $(A(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=y(Math.pow(S,8));let k=w;for(let U=0;U<I.length;U+=8){var N=Math.min(8,I.length-U);const R=parseInt(I.substring(U,U+N),S);N<8?(N=y(Math.pow(S,N)),k=k.j(N).add(y(R))):(k=k.j(C),k=k.add(y(R)))}return k}var w=_(0),O=_(1),q=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-$(this).m();let I=0,S=1;for(let C=0;C<this.g.length;C++){const k=this.i(C);I+=(k>=0?k:4294967296+k)*S,S*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(W(this))return"0";if(tt(this))return"-"+$(this).toString(I);const S=y(Math.pow(I,6));var C=this;let k="";for(;;){const N=Ut(C,S).g;C=lt(C,N.j(S));let U=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,W(C))return U+k;for(;U.length<6;)U="0"+U;k=U+k}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function W(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function tt(I){return I.h==-1}r.l=function(I){return I=lt(this,I),tt(I)?-1:W(I)?0:1};function $(I){const S=I.g.length,C=[];for(let k=0;k<S;k++)C[k]=~I.g[k];return new d(C,~I.h).add(O)}r.abs=function(){return tt(this)?$(this):this},r.add=function(I){const S=Math.max(this.g.length,I.g.length),C=[];let k=0;for(let N=0;N<=S;N++){let U=k+(this.i(N)&65535)+(I.i(N)&65535),R=(U>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);k=R>>>16,U&=65535,R&=65535,C[N]=R<<16|U}return new d(C,C[C.length-1]&-2147483648?-1:0)};function lt(I,S){return I.add($(S))}r.j=function(I){if(W(this)||W(I))return w;if(tt(this))return tt(I)?$(this).j($(I)):$($(this).j(I));if(tt(I))return $(this.j($(I)));if(this.l(q)<0&&I.l(q)<0)return y(this.m()*I.m());const S=this.g.length+I.g.length,C=[];for(var k=0;k<2*S;k++)C[k]=0;for(k=0;k<this.g.length;k++)for(let N=0;N<I.g.length;N++){const U=this.i(k)>>>16,R=this.i(k)&65535,Rt=I.i(N)>>>16,Qt=I.i(N)&65535;C[2*k+2*N]+=R*Qt,st(C,2*k+2*N),C[2*k+2*N+1]+=U*Qt,st(C,2*k+2*N+1),C[2*k+2*N+1]+=R*Rt,st(C,2*k+2*N+1),C[2*k+2*N+2]+=U*Rt,st(C,2*k+2*N+2)}for(I=0;I<S;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=S;I<2*S;I++)C[I]=0;return new d(C,0)};function st(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function ct(I,S){this.g=I,this.h=S}function Ut(I,S){if(W(S))throw Error("division by zero");if(W(I))return new ct(w,w);if(tt(I))return S=Ut($(I),S),new ct($(S.g),$(S.h));if(tt(S))return S=Ut(I,$(S)),new ct($(S.g),S.h);if(I.g.length>30){if(tt(I)||tt(S))throw Error("slowDivide_ only works with positive integers.");for(var C=O,k=S;k.l(I)<=0;)C=zt(C),k=zt(k);var N=wt(C,1),U=wt(k,1);for(k=wt(k,2),C=wt(C,2);!W(k);){var R=U.add(k);R.l(I)<=0&&(N=N.add(C),U=R),k=wt(k,1),C=wt(C,1)}return S=lt(I,N.j(S)),new ct(N,S)}for(N=w;I.l(S)>=0;){for(C=Math.max(1,Math.floor(I.m()/S.m())),k=Math.ceil(Math.log(C)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),U=y(C),R=U.j(S);tt(R)||R.l(I)>0;)C-=k,U=y(C),R=U.j(S);W(U)&&(U=O),N=N.add(U),I=lt(I,R)}return new ct(N,I)}r.B=function(I){return Ut(this,I).h},r.and=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<S;k++)C[k]=this.i(k)&I.i(k);return new d(C,this.h&I.h)},r.or=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<S;k++)C[k]=this.i(k)|I.i(k);return new d(C,this.h|I.h)},r.xor=function(I){const S=Math.max(this.g.length,I.g.length),C=[];for(let k=0;k<S;k++)C[k]=this.i(k)^I.i(k);return new d(C,this.h^I.h)};function zt(I){const S=I.g.length+1,C=[];for(let k=0;k<S;k++)C[k]=I.i(k)<<1|I.i(k-1)>>>31;return new d(C,I.h)}function wt(I,S){const C=S>>5;S%=32;const k=I.g.length-C,N=[];for(let U=0;U<k;U++)N[U]=S>0?I.i(U+C)>>>S|I.i(U+C+1)<<32-S:I.i(U+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,P0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Js=d}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var xc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var j0,wl,z0,kc,lm,B0,q0,H0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof xc=="object"&&xc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function w(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,H){for(var nt=Array(arguments.length-2),At=2;At<arguments.length;At++)nt[At-2]=arguments[At];return m.prototype[P].apply(T,nt)}}var O=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function q(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const H=P.length||0;u.length=v+H;for(let nt=0;nt<H;nt++)u[v+nt]=P[nt]}else u.push(P)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class st{constructor(){this.h=this.g=null}add(m,v){const T=ct.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ct=new tt(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let zt,wt=!1,I=new st,S=()=>{const u=Promise.resolve(void 0);zt=()=>{u.then(C)}};function C(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){$(v)}var m=ct;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function R(u){return/^[\s\xa0]*$/.test(u)}function Rt(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}w(Rt,N),Rt.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Rt.Z.h.call(this)},Rt.prototype.h=function(){Rt.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Qt="closure_listenable_"+(Math.random()*1e6|0),G=0;function it(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++G,this.da=this.fa=!1}function ft(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Lt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Ht(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function M(u){const m={};for(const v in u)m[v]=u[v];return m}const V="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let H=0;H<V.length;H++)v=V[H],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,m,v,T,P){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const nt=mt(u,m,T,P);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new it(m,this.src,H,!!T,P),m.fa=v,u.push(m)),m};function ht(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),H;(H=P>=0)&&Array.prototype.splice.call(T,P,1),H&&(ft(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function mt(u,m,v,T){for(let P=0;P<u.length;++P){const H=u[P];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==T)return P}return-1}var Ct="closure_lm_"+(Math.random()*1e6|0),ce={};function ne(u,m,v,T,P){if(Array.isArray(m)){for(let H=0;H<m.length;H++)ne(u,m[H],v,T,P);return null}return v=To(v),u&&u[Qt]?u.J(m,v,g(T)?!!T.capture:!1,P):hr(u,m,v,!1,T,P)}function hr(u,m,v,T,P,H){if(!m)throw Error("Invalid event type");const nt=g(P)?!!P.capture:!!P;let At=fr(u);if(At||(u[Ct]=At=new et(u)),v=At.add(m,v,T,nt,H),v.proxy)return v;if(T=Wr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)U||(P=nt),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ni(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Wr(){function u(v){return m.call(u.src,u.listener,v)}const m=vo;return u}function ta(u,m,v,T,P){if(Array.isArray(m))for(var H=0;H<m.length;H++)ta(u,m[H],v,T,P);else T=g(T)?!!T.capture:!!T,v=To(v),u&&u[Qt]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=mt(m,v,T,P),v>-1&&(ft(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mt(m,v,T,P)),(v=u>-1?m[u]:null)&&ea(v))}function ea(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[Qt])ht(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ni(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=fr(m))?(ht(v,u),v.h==0&&(v.src=null,m[Ct]=null)):ft(u)}}}function ni(u){return u in ce?ce[u]:ce[u]="on"+u}function vo(u,m){if(u.da)u=!0;else{m=new Rt(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ea(u),u=v.call(T,m)}return u}function fr(u){return u=u[Ct],u instanceof et?u:null}var Eo="__closure_events_fn_"+(Math.random()*1e9>>>0);function To(u){return typeof u=="function"?u:(u[Eo]||(u[Eo]=function(m){return u.handleEvent(m)}),u[Eo])}function Ee(){k.call(this),this.i=new et(this),this.M=this,this.G=null}w(Ee,k),Ee.prototype[Qt]=!0,Ee.prototype.removeEventListener=function(u,m,v,T){ta(this,u,m,v,T)};function Oe(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var P=m;m=new N(T,u),J(m,P)}P=!0;let H,nt;if(v)for(nt=v.length-1;nt>=0;nt--)H=m.g=v[nt],P=ls(H,T,!0,m)&&P;if(H=m.g=u,P=ls(H,T,!0,m)&&P,P=ls(H,T,!1,m)&&P,v)for(nt=0;nt<v.length;nt++)H=m.g=v[nt],P=ls(H,T,!1,m)&&P}Ee.prototype.N=function(){if(Ee.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ft(v[T]);delete u.g[m],u.h--}}this.G=null},Ee.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},Ee.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function ls(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let H=0;H<m.length;++H){const nt=m[H];if(nt&&!nt.da&&nt.capture==v){const At=nt.listener,pe=nt.ha||nt.src;nt.fa&&ht(u.i,nt),P=At.call(pe,T)!==!1&&P}}return P&&!T.defaultPrevented}function Lh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Wl(u){u.g=Lh(()=>{u.g=null,u.i&&(u.i=!1,Wl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Wl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){k.call(this),this.h=u,this.g={}}w(dr,k);var Ao=[];function bo(u){Lt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ea(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),bo(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var us=d.JSON.stringify,Ph=d.JSON.parse,tu=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function eu(){}function nu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ze(){N.call(this,"d")}w(ze,N);function Rn(){N.call(this,"c")}w(Rn,N);var me={},iu=null;function na(){return iu=iu||new Ee}me.Ia="serverreachability";function su(u){N.call(this,me.Ia,u)}w(su,N);function ii(u){const m=na();Oe(m,new su(m))}me.STAT_EVENT="statevent";function mr(u,m){N.call(this,me.STAT_EVENT,u),this.stat=m}w(mr,N);function Te(u){const m=na();Oe(m,new mr(m,u))}me.Ja="timingevent";function si(u,m){N.call(this,me.Ja,u),this.size=m}w(si,N);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function jh(u,m,v,T,P,H){u.info(function(){if(u.g)if(H){var nt="",At=H.split("&");for(let Ft=0;Ft<At.length;Ft++){var pe=At[Ft].split("=");if(pe.length>1){const oe=pe[0];pe=pe[1];const Nn=oe.split("_");nt=Nn.length>=2&&Nn[1]=="type"?nt+(oe+"="+pe+"&"):nt+(oe+"=redacted&")}}}else nt=null;else nt=H;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+nt})}function ru(u,m,v,T,P,H,nt){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+H+" "+nt})}function ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+zh(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function zh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let nt=1;nt<T.length;nt++)T[nt]=""}}}}return us(H)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},So={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},wo;function yr(){}w(yr,eu),yr.prototype.g=function(){return new XMLHttpRequest},wo=new yr;function Vi(u){return encodeURIComponent(String(u))}function au(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Ae={},Ue={};function oi(u,m,v){u.M=1,u.A=_r(Se(m)),u.u=v,u.R=!0,ia(u,null)}function ia(u,m){u.F=Date.now(),li(u),u.B=Se(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),oa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Gn,u.g=Tu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Ao[0]=P.toString()),P=Ao);for(let H=0;H<P.length;H++){const nt=ne(v,P[H],T||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?M(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),jh(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const At=Kn(this.g),pe=this.g.ya(),Ft=this.g.ca();if(!(At<3)&&(At!=3||this.g&&(this.h.h||this.g.la()||Be(this.g)))){this.K||At!=4||pe==7||(pe==8||Ft<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=Bh(this);if(this.o=m==200,ru(this.i,this.v,this.B,this.l,this.S,At,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(T)){var H=T;break e}}H=null}if(u=H)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,Te(12),pn(this),Cn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=lu(this,v),oe==Ue){At==4&&(this.m=4,Te(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ae){this.m=4,Te(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(ou(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),At!=4||v.length!=0||this.h.h||(this.m=1,Te(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),zo(nt),nt.P=!0,Te(11))}}else ai(this.i,this.l,v,null),ci(this,v);At==4&&pn(this),this.o&&!this.K&&(At==4?yu(this.j,this):(this.o=!1,li(this)))}else Ui(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Te(12)):(this.m=0,Te(13)),pn(this),Cn(this)}}}catch{}};function Bh(u){if(!ou(u))return u.g.la();const m=Be(u.g);if(m==="")return"";let v="";const T=m.length,P=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<T;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(P&&H==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ou(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function lu(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?Ue:(v=Number(m.substring(v,T)),isNaN(v)?Ae:(T+=1,T+v>m.length?Ue:(m=m.slice(T,T+v),u.C=T+v,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function li(u){u.T=Date.now()+u.H,sa(u,u.H)}function sa(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(y(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ii(),Te(17)),pn(this),this.m=2,Cn(this)):sa(this,this.T-u)};function Cn(u){u.j.I==0||u.K||yu(u.j,u)}function pn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,bo(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)fa(v),ys(v);else break t;wr(v),Te(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&fa(v),!R(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let Ft=P[m];const oe=Ft[0];if(!(oe<=v.K))if(v.K=oe,Ft=Ft[1],v.I==2)if(Ft[0]=="c"){v.M=Ft[1],v.ba=Ft[2];const Nn=Ft[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const vi=Ft[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Xn=Ft[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(T=1.5*Xn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const $n=u.g;if($n){const Rr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var H=T.h;H.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(xo(H,H.h),H.h=null))}if(T.G){const da=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;da&&(T.wa=da,Kt(T.J,T.G,da))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var nt=u;if(T.na=Eu(T,T.L?T.ba:null,T.W),nt.L){Io(T.h,nt);var At=nt,pe=T.O;pe&&(At.H=pe),At.D&&(ui(At),li(At)),T.g=nt}else pu(T);v.i.length>0&&yi(v)}else Ft[0]!="stop"&&Ft[0]!="close"||_i(v,7);else v.I==3&&(Ft[0]=="stop"||Ft[0]=="close"?Ft[0]=="stop"?_i(v,7):Po(v):Ft[0]!="noop"&&v.l&&v.l.qa(Ft),v.A=0)}}ii(4)}catch{}}var be=class{constructor(u,m){this.g=u,this.map=m}};function Ro(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Co(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function xo(u,m){u.g?u.g.add(m):u.h=m}function Io(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ro.prototype.cancel=function(){if(this.i=No(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function No(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return q(u.i)}var uu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ra(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,H=null;T>=0?(P=u[v].substring(0,T),H=u[v].substring(T+1)):P=u[v],m(P,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Le(this,u.j),this.o=u.o,this.g=u.g,cs(this,u.u),this.h=u.h,Do(this,du(u.i)),this.m=u.m):u&&(m=String(u).match(uu))?(this.l=!1,Le(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),cs(this,m[4]),this.h=di(m[5]||"",!0),Do(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new fs(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,aa,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,aa,!0),"@"),u.push(Vi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?Oo:cu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,hu)),u.join("")},gn.prototype.resolve=function(u){const m=Se(this);let v=!!u.j;v?Le(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)cs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const H=[];for(let nt=0;nt<P.length;){const At=P[nt++];At=="."?T&&nt==P.length&&H.push(""):At==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),T&&nt==P.length&&H.push("")):(H.push(At),T=!0)}T=H.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Do(m,du(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Se(u){return new gn(u)}function Le(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function cs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Do(u,m,v){m instanceof fs?(u.i=m,la(u.i,u.l)):(v||(m=vr(m,hs)),u.i=new fs(m,u.l))}function Kt(u,m,v){u.i.set(m,v)}function _r(u){return Kt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var aa=/[#\/\?@]/g,cu=/[#\?:]/g,Oo=/[#\?]/g,hs=/[#\?@]/g,hu=/#/g;function fs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&ra(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=fs.prototype,r.add=function(u,m){an(this),this.i=null,u=ds(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function fu(u,m){an(u),m=ds(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mo(u,m){return an(u),m=ds(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Vo(u,m){an(u);let v=[];if(typeof m=="string")Mo(u,m)&&(v=v.concat(u.g.get(ds(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=ds(this,u),Mo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Vo(this,u),u.length>0?String(u[0]):m):m};function oa(u,m,v){fu(u,m),v.length>0&&(u.i=null,u.g.set(ds(u,m),q(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Vi(v);v=Vo(this,v);for(let H=0;H<v.length;H++){let nt=P;v[H]!==""&&(nt+="="+Vi(v[H])),u.push(nt)}}return this.i=u.join("&")};function du(u){const m=new fs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ds(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function la(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(fu(this,T),oa(this,P,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const T=new Image;T.onload=A(xn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(xn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(xn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(xn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function ko(u,m){const v=new Hn,T=new AbortController,P=setTimeout(()=>{T.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(H=>{clearTimeout(P),H.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ms(){this.g=new tu}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}w(mi,eu),mi.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){Ee.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}w(Er,Ee),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ps(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ua(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ua(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ps(this):Yn(this),this.readyState==3&&ua(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ps(this))},r.Na=function(u){this.g&&(this.response=u,ps(this))},r.ga=function(){this.g&&ps(this)};function ps(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return Lt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=In(v),typeof u=="string"?v!=null&&Vi(v):Kt(u,m,v))}function Jt(u){Ee.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}w(Jt,Ee);var pi=/^https?$/i,Uo=["POST","PUT"];r=Jt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():wo.g(),this.g.onreadystatechange=O(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ar(this,H);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const H of T.keys())v.set(H,T.get(H));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Uo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of v)this.g.setRequestHeader(H,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ar(this,H)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Lo(u),ki(u)}function Lo(u){u.A||(u.A=!0,Oe(u,"complete"),Oe(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Oe(this,"complete"),Oe(this,"abort"),ki(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ki(this,!0)),Jt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},r.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(Oe(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=H===0){let nt=String(u.D).match(uu)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),T=!pi.test(nt?nt.toLowerCase():"")}v=T}if(v)Oe(u,"complete"),Oe(u,"success");else{u.o=6;try{var P=Kn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",Lo(u)}}finally{ki(u)}}}}function ki(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Oe(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Ph(m)}};function Be(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ui(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(R(u[T]))continue;var v=au(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[P]||[];m[P]=H,H.push(v)}Ht(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function gs(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ro(u&&u.concurrentRequestLimit),this.Ba=new ms,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=gs.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Te(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=Eu(this,null,this.W),yi(this)};function Po(u){if(ca(u),u.I==3){var m=u.V++,v=Se(u.J);if(Kt(v,"SID",u.M),Kt(v,"RID",m),Kt(v,"TYPE","terminate"),Sr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=_r(Se(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Tu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}vu(u)}function ys(u){u.g&&(zo(u),u.g.cancel(),u.g=null)}function ca(u){ys(u),u.v&&(d.clearTimeout(u.v),u.v=null),fa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!Co(u.h)&&!u.m){u.m=!0;var m=u.Ea;zt||S(),wt||(zt(),wt=!0),I.add(m,u),u.D=0}}function ha(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(y(u.Ea,u,m),_u(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Fn(this,this.j,u);let H=this.o;if(this.U&&(H?(H=M(H),J(H,this.U)):H=this.U),this.u!==null||this.R||(P.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=mu(this,P,m),v=Se(this.J),Kt(v,"RID",u),Kt(v,"CVER",22),this.G&&Kt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),H&&(this.R?m="headers="+Vi(In(H))+"&"+m:this.u&&Tr(v,this.u,H)),xo(this.h,P),this.Ra&&Kt(v,"TYPE","init"),this.S?(Kt(v,"$req",m),Kt(v,"SID","null"),P.U=!0,oi(P,v,null)):oi(P,v,m),this.I=2}}else this.I==3&&(u?jo(this,u):this.i.length==0||Co(this.h)||jo(this))};function jo(u,m){var v;m?v=m.l:v=u.V++;const T=Se(u.J);Kt(T,"SID",u.M),Kt(T,"RID",v),Kt(T,"AID",u.K),Sr(u,T),u.u&&u.o&&Tr(T,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=mu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),xo(u.h,v),oi(v,T,m)}function Sr(u,m){u.H&&Lt(u.H,function(v,T){Kt(m,T,v)}),u.l&&Lt({},function(v,T){Kt(m,T,v)})}function mu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let At=-1;for(;;){const pe=["count="+v];At==-1?v>0?(At=P[0].g,pe.push("ofs="+At)):At=0:pe.push("ofs="+At);let Ft=!0;for(let oe=0;oe<v;oe++){var H=P[oe].g;const Nn=P[oe].map;if(H-=At,H<0)At=Math.max(0,P[oe].g-100),Ft=!1;else try{H="req"+H+"_"||"";try{var nt=Nn instanceof Map?Nn:Object.entries(Nn);for(const[vi,Xn]of nt){let $n=Xn;g(Xn)&&($n=us(Xn)),pe.push(H+vi+"="+encodeURIComponent($n))}}catch(vi){throw pe.push(H+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(Nn)}}if(Ft){nt=pe.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function pu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;zt||S(),wt||(zt(),wt=!0),I.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(y(u.Da,u),_u(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,gu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Te(10),ys(this),gu(this))};function zo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function gu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Se(u.na);Kt(m,"RID","rpc"),Kt(m,"SID",u.M),Kt(m,"AID",u.K),Kt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Kt(m,"TO",u.ia),Kt(m,"TYPE","xmlhttp"),Sr(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(Se(m)),v.u=null,v.R=!0,ia(v,u)}r.Va=function(){this.C!=null&&(this.C=null,ys(this),wr(this),Te(19))};function fa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function yu(u,m){var v=null;if(u.g==m){fa(u),zo(u),u.g=null;var T=2}else if(fi(u.h,m))v=m.G,Io(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=na(),Oe(T,new si(T,v)),yi(u)}else pu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ha(u,m)||T==2&&wr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function _u(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Le(T,"https"),_r(T),P?Qn(T.toString(),v):ko(T.toString(),v)}else Te(2);u.I=0,u.l&&u.l.pa(m),vu(u),ca(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))};function vu(u){if(u.I=0,u.ja=[],u.l){const m=No(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,q(u.i),u.i.length=0),u.l.oa()}}function Eu(u,m,v){var T=v instanceof gn?Se(v):new gn(v);if(T.g!="")m&&(T.g=m+"."+T.g),cs(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const H=new gn(null);T&&Le(H,T),m&&(H.g=m),P&&cs(H,P),v&&(H.h=v),T=H}return v=u.G,m=u.wa,v&&m&&Kt(T,v,m),Kt(T,"VER",u.ka),Sr(u,T),T}function Tu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Jt(new mi({ab:v})):new Jt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Au(){}r=Au.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function _s(){}_s.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){Ee.call(this),this.g=new gs(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!R(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!R(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Li(this)}w(nn,Ee),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Po(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=us(u),u=v);m.i.push(new be(m.Ya++,u)),m.I==3&&yi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Po(this.g),delete this.g,nn.Z.N.call(this)};function bu(u){ze.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}w(bu,ze);function Su(){Rn.call(this),this.status=1}w(Su,Rn);function Li(u){this.g=u}w(Li,Au),Li.prototype.ra=function(){Oe(this.g,"a")},Li.prototype.qa=function(u){Oe(this.g,new bu(u))},Li.prototype.pa=function(u){Oe(this.g,new Su)},Li.prototype.oa=function(){Oe(this.g,"b")},_s.prototype.createWebChannel=_s.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,H0=function(){return new _s},q0=function(){return na()},B0=me,lm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,kc=gr,So.COMPLETE="complete",z0=So,nu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",Ee.prototype.listen=Ee.prototype.J,wl=nu,Jt.prototype.listenOnce=Jt.prototype.K,Jt.prototype.getLastError=Jt.prototype.Ha,Jt.prototype.getLastErrorCode=Jt.prototype.ya,Jt.prototype.getStatus=Jt.prototype.ca,Jt.prototype.getResponseJson=Jt.prototype.La,Jt.prototype.getResponseText=Jt.prototype.la,Jt.prototype.send=Jt.prototype.ea,Jt.prototype.setWithCredentials=Jt.prototype.Fa,j0=Jt}).apply(typeof xc<"u"?xc:typeof self<"u"?self:typeof window<"u"?window:{});const lv="@firebase/firestore",uv="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let ho="12.7.0";const Kr=new Dm("@firebase/firestore");function Ha(){return Kr.logLevel}function rt(r,...t){if(Kr.logLevel<=Mt.DEBUG){const i=t.map(Vm);Kr.debug(`Firestore (${ho}): ${r}`,...i)}}function is(r,...t){if(Kr.logLevel<=Mt.ERROR){const i=t.map(Vm);Kr.error(`Firestore (${ho}): ${r}`,...i)}}function eo(r,...t){if(Kr.logLevel<=Mt.WARN){const i=t.map(Vm);Kr.warn(`Firestore (${ho}): ${r}`,...i)}}function Vm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function yt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,F0(r,a,i)}function F0(r,t,i){let a=`FIRESTORE (${ho}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw is(a),new Error(a)}function Yt(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||F0(t,l,a)}function Tt(r,t){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends os{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class G0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class US{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class LS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class PS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Yt(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{rt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(rt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(rt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Yt(typeof a.accessToken=="string",31837,{l:a}),new G0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Yt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class jS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class zS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new jS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class cv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Yt(this.o===void 0,3512);const a=c=>{c.error!=null&&rt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,rt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{rt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):rt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new cv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Yt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new cv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function qS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class km{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=qS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function um(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Yd(l)===Yd(c)?Vt(l,c):Yd(l)?1:-1}return Vt(r.length,t.length)}const HS=55296,FS=57343;function Yd(r){const t=r.charCodeAt(0);return t>=HS&&t<=FS}function no(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const hv="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&yt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&yt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):um(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class re extends Si{construct(t,i,a){return new re(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new re(i)}static emptyPath(){return new re([])}}const GS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Si{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return GS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===hv}static keyField(){return new Ye([hv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(Z.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ot(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class pt{constructor(t){this.path=t}static fromPath(t){return new pt(re.fromString(t))}static fromName(t){return new pt(re.fromString(t).popFirst(5))}static empty(){return new pt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return re.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new pt(new re(t.slice()))}}function Q0(r,t,i){if(!i)throw new ot(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function QS(r,t,i,a){if(t===!0&&a===!0)throw new ot(Z.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function fv(r){if(!pt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function dv(r){if(pt.isDocumentKey(r))throw new ot(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Y0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Um(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":yt(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Um(r);throw new ot(Z.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function De(r,t){const i={typeString:r};return t&&(i.value=t),i}function Fl(r,t){if(!Y0(r))throw new ot(Z.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(Z.INVALID_ARGUMENT,i);return!0}const mv=-62135596800,pv=1e6;class ae{static now(){return ae.fromMillis(Date.now())}static fromDate(t){return ae.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*pv);return new ae(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<mv)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ae._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Fl(t,ae._jsonSchema))return new ae(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-mv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ae._jsonSchemaVersion="firestore/timestamp/1.0",ae._jsonSchema={type:De("string",ae._jsonSchemaVersion),seconds:De("number"),nanoseconds:De("number")};class vt{static fromTimestamp(t){return new vt(t)}static min(){return new vt(new ae(0,0))}static max(){return new vt(new ae(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ul=-1;function YS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=vt.fromTimestamp(a===1e9?new ae(i+1,0):new ae(i,a));return new er(l,pt.empty(),t)}function KS(r){return new er(r.readTime,r.key,Ul)}class er{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new er(vt.min(),pt.empty(),Ul)}static max(){return new er(vt.max(),pt.empty(),Ul)}}function XS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=pt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const $S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fo(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==$S)throw r;rt("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,a)=>{i(t)}))}static reject(t){return new X(((i,a)=>{a(t)}))}static waitFor(t){return new X(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const a of t)i=i.next((l=>l?X.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new X(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new X(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function ZS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function mo(r){return r.name==="IndexedDbTransactionError"}class dh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}dh.ce=-1;const Lm=-1;function mh(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function WS(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const K0="";function tw(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=gv(t)),t=ew(r.get(i),t);return gv(t)}function ew(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case K0:i+="";break;default:i+=c}}return i}function gv(r){return r+K0+""}function yv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function X0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ic(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ic(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ic(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ic(this.root,t,this.comparator,!0)}}class Ic{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw yt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw yt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw yt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt(57766)}get value(){throw yt(16141)}get color(){throw yt(16727)}get left(){throw yt(29726)}get right(){throw yt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ke{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new _v(this.data.getIterator())}getIteratorFrom(t){return new _v(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ke)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ke(this.comparator);return i.data=t,i}}class _v{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let i=new ke(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return no(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class $0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new $0("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const nw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(r){if(Yt(!!r,39018),typeof r=="string"){let t=0;const i=nw.exec(r);if(Yt(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:_e(r.seconds),nanos:_e(r.nanos)}}function _e(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ir(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const J0="server_timestamp",Z0="__type__",W0="__previous_value__",tE="__local_write_time__";function Pm(r){return(r?.mapValue?.fields||{})[Z0]?.stringValue===J0}function ph(r){const t=r.mapValue.fields[W0];return Pm(t)?ph(t):t}function Ll(r){const t=nr(r.mapValue.fields[tE].timestampValue);return new ae(t.seconds,t.nanos)}class iw{constructor(t,i,a,l,c,d,g,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Kc="(default)";class Pl{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Pl("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Pl&&t.projectId===this.projectId&&t.database===this.database}}const eE="__type__",sw="__max__",Nc={mapValue:{}},nE="__vector__",Xc="value";function sr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Pm(r)?4:aw(r)?9007199254740991:rw(r)?10:11:yt(28295,{value:r})}function Oi(r,t){if(r===t)return!0;const i=sr(r);if(i!==sr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ll(r).isEqual(Ll(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=nr(l.timestampValue),g=nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ir(l.bytesValue).isEqual(ir(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return _e(l.geoPointValue.latitude)===_e(c.geoPointValue.latitude)&&_e(l.geoPointValue.longitude)===_e(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return _e(l.integerValue)===_e(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=_e(l.doubleValue),g=_e(c.doubleValue);return d===g?Yc(d)===Yc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return no(r.arrayValue.values||[],t.arrayValue.values||[],Oi);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(yv(d)!==yv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Oi(d[_],g[_])))return!1;return!0})(r,t);default:return yt(52216,{left:r})}}function jl(r,t){return(r.values||[]).find((i=>Oi(i,t)))!==void 0}function io(r,t){if(r===t)return 0;const i=sr(r),a=sr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=_e(c.integerValue||c.doubleValue),_=_e(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return vv(r.timestampValue,t.timestampValue);case 4:return vv(Ll(r),Ll(t));case 5:return um(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=ir(c),_=ir(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=Vt(g[y],_[y]);if(A!==0)return A}return Vt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(_e(c.latitude),_e(d.latitude));return g!==0?g:Vt(_e(c.longitude),_e(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return Ev(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Xc]?.arrayValue,A=_[Xc]?.arrayValue,w=Vt(y?.values?.length||0,A?.values?.length||0);return w!==0?w:Ev(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Nc.mapValue&&d===Nc.mapValue)return 0;if(c===Nc.mapValue)return 1;if(d===Nc.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let w=0;w<_.length&&w<A.length;++w){const O=um(_[w],A[w]);if(O!==0)return O;const q=io(g[_[w]],y[A[w]]);if(q!==0)return q}return Vt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw yt(23264,{he:i})}}function vv(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=nr(r),a=nr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function Ev(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=io(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function so(r){return cm(r)}function cm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=nr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ir(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return pt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=cm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${cm(i.fields[d])}`;return l+"}"})(r.mapValue):yt(61005,{value:r})}function Uc(r){switch(sr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ph(r);return t?16+Uc(t):16;case 5:return 2*r.stringValue.length;case 6:return ir(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+Uc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ur(a.fields,((c,d)=>{l+=c.length+Uc(d)})),l})(r.mapValue);default:throw yt(13486,{value:r})}}function hm(r){return!!r&&"integerValue"in r}function jm(r){return!!r&&"arrayValue"in r}function Tv(r){return!!r&&"nullValue"in r}function Av(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Lc(r){return!!r&&"mapValue"in r}function rw(r){return(r?.mapValue?.fields||{})[eE]?.stringValue===nE}function Nl(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ur(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Nl(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Nl(r.arrayValue.values[i]);return t}return{...r}}function aw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===sw}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Lc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Nl(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Nl(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Lc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Oi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Lc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ur(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(Nl(this.value))}}function iE(r){const t=[];return ur(r.fields,((i,a)=>{const l=new Ye([i]);if(Lc(a)){const c=iE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class We{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,vt.min(),vt.min(),vt.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,vt.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,vt.min(),vt.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,vt.min(),vt.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function bv(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=pt.comparator(pt.fromName(d.referenceValue),i.key):a=io(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function Sv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Oi(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function ow(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class sE{}class Ve extends sE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new uw(t,i,a):i==="array-contains"?new fw(t,a):i==="in"?new dw(t,a):i==="not-in"?new mw(t,a):i==="array-contains-any"?new pw(t,a):new Ve(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new cw(t,a):new hw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(io(i,this.value)):i!==null&&sr(this.value)===sr(i)&&this.matchesComparison(io(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends sE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Mi(t,i)}matches(t){return rE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function rE(r){return r.op==="and"}function aE(r){return lw(r)&&rE(r)}function lw(r){for(const t of r.filters)if(t instanceof Mi)return!1;return!0}function fm(r){if(r instanceof Ve)return r.field.canonicalString()+r.op.toString()+so(r.value);if(aE(r))return r.filters.map((t=>fm(t))).join(",");{const t=r.filters.map((i=>fm(i))).join(",");return`${r.op}(${t})`}}function oE(r,t){return r instanceof Ve?(function(a,l){return l instanceof Ve&&a.op===l.op&&a.field.isEqual(l.field)&&Oi(a.value,l.value)})(r,t):r instanceof Mi?(function(a,l){return l instanceof Mi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&oE(d,l.filters[g])),!0):!1})(r,t):void yt(19439)}function lE(r){return r instanceof Ve?(function(i){return`${i.field.canonicalString()} ${i.op} ${so(i.value)}`})(r):r instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(lE).join(" ,")+"}"})(r):"Filter"}class uw extends Ve{constructor(t,i,a){super(t,i,a),this.key=pt.fromName(a.referenceValue)}matches(t){const i=pt.comparator(t.key,this.key);return this.matchesComparison(i)}}class cw extends Ve{constructor(t,i){super(t,"in",i),this.keys=uE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class hw extends Ve{constructor(t,i){super(t,"not-in",i),this.keys=uE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function uE(r,t){return(t.arrayValue?.values||[]).map((i=>pt.fromName(i.referenceValue)))}class fw extends Ve{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return jm(i)&&jl(i.arrayValue,this.value)}}class dw extends Ve{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&jl(this.value.arrayValue,i)}}class mw extends Ve{constructor(t,i){super(t,"not-in",i)}matches(t){if(jl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!jl(this.value.arrayValue,i)}}class pw extends Ve{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!jm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>jl(this.value.arrayValue,a)))}}class gw{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function wv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new gw(r,t,i,a,l,c,d)}function zm(r){const t=Tt(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>fm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),mh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>so(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>so(a))).join(",")),t.Te=i}return t.Te}function Bm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ow(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!oE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!Sv(r.startAt,t.startAt)&&Sv(r.endAt,t.endAt)}function dm(r){return pt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class gh{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function yw(r,t,i,a,l,c,d,g){return new gh(r,t,i,a,l,c,d,g)}function yh(r){return new gh(r)}function Rv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function _w(r){return r.collectionGroup!==null}function Dl(r){const t=Tt(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new ke(Ye.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Jc(Ye.keyField(),a))}return t.Ie}function Ri(r){const t=Tt(r);return t.Ee||(t.Ee=vw(t,Dl(r))),t.Ee}function vw(r,t){if(r.limitType==="F")return wv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return wv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function mm(r,t,i){return new gh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function _h(r,t){return Bm(Ri(r),Ri(t))&&r.limitType===t.limitType}function cE(r){return`${zm(Ri(r))}|lt:${r.limitType}`}function Fa(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>lE(l))).join(", ")}]`),mh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>so(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>so(l))).join(",")),`Target(${a})`})(Ri(r))}; limitType=${r.limitType})`}function vh(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):pt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Dl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=bv(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Dl(a),l)||a.endAt&&!(function(d,g,_){const y=bv(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Dl(a),l))})(r,t)}function Ew(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function hE(r){return(t,i)=>{let a=!1;for(const l of Dl(r)){const c=Tw(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function Tw(r,t,i){const a=r.field.isKeyField()?pt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?io(_,y):yt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return yt(19790,{direction:r.dir})}}class Jr{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return X0(this.inner)}size(){return this.innerSize}}const Aw=new ue(pt.comparator);function ss(){return Aw}const fE=new ue(pt.comparator);function Rl(...r){let t=fE;for(const i of r)t=t.insert(i.key,i);return t}function dE(r){let t=fE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Fr(){return Ol()}function mE(){return Ol()}function Ol(){return new Jr((r=>r.toString()),((r,t)=>r.isEqual(t)))}const bw=new ue(pt.comparator),Sw=new ke(pt.comparator);function kt(...r){let t=Sw;for(const i of r)t=t.add(i);return t}const ww=new ke(Vt);function Rw(){return ww}function qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function pE(r){return{integerValue:""+r}}function gE(r,t){return WS(t)?pE(t):qm(r,t)}class Eh{constructor(){this._=void 0}}function Cw(r,t,i){return r instanceof Zc?(function(l,c){const d={fields:{[Z0]:{stringValue:J0},[tE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Pm(c)&&(c=ph(c)),c&&(d.fields[W0]=c),{mapValue:d}})(i,t):r instanceof ro?_E(r,t):r instanceof ao?vE(r,t):(function(l,c){const d=yE(l,c),g=Cv(d)+Cv(l.Ae);return hm(d)&&hm(l.Ae)?pE(g):qm(l.serializer,g)})(r,t)}function xw(r,t,i){return r instanceof ro?_E(r,t):r instanceof ao?vE(r,t):i}function yE(r,t){return r instanceof zl?(function(a){return hm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Zc extends Eh{}class ro extends Eh{constructor(t){super(),this.elements=t}}function _E(r,t){const i=EE(t);for(const a of r.elements)i.some((l=>Oi(l,a)))||i.push(a);return{arrayValue:{values:i}}}class ao extends Eh{constructor(t){super(),this.elements=t}}function vE(r,t){let i=EE(t);for(const a of r.elements)i=i.filter((l=>!Oi(l,a)));return{arrayValue:{values:i}}}class zl extends Eh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Cv(r){return _e(r.integerValue||r.doubleValue)}function EE(r){return jm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Hm{constructor(t,i){this.field=t,this.transform=i}}function Iw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof ro&&l instanceof ro||a instanceof ao&&l instanceof ao?no(a.elements,l.elements,Oi):a instanceof zl&&l instanceof zl?Oi(a.Ae,l.Ae):a instanceof Zc&&l instanceof Zc})(r.transform,t.transform)}class Nw{constructor(t,i){this.version=t,this.transformResults=i}}class mn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Pc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Th{}function TE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ah(r.key,mn.none()):new Gl(r.key,r.data,mn.none());{const i=r.data,a=dn.empty();let l=new ke(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new cr(r.key,a,new wn(l.toArray()),mn.none())}}function Dw(r,t,i){r instanceof Gl?(function(l,c,d){const g=l.value.clone(),_=Iv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof cr?(function(l,c,d){if(!Pc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Iv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(AE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(r,t,i,a){return r instanceof Gl?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=c.value.clone(),A=Nv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof cr?(function(c,d,g,_){if(!Pc(c.precondition,d))return g;const y=Nv(c.fieldTransforms,_,d),A=d.data;return A.setAll(AE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((w=>w.field)))})(r,t,i,a):(function(c,d,g){return Pc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function Ow(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=yE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function xv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&no(a,l,((c,d)=>Iw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Gl extends Th{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cr extends Th{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function AE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function Iv(r,t,i){const a=new Map;Yt(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,xw(d,g,i[l]))}return a}function Nv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Cw(c,d,t))}return a}class Ah extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Mw extends Th{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Dw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ml(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=mE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=TE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(vt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&no(this.mutations,t.mutations,((i,a)=>xv(i,a)))&&no(this.baseMutations,t.baseMutations,((i,a)=>xv(i,a)))}}class Fm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Yt(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return bw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Fm(t,i,a,l)}}class kw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Uw{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ie,jt;function Lw(r){switch(r){case Z.OK:return yt(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return yt(15467,{code:r})}}function bE(r){if(r===void 0)return is("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ie.OK:return Z.OK;case Ie.CANCELLED:return Z.CANCELLED;case Ie.UNKNOWN:return Z.UNKNOWN;case Ie.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ie.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ie.INTERNAL:return Z.INTERNAL;case Ie.UNAVAILABLE:return Z.UNAVAILABLE;case Ie.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ie.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ie.NOT_FOUND:return Z.NOT_FOUND;case Ie.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ie.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ie.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ie.ABORTED:return Z.ABORTED;case Ie.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ie.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ie.DATA_LOSS:return Z.DATA_LOSS;default:return yt(39323,{code:r})}}(jt=Ie||(Ie={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function Pw(){return new TextEncoder}const jw=new Js([4294967295,4294967295],0);function Dv(r){const t=Pw().encode(r),i=new P0;return i.update(t),new Uint8Array(i.digest())}function Ov(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Js([i,a],0),new Js([l,c],0)]}class Gm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new Cl(`Invalid padding: ${i}`);if(a<0)throw new Cl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new Cl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new Cl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Js.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Js.fromNumber(a)));return l.compare(jw)===1&&(l=new Js([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Gm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Dv(t),[a,l]=Ov(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class Cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bh{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Ql.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new bh(vt.min(),l,new ue(Vt),ss(),kt())}}class Ql{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Ql(a,i,kt(),kt(),kt())}}class jc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class SE{constructor(t,i){this.targetId=t,this.Ce=i}}class wE{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Mv{constructor(){this.ve=0,this.Fe=Vv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:yt(38017,{changeType:c})}})),new Ql(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Vv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class zw{constructor(t){this.Ge=t,this.ze=new Map,this.je=ss(),this.Je=Dc(),this.He=Dc(),this.Ye=new ue(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:yt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(dm(c))if(a===0){const d=new pt(c.path);this.et(i,d,We.newNoDocument(d,vt.min()))}else Yt(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=ir(a).toUint8Array()}catch(_){if(_ instanceof $0)return eo("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Gm(d,l,c)}catch(_){return eo(_ instanceof Cl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&dm(g.target)){const _=new pt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,We.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=kt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new bh(t,i,this.Ye,this.je,a);return this.je=ss(),this.Je=Dc(),this.He=Dc(),this.Ye=new ue(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Mv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ke(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ke(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||rt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Mv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Dc(){return new ue(pt.comparator)}function Vv(){return new ue(pt.comparator)}const Bw={asc:"ASCENDING",desc:"DESCENDING"},qw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Hw={and:"AND",or:"OR"};class Fw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function pm(r,t){return r.useProto3Json||mh(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function RE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Gw(r,t){return Wc(r,t.toTimestamp())}function Ci(r){return Yt(!!r,49232),vt.fromTimestamp((function(i){const a=nr(i);return new ae(a.seconds,a.nanos)})(r))}function Qm(r,t){return gm(r,t).canonicalString()}function gm(r,t){const i=(function(l){return new re(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function CE(r){const t=re.fromString(r);return Yt(OE(t),10190,{key:t.toString()}),t}function ym(r,t){return Qm(r.databaseId,t.path)}function Kd(r,t){const i=CE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new pt(IE(i))}function xE(r,t){return Qm(r.databaseId,t)}function Qw(r){const t=CE(r);return t.length===4?re.emptyPath():IE(t)}function _m(r){return new re(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function IE(r){return Yt(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function kv(r,t,i){return{name:ym(r,t),fields:i.value.mapValue.fields}}function Yw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:yt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Yt(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Yt(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?Z.UNKNOWN:bE(y.code);return new ot(A,y.message||"")})(d);i=new wE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Kd(r,a.document.name),c=Ci(a.document.updateTime),d=a.document.createTime?Ci(a.document.createTime):vt.min(),g=new dn({mapValue:{fields:a.document.fields}}),_=We.newFoundDocument(l,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new jc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Kd(r,a.document),c=a.readTime?Ci(a.readTime):vt.min(),d=We.newNoDocument(l,c),g=a.removedTargetIds||[];i=new jc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Kd(r,a.document),c=a.removedTargetIds||[];i=new jc([],c,l,null)}else{if(!("filter"in t))return yt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Uw(l,c),g=a.targetId;i=new SE(g,d)}}return i}function Kw(r,t){let i;if(t instanceof Gl)i={update:kv(r,t.key,t.value)};else if(t instanceof Ah)i={delete:ym(r,t.key)};else if(t instanceof cr)i={update:kv(r,t.key,t.data),updateMask:i2(t.fieldMask)};else{if(!(t instanceof Mw))return yt(16599,{Vt:t.type});i={verify:ym(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof ro)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof ao)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof zl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw yt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Gw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:yt(27497)})(r,t.precondition)),i}function Xw(r,t){return r&&r.length>0?(Yt(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ci(l.updateTime):Ci(c);return d.isEqual(vt.min())&&(d=Ci(c)),new Nw(d,l.transformResults||[])})(i,t)))):[]}function $w(r,t){return{documents:[xE(r,t.path)]}}function Jw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=xE(r,l);const c=(function(y){if(y.length!==0)return DE(Mi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(O){return{field:Ga(O.field),direction:t2(O.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=pm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Zw(r){let t=Qw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Yt(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(w){const O=NE(w);return O instanceof Mi&&aE(O)?O.getFilters():[O]})(i.where));let d=[];i.orderBy&&(d=(function(w){return w.map((O=>(function(W){return new Jc(Qa(W.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(O)))})(i.orderBy));let g=null;i.limit&&(g=(function(w){let O;return O=typeof w=="object"?w.value:w,mh(O)?null:O})(i.limit));let _=null;i.startAt&&(_=(function(w){const O=!!w.before,q=w.values||[];return new $c(q,O)})(i.startAt));let y=null;return i.endAt&&(y=(function(w){const O=!w.before,q=w.values||[];return new $c(q,O)})(i.endAt)),yw(t,l,d,c,g,"F",_,y)}function Ww(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function NE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Qa(i.unaryFilter.field);return Ve.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Qa(i.unaryFilter.field);return Ve.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Qa(i.unaryFilter.field);return Ve.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Qa(i.unaryFilter.field);return Ve.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return yt(61313);default:return yt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Ve.create(Qa(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return yt(58110);default:return yt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((a=>NE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt(1026)}})(i.compositeFilter.op))})(r):yt(30097,{filter:r})}function t2(r){return Bw[r]}function e2(r){return qw[r]}function n2(r){return Hw[r]}function Ga(r){return{fieldPath:r.canonicalString()}}function Qa(r){return Ye.fromServerFormat(r.fieldPath)}function DE(r){return r instanceof Ve?(function(i){if(i.op==="=="){if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NAN"}};if(Tv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Av(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NAN"}};if(Tv(i.value))return{unaryFilter:{field:Ga(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ga(i.field),op:e2(i.op),value:i.value}}})(r):r instanceof Mi?(function(i){const a=i.getFilters().map((l=>DE(l)));return a.length===1?a[0]:{compositeFilter:{op:n2(i.op),filters:a}}})(r):yt(54877,{filter:r})}function i2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function OE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qs{constructor(t,i,a,l,c=vt.min(),d=vt.min(),g=Xe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class s2{constructor(t){this.yt=t}}function r2(r){const t=Zw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?mm(t,t.limit,"L"):t}class a2{constructor(){this.Cn=new o2}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(er.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(er.min())}updateCollectionGroup(t,i,a){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class o2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new ke(re.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new ke(re.comparator)).toArray()}}const Uv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},ME=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(ME,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class oo{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new oo(0)}static cr(){return new oo(-1)}}const Lv="LruGarbageCollector",l2=1048576;function Pv([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class u2{constructor(t){this.Ir=t,this.buffer=new ke(Pv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Pv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class c2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){rt(Lv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){mo(i)?rt(Lv,"Ignoring IndexedDB error during garbage collection: ",i):await fo(i)}await this.Vr(3e5)}))}}class h2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(dh.ce);const a=new u2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(rt("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Uv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(rt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Uv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((w=>(w>this.params.maximumSequenceNumbersToCollect?(rt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),l=this.params.maximumSequenceNumbersToCollect):l=w,d=Date.now(),this.nthSequenceNumber(t,l)))).next((w=>(a=w,g=Date.now(),this.removeTargets(t,a,i)))).next((w=>(c=w,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((w=>(y=Date.now(),Ha()<=Mt.DEBUG&&rt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${w} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:w}))))}}function f2(r,t){return new h2(r,t)}class d2{constructor(){this.changes=new Jr((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?X.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class m2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class p2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ml(a.mutation,l,wn.empty(),ae.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Fr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Rl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Fr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=ss();const d=Ol(),g=(function(){return Ol()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof cr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Ml(A.mutation,y,A.mutation.getFieldMask(),ae.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new m2(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Ol();let l=new ue(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||wn.empty();A=g.applyToLocalView(y,A),a.set(_,A);const w=(l.get(g.batchId)||kt()).add(_);l=l.insert(g.batchId,w)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,w=mE();A.forEach((O=>{if(!c.has(O)){const q=TE(i.get(O),a.get(O));q!==null&&w.set(O,q),c=c.add(O)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,w))}return X.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return pt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):_w(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):X.resolve(Fr());let g=Ul,_=c;return d.next((y=>X.forEach(y,((A,w)=>(g<w.largestBatchId&&(g=w.largestBatchId),c.get(A)?X.resolve():this.remoteDocumentCache.getEntry(t,A).next((O=>{_=_.insert(A,O)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,kt()))).next((A=>({batchId:g,changes:dE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new pt(i)).next((a=>{let l=Rl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(_=>{const y=(function(w,O){return new gh(O,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((w,O)=>{d=d.insert(w,O)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,We.newInvalidDocument(A)))}));let g=Rl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Ml(A.mutation,y,wn.empty(),ae.now()),vh(i,y)&&(g=g.insert(_,y))})),g}))}}class g2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ci(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:r2(l.bundledQuery),readTime:Ci(l.readTime)}})(i)),X.resolve()}}class y2{constructor(){this.overlays=new ue(pt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Fr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),X.resolve()}getOverlaysForCollection(t,i,a){const l=Fr(),c=i.length+1,d=new pt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Fr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Fr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return X.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new kw(i,a));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class _2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Ym{constructor(){this.Qr=new ke(je.$r),this.Ur=new ke(je.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new je(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new je(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new pt(new re([])),a=new je(i,t),l=new je(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new pt(new re([])),a=new je(i,t),l=new je(i,t+1);let c=kt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new je(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class je{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return pt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||pt.comparator(t.key,i.key)}}class v2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ke(je.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Vw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new je(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Lm:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new je(i,0),l=new je(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ke(Vt);return i.forEach((l=>{const c=new je(l,0),d=new je(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),X.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;pt.isDocumentKey(c)||(c=c.child(""));const d=new je(new pt(c),0);let g=new ke(Vt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Yt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return X.forEach(i.mutations,(l=>{const c=new je(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new je(i,0),l=this.Zr.firstAfterOrEqual(a);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class E2{constructor(t){this.ri=t,this.docs=(function(){return new ue(pt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return X.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=ss();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),X.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=ss();const d=i.path,g=new pt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||XS(KS(A),a)<=0||(l.has(A.key)||vh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,a,l){yt(9500)}ii(t,i){return X.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new T2(this)}getSize(t){return X.resolve(this.size)}}class T2 extends d2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class A2{constructor(t){this.persistence=t,this.si=new Jr((i=>zm(i)),Bm),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ym,this.targetCount=0,this.ai=oo.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new oo(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return X.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),X.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return X.resolve(a)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class VE{constructor(t,i){this.ui={},this.overlays={},this.ci=new dh(0),this.li=!1,this.li=!0,this.hi=new _2,this.referenceDelegate=t(this),this.Pi=new A2(this),this.indexManager=new a2,this.remoteDocumentCache=(function(l){return new E2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new s2(i),this.Ii=new g2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new y2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new v2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){rt("MemoryPersistence","Starting transaction:",t);const l=new b2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class b2 extends JS{constructor(t){super(),this.currentSequenceNumber=t}}class Km{constructor(t){this.persistence=t,this.Ri=new Ym,this.Vi=null}static mi(t){return new Km(t)}get fi(){if(this.Vi)return this.Vi;throw yt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),X.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(a=>{const l=pt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,vt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new Jr((a=>tw(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=f2(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,vt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Uc(t.data.value)),i}br(t,i,a){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Xm{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Xm(t,i.fromCache,a,l)}}class S2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class w2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return gb()?8:ZS(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new S2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(Ha()<=Mt.DEBUG&&rt("QueryEngine","SDK will not create cache indexes for query:",Fa(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Ha()<=Mt.DEBUG&&rt("QueryEngine","Query:",Fa(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(Ha()<=Mt.DEBUG&&rt("QueryEngine","The SDK decides to create cache indexes for query:",Fa(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ri(i))):X.resolve())}ys(t,i){if(Rv(i))return X.resolve(null);let a=Ri(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=mm(i,null,"F"),a=Ri(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,mm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return Rv(i)||l.isEqual(vt.min())?X.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?X.resolve(null):(Ha()<=Mt.DEBUG&&rt("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Fa(i)),this.vs(t,d,i,YS(l,Ul)).next((g=>g)))}))}Ds(t,i){let a=new ke(hE(t));return i.forEach(((l,c)=>{vh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return Ha()<=Mt.DEBUG&&rt("QueryEngine","Using full collection scan to execute query:",Fa(i)),this.ps.getDocumentsMatchingQuery(t,i,er.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const $m="LocalStore",R2=3e8;class C2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Vt),this.xs=new Jr((c=>zm(c)),Bm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new p2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function x2(r,t,i,a){return new C2(r,t,i,a)}async function kE(r,t){const i=Tt(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=kt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function I2(r,t){const i=Tt(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const w=y.batch,O=w.keys();let q=X.resolve();return O.forEach((W=>{q=q.next((()=>A.getEntry(_,W))).next((tt=>{const $=y.docVersions.get(W);Yt($!==null,48541),tt.version.compareTo($)<0&&(w.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),A.addEntry(tt)))}))})),q.next((()=>g.mutationQueue.removeMutationBatch(_,w)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function UE(r){const t=Tt(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function N2(r,t){const i=Tt(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,w)=>{const O=l.get(w);if(!O)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,w).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,w))));let q=O.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(w)!==null?q=q.withResumeToken(Xe.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):A.resumeToken.approximateByteSize()>0&&(q=q.withResumeToken(A.resumeToken,a)),l=l.insert(w,q),(function(tt,$,lt){return tt.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=R2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(O,q,A)&&g.push(i.Pi.updateTargetData(c,q))}));let _=ss(),y=kt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(D2(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(vt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((w=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function D2(r,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=ss();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(vt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):rt($m,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function O2(r,t){const i=Tt(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Lm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function M2(r,t){const i=Tt(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function vm(r,t,i){const a=Tt(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!mo(d))throw d;rt($m,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function jv(r,t,i){const a=Tt(r);let l=vt.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const w=Tt(_),O=w.xs.get(A);return O!==void 0?X.resolve(w.Ms.get(O)):w.Pi.getTargetData(y,A)})(a,d,Ri(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:vt.min(),i?c:kt()))).next((g=>(V2(a,Ew(t),g),{documents:g,Qs:c})))))}function V2(r,t,i){let a=r.Os.get(t)||vt.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class zv{constructor(){this.activeTargetIds=Rw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class k2{constructor(){this.Mo=new zv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new zv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class U2{Oo(t){}shutdown(){}}const Bv="ConnectivityMonitor";class qv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){rt(Bv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){rt(Bv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Oc=null;function Em(){return Oc===null?Oc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Oc++,"0x"+Oc.toString(16)}const Xd="RestConnection",L2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class P2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=Em(),g=this.zo(t,i.toUriEncodedString());rt(Xd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=uo(y);return this.Jo(t,g,_,a,A).then((w=>(rt(Xd,`Received RPC '${t}' ${d}: `,w),w)),(w=>{throw eo(Xd,`RPC '${t}' ${d} failed with error: `,w,"url: ",g,"request:",a),w}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+ho})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=L2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class j2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class z2 extends P2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=Em();return new Promise(((g,_)=>{const y=new j0;y.setWithCredentials(!0),y.listenOnce(z0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case kc.NO_ERROR:const w=y.getResponseJson();rt(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(w)),g(w);break;case kc.TIMEOUT:rt(Je,`RPC '${t}' ${d} timed out`),_(new ot(Z.DEADLINE_EXCEEDED,"Request time out"));break;case kc.HTTP_ERROR:const O=y.getStatus();if(rt(Je,`RPC '${t}' ${d} failed with status:`,O,"response text:",y.getResponseText()),O>0){let q=y.getResponseJson();Array.isArray(q)&&(q=q[0]);const W=q?.error;if(W&&W.status&&W.message){const tt=(function(lt){const st=lt.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(st)>=0?st:Z.UNKNOWN})(W.status);_(new ot(tt,W.message))}else _(new ot(Z.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot(Z.UNAVAILABLE,"Connection failed."));break;default:yt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{rt(Je,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);rt(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=Em(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=H0(),g=q0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");rt(Je,`Creating RPC '${t}' stream ${l}: ${A}`,_);const w=d.createWebChannel(A,_);this.I_(w);let O=!1,q=!1;const W=new j2({Yo:$=>{q?rt(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(O||(rt(Je,`Opening RPC '${t}' stream ${l} transport.`),w.open(),O=!0),rt(Je,`RPC '${t}' stream ${l} sending:`,$),w.send($))},Zo:()=>w.close()}),tt=($,lt,st)=>{$.listen(lt,(ct=>{try{st(ct)}catch(Ut){setTimeout((()=>{throw Ut}),0)}}))};return tt(w,wl.EventType.OPEN,(()=>{q||(rt(Je,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),tt(w,wl.EventType.CLOSE,(()=>{q||(q=!0,rt(Je,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(w))})),tt(w,wl.EventType.ERROR,($=>{q||(q=!0,eo(Je,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),W.a_(new ot(Z.UNAVAILABLE,"The operation could not be completed")))})),tt(w,wl.EventType.MESSAGE,($=>{if(!q){const lt=$.data[0];Yt(!!lt,16349);const st=lt,ct=st?.error||st[0]?.error;if(ct){rt(Je,`RPC '${t}' stream ${l} received error:`,ct);const Ut=ct.status;let zt=(function(S){const C=Ie[S];if(C!==void 0)return bE(C)})(Ut),wt=ct.message;zt===void 0&&(zt=Z.INTERNAL,wt="Unknown error status: "+Ut+" with message "+ct.message),q=!0,W.a_(new ot(zt,wt)),w.close()}else rt(Je,`RPC '${t}' stream ${l} received:`,lt),W.u_(lt)}})),tt(g,B0.STAT_EVENT,($=>{$.stat===lm.PROXY?rt(Je,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===lm.NOPROXY&&rt(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function $d(){return typeof document<"u"?document:null}function Sh(r){return new Fw(r,!0)}class LE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&rt("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Hv="PersistentStream";class PE{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new LE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(is(i.toString()),is("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return rt(Hv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(rt(Hv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class B2 extends PE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Yw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return vt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?vt.min():d.readTime?Ci(d.readTime):vt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=_m(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=dm(_)?{documents:$w(c,_)}:{query:Jw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=RE(c,d.resumeToken);const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(vt.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const y=pm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=Ww(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=_m(this.serializer),i.removeTarget=t,this.q_(i)}}class q2 extends PE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Yt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Yt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Yt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Xw(t.writeResults,t.commitTime),a=Ci(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=_m(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Kw(this.serializer,a)))};this.q_(i)}}class H2{}class F2 extends H2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,gm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(Z.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,gm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(Z.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class G2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(is(i),this.aa=!1):rt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Xr="RemoteStore";class Q2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Zr(this)&&(rt(Xr,"Restarting streams for network reachability change."),await(async function(_){const y=Tt(_);y.Ea.add(4),await Yl(y),y.Ra.set("Unknown"),y.Ea.delete(4),await wh(y)})(this))}))})),this.Ra=new G2(a,l)}}async function wh(r){if(Zr(r))for(const t of r.da)await t(!0)}async function Yl(r){for(const t of r.da)await t(!1)}function jE(r,t){const i=Tt(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),tp(i)?Wm(i):po(i).O_()&&Zm(i,t))}function Jm(r,t){const i=Tt(r),a=po(i);i.Ia.delete(t),a.O_()&&zE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Zr(i)&&i.Ra.set("Unknown"))}function Zm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}po(r).Y_(t)}function zE(r,t){r.Va.Ue(t),po(r).Z_(t)}function Wm(r){r.Va=new zw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),po(r).start(),r.Ra.ua()}function tp(r){return Zr(r)&&!po(r).x_()&&r.Ia.size>0}function Zr(r){return Tt(r).Ea.size===0}function BE(r){r.Va=void 0}async function Y2(r){r.Ra.set("Online")}async function K2(r){r.Ia.forEach(((t,i)=>{Zm(r,t)}))}async function X2(r,t){BE(r),tp(r)?(r.Ra.ha(t),Wm(r)):r.Ra.set("Unknown")}async function $2(r,t,i){if(r.Ra.set("Online"),t instanceof wE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){rt(Xr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof jc?r.Va.Ze(t):t instanceof SE?r.Va.st(t):r.Va.tt(t),!i.isEqual(vt.min()))try{const a=await UE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),zE(c,_);const w=new Qs(A.target,_,y,A.sequenceNumber);Zm(c,w)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){rt(Xr,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!mo(t))throw t;r.Ea.add(1),await Yl(r),r.Ra.set("Offline"),i||(i=()=>UE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{rt(Xr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await wh(r)}))}function qE(r,t){return t().catch((i=>eh(r,i,t)))}async function Rh(r){const t=Tt(r),i=rr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Lm;for(;J2(t);)try{const l=await O2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,Z2(t,l)}catch(l){await eh(t,l)}HE(t)&&FE(t)}function J2(r){return Zr(r)&&r.Ta.length<10}function Z2(r,t){r.Ta.push(t);const i=rr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function HE(r){return Zr(r)&&!rr(r).x_()&&r.Ta.length>0}function FE(r){rr(r).start()}async function W2(r){rr(r).ra()}async function tR(r){const t=rr(r);for(const i of r.Ta)t.ea(i.mutations)}async function eR(r,t,i){const a=r.Ta.shift(),l=Fm.from(a,t,i);await qE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await Rh(r)}async function nR(r,t){t&&rr(r).X_&&await(async function(a,l){if((function(d){return Lw(d)&&d!==Z.ABORTED})(l.code)){const c=a.Ta.shift();rr(a).B_(),await qE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Rh(a)}})(r,t),HE(r)&&FE(r)}async function Fv(r,t){const i=Tt(r);i.asyncQueue.verifyOperationInProgress(),rt(Xr,"RemoteStore received new credentials");const a=Zr(i);i.Ea.add(3),await Yl(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await wh(i)}async function iR(r,t){const i=Tt(r);t?(i.Ea.delete(2),await wh(i)):t||(i.Ea.add(2),await Yl(i),i.Ra.set("Unknown"))}function po(r){return r.ma||(r.ma=(function(i,a,l){const c=Tt(i);return c.sa(),new B2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:Y2.bind(null,r),t_:K2.bind(null,r),r_:X2.bind(null,r),H_:$2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),tp(r)?Wm(r):r.Ra.set("Unknown")):(await r.ma.stop(),BE(r))}))),r.ma}function rr(r){return r.fa||(r.fa=(function(i,a,l){const c=Tt(i);return c.sa(),new q2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:W2.bind(null,r),r_:nR.bind(null,r),ta:tR.bind(null,r),na:eR.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Rh(r)):(await r.fa.stop(),r.Ta.length>0&&(rt(Xr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ep{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new ep(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Z.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function np(r,t){if(is("AsyncQueue",`${t}: ${r}`),mo(r))return new ot(Z.UNAVAILABLE,`${t}: ${r}`);throw r}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||pt.comparator(i.key,a.key):(i,a)=>pt.comparator(i.key,a.key),this.keyedMap=Rl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ka;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Gv{constructor(){this.ga=new ue(pt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):yt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class lo{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new lo(t,i,Ka.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&_h(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class sR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class rR{constructor(){this.queries=Qv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=Tt(i),c=l.queries;l.queries=Qv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ot(Z.ABORTED,"Firestore shutting down"))}}function Qv(){return new Jr((r=>cE(r)),_h)}async function GE(r,t){const i=Tt(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new sR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=np(d,`Initialization of query '${Fa(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&ip(i)}async function QE(r,t){const i=Tt(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function aR(r,t){const i=Tt(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&ip(i)}function oR(r,t,i){const a=Tt(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function ip(r){r.Ca.forEach((t=>{t.next()}))}var Tm,Yv;(Yv=Tm||(Tm={})).Ma="default",Yv.Cache="cache";class YE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new lo(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=lo.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Tm.Cache}}class KE{constructor(t){this.key=t}}class XE{constructor(t){this.key=t}}class lR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=hE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Gv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,w)=>{const O=l.get(A),q=vh(this.query,w)?w:null,W=!!O&&this.mutatedKeys.has(O.key),tt=!!q&&(q.hasLocalMutations||this.mutatedKeys.has(q.key)&&q.hasCommittedMutations);let $=!1;O&&q?O.data.isEqual(q.data)?W!==tt&&(a.track({type:3,doc:q}),$=!0):this.su(O,q)||(a.track({type:2,doc:q}),$=!0,(_&&this.eu(q,_)>0||y&&this.eu(q,y)<0)&&(g=!0)):!O&&q?(a.track({type:0,doc:q}),$=!0):O&&!q&&(a.track({type:1,doc:O}),$=!0,(_||y)&&(g=!0)),$&&(q?(d=d.add(q),c=tt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,w)=>(function(q,W){const tt=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt(20277,{Rt:$})}};return tt(q)-tt(W)})(A.type,w.type)||this.eu(A.doc,w.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new lo(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Gv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new XE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new KE(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return lo.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const sp="SyncEngine";class uR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class cR{constructor(t){this.key=t,this.hu=!1}}class hR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new Jr((g=>cE(g)),_h),this.Iu=new Map,this.Eu=new Set,this.du=new ue(pt.comparator),this.Au=new Map,this.Ru=new Ym,this.Vu={},this.mu=new Map,this.fu=oo.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function fR(r,t,i=!0){const a=eT(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await $E(a,t,i,!0),l}async function dR(r,t){const i=eT(r);await $E(i,t,!0,!1)}async function $E(r,t,i,a){const l=await M2(r.localStore,Ri(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await mR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&jE(r.remoteStore,l),g}async function mR(r,t,i,a,l){r.pu=(w,O,q)=>(async function(tt,$,lt,st){let ct=$.view.ru(lt);ct.Cs&&(ct=await jv(tt.localStore,$.query,!1).then((({documents:I})=>$.view.ru(I,ct))));const Ut=st&&st.targetChanges.get($.targetId),zt=st&&st.targetMismatches.get($.targetId)!=null,wt=$.view.applyChanges(ct,tt.isPrimaryClient,Ut,zt);return Xv(tt,$.targetId,wt.au),wt.snapshot})(r,w,O,q);const c=await jv(r.localStore,t,!0),d=new lR(t,c.Qs),g=d.ru(c.documents),_=Ql.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);Xv(r,i,y.au);const A=new uR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function pR(r,t,i){const a=Tt(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!_h(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await vm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&Jm(a.remoteStore,l.targetId),Am(a,l.targetId)})).catch(fo)):(Am(a,l.targetId),await vm(a.localStore,l.targetId,!0))}async function gR(r,t){const i=Tt(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),Jm(i.remoteStore,a.targetId))}async function yR(r,t,i){const a=SR(r);try{const l=await(function(d,g){const _=Tt(d),y=ae.now(),A=g.reduce(((q,W)=>q.add(W.key)),kt());let w,O;return _.persistence.runTransaction("Locally write mutations","readwrite",(q=>{let W=ss(),tt=kt();return _.Ns.getEntries(q,A).next(($=>{W=$,W.forEach(((lt,st)=>{st.isValidDocument()||(tt=tt.add(lt))}))})).next((()=>_.localDocuments.getOverlayedDocuments(q,W))).next(($=>{w=$;const lt=[];for(const st of g){const ct=Ow(st,w.get(st.key).overlayedDocument);ct!=null&&lt.push(new cr(st.key,ct,iE(ct.value.mapValue),mn.exists(!0)))}return _.mutationQueue.addMutationBatch(q,y,lt,g)})).next(($=>{O=$;const lt=$.applyToLocalDocumentSet(w,tt);return _.documentOverlayCache.saveOverlays(q,$.batchId,lt)}))})).then((()=>({batchId:O.batchId,changes:dE(w)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Vt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Kl(a,l.changes),await Rh(a.remoteStore)}catch(l){const c=np(l,"Failed to persist write");i.reject(c)}}async function JE(r,t){const i=Tt(r);try{const a=await N2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Yt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Yt(d.hu,14607):l.removedDocuments.size>0&&(Yt(d.hu,42227),d.hu=!1))})),await Kl(i,a,t)}catch(a){await fo(a)}}function Kv(r,t,i){const a=Tt(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=Tt(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,w)=>{for(const O of w.Sa)O.va(g)&&(y=!0)})),y&&ip(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function _R(r,t,i){const a=Tt(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(pt.comparator);d=d.insert(c,We.newNoDocument(c,vt.min()));const g=kt().add(c),_=new bh(vt.min(),new Map,new ue(Vt),d,g);await JE(a,_),a.du=a.du.remove(c),a.Au.delete(t),rp(a)}else await vm(a.localStore,t,!1).then((()=>Am(a,t,i))).catch(fo)}async function vR(r,t){const i=Tt(r),a=t.batch.batchId;try{const l=await I2(i.localStore,t);WE(i,a,null),ZE(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Kl(i,l)}catch(l){await fo(l)}}async function ER(r,t,i){const a=Tt(r);try{const l=await(function(d,g){const _=Tt(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((w=>(Yt(w!==null,37113),A=w.keys(),_.mutationQueue.removeMutationBatch(y,w)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);WE(a,t,i),ZE(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Kl(a,l)}catch(l){await fo(l)}}function ZE(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function WE(r,t,i){const a=Tt(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function Am(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||tT(r,a)}))}function tT(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(Jm(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),rp(r))}function Xv(r,t,i){for(const a of i)a instanceof KE?(r.Ru.addReference(a.key,t),TR(r,a)):a instanceof XE?(rt(sp,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||tT(r,a.key)):yt(19791,{wu:a})}function TR(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(rt(sp,"New document in limbo: "+i),r.Eu.add(a),rp(r))}function rp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new pt(re.fromString(t)),a=r.fu.next();r.Au.set(a,new cR(i)),r.du=r.du.insert(i,a),jE(r.remoteStore,new Qs(Ri(yh(i.path)),a,"TargetPurposeLimboResolution",dh.ce))}}async function Kl(r,t,i){const a=Tt(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Xm.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=Tt(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(w=>X.forEach(y,(O=>X.forEach(O.Es,(q=>A.persistence.referenceDelegate.addReference(w,O.targetId,q))).next((()=>X.forEach(O.ds,(q=>A.persistence.referenceDelegate.removeReference(w,O.targetId,q)))))))))}catch(w){if(!mo(w))throw w;rt($m,"Failed to update sequence numbers: "+w)}for(const w of y){const O=w.targetId;if(!w.fromCache){const q=A.Ms.get(O),W=q.snapshotVersion,tt=q.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(O,tt)}}})(a.localStore,c))}async function AR(r,t){const i=Tt(r);if(!i.currentUser.isEqual(t)){rt(sp,"User change. New user:",t.toKey());const a=await kE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ot(Z.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Kl(i,a.Ls)}}function bR(r,t){const i=Tt(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function eT(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=JE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=bR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=_R.bind(null,t),t.Pu.H_=aR.bind(null,t.eventManager),t.Pu.yu=oR.bind(null,t.eventManager),t}function SR(r){const t=Tt(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=vR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=ER.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Sh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return x2(this.persistence,new w2,t.initialUser,this.serializer)}Cu(t){return new VE(Km.mi,this.serializer)}Du(t){return new k2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class wR extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Yt(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new c2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new VE((a=>th.mi(a,i)),this.serializer)}}class bm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Kv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=AR.bind(null,this.syncEngine),await iR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new rR})()}createDatastore(t){const i=Sh(t.databaseInfo.databaseId),a=(function(c){return new z2(c)})(t.databaseInfo);return(function(c,d,g,_){return new F2(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new Q2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Kv(this.syncEngine,i,0)),(function(){return qv.v()?new qv:new U2})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,A){const w=new hR(l,c,d,g,_,y);return A&&(w.gu=!0),w})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Tt(i);rt(Xr,"RemoteStore shutting down."),a.Ea.add(5),await Yl(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}bm.provider={build:()=>new bm};class nT{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):is("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ar="FirestoreClient";class RR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=km.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{rt(ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(rt(ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=np(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function Jd(r,t){r.asyncQueue.verifyOperationInProgress(),rt(ar,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await kE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function $v(r,t){r.asyncQueue.verifyOperationInProgress();const i=await CR(r);rt(ar,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Fv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Fv(t.remoteStore,l))),r._onlineComponents=t}async function CR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){rt(ar,"Using user provided OfflineComponentProvider");try{await Jd(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===Z.FAILED_PRECONDITION||l.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;eo("Error using user provided cache. Falling back to memory cache: "+i),await Jd(r,new nh)}}else rt(ar,"Using default OfflineComponentProvider"),await Jd(r,new wR(void 0));return r._offlineComponents}async function iT(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(rt(ar,"Using user provided OnlineComponentProvider"),await $v(r,r._uninitializedComponentsProvider._online)):(rt(ar,"Using default OnlineComponentProvider"),await $v(r,new bm))),r._onlineComponents}function xR(r){return iT(r).then((t=>t.syncEngine))}async function Sm(r){const t=await iT(r),i=t.eventManager;return i.onListen=fR.bind(null,t.syncEngine),i.onUnlisten=pR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=dR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=gR.bind(null,t.syncEngine),i}function IR(r,t,i={}){const a=new Zs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const A=new nT({next:O=>{A.Nu(),d.enqueueAndForget((()=>QE(c,w)));const q=O.docs.has(g);!q&&O.fromCache?y.reject(new ot(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):q&&O.fromCache&&_&&_.source==="server"?y.reject(new ot(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(O)},error:O=>y.reject(O)}),w=new YE(yh(g.path),A,{includeMetadataChanges:!0,qa:!0});return GE(c,w)})(await Sm(r),r.asyncQueue,t,i,a))),a.promise}function sT(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const Jv=new Map;const rT="firestore.googleapis.com",Zv=!0;class Wv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rT,this.ssl=Zv}else this.host=t.host,this.ssl=t.ssl??Zv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=ME;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<l2)throw new ot(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}QS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=sT(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ch{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Wv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Wv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new US;switch(a.type){case"firstParty":return new zS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=Jv.get(i);a&&(rt("ComponentProvider","Removing Datastore"),Jv.delete(i),a.terminate())})(this),Promise.resolve()}}function NR(r,t,i,a={}){r=Bn(r,Ch);const l=uo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(N0(`https://${g}`),D0("Firestore",!0)),c.host!==rT&&c.host!==g&&eo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!es(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Ze.MOCK_USER;else{y=ob(a.mockUserToken,r._app?.options.projectId);const w=a.mockUserToken.sub||a.mockUserToken.user_id;if(!w)throw new ot(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(w)}r._authCredentials=new LS(new G0(y,A))}}class xh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new xh(this.firestore,t,this._query)}}class ve{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ve(this.firestore,t,this._key)}toJSON(){return{type:ve._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Fl(i,ve._jsonSchema))return new ve(t,a||null,new pt(re.fromString(i.referencePath)))}}ve._jsonSchemaVersion="firestore/documentReference/1.0",ve._jsonSchema={type:De("string",ve._jsonSchemaVersion),referencePath:De("string")};class Ws extends xh{constructor(t,i,a){super(t,i,yh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ve(this.firestore,null,new pt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function Zd(r,t,...i){if(r=Ke(r),Q0("collection","path",t),r instanceof Ch){const a=re.fromString(t,...i);return dv(a),new Ws(r,null,a)}{if(!(r instanceof ve||r instanceof Ws))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return dv(a),new Ws(r.firestore,null,a)}}function Ne(r,t,...i){if(r=Ke(r),arguments.length===1&&(t=km.newId()),Q0("doc","path",t),r instanceof Ch){const a=re.fromString(t,...i);return fv(a),new ve(r,null,new pt(a))}{if(!(r instanceof ve||r instanceof Ws))throw new ot(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(re.fromString(t,...i));return fv(a),new ve(r.firestore,r instanceof Ws?r.converter:null,new pt(a))}}const t0="AsyncQueue";class e0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new LE(this,"async_queue_retry"),this._c=()=>{const a=$d();a&&rt(t0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=$d();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=$d();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!mo(t))throw t;rt(t0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,is("INTERNAL UNHANDLED ERROR: ",n0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=ep.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&yt(47125,{Pc:n0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function n0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function i0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class or extends Ch{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new e0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new e0(t),this._firestoreClient=void 0,await t}}}function DR(r,t){const i=typeof r=="object"?r:k0(),a=typeof r=="string"?r:Kc,l=Mm(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=rb("firestore");c&&NR(l,...c)}return l}function Ih(r){if(r._terminated)throw new ot(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||OR(r),r._firestoreClient}function OR(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new iw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,sT(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new RR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class jn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new jn(Xe.fromBase64String(t))}catch(i){throw new ot(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new jn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Fl(t,jn._jsonSchema))return jn.fromBase64String(t.bytes)}}jn._jsonSchemaVersion="firestore/bytes/1.0",jn._jsonSchema={type:De("string",jn._jsonSchemaVersion),bytes:De("string")};class Xl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class go{constructor(t){this._methodName=t}}class xi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:xi._jsonSchemaVersion}}static fromJSON(t){if(Fl(t,xi._jsonSchema))return new xi(t.latitude,t.longitude)}}xi._jsonSchemaVersion="firestore/geoPoint/1.0",xi._jsonSchema={type:De("string",xi._jsonSchemaVersion),latitude:De("number"),longitude:De("number")};class Ii{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Ii._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Fl(t,Ii._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Ii(t.vectorValues);throw new ot(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ii._jsonSchemaVersion="firestore/vectorValue/1.0",Ii._jsonSchema={type:De("string",Ii._jsonSchemaVersion),vectorValues:De("object")};const MR=/^__.*__$/;class VR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Gl(t,this.data,i,this.fieldTransforms)}}class aT{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new cr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function oT(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw yt(40011,{Ac:r})}}class Nh{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Nh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(oT(this.Ac)&&MR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class kR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Sh(t)}Cc(t,i,a,l=!1){return new Nh({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ap(r){const t=r._freezeSettings(),i=Sh(r._databaseId);return new kR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function lT(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);cp("Data must be an object, but it was:",d,a);const g=fT(a,d);let _,y;if(c.merge)_=new wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const w of c.mergeFields){const O=wm(t,w,i);if(!d.contains(O))throw new ot(Z.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);mT(A,O)||A.push(O)}_=new wn(A),y=d.fieldTransforms.filter((w=>_.covers(w.field)))}else _=null,y=d.fieldTransforms;return new VR(new dn(g),_,y)}class Dh extends go{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Dh}}function uT(r,t,i){return new Nh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class op extends go{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=uT(this,t,!0),a=this.vc.map((c=>yo(c,i))),l=new ro(a);return new Hm(t.path,l)}isEqual(t){return t instanceof op&&es(this.vc,t.vc)}}class lp extends go{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=uT(this,t,!0),a=this.vc.map((c=>yo(c,i))),l=new ao(a);return new Hm(t.path,l)}isEqual(t){return t instanceof lp&&es(this.vc,t.vc)}}class up extends go{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new zl(t.serializer,gE(t.serializer,this.Fc));return new Hm(t.path,i)}isEqual(t){return t instanceof up&&this.Fc===t.Fc}}function cT(r,t,i,a){const l=r.Cc(1,t,i);cp("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();ur(a,((_,y)=>{const A=hp(t,_,i);y=Ke(y);const w=l.yc(A);if(y instanceof Dh)c.push(A);else{const O=yo(y,w);O!=null&&(c.push(A),d.set(A,O))}}));const g=new wn(c);return new aT(d,g,l.fieldTransforms)}function hT(r,t,i,a,l,c){const d=r.Cc(1,t,i),g=[wm(t,a,i)],_=[l];if(c.length%2!=0)throw new ot(Z.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let O=0;O<c.length;O+=2)g.push(wm(t,c[O])),_.push(c[O+1]);const y=[],A=dn.empty();for(let O=g.length-1;O>=0;--O)if(!mT(y,g[O])){const q=g[O];let W=_[O];W=Ke(W);const tt=d.yc(q);if(W instanceof Dh)y.push(q);else{const $=yo(W,tt);$!=null&&(y.push(q),A.set(q,$))}}const w=new wn(y);return new aT(A,w,d.fieldTransforms)}function yo(r,t){if(dT(r=Ke(r)))return cp("Unsupported field value:",t,r),fT(r,t);if(r instanceof go)return(function(a,l){if(!oT(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=yo(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ke(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return gE(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=ae.fromDate(a);return{timestampValue:Wc(l.serializer,c)}}if(a instanceof ae){const c=new ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(a instanceof xi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof jn)return{bytesValue:RE(l.serializer,a._byteString)};if(a instanceof ve){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Qm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof Ii)return(function(d,g){return{mapValue:{fields:{[eE]:{stringValue:nE},[Xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return qm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${Um(a)}`)})(r,t)}function fT(r,t){const i={};return X0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(r,((a,l)=>{const c=yo(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function dT(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof ae||r instanceof xi||r instanceof jn||r instanceof ve||r instanceof go||r instanceof Ii)}function cp(r,t,i){if(!dT(i)||!Y0(i)){const a=Um(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function wm(r,t,i){if((t=Ke(t))instanceof Xl)return t._internalPath;if(typeof t=="string")return hp(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const UR=new RegExp("[~\\*/\\[\\]]");function hp(r,t,i){if(t.search(UR)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Xl(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ot(Z.INVALID_ARGUMENT,g+r+_)}function mT(r,t){return r.some((i=>i.isEqual(t)))}class pT{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(gT("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class LR extends pT{data(){return super.data()}}function gT(r,t){return typeof t=="string"?hp(r,t):t instanceof Xl?t._internalPath:t._delegate._internalPath}function PR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jR{convertValue(t,i="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return _e(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ur(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>_e(a.doubleValue)));return new Ii(i)}convertGeoPoint(t){return new xi(_e(t.latitude),_e(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=ph(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ll(t));default:return null}}convertTimestamp(t){const i=nr(t);return new ae(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=re.fromString(t);Yt(OE(a),9688,{name:t});const l=new Pl(a.get(1),a.get(3)),c=new pt(a.popFirst(5));return l.isEqual(i)||is(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function yT(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class xl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gr extends pT{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new zc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(gT("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Gr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Gr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Gr._jsonSchema={type:De("string",Gr._jsonSchemaVersion),bundleSource:De("string","DocumentSnapshot"),bundleName:De("string"),bundle:De("string")};class zc extends Gr{data(t={}){return super.data(t)}}class Xa{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new xl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new zc(this._firestore,this._userDataWriter,a.key,a,new xl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new zc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new xl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:zR(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Xa._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=km.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function zR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt(61501,{type:r})}}function _T(r){r=Bn(r,ve);const t=Bn(r.firestore,or);return IR(Ih(t),r._key).then((i=>ET(t,r,i)))}Xa._jsonSchemaVersion="firestore/querySnapshot/1.0",Xa._jsonSchema={type:De("string",Xa._jsonSchemaVersion),bundleSource:De("string","QuerySnapshot"),bundleName:De("string"),bundle:De("string")};class vT extends jR{constructor(t){super(),this.firestore=t}convertBytes(t){return new jn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new ve(this.firestore,null,i)}}function $a(r,t,i){r=Bn(r,ve);const a=Bn(r.firestore,or),l=yT(r.converter,t,i);return Oh(a,[lT(ap(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,mn.none())])}function zn(r,t,i,...a){r=Bn(r,ve);const l=Bn(r.firestore,or),c=ap(l);let d;return d=typeof(t=Ke(t))=="string"||t instanceof Xl?hT(c,"updateDoc",r._key,t,i,a):cT(c,"updateDoc",r._key,t),Oh(l,[d.toMutation(r._key,mn.exists(!0))])}function BR(r){return Oh(Bn(r.firestore,or),[new Ah(r._key,mn.none())])}function Wd(r,...t){r=Ke(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||i0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(i0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof ve)d=Bn(r.firestore,or),g=yh(r._key.path),c={next:_=>{t[a]&&t[a](ET(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Bn(r,xh);d=Bn(_.firestore,or),g=_._query;const y=new vT(d);c={next:A=>{t[a]&&t[a](new Xa(d,y,_,A))},error:t[a+1],complete:t[a+2]},PR(r._query)}return(function(y,A,w,O){const q=new nT(O),W=new YE(A,q,w);return y.asyncQueue.enqueueAndForget((async()=>GE(await Sm(y),W))),()=>{q.Nu(),y.asyncQueue.enqueueAndForget((async()=>QE(await Sm(y),W)))}})(Ih(d),g,l,c)}function Oh(r,t){return(function(a,l){const c=new Zs;return a.asyncQueue.enqueueAndForget((async()=>yR(await xR(a),l,c))),c.promise})(Ih(r),t)}function ET(r,t,i){const a=i.docs.get(t._key),l=new vT(r);return new Gr(r,l,t._key,a,new xl(i.hasPendingWrites,i.fromCache),t.converter)}class qR{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=ap(t)}set(t,i,a){this._verifyNotCommitted();const l=tm(t,this._firestore),c=yT(l.converter,i,a),d=lT(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,mn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=tm(t,this._firestore);let d;return d=typeof(i=Ke(i))=="string"||i instanceof Xl?hT(this._dataReader,"WriteBatch.update",c._key,i,a,l):cT(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=tm(t,this._firestore);return this._mutations=this._mutations.concat(new Ah(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(Z.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function tm(r,t){if((r=Ke(r)).firestore!==t)throw new ot(Z.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function HR(...r){return new op("arrayUnion",r)}function sh(...r){return new lp("arrayRemove",r)}function Ys(r){return new up("increment",r)}function FR(r){return Ih(r=Bn(r,or)),new qR(r,(t=>Oh(r,t)))}(function(t,i=!0){(function(l){ho=l})(co),to(new Yr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new or(new PS(a.getProvider("auth-internal")),new BS(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Pl(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(lv,uv,t),$s(lv,uv,"esm2020")})();function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GR=TT,AT=new ql("auth","Firebase",TT());const rh=new Dm("@firebase/auth");function QR(r,...t){rh.logLevel<=Mt.WARN&&rh.warn(`Auth (${co}): ${r}`,...t)}function Bc(r,...t){rh.logLevel<=Mt.ERROR&&rh.error(`Auth (${co}): ${r}`,...t)}function rs(r,...t){throw fp(r,...t)}function Ni(r,...t){return fp(r,...t)}function bT(r,t,i){const a={...GR(),[t]:i};return new ql("auth","Firebase",a).create(t,{appName:r.name})}function tr(r){return bT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function fp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return AT.create(r,...t)}function _t(r,t,...i){if(!r)throw fp(t,...i)}function Wi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function as(r,t){r||Wi(t)}function Rm(){return typeof self<"u"&&self.location?.href||""}function YR(){return s0()==="http:"||s0()==="https:"}function s0(){return typeof self<"u"&&self.location?.protocol||null}function KR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YR()||db()||"connection"in navigator)?navigator.onLine:!0}function XR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class $l{constructor(t,i){this.shortDelay=t,this.longDelay=i,as(i>t,"Short delay should be less than long delay!"),this.isMobile=cb()||mb()}get(){return KR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function dp(r,t){as(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class ST{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $R={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const JR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],ZR=new $l(3e4,6e4);function Mh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function _o(r,t,i,a,l={}){return wT(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=Hl({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return fb()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&uo(r.emulatorConfig.host)&&(y.credentials="include"),ST.fetch()(await CT(r,r.config.apiHost,i,g),y)})}async function wT(r,t,i){r._canInitEmulator=!1;const a={...$R,...t};try{const l=new WR(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Mc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Mc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Mc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw bT(r,A,y);rs(r,A)}}catch(l){if(l instanceof os)throw l;rs(r,"network-request-failed",{message:String(l)})}}async function RT(r,t,i,a,l={}){const c=await _o(r,t,i,a,l);return"mfaPendingCredential"in c&&rs(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function CT(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?dp(r.config,l):`${r.config.apiScheme}://${l}`;return JR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class WR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ni(this.auth,"network-request-failed")),ZR.get())})}}function Mc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ni(r,t,a);return l.customData._tokenResponse=i,l}async function tC(r,t){return _o(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return _o(r,"POST","/v1/accounts:lookup",t)}function Vl(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function eC(r,t=!1){const i=Ke(r),a=await i.getIdToken(t),l=mp(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Vl(em(l.auth_time)),issuedAtTime:Vl(em(l.iat)),expirationTime:Vl(em(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function em(r){return Number(r)*1e3}function mp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=R0(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function r0(r){const t=mp(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Bl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof os&&nC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function nC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class iC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Vl(this.lastLoginAt),this.creationTime=Vl(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(r){const t=r.auth,i=await r.getIdToken(),a=await Bl(r,ah(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?xT(l.providerUserInfo):[],d=rC(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function sC(r){const t=Ke(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function rC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function xT(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function aC(r,t){const i=await wT(r,{},async()=>{const a=Hl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await CT(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&uo(r.emulatorConfig.host)&&(_.credentials="include"),ST.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function oC(r,t){return _o(r,"POST","/v2/accounts:revokeToken",Mh(r,t))}class Ja{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):r0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=r0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await aC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Ja;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ja,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function Bs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new iC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Cm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await Bl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return eC(this,t)}reload(){return sC(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await Bl(this,tC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:w,emailVerified:O,isAnonymous:q,providerData:W,stsTokenManager:tt}=i;_t(w&&tt,t,"internal-error");const $=Ja.fromJSON(this.name,tt);_t(typeof w=="string",t,"internal-error"),Bs(a,t.name),Bs(l,t.name),_t(typeof O=="boolean",t,"internal-error"),_t(typeof q=="boolean",t,"internal-error"),Bs(c,t.name),Bs(d,t.name),Bs(g,t.name),Bs(_,t.name),Bs(y,t.name),Bs(A,t.name);const lt=new ei({uid:w,auth:t,email:l,emailVerified:O,displayName:a,isAnonymous:q,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(lt.providerData=W.map(st=>({...st}))),_&&(lt._redirectEventId=_),lt}static async _fromIdTokenResponse(t,i,a=!1){const l=new Ja;l.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?xT(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Ja;g.updateFromIdToken(a);const _=new ei({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Cm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const a0=new Map;function ts(r){as(r instanceof Function,"Expected a class definition");let t=a0.get(r);return t?(as(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,a0.set(r,t),t)}class IT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}IT.type="NONE";const o0=IT;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class Za{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new Za(ts(o0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||ts(o0);const d=qc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let w;if(typeof A=="string"){const O=await ah(t,{idToken:A}).catch(()=>{});if(!O)break;w=await ei._fromGetAccountInfoResponse(t,O,A)}else w=ei._fromJSON(t,A);y!==c&&(g=w),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new Za(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new Za(c,t,a))}}function l0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(MT(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(NT(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(kT(t))return"Blackberry";if(UT(t))return"Webos";if(DT(t))return"Safari";if((t.includes("chrome/")||OT(t))&&!t.includes("edge/"))return"Chrome";if(VT(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function NT(r=tn()){return/firefox\//i.test(r)}function DT(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function OT(r=tn()){return/crios\//i.test(r)}function MT(r=tn()){return/iemobile/i.test(r)}function VT(r=tn()){return/android/i.test(r)}function kT(r=tn()){return/blackberry/i.test(r)}function UT(r=tn()){return/webos/i.test(r)}function pp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function lC(r=tn()){return pp(r)&&!!window.navigator?.standalone}function uC(){return pb()&&document.documentMode===10}function LT(r=tn()){return pp(r)||VT(r)||UT(r)||kT(r)||/windows phone/i.test(r)||MT(r)}function PT(r,t=[]){let i;switch(r){case"Browser":i=l0(tn());break;case"Worker":i=`${l0(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${co}/${a}`}class cC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function hC(r,t={}){return _o(r,"GET","/v2/passwordPolicy",Mh(r,t))}const fC=6;class dC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??fC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class mC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new u0(this),this.idTokenSubscription=new u0(this),this.beforeStateQueue=new cC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=AT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Za.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),a=await ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=XR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(tr(this));const i=t?Ke(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await hC(this),i=new dC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new ql("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await oC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await Za.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=PT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&QR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Vh(r){return Ke(r)}class u0{constructor(t){this.auth=t,this.observer=null,this.addObserver=bb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pC(r){gp=r}function gC(r){return gp.loadJS(r)}function yC(){return gp.gapiScript}function _C(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function vC(r,t){const i=Mm(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(es(c,t??{}))return l;rs(l,"already-initialized")}return i.initialize({options:t})}function EC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function TC(r,t,i){const a=Vh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=jT(t),{host:d,port:g}=AC(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(es(y,a.config.emulator)&&es(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,uo(d)?(N0(`${c}//${d}${_}`),D0("Auth",!0)):bC()}function jT(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function AC(r){const t=jT(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:c0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:c0(d)}}}function c0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function bC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class zT{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Wa(r,t){return RT(r,"POST","/v1/accounts:signInWithIdp",Mh(r,t))}const SC="http://localhost";class $r extends zT{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new $r(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):rs("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new $r(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Wa(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Wa(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Wa(t,i)}buildRequest(){const t={requestUri:SC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Hl(i)}return t}}class BT{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jl extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends Jl{constructor(){super("facebook.com")}static credential(t){return $r._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends Jl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return $r._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Fs extends Jl{constructor(){super("github.com")}static credential(t){return $r._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends Jl{constructor(){super("twitter.com")}static credential(t,i){return $r._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function wC(r,t){return RT(r,"POST","/v1/accounts:signUp",Mh(r,t))}class lr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ei._fromIdTokenResponse(t,a,l),d=h0(a);return new lr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=h0(a);return new lr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function h0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function RC(r){if(ti(r.app))return Promise.reject(tr(r));const t=Vh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new lr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await wC(t,{returnSecureToken:!0}),a=await lr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class lh extends os{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new lh(t,i,a,l)}}function qT(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,c,t,a):c})}async function CC(r,t,i=!1){const a=await Bl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return lr._forOperation(r,"link",a)}async function xC(r,t,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(tr(a));const l="reauthenticate";try{const c=await Bl(r,qT(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=mp(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),lr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&rs(a,"user-mismatch"),c}}async function IC(r,t,i=!1){if(ti(r.app))return Promise.reject(tr(r));const a="signIn",l=await qT(r,a,t),c=await lr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function NC(r,t,i,a){return Ke(r).onIdTokenChanged(t,i,a)}function DC(r,t,i){return Ke(r).beforeAuthStateChanged(t,i)}const uh="__sak";class HT{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const OC=1e3,MC=10;class FT extends HT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=LT(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);uC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,MC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},OC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}FT.type="LOCAL";const VC=FT;class GT extends HT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}GT.type="SESSION";const QT=GT;function kC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class kh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new kh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await kC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kh.receivers=[];function yp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class UC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=yp("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(w){const O=w;if(O.data.eventId===y)switch(O.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(O.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Di(){return window}function LC(r){Di().location.href=r}function YT(){return typeof Di().WorkerGlobalScope<"u"&&typeof Di().importScripts=="function"}async function PC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jC(){return navigator?.serviceWorker?.controller||null}function zC(){return YT()?self:null}const KT="firebaseLocalStorageDb",BC=1,ch="firebaseLocalStorage",XT="fbase_key";class Zl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Uh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function qC(){const r=indexedDB.deleteDatabase(KT);return new Zl(r).toPromise()}function xm(){const r=indexedDB.open(KT,BC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ch,{keyPath:XT})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ch)?t(a):(a.close(),await qC(),t(await xm()))})})}async function f0(r,t,i){const a=Uh(r,!0).put({[XT]:t,value:i});return new Zl(a).toPromise()}async function HC(r,t){const i=Uh(r,!1).get(t),a=await new Zl(i).toPromise();return a===void 0?null:a.value}function d0(r,t){const i=Uh(r,!0).delete(t);return new Zl(i).toPromise()}const FC=800,GC=3;class $T{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>GC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return YT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kh._getInstance(zC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await PC(),!this.activeServiceWorker)return;this.sender=new UC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||jC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await xm();return await f0(t,uh,"1"),await d0(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>f0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>HC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>d0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Uh(l,!1).getAll();return new Zl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}$T.type="LOCAL";const QC=$T;new $l(3e4,6e4);function YC(r,t){return t?ts(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class _p extends zT{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Wa(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Wa(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Wa(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function KC(r){return IC(r.auth,new _p(r),r.bypassAuthState)}function XC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),xC(i,new _p(r),r.bypassAuthState)}async function $C(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),CC(i,new _p(r),r.bypassAuthState)}class JT{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return KC;case"linkViaPopup":case"linkViaRedirect":return $C;case"reauthViaPopup":case"reauthViaRedirect":return XC;default:rs(this.auth,"internal-error")}}resolve(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){as(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const JC=new $l(2e3,1e4);class Ya extends JT{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){as(this.filter.length===1,"Popup operations only handle one event");const t=yp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ni(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ni(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ni(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,JC.get())};t()}}Ya.currentPopupAction=null;const ZC="pendingRedirect",Hc=new Map;class WC extends JT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const a=await tx(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function tx(r,t){const i=ix(t),a=nx(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function ex(r,t){Hc.set(r._key(),t)}function nx(r){return ts(r._redirectPersistence)}function ix(r){return qc(ZC,r.config.apiKey,r.name)}async function sx(r,t,i=!1){if(ti(r.app))return Promise.reject(tr(r));const a=Vh(r),l=YC(a,t),d=await new WC(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const rx=600*1e3;class ax{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!ox(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!ZT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ni(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=rx&&this.cachedEventUids.clear(),this.cachedEventUids.has(m0(t))}saveEventToCache(t){this.cachedEventUids.add(m0(t)),this.lastProcessedEventTime=Date.now()}}function m0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function ZT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function ox(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZT(r);default:return!1}}async function lx(r,t={}){return _o(r,"GET","/v1/projects",t)}const ux=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cx=/^https?/;async function hx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await lx(r);for(const i of t)try{if(fx(i))return}catch{}rs(r,"unauthorized-domain")}function fx(r){const t=Rm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!cx.test(i))return!1;if(ux.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const dx=new $l(3e4,6e4);function p0(){const r=Di().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function mx(r){return new Promise((t,i)=>{function a(){p0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{p0(),i(Ni(r,"network-request-failed"))},timeout:dx.get()})}if(Di().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Di().gapi?.load)a();else{const l=_C("iframefcb");return Di()[l]=()=>{gapi.load?a():i(Ni(r,"network-request-failed"))},gC(`${yC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function px(r){return Fc=Fc||mx(r),Fc}const gx=new $l(5e3,15e3),yx="__/auth/iframe",_x="emulator/auth/iframe",vx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ex=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Tx(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?dp(t,_x):`https://${r.config.authDomain}/${yx}`,a={apiKey:t.apiKey,appName:r.name,v:co},l=Ex.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Hl(a).slice(1)}`}async function Ax(r){const t=await px(r),i=Di().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:Tx(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vx,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ni(r,"network-request-failed"),g=Di().setTimeout(()=>{c(d)},gx.get());function _(){Di().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const bx={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Sx=500,wx=600,Rx="_blank",Cx="http://localhost";class g0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xx(r,t,i,a=Sx,l=wx){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...bx,width:a.toString(),height:l.toString(),top:c,left:d},y=tn().toLowerCase();i&&(g=OT(y)?Rx:i),NT(y)&&(t=t||Cx,_.scrollbars="yes");const A=Object.entries(_).reduce((O,[q,W])=>`${O}${q}=${W},`,"");if(lC(y)&&g!=="_self")return Ix(t||"",g),new g0(null);const w=window.open(t||"",g,A);_t(w,r,"popup-blocked");try{w.focus()}catch{}return new g0(w)}function Ix(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Nx="__/auth/handler",Dx="emulator/auth/handler",Ox=encodeURIComponent("fac");async function y0(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:co,eventId:l};if(t instanceof BT){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",Ab(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,w]of Object.entries({}))d[A]=w}if(t instanceof Jl){const A=t.getScopes().filter(w=>w!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await r._getAppCheckToken(),y=_?`#${Ox}=${encodeURIComponent(_)}`:"";return`${Mx(r)}?${Hl(g).slice(1)}${y}`}function Mx({config:r}){return r.emulator?dp(r,Dx):`https://${r.authDomain}/${Nx}`}const nm="webStorageSupport";class Vx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=QT,this._completeRedirectFn=sx,this._overrideRedirectResult=ex}async _openPopup(t,i,a,l){as(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await y0(t,i,a,Rm(),l);return xx(t,c,yp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await y0(t,i,a,Rm(),l);return LC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(as(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await Ax(t),a=new ax(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(nm,{type:nm},l=>{const c=l?.[0]?.[nm];c!==void 0&&i(!!c),rs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=hx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return LT()||DT()||pp()}}const kx=Vx;var _0="@firebase/auth",v0="1.12.0";class Ux{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Lx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Px(r){to(new Yr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:PT(r)},y=new mC(a,l,c,_);return EC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),to(new Yr("auth-internal",t=>{const i=Vh(t.getProvider("auth").getImmediate());return(a=>new Ux(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(_0,v0,Lx(r)),$s(_0,v0,"esm2020")}const jx=300,zx=I0("authIdTokenMaxAge")||jx;let E0=null;const Bx=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>zx)return;const l=i?.token;E0!==l&&(E0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function qx(r=k0()){const t=Mm(r,"auth");if(t.isInitialized())return t.getImmediate();const i=vC(r,{popupRedirectResolver:kx,persistence:[QC,VC,QT]}),a=I0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Bx(c.toString());DC(i,d,()=>d(i.currentUser)),NC(i,g=>d(g))}}const l=C0("auth");return l&&TC(i,`http://${l}`),i}function Hx(){return document.getElementsByTagName("head")?.[0]??document}pC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ni("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",Hx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Px("Browser");const Fx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Gx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),T0=r=>{const t=Gx(r);return t.charAt(0).toUpperCase()+t.slice(1)},WT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Qx=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Yx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Kx=Ot.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>Ot.createElement("svg",{ref:_,...Yx,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:WT("lucide",l),...!c&&!Qx(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>Ot.createElement(y,A)),...Array.isArray(c)?c:[c]]));const de=(r,t)=>{const i=Ot.forwardRef(({className:a,...l},c)=>Ot.createElement(Kx,{ref:c,iconNode:t,className:WT(`lucide-${Fx(T0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=T0(r),i};const Xx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],$x=de("activity",Xx);const Jx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Zx=de("book-open",Jx);const Wx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Im=de("calendar",Wx);const tI=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],t1=de("check",tI);const eI=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nI=de("circle-check-big",eI);const iI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],sI=de("circle-x",iI);const rI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],e1=de("clipboard-list",rI);const aI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],oI=de("dollar-sign",aI);const lI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],uI=de("eye-off",lI);const cI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hI=de("eye",cI);const fI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],dI=de("heart",fI);const mI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],hh=de("key",mI);const pI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],n1=de("loader-circle",pI);const gI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yI=de("log-out",gI);const _I=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],vI=de("shield-check",_I);const EI=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],i1=de("stethoscope",EI);const TI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],AI=de("trash-2",TI);const bI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],s1=de("trophy",bI);const SI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],A0=de("user-check",SI);const wI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],b0=de("user-x",wI);const RI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],r1=de("users",RI);const CI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],xI=de("x",CI),II={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},a1=V0(II),Sn=DR(a1),NI=qx(a1),DI="balletfitbyjen-6b36a",Qr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],OI=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Vc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],wi=({children:r,className:t=""})=>b.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),Hr=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return b.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${l}`,disabled:a,children:r})},o1=(r,t)=>{const i=new Date,a=new Date,[l,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const _=i.getHours()*60+i.getMinutes(),y=l*60+c;_>y&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(l,c,0,0),(a-i)/(1e3*60*60)},MI=r=>{const t=new Date(r.valueOf()),i=(r.getDay()+6)%7;t.setDate(t.getDate()-i+3);const a=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((a-t)/6048e5)},l1=(r,t)=>{const i=new Date,a=i.getDay(),[l,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),g=l*60+c;return a>r||a===r&&d>=g},u1=(r=null)=>{let t=Qr;return r&&(t=Qr.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:o1(a.dayIdx,a.time)})).sort((a,l)=>a.diff-l.diff)[0]},vp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function VI(){const[r,t]=Ot.useState("login"),[i,a]=Ot.useState(null),[l,c]=Ot.useState([]),[d,g]=Ot.useState([]),[_,y]=Ot.useState({}),[A,w]=Ot.useState(null),[O,q]=Ot.useState(!0),[W,tt]=Ot.useState(null),[$,lt]=Ot.useState(""),st=(S,C="success")=>{w({msg:S,type:C}),setTimeout(()=>w(null),4e3)};Ot.useEffect(()=>{lt(Vc[Math.floor(Math.random()*Vc.length)]),(async()=>{try{await RC(NI)}catch(R){console.error("Error Auth:",R)}const C=Wd(Zd(Sn,"alumnas"),R=>{const Rt=R.docs.map(Qt=>({id:Qt.id,...Qt.data()}));c(Rt),q(!1)},R=>st("Error al cargar alumnas","error")),k=Wd(Zd(Sn,"maestros"),R=>{const Rt=R.docs.map(Qt=>({id:Qt.id,...Qt.data()}));g(Rt)}),N=Wd(Zd(Sn,"sesiones"),R=>{const Rt={};R.docs.forEach(Qt=>Rt[Qt.id]=Qt.data()),y(Rt)});return(async()=>(await _T(Ne(Sn,"maestros","JENNY"))).exists()||(await $a(Ne(Sn,"maestros","JENNY"),{id:"JENNY",name:"JENNY",password:"JENNY2024",role:"admin",status:"active"}),await $a(Ne(Sn,"maestros","LUCY"),{id:"LUCY",name:"LUCY",password:"LUCY2024",role:"teacher",status:"active"})))(),()=>{C(),k(),N()}})()},[]),Ot.useEffect(()=>{if(i&&i.role==="student"){const S=l.find(C=>C.id===i.id);S&&a(C=>({...C,...S}))}else if(i&&(i.role==="teacher"||i.role==="admin")){const S=d.find(C=>C.id===i.id);S&&a(C=>({...C,...S}))}},[l,d]);const ct=(S,C)=>{const k=S.trim().toUpperCase(),N=C.trim();tt(null);const U=d.find(Rt=>Rt.id===k||Rt.name.toUpperCase()===k);if(U)if(U.password===N){if(U.status==="inactive"){tt("Cuenta de staff desactivada.");return}a({...U,firstName:U.name.split(" ")[0],role:U.role}),t(U.role==="admin"?"admin":"teacher"),st(`Bienvenida, ${U.name}`);return}else{tt("Contrasea de staff incorrecta.");return}const R=l.find(Rt=>Rt.id.toUpperCase()===k);if(R){if(R.password&&R.password!==N){tt("Contrasea incorrecta.");return}if(R.status==="inactive"){tt("Cuenta inactiva. Contacta a Jenny.");return}a({...R,firstName:R.name.split(" ")[0],role:"student"}),lt(Vc[Math.floor(Math.random()*Vc.length)]),t("student"),st(`Hola, ${R.name}!`)}else tt("ID no encontrado o datos incorrectos.")},Ut=async S=>{const C=Qr.find(N=>N.id===S),k=_[S];if(l1(C.dayIdx,C.time)){st("Esta clase ya ocurri.","error");return}if(k?.isClosed){st("Clase cerrada.","error");return}if(i.credits<=0){st("Sin crditos.","error");return}try{const N=Ne(Sn,"alumnas",i.id),U=Ne(Sn,"sesiones",S);await zn(N,{credits:Ys(-1),history:HR(S)}),await $a(U,{booked:Ys(1)},{merge:!0}),st("Clase reservada!")}catch{st("Error al reservar","error")}},zt=async S=>{const C=Qr.find(U=>U.id===S),N=o1(C.dayIdx,C.time)<6;if(!(N&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const U=Ne(Sn,"alumnas",i.id),R=Ne(Sn,"sesiones",S);N?await zn(U,{history:sh(S)}):await zn(U,{credits:Ys(1),history:sh(S)}),await zn(R,{booked:Ys(-1)}),st(N?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{st("Error al cancelar","error")}},wt=()=>{a(null),t("login"),tt(null)},I=async S=>{if(!i)return;const C=i.role==="student"?"alumnas":"maestros";try{return await zn(Ne(Sn,C,i.id),{password:S}),st("Tu contrasea ha sido actualizada"),!0}catch{return st("Error al actualizar contrasea","error"),!1}};return O?b.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):b.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[A&&b.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${A.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[A.type==="error"?b.jsx(sI,{size:18}):b.jsx(nI,{size:18}),b.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:A.msg})]}),r==="login"&&b.jsx(kI,{onLogin:ct,error:W}),r==="student"&&b.jsx(UI,{user:i,quote:$,sessions:Qr,sessionsData:_,onBook:Ut,onCancel:zt,onLogout:wt,onUpdatePass:I}),r==="admin"&&b.jsx(LI,{students:l,teachers:d,sessionsData:_,db:Sn,onLogout:wt,showNotification:st}),r==="teacher"&&b.jsx(PI,{user:i,students:l,sessionsData:_,db:Sn,onLogout:wt,showNotification:st,onUpdatePass:I})]})}const kI=({onLogin:r,error:t})=>{const[i,a]=Ot.useState(""),[l,c]=Ot.useState(""),[d,g]=Ot.useState(!1);return b.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),b.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:b.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),b.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Portal de alumnas"})]}),b.jsxs("form",{onSubmit:_=>{_.preventDefault(),r(i,l)},className:"space-y-6",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),b.jsx("input",{type:"text",required:!0,placeholder:"Cdigo de estudiante",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:_=>a(_.target.value)})]}),b.jsxs("div",{className:"space-y-1 relative",children:[b.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),b.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:l,onChange:_=>c(_.target.value)}),b.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?b.jsx(uI,{size:18}):b.jsx(hI,{size:18})})]}),t&&b.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"}),b.jsx("p",{className:"text-[9px] text-center text-gray-400 uppercase tracking-widest font-bold px-4 leading-relaxed",children:"En caso de no poder ingresar, contactar a Jenny"})]})]})]})})]})},UI=({user:r,quote:t,sessions:i,sessionsData:a,onBook:l,onCancel:c,onLogout:d,onUpdatePass:g})=>{const[_,y]=Ot.useState(!1),A=r.history||[],w=i.filter(W=>A.includes(W.id)),O=w.length>0?w[0]:null,q=vp();return b.jsxs("div",{className:"pb-20",children:[b.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:b.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),b.jsxs("button",{onClick:()=>y(!0),className:"text-gray-400 hover:text-[#369EAD] text-[9px] font-sans uppercase font-bold flex items-center gap-1 tracking-widest transition-colors",children:[b.jsx(hh,{size:14}),b.jsx("span",{children:"Clave"})]})]}),b.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest transition-colors",children:[b.jsx("span",{children:"Salir"}),b.jsx(yI,{size:16})]})]})}),b.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[b.jsxs("div",{className:"mb-10 text-center md:text-left",children:[b.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),b.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[b.jsx(dI,{size:16,fill:"#369EAD"})," ",t]})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[b.jsxs(wi,{className:"md:col-span-2 flex flex-col justify-between",children:[b.jsxs("div",{className:"flex justify-between items-start mb-6",children:[b.jsx("div",{children:b.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",q]})}),b.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:b.jsx($x,{size:24})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[b.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases del Mes"}),b.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[b.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),b.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",r.maxCredits]})]})]}),b.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[b.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),b.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[b.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),b.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),b.jsxs(wi,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:b.jsx(Im,{size:120})}),b.jsx(Im,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),b.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),O?b.jsxs("div",{className:"animate-in fade-in duration-500",children:[b.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:O.day}),b.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:O.time}),b.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",O.teacher]})]}):b.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),b.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(W=>{const tt=A.includes(W.id),$=a[W.id]||{booked:0,isClosed:!1},lt=($.booked||0)>=W.spots,st=$.isClosed,ct=l1(W.dayIdx,W.time),Ut=r.credits>0&&!tt&&!lt&&!st&&!ct;return b.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${tt?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":st||ct?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex justify-between items-start font-sans",children:[b.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:W.day}),st?b.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):ct?b.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),b.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:W.time}),b.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:W.teacher})]}),b.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[b.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[b.jsx(r1,{size:12})," ",$.booked||0,"/",W.spots]}),tt?b.jsx("button",{onClick:()=>c(W.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):b.jsx(Hr,{onClick:()=>l(W.id),disabled:!Ut,className:"!px-4 !py-2 !text-[9px]",children:st?"Cerrado":ct?"Pasada":lt?"Lleno":"Reservar"})]})]},W.id)})})]}),_&&b.jsx(c1,{onClose:()=>y(!1),onSave:g})]})},c1=({onClose:r,onSave:t})=>{const[i,a]=Ot.useState(""),[l,c]=Ot.useState(!1);return b.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[600] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] animate-in zoom-in font-sans text-center",children:[b.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Cambiar mi contrasea"}),b.jsx("p",{className:"text-[9px] text-gray-400 uppercase tracking-widest font-bold mb-6 italic",children:"Define una clave que puedas recordar"}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-center font-bold font-sans text-sm",placeholder:"Escribe tu nueva clave",value:i,onChange:d=>a(d.target.value)}),b.jsx(Hr,{disabled:l||!i.trim(),onClick:async()=>{c(!0),await t(i)&&r(),c(!1)},className:"w-full !py-4",children:l?b.jsx(n1,{className:"animate-spin"}):"Guardar nueva clave"}),b.jsx("button",{onClick:r,className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400 transition-colors",children:"Cancelar"})]})]})})},LI=({students:r,teachers:t,sessionsData:i,db:a,onLogout:l,showNotification:c})=>{const[d,g]=Ot.useState(!1),[_,y]=Ot.useState(!1),[A,w]=Ot.useState(null),[O,q]=Ot.useState(null),[W,tt]=Ot.useState(""),[$,lt]=Ot.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:""}),[st,ct]=Ot.useState({id:"",name:"",password:"",role:"teacher"}),[Ut,zt]=Ot.useState(!1),[wt,I]=Ot.useState(null),[S,C]=Ot.useState(0),k=vp(),N=r.filter(V=>V.status!=="inactive"),U=V=>{const J=V.map(mt=>mt.id).filter(mt=>mt.startsWith("BF-")).map(mt=>parseInt(mt.split("-")[1])).filter(mt=>!isNaN(mt)),ht=(J.length>0?Math.max(...J):0)+1;return`BF-${String(ht).padStart(3,"0")}`};Ot.useEffect(()=>{if(d){const V=U(r);lt(J=>({...J,id:V}))}},[d,r]),Ot.useEffect(()=>{const V=async()=>{const J=Ne(a,"artifacts",DI,"public","metadata","settings"),et=MI(new Date);try{const ht=await _T(J);let mt=0;if(ht.exists()&&(mt=ht.data().lastResetWeek||0),et!==mt&&r.length>0){const Ct=FR(a);N.forEach(ce=>{const ne=Ne(a,"alumnas",ce.id);Ct.update(ne,{credits:ce.maxCredits,history:[]})}),await $a(J,{lastResetWeek:et},{merge:!0}),await Ct.commit(),c("Crditos reiniciados!","success")}}catch(ht){console.error(ht)}};r.length>0&&V()},[r.length]);const R=u1(),Rt=r.filter(V=>V.history?.includes(R.id)&&V.status!=="inactive"),Qt=r.reduce((V,J)=>V+(J.monthlyPayment||0),0),G=async(V,J)=>{if(window.confirm("Confirmar asistencia?"))try{const et=Ne(a,"alumnas",V),ht=Ne(a,"sesiones",J);await zn(et,{totalAttendance:Ys(1),history:sh(J)}),await zn(ht,{booked:Ys(-1)}),c("Asistencia confirmada")}catch(et){console.error(et)}},it=async(V,J,et)=>{const ht=et==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus de este registro?"))try{await zn(Ne(a,V,J),{status:ht}),c("Estatus actualizado")}catch(mt){console.error(mt)}},ft=async(V,J)=>{if(W.trim())try{await zn(Ne(a,V,J),{password:W.trim()}),c("Contrasea actualizada"),w(null),q(null),tt("")}catch(et){console.error(et)}},Lt=async V=>{V.preventDefault();const J=$.id.trim().toUpperCase();if(!(!J||!$.name||!$.password)){zt(!0);try{await $a(Ne(a,"alumnas",J),{...$,id:J,name:$.name.trim().toUpperCase(),maxCredits:parseInt($.plan.split(" ")[0])||2,credits:parseInt($.plan.split(" ")[0])||2,history:[],monthlyPayment:0,totalAttendance:0,status:"active",registrationDate:new Date().toISOString()}),c("Alumna registrada"),g(!1),lt({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(et){console.error(et)}zt(!1)}},Ht=async V=>{V.preventDefault();const J=st.id.trim().toUpperCase();if(!(!J||!st.name||!st.password)){zt(!0);try{await $a(Ne(a,"maestros",J),{...st,id:J,name:st.name.trim().toUpperCase(),status:"active"}),c("Maestro registrado"),y(!1),ct({id:"",name:"",password:"",role:"teacher"})}catch(et){console.error(et)}zt(!1)}},M=async()=>{try{await zn(Ne(a,"alumnas",wt),{monthlyPayment:parseFloat(S)}),c("Pago registrado"),I(null)}catch(V){console.error(V)}};return b.jsxs("div",{className:"pb-20",children:[b.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg sticky top-0 z-[100]",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),b.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:k})]}),b.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest transition-opacity",children:"Cerrar Sesin"})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 font-sans",children:[b.jsxs(wi,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[b.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] transition-transform group-hover:rotate-6",children:b.jsx(oI,{size:28})}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",k]}),b.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",Qt.toLocaleString()]})]})]}),b.jsxs(wi,{className:"flex items-center gap-6 border-[#369EAD] group",children:[b.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm transition-transform group-hover:scale-110",children:b.jsx(s1,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto"}),b.jsxs("p",{className:"text-3xl font-bold",children:[r.reduce((V,J)=>V+(J.totalAttendance||0),0)," clases"]})]})]}),b.jsxs(wi,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 lg:col-span-2",children:[b.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:b.jsx(r1,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Activas / Staff"}),b.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[N.length," Alumnas / ",t.length," Staff"]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs(wi,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[b.jsx(e1,{size:20})," Roster: Prxima Clase"]}),b.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[R.day," ",R.time]})]}),b.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:Rt.length>0?Rt.map(V=>b.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-serif italic font-bold text-sm",children:V.name}),b.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:V.id})]}),V.notes&&b.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[b.jsx(i1,{size:12,className:"mt-1 flex-shrink-0"}),b.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:V.notes})]})]}),b.jsx("button",{onClick:()=>G(V.id,R.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:b.jsx(t1,{size:18})})]},V.id)):b.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas todava"})})]}),b.jsxs("div",{className:"lg:col-span-2",children:[b.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans mb-8",children:[b.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[b.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[b.jsx(vI,{size:20,className:"text-[#369EAD]"})," Gestin de Staff"]}),b.jsx(Hr,{onClick:()=>y(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Maestro"})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4",children:"Maestro / Rol"}),b.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),b.jsx("th",{className:"px-6 py-4 text-center",children:"Clases"}),b.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(V=>b.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${V.status==="inactive"?"opacity-40 grayscale":""}`,children:[b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("div",{className:`w-2 h-2 rounded-full ${V.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),b.jsxs("div",{children:[b.jsx("div",{className:"font-bold font-serif italic",children:V.name}),b.jsx("div",{className:"text-[9px] font-sans uppercase font-black text-gray-400",children:V.role==="admin"?"Duea / Admin":"Instructora"})]})]})}),b.jsx("td",{className:"px-6 py-4 text-center font-sans font-bold text-[#C5A059]",children:V.password}),b.jsxs("td",{className:"px-6 py-4 text-center font-sans text-xs",children:[Qr.filter(J=>J.teacher.toUpperCase()===V.name.toUpperCase()).length," clases/sem"]}),b.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[b.jsx("button",{onClick:()=>q(V.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:b.jsx(hh,{size:16})}),b.jsx("button",{onClick:()=>it("maestros",V.id,V.status),className:`p-2 rounded-full ${V.status==="inactive"?"text-green-500":"text-red-400"}`,children:V.status==="inactive"?b.jsx(A0,{size:16}):b.jsx(b0,{size:16})})]})]},V.id))})]})})]}),b.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[b.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[b.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control de Alumnas"}),b.jsx(Hr,{onClick:()=>g(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nueva Alumna"})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-4",children:"Nombre / Clave"}),b.jsx("th",{className:"px-6 py-4 text-center",children:"Crditos"}),b.jsx("th",{className:"px-6 py-4 text-center",children:"Pago"}),b.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(V=>b.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${V.status==="inactive"?"opacity-40 grayscale":""}`,children:[b.jsx("td",{className:"px-6 py-4",children:b.jsxs("div",{children:[b.jsx("div",{className:"font-bold font-serif italic",children:V.name}),b.jsxs("div",{className:"text-[9px] text-gray-400 uppercase font-black",children:["ID: ",V.id,"  Pass: ",b.jsx("span",{className:"text-[#C5A059]",children:V.password})]})]})}),b.jsxs("td",{className:"px-6 py-4 text-center font-sans font-bold text-[#369EAD]",children:[V.credits," ",b.jsxs("span",{className:"text-[10px] text-gray-300",children:["/ ",V.maxCredits]})]}),b.jsx("td",{className:"px-6 py-4 text-center",children:b.jsxs("button",{onClick:()=>{I(V.id),C(V.monthlyPayment||0)},className:"font-sans font-bold text-green-600 bg-green-50 px-3 py-1 rounded text-xs transition-colors hover:bg-green-100",children:["$",V.monthlyPayment||0]})}),b.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[b.jsx("button",{onClick:()=>w(V.id),className:"p-2 text-gray-300 hover:text-[#C5A059] transition-colors",children:b.jsx(hh,{size:16})}),b.jsx("button",{onClick:()=>it("alumnas",V.id,V.status),className:"p-2 text-gray-300 hover:text-red-400 transition-colors",children:V.status==="inactive"?b.jsx(A0,{size:16}):b.jsx(b0,{size:16})}),b.jsx("button",{onClick:()=>{window.confirm(`Borrar a ${V.name}?`)&&BR(Ne(a,"alumnas",V.id))},className:"p-2 text-red-100 hover:text-red-500 transition-colors",children:b.jsx(AI,{size:16})})]})]},V.id))})]})})]})]})]})]}),(d||_)&&b.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD] animate-in zoom-in font-sans",children:[b.jsx("button",{onClick:()=>{g(!1),y(!1)},className:"absolute top-6 right-6 text-gray-400 hover:text-red-500 transition-colors",children:b.jsx(xI,{size:28})}),b.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:d?"Nueva Alumna":"Nuevo Maestro"}),b.jsxs("form",{onSubmit:d?Lt:Ht,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsx("input",{type:"text",required:!0,placeholder:"ID / USUARIO",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:d?$.id:st.id,onChange:V=>d?lt({...$,id:V.target.value}):ct({...st,id:V.target.value})}),b.jsx("input",{type:"text",required:!0,placeholder:"CONTRASEA",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:d?$.password:st.password,onChange:V=>d?lt({...$,password:V.target.value}):ct({...st,password:V.target.value})})]}),b.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b border-gray-100 focus:border-[#369EAD]",value:d?$.name:st.name,onChange:V=>d?lt({...$,name:V.target.value}):ct({...st,name:V.target.value})}),d?b.jsx("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b border-gray-100 focus:border-[#369EAD]",value:$.plan,onChange:V=>lt({...$,plan:V.target.value}),children:OI.slice(0,4).map((V,J)=>b.jsx("option",{value:V.plan,children:V.plan},J))}):b.jsxs("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b border-gray-100 focus:border-[#369EAD]",value:st.role,onChange:V=>ct({...st,role:V.target.value}),children:[b.jsx("option",{value:"teacher",children:"MAESTRA"}),b.jsx("option",{value:"admin",children:"ADMINISTRADORA"})]}),b.jsx(Hr,{disabled:Ut,className:"w-full !py-4 font-bold",children:Ut?b.jsx(n1,{className:"animate-spin"}):"Guardar Registro"})]})]})}),(A||O)&&b.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 z-[500] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm text-center font-sans border-t-8 border-[#C5A059] shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-serif italic mb-6",children:"Actualizar Clave"}),b.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 outline-none text-center font-bold mb-6 border-b border-gray-100",placeholder:"Nueva Clave",value:W,onChange:V=>tt(V.target.value)}),b.jsx(Hr,{onClick:()=>ft(A?"alumnas":"maestros",A||O),className:"w-full mb-2",children:"Guardar"}),b.jsx("button",{onClick:()=>{w(null),q(null)},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400 transition-colors",children:"Cancelar"})]})}),wt&&b.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 z-[500] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm text-center font-sans border-t-8 border-green-500 shadow-2xl",children:[b.jsx("h3",{className:"text-xl font-serif italic mb-6",children:"Registrar Pago"}),b.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 outline-none text-center font-bold mb-6 border-b border-gray-100",value:S,onChange:V=>C(V.target.value)}),b.jsx(Hr,{onClick:M,className:"w-full mb-2",children:"Confirmar"}),b.jsx("button",{onClick:()=>I(null),className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400 transition-colors",children:"Cerrar"})]})})]})},PI=({user:r,students:t,sessionsData:i,db:a,onLogout:l,showNotification:c,onUpdatePass:d})=>{const[g,_]=Ot.useState(!1);vp();const y=Qr.filter(q=>q.teacher.toUpperCase()===r.firstName.toUpperCase()),A=u1(r.firstName),w=t.filter(q=>q.history?.includes(A?.id)&&q.status!=="inactive"),O=async(q,W)=>{if(window.confirm("Confirmar asistencia?"))try{const tt=Ne(a,"alumnas",q),$=Ne(a,"sesiones",W);await zn(tt,{totalAttendance:Ys(1),history:sh(W)}),await zn($,{booked:Ys(-1)}),c("Asistencia marcada")}catch(tt){console.error(tt)}};return b.jsxs("div",{className:"pb-20",children:[b.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg sticky top-0 z-50",children:[b.jsxs("div",{className:"flex items-center gap-4",children:[b.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Staff"}),b.jsxs("button",{onClick:()=>_(!0),className:"bg-white/10 hover:bg-white/20 px-3 py-1 rounded text-[8px] font-sans font-black uppercase tracking-widest flex items-center gap-1 transition-colors",children:[b.jsx(hh,{size:10}),b.jsx("span",{children:"Mi Clave"})]})]}),b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:r.firstName}),b.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest transition-opacity",children:"Cerrar Sesin"})]})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[b.jsxs("div",{className:"mb-10 text-center md:text-left",children:[b.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),b.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Lista para tu prxima clase"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[b.jsxs(wi,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[b.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:b.jsx(Zx,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Disciplina"}),b.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),b.jsxs(wi,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[b.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:b.jsx(s1,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Impacto"}),b.jsx("p",{className:"text-3xl font-bold text-[#369EAD] font-sans",children:"Enseando este mes"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs(wi,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[b.jsx(e1,{size:20})," Asistencia: Prxima Clase"]}),A&&b.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[A.day," ",A.time]})]}),b.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:w.length>0?w.map(q=>b.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-serif italic font-bold text-sm",children:q.name}),q.notes&&b.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[b.jsx(i1,{size:12,className:"mt-1 flex-shrink-0"}),b.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:q.notes})]})]}),b.jsx("button",{onClick:()=>O(q.id,A.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:b.jsx(t1,{size:18})})]},q.id)):b.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay alumnas inscritas an"})})]}),b.jsx("div",{className:"lg:col-span-2 space-y-8",children:b.jsxs(wi,{className:"bg-white",children:[b.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[b.jsx(Im,{size:20,className:"text-[#369EAD]"})," Horario de Clases"]}),b.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.map(q=>b.jsxs("div",{className:"p-8 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[b.jsx("span",{className:"text-xs font-sans font-black uppercase text-gray-400 tracking-widest",children:q.day}),b.jsx("p",{className:"text-4xl font-sans font-bold text-[#1A3A3E] my-1",children:q.time}),b.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase tracking-[0.2em]",children:q.type})]},q.id))})]})})]})]}),g&&b.jsx(c1,{onClose:()=>_(!1),onSave:d})]})};$A.createRoot(document.getElementById("root")).render(b.jsx(Ot.StrictMode,{children:b.jsx(VI,{})}));
