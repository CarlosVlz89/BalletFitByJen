(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(o){if(o.ep)return;o.ep=!0;const c=i(o);fetch(o.href,c)}})();var Bd={exports:{}},Do={};var Q_;function Hb(){if(Q_)return Do;Q_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var p in o)p!=="key"&&(c[p]=o[p])}else c=o;return o=c.ref,{$$typeof:r,type:a,key:d,ref:o!==void 0?o:null,props:c}}return Do.Fragment=t,Do.jsx=i,Do.jsxs=i,Do}var K_;function Fb(){return K_||(K_=1,Bd.exports=Hb()),Bd.exports}var E=Fb(),qd={exports:{}},wt={};var Y_;function Gb(){if(Y_)return wt;Y_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),p=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),M=Symbol.iterator;function G(D){return D===null||typeof D!="object"?null:(D=M&&D[M]||D["@@iterator"],typeof D=="function"?D:null)}var tt={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},it=Object.assign,Q={};function at(D,Y,st){this.props=D,this.context=Y,this.refs=Q,this.updater=st||tt}at.prototype.isReactComponent={},at.prototype.setState=function(D,Y){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,Y,"setState")},at.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function dt(){}dt.prototype=at.prototype;function ht(D,Y,st){this.props=D,this.context=Y,this.refs=Q,this.updater=st||tt}var Rt=ht.prototype=new dt;Rt.constructor=ht,it(Rt,at.prototype),Rt.isPureReactComponent=!0;var Ot=Array.isArray;function gt(){}var I={H:null,A:null,T:null,S:null},x=Object.prototype.hasOwnProperty;function C(D,Y,st){var et=st.ref;return{$$typeof:r,type:D,key:Y,ref:et!==void 0?et:null,props:st}}function V(D,Y){return C(D.type,Y,D.props)}function N(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var Y={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(st){return Y[st]})}var w=/\/+/g;function Ft(D,Y){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):Y.toString(36)}function te(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(gt,gt):(D.status="pending",D.then(function(Y){D.status==="pending"&&(D.status="fulfilled",D.value=Y)},function(Y){D.status==="pending"&&(D.status="rejected",D.reason=Y)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function q(D,Y,st,et,ft){var mt=typeof D;(mt==="undefined"||mt==="boolean")&&(D=null);var Mt=!1;if(D===null)Mt=!0;else switch(mt){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(D.$$typeof){case r:case t:Mt=!0;break;case A:return Mt=D._init,q(Mt(D._payload),Y,st,et,ft)}}if(Mt)return ft=ft(D),Mt=et===""?"."+Ft(D,0):et,Ot(ft)?(st="",Mt!=null&&(st=Mt.replace(w,"$&/")+"/"),q(ft,Y,st,"",function(Vn){return Vn})):ft!=null&&(N(ft)&&(ft=V(ft,st+(ft.key==null||D&&D.key===ft.key?"":(""+ft.key).replace(w,"$&/")+"/")+Mt)),Y.push(ft)),1;Mt=0;var me=et===""?".":et+":";if(Ot(D))for(var Xt=0;Xt<D.length;Xt++)et=D[Xt],mt=me+Ft(et,Xt),Mt+=q(et,Y,st,mt,ft);else if(Xt=G(D),typeof Xt=="function")for(D=Xt.call(D),Xt=0;!(et=D.next()).done;)et=et.value,mt=me+Ft(et,Xt++),Mt+=q(et,Y,st,mt,ft);else if(mt==="object"){if(typeof D.then=="function")return q(te(D),Y,st,et,ft);throw Y=String(D),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function W(D,Y,st){if(D==null)return D;var et=[],ft=0;return q(D,et,"","",function(mt){return Y.call(st,mt,ft++)}),et}function rt(D){if(D._status===-1){var Y=D._result;Y=Y(),Y.then(function(st){(D._status===0||D._status===-1)&&(D._status=1,D._result=st)},function(st){(D._status===0||D._status===-1)&&(D._status=2,D._result=st)}),D._status===-1&&(D._status=0,D._result=Y)}if(D._status===1)return D._result.default;throw D._result}var yt=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Tt={map:W,forEach:function(D,Y,st){W(D,function(){Y.apply(this,arguments)},st)},count:function(D){var Y=0;return W(D,function(){Y++}),Y},toArray:function(D){return W(D,function(Y){return Y})||[]},only:function(D){if(!N(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return wt.Activity=S,wt.Children=Tt,wt.Component=at,wt.Fragment=i,wt.Profiler=o,wt.PureComponent=ht,wt.StrictMode=a,wt.Suspense=y,wt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=I,wt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return I.H.useMemoCache(D)}},wt.cache=function(D){return function(){return D.apply(null,arguments)}},wt.cacheSignal=function(){return null},wt.cloneElement=function(D,Y,st){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var et=it({},D.props),ft=D.key;if(Y!=null)for(mt in Y.key!==void 0&&(ft=""+Y.key),Y)!x.call(Y,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&Y.ref===void 0||(et[mt]=Y[mt]);var mt=arguments.length-2;if(mt===1)et.children=st;else if(1<mt){for(var Mt=Array(mt),me=0;me<mt;me++)Mt[me]=arguments[me+2];et.children=Mt}return C(D.type,ft,et)},wt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:c,_context:D},D},wt.createElement=function(D,Y,st){var et,ft={},mt=null;if(Y!=null)for(et in Y.key!==void 0&&(mt=""+Y.key),Y)x.call(Y,et)&&et!=="key"&&et!=="__self"&&et!=="__source"&&(ft[et]=Y[et]);var Mt=arguments.length-2;if(Mt===1)ft.children=st;else if(1<Mt){for(var me=Array(Mt),Xt=0;Xt<Mt;Xt++)me[Xt]=arguments[Xt+2];ft.children=me}if(D&&D.defaultProps)for(et in Mt=D.defaultProps,Mt)ft[et]===void 0&&(ft[et]=Mt[et]);return C(D,mt,ft)},wt.createRef=function(){return{current:null}},wt.forwardRef=function(D){return{$$typeof:p,render:D}},wt.isValidElement=N,wt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:rt}},wt.memo=function(D,Y){return{$$typeof:_,type:D,compare:Y===void 0?null:Y}},wt.startTransition=function(D){var Y=I.T,st={};I.T=st;try{var et=D(),ft=I.S;ft!==null&&ft(st,et),typeof et=="object"&&et!==null&&typeof et.then=="function"&&et.then(gt,yt)}catch(mt){yt(mt)}finally{Y!==null&&st.types!==null&&(Y.types=st.types),I.T=Y}},wt.unstable_useCacheRefresh=function(){return I.H.useCacheRefresh()},wt.use=function(D){return I.H.use(D)},wt.useActionState=function(D,Y,st){return I.H.useActionState(D,Y,st)},wt.useCallback=function(D,Y){return I.H.useCallback(D,Y)},wt.useContext=function(D){return I.H.useContext(D)},wt.useDebugValue=function(){},wt.useDeferredValue=function(D,Y){return I.H.useDeferredValue(D,Y)},wt.useEffect=function(D,Y){return I.H.useEffect(D,Y)},wt.useEffectEvent=function(D){return I.H.useEffectEvent(D)},wt.useId=function(){return I.H.useId()},wt.useImperativeHandle=function(D,Y,st){return I.H.useImperativeHandle(D,Y,st)},wt.useInsertionEffect=function(D,Y){return I.H.useInsertionEffect(D,Y)},wt.useLayoutEffect=function(D,Y){return I.H.useLayoutEffect(D,Y)},wt.useMemo=function(D,Y){return I.H.useMemo(D,Y)},wt.useOptimistic=function(D,Y){return I.H.useOptimistic(D,Y)},wt.useReducer=function(D,Y,st){return I.H.useReducer(D,Y,st)},wt.useRef=function(D){return I.H.useRef(D)},wt.useState=function(D){return I.H.useState(D)},wt.useSyncExternalStore=function(D,Y,st){return I.H.useSyncExternalStore(D,Y,st)},wt.useTransition=function(){return I.H.useTransition()},wt.version="19.2.3",wt}var X_;function Vm(){return X_||(X_=1,qd.exports=Gb()),qd.exports}var St=Vm(),Hd={exports:{}},Mo={},Fd={exports:{}},Gd={};var $_;function Qb(){return $_||($_=1,(function(r){function t(q,W){var rt=q.length;q.push(W);t:for(;0<rt;){var yt=rt-1>>>1,Tt=q[yt];if(0<o(Tt,W))q[yt]=W,q[rt]=Tt,rt=yt;else break t}}function i(q){return q.length===0?null:q[0]}function a(q){if(q.length===0)return null;var W=q[0],rt=q.pop();if(rt!==W){q[0]=rt;t:for(var yt=0,Tt=q.length,D=Tt>>>1;yt<D;){var Y=2*(yt+1)-1,st=q[Y],et=Y+1,ft=q[et];if(0>o(st,rt))et<Tt&&0>o(ft,st)?(q[yt]=ft,q[et]=rt,yt=et):(q[yt]=st,q[Y]=rt,yt=Y);else if(et<Tt&&0>o(ft,rt))q[yt]=ft,q[et]=rt,yt=et;else break t}}return W}function o(q,W){var rt=q.sortIndex-W.sortIndex;return rt!==0?rt:q.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,p=d.now();r.unstable_now=function(){return d.now()-p}}var y=[],_=[],A=1,S=null,M=3,G=!1,tt=!1,it=!1,Q=!1,at=typeof setTimeout=="function"?setTimeout:null,dt=typeof clearTimeout=="function"?clearTimeout:null,ht=typeof setImmediate<"u"?setImmediate:null;function Rt(q){for(var W=i(_);W!==null;){if(W.callback===null)a(_);else if(W.startTime<=q)a(_),W.sortIndex=W.expirationTime,t(y,W);else break;W=i(_)}}function Ot(q){if(it=!1,Rt(q),!tt)if(i(y)!==null)tt=!0,gt||(gt=!0,k());else{var W=i(_);W!==null&&te(Ot,W.startTime-q)}}var gt=!1,I=-1,x=5,C=-1;function V(){return Q?!0:!(r.unstable_now()-C<x)}function N(){if(Q=!1,gt){var q=r.unstable_now();C=q;var W=!0;try{t:{tt=!1,it&&(it=!1,dt(I),I=-1),G=!0;var rt=M;try{e:{for(Rt(q),S=i(y);S!==null&&!(S.expirationTime>q&&V());){var yt=S.callback;if(typeof yt=="function"){S.callback=null,M=S.priorityLevel;var Tt=yt(S.expirationTime<=q);if(q=r.unstable_now(),typeof Tt=="function"){S.callback=Tt,Rt(q),W=!0;break e}S===i(y)&&a(y),Rt(q)}else a(y);S=i(y)}if(S!==null)W=!0;else{var D=i(_);D!==null&&te(Ot,D.startTime-q),W=!1}}break t}finally{S=null,M=rt,G=!1}W=void 0}}finally{W?k():gt=!1}}}var k;if(typeof ht=="function")k=function(){ht(N)};else if(typeof MessageChannel<"u"){var w=new MessageChannel,Ft=w.port2;w.port1.onmessage=N,k=function(){Ft.postMessage(null)}}else k=function(){at(N,0)};function te(q,W){I=at(function(){q(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(q){q.callback=null},r.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<q?Math.floor(1e3/q):5},r.unstable_getCurrentPriorityLevel=function(){return M},r.unstable_next=function(q){switch(M){case 1:case 2:case 3:var W=3;break;default:W=M}var rt=M;M=W;try{return q()}finally{M=rt}},r.unstable_requestPaint=function(){Q=!0},r.unstable_runWithPriority=function(q,W){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var rt=M;M=q;try{return W()}finally{M=rt}},r.unstable_scheduleCallback=function(q,W,rt){var yt=r.unstable_now();switch(typeof rt=="object"&&rt!==null?(rt=rt.delay,rt=typeof rt=="number"&&0<rt?yt+rt:yt):rt=yt,q){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=rt+Tt,q={id:A++,callback:W,priorityLevel:q,startTime:rt,expirationTime:Tt,sortIndex:-1},rt>yt?(q.sortIndex=rt,t(_,q),i(y)===null&&q===i(_)&&(it?(dt(I),I=-1):it=!0,te(Ot,rt-yt))):(q.sortIndex=Tt,t(y,q),tt||G||(tt=!0,gt||(gt=!0,k()))),q},r.unstable_shouldYield=V,r.unstable_wrapCallback=function(q){var W=M;return function(){var rt=M;M=W;try{return q.apply(this,arguments)}finally{M=rt}}}})(Gd)),Gd}var Z_;function Kb(){return Z_||(Z_=1,Fd.exports=Qb()),Fd.exports}var Qd={exports:{}},nn={};var J_;function Yb(){if(J_)return nn;J_=1;var r=Vm();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(y,_,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:y,containerInfo:_,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function p(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return nn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,nn.createPortal=function(y,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,A)},nn.flushSync=function(y){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=_,a.p=A,a.d.f()}},nn.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(y,_))},nn.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},nn.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin),M=typeof _.integrity=="string"?_.integrity:void 0,G=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:S,integrity:M,fetchPriority:G}):A==="script"&&a.d.X(y,{crossOrigin:S,integrity:M,fetchPriority:G,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},nn.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=p(_.as,_.crossOrigin);a.d.M(y,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(y)},nn.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,S=p(A,_.crossOrigin);a.d.L(y,A,{crossOrigin:S,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},nn.preloadModule=function(y,_){if(typeof y=="string")if(_){var A=p(_.as,_.crossOrigin);a.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(y)},nn.requestFormReset=function(y){a.d.r(y)},nn.unstable_batchedUpdates=function(y,_){return y(_)},nn.useFormState=function(y,_,A){return d.H.useFormState(y,_,A)},nn.useFormStatus=function(){return d.H.useHostTransitionStatus()},nn.version="19.2.3",nn}var W_;function Xb(){if(W_)return Qd.exports;W_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Qd.exports=Yb(),Qd.exports}var t0;function $b(){if(t0)return Mo;t0=1;var r=Kb(),t=Vm(),i=Xb();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,l=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){s=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===l)return y(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==l.return)s=h,l=f;else{for(var g=!1,T=h.child;T;){if(T===s){g=!0,s=h,l=f;break}if(T===l){g=!0,l=h,s=f;break}T=T.sibling}if(!g){for(T=f.child;T;){if(T===s){g=!0,s=f,l=h;break}if(T===l){g=!0,l=f,s=h;break}T=T.sibling}if(!g)throw Error(a(189))}}if(s.alternate!==l)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,M=Symbol.for("react.element"),G=Symbol.for("react.transitional.element"),tt=Symbol.for("react.portal"),it=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),at=Symbol.for("react.profiler"),dt=Symbol.for("react.consumer"),ht=Symbol.for("react.context"),Rt=Symbol.for("react.forward_ref"),Ot=Symbol.for("react.suspense"),gt=Symbol.for("react.suspense_list"),I=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),N=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=N&&e[N]||e["@@iterator"],typeof e=="function"?e:null)}var w=Symbol.for("react.client.reference");function Ft(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===w?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case it:return"Fragment";case at:return"Profiler";case Q:return"StrictMode";case Ot:return"Suspense";case gt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case tt:return"Portal";case ht:return e.displayName||"Context";case dt:return(e._context.displayName||"Context")+".Consumer";case Rt:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case I:return n=e.displayName||null,n!==null?n:Ft(e.type)||"Memo";case x:n=e._payload,e=e._init;try{return Ft(e(n))}catch{}}return null}var te=Array.isArray,q=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,rt={pending:!1,data:null,method:null,action:null},yt=[],Tt=-1;function D(e){return{current:e}}function Y(e){0>Tt||(e.current=yt[Tt],yt[Tt]=null,Tt--)}function st(e,n){Tt++,yt[Tt]=e.current,e.current=n}var et=D(null),ft=D(null),mt=D(null),Mt=D(null);function me(e,n){switch(st(mt,n),st(ft,e),st(et,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?p_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=p_(n),e=g_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(et),st(et,e)}function Xt(){Y(et),Y(ft),Y(mt)}function Vn(e){e.memoizedState!==null&&st(Mt,e);var n=et.current,s=g_(n,e.type);n!==s&&(st(ft,e),st(et,s))}function Ss(e){ft.current===e&&(Y(et),Y(ft)),Mt.current===e&&(Y(Mt),Co._currentValue=rt)}var un,Qi;function kn(e){if(un===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);un=n&&n[1]||"",Qi=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+un+e+Qi}var xs=!1;function Ki(e,n){if(!e||xs)return"";xs=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(F){var z=F}Reflect.construct(e,[],$)}else{try{$.call()}catch(F){z=F}e.call($.prototype)}}else{try{throw Error()}catch(F){z=F}($=e())&&typeof $.catch=="function"&&$.catch(function(){})}}catch(F){if(F&&z&&typeof F.stack=="string")return[F.stack,z.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),g=f[0],T=f[1];if(g&&T){var R=g.split(`
`),P=T.split(`
`);for(h=l=0;l<R.length&&!R[l].includes("DetermineComponentFrameRoot");)l++;for(;h<P.length&&!P[h].includes("DetermineComponentFrameRoot");)h++;if(l===R.length||h===P.length)for(l=R.length-1,h=P.length-1;1<=l&&0<=h&&R[l]!==P[h];)h--;for(;1<=l&&0<=h;l--,h--)if(R[l]!==P[h]){if(l!==1||h!==1)do if(l--,h--,0>h||R[l]!==P[h]){var K=`
`+R[l].replace(" at new "," at ");return e.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",e.displayName)),K}while(1<=l&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?kn(s):""}function xr(e,n){switch(e.tag){case 26:case 27:case 5:return kn(e.type);case 16:return kn("Lazy");case 13:return e.child!==n&&n!==null?kn("Suspense Fallback"):kn("Suspense");case 19:return kn("SuspenseList");case 0:case 15:return Ki(e.type,!1);case 11:return Ki(e.type.render,!1);case 1:return Ki(e.type,!0);case 31:return kn("Activity");default:return""}}function wr(e){try{var n="",s=null;do n+=xr(e,s),s=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var ge=Object.prototype.hasOwnProperty,Ee=r.unstable_scheduleCallback,Jn=r.unstable_cancelCallback,Il=r.unstable_shouldYield,ma=r.unstable_requestPaint,Ke=r.unstable_now,Yi=r.unstable_getCurrentPriorityLevel,Cr=r.unstable_ImmediatePriority,Rr=r.unstable_UserBlockingPriority,pi=r.unstable_NormalPriority,B=r.unstable_LowPriority,_t=r.unstable_IdlePriority,Ht=r.log,ye=r.unstable_setDisableYieldValue,Te=null,Be=null;function jn(e){if(typeof Ht=="function"&&ye(e),Be&&typeof Be.setStrictMode=="function")try{Be.setStrictMode(Te,e)}catch{}}var be=Math.clz32?Math.clz32:ou,lu=Math.log,pa=Math.LN2;function ou(e){return e>>>=0,e===0?32:31-(lu(e)/pa|0)|0}var gi=256,Nr=262144,Re=4194304;function yi(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _i(e,n,s){var l=e.pendingLanes;if(l===0)return 0;var h=0,f=e.suspendedLanes,g=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=yi(l):(g&=T,g!==0?h=yi(g):s||(s=T&~e,s!==0&&(h=yi(s))))):(T=l&~f,T!==0?h=yi(T):g!==0?h=yi(g):s||(s=l&~e,s!==0&&(h=yi(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Wn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Fh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function uu(){var e=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),e}function vi(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function Ir(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Gh(e,n,s,l,h,f){var g=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var T=e.entanglements,R=e.expirationTimes,P=e.hiddenUpdates;for(s=g&~s;0<s;){var K=31-be(s),$=1<<K;T[K]=0,R[K]=-1;var z=P[K];if(z!==null)for(P[K]=null,K=0;K<z.length;K++){var F=z[K];F!==null&&(F.lane&=-536870913)}s&=~$}l!==0&&Dr(e,l,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(g&~n))}function Dr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-be(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|s&261930}function Dl(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var l=31-be(s),h=1<<l;h&n|e[l]&n&&(e[l]|=n),s&=~h}}function Ml(e,n){var s=n&-n;return s=(s&42)!==0?1:Mr(s),(s&(e.suspendedLanes|n))!==0?0:s}function Mr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Xi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cu(){var e=W.p;return e!==0?e:(e=window.event,e===void 0?32:P_(e.type))}function ti(e,n){var s=W.p;try{return W.p=e,n()}finally{W.p=s}}var ei=Math.random().toString(36).slice(2),Ne="__reactFiber$"+ei,qe="__reactProps$"+ei,Ei="__reactContainer$"+ei,ga="__reactEvents$"+ei,Qh="__reactListeners$"+ei,hu="__reactHandles$"+ei,fu="__reactResources$"+ei,Ti="__reactMarker$"+ei;function ya(e){delete e[Ne],delete e[qe],delete e[ga],delete e[Qh],delete e[hu]}function bi(e){var n=e[Ne];if(n)return n;for(var s=e.parentNode;s;){if(n=s[Ei]||s[Ne]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=A_(e);e!==null;){if(s=e[Ne])return s;e=A_(e)}return n}e=s,s=e.parentNode}return null}function Un(e){if(e=e[Ne]||e[Ei]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Sn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function Ai(e){var n=e[fu];return n||(n=e[fu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ie(e){e[Ti]=!0}var Ol=new Set,Vl={};function Si(e,n){xi(e,n),xi(e+"Capture",n)}function xi(e,n){for(Vl[e]=n,e=0;e<n.length;e++)Ol.add(n[e])}var kl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),jl={},Ul={};function du(e){return ge.call(Ul,e)?!0:ge.call(jl,e)?!1:kl.test(e)?Ul[e]=!0:(jl[e]=!0,!1)}function _a(e,n,s){if(du(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function xn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function De(e,n,s,l){if(l===null)e.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+l)}}function He(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function ws(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Ll(e,n,s){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var h=l.get,f=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(g){s=""+g,f.call(this,g)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return s},setValue:function(g){s=""+g},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Zt(e){if(!e._valueTracker){var n=ws(e)?"checked":"value";e._valueTracker=Ll(e,n,""+e[n])}}function Or(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),l="";return e&&(l=ws(e)?e.checked?"true":"false":e.value),e=l,e!==s?(n.setValue(e),!0):!1}function wi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Vr=/[\n"\\]/g;function mn(e){return e.replace(Vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function va(e,n,s,l,h,f,g,T){e.name="",g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"?e.type=g:e.removeAttribute("type"),n!=null?g==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+He(n)):e.value!==""+He(n)&&(e.value=""+He(n)):g!=="submit"&&g!=="reset"||e.removeAttribute("value"),n!=null?Pl(e,g,He(n)):s!=null?Pl(e,g,He(s)):l!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+He(T):e.removeAttribute("name")}function mu(e,n,s,l,h,f,g,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Zt(e);return}s=s!=null?""+He(s):"",n=n!=null?""+He(n):s,T||n===e.value||(e.value=n),e.defaultValue=n}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.name=g),Zt(e)}function Pl(e,n,s){n==="number"&&wi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function Cs(e,n,s,l){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&l&&(e[s].defaultSelected=!0)}else{for(s=""+He(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,l&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function pu(e,n,s){if(n!=null&&(n=""+He(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+He(s):""}function Rs(e,n,s,l){if(n==null){if(l!=null){if(s!=null)throw Error(a(92));if(te(l)){if(1<l.length)throw Error(a(93));l=l[0]}s=l}s==null&&(s=""),n=s}s=He(n),e.defaultValue=s,l=e.textContent,l===s&&l!==""&&l!==null&&(e.value=l),Zt(e)}function pn(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var gu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zl(e,n,s){var l=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,s):typeof s!="number"||s===0||gu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Bl(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var l in s)!s.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var h in n)l=n[h],n.hasOwnProperty(h)&&s[h]!==l&&zl(e,h,l)}else for(var f in n)n.hasOwnProperty(f)&&zl(e,f,n[f])}function Ea(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var yu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ns=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ta(e){return Ns.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function ni(){}var ql=null;function Ln(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Is=null,Ci=null;function kr(e){var n=Un(e);if(n&&(e=n.stateNode)){var s=e[qe]||null;t:switch(e=n.stateNode,n.type){case"input":if(va(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+mn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var l=s[n];if(l!==e&&l.form===e.form){var h=l[qe]||null;if(!h)throw Error(a(90));va(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)l=s[n],l.form===e.form&&Or(l)}break t;case"textarea":pu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&Cs(e,!!s.multiple,n,!1)}}}var ba=!1;function Ds(e,n,s){if(ba)return e(n,s);ba=!0;try{var l=e(n);return l}finally{if(ba=!1,(Is!==null||Ci!==null)&&(cc(),Is&&(n=Is,e=Ci,Ci=Is=null,kr(n),e)))for(n=0;n<e.length;n++)kr(e[n])}}function ii(e,n){var s=e.stateNode;if(s===null)return null;var l=s[qe]||null;if(l===null)return null;s=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var Pn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),jr=!1;if(Pn)try{var ee={};Object.defineProperty(ee,"passive",{get:function(){jr=!0}}),window.addEventListener("test",ee,ee),window.removeEventListener("test",ee,ee)}catch{jr=!1}var Ri=null,Hl=null,Ur=null;function Fl(){if(Ur)return Ur;var e,n=Hl,s=n.length,l,h="value"in Ri?Ri.value:Ri.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var g=s-e;for(l=1;l<=g&&n[s-l]===h[f-l];l++);return Ur=h.slice(e,1<l?1-l:void 0)}function Lr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function $i(){return!0}function si(){return!1}function Ye(e){function n(s,l,h,f,g){this._reactName=s,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=g,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(s=e[T],this[T]=s?s(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?$i:si,this.isPropagationStopped=si,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=$i)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=$i)},persist:function(){},isPersistent:$i}),n}var Zi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=Ye(Zi),Ms=S({},Zi,{view:0,detail:0}),Gl=Ye(Ms),Os,Aa,Ii,Sa=S({},Ms,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ii&&(Ii&&e.type==="mousemove"?(Os=e.screenX-Ii.screenX,Aa=e.screenY-Ii.screenY):Aa=Os=0,Ii=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:Aa}}),Ql=Ye(Sa),Pr=S({},Sa,{dataTransfer:0}),_u=Ye(Pr),vu=S({},Ms,{relatedTarget:0}),zr=Ye(vu),Kl=S({},Zi,{animationName:0,elapsedTime:0,pseudoElement:0}),Eu=Ye(Kl),xa=S({},Zi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Tu=Ye(xa),bu=S({},Zi,{data:0}),Di=Ye(bu),Au={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Su={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xu[e])?!!n[e]:!1}function Vs(){return wu}var cn=S({},Ms,{key:function(e){if(e.key){var n=Au[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Lr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Su[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vs,charCode:function(e){return e.type==="keypress"?Lr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Lr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Cu=Ye(cn),Ru=S({},Sa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ji=Ye(Ru),u=S({},Ms,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vs}),m=Ye(u),v=S({},Zi,{propertyName:0,elapsedTime:0,pseudoElement:0}),b=Ye(v),U=S({},Sa,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Ye(U),nt=S({},Zi,{newState:0,oldState:0}),Nt=Ye(nt),Ae=[9,13,27,32],Kt=Pn&&"CompositionEvent"in window,fe=null;Pn&&"documentMode"in document&&(fe=document.documentMode);var zn=Pn&&"TextEvent"in window&&!fe,Mi=Pn&&(!Kt||fe&&8<fe&&11>=fe),ri=" ",ai=!1;function Br(e,n){switch(e){case"keyup":return Ae.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ca=!1;function dT(e,n){switch(e){case"compositionend":return wa(n);case"keypress":return n.which!==32?null:(ai=!0,ri);case"textInput":return e=n.data,e===ri&&ai?null:e;default:return null}}function mT(e,n){if(Ca)return e==="compositionend"||!Kt&&Br(e,n)?(e=Fl(),Ur=Hl=Ri=null,Ca=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Mi&&n.locale!=="ko"?null:n.data;default:return null}}var pT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!pT[e.type]:n==="textarea"}function Cp(e,n,s,l){Is?Ci?Ci.push(l):Ci=[l]:Is=l,n=yc(n,"onChange"),0<n.length&&(s=new Ni("onChange","change",null,s,l),e.push({event:s,listeners:n}))}var Yl=null,Xl=null;function gT(e){u_(e,0)}function Nu(e){var n=Sn(e);if(Or(n))return e}function Rp(e,n){if(e==="change")return n}var Np=!1;if(Pn){var Kh;if(Pn){var Yh="oninput"in document;if(!Yh){var Ip=document.createElement("div");Ip.setAttribute("oninput","return;"),Yh=typeof Ip.oninput=="function"}Kh=Yh}else Kh=!1;Np=Kh&&(!document.documentMode||9<document.documentMode)}function Dp(){Yl&&(Yl.detachEvent("onpropertychange",Mp),Xl=Yl=null)}function Mp(e){if(e.propertyName==="value"&&Nu(Xl)){var n=[];Cp(n,Xl,e,Ln(e)),Ds(gT,n)}}function yT(e,n,s){e==="focusin"?(Dp(),Yl=n,Xl=s,Yl.attachEvent("onpropertychange",Mp)):e==="focusout"&&Dp()}function _T(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Nu(Xl)}function vT(e,n){if(e==="click")return Nu(n)}function ET(e,n){if(e==="input"||e==="change")return Nu(n)}function TT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var wn=typeof Object.is=="function"?Object.is:TT;function $l(e,n){if(wn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),l=Object.keys(n);if(s.length!==l.length)return!1;for(l=0;l<s.length;l++){var h=s[l];if(!ge.call(n,h)||!wn(e[h],n[h]))return!1}return!0}function Op(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Vp(e,n){var s=Op(e);e=0;for(var l;s;){if(s.nodeType===3){if(l=e+s.textContent.length,e<=n&&l>=n)return{node:s,offset:n-e};e=l}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Op(s)}}function kp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function jp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=wi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=wi(e.document)}return n}function Xh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var bT=Pn&&"documentMode"in document&&11>=document.documentMode,Ra=null,$h=null,Zl=null,Zh=!1;function Up(e,n,s){var l=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Zh||Ra==null||Ra!==wi(l)||(l=Ra,"selectionStart"in l&&Xh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Zl&&$l(Zl,l)||(Zl=l,l=yc($h,"onSelect"),0<l.length&&(n=new Ni("onSelect","select",null,n,s),e.push({event:n,listeners:l}),n.target=Ra)))}function qr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var Na={animationend:qr("Animation","AnimationEnd"),animationiteration:qr("Animation","AnimationIteration"),animationstart:qr("Animation","AnimationStart"),transitionrun:qr("Transition","TransitionRun"),transitionstart:qr("Transition","TransitionStart"),transitioncancel:qr("Transition","TransitionCancel"),transitionend:qr("Transition","TransitionEnd")},Jh={},Lp={};Pn&&(Lp=document.createElement("div").style,"AnimationEvent"in window||(delete Na.animationend.animation,delete Na.animationiteration.animation,delete Na.animationstart.animation),"TransitionEvent"in window||delete Na.transitionend.transition);function Hr(e){if(Jh[e])return Jh[e];if(!Na[e])return e;var n=Na[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Lp)return Jh[e]=n[s];return e}var Pp=Hr("animationend"),zp=Hr("animationiteration"),Bp=Hr("animationstart"),AT=Hr("transitionrun"),ST=Hr("transitionstart"),xT=Hr("transitioncancel"),qp=Hr("transitionend"),Hp=new Map,Wh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wh.push("scrollEnd");function li(e,n){Hp.set(e,n),Si(n,[e])}var Iu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Bn=[],Ia=0,tf=0;function Du(){for(var e=Ia,n=tf=Ia=0;n<e;){var s=Bn[n];Bn[n++]=null;var l=Bn[n];Bn[n++]=null;var h=Bn[n];Bn[n++]=null;var f=Bn[n];if(Bn[n++]=null,l!==null&&h!==null){var g=l.pending;g===null?h.next=h:(h.next=g.next,g.next=h),l.pending=h}f!==0&&Fp(s,h,f)}}function Mu(e,n,s,l){Bn[Ia++]=e,Bn[Ia++]=n,Bn[Ia++]=s,Bn[Ia++]=l,tf|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function ef(e,n,s,l){return Mu(e,n,s,l),Ou(e)}function Fr(e,n){return Mu(e,null,null,n),Ou(e)}function Fp(e,n,s){e.lanes|=s;var l=e.alternate;l!==null&&(l.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,l=f.alternate,l!==null&&(l.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-be(s),e=f.hiddenUpdates,l=e[h],l===null?e[h]=[n]:l.push(n),n.lane=s|536870912),f):null}function Ou(e){if(50<Eo)throw Eo=0,hd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Da={};function wT(e,n,s,l){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(e,n,s,l){return new wT(e,n,s,l)}function nf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Wi(e,n){var s=e.alternate;return s===null?(s=Cn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Gp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Vu(e,n,s,l,h,f){var g=0;if(l=e,typeof e=="function")nf(e)&&(g=1);else if(typeof e=="string")g=Db(e,s,et.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=Cn(31,s,n,h),e.elementType=C,e.lanes=f,e;case it:return Gr(s.children,h,f,n);case Q:g=8,h|=24;break;case at:return e=Cn(12,s,n,h|2),e.elementType=at,e.lanes=f,e;case Ot:return e=Cn(13,s,n,h),e.elementType=Ot,e.lanes=f,e;case gt:return e=Cn(19,s,n,h),e.elementType=gt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ht:g=10;break t;case dt:g=9;break t;case Rt:g=11;break t;case I:g=14;break t;case x:g=16,l=null;break t}g=29,s=Error(a(130,e===null?"null":typeof e,"")),l=null}return n=Cn(g,s,n,h),n.elementType=e,n.type=l,n.lanes=f,n}function Gr(e,n,s,l){return e=Cn(7,e,l,n),e.lanes=s,e}function sf(e,n,s){return e=Cn(6,e,null,n),e.lanes=s,e}function Qp(e){var n=Cn(18,null,null,0);return n.stateNode=e,n}function rf(e,n,s){return n=Cn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Kp=new WeakMap;function qn(e,n){if(typeof e=="object"&&e!==null){var s=Kp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:wr(n)},Kp.set(e,n),n)}return{value:e,source:n,stack:wr(n)}}var Ma=[],Oa=0,ku=null,Jl=0,Hn=[],Fn=0,ks=null,Oi=1,Vi="";function ts(e,n){Ma[Oa++]=Jl,Ma[Oa++]=ku,ku=e,Jl=n}function Yp(e,n,s){Hn[Fn++]=Oi,Hn[Fn++]=Vi,Hn[Fn++]=ks,ks=e;var l=Oi;e=Vi;var h=32-be(l)-1;l&=~(1<<h),s+=1;var f=32-be(n)+h;if(30<f){var g=h-h%5;f=(l&(1<<g)-1).toString(32),l>>=g,h-=g,Oi=1<<32-be(n)+h|s<<h|l,Vi=f+e}else Oi=1<<f|s<<h|l,Vi=e}function af(e){e.return!==null&&(ts(e,1),Yp(e,1,0))}function lf(e){for(;e===ku;)ku=Ma[--Oa],Ma[Oa]=null,Jl=Ma[--Oa],Ma[Oa]=null;for(;e===ks;)ks=Hn[--Fn],Hn[Fn]=null,Vi=Hn[--Fn],Hn[Fn]=null,Oi=Hn[--Fn],Hn[Fn]=null}function Xp(e,n){Hn[Fn++]=Oi,Hn[Fn++]=Vi,Hn[Fn++]=ks,Oi=n.id,Vi=n.overflow,ks=e}var Xe=null,oe=null,Bt=!1,js=null,Gn=!1,of=Error(a(519));function Us(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Wl(qn(n,e)),of}function $p(e){var n=e.stateNode,s=e.type,l=e.memoizedProps;switch(n[Ne]=e,n[qe]=l,s){case"dialog":kt("cancel",n),kt("close",n);break;case"iframe":case"object":case"embed":kt("load",n);break;case"video":case"audio":for(s=0;s<bo.length;s++)kt(bo[s],n);break;case"source":kt("error",n);break;case"img":case"image":case"link":kt("error",n),kt("load",n);break;case"details":kt("toggle",n);break;case"input":kt("invalid",n),mu(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":kt("invalid",n);break;case"textarea":kt("invalid",n),Rs(n,l.value,l.defaultValue,l.children)}s=l.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||l.suppressHydrationWarning===!0||d_(n.textContent,s)?(l.popover!=null&&(kt("beforetoggle",n),kt("toggle",n)),l.onScroll!=null&&kt("scroll",n),l.onScrollEnd!=null&&kt("scrollend",n),l.onClick!=null&&(n.onclick=ni),n=!0):n=!1,n||Us(e,!0)}function Zp(e){for(Xe=e.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Gn=!1;return;case 27:case 3:Gn=!0;return;default:Xe=Xe.return}}function Va(e){if(e!==Xe)return!1;if(!Bt)return Zp(e),Bt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||wd(e.type,e.memoizedProps)),s=!s),s&&oe&&Us(e),Zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=b_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));oe=b_(e)}else n===27?(n=oe,Zs(e.type)?(e=Dd,Dd=null,oe=e):oe=n):oe=Xe?Kn(e.stateNode.nextSibling):null;return!0}function Qr(){oe=Xe=null,Bt=!1}function uf(){var e=js;return e!==null&&(vn===null?vn=e:vn.push.apply(vn,e),js=null),e}function Wl(e){js===null?js=[e]:js.push(e)}var cf=D(null),Kr=null,es=null;function Ls(e,n,s){st(cf,n._currentValue),n._currentValue=s}function ns(e){e._currentValue=cf.current,Y(cf)}function hf(e,n,s){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===s)break;e=e.return}}function ff(e,n,s,l){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var g=h.child;f=f.firstContext;t:for(;f!==null;){var T=f;f=h;for(var R=0;R<n.length;R++)if(T.context===n[R]){f.lanes|=s,T=f.alternate,T!==null&&(T.lanes|=s),hf(f.return,s,e),l||(g=null);break t}f=T.next}}else if(h.tag===18){if(g=h.return,g===null)throw Error(a(341));g.lanes|=s,f=g.alternate,f!==null&&(f.lanes|=s),hf(g,s,e),g=null}else g=h.child;if(g!==null)g.return=h;else for(g=h;g!==null;){if(g===e){g=null;break}if(h=g.sibling,h!==null){h.return=g.return,g=h;break}g=g.return}h=g}}function ka(e,n,s,l){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var g=h.alternate;if(g===null)throw Error(a(387));if(g=g.memoizedProps,g!==null){var T=h.type;wn(h.pendingProps.value,g.value)||(e!==null?e.push(T):e=[T])}}else if(h===Mt.current){if(g=h.alternate,g===null)throw Error(a(387));g.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(Co):e=[Co])}h=h.return}e!==null&&ff(n,e,s,l),n.flags|=262144}function ju(e){for(e=e.firstContext;e!==null;){if(!wn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Yr(e){Kr=e,es=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function $e(e){return Jp(Kr,e)}function Uu(e,n){return Kr===null&&Yr(e),Jp(e,n)}function Jp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},es===null){if(e===null)throw Error(a(308));es=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else es=es.next=n;return s}var CT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},RT=r.unstable_scheduleCallback,NT=r.unstable_NormalPriority,Me={$$typeof:ht,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function df(){return{controller:new CT,data:new Map,refCount:0}}function to(e){e.refCount--,e.refCount===0&&RT(NT,function(){e.controller.abort()})}var eo=null,mf=0,ja=0,Ua=null;function IT(e,n){if(eo===null){var s=eo=[];mf=0,ja=yd(),Ua={status:"pending",value:void 0,then:function(l){s.push(l)}}}return mf++,n.then(Wp,Wp),n}function Wp(){if(--mf===0&&eo!==null){Ua!==null&&(Ua.status="fulfilled");var e=eo;eo=null,ja=0,Ua=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function DT(e,n){var s=[],l={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(l.status="rejected",l.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),l}var tg=q.S;q.S=function(e,n){Uy=Ke(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&IT(e,n),tg!==null&&tg(e,n)};var Xr=D(null);function pf(){var e=Xr.current;return e!==null?e:ae.pooledCache}function Lu(e,n){n===null?st(Xr,Xr.current):st(Xr,n.pool)}function eg(){var e=pf();return e===null?null:{parent:Me._currentValue,pool:e}}var La=Error(a(460)),gf=Error(a(474)),Pu=Error(a(542)),zu={then:function(){}};function ng(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ig(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(ni,ni),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e;default:if(typeof n.status=="string")n.then(ni,ni);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=l}},function(l){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,rg(e),e}throw Zr=n,La}}function $r(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Zr=s,La):s}}var Zr=null;function sg(){if(Zr===null)throw Error(a(459));var e=Zr;return Zr=null,e}function rg(e){if(e===La||e===Pu)throw Error(a(483))}var Pa=null,no=0;function Bu(e){var n=no;return no+=1,Pa===null&&(Pa=[]),ig(Pa,e,n)}function io(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function qu(e,n){throw n.$$typeof===M?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function ag(e){function n(j,O){if(e){var L=j.deletions;L===null?(j.deletions=[O],j.flags|=16):L.push(O)}}function s(j,O){if(!e)return null;for(;O!==null;)n(j,O),O=O.sibling;return null}function l(j){for(var O=new Map;j!==null;)j.key!==null?O.set(j.key,j):O.set(j.index,j),j=j.sibling;return O}function h(j,O){return j=Wi(j,O),j.index=0,j.sibling=null,j}function f(j,O,L){return j.index=L,e?(L=j.alternate,L!==null?(L=L.index,L<O?(j.flags|=67108866,O):L):(j.flags|=67108866,O)):(j.flags|=1048576,O)}function g(j){return e&&j.alternate===null&&(j.flags|=67108866),j}function T(j,O,L,X){return O===null||O.tag!==6?(O=sf(L,j.mode,X),O.return=j,O):(O=h(O,L),O.return=j,O)}function R(j,O,L,X){var pt=L.type;return pt===it?K(j,O,L.props.children,X,L.key):O!==null&&(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===x&&$r(pt)===O.type)?(O=h(O,L.props),io(O,L),O.return=j,O):(O=Vu(L.type,L.key,L.props,null,j.mode,X),io(O,L),O.return=j,O)}function P(j,O,L,X){return O===null||O.tag!==4||O.stateNode.containerInfo!==L.containerInfo||O.stateNode.implementation!==L.implementation?(O=rf(L,j.mode,X),O.return=j,O):(O=h(O,L.children||[]),O.return=j,O)}function K(j,O,L,X,pt){return O===null||O.tag!==7?(O=Gr(L,j.mode,X,pt),O.return=j,O):(O=h(O,L),O.return=j,O)}function $(j,O,L){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=sf(""+O,j.mode,L),O.return=j,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case G:return L=Vu(O.type,O.key,O.props,null,j.mode,L),io(L,O),L.return=j,L;case tt:return O=rf(O,j.mode,L),O.return=j,O;case x:return O=$r(O),$(j,O,L)}if(te(O)||k(O))return O=Gr(O,j.mode,L,null),O.return=j,O;if(typeof O.then=="function")return $(j,Bu(O),L);if(O.$$typeof===ht)return $(j,Uu(j,O),L);qu(j,O)}return null}function z(j,O,L,X){var pt=O!==null?O.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return pt!==null?null:T(j,O,""+L,X);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case G:return L.key===pt?R(j,O,L,X):null;case tt:return L.key===pt?P(j,O,L,X):null;case x:return L=$r(L),z(j,O,L,X)}if(te(L)||k(L))return pt!==null?null:K(j,O,L,X,null);if(typeof L.then=="function")return z(j,O,Bu(L),X);if(L.$$typeof===ht)return z(j,O,Uu(j,L),X);qu(j,L)}return null}function F(j,O,L,X,pt){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return j=j.get(L)||null,T(O,j,""+X,pt);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case G:return j=j.get(X.key===null?L:X.key)||null,R(O,j,X,pt);case tt:return j=j.get(X.key===null?L:X.key)||null,P(O,j,X,pt);case x:return X=$r(X),F(j,O,L,X,pt)}if(te(X)||k(X))return j=j.get(L)||null,K(O,j,X,pt,null);if(typeof X.then=="function")return F(j,O,L,Bu(X),pt);if(X.$$typeof===ht)return F(j,O,L,Uu(O,X),pt);qu(O,X)}return null}function ot(j,O,L,X){for(var pt=null,Gt=null,ut=O,Dt=O=0,Ut=null;ut!==null&&Dt<L.length;Dt++){ut.index>Dt?(Ut=ut,ut=null):Ut=ut.sibling;var Qt=z(j,ut,L[Dt],X);if(Qt===null){ut===null&&(ut=Ut);break}e&&ut&&Qt.alternate===null&&n(j,ut),O=f(Qt,O,Dt),Gt===null?pt=Qt:Gt.sibling=Qt,Gt=Qt,ut=Ut}if(Dt===L.length)return s(j,ut),Bt&&ts(j,Dt),pt;if(ut===null){for(;Dt<L.length;Dt++)ut=$(j,L[Dt],X),ut!==null&&(O=f(ut,O,Dt),Gt===null?pt=ut:Gt.sibling=ut,Gt=ut);return Bt&&ts(j,Dt),pt}for(ut=l(ut);Dt<L.length;Dt++)Ut=F(ut,j,Dt,L[Dt],X),Ut!==null&&(e&&Ut.alternate!==null&&ut.delete(Ut.key===null?Dt:Ut.key),O=f(Ut,O,Dt),Gt===null?pt=Ut:Gt.sibling=Ut,Gt=Ut);return e&&ut.forEach(function(nr){return n(j,nr)}),Bt&&ts(j,Dt),pt}function Et(j,O,L,X){if(L==null)throw Error(a(151));for(var pt=null,Gt=null,ut=O,Dt=O=0,Ut=null,Qt=L.next();ut!==null&&!Qt.done;Dt++,Qt=L.next()){ut.index>Dt?(Ut=ut,ut=null):Ut=ut.sibling;var nr=z(j,ut,Qt.value,X);if(nr===null){ut===null&&(ut=Ut);break}e&&ut&&nr.alternate===null&&n(j,ut),O=f(nr,O,Dt),Gt===null?pt=nr:Gt.sibling=nr,Gt=nr,ut=Ut}if(Qt.done)return s(j,ut),Bt&&ts(j,Dt),pt;if(ut===null){for(;!Qt.done;Dt++,Qt=L.next())Qt=$(j,Qt.value,X),Qt!==null&&(O=f(Qt,O,Dt),Gt===null?pt=Qt:Gt.sibling=Qt,Gt=Qt);return Bt&&ts(j,Dt),pt}for(ut=l(ut);!Qt.done;Dt++,Qt=L.next())Qt=F(ut,j,Dt,Qt.value,X),Qt!==null&&(e&&Qt.alternate!==null&&ut.delete(Qt.key===null?Dt:Qt.key),O=f(Qt,O,Dt),Gt===null?pt=Qt:Gt.sibling=Qt,Gt=Qt);return e&&ut.forEach(function(qb){return n(j,qb)}),Bt&&ts(j,Dt),pt}function se(j,O,L,X){if(typeof L=="object"&&L!==null&&L.type===it&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case G:t:{for(var pt=L.key;O!==null;){if(O.key===pt){if(pt=L.type,pt===it){if(O.tag===7){s(j,O.sibling),X=h(O,L.props.children),X.return=j,j=X;break t}}else if(O.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===x&&$r(pt)===O.type){s(j,O.sibling),X=h(O,L.props),io(X,L),X.return=j,j=X;break t}s(j,O);break}else n(j,O);O=O.sibling}L.type===it?(X=Gr(L.props.children,j.mode,X,L.key),X.return=j,j=X):(X=Vu(L.type,L.key,L.props,null,j.mode,X),io(X,L),X.return=j,j=X)}return g(j);case tt:t:{for(pt=L.key;O!==null;){if(O.key===pt)if(O.tag===4&&O.stateNode.containerInfo===L.containerInfo&&O.stateNode.implementation===L.implementation){s(j,O.sibling),X=h(O,L.children||[]),X.return=j,j=X;break t}else{s(j,O);break}else n(j,O);O=O.sibling}X=rf(L,j.mode,X),X.return=j,j=X}return g(j);case x:return L=$r(L),se(j,O,L,X)}if(te(L))return ot(j,O,L,X);if(k(L)){if(pt=k(L),typeof pt!="function")throw Error(a(150));return L=pt.call(L),Et(j,O,L,X)}if(typeof L.then=="function")return se(j,O,Bu(L),X);if(L.$$typeof===ht)return se(j,O,Uu(j,L),X);qu(j,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,O!==null&&O.tag===6?(s(j,O.sibling),X=h(O,L),X.return=j,j=X):(s(j,O),X=sf(L,j.mode,X),X.return=j,j=X),g(j)):s(j,O)}return function(j,O,L,X){try{no=0;var pt=se(j,O,L,X);return Pa=null,pt}catch(ut){if(ut===La||ut===Pu)throw ut;var Gt=Cn(29,ut,null,j.mode);return Gt.lanes=X,Gt.return=j,Gt}}}var Jr=ag(!0),lg=ag(!1),Ps=!1;function yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function _f(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function zs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(e,n,s){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Yt&2)!==0){var h=l.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),l.pending=n,n=Ou(e),Fp(e,null,s),n}return Mu(e,l,n,s),Ou(e)}function so(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Dl(e,s)}}function vf(e,n){var s=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,s===l)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var g={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=g:f=f.next=g,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var Ef=!1;function ro(){if(Ef){var e=Ua;if(e!==null)throw e}}function ao(e,n,s,l){Ef=!1;var h=e.updateQueue;Ps=!1;var f=h.firstBaseUpdate,g=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var R=T,P=R.next;R.next=null,g===null?f=P:g.next=P,g=R;var K=e.alternate;K!==null&&(K=K.updateQueue,T=K.lastBaseUpdate,T!==g&&(T===null?K.firstBaseUpdate=P:T.next=P,K.lastBaseUpdate=R))}if(f!==null){var $=h.baseState;g=0,K=P=R=null,T=f;do{var z=T.lane&-536870913,F=z!==T.lane;if(F?(jt&z)===z:(l&z)===z){z!==0&&z===ja&&(Ef=!0),K!==null&&(K=K.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});t:{var ot=e,Et=T;z=n;var se=s;switch(Et.tag){case 1:if(ot=Et.payload,typeof ot=="function"){$=ot.call(se,$,z);break t}$=ot;break t;case 3:ot.flags=ot.flags&-65537|128;case 0:if(ot=Et.payload,z=typeof ot=="function"?ot.call(se,$,z):ot,z==null)break t;$=S({},$,z);break t;case 2:Ps=!0}}z=T.callback,z!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[z]:F.push(z))}else F={lane:z,tag:T.tag,payload:T.payload,callback:T.callback,next:null},K===null?(P=K=F,R=$):K=K.next=F,g|=z;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;F=T,T=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);K===null&&(R=$),h.baseState=R,h.firstBaseUpdate=P,h.lastBaseUpdate=K,f===null&&(h.shared.lanes=0),Qs|=g,e.lanes=g,e.memoizedState=$}}function og(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ug(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)og(s[e],n)}var za=D(null),Hu=D(0);function cg(e,n){e=hs,st(Hu,e),st(za,n),hs=e|n.baseLanes}function Tf(){st(Hu,hs),st(za,za.current)}function bf(){hs=Hu.current,Y(za),Y(Hu)}var Rn=D(null),Qn=null;function qs(e){var n=e.alternate;st(Se,Se.current&1),st(Rn,e),Qn===null&&(n===null||za.current!==null||n.memoizedState!==null)&&(Qn=e)}function Af(e){st(Se,Se.current),st(Rn,e),Qn===null&&(Qn=e)}function hg(e){e.tag===22?(st(Se,Se.current),st(Rn,e),Qn===null&&(Qn=e)):Hs()}function Hs(){st(Se,Se.current),st(Rn,Rn.current)}function Nn(e){Y(Rn),Qn===e&&(Qn=null),Y(Se)}var Se=D(0);function Fu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||Nd(s)||Id(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var is=0,It=null,ne=null,Oe=null,Gu=!1,Ba=!1,Wr=!1,Qu=0,lo=0,qa=null,MT=0;function _e(){throw Error(a(321))}function Sf(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!wn(e[s],n[s]))return!1;return!0}function xf(e,n,s,l,h,f){return is=f,It=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,q.H=e===null||e.memoizedState===null?Yg:zf,Wr=!1,f=s(l,h),Wr=!1,Ba&&(f=dg(n,s,l,h)),fg(e),f}function fg(e){q.H=co;var n=ne!==null&&ne.next!==null;if(is=0,Oe=ne=It=null,Gu=!1,lo=0,qa=null,n)throw Error(a(300));e===null||Ve||(e=e.dependencies,e!==null&&ju(e)&&(Ve=!0))}function dg(e,n,s,l){It=e;var h=0;do{if(Ba&&(qa=null),lo=0,Ba=!1,25<=h)throw Error(a(301));if(h+=1,Oe=ne=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}q.H=Xg,f=n(s,l)}while(Ba);return f}function OT(){var e=q.H,n=e.useState()[0];return n=typeof n.then=="function"?oo(n):n,e=e.useState()[0],(ne!==null?ne.memoizedState:null)!==e&&(It.flags|=1024),n}function wf(){var e=Qu!==0;return Qu=0,e}function Cf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Rf(e){if(Gu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}Gu=!1}is=0,Oe=ne=It=null,Ba=!1,lo=Qu=0,qa=null}function hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e,Oe}function xe(){if(ne===null){var e=It.alternate;e=e!==null?e.memoizedState:null}else e=ne.next;var n=Oe===null?It.memoizedState:Oe.next;if(n!==null)Oe=n,ne=e;else{if(e===null)throw It.alternate===null?Error(a(467)):Error(a(310));ne=e,e={memoizedState:ne.memoizedState,baseState:ne.baseState,baseQueue:ne.baseQueue,queue:ne.queue,next:null},Oe===null?It.memoizedState=Oe=e:Oe=Oe.next=e}return Oe}function Ku(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function oo(e){var n=lo;return lo+=1,qa===null&&(qa=[]),e=ig(qa,e,n),n=It,(Oe===null?n.memoizedState:Oe.next)===null&&(n=n.alternate,q.H=n===null||n.memoizedState===null?Yg:zf),e}function Yu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return oo(e);if(e.$$typeof===ht)return $e(e)}throw Error(a(438,String(e)))}function Nf(e){var n=null,s=It.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var l=It.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Ku(),It.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),l=0;l<e;l++)s[l]=V;return n.index++,s}function ss(e,n){return typeof n=="function"?n(e):n}function Xu(e){var n=xe();return If(n,ne,e)}function If(e,n,s){var l=e.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=s;var h=e.baseQueue,f=l.pending;if(f!==null){if(h!==null){var g=h.next;h.next=f.next,f.next=g}n.baseQueue=h=f,l.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var T=g=null,R=null,P=n,K=!1;do{var $=P.lane&-536870913;if($!==P.lane?(jt&$)===$:(is&$)===$){var z=P.revertLane;if(z===0)R!==null&&(R=R.next={lane:0,revertLane:0,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),$===ja&&(K=!0);else if((is&z)===z){P=P.next,z===ja&&(K=!0);continue}else $={lane:0,revertLane:P.revertLane,gesture:null,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=$,g=f):R=R.next=$,It.lanes|=z,Qs|=z;$=P.action,Wr&&s(f,$),f=P.hasEagerState?P.eagerState:s(f,$)}else z={lane:$,revertLane:P.revertLane,gesture:P.gesture,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null},R===null?(T=R=z,g=f):R=R.next=z,It.lanes|=$,Qs|=$;P=P.next}while(P!==null&&P!==n);if(R===null?g=f:R.next=T,!wn(f,e.memoizedState)&&(Ve=!0,K&&(s=Ua,s!==null)))throw s;e.memoizedState=f,e.baseState=g,e.baseQueue=R,l.lastRenderedState=f}return h===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Df(e){var n=xe(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var l=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var g=h=h.next;do f=e(f,g.action),g=g.next;while(g!==h);wn(f,n.memoizedState)||(Ve=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,l]}function mg(e,n,s){var l=It,h=xe(),f=Bt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var g=!wn((ne||h).memoizedState,s);if(g&&(h.memoizedState=s,Ve=!0),h=h.queue,Vf(yg.bind(null,l,h,e),[e]),h.getSnapshot!==n||g||Oe!==null&&Oe.memoizedState.tag&1){if(l.flags|=2048,Ha(9,{destroy:void 0},gg.bind(null,l,h,s,n),null),ae===null)throw Error(a(349));f||(is&127)!==0||pg(l,n,s)}return s}function pg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=It.updateQueue,n===null?(n=Ku(),It.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function gg(e,n,s,l){n.value=s,n.getSnapshot=l,_g(n)&&vg(e)}function yg(e,n,s){return s(function(){_g(n)&&vg(e)})}function _g(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!wn(e,s)}catch{return!0}}function vg(e){var n=Fr(e,2);n!==null&&En(n,e,2)}function Mf(e){var n=hn();if(typeof e=="function"){var s=e;if(e=s(),Wr){jn(!0);try{s()}finally{jn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:e},n}function Eg(e,n,s,l){return e.baseState=s,If(e,ne,typeof l=="function"?l:ss)}function VT(e,n,s,l,h){if(Ju(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(g){f.listeners.push(g)}};q.T!==null?s(!0):f.isTransition=!1,l(f),s=n.pending,s===null?(f.next=n.pending=f,Tg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function Tg(e,n){var s=n.action,l=n.payload,h=e.state;if(n.isTransition){var f=q.T,g={};q.T=g;try{var T=s(h,l),R=q.S;R!==null&&R(g,T),bg(e,n,T)}catch(P){Of(e,n,P)}finally{f!==null&&g.types!==null&&(f.types=g.types),q.T=f}}else try{f=s(h,l),bg(e,n,f)}catch(P){Of(e,n,P)}}function bg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(l){Ag(e,n,l)},function(l){return Of(e,n,l)}):Ag(e,n,s)}function Ag(e,n,s){n.status="fulfilled",n.value=s,Sg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,Tg(e,s)))}function Of(e,n,s){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=s,Sg(n),n=n.next;while(n!==l)}e.action=null}function Sg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function xg(e,n){return n}function wg(e,n){if(Bt){var s=ae.formState;if(s!==null){t:{var l=It;if(Bt){if(oe){e:{for(var h=oe,f=Gn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Kn(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){oe=Kn(h.nextSibling),l=h.data==="F!";break t}}Us(l)}l=!1}l&&(n=s[0])}}return s=hn(),s.memoizedState=s.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xg,lastRenderedState:n},s.queue=l,s=Gg.bind(null,It,l),l.dispatch=s,l=Mf(!1),f=Pf.bind(null,It,!1,l.queue),l=hn(),h={state:n,dispatch:null,action:e,pending:null},l.queue=h,s=VT.bind(null,It,h,f,s),h.dispatch=s,l.memoizedState=e,[n,s,!1]}function Cg(e){var n=xe();return Rg(n,ne,e)}function Rg(e,n,s){if(n=If(e,n,xg)[0],e=Xu(ss)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=oo(n)}catch(g){throw g===La?Pu:g}else l=n;n=xe();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(It.flags|=2048,Ha(9,{destroy:void 0},kT.bind(null,h,s),null)),[l,f,e]}function kT(e,n){e.action=n}function Ng(e){var n=xe(),s=ne;if(s!==null)return Rg(n,s,e);xe(),n=n.memoizedState,s=xe();var l=s.queue.dispatch;return s.memoizedState=e,[n,l,!1]}function Ha(e,n,s,l){return e={tag:e,create:s,deps:l,inst:n,next:null},n=It.updateQueue,n===null&&(n=Ku(),It.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(l=s.next,s.next=e,e.next=l,n.lastEffect=e),e}function Ig(){return xe().memoizedState}function $u(e,n,s,l){var h=hn();It.flags|=e,h.memoizedState=Ha(1|n,{destroy:void 0},s,l===void 0?null:l)}function Zu(e,n,s,l){var h=xe();l=l===void 0?null:l;var f=h.memoizedState.inst;ne!==null&&l!==null&&Sf(l,ne.memoizedState.deps)?h.memoizedState=Ha(n,f,s,l):(It.flags|=e,h.memoizedState=Ha(1|n,f,s,l))}function Dg(e,n){$u(8390656,8,e,n)}function Vf(e,n){Zu(2048,8,e,n)}function jT(e){It.flags|=4;var n=It.updateQueue;if(n===null)n=Ku(),It.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Mg(e){var n=xe().memoizedState;return jT({ref:n,nextImpl:e}),function(){if((Yt&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Og(e,n){return Zu(4,2,e,n)}function Vg(e,n){return Zu(4,4,e,n)}function kg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function jg(e,n,s){s=s!=null?s.concat([e]):null,Zu(4,4,kg.bind(null,n,e),s)}function kf(){}function Ug(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;return n!==null&&Sf(n,l[1])?l[0]:(s.memoizedState=[e,n],e)}function Lg(e,n){var s=xe();n=n===void 0?null:n;var l=s.memoizedState;if(n!==null&&Sf(n,l[1]))return l[0];if(l=e(),Wr){jn(!0);try{e()}finally{jn(!1)}}return s.memoizedState=[l,n],l}function jf(e,n,s){return s===void 0||(is&1073741824)!==0&&(jt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Py(),It.lanes|=e,Qs|=e,s)}function Pg(e,n,s,l){return wn(s,n)?s:za.current!==null?(e=jf(e,s,l),wn(e,n)||(Ve=!0),e):(is&42)===0||(is&1073741824)!==0&&(jt&261930)===0?(Ve=!0,e.memoizedState=s):(e=Py(),It.lanes|=e,Qs|=e,n)}function zg(e,n,s,l,h){var f=W.p;W.p=f!==0&&8>f?f:8;var g=q.T,T={};q.T=T,Pf(e,!1,n,s);try{var R=h(),P=q.S;if(P!==null&&P(T,R),R!==null&&typeof R=="object"&&typeof R.then=="function"){var K=DT(R,l);uo(e,n,K,Mn(e))}else uo(e,n,l,Mn(e))}catch($){uo(e,n,{then:function(){},status:"rejected",reason:$},Mn())}finally{W.p=f,g!==null&&T.types!==null&&(g.types=T.types),q.T=g}}function UT(){}function Uf(e,n,s,l){if(e.tag!==5)throw Error(a(476));var h=Bg(e).queue;zg(e,h,n,rt,s===null?UT:function(){return qg(e),s(l)})}function Bg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:rt,baseState:rt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:rt},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ss,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function qg(e){var n=Bg(e);n.next===null&&(n=e.alternate.memoizedState),uo(e,n.next.queue,{},Mn())}function Lf(){return $e(Co)}function Hg(){return xe().memoizedState}function Fg(){return xe().memoizedState}function LT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=Mn();e=zs(s);var l=Bs(n,e,s);l!==null&&(En(l,n,s),so(l,n,s)),n={cache:df()},e.payload=n;return}n=n.return}}function PT(e,n,s){var l=Mn();s={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Ju(e)?Qg(n,s):(s=ef(e,n,s,l),s!==null&&(En(s,e,l),Kg(s,n,l)))}function Gg(e,n,s){var l=Mn();uo(e,n,s,l)}function uo(e,n,s,l){var h={lane:l,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Ju(e))Qg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var g=n.lastRenderedState,T=f(g,s);if(h.hasEagerState=!0,h.eagerState=T,wn(T,g))return Mu(e,n,h,0),ae===null&&Du(),!1}catch{}if(s=ef(e,n,h,l),s!==null)return En(s,e,l),Kg(s,n,l),!0}return!1}function Pf(e,n,s,l){if(l={lane:2,revertLane:yd(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},Ju(e)){if(n)throw Error(a(479))}else n=ef(e,s,l,2),n!==null&&En(n,e,2)}function Ju(e){var n=e.alternate;return e===It||n!==null&&n===It}function Qg(e,n){Ba=Gu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Kg(e,n,s){if((s&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,s|=l,n.lanes=s,Dl(e,s)}}var co={readContext:$e,use:Yu,useCallback:_e,useContext:_e,useEffect:_e,useImperativeHandle:_e,useLayoutEffect:_e,useInsertionEffect:_e,useMemo:_e,useReducer:_e,useRef:_e,useState:_e,useDebugValue:_e,useDeferredValue:_e,useTransition:_e,useSyncExternalStore:_e,useId:_e,useHostTransitionStatus:_e,useFormState:_e,useActionState:_e,useOptimistic:_e,useMemoCache:_e,useCacheRefresh:_e};co.useEffectEvent=_e;var Yg={readContext:$e,use:Yu,useCallback:function(e,n){return hn().memoizedState=[e,n===void 0?null:n],e},useContext:$e,useEffect:Dg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,$u(4194308,4,kg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return $u(4194308,4,e,n)},useInsertionEffect:function(e,n){$u(4,2,e,n)},useMemo:function(e,n){var s=hn();n=n===void 0?null:n;var l=e();if(Wr){jn(!0);try{e()}finally{jn(!1)}}return s.memoizedState=[l,n],l},useReducer:function(e,n,s){var l=hn();if(s!==void 0){var h=s(n);if(Wr){jn(!0);try{s(n)}finally{jn(!1)}}}else h=n;return l.memoizedState=l.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},l.queue=e,e=e.dispatch=PT.bind(null,It,e),[l.memoizedState,e]},useRef:function(e){var n=hn();return e={current:e},n.memoizedState=e},useState:function(e){e=Mf(e);var n=e.queue,s=Gg.bind(null,It,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:kf,useDeferredValue:function(e,n){var s=hn();return jf(s,e,n)},useTransition:function(){var e=Mf(!1);return e=zg.bind(null,It,e.queue,!0,!1),hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var l=It,h=hn();if(Bt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),ae===null)throw Error(a(349));(jt&127)!==0||pg(l,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Dg(yg.bind(null,l,f,e),[e]),l.flags|=2048,Ha(9,{destroy:void 0},gg.bind(null,l,f,s,n),null),s},useId:function(){var e=hn(),n=ae.identifierPrefix;if(Bt){var s=Vi,l=Oi;s=(l&~(1<<32-be(l)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Qu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=MT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Lf,useFormState:wg,useActionState:wg,useOptimistic:function(e){var n=hn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Pf.bind(null,It,!0,s),s.dispatch=n,[e,n]},useMemoCache:Nf,useCacheRefresh:function(){return hn().memoizedState=LT.bind(null,It)},useEffectEvent:function(e){var n=hn(),s={impl:e};return n.memoizedState=s,function(){if((Yt&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},zf={readContext:$e,use:Yu,useCallback:Ug,useContext:$e,useEffect:Vf,useImperativeHandle:jg,useInsertionEffect:Og,useLayoutEffect:Vg,useMemo:Lg,useReducer:Xu,useRef:Ig,useState:function(){return Xu(ss)},useDebugValue:kf,useDeferredValue:function(e,n){var s=xe();return Pg(s,ne.memoizedState,e,n)},useTransition:function(){var e=Xu(ss)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:oo(e),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Lf,useFormState:Cg,useActionState:Cg,useOptimistic:function(e,n){var s=xe();return Eg(s,ne,e,n)},useMemoCache:Nf,useCacheRefresh:Fg};zf.useEffectEvent=Mg;var Xg={readContext:$e,use:Yu,useCallback:Ug,useContext:$e,useEffect:Vf,useImperativeHandle:jg,useInsertionEffect:Og,useLayoutEffect:Vg,useMemo:Lg,useReducer:Df,useRef:Ig,useState:function(){return Df(ss)},useDebugValue:kf,useDeferredValue:function(e,n){var s=xe();return ne===null?jf(s,e,n):Pg(s,ne.memoizedState,e,n)},useTransition:function(){var e=Df(ss)[0],n=xe().memoizedState;return[typeof e=="boolean"?e:oo(e),n]},useSyncExternalStore:mg,useId:Hg,useHostTransitionStatus:Lf,useFormState:Ng,useActionState:Ng,useOptimistic:function(e,n){var s=xe();return ne!==null?Eg(s,ne,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:Nf,useCacheRefresh:Fg};Xg.useEffectEvent=Mg;function Bf(e,n,s,l){n=e.memoizedState,s=s(l,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var qf={enqueueSetState:function(e,n,s){e=e._reactInternals;var l=Mn(),h=zs(l);h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(En(n,e,l),so(n,e,l))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var l=Mn(),h=zs(l);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Bs(e,h,l),n!==null&&(En(n,e,l),so(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=Mn(),l=zs(s);l.tag=2,n!=null&&(l.callback=n),n=Bs(e,l,s),n!==null&&(En(n,e,s),so(n,e,s))}};function $g(e,n,s,l,h,f,g){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,f,g):n.prototype&&n.prototype.isPureReactComponent?!$l(s,l)||!$l(h,f):!0}function Zg(e,n,s,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,l),n.state!==e&&qf.enqueueReplaceState(n,n.state,null)}function ta(e,n){var s=n;if("ref"in n){s={};for(var l in n)l!=="ref"&&(s[l]=n[l])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Jg(e){Iu(e)}function Wg(e){console.error(e)}function ty(e){Iu(e)}function Wu(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function ey(e,n,s){try{var l=e.onCaughtError;l(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Hf(e,n,s){return s=zs(s),s.tag=3,s.payload={element:null},s.callback=function(){Wu(e,n)},s}function ny(e){return e=zs(e),e.tag=3,e}function iy(e,n,s,l){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;e.payload=function(){return h(f)},e.callback=function(){ey(n,s,l)}}var g=s.stateNode;g!==null&&typeof g.componentDidCatch=="function"&&(e.callback=function(){ey(n,s,l),typeof h!="function"&&(Ks===null?Ks=new Set([this]):Ks.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function zT(e,n,s,l,h){if(s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=s.alternate,n!==null&&ka(n,s,h,!0),s=Rn.current,s!==null){switch(s.tag){case 31:case 13:return Qn===null?hc():s.alternate===null&&ve===0&&(ve=3),s.flags&=-257,s.flags|=65536,s.lanes=h,l===zu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([l]):n.add(l),md(e,l,h)),!1;case 22:return s.flags|=65536,l===zu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([l]):s.add(l)),md(e,l,h)),!1}throw Error(a(435,s.tag))}return md(e,l,h),hc(),!1}if(Bt)return n=Rn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,l!==of&&(e=Error(a(422),{cause:l}),Wl(qn(e,s)))):(l!==of&&(n=Error(a(423),{cause:l}),Wl(qn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,l=qn(l,s),h=Hf(e.stateNode,l,h),vf(e,h),ve!==4&&(ve=2)),!1;var f=Error(a(520),{cause:l});if(f=qn(f,s),vo===null?vo=[f]:vo.push(f),ve!==4&&(ve=2),n===null)return!0;l=qn(l,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Hf(s.stateNode,l,e),vf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ks===null||!Ks.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=ny(h),iy(h,e,s,l),vf(s,h),!1}s=s.return}while(s!==null);return!1}var Ff=Error(a(461)),Ve=!1;function Ze(e,n,s,l){n.child=e===null?lg(n,null,s,l):Jr(n,e.child,s,l)}function sy(e,n,s,l,h){s=s.render;var f=n.ref;if("ref"in l){var g={};for(var T in l)T!=="ref"&&(g[T]=l[T])}else g=l;return Yr(n),l=xf(e,n,s,g,f,h),T=wf(),e!==null&&!Ve?(Cf(e,n,h),rs(e,n,h)):(Bt&&T&&af(n),n.flags|=1,Ze(e,n,l,h),n.child)}function ry(e,n,s,l,h){if(e===null){var f=s.type;return typeof f=="function"&&!nf(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,ay(e,n,f,l,h)):(e=Vu(s.type,null,l,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Jf(e,h)){var g=f.memoizedProps;if(s=s.compare,s=s!==null?s:$l,s(g,l)&&e.ref===n.ref)return rs(e,n,h)}return n.flags|=1,e=Wi(f,l),e.ref=n.ref,e.return=n,n.child=e}function ay(e,n,s,l,h){if(e!==null){var f=e.memoizedProps;if($l(f,l)&&e.ref===n.ref)if(Ve=!1,n.pendingProps=l=f,Jf(e,h))(e.flags&131072)!==0&&(Ve=!0);else return n.lanes=e.lanes,rs(e,n,h)}return Gf(e,n,s,l,h)}function ly(e,n,s,l){var h=l.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(l=n.child=e.child,h=0;l!==null;)h=h|l.lanes|l.childLanes,l=l.sibling;l=h&~f}else l=0,n.child=null;return oy(e,n,f,s,l)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Lu(n,f!==null?f.cachePool:null),f!==null?cg(n,f):Tf(),hg(n);else return l=n.lanes=536870912,oy(e,n,f!==null?f.baseLanes|s:s,s,l)}else f!==null?(Lu(n,f.cachePool),cg(n,f),Hs(),n.memoizedState=null):(e!==null&&Lu(n,null),Tf(),Hs());return Ze(e,n,h,s),n.child}function ho(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function oy(e,n,s,l,h){var f=pf();return f=f===null?null:{parent:Me._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Lu(n,null),Tf(),hg(n),e!==null&&ka(e,n,l,!0),n.childLanes=h,null}function tc(e,n){return n=nc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function uy(e,n,s){return Jr(n,e.child,null,s),e=tc(n,n.pendingProps),e.flags|=2,Nn(n),n.memoizedState=null,e}function BT(e,n,s){var l=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Bt){if(l.mode==="hidden")return e=tc(n,l),n.lanes=536870912,ho(null,e);if(Af(n),(e=oe)?(e=T_(e,Gn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},s=Qp(e),s.return=n,n.child=s,Xe=n,oe=null)):e=null,e===null)throw Us(n);return n.lanes=536870912,null}return tc(n,l)}var f=e.memoizedState;if(f!==null){var g=f.dehydrated;if(Af(n),h)if(n.flags&256)n.flags&=-257,n=uy(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Ve||ka(e,n,s,!1),h=(s&e.childLanes)!==0,Ve||h){if(l=ae,l!==null&&(g=Ml(l,s),g!==0&&g!==f.retryLane))throw f.retryLane=g,Fr(e,g),En(l,e,g),Ff;hc(),n=uy(e,n,s)}else e=f.treeContext,oe=Kn(g.nextSibling),Xe=n,Bt=!0,js=null,Gn=!1,e!==null&&Xp(n,e),n=tc(n,l),n.flags|=4096;return n}return e=Wi(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function ec(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Gf(e,n,s,l,h){return Yr(n),s=xf(e,n,s,l,void 0,h),l=wf(),e!==null&&!Ve?(Cf(e,n,h),rs(e,n,h)):(Bt&&l&&af(n),n.flags|=1,Ze(e,n,s,h),n.child)}function cy(e,n,s,l,h,f){return Yr(n),n.updateQueue=null,s=dg(n,l,s,h),fg(e),l=wf(),e!==null&&!Ve?(Cf(e,n,f),rs(e,n,f)):(Bt&&l&&af(n),n.flags|=1,Ze(e,n,s,f),n.child)}function hy(e,n,s,l,h){if(Yr(n),n.stateNode===null){var f=Da,g=s.contextType;typeof g=="object"&&g!==null&&(f=$e(g)),f=new s(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=qf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},yf(n),g=s.contextType,f.context=typeof g=="object"&&g!==null?$e(g):Da,f.state=n.memoizedState,g=s.getDerivedStateFromProps,typeof g=="function"&&(Bf(n,s,g,l),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(g=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),g!==f.state&&qf.enqueueReplaceState(f,f.state,null),ao(n,l,f,h),ro(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){f=n.stateNode;var T=n.memoizedProps,R=ta(s,T);f.props=R;var P=f.context,K=s.contextType;g=Da,typeof K=="object"&&K!==null&&(g=$e(K));var $=s.getDerivedStateFromProps;K=typeof $=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=n.pendingProps!==T,K||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||P!==g)&&Zg(n,f,l,g),Ps=!1;var z=n.memoizedState;f.state=z,ao(n,l,f,h),ro(),P=n.memoizedState,T||z!==P||Ps?(typeof $=="function"&&(Bf(n,s,$,l),P=n.memoizedState),(R=Ps||$g(n,s,R,l,z,P,g))?(K||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=P),f.props=l,f.state=P,f.context=g,l=R):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,_f(e,n),g=n.memoizedProps,K=ta(s,g),f.props=K,$=n.pendingProps,z=f.context,P=s.contextType,R=Da,typeof P=="object"&&P!==null&&(R=$e(P)),T=s.getDerivedStateFromProps,(P=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(g!==$||z!==R)&&Zg(n,f,l,R),Ps=!1,z=n.memoizedState,f.state=z,ao(n,l,f,h),ro();var F=n.memoizedState;g!==$||z!==F||Ps||e!==null&&e.dependencies!==null&&ju(e.dependencies)?(typeof T=="function"&&(Bf(n,s,T,l),F=n.memoizedState),(K=Ps||$g(n,s,K,l,z,F,R)||e!==null&&e.dependencies!==null&&ju(e.dependencies))?(P||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,F,R),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,F,R)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=F),f.props=l,f.state=F,f.context=R,l=K):(typeof f.componentDidUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||g===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),l=!1)}return f=l,ec(e,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,s=l&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&l?(n.child=Jr(n,e.child,null,h),n.child=Jr(n,null,s,h)):Ze(e,n,s,h),n.memoizedState=f.state,e=n.child):e=rs(e,n,h),e}function fy(e,n,s,l){return Qr(),n.flags|=256,Ze(e,n,s,l),n.child}var Qf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Kf(e){return{baseLanes:e,cachePool:eg()}}function Yf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Dn),e}function dy(e,n,s){var l=n.pendingProps,h=!1,f=(n.flags&128)!==0,g;if((g=f)||(g=e!==null&&e.memoizedState===null?!1:(Se.current&2)!==0),g&&(h=!0,n.flags&=-129),g=(n.flags&32)!==0,n.flags&=-33,e===null){if(Bt){if(h?qs(n):Hs(),(e=oe)?(e=T_(e,Gn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:ks!==null?{id:Oi,overflow:Vi}:null,retryLane:536870912,hydrationErrors:null},s=Qp(e),s.return=n,n.child=s,Xe=n,oe=null)):e=null,e===null)throw Us(n);return Id(e)?n.lanes=32:n.lanes=536870912,null}var T=l.children;return l=l.fallback,h?(Hs(),h=n.mode,T=nc({mode:"hidden",children:T},h),l=Gr(l,h,s,null),T.return=n,l.return=n,T.sibling=l,n.child=T,l=n.child,l.memoizedState=Kf(s),l.childLanes=Yf(e,g,s),n.memoizedState=Qf,ho(null,l)):(qs(n),Xf(n,T))}var R=e.memoizedState;if(R!==null&&(T=R.dehydrated,T!==null)){if(f)n.flags&256?(qs(n),n.flags&=-257,n=$f(e,n,s)):n.memoizedState!==null?(Hs(),n.child=e.child,n.flags|=128,n=null):(Hs(),T=l.fallback,h=n.mode,l=nc({mode:"visible",children:l.children},h),T=Gr(T,h,s,null),T.flags|=2,l.return=n,T.return=n,l.sibling=T,n.child=l,Jr(n,e.child,null,s),l=n.child,l.memoizedState=Kf(s),l.childLanes=Yf(e,g,s),n.memoizedState=Qf,n=ho(null,l));else if(qs(n),Id(T)){if(g=T.nextSibling&&T.nextSibling.dataset,g)var P=g.dgst;g=P,l=Error(a(419)),l.stack="",l.digest=g,Wl({value:l,source:null,stack:null}),n=$f(e,n,s)}else if(Ve||ka(e,n,s,!1),g=(s&e.childLanes)!==0,Ve||g){if(g=ae,g!==null&&(l=Ml(g,s),l!==0&&l!==R.retryLane))throw R.retryLane=l,Fr(e,l),En(g,e,l),Ff;Nd(T)||hc(),n=$f(e,n,s)}else Nd(T)?(n.flags|=192,n.child=e.child,n=null):(e=R.treeContext,oe=Kn(T.nextSibling),Xe=n,Bt=!0,js=null,Gn=!1,e!==null&&Xp(n,e),n=Xf(n,l.children),n.flags|=4096);return n}return h?(Hs(),T=l.fallback,h=n.mode,R=e.child,P=R.sibling,l=Wi(R,{mode:"hidden",children:l.children}),l.subtreeFlags=R.subtreeFlags&65011712,P!==null?T=Wi(P,T):(T=Gr(T,h,s,null),T.flags|=2),T.return=n,l.return=n,l.sibling=T,n.child=l,ho(null,l),l=n.child,T=e.child.memoizedState,T===null?T=Kf(s):(h=T.cachePool,h!==null?(R=Me._currentValue,h=h.parent!==R?{parent:R,pool:R}:h):h=eg(),T={baseLanes:T.baseLanes|s,cachePool:h}),l.memoizedState=T,l.childLanes=Yf(e,g,s),n.memoizedState=Qf,ho(e.child,l)):(qs(n),s=e.child,e=s.sibling,s=Wi(s,{mode:"visible",children:l.children}),s.return=n,s.sibling=null,e!==null&&(g=n.deletions,g===null?(n.deletions=[e],n.flags|=16):g.push(e)),n.child=s,n.memoizedState=null,s)}function Xf(e,n){return n=nc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function nc(e,n){return e=Cn(22,e,null,n),e.lanes=0,e}function $f(e,n,s){return Jr(n,e.child,null,s),e=Xf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function my(e,n,s){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),hf(e.return,n,s)}function Zf(e,n,s,l,h,f){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:s,tailMode:h,treeForkCount:f}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=l,g.tail=s,g.tailMode=h,g.treeForkCount=f)}function py(e,n,s){var l=n.pendingProps,h=l.revealOrder,f=l.tail;l=l.children;var g=Se.current,T=(g&2)!==0;if(T?(g=g&1|2,n.flags|=128):g&=1,st(Se,g),Ze(e,n,l,s),l=Bt?Jl:0,!T&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&my(e,s,n);else if(e.tag===19)my(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Fu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Zf(n,!1,h,s,f,l);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Fu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Zf(n,!0,s,null,f,l);break;case"together":Zf(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function rs(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Qs|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(ka(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Wi(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Wi(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Jf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&ju(e)))}function qT(e,n,s){switch(n.tag){case 3:me(n,n.stateNode.containerInfo),Ls(n,Me,e.memoizedState.cache),Qr();break;case 27:case 5:Vn(n);break;case 4:me(n,n.stateNode.containerInfo);break;case 10:Ls(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Af(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(qs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?dy(e,n,s):(qs(n),e=rs(e,n,s),e!==null?e.sibling:null);qs(n);break;case 19:var h=(e.flags&128)!==0;if(l=(s&n.childLanes)!==0,l||(ka(e,n,s,!1),l=(s&n.childLanes)!==0),h){if(l)return py(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),st(Se,Se.current),l)break;return null;case 22:return n.lanes=0,ly(e,n,s,n.pendingProps);case 24:Ls(n,Me,e.memoizedState.cache)}return rs(e,n,s)}function gy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Ve=!0;else{if(!Jf(e,s)&&(n.flags&128)===0)return Ve=!1,qT(e,n,s);Ve=(e.flags&131072)!==0}else Ve=!1,Bt&&(n.flags&1048576)!==0&&Yp(n,Jl,n.index);switch(n.lanes=0,n.tag){case 16:t:{var l=n.pendingProps;if(e=$r(n.elementType),n.type=e,typeof e=="function")nf(e)?(l=ta(e,l),n.tag=1,n=hy(null,n,e,l,s)):(n.tag=0,n=Gf(null,n,e,l,s));else{if(e!=null){var h=e.$$typeof;if(h===Rt){n.tag=11,n=sy(null,n,e,l,s);break t}else if(h===I){n.tag=14,n=ry(null,n,e,l,s);break t}}throw n=Ft(e)||e,Error(a(306,n,""))}}return n;case 0:return Gf(e,n,n.type,n.pendingProps,s);case 1:return l=n.type,h=ta(l,n.pendingProps),hy(e,n,l,h,s);case 3:t:{if(me(n,n.stateNode.containerInfo),e===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;h=f.element,_f(e,n),ao(n,l,null,s);var g=n.memoizedState;if(l=g.cache,Ls(n,Me,l),l!==f.cache&&ff(n,[Me],s,!0),ro(),l=g.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:g.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=fy(e,n,l,s);break t}else if(l!==h){h=qn(Error(a(424)),n),Wl(h),n=fy(e,n,l,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,oe=Kn(e.firstChild),Xe=n,Bt=!0,js=null,Gn=!0,s=lg(n,null,l,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Qr(),l===h){n=rs(e,n,s);break t}Ze(e,n,l,s)}n=n.child}return n;case 26:return ec(e,n),e===null?(s=C_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Bt||(s=n.type,e=n.pendingProps,l=_c(mt.current).createElement(s),l[Ne]=n,l[qe]=e,Je(l,s,e),Ie(l),n.stateNode=l):n.memoizedState=C_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Vn(n),e===null&&Bt&&(l=n.stateNode=S_(n.type,n.pendingProps,mt.current),Xe=n,Gn=!0,h=oe,Zs(n.type)?(Dd=h,oe=Kn(l.firstChild)):oe=h),Ze(e,n,n.pendingProps.children,s),ec(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Bt&&((h=l=oe)&&(l=_b(l,n.type,n.pendingProps,Gn),l!==null?(n.stateNode=l,Xe=n,oe=Kn(l.firstChild),Gn=!1,h=!0):h=!1),h||Us(n)),Vn(n),h=n.type,f=n.pendingProps,g=e!==null?e.memoizedProps:null,l=f.children,wd(h,f)?l=null:g!==null&&wd(h,g)&&(n.flags|=32),n.memoizedState!==null&&(h=xf(e,n,OT,null,null,s),Co._currentValue=h),ec(e,n),Ze(e,n,l,s),n.child;case 6:return e===null&&Bt&&((e=s=oe)&&(s=vb(s,n.pendingProps,Gn),s!==null?(n.stateNode=s,Xe=n,oe=null,e=!0):e=!1),e||Us(n)),null;case 13:return dy(e,n,s);case 4:return me(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Jr(n,null,l,s):Ze(e,n,l,s),n.child;case 11:return sy(e,n,n.type,n.pendingProps,s);case 7:return Ze(e,n,n.pendingProps,s),n.child;case 8:return Ze(e,n,n.pendingProps.children,s),n.child;case 12:return Ze(e,n,n.pendingProps.children,s),n.child;case 10:return l=n.pendingProps,Ls(n,n.type,l.value),Ze(e,n,l.children,s),n.child;case 9:return h=n.type._context,l=n.pendingProps.children,Yr(n),h=$e(h),l=l(h),n.flags|=1,Ze(e,n,l,s),n.child;case 14:return ry(e,n,n.type,n.pendingProps,s);case 15:return ay(e,n,n.type,n.pendingProps,s);case 19:return py(e,n,s);case 31:return BT(e,n,s);case 22:return ly(e,n,s,n.pendingProps);case 24:return Yr(n),l=$e(Me),e===null?(h=pf(),h===null&&(h=ae,f=df(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:l,cache:h},yf(n),Ls(n,Me,h)):((e.lanes&s)!==0&&(_f(e,n),ao(n,null,null,s),ro()),h=e.memoizedState,f=n.memoizedState,h.parent!==l?(h={parent:l,cache:l},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ls(n,Me,l)):(l=f.cache,Ls(n,Me,l),l!==h.cache&&ff(n,[Me],s,!0))),Ze(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function as(e){e.flags|=4}function Wf(e,n,s,l,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Hy())e.flags|=8192;else throw Zr=zu,gf}else e.flags&=-16777217}function yy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!M_(n))if(Hy())e.flags|=8192;else throw Zr=zu,gf}function ic(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?uu():536870912,e.lanes|=n,Ka|=n)}function fo(e,n){if(!Bt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function ue(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,l=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=l,e.childLanes=s,n}function HT(e,n,s){var l=n.pendingProps;switch(lf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(n),null;case 1:return ue(n),null;case 3:return s=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),ns(Me),Xt(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Va(n)?as(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,uf())),ue(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(as(n),f!==null?(ue(n),yy(n,f)):(ue(n),Wf(n,h,null,l,s))):f?f!==e.memoizedState?(as(n),ue(n),yy(n,f)):(ue(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&as(n),ue(n),Wf(n,h,e,l,s)),null;case 27:if(Ss(n),s=mt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ue(n),null}e=et.current,Va(n)?$p(n):(e=S_(h,l,s),n.stateNode=e,as(n))}return ue(n),null;case 5:if(Ss(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&as(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ue(n),null}if(f=et.current,Va(n))$p(n);else{var g=_c(mt.current);switch(f){case 1:f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=g.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=g.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=g.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof l.is=="string"?g.createElement("select",{is:l.is}):g.createElement("select"),l.multiple?f.multiple=!0:l.size&&(f.size=l.size);break;default:f=typeof l.is=="string"?g.createElement(h,{is:l.is}):g.createElement(h)}}f[Ne]=n,f[qe]=l;t:for(g=n.child;g!==null;){if(g.tag===5||g.tag===6)f.appendChild(g.stateNode);else if(g.tag!==4&&g.tag!==27&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===n)break t;for(;g.sibling===null;){if(g.return===null||g.return===n)break t;g=g.return}g.sibling.return=g.return,g=g.sibling}n.stateNode=f;t:switch(Je(f,h,l),h){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break t;case"img":l=!0;break t;default:l=!1}l&&as(n)}}return ue(n),Wf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&as(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(e=mt.current,Va(n)){if(e=n.stateNode,s=n.memoizedProps,l=null,h=Xe,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}e[Ne]=n,e=!!(e.nodeValue===s||l!==null&&l.suppressHydrationWarning===!0||d_(e.nodeValue,s)),e||Us(n,!0)}else e=_c(e).createTextNode(l),e[Ne]=n,n.stateNode=e}return ue(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(l=Va(n),s!==null){if(e===null){if(!l)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Ne]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),e=!1}else s=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(Nn(n),n):(Nn(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ue(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Va(n),l!==null&&l.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Ne]=n}else Qr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ue(n),h=!1}else h=uf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(Nn(n),n):(Nn(n),null)}return Nn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=l!==null,e=e!==null&&e.memoizedState!==null,s&&(l=n.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool),f=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),ic(n,n.updateQueue),ue(n),null);case 4:return Xt(),e===null&&Td(n.stateNode.containerInfo),ue(n),null;case 10:return ns(n.type),ue(n),null;case 19:if(Y(Se),l=n.memoizedState,l===null)return ue(n),null;if(h=(n.flags&128)!==0,f=l.rendering,f===null)if(h)fo(l,!1);else{if(ve!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Fu(e),f!==null){for(n.flags|=128,fo(l,!1),e=f.updateQueue,n.updateQueue=e,ic(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Gp(s,e),s=s.sibling;return st(Se,Se.current&1|2),Bt&&ts(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&Ke()>oc&&(n.flags|=128,h=!0,fo(l,!1),n.lanes=4194304)}else{if(!h)if(e=Fu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,ic(n,e),fo(l,!0),l.tail===null&&l.tailMode==="hidden"&&!f.alternate&&!Bt)return ue(n),null}else 2*Ke()-l.renderingStartTime>oc&&s!==536870912&&(n.flags|=128,h=!0,fo(l,!1),n.lanes=4194304);l.isBackwards?(f.sibling=n.child,n.child=f):(e=l.last,e!==null?e.sibling=f:n.child=f,l.last=f)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ke(),e.sibling=null,s=Se.current,st(Se,h?s&1|2:s&1),Bt&&ts(n,l.treeForkCount),e):(ue(n),null);case 22:case 23:return Nn(n),bf(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(s&536870912)!==0&&(n.flags&128)===0&&(ue(n),n.subtreeFlags&6&&(n.flags|=8192)):ue(n),s=n.updateQueue,s!==null&&ic(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048),e!==null&&Y(Xr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),ns(Me),ue(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function FT(e,n){switch(lf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return ns(Me),Xt(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ss(n),null;case 31:if(n.memoizedState!==null){if(Nn(n),n.alternate===null)throw Error(a(340));Qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Nn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Qr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(Se),null;case 4:return Xt(),null;case 10:return ns(n.type),null;case 22:case 23:return Nn(n),bf(),e!==null&&Y(Xr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return ns(Me),null;case 25:return null;default:return null}}function _y(e,n){switch(lf(n),n.tag){case 3:ns(Me),Xt();break;case 26:case 27:case 5:Ss(n);break;case 4:Xt();break;case 31:n.memoizedState!==null&&Nn(n);break;case 13:Nn(n);break;case 19:Y(Se);break;case 10:ns(n.type);break;case 22:case 23:Nn(n),bf(),e!==null&&Y(Xr);break;case 24:ns(Me)}}function mo(e,n){try{var s=n.updateQueue,l=s!==null?s.lastEffect:null;if(l!==null){var h=l.next;s=h;do{if((s.tag&e)===e){l=void 0;var f=s.create,g=s.inst;l=f(),g.destroy=l}s=s.next}while(s!==h)}}catch(T){Wt(n,n.return,T)}}function Fs(e,n,s){try{var l=n.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&e)===e){var g=l.inst,T=g.destroy;if(T!==void 0){g.destroy=void 0,h=n;var R=s,P=T;try{P()}catch(K){Wt(h,R,K)}}}l=l.next}while(l!==f)}}catch(K){Wt(n,n.return,K)}}function vy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ug(n,s)}catch(l){Wt(e,e.return,l)}}}function Ey(e,n,s){s.props=ta(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(l){Wt(e,n,l)}}function po(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof s=="function"?e.refCleanup=s(l):s.current=l}}catch(h){Wt(e,n,h)}}function ki(e,n){var s=e.ref,l=e.refCleanup;if(s!==null)if(typeof l=="function")try{l()}catch(h){Wt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Wt(e,n,h)}else s.current=null}function Ty(e){var n=e.type,s=e.memoizedProps,l=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&l.focus();break t;case"img":s.src?l.src=s.src:s.srcSet&&(l.srcset=s.srcSet)}}catch(h){Wt(e,e.return,h)}}function td(e,n,s){try{var l=e.stateNode;fb(l,e.type,s,n),l[qe]=n}catch(h){Wt(e,e.return,h)}}function by(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zs(e.type)||e.tag===4}function ed(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||by(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function nd(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=ni));else if(l!==4&&(l===27&&Zs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(nd(e,n,s),e=e.sibling;e!==null;)nd(e,n,s),e=e.sibling}function sc(e,n,s){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(l!==4&&(l===27&&Zs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(sc(e,n,s),e=e.sibling;e!==null;)sc(e,n,s),e=e.sibling}function Ay(e){var n=e.stateNode,s=e.memoizedProps;try{for(var l=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Je(n,l,s),n[Ne]=e,n[qe]=s}catch(f){Wt(e,e.return,f)}}var ls=!1,ke=!1,id=!1,Sy=typeof WeakSet=="function"?WeakSet:Set,Fe=null;function GT(e,n){if(e=e.containerInfo,Sd=xc,e=jp(e),Xh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var l=s.getSelection&&s.getSelection();if(l&&l.rangeCount!==0){s=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var g=0,T=-1,R=-1,P=0,K=0,$=e,z=null;e:for(;;){for(var F;$!==s||h!==0&&$.nodeType!==3||(T=g+h),$!==f||l!==0&&$.nodeType!==3||(R=g+l),$.nodeType===3&&(g+=$.nodeValue.length),(F=$.firstChild)!==null;)z=$,$=F;for(;;){if($===e)break e;if(z===s&&++P===h&&(T=g),z===f&&++K===l&&(R=g),(F=$.nextSibling)!==null)break;$=z,z=$.parentNode}$=F}s=T===-1||R===-1?null:{start:T,end:R}}else s=null}s=s||{start:0,end:0}}else s=null;for(xd={focusedElem:e,selectionRange:s},xc=!1,Fe=n;Fe!==null;)if(n=Fe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Fe=e;else for(;Fe!==null;){switch(n=Fe,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,l=s.stateNode;try{var ot=ta(s.type,h);e=l.getSnapshotBeforeUpdate(ot,f),l.__reactInternalSnapshotBeforeUpdate=e}catch(Et){Wt(s,s.return,Et)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Rd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Rd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Fe=e;break}Fe=n.return}}function xy(e,n,s){var l=s.flags;switch(s.tag){case 0:case 11:case 15:us(e,s),l&4&&mo(5,s);break;case 1:if(us(e,s),l&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(g){Wt(s,s.return,g)}else{var h=ta(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(g){Wt(s,s.return,g)}}l&64&&vy(s),l&512&&po(s,s.return);break;case 3:if(us(e,s),l&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ug(e,n)}catch(g){Wt(s,s.return,g)}}break;case 27:n===null&&l&4&&Ay(s);case 26:case 5:us(e,s),n===null&&l&4&&Ty(s),l&512&&po(s,s.return);break;case 12:us(e,s);break;case 31:us(e,s),l&4&&Ry(e,s);break;case 13:us(e,s),l&4&&Ny(e,s),l&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=tb.bind(null,s),Eb(e,s))));break;case 22:if(l=s.memoizedState!==null||ls,!l){n=n!==null&&n.memoizedState!==null||ke,h=ls;var f=ke;ls=l,(ke=n)&&!f?cs(e,s,(s.subtreeFlags&8772)!==0):us(e,s),ls=h,ke=f}break;case 30:break;default:us(e,s)}}function wy(e){var n=e.alternate;n!==null&&(e.alternate=null,wy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ya(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var de=null,gn=!1;function os(e,n,s){for(s=s.child;s!==null;)Cy(e,n,s),s=s.sibling}function Cy(e,n,s){if(Be&&typeof Be.onCommitFiberUnmount=="function")try{Be.onCommitFiberUnmount(Te,s)}catch{}switch(s.tag){case 26:ke||ki(s,n),os(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:ke||ki(s,n);var l=de,h=gn;Zs(s.type)&&(de=s.stateNode,gn=!1),os(e,n,s),So(s.stateNode),de=l,gn=h;break;case 5:ke||ki(s,n);case 6:if(l=de,h=gn,de=null,os(e,n,s),de=l,gn=h,de!==null)if(gn)try{(de.nodeType===9?de.body:de.nodeName==="HTML"?de.ownerDocument.body:de).removeChild(s.stateNode)}catch(f){Wt(s,n,f)}else try{de.removeChild(s.stateNode)}catch(f){Wt(s,n,f)}break;case 18:de!==null&&(gn?(e=de,v_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),el(e)):v_(de,s.stateNode));break;case 4:l=de,h=gn,de=s.stateNode.containerInfo,gn=!0,os(e,n,s),de=l,gn=h;break;case 0:case 11:case 14:case 15:Fs(2,s,n),ke||Fs(4,s,n),os(e,n,s);break;case 1:ke||(ki(s,n),l=s.stateNode,typeof l.componentWillUnmount=="function"&&Ey(s,n,l)),os(e,n,s);break;case 21:os(e,n,s);break;case 22:ke=(l=ke)||s.memoizedState!==null,os(e,n,s),ke=l;break;default:os(e,n,s)}}function Ry(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{el(e)}catch(s){Wt(n,n.return,s)}}}function Ny(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{el(e)}catch(s){Wt(n,n.return,s)}}function QT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Sy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Sy),n;default:throw Error(a(435,e.tag))}}function rc(e,n){var s=QT(e);n.forEach(function(l){if(!s.has(l)){s.add(l);var h=eb.bind(null,e,l);l.then(h,h)}})}function yn(e,n){var s=n.deletions;if(s!==null)for(var l=0;l<s.length;l++){var h=s[l],f=e,g=n,T=g;t:for(;T!==null;){switch(T.tag){case 27:if(Zs(T.type)){de=T.stateNode,gn=!1;break t}break;case 5:de=T.stateNode,gn=!1;break t;case 3:case 4:de=T.stateNode.containerInfo,gn=!0;break t}T=T.return}if(de===null)throw Error(a(160));Cy(f,g,h),de=null,gn=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Iy(n,e),n=n.sibling}var oi=null;function Iy(e,n){var s=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:yn(n,e),_n(e),l&4&&(Fs(3,e,e.return),mo(3,e),Fs(5,e,e.return));break;case 1:yn(n,e),_n(e),l&512&&(ke||s===null||ki(s,s.return)),l&64&&ls&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?l:s.concat(l))));break;case 26:var h=oi;if(yn(n,e),_n(e),l&512&&(ke||s===null||ki(s,s.return)),l&4){var f=s!==null?s.memoizedState:null;if(l=e.memoizedState,s===null)if(l===null)if(e.stateNode===null){t:{l=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[Ti]||f[Ne]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Je(f,l,s),f[Ne]=e,Ie(f),l=f;break t;case"link":var g=I_("link","href",h).get(l+(s.href||""));if(g){for(var T=0;T<g.length;T++)if(f=g[T],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){g.splice(T,1);break e}}f=h.createElement(l),Je(f,l,s),h.head.appendChild(f);break;case"meta":if(g=I_("meta","content",h).get(l+(s.content||""))){for(T=0;T<g.length;T++)if(f=g[T],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){g.splice(T,1);break e}}f=h.createElement(l),Je(f,l,s),h.head.appendChild(f);break;default:throw Error(a(468,l))}f[Ne]=e,Ie(f),l=f}e.stateNode=l}else D_(h,e.type,e.stateNode);else e.stateNode=N_(h,l,e.memoizedProps);else f!==l?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,l===null?D_(h,e.type,e.stateNode):N_(h,l,e.memoizedProps)):l===null&&e.stateNode!==null&&td(e,e.memoizedProps,s.memoizedProps)}break;case 27:yn(n,e),_n(e),l&512&&(ke||s===null||ki(s,s.return)),s!==null&&l&4&&td(e,e.memoizedProps,s.memoizedProps);break;case 5:if(yn(n,e),_n(e),l&512&&(ke||s===null||ki(s,s.return)),e.flags&32){h=e.stateNode;try{pn(h,"")}catch(ot){Wt(e,e.return,ot)}}l&4&&e.stateNode!=null&&(h=e.memoizedProps,td(e,h,s!==null?s.memoizedProps:h)),l&1024&&(id=!0);break;case 6:if(yn(n,e),_n(e),l&4){if(e.stateNode===null)throw Error(a(162));l=e.memoizedProps,s=e.stateNode;try{s.nodeValue=l}catch(ot){Wt(e,e.return,ot)}}break;case 3:if(Tc=null,h=oi,oi=vc(n.containerInfo),yn(n,e),oi=h,_n(e),l&4&&s!==null&&s.memoizedState.isDehydrated)try{el(n.containerInfo)}catch(ot){Wt(e,e.return,ot)}id&&(id=!1,Dy(e));break;case 4:l=oi,oi=vc(e.stateNode.containerInfo),yn(n,e),_n(e),oi=l;break;case 12:yn(n,e),_n(e);break;case 31:yn(n,e),_n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 13:yn(n,e),_n(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(lc=Ke()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 22:h=e.memoizedState!==null;var R=s!==null&&s.memoizedState!==null,P=ls,K=ke;if(ls=P||h,ke=K||R,yn(n,e),ke=K,ls=P,_n(e),l&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||R||ls||ke||ea(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){R=s=n;try{if(f=R.stateNode,h)g=f.style,typeof g.setProperty=="function"?g.setProperty("display","none","important"):g.display="none";else{T=R.stateNode;var $=R.memoizedProps.style,z=$!=null&&$.hasOwnProperty("display")?$.display:null;T.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ot){Wt(R,R.return,ot)}}}else if(n.tag===6){if(s===null){R=n;try{R.stateNode.nodeValue=h?"":R.memoizedProps}catch(ot){Wt(R,R.return,ot)}}}else if(n.tag===18){if(s===null){R=n;try{var F=R.stateNode;h?E_(F,!0):E_(R.stateNode,!1)}catch(ot){Wt(R,R.return,ot)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(s=l.retryQueue,s!==null&&(l.retryQueue=null,rc(e,s))));break;case 19:yn(n,e),_n(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,rc(e,l)));break;case 30:break;case 21:break;default:yn(n,e),_n(e)}}function _n(e){var n=e.flags;if(n&2){try{for(var s,l=e.return;l!==null;){if(by(l)){s=l;break}l=l.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=ed(e);sc(e,f,h);break;case 5:var g=s.stateNode;s.flags&32&&(pn(g,""),s.flags&=-33);var T=ed(e);sc(e,T,g);break;case 3:case 4:var R=s.stateNode.containerInfo,P=ed(e);nd(e,P,R);break;default:throw Error(a(161))}}catch(K){Wt(e,e.return,K)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Dy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Dy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function us(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xy(e,n.alternate,n),n=n.sibling}function ea(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Fs(4,n,n.return),ea(n);break;case 1:ki(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&Ey(n,n.return,s),ea(n);break;case 27:So(n.stateNode);case 26:case 5:ki(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}e=e.sibling}}function cs(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,h=e,f=n,g=f.flags;switch(f.tag){case 0:case 11:case 15:cs(h,f,s),mo(4,f);break;case 1:if(cs(h,f,s),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(P){Wt(l,l.return,P)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var R=h.shared.hiddenCallbacks;if(R!==null)for(h.shared.hiddenCallbacks=null,h=0;h<R.length;h++)og(R[h],T)}catch(P){Wt(l,l.return,P)}}s&&g&64&&vy(f),po(f,f.return);break;case 27:Ay(f);case 26:case 5:cs(h,f,s),s&&l===null&&g&4&&Ty(f),po(f,f.return);break;case 12:cs(h,f,s);break;case 31:cs(h,f,s),s&&g&4&&Ry(h,f);break;case 13:cs(h,f,s),s&&g&4&&Ny(h,f);break;case 22:f.memoizedState===null&&cs(h,f,s),po(f,f.return);break;case 30:break;default:cs(h,f,s)}n=n.sibling}}function sd(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&to(s))}function rd(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&to(e))}function ui(e,n,s,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)My(e,n,s,l),n=n.sibling}function My(e,n,s,l){var h=n.flags;switch(n.tag){case 0:case 11:case 15:ui(e,n,s,l),h&2048&&mo(9,n);break;case 1:ui(e,n,s,l);break;case 3:ui(e,n,s,l),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&to(e)));break;case 12:if(h&2048){ui(e,n,s,l),e=n.stateNode;try{var f=n.memoizedProps,g=f.id,T=f.onPostCommit;typeof T=="function"&&T(g,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(R){Wt(n,n.return,R)}}else ui(e,n,s,l);break;case 31:ui(e,n,s,l);break;case 13:ui(e,n,s,l);break;case 23:break;case 22:f=n.stateNode,g=n.alternate,n.memoizedState!==null?f._visibility&2?ui(e,n,s,l):go(e,n):f._visibility&2?ui(e,n,s,l):(f._visibility|=2,Fa(e,n,s,l,(n.subtreeFlags&10256)!==0||!1)),h&2048&&sd(g,n);break;case 24:ui(e,n,s,l),h&2048&&rd(n.alternate,n);break;default:ui(e,n,s,l)}}function Fa(e,n,s,l,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,g=n,T=s,R=l,P=g.flags;switch(g.tag){case 0:case 11:case 15:Fa(f,g,T,R,h),mo(8,g);break;case 23:break;case 22:var K=g.stateNode;g.memoizedState!==null?K._visibility&2?Fa(f,g,T,R,h):go(f,g):(K._visibility|=2,Fa(f,g,T,R,h)),h&&P&2048&&sd(g.alternate,g);break;case 24:Fa(f,g,T,R,h),h&&P&2048&&rd(g.alternate,g);break;default:Fa(f,g,T,R,h)}n=n.sibling}}function go(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,l=n,h=l.flags;switch(l.tag){case 22:go(s,l),h&2048&&sd(l.alternate,l);break;case 24:go(s,l),h&2048&&rd(l.alternate,l);break;default:go(s,l)}n=n.sibling}}var yo=8192;function Ga(e,n,s){if(e.subtreeFlags&yo)for(e=e.child;e!==null;)Oy(e,n,s),e=e.sibling}function Oy(e,n,s){switch(e.tag){case 26:Ga(e,n,s),e.flags&yo&&e.memoizedState!==null&&Mb(s,oi,e.memoizedState,e.memoizedProps);break;case 5:Ga(e,n,s);break;case 3:case 4:var l=oi;oi=vc(e.stateNode.containerInfo),Ga(e,n,s),oi=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=yo,yo=16777216,Ga(e,n,s),yo=l):Ga(e,n,s));break;default:Ga(e,n,s)}}function Vy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function _o(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Fe=l,jy(l,e)}Vy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)ky(e),e=e.sibling}function ky(e){switch(e.tag){case 0:case 11:case 15:_o(e),e.flags&2048&&Fs(9,e,e.return);break;case 3:_o(e);break;case 12:_o(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ac(e)):_o(e);break;default:_o(e)}}function ac(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var l=n[s];Fe=l,jy(l,e)}Vy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Fs(8,n,n.return),ac(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ac(n));break;default:ac(n)}e=e.sibling}}function jy(e,n){for(;Fe!==null;){var s=Fe;switch(s.tag){case 0:case 11:case 15:Fs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var l=s.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:to(s.memoizedState.cache)}if(l=s.child,l!==null)l.return=s,Fe=l;else t:for(s=e;Fe!==null;){l=Fe;var h=l.sibling,f=l.return;if(wy(l),l===s){Fe=null;break t}if(h!==null){h.return=f,Fe=h;break t}Fe=f}}}var KT={getCacheForType:function(e){var n=$e(Me),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return $e(Me).controller.signal}},YT=typeof WeakMap=="function"?WeakMap:Map,Yt=0,ae=null,Vt=null,jt=0,Jt=0,In=null,Gs=!1,Qa=!1,ad=!1,hs=0,ve=0,Qs=0,na=0,ld=0,Dn=0,Ka=0,vo=null,vn=null,od=!1,lc=0,Uy=0,oc=1/0,uc=null,Ks=null,Le=0,Ys=null,Ya=null,fs=0,ud=0,cd=null,Ly=null,Eo=0,hd=null;function Mn(){return(Yt&2)!==0&&jt!==0?jt&-jt:q.T!==null?yd():cu()}function Py(){if(Dn===0)if((jt&536870912)===0||Bt){var e=Nr;Nr<<=1,(Nr&3932160)===0&&(Nr=262144),Dn=e}else Dn=536870912;return e=Rn.current,e!==null&&(e.flags|=32),Dn}function En(e,n,s){(e===ae&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)&&(Xa(e,0),Xs(e,jt,Dn,!1)),Ir(e,s),((Yt&2)===0||e!==ae)&&(e===ae&&((Yt&2)===0&&(na|=s),ve===4&&Xs(e,jt,Dn,!1)),ji(e))}function zy(e,n,s){if((Yt&6)!==0)throw Error(a(327));var l=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Wn(e,n),h=l?ZT(e,n):dd(e,n,!0),f=l;do{if(h===0){Qa&&!l&&Xs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!XT(s)){h=dd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var g=0;else g=e.pendingLanes&-536870913,g=g!==0?g:g&536870912?536870912:0;if(g!==0){n=g;t:{var T=e;h=vo;var R=T.current.memoizedState.isDehydrated;if(R&&(Xa(T,g).flags|=256),g=dd(T,g,!1),g!==2){if(ad&&!R){T.errorRecoveryDisabledLanes|=f,na|=f,h=4;break t}f=vn,vn=h,f!==null&&(vn===null?vn=f:vn.push.apply(vn,f))}h=g}if(f=!1,h!==2)continue}}if(h===1){Xa(e,0),Xs(e,n,0,!0);break}t:{switch(l=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Xs(l,n,Dn,!Gs);break t;case 2:vn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=lc+300-Ke(),10<h)){if(Xs(l,n,Dn,!Gs),_i(l,0,!0)!==0)break t;fs=n,l.timeoutHandle=y_(By.bind(null,l,s,vn,uc,od,n,Dn,na,Ka,Gs,f,"Throttled",-0,0),h);break t}By(l,s,vn,uc,od,n,Dn,na,Ka,Gs,f,null,-0,0)}}break}while(!0);ji(e)}function By(e,n,s,l,h,f,g,T,R,P,K,$,z,F){if(e.timeoutHandle=-1,$=n.subtreeFlags,$&8192||($&16785408)===16785408){$={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ni},Oy(n,f,$);var ot=(f&62914560)===f?lc-Ke():(f&4194048)===f?Uy-Ke():0;if(ot=Ob($,ot),ot!==null){fs=f,e.cancelPendingCommit=ot(Xy.bind(null,e,n,f,s,l,h,g,T,R,K,$,null,z,F)),Xs(e,f,g,!P);return}}Xy(e,n,f,s,l,h,g,T,R)}function XT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var l=0;l<s.length;l++){var h=s[l],f=h.getSnapshot;h=h.value;try{if(!wn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Xs(e,n,s,l){n&=~ld,n&=~na,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var h=n;0<h;){var f=31-be(h),g=1<<f;l[f]=-1,h&=~g}s!==0&&Dr(e,s,n)}function cc(){return(Yt&6)===0?(To(0),!1):!0}function fd(){if(Vt!==null){if(Jt===0)var e=Vt.return;else e=Vt,es=Kr=null,Rf(e),Pa=null,no=0,e=Vt;for(;e!==null;)_y(e.alternate,e),e=e.return;Vt=null}}function Xa(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,pb(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),fs=0,fd(),ae=e,Vt=s=Wi(e.current,null),jt=n,Jt=0,In=null,Gs=!1,Qa=Wn(e,n),ad=!1,Ka=Dn=ld=na=Qs=ve=0,vn=vo=null,od=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var h=31-be(l),f=1<<h;n|=e[h],l&=~f}return hs=n,Du(),s}function qy(e,n){It=null,q.H=co,n===La||n===Pu?(n=sg(),Jt=3):n===gf?(n=sg(),Jt=4):Jt=n===Ff?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,In=n,Vt===null&&(ve=1,Wu(e,qn(n,e.current)))}function Hy(){var e=Rn.current;return e===null?!0:(jt&4194048)===jt?Qn===null:(jt&62914560)===jt||(jt&536870912)!==0?e===Qn:!1}function Fy(){var e=q.H;return q.H=co,e===null?co:e}function Gy(){var e=q.A;return q.A=KT,e}function hc(){ve=4,Gs||(jt&4194048)!==jt&&Rn.current!==null||(Qa=!0),(Qs&134217727)===0&&(na&134217727)===0||ae===null||Xs(ae,jt,Dn,!1)}function dd(e,n,s){var l=Yt;Yt|=2;var h=Fy(),f=Gy();(ae!==e||jt!==n)&&(uc=null,Xa(e,n)),n=!1;var g=ve;t:do try{if(Jt!==0&&Vt!==null){var T=Vt,R=In;switch(Jt){case 8:fd(),g=6;break t;case 3:case 2:case 9:case 6:Rn.current===null&&(n=!0);var P=Jt;if(Jt=0,In=null,$a(e,T,R,P),s&&Qa){g=0;break t}break;default:P=Jt,Jt=0,In=null,$a(e,T,R,P)}}$T(),g=ve;break}catch(K){qy(e,K)}while(!0);return n&&e.shellSuspendCounter++,es=Kr=null,Yt=l,q.H=h,q.A=f,Vt===null&&(ae=null,jt=0,Du()),g}function $T(){for(;Vt!==null;)Qy(Vt)}function ZT(e,n){var s=Yt;Yt|=2;var l=Fy(),h=Gy();ae!==e||jt!==n?(uc=null,oc=Ke()+500,Xa(e,n)):Qa=Wn(e,n);t:do try{if(Jt!==0&&Vt!==null){n=Vt;var f=In;e:switch(Jt){case 1:Jt=0,In=null,$a(e,n,f,1);break;case 2:case 9:if(ng(f)){Jt=0,In=null,Ky(n);break}n=function(){Jt!==2&&Jt!==9||ae!==e||(Jt=7),ji(e)},f.then(n,n);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:ng(f)?(Jt=0,In=null,Ky(n)):(Jt=0,In=null,$a(e,n,f,7));break;case 5:var g=null;switch(Vt.tag){case 26:g=Vt.memoizedState;case 5:case 27:var T=Vt;if(g?M_(g):T.stateNode.complete){Jt=0,In=null;var R=T.sibling;if(R!==null)Vt=R;else{var P=T.return;P!==null?(Vt=P,fc(P)):Vt=null}break e}}Jt=0,In=null,$a(e,n,f,5);break;case 6:Jt=0,In=null,$a(e,n,f,6);break;case 8:fd(),ve=6;break t;default:throw Error(a(462))}}JT();break}catch(K){qy(e,K)}while(!0);return es=Kr=null,q.H=l,q.A=h,Yt=s,Vt!==null?0:(ae=null,jt=0,Du(),ve)}function JT(){for(;Vt!==null&&!Il();)Qy(Vt)}function Qy(e){var n=gy(e.alternate,e,hs);e.memoizedProps=e.pendingProps,n===null?fc(e):Vt=n}function Ky(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=cy(s,n,n.pendingProps,n.type,void 0,jt);break;case 11:n=cy(s,n,n.pendingProps,n.type.render,n.ref,jt);break;case 5:Rf(n);default:_y(s,n),n=Vt=Gp(n,hs),n=gy(s,n,hs)}e.memoizedProps=e.pendingProps,n===null?fc(e):Vt=n}function $a(e,n,s,l){es=Kr=null,Rf(n),Pa=null,no=0;var h=n.return;try{if(zT(e,h,n,s,jt)){ve=1,Wu(e,qn(s,e.current)),Vt=null;return}}catch(f){if(h!==null)throw Vt=h,f;ve=1,Wu(e,qn(s,e.current)),Vt=null;return}n.flags&32768?(Bt||l===1?e=!0:Qa||(jt&536870912)!==0?e=!1:(Gs=e=!0,(l===2||l===9||l===3||l===6)&&(l=Rn.current,l!==null&&l.tag===13&&(l.flags|=16384))),Yy(n,e)):fc(n)}function fc(e){var n=e;do{if((n.flags&32768)!==0){Yy(n,Gs);return}e=n.return;var s=HT(n.alternate,n,hs);if(s!==null){Vt=s;return}if(n=n.sibling,n!==null){Vt=n;return}Vt=n=e}while(n!==null);ve===0&&(ve=5)}function Yy(e,n){do{var s=FT(e.alternate,e);if(s!==null){s.flags&=32767,Vt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Vt=e;return}Vt=e=s}while(e!==null);ve=6,Vt=null}function Xy(e,n,s,l,h,f,g,T,R){e.cancelPendingCommit=null;do dc();while(Le!==0);if((Yt&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=tf,Gh(e,s,f,g,T,R),e===ae&&(Vt=ae=null,jt=0),Ya=n,Ys=e,fs=s,ud=f,cd=h,Ly=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,nb(pi,function(){return t_(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=q.T,q.T=null,h=W.p,W.p=2,g=Yt,Yt|=4;try{GT(e,n,s)}finally{Yt=g,W.p=h,q.T=l}}Le=1,$y(),Zy(),Jy()}}function $y(){if(Le===1){Le=0;var e=Ys,n=Ya,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=q.T,q.T=null;var l=W.p;W.p=2;var h=Yt;Yt|=4;try{Iy(n,e);var f=xd,g=jp(e.containerInfo),T=f.focusedElem,R=f.selectionRange;if(g!==T&&T&&T.ownerDocument&&kp(T.ownerDocument.documentElement,T)){if(R!==null&&Xh(T)){var P=R.start,K=R.end;if(K===void 0&&(K=P),"selectionStart"in T)T.selectionStart=P,T.selectionEnd=Math.min(K,T.value.length);else{var $=T.ownerDocument||document,z=$&&$.defaultView||window;if(z.getSelection){var F=z.getSelection(),ot=T.textContent.length,Et=Math.min(R.start,ot),se=R.end===void 0?Et:Math.min(R.end,ot);!F.extend&&Et>se&&(g=se,se=Et,Et=g);var j=Vp(T,Et),O=Vp(T,se);if(j&&O&&(F.rangeCount!==1||F.anchorNode!==j.node||F.anchorOffset!==j.offset||F.focusNode!==O.node||F.focusOffset!==O.offset)){var L=$.createRange();L.setStart(j.node,j.offset),F.removeAllRanges(),Et>se?(F.addRange(L),F.extend(O.node,O.offset)):(L.setEnd(O.node,O.offset),F.addRange(L))}}}}for($=[],F=T;F=F.parentNode;)F.nodeType===1&&$.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<$.length;T++){var X=$[T];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}xc=!!Sd,xd=Sd=null}finally{Yt=h,W.p=l,q.T=s}}e.current=n,Le=2}}function Zy(){if(Le===2){Le=0;var e=Ys,n=Ya,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=q.T,q.T=null;var l=W.p;W.p=2;var h=Yt;Yt|=4;try{xy(e,n.alternate,n)}finally{Yt=h,W.p=l,q.T=s}}Le=3}}function Jy(){if(Le===4||Le===3){Le=0,ma();var e=Ys,n=Ya,s=fs,l=Ly;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Le=5:(Le=0,Ya=Ys=null,Wy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ks=null),Xi(s),n=n.stateNode,Be&&typeof Be.onCommitFiberRoot=="function")try{Be.onCommitFiberRoot(Te,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=q.T,h=W.p,W.p=2,q.T=null;try{for(var f=e.onRecoverableError,g=0;g<l.length;g++){var T=l[g];f(T.value,{componentStack:T.stack})}}finally{q.T=n,W.p=h}}(fs&3)!==0&&dc(),ji(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===hd?Eo++:(Eo=0,hd=e):Eo=0,To(0)}}function Wy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,to(n)))}function dc(){return $y(),Zy(),Jy(),t_()}function t_(){if(Le!==5)return!1;var e=Ys,n=ud;ud=0;var s=Xi(fs),l=q.T,h=W.p;try{W.p=32>s?32:s,q.T=null,s=cd,cd=null;var f=Ys,g=fs;if(Le=0,Ya=Ys=null,fs=0,(Yt&6)!==0)throw Error(a(331));var T=Yt;if(Yt|=4,ky(f.current),My(f,f.current,g,s),Yt=T,To(0,!1),Be&&typeof Be.onPostCommitFiberRoot=="function")try{Be.onPostCommitFiberRoot(Te,f)}catch{}return!0}finally{W.p=h,q.T=l,Wy(e,n)}}function e_(e,n,s){n=qn(s,n),n=Hf(e.stateNode,n,2),e=Bs(e,n,2),e!==null&&(Ir(e,2),ji(e))}function Wt(e,n,s){if(e.tag===3)e_(e,e,s);else for(;n!==null;){if(n.tag===3){e_(n,e,s);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ks===null||!Ks.has(l))){e=qn(s,e),s=ny(2),l=Bs(n,s,2),l!==null&&(iy(s,l,n,e),Ir(l,2),ji(l));break}}n=n.return}}function md(e,n,s){var l=e.pingCache;if(l===null){l=e.pingCache=new YT;var h=new Set;l.set(n,h)}else h=l.get(n),h===void 0&&(h=new Set,l.set(n,h));h.has(s)||(ad=!0,h.add(s),e=WT.bind(null,e,n,s),n.then(e,e))}function WT(e,n,s){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,ae===e&&(jt&s)===s&&(ve===4||ve===3&&(jt&62914560)===jt&&300>Ke()-lc?(Yt&2)===0&&Xa(e,0):ld|=s,Ka===jt&&(Ka=0)),ji(e)}function n_(e,n){n===0&&(n=uu()),e=Fr(e,n),e!==null&&(Ir(e,n),ji(e))}function tb(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),n_(e,s)}function eb(e,n){var s=0;switch(e.tag){case 31:case 13:var l=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),n_(e,s)}function nb(e,n){return Ee(e,n)}var mc=null,Za=null,pd=!1,pc=!1,gd=!1,$s=0;function ji(e){e!==Za&&e.next===null&&(Za===null?mc=Za=e:Za=Za.next=e),pc=!0,pd||(pd=!0,sb())}function To(e,n){if(!gd&&pc){gd=!0;do for(var s=!1,l=mc;l!==null;){if(e!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var g=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-be(42|e)+1)-1,f&=h&~(g&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,a_(l,f))}else f=jt,f=_i(l,l===ae?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Wn(l,f)||(s=!0,a_(l,f));l=l.next}while(s);gd=!1}}function ib(){i_()}function i_(){pc=pd=!1;var e=0;$s!==0&&mb()&&(e=$s);for(var n=Ke(),s=null,l=mc;l!==null;){var h=l.next,f=s_(l,n);f===0?(l.next=null,s===null?mc=h:s.next=h,h===null&&(Za=s)):(s=l,(e!==0||(f&3)!==0)&&(pc=!0)),l=h}Le!==0&&Le!==5||To(e),$s!==0&&($s=0)}function s_(e,n){for(var s=e.suspendedLanes,l=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var g=31-be(f),T=1<<g,R=h[g];R===-1?((T&s)===0||(T&l)!==0)&&(h[g]=Fh(T,n)):R<=n&&(e.expiredLanes|=T),f&=~T}if(n=ae,s=jt,s=_i(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,s===0||e===n&&(Jt===2||Jt===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Jn(l),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Wn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(l!==null&&Jn(l),Xi(s)){case 2:case 8:s=Rr;break;case 32:s=pi;break;case 268435456:s=_t;break;default:s=pi}return l=r_.bind(null,e),s=Ee(s,l),e.callbackPriority=n,e.callbackNode=s,n}return l!==null&&l!==null&&Jn(l),e.callbackPriority=2,e.callbackNode=null,2}function r_(e,n){if(Le!==0&&Le!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(dc()&&e.callbackNode!==s)return null;var l=jt;return l=_i(e,e===ae?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(zy(e,l,n),s_(e,Ke()),e.callbackNode!=null&&e.callbackNode===s?r_.bind(null,e):null)}function a_(e,n){if(dc())return null;zy(e,n,!0)}function sb(){gb(function(){(Yt&6)!==0?Ee(Cr,ib):i_()})}function yd(){if($s===0){var e=ja;e===0&&(e=gi,gi<<=1,(gi&261888)===0&&(gi=256)),$s=e}return $s}function l_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ta(""+e)}function o_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function rb(e,n,s,l,h){if(n==="submit"&&s&&s.stateNode===h){var f=l_((h[qe]||null).action),g=l.submitter;g&&(n=(n=g[qe]||null)?l_(n.formAction):g.getAttribute("formAction"),n!==null&&(f=n,g=null));var T=new Ni("action","action",null,l,h);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if($s!==0){var R=g?o_(h,g):new FormData(h);Uf(s,{pending:!0,data:R,method:h.method,action:f},null,R)}}else typeof f=="function"&&(T.preventDefault(),R=g?o_(h,g):new FormData(h),Uf(s,{pending:!0,data:R,method:h.method,action:f},f,R))},currentTarget:h}]})}}for(var _d=0;_d<Wh.length;_d++){var vd=Wh[_d],ab=vd.toLowerCase(),lb=vd[0].toUpperCase()+vd.slice(1);li(ab,"on"+lb)}li(Pp,"onAnimationEnd"),li(zp,"onAnimationIteration"),li(Bp,"onAnimationStart"),li("dblclick","onDoubleClick"),li("focusin","onFocus"),li("focusout","onBlur"),li(AT,"onTransitionRun"),li(ST,"onTransitionStart"),li(xT,"onTransitionCancel"),li(qp,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),Si("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Si("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Si("onBeforeInput",["compositionend","keypress","textInput","paste"]),Si("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Si("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bo="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ob=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bo));function u_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var l=e[s],h=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var g=l.length-1;0<=g;g--){var T=l[g],R=T.instance,P=T.currentTarget;if(T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(K){Iu(K)}h.currentTarget=null,f=R}else for(g=0;g<l.length;g++){if(T=l[g],R=T.instance,P=T.currentTarget,T=T.listener,R!==f&&h.isPropagationStopped())break t;f=T,h.currentTarget=P;try{f(h)}catch(K){Iu(K)}h.currentTarget=null,f=R}}}}function kt(e,n){var s=n[ga];s===void 0&&(s=n[ga]=new Set);var l=e+"__bubble";s.has(l)||(c_(n,e,2,!1),s.add(l))}function Ed(e,n,s){var l=0;n&&(l|=4),c_(s,e,l,n)}var gc="_reactListening"+Math.random().toString(36).slice(2);function Td(e){if(!e[gc]){e[gc]=!0,Ol.forEach(function(s){s!=="selectionchange"&&(ob.has(s)||Ed(s,!1,e),Ed(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[gc]||(n[gc]=!0,Ed("selectionchange",!1,n))}}function c_(e,n,s,l){switch(P_(n)){case 2:var h=jb;break;case 8:h=Ub;break;default:h=jd}s=h.bind(null,n,s,e),h=void 0,!jr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),l?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function bd(e,n,s,l,h){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var g=l.tag;if(g===3||g===4){var T=l.stateNode.containerInfo;if(T===h)break;if(g===4)for(g=l.return;g!==null;){var R=g.tag;if((R===3||R===4)&&g.stateNode.containerInfo===h)return;g=g.return}for(;T!==null;){if(g=bi(T),g===null)return;if(R=g.tag,R===5||R===6||R===26||R===27){l=f=g;continue t}T=T.parentNode}}l=l.return}Ds(function(){var P=f,K=Ln(s),$=[];t:{var z=Hp.get(e);if(z!==void 0){var F=Ni,ot=e;switch(e){case"keypress":if(Lr(s)===0)break t;case"keydown":case"keyup":F=Cu;break;case"focusin":ot="focus",F=zr;break;case"focusout":ot="blur",F=zr;break;case"beforeblur":case"afterblur":F=zr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Ql;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=_u;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case Pp:case zp:case Bp:F=Eu;break;case qp:F=b;break;case"scroll":case"scrollend":F=Gl;break;case"wheel":F=H;break;case"copy":case"cut":case"paste":F=Tu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ji;break;case"toggle":case"beforetoggle":F=Nt}var Et=(n&4)!==0,se=!Et&&(e==="scroll"||e==="scrollend"),j=Et?z!==null?z+"Capture":null:z;Et=[];for(var O=P,L;O!==null;){var X=O;if(L=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||L===null||j===null||(X=ii(O,j),X!=null&&Et.push(Ao(O,X,L))),se)break;O=O.return}0<Et.length&&(z=new F(z,ot,null,s,K),$.push({event:z,listeners:Et}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",z&&s!==ql&&(ot=s.relatedTarget||s.fromElement)&&(bi(ot)||ot[Ei]))break t;if((F||z)&&(z=K.window===K?K:(z=K.ownerDocument)?z.defaultView||z.parentWindow:window,F?(ot=s.relatedTarget||s.toElement,F=P,ot=ot?bi(ot):null,ot!==null&&(se=c(ot),Et=ot.tag,ot!==se||Et!==5&&Et!==27&&Et!==6)&&(ot=null)):(F=null,ot=P),F!==ot)){if(Et=Ql,X="onMouseLeave",j="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(Et=Ji,X="onPointerLeave",j="onPointerEnter",O="pointer"),se=F==null?z:Sn(F),L=ot==null?z:Sn(ot),z=new Et(X,O+"leave",F,s,K),z.target=se,z.relatedTarget=L,X=null,bi(K)===P&&(Et=new Et(j,O+"enter",ot,s,K),Et.target=L,Et.relatedTarget=se,X=Et),se=X,F&&ot)e:{for(Et=ub,j=F,O=ot,L=0,X=j;X;X=Et(X))L++;X=0;for(var pt=O;pt;pt=Et(pt))X++;for(;0<L-X;)j=Et(j),L--;for(;0<X-L;)O=Et(O),X--;for(;L--;){if(j===O||O!==null&&j===O.alternate){Et=j;break e}j=Et(j),O=Et(O)}Et=null}else Et=null;F!==null&&h_($,z,F,Et,!1),ot!==null&&se!==null&&h_($,se,ot,Et,!0)}}t:{if(z=P?Sn(P):window,F=z.nodeName&&z.nodeName.toLowerCase(),F==="select"||F==="input"&&z.type==="file")var Gt=Rp;else if(wp(z))if(Np)Gt=ET;else{Gt=_T;var ut=yT}else F=z.nodeName,!F||F.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?P&&Ea(P.elementType)&&(Gt=Rp):Gt=vT;if(Gt&&(Gt=Gt(e,P))){Cp($,Gt,s,K);break t}ut&&ut(e,z,P),e==="focusout"&&P&&z.type==="number"&&P.memoizedProps.value!=null&&Pl(z,"number",z.value)}switch(ut=P?Sn(P):window,e){case"focusin":(wp(ut)||ut.contentEditable==="true")&&(Ra=ut,$h=P,Zl=null);break;case"focusout":Zl=$h=Ra=null;break;case"mousedown":Zh=!0;break;case"contextmenu":case"mouseup":case"dragend":Zh=!1,Up($,s,K);break;case"selectionchange":if(bT)break;case"keydown":case"keyup":Up($,s,K)}var Dt;if(Kt)t:{switch(e){case"compositionstart":var Ut="onCompositionStart";break t;case"compositionend":Ut="onCompositionEnd";break t;case"compositionupdate":Ut="onCompositionUpdate";break t}Ut=void 0}else Ca?Br(e,s)&&(Ut="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ut="onCompositionStart");Ut&&(Mi&&s.locale!=="ko"&&(Ca||Ut!=="onCompositionStart"?Ut==="onCompositionEnd"&&Ca&&(Dt=Fl()):(Ri=K,Hl="value"in Ri?Ri.value:Ri.textContent,Ca=!0)),ut=yc(P,Ut),0<ut.length&&(Ut=new Di(Ut,e,null,s,K),$.push({event:Ut,listeners:ut}),Dt?Ut.data=Dt:(Dt=wa(s),Dt!==null&&(Ut.data=Dt)))),(Dt=zn?dT(e,s):mT(e,s))&&(Ut=yc(P,"onBeforeInput"),0<Ut.length&&(ut=new Di("onBeforeInput","beforeinput",null,s,K),$.push({event:ut,listeners:Ut}),ut.data=Dt)),rb($,e,P,s,K)}u_($,n)})}function Ao(e,n,s){return{instance:e,listener:n,currentTarget:s}}function yc(e,n){for(var s=n+"Capture",l=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=ii(e,s),h!=null&&l.unshift(Ao(e,h,f)),h=ii(e,n),h!=null&&l.push(Ao(e,h,f))),e.tag===3)return l;e=e.return}return[]}function ub(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function h_(e,n,s,l,h){for(var f=n._reactName,g=[];s!==null&&s!==l;){var T=s,R=T.alternate,P=T.stateNode;if(T=T.tag,R!==null&&R===l)break;T!==5&&T!==26&&T!==27||P===null||(R=P,h?(P=ii(s,f),P!=null&&g.unshift(Ao(s,P,R))):h||(P=ii(s,f),P!=null&&g.push(Ao(s,P,R)))),s=s.return}g.length!==0&&e.push({event:n,listeners:g})}var cb=/\r\n?/g,hb=/\u0000|\uFFFD/g;function f_(e){return(typeof e=="string"?e:""+e).replace(cb,`
`).replace(hb,"")}function d_(e,n){return n=f_(n),f_(e)===n}function ie(e,n,s,l,h,f){switch(s){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(e,""+l);break;case"className":xn(e,"class",l);break;case"tabIndex":xn(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":xn(e,s,l);break;case"style":Bl(e,l,f);break;case"data":if(n!=="object"){xn(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ta(""+l),e.setAttribute(s,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&ie(e,n,"name",h.name,h,null),ie(e,n,"formEncType",h.formEncType,h,null),ie(e,n,"formMethod",h.formMethod,h,null),ie(e,n,"formTarget",h.formTarget,h,null)):(ie(e,n,"encType",h.encType,h,null),ie(e,n,"method",h.method,h,null),ie(e,n,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(s);break}l=Ta(""+l),e.setAttribute(s,l);break;case"onClick":l!=null&&(e.onclick=ni);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}s=Ta(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""+l):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":l===!0?e.setAttribute(s,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(s,l):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(s,l):e.removeAttribute(s);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(s):e.setAttribute(s,l);break;case"popover":kt("beforetoggle",e),kt("toggle",e),_a(e,"popover",l);break;case"xlinkActuate":De(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":De(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":De(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":De(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":De(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":De(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":De(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":De(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":De(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_a(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=yu.get(s)||s,_a(e,s,l))}}function Ad(e,n,s,l,h,f){switch(s){case"style":Bl(e,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(s=l.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof l=="string"?pn(e,l):(typeof l=="number"||typeof l=="bigint")&&pn(e,""+l);break;case"onScroll":l!=null&&kt("scroll",e);break;case"onScrollEnd":l!=null&&kt("scrollend",e);break;case"onClick":l!=null&&(e.onclick=ni);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Vl.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[qe]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,l,h);break t}s in e?e[s]=l:l===!0?e.setAttribute(s,""):_a(e,s,l)}}}function Je(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kt("error",e),kt("load",e);var l=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var g=s[f];if(g!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,f,g,s,null)}}h&&ie(e,n,"srcSet",s.srcSet,s,null),l&&ie(e,n,"src",s.src,s,null);return;case"input":kt("invalid",e);var T=f=g=h=null,R=null,P=null;for(l in s)if(s.hasOwnProperty(l)){var K=s[l];if(K!=null)switch(l){case"name":h=K;break;case"type":g=K;break;case"checked":R=K;break;case"defaultChecked":P=K;break;case"value":f=K;break;case"defaultValue":T=K;break;case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(a(137,n));break;default:ie(e,n,l,K,s,null)}}mu(e,f,T,R,P,g,h,!1);return;case"select":kt("invalid",e),l=g=f=null;for(h in s)if(s.hasOwnProperty(h)&&(T=s[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":g=T;break;case"multiple":l=T;default:ie(e,n,h,T,s,null)}n=f,s=g,e.multiple=!!l,n!=null?Cs(e,!!l,n,!1):s!=null&&Cs(e,!!l,s,!0);return;case"textarea":kt("invalid",e),f=h=l=null;for(g in s)if(s.hasOwnProperty(g)&&(T=s[g],T!=null))switch(g){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(a(91));break;default:ie(e,n,g,T,s,null)}Rs(e,l,h,f);return;case"option":for(R in s)s.hasOwnProperty(R)&&(l=s[R],l!=null)&&(R==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":ie(e,n,R,l,s,null));return;case"dialog":kt("beforetoggle",e),kt("toggle",e),kt("cancel",e),kt("close",e);break;case"iframe":case"object":kt("load",e);break;case"video":case"audio":for(l=0;l<bo.length;l++)kt(bo[l],e);break;case"image":kt("error",e),kt("load",e);break;case"details":kt("toggle",e);break;case"embed":case"source":case"link":kt("error",e),kt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(P in s)if(s.hasOwnProperty(P)&&(l=s[P],l!=null))switch(P){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:ie(e,n,P,l,s,null)}return;default:if(Ea(n)){for(K in s)s.hasOwnProperty(K)&&(l=s[K],l!==void 0&&Ad(e,n,K,l,s,void 0));return}}for(T in s)s.hasOwnProperty(T)&&(l=s[T],l!=null&&ie(e,n,T,l,s,null))}function fb(e,n,s,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,g=null,T=null,R=null,P=null,K=null;for(F in s){var $=s[F];if(s.hasOwnProperty(F)&&$!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":R=$;default:l.hasOwnProperty(F)||ie(e,n,F,null,l,$)}}for(var z in l){var F=l[z];if($=s[z],l.hasOwnProperty(z)&&(F!=null||$!=null))switch(z){case"type":f=F;break;case"name":h=F;break;case"checked":P=F;break;case"defaultChecked":K=F;break;case"value":g=F;break;case"defaultValue":T=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(a(137,n));break;default:F!==$&&ie(e,n,z,F,l,$)}}va(e,g,T,R,P,K,f,h);return;case"select":F=g=T=z=null;for(f in s)if(R=s[f],s.hasOwnProperty(f)&&R!=null)switch(f){case"value":break;case"multiple":F=R;default:l.hasOwnProperty(f)||ie(e,n,f,null,l,R)}for(h in l)if(f=l[h],R=s[h],l.hasOwnProperty(h)&&(f!=null||R!=null))switch(h){case"value":z=f;break;case"defaultValue":T=f;break;case"multiple":g=f;default:f!==R&&ie(e,n,h,f,l,R)}n=T,s=g,l=F,z!=null?Cs(e,!!s,z,!1):!!l!=!!s&&(n!=null?Cs(e,!!s,n,!0):Cs(e,!!s,s?[]:"",!1));return;case"textarea":F=z=null;for(T in s)if(h=s[T],s.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:ie(e,n,T,null,l,h)}for(g in l)if(h=l[g],f=s[g],l.hasOwnProperty(g)&&(h!=null||f!=null))switch(g){case"value":z=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&ie(e,n,g,h,l,f)}pu(e,z,F);return;case"option":for(var ot in s)z=s[ot],s.hasOwnProperty(ot)&&z!=null&&!l.hasOwnProperty(ot)&&(ot==="selected"?e.selected=!1:ie(e,n,ot,null,l,z));for(R in l)z=l[R],F=s[R],l.hasOwnProperty(R)&&z!==F&&(z!=null||F!=null)&&(R==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":ie(e,n,R,z,l,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in s)z=s[Et],s.hasOwnProperty(Et)&&z!=null&&!l.hasOwnProperty(Et)&&ie(e,n,Et,null,l,z);for(P in l)if(z=l[P],F=s[P],l.hasOwnProperty(P)&&z!==F&&(z!=null||F!=null))switch(P){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(a(137,n));break;default:ie(e,n,P,z,l,F)}return;default:if(Ea(n)){for(var se in s)z=s[se],s.hasOwnProperty(se)&&z!==void 0&&!l.hasOwnProperty(se)&&Ad(e,n,se,void 0,l,z);for(K in l)z=l[K],F=s[K],!l.hasOwnProperty(K)||z===F||z===void 0&&F===void 0||Ad(e,n,K,z,l,F);return}}for(var j in s)z=s[j],s.hasOwnProperty(j)&&z!=null&&!l.hasOwnProperty(j)&&ie(e,n,j,null,l,z);for($ in l)z=l[$],F=s[$],!l.hasOwnProperty($)||z===F||z==null&&F==null||ie(e,n,$,z,l,F)}function m_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function db(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),l=0;l<s.length;l++){var h=s[l],f=h.transferSize,g=h.initiatorType,T=h.duration;if(f&&T&&m_(g)){for(g=0,T=h.responseEnd,l+=1;l<s.length;l++){var R=s[l],P=R.startTime;if(P>T)break;var K=R.transferSize,$=R.initiatorType;K&&m_($)&&(R=R.responseEnd,g+=K*(R<T?1:(T-P)/(R-P)))}if(--l,n+=8*(f+g)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Sd=null,xd=null;function _c(e){return e.nodeType===9?e:e.ownerDocument}function p_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function wd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Cd=null;function mb(){var e=window.event;return e&&e.type==="popstate"?e===Cd?!1:(Cd=e,!0):(Cd=null,!1)}var y_=typeof setTimeout=="function"?setTimeout:void 0,pb=typeof clearTimeout=="function"?clearTimeout:void 0,__=typeof Promise=="function"?Promise:void 0,gb=typeof queueMicrotask=="function"?queueMicrotask:typeof __<"u"?function(e){return __.resolve(null).then(e).catch(yb)}:y_;function yb(e){setTimeout(function(){throw e})}function Zs(e){return e==="head"}function v_(e,n){var s=n,l=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(l===0){e.removeChild(h),el(n);return}l--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")l++;else if(s==="html")So(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,So(s);for(var f=s.firstChild;f;){var g=f.nextSibling,T=f.nodeName;f[Ti]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=g}}else s==="body"&&So(e.ownerDocument.body);s=h}while(s);el(n)}function E_(e,n){var s=e;e=0;do{var l=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),l&&l.nodeType===8)if(s=l.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=l}while(s)}function Rd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Rd(s),ya(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function _b(e,n,s,l){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Ti])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Kn(e.nextSibling),e===null)break}return null}function vb(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Kn(e.nextSibling),e===null))return null;return e}function T_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Kn(e.nextSibling),e===null))return null;return e}function Nd(e){return e.data==="$?"||e.data==="$~"}function Id(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Eb(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var l=function(){n(),s.removeEventListener("DOMContentLoaded",l)};s.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function Kn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Dd=null;function b_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Kn(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function A_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function S_(e,n,s){switch(n=_c(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function So(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ya(e)}var Yn=new Map,x_=new Set;function vc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ds=W.d;W.d={f:Tb,r:bb,D:Ab,C:Sb,L:xb,m:wb,X:Rb,S:Cb,M:Nb};function Tb(){var e=ds.f(),n=cc();return e||n}function bb(e){var n=Un(e);n!==null&&n.tag===5&&n.type==="form"?qg(n):ds.r(e)}var Ja=typeof document>"u"?null:document;function w_(e,n,s){var l=Ja;if(l&&typeof n=="string"&&n){var h=mn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),x_.has(h)||(x_.add(h),e={rel:e,crossOrigin:s,href:n},l.querySelector(h)===null&&(n=l.createElement("link"),Je(n,"link",e),Ie(n),l.head.appendChild(n)))}}function Ab(e){ds.D(e),w_("dns-prefetch",e,null)}function Sb(e,n){ds.C(e,n),w_("preconnect",e,n)}function xb(e,n,s){ds.L(e,n,s);var l=Ja;if(l&&e&&n){var h='link[rel="preload"][as="'+mn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+mn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+mn(s.imageSizes)+'"]')):h+='[href="'+mn(e)+'"]';var f=h;switch(n){case"style":f=Wa(e);break;case"script":f=tl(e)}Yn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Yn.set(f,e),l.querySelector(h)!==null||n==="style"&&l.querySelector(xo(f))||n==="script"&&l.querySelector(wo(f))||(n=l.createElement("link"),Je(n,"link",e),Ie(n),l.head.appendChild(n)))}}function wb(e,n){ds.m(e,n);var s=Ja;if(s&&e){var l=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(e)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=tl(e)}if(!Yn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Yn.set(f,e),s.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(wo(f)))return}l=s.createElement("link"),Je(l,"link",e),Ie(l),s.head.appendChild(l)}}}function Cb(e,n,s){ds.S(e,n,s);var l=Ja;if(l&&e){var h=Ai(l).hoistableStyles,f=Wa(e);n=n||"default";var g=h.get(f);if(!g){var T={loading:0,preload:null};if(g=l.querySelector(xo(f)))T.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Yn.get(f))&&Md(e,s);var R=g=l.createElement("link");Ie(R),Je(R,"link",e),R._p=new Promise(function(P,K){R.onload=P,R.onerror=K}),R.addEventListener("load",function(){T.loading|=1}),R.addEventListener("error",function(){T.loading|=2}),T.loading|=4,Ec(g,n,l)}g={type:"stylesheet",instance:g,count:1,state:T},h.set(f,g)}}}function Rb(e,n){ds.X(e,n);var s=Ja;if(s&&e){var l=Ai(s).hoistableScripts,h=tl(e),f=l.get(h);f||(f=s.querySelector(wo(h)),f||(e=S({src:e,async:!0},n),(n=Yn.get(h))&&Od(e,n),f=s.createElement("script"),Ie(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Nb(e,n){ds.M(e,n);var s=Ja;if(s&&e){var l=Ai(s).hoistableScripts,h=tl(e),f=l.get(h);f||(f=s.querySelector(wo(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Yn.get(h))&&Od(e,n),f=s.createElement("script"),Ie(f),Je(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function C_(e,n,s,l){var h=(h=mt.current)?vc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=Wa(s.href),s=Ai(h).hoistableStyles,l=s.get(n),l||(l={type:"style",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=Wa(s.href);var f=Ai(h).hoistableStyles,g=f.get(e);if(g||(h=h.ownerDocument||h,g={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,g),(f=h.querySelector(xo(e)))&&!f._p&&(g.instance=f,g.state.loading=5),Yn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Yn.set(e,s),f||Ib(h,e,s,g.state))),n&&l===null)throw Error(a(528,""));return g}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=tl(s),s=Ai(h).hoistableScripts,l=s.get(n),l||(l={type:"script",instance:null,count:0,state:null},s.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function Wa(e){return'href="'+mn(e)+'"'}function xo(e){return'link[rel="stylesheet"]['+e+"]"}function R_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function Ib(e,n,s,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),Je(n,"link",s),Ie(n),e.head.appendChild(n))}function tl(e){return'[src="'+mn(e)+'"]'}function wo(e){return"script[async]"+e}function N_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+mn(s.href)+'"]');if(l)return n.instance=l,Ie(l),l;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),Ie(l),Je(l,"style",h),Ec(l,s.precedence,e),n.instance=l;case"stylesheet":h=Wa(s.href);var f=e.querySelector(xo(h));if(f)return n.state.loading|=4,n.instance=f,Ie(f),f;l=R_(s),(h=Yn.get(h))&&Md(l,h),f=(e.ownerDocument||e).createElement("link"),Ie(f);var g=f;return g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Je(f,"link",l),n.state.loading|=4,Ec(f,s.precedence,e),n.instance=f;case"script":return f=tl(s.src),(h=e.querySelector(wo(f)))?(n.instance=h,Ie(h),h):(l=s,(h=Yn.get(f))&&(l=S({},s),Od(l,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ie(h),Je(h,"link",l),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Ec(l,s.precedence,e));return n.instance}function Ec(e,n,s){for(var l=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,g=0;g<l.length;g++){var T=l[g];if(T.dataset.precedence===n)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Md(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Od(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Tc=null;function I_(e,n,s){if(Tc===null){var l=new Map,h=Tc=new Map;h.set(s,l)}else h=Tc,l=h.get(s),l||(l=new Map,h.set(s,l));if(l.has(e))return l;for(l.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[Ti]||f[Ne]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var g=f.getAttribute(n)||"";g=e+g;var T=l.get(g);T?T.push(f):l.set(g,[f])}}return l}function D_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function Db(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function M_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Mb(e,n,s,l){if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=Wa(l.href),f=n.querySelector(xo(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=bc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ie(f);return}f=n.ownerDocument||n,l=R_(l),(h=Yn.get(h))&&Md(l,h),f=f.createElement("link"),Ie(f);var g=f;g._p=new Promise(function(T,R){g.onload=T,g.onerror=R}),Je(f,"link",l),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=bc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var Vd=0;function Ob(e,n){return e.stylesheets&&e.count===0&&Sc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var l=setTimeout(function(){if(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Vd===0&&(Vd=62500*db());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Sc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Vd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(h)}}:null}function bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Sc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Ac=null;function Sc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Ac=new Map,n.forEach(Vb,e),Ac=null,bc.call(e))}function Vb(e,n){if(!(n.state.loading&4)){var s=Ac.get(e);if(s)var l=s.get(null);else{s=new Map,Ac.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var g=h[f];(g.nodeName==="LINK"||g.getAttribute("media")!=="not all")&&(s.set(g.dataset.precedence,g),l=g)}l&&s.set(null,l)}h=n.instance,g=h.getAttribute("data-precedence"),f=s.get(g)||l,f===l&&s.set(null,h),s.set(g,h),this.count++,l=bc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var Co={$$typeof:ht,Provider:null,Consumer:null,_currentValue:rt,_currentValue2:rt,_threadCount:0};function kb(e,n,s,l,h,f,g,T,R){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=g,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=R,this.incompleteTransitions=new Map}function O_(e,n,s,l,h,f,g,T,R,P,K,$){return e=new kb(e,n,s,g,R,P,K,$,T),n=1,f===!0&&(n|=24),f=Cn(3,null,null,n),e.current=f,f.stateNode=e,n=df(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:s,cache:n},yf(f),e}function V_(e){return e?(e=Da,e):Da}function k_(e,n,s,l,h,f){h=V_(h),l.context===null?l.context=h:l.pendingContext=h,l=zs(n),l.payload={element:s},f=f===void 0?null:f,f!==null&&(l.callback=f),s=Bs(e,l,n),s!==null&&(En(s,e,n),so(s,e,n))}function j_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function kd(e,n){j_(e,n),(e=e.alternate)&&j_(e,n)}function U_(e){if(e.tag===13||e.tag===31){var n=Fr(e,67108864);n!==null&&En(n,e,67108864),kd(e,67108864)}}function L_(e){if(e.tag===13||e.tag===31){var n=Mn();n=Mr(n);var s=Fr(e,n);s!==null&&En(s,e,n),kd(e,n)}}var xc=!0;function jb(e,n,s,l){var h=q.T;q.T=null;var f=W.p;try{W.p=2,jd(e,n,s,l)}finally{W.p=f,q.T=h}}function Ub(e,n,s,l){var h=q.T;q.T=null;var f=W.p;try{W.p=8,jd(e,n,s,l)}finally{W.p=f,q.T=h}}function jd(e,n,s,l){if(xc){var h=Ud(l);if(h===null)bd(e,n,l,wc,s),z_(e,l);else if(Pb(h,e,n,s,l))l.stopPropagation();else if(z_(e,l),n&4&&-1<Lb.indexOf(e)){for(;h!==null;){var f=Un(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var g=yi(f.pendingLanes);if(g!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;g;){var R=1<<31-be(g);T.entanglements[1]|=R,g&=~R}ji(f),(Yt&6)===0&&(oc=Ke()+500,To(0))}}break;case 31:case 13:T=Fr(f,2),T!==null&&En(T,f,2),cc(),kd(f,2)}if(f=Ud(l),f===null&&bd(e,n,l,wc,s),f===h)break;h=f}h!==null&&l.stopPropagation()}else bd(e,n,l,null,s)}}function Ud(e){return e=Ln(e),Ld(e)}var wc=null;function Ld(e){if(wc=null,e=bi(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=p(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return wc=e,null}function P_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yi()){case Cr:return 2;case Rr:return 8;case pi:case B:return 32;case _t:return 268435456;default:return 32}default:return 32}}var Pd=!1,Js=null,Ws=null,tr=null,Ro=new Map,No=new Map,er=[],Lb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(e,n){switch(e){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":tr=null;break;case"pointerover":case"pointerout":Ro.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":No.delete(n.pointerId)}}function Io(e,n,s,l,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Un(n),n!==null&&U_(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function Pb(e,n,s,l,h){switch(n){case"focusin":return Js=Io(Js,e,n,s,l,h),!0;case"dragenter":return Ws=Io(Ws,e,n,s,l,h),!0;case"mouseover":return tr=Io(tr,e,n,s,l,h),!0;case"pointerover":var f=h.pointerId;return Ro.set(f,Io(Ro.get(f)||null,e,n,s,l,h)),!0;case"gotpointercapture":return f=h.pointerId,No.set(f,Io(No.get(f)||null,e,n,s,l,h)),!0}return!1}function B_(e){var n=bi(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,ti(e.priority,function(){L_(s)});return}}else if(n===31){if(n=p(s),n!==null){e.blockedOn=n,ti(e.priority,function(){L_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Cc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Ud(e.nativeEvent);if(s===null){s=e.nativeEvent;var l=new s.constructor(s.type,s);ql=l,s.target.dispatchEvent(l),ql=null}else return n=Un(s),n!==null&&U_(n),e.blockedOn=s,!1;n.shift()}return!0}function q_(e,n,s){Cc(e)&&s.delete(n)}function zb(){Pd=!1,Js!==null&&Cc(Js)&&(Js=null),Ws!==null&&Cc(Ws)&&(Ws=null),tr!==null&&Cc(tr)&&(tr=null),Ro.forEach(q_),No.forEach(q_)}function Rc(e,n){e.blockedOn===n&&(e.blockedOn=null,Pd||(Pd=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,zb)))}var Nc=null;function H_(e){Nc!==e&&(Nc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Nc===e&&(Nc=null);for(var n=0;n<e.length;n+=3){var s=e[n],l=e[n+1],h=e[n+2];if(typeof l!="function"){if(Ld(l||s)===null)continue;break}var f=Un(s);f!==null&&(e.splice(n,3),n-=3,Uf(f,{pending:!0,data:h,method:s.method,action:l},l,h))}}))}function el(e){function n(R){return Rc(R,e)}Js!==null&&Rc(Js,e),Ws!==null&&Rc(Ws,e),tr!==null&&Rc(tr,e),Ro.forEach(n),No.forEach(n);for(var s=0;s<er.length;s++){var l=er[s];l.blockedOn===e&&(l.blockedOn=null)}for(;0<er.length&&(s=er[0],s.blockedOn===null);)B_(s),s.blockedOn===null&&er.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(l=0;l<s.length;l+=3){var h=s[l],f=s[l+1],g=h[qe]||null;if(typeof f=="function")g||H_(s);else if(g){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,g=f[qe]||null)T=g.formAction;else if(Ld(h)!==null)continue}else T=g.action;typeof T=="function"?s[l+1]=T:(s.splice(l,3),l-=3),H_(s)}}}function F_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(g){return h=g})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),l||setTimeout(s,20)}function s(){if(!l&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function zd(e){this._internalRoot=e}Ic.prototype.render=zd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,l=Mn();k_(s,l,e,n,null,null)},Ic.prototype.unmount=zd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;k_(e.current,2,null,e,null,null),cc(),n[Ei]=null}};function Ic(e){this._internalRoot=e}Ic.prototype.unstable_scheduleHydration=function(e){if(e){var n=cu();e={blockedOn:null,target:e,priority:n};for(var s=0;s<er.length&&n!==0&&n<er[s].priority;s++);er.splice(s,0,e),s===0&&B_(e)}};var G_=t.version;if(G_!=="19.2.3")throw Error(a(527,G_,"19.2.3"));W.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=_(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var Bb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{Te=Dc.inject(Bb),Be=Dc}catch{}}return Mo.createRoot=function(e,n){if(!o(e))throw Error(a(299));var s=!1,l="",h=Jg,f=Wg,g=ty;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(g=n.onRecoverableError)),n=O_(e,1,!1,null,null,s,l,null,h,f,g,F_),e[Ei]=n.current,Td(e),new zd(n)},Mo.hydrateRoot=function(e,n,s){if(!o(e))throw Error(a(299));var l=!1,h="",f=Jg,g=Wg,T=ty,R=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(T=s.onRecoverableError),s.formState!==void 0&&(R=s.formState)),n=O_(e,1,!0,n,s??null,l,h,R,f,g,T,F_),n.context=V_(null),s=n.current,l=Mn(),l=Mr(l),h=zs(l),h.callback=null,Bs(s,h,l),s=l,n.current.lanes=s,Ir(n,s),ji(n),e[Ei]=n.current,Td(e),new Ic(n)},Mo.version="19.2.3",Mo}var e0;function Zb(){if(e0)return Hd.exports;e0=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Hd.exports=$b(),Hd.exports}var Jb=Zb();const Wb=()=>{};var n0={};const Vv=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let o=r.charCodeAt(a);o<128?t[i++]=o:o<2048?(t[i++]=o>>6|192,t[i++]=o&63|128):(o&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=o>>18|240,t[i++]=o>>12&63|128,t[i++]=o>>6&63|128,t[i++]=o&63|128):(t[i++]=o>>12|224,t[i++]=o>>6&63|128,t[i++]=o&63|128)}return t},tA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const o=r[i++];if(o<128)t[a++]=String.fromCharCode(o);else if(o>191&&o<224){const c=r[i++];t[a++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=r[i++],d=r[i++],p=r[i++],y=((o&7)<<18|(c&63)<<12|(d&63)<<6|p&63)-65536;t[a++]=String.fromCharCode(55296+(y>>10)),t[a++]=String.fromCharCode(56320+(y&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return t.join("")},kv={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let o=0;o<r.length;o+=3){const c=r[o],d=o+1<r.length,p=d?r[o+1]:0,y=o+2<r.length,_=y?r[o+2]:0,A=c>>2,S=(c&3)<<4|p>>4;let M=(p&15)<<2|_>>6,G=_&63;y||(G=64,d||(M=64)),a.push(i[A],i[S],i[M],i[G])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(Vv(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):tA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let o=0;o<r.length;){const c=i[r.charAt(o++)],p=o<r.length?i[r.charAt(o)]:0;++o;const _=o<r.length?i[r.charAt(o)]:64;++o;const S=o<r.length?i[r.charAt(o)]:64;if(++o,c==null||p==null||_==null||S==null)throw new eA;const M=c<<2|p>>4;if(a.push(M),_!==64){const G=p<<4&240|_>>2;if(a.push(G),S!==64){const tt=_<<6&192|S;a.push(tt)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class eA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const nA=function(r){const t=Vv(r);return kv.encodeByteArray(t,!0)},Wc=function(r){return nA(r).replace(/\./g,"")},jv=function(r){try{return kv.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function iA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const sA=()=>iA().__FIREBASE_DEFAULTS__,rA=()=>{if(typeof process>"u"||typeof n0>"u")return;const r=n0.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},aA=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&jv(r[1]);return t&&JSON.parse(t)},Th=()=>{try{return Wb()||sA()||rA()||aA()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},Uv=r=>Th()?.emulatorHosts?.[r],lA=r=>{const t=Uv(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},Lv=()=>Th()?.config,Pv=r=>Th()?.[`_${r}`];class oA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function Tl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function zv(r){return(await fetch(r,{credentials:"include"})).ok}function uA(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",o=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Wc(JSON.stringify(i)),Wc(JSON.stringify(d)),""].join(".")}const Lo={};function cA(){const r={prod:[],emulator:[]};for(const t of Object.keys(Lo))Lo[t]?r.emulator.push(t):r.prod.push(t);return r}function hA(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let i0=!1;function Bv(r,t){if(typeof window>"u"||typeof document>"u"||!Tl(window.location.host)||Lo[r]===t||Lo[r]||i0)return;Lo[r]=t;function i(M){return`__firebase__banner__${M}`}const a="__firebase__banner",c=cA().prod.length>0;function d(){const M=document.getElementById(a);M&&M.remove()}function p(M){M.style.display="flex",M.style.background="#7faaf0",M.style.position="fixed",M.style.bottom="5px",M.style.left="5px",M.style.padding=".5em",M.style.borderRadius="5px",M.style.alignItems="center"}function y(M,G){M.setAttribute("width","24"),M.setAttribute("id",G),M.setAttribute("height","24"),M.setAttribute("viewBox","0 0 24 24"),M.setAttribute("fill","none"),M.style.marginLeft="-6px"}function _(){const M=document.createElement("span");return M.style.cursor="pointer",M.style.marginLeft="16px",M.style.fontSize="24px",M.innerHTML=" &times;",M.onclick=()=>{i0=!0,d()},M}function A(M,G){M.setAttribute("id",G),M.innerText="Learn more",M.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",M.setAttribute("target","__blank"),M.style.paddingLeft="5px",M.style.textDecoration="underline"}function S(){const M=hA(a),G=i("text"),tt=document.getElementById(G)||document.createElement("span"),it=i("learnmore"),Q=document.getElementById(it)||document.createElement("a"),at=i("preprendIcon"),dt=document.getElementById(at)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(M.created){const ht=M.element;p(ht),A(Q,it);const Rt=_();y(dt,at),ht.append(dt,tt,Q,Rt),document.body.appendChild(ht)}c?(tt.innerText="Preview backend disconnected.",dt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(dt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,tt.innerText="Preview backend running in this workspace."),tt.setAttribute("id",G)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function ln(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ln())}function dA(){const r=Th()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function mA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pA(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function gA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yA(){const r=ln();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function _A(){return!dA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vA(){try{return typeof indexedDB=="object"}catch{return!1}}function EA(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(a);o.onsuccess=()=>{o.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},o.onupgradeneeded=()=>{i=!1},o.onerror=()=>{t(o.error?.message||"")}}catch(i){t(i)}})}const TA="FirebaseError";class As extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=TA,Object.setPrototypeOf(this,As.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}}class Zo{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},o=`${this.service}/${t}`,c=this.errors[t],d=c?bA(c,a):"Error",p=`${this.serviceName}: ${d} (${o}).`;return new As(o,p,a)}}function bA(r,t){return r.replace(AA,(i,a)=>{const o=t[a];return o!=null?String(o):`<${a}?>`})}const AA=/\{\$([^}]+)}/g;function SA(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ys(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const o of i){if(!a.includes(o))return!1;const c=r[o],d=t[o];if(s0(c)&&s0(d)){if(!ys(c,d))return!1}else if(c!==d)return!1}for(const o of a)if(!i.includes(o))return!1;return!0}function s0(r){return r!==null&&typeof r=="object"}function Jo(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(o=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(o))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function xA(r,t){const i=new wA(r,t);return i.subscribe.bind(i)}class wA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let o;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");CA(t,["next","error","complete"])?o=t:o={next:t,error:i,complete:a},o.next===void 0&&(o.next=Kd),o.error===void 0&&(o.error=Kd),o.complete===void 0&&(o.complete=Kd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function CA(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Kd(){}function on(r){return r&&r._delegate?r._delegate:r}class la{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const ia="[DEFAULT]";class RA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new oA;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:i});o&&a.resolve(o)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(a)return null;throw o}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(IA(t))try{this.getOrInitializeService({instanceIdentifier:ia})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:o});a.resolve(c)}catch{}}}}clearInstance(t=ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ia){return this.instances.has(t)}getOptions(t=ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const p=this.normalizeInstanceIdentifier(c);a===p&&d.resolve(o)}return o}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),o=this.onInitCallbacks.get(a)??new Set;o.add(t),this.onInitCallbacks.set(a,o);const c=this.instances.get(a);return c&&t(c,a),()=>{o.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const o of a)try{o(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:NA(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=ia){return this.component?this.component.multipleInstances?t:ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function NA(r){return r===ia?void 0:r}function IA(r){return r.instantiationMode==="EAGER"}class DA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new RA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Lt||(Lt={}));const MA={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},OA=Lt.INFO,VA={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},kA=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),o=VA[t];if(o)console[o](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class km{constructor(t){this.name=t,this._logLevel=OA,this._logHandler=kA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const jA=(r,t)=>t.some(i=>r instanceof i);let r0,a0;function UA(){return r0||(r0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function LA(){return a0||(a0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qv=new WeakMap,am=new WeakMap,Hv=new WeakMap,Yd=new WeakMap,jm=new WeakMap;function PA(r){const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(ur(r.result)),o()},d=()=>{a(r.error),o()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&qv.set(i,r)}).catch(()=>{}),jm.set(t,r),t}function zA(r){if(am.has(r))return;const t=new Promise((i,a)=>{const o=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),o()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});am.set(r,t)}let lm={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return am.get(r);if(t==="objectStoreNames")return r.objectStoreNames||Hv.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function BA(r){lm=r(lm)}function qA(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Xd(this),t,...i);return Hv.set(a,t.sort?t.sort():[t]),ur(a)}:LA().includes(r)?function(...t){return r.apply(Xd(this),t),ur(qv.get(this))}:function(...t){return ur(r.apply(Xd(this),t))}}function HA(r){return typeof r=="function"?qA(r):(r instanceof IDBTransaction&&zA(r),jA(r,UA())?new Proxy(r,lm):r)}function ur(r){if(r instanceof IDBRequest)return PA(r);if(Yd.has(r))return Yd.get(r);const t=HA(r);return t!==r&&(Yd.set(r,t),jm.set(t,r)),t}const Xd=r=>jm.get(r);function FA(r,t,{blocked:i,upgrade:a,blocking:o,terminated:c}={}){const d=indexedDB.open(r,t),p=ur(d);return a&&d.addEventListener("upgradeneeded",y=>{a(ur(d.result),y.oldVersion,y.newVersion,ur(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),p.then(y=>{c&&y.addEventListener("close",()=>c()),o&&y.addEventListener("versionchange",_=>o(_.oldVersion,_.newVersion,_))}).catch(()=>{}),p}const GA=["get","getKey","getAll","getAllKeys","count"],QA=["put","add","delete","clear"],$d=new Map;function l0(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if($d.get(t))return $d.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,o=QA.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(o||GA.includes(i)))return;const c=async function(d,...p){const y=this.transaction(d,o?"readwrite":"readonly");let _=y.store;return a&&(_=_.index(p.shift())),(await Promise.all([_[i](...p),o&&y.done]))[0]};return $d.set(t,c),c}BA(r=>({...r,get:(t,i,a)=>l0(t,i)||r.get(t,i,a),has:(t,i)=>!!l0(t,i)||r.has(t,i)}));class KA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(YA(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function YA(r){return r.getComponent()?.type==="VERSION"}const om="@firebase/app",o0="0.14.6";const _s=new km("@firebase/app"),XA="@firebase/app-compat",$A="@firebase/analytics-compat",ZA="@firebase/analytics",JA="@firebase/app-check-compat",WA="@firebase/app-check",tS="@firebase/auth",eS="@firebase/auth-compat",nS="@firebase/database",iS="@firebase/data-connect",sS="@firebase/database-compat",rS="@firebase/functions",aS="@firebase/functions-compat",lS="@firebase/installations",oS="@firebase/installations-compat",uS="@firebase/messaging",cS="@firebase/messaging-compat",hS="@firebase/performance",fS="@firebase/performance-compat",dS="@firebase/remote-config",mS="@firebase/remote-config-compat",pS="@firebase/storage",gS="@firebase/storage-compat",yS="@firebase/firestore",_S="@firebase/ai",vS="@firebase/firestore-compat",ES="firebase",TS="12.6.0";const um="[DEFAULT]",bS={[om]:"fire-core",[XA]:"fire-core-compat",[ZA]:"fire-analytics",[$A]:"fire-analytics-compat",[WA]:"fire-app-check",[JA]:"fire-app-check-compat",[tS]:"fire-auth",[eS]:"fire-auth-compat",[nS]:"fire-rtdb",[iS]:"fire-data-connect",[sS]:"fire-rtdb-compat",[rS]:"fire-fn",[aS]:"fire-fn-compat",[lS]:"fire-iid",[oS]:"fire-iid-compat",[uS]:"fire-fcm",[cS]:"fire-fcm-compat",[hS]:"fire-perf",[fS]:"fire-perf-compat",[dS]:"fire-rc",[mS]:"fire-rc-compat",[pS]:"fire-gcs",[gS]:"fire-gcs-compat",[yS]:"fire-fst",[vS]:"fire-fst-compat",[_S]:"fire-vertex","fire-js":"fire-js",[ES]:"fire-js-all"};const th=new Map,AS=new Map,cm=new Map;function u0(r,t){try{r.container.addComponent(t)}catch(i){_s.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function fl(r){const t=r.name;if(cm.has(t))return _s.debug(`There were multiple attempts to register component ${t}.`),!1;cm.set(t,r);for(const i of th.values())u0(i,r);for(const i of AS.values())u0(i,r);return!0}function Um(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function hi(r){return r==null?!1:r.settings!==void 0}const SS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},cr=new Zo("app","Firebase",SS);class xS{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw cr.create("app-deleted",{appName:this._name})}}const bl=TS;function Fv(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:um,automaticDataCollectionEnabled:!0,...t},o=a.name;if(typeof o!="string"||!o)throw cr.create("bad-app-name",{appName:String(o)});if(i||(i=Lv()),!i)throw cr.create("no-options");const c=th.get(o);if(c){if(ys(i,c.options)&&ys(a,c.config))return c;throw cr.create("duplicate-app",{appName:o})}const d=new DA(o);for(const y of cm.values())d.addComponent(y);const p=new xS(i,a,d);return th.set(o,p),p}function Gv(r=um){const t=th.get(r);if(!t&&r===um&&Lv())return Fv();if(!t)throw cr.create("no-app",{appName:r});return t}function hr(r,t,i){let a=bS[r]??r;i&&(a+=`-${i}`);const o=a.match(/\s|\//),c=t.match(/\s|\//);if(o||c){const d=[`Unable to register library "${a}" with version "${t}":`];o&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),o&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),_s.warn(d.join(" "));return}fl(new la(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const wS="firebase-heartbeat-database",CS=1,Fo="firebase-heartbeat-store";let Zd=null;function Qv(){return Zd||(Zd=FA(wS,CS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Fo)}catch(i){console.warn(i)}}}}).catch(r=>{throw cr.create("idb-open",{originalErrorMessage:r.message})})),Zd}async function RS(r){try{const i=(await Qv()).transaction(Fo),a=await i.objectStore(Fo).get(Kv(r));return await i.done,a}catch(t){if(t instanceof As)_s.warn(t.message);else{const i=cr.create("idb-get",{originalErrorMessage:t?.message});_s.warn(i.message)}}}async function c0(r,t){try{const a=(await Qv()).transaction(Fo,"readwrite");await a.objectStore(Fo).put(t,Kv(r)),await a.done}catch(i){if(i instanceof As)_s.warn(i.message);else{const a=cr.create("idb-set",{originalErrorMessage:i?.message});_s.warn(a.message)}}}function Kv(r){return`${r.name}!${r.options.appId}`}const NS=1024,IS=30;class DS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new OS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=h0();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(o=>o.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>IS){const o=VS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){_s.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=h0(),{heartbeatsToSend:i,unsentEntries:a}=MS(this._heartbeatsCache.heartbeats),o=Wc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return _s.warn(t),""}}}function h0(){return new Date().toISOString().substring(0,10)}function MS(r,t=NS){const i=[];let a=r.slice();for(const o of r){const c=i.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),f0(i)>t){c.dates.pop();break}}else if(i.push({agent:o.agent,dates:[o.date]}),f0(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class OS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vA()?EA().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await RS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return c0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return c0(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function f0(r){return Wc(JSON.stringify({version:2,heartbeats:r})).length}function VS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function kS(r){fl(new la("platform-logger",t=>new KA(t),"PRIVATE")),fl(new la("heartbeat",t=>new DS(t),"PRIVATE")),hr(om,o0,r),hr(om,o0,"esm2020"),hr("fire-js","")}kS("");var jS="firebase",US="12.7.0";hr(jS,US,"app");var d0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fr,Yv;(function(){var r;function t(I,x){function C(){}C.prototype=x.prototype,I.F=x.prototype,I.prototype=new C,I.prototype.constructor=I,I.D=function(V,N,k){for(var w=Array(arguments.length-2),Ft=2;Ft<arguments.length;Ft++)w[Ft-2]=arguments[Ft];return x.prototype[N].apply(V,w)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(I,x,C){C||(C=0);const V=Array(16);if(typeof x=="string")for(var N=0;N<16;++N)V[N]=x.charCodeAt(C++)|x.charCodeAt(C++)<<8|x.charCodeAt(C++)<<16|x.charCodeAt(C++)<<24;else for(N=0;N<16;++N)V[N]=x[C++]|x[C++]<<8|x[C++]<<16|x[C++]<<24;x=I.g[0],C=I.g[1],N=I.g[2];let k=I.g[3],w;w=x+(k^C&(N^k))+V[0]+3614090360&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(N^x&(C^N))+V[1]+3905402710&4294967295,k=x+(w<<12&4294967295|w>>>20),w=N+(C^k&(x^C))+V[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(x^N&(k^x))+V[3]+3250441966&4294967295,C=N+(w<<22&4294967295|w>>>10),w=x+(k^C&(N^k))+V[4]+4118548399&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(N^x&(C^N))+V[5]+1200080426&4294967295,k=x+(w<<12&4294967295|w>>>20),w=N+(C^k&(x^C))+V[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(x^N&(k^x))+V[7]+4249261313&4294967295,C=N+(w<<22&4294967295|w>>>10),w=x+(k^C&(N^k))+V[8]+1770035416&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(N^x&(C^N))+V[9]+2336552879&4294967295,k=x+(w<<12&4294967295|w>>>20),w=N+(C^k&(x^C))+V[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(x^N&(k^x))+V[11]+2304563134&4294967295,C=N+(w<<22&4294967295|w>>>10),w=x+(k^C&(N^k))+V[12]+1804603682&4294967295,x=C+(w<<7&4294967295|w>>>25),w=k+(N^x&(C^N))+V[13]+4254626195&4294967295,k=x+(w<<12&4294967295|w>>>20),w=N+(C^k&(x^C))+V[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=C+(x^N&(k^x))+V[15]+1236535329&4294967295,C=N+(w<<22&4294967295|w>>>10),w=x+(N^k&(C^N))+V[1]+4129170786&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(x^C))+V[6]+3225465664&4294967295,k=x+(w<<9&4294967295|w>>>23),w=N+(x^C&(k^x))+V[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(N^k))+V[0]+3921069994&4294967295,C=N+(w<<20&4294967295|w>>>12),w=x+(N^k&(C^N))+V[5]+3593408605&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(x^C))+V[10]+38016083&4294967295,k=x+(w<<9&4294967295|w>>>23),w=N+(x^C&(k^x))+V[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(N^k))+V[4]+3889429448&4294967295,C=N+(w<<20&4294967295|w>>>12),w=x+(N^k&(C^N))+V[9]+568446438&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(x^C))+V[14]+3275163606&4294967295,k=x+(w<<9&4294967295|w>>>23),w=N+(x^C&(k^x))+V[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(N^k))+V[8]+1163531501&4294967295,C=N+(w<<20&4294967295|w>>>12),w=x+(N^k&(C^N))+V[13]+2850285829&4294967295,x=C+(w<<5&4294967295|w>>>27),w=k+(C^N&(x^C))+V[2]+4243563512&4294967295,k=x+(w<<9&4294967295|w>>>23),w=N+(x^C&(k^x))+V[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=C+(k^x&(N^k))+V[12]+2368359562&4294967295,C=N+(w<<20&4294967295|w>>>12),w=x+(C^N^k)+V[5]+4294588738&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^N)+V[8]+2272392833&4294967295,k=x+(w<<11&4294967295|w>>>21),w=N+(k^x^C)+V[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^x)+V[14]+4259657740&4294967295,C=N+(w<<23&4294967295|w>>>9),w=x+(C^N^k)+V[1]+2763975236&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^N)+V[4]+1272893353&4294967295,k=x+(w<<11&4294967295|w>>>21),w=N+(k^x^C)+V[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^x)+V[10]+3200236656&4294967295,C=N+(w<<23&4294967295|w>>>9),w=x+(C^N^k)+V[13]+681279174&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^N)+V[0]+3936430074&4294967295,k=x+(w<<11&4294967295|w>>>21),w=N+(k^x^C)+V[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^x)+V[6]+76029189&4294967295,C=N+(w<<23&4294967295|w>>>9),w=x+(C^N^k)+V[9]+3654602809&4294967295,x=C+(w<<4&4294967295|w>>>28),w=k+(x^C^N)+V[12]+3873151461&4294967295,k=x+(w<<11&4294967295|w>>>21),w=N+(k^x^C)+V[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=C+(N^k^x)+V[2]+3299628645&4294967295,C=N+(w<<23&4294967295|w>>>9),w=x+(N^(C|~k))+V[0]+4096336452&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~N))+V[7]+1126891415&4294967295,k=x+(w<<10&4294967295|w>>>22),w=N+(x^(k|~C))+V[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~x))+V[5]+4237533241&4294967295,C=N+(w<<21&4294967295|w>>>11),w=x+(N^(C|~k))+V[12]+1700485571&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~N))+V[3]+2399980690&4294967295,k=x+(w<<10&4294967295|w>>>22),w=N+(x^(k|~C))+V[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~x))+V[1]+2240044497&4294967295,C=N+(w<<21&4294967295|w>>>11),w=x+(N^(C|~k))+V[8]+1873313359&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~N))+V[15]+4264355552&4294967295,k=x+(w<<10&4294967295|w>>>22),w=N+(x^(k|~C))+V[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~x))+V[13]+1309151649&4294967295,C=N+(w<<21&4294967295|w>>>11),w=x+(N^(C|~k))+V[4]+4149444226&4294967295,x=C+(w<<6&4294967295|w>>>26),w=k+(C^(x|~N))+V[11]+3174756917&4294967295,k=x+(w<<10&4294967295|w>>>22),w=N+(x^(k|~C))+V[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=C+(k^(N|~x))+V[9]+3951481745&4294967295,I.g[0]=I.g[0]+x&4294967295,I.g[1]=I.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,I.g[2]=I.g[2]+N&4294967295,I.g[3]=I.g[3]+k&4294967295}a.prototype.v=function(I,x){x===void 0&&(x=I.length);const C=x-this.blockSize,V=this.C;let N=this.h,k=0;for(;k<x;){if(N==0)for(;k<=C;)o(this,I,k),k+=this.blockSize;if(typeof I=="string"){for(;k<x;)if(V[N++]=I.charCodeAt(k++),N==this.blockSize){o(this,V),N=0;break}}else for(;k<x;)if(V[N++]=I[k++],N==this.blockSize){o(this,V),N=0;break}}this.h=N,this.o+=x},a.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var x=1;x<I.length-8;++x)I[x]=0;x=this.o*8;for(var C=I.length-8;C<I.length;++C)I[C]=x&255,x/=256;for(this.v(I),I=Array(16),x=0,C=0;C<4;++C)for(let V=0;V<32;V+=8)I[x++]=this.g[C]>>>V&255;return I};function c(I,x){var C=p;return Object.prototype.hasOwnProperty.call(C,I)?C[I]:C[I]=x(I)}function d(I,x){this.h=x;const C=[];let V=!0;for(let N=I.length-1;N>=0;N--){const k=I[N]|0;V&&k==x||(C[N]=k,V=!1)}this.g=C}var p={};function y(I){return-128<=I&&I<128?c(I,function(x){return new d([x|0],x<0?-1:0)}):new d([I|0],I<0?-1:0)}function _(I){if(isNaN(I)||!isFinite(I))return S;if(I<0)return Q(_(-I));const x=[];let C=1;for(let V=0;I>=C;V++)x[V]=I/C|0,C*=4294967296;return new d(x,0)}function A(I,x){if(I.length==0)throw Error("number format error: empty string");if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(I.charAt(0)=="-")return Q(A(I.substring(1),x));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(x,8));let V=S;for(let k=0;k<I.length;k+=8){var N=Math.min(8,I.length-k);const w=parseInt(I.substring(k,k+N),x);N<8?(N=_(Math.pow(x,N)),V=V.j(N).add(_(w))):(V=V.j(C),V=V.add(_(w)))}return V}var S=y(0),M=y(1),G=y(16777216);r=d.prototype,r.m=function(){if(it(this))return-Q(this).m();let I=0,x=1;for(let C=0;C<this.g.length;C++){const V=this.i(C);I+=(V>=0?V:4294967296+V)*x,x*=4294967296}return I},r.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(tt(this))return"0";if(it(this))return"-"+Q(this).toString(I);const x=_(Math.pow(I,6));var C=this;let V="";for(;;){const N=Rt(C,x).g;C=at(C,N.j(x));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(I);if(C=N,tt(C))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},r.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function tt(I){if(I.h!=0)return!1;for(let x=0;x<I.g.length;x++)if(I.g[x]!=0)return!1;return!0}function it(I){return I.h==-1}r.l=function(I){return I=at(this,I),it(I)?-1:tt(I)?0:1};function Q(I){const x=I.g.length,C=[];for(let V=0;V<x;V++)C[V]=~I.g[V];return new d(C,~I.h).add(M)}r.abs=function(){return it(this)?Q(this):this},r.add=function(I){const x=Math.max(this.g.length,I.g.length),C=[];let V=0;for(let N=0;N<=x;N++){let k=V+(this.i(N)&65535)+(I.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(I.i(N)>>>16);V=w>>>16,k&=65535,w&=65535,C[N]=w<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function at(I,x){return I.add(Q(x))}r.j=function(I){if(tt(this)||tt(I))return S;if(it(this))return it(I)?Q(this).j(Q(I)):Q(Q(this).j(I));if(it(I))return Q(this.j(Q(I)));if(this.l(G)<0&&I.l(G)<0)return _(this.m()*I.m());const x=this.g.length+I.g.length,C=[];for(var V=0;V<2*x;V++)C[V]=0;for(V=0;V<this.g.length;V++)for(let N=0;N<I.g.length;N++){const k=this.i(V)>>>16,w=this.i(V)&65535,Ft=I.i(N)>>>16,te=I.i(N)&65535;C[2*V+2*N]+=w*te,dt(C,2*V+2*N),C[2*V+2*N+1]+=k*te,dt(C,2*V+2*N+1),C[2*V+2*N+1]+=w*Ft,dt(C,2*V+2*N+1),C[2*V+2*N+2]+=k*Ft,dt(C,2*V+2*N+2)}for(I=0;I<x;I++)C[I]=C[2*I+1]<<16|C[2*I];for(I=x;I<2*x;I++)C[I]=0;return new d(C,0)};function dt(I,x){for(;(I[x]&65535)!=I[x];)I[x+1]+=I[x]>>>16,I[x]&=65535,x++}function ht(I,x){this.g=I,this.h=x}function Rt(I,x){if(tt(x))throw Error("division by zero");if(tt(I))return new ht(S,S);if(it(I))return x=Rt(Q(I),x),new ht(Q(x.g),Q(x.h));if(it(x))return x=Rt(I,Q(x)),new ht(Q(x.g),x.h);if(I.g.length>30){if(it(I)||it(x))throw Error("slowDivide_ only works with positive integers.");for(var C=M,V=x;V.l(I)<=0;)C=Ot(C),V=Ot(V);var N=gt(C,1),k=gt(V,1);for(V=gt(V,2),C=gt(C,2);!tt(V);){var w=k.add(V);w.l(I)<=0&&(N=N.add(C),k=w),V=gt(V,1),C=gt(C,1)}return x=at(I,N.j(x)),new ht(N,x)}for(N=S;I.l(x)>=0;){for(C=Math.max(1,Math.floor(I.m()/x.m())),V=Math.ceil(Math.log(C)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=_(C),w=k.j(x);it(w)||w.l(I)>0;)C-=V,k=_(C),w=k.j(x);tt(k)&&(k=M),N=N.add(k),I=at(I,w)}return new ht(N,I)}r.B=function(I){return Rt(this,I).h},r.and=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)&I.i(V);return new d(C,this.h&I.h)},r.or=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)|I.i(V);return new d(C,this.h|I.h)},r.xor=function(I){const x=Math.max(this.g.length,I.g.length),C=[];for(let V=0;V<x;V++)C[V]=this.i(V)^I.i(V);return new d(C,this.h^I.h)};function Ot(I){const x=I.g.length+1,C=[];for(let V=0;V<x;V++)C[V]=I.i(V)<<1|I.i(V-1)>>>31;return new d(C,I.h)}function gt(I,x){const C=x>>5;x%=32;const V=I.g.length-C,N=[];for(let k=0;k<V;k++)N[k]=x>0?I.i(k+C)>>>x|I.i(k+C+1)<<32-x:I.i(k+C);return new d(N,I.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,Yv=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,fr=d}).apply(typeof d0<"u"?d0:typeof self<"u"?self:typeof window<"u"?window:{});var Mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Xv,Vo,$v,qc,hm,Zv,Jv,Wv;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mc=="object"&&Mc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function o(u,m){if(m)t:{var v=a;u=u.split(".");for(var b=0;b<u.length-1;b++){var U=u[b];if(!(U in v))break t;v=v[U]}u=u[u.length-1],b=v[u],m=m(b),m!=b&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}o("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),o("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),o("Object.entries",function(u){return u||function(m){var v=[],b;for(b in m)Object.prototype.hasOwnProperty.call(m,b)&&v.push([b,m[b]]);return v}});var c=c||{},d=this||self;function p(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var b=v.slice();return b.push.apply(b,arguments),u.apply(this,b)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(b,U,H){for(var nt=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)nt[Nt-2]=arguments[Nt];return m.prototype[U].apply(b,nt)}}var M=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function G(u){const m=u.length;if(m>0){const v=Array(m);for(let b=0;b<m;b++)v[b]=u[b];return v}return[]}function tt(u,m){for(let b=1;b<arguments.length;b++){const U=arguments[b];var v=typeof U;if(v=v!="object"?v:U?Array.isArray(U)?"array":v:"null",v=="array"||v=="object"&&typeof U.length=="number"){v=u.length||0;const H=U.length||0;u.length=v+H;for(let nt=0;nt<H;nt++)u[v+nt]=U[nt]}else u.push(U)}}class it{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Q(u){d.setTimeout(()=>{throw u},0)}function at(){var u=I;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class dt{constructor(){this.h=this.g=null}add(m,v){const b=ht.get();b.set(m,v),this.h?this.h.next=b:this.g=b,this.h=b}}var ht=new it(()=>new Rt,u=>u.reset());class Rt{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Ot,gt=!1,I=new dt,x=()=>{const u=Promise.resolve(void 0);Ot=()=>{u.then(C)}};function C(){for(var u;u=at();){try{u.h.call(u.g)}catch(v){Q(v)}var m=ht;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}gt=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function N(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}N.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function w(u){return/^[\s\xa0]*$/.test(u)}function Ft(u,m){N.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(Ft,N),Ft.prototype.init=function(u,m){const v=this.type=u.type,b=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&Ft.Z.h.call(this)},Ft.prototype.h=function(){Ft.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var te="closure_listenable_"+(Math.random()*1e6|0),q=0;function W(u,m,v,b,U){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!b,this.ha=U,this.key=++q,this.da=this.fa=!1}function rt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yt(u,m,v){for(const b in u)m.call(v,u[b],b,u)}function Tt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function D(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function st(u,m){let v,b;for(let U=1;U<arguments.length;U++){b=arguments[U];for(v in b)u[v]=b[v];for(let H=0;H<Y.length;H++)v=Y[H],Object.prototype.hasOwnProperty.call(b,v)&&(u[v]=b[v])}}function et(u){this.src=u,this.g={},this.h=0}et.prototype.add=function(u,m,v,b,U){const H=u.toString();u=this.g[H],u||(u=this.g[H]=[],this.h++);const nt=mt(u,m,b,U);return nt>-1?(m=u[nt],v||(m.fa=!1)):(m=new W(m,this.src,H,!!b,U),m.fa=v,u.push(m)),m};function ft(u,m){const v=m.type;if(v in u.g){var b=u.g[v],U=Array.prototype.indexOf.call(b,m,void 0),H;(H=U>=0)&&Array.prototype.splice.call(b,U,1),H&&(rt(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function mt(u,m,v,b){for(let U=0;U<u.length;++U){const H=u[U];if(!H.da&&H.listener==m&&H.capture==!!v&&H.ha==b)return U}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),me={};function Xt(u,m,v,b,U){if(Array.isArray(m)){for(let H=0;H<m.length;H++)Xt(u,m[H],v,b,U);return null}return v=wr(v),u&&u[te]?u.J(m,v,p(b)?!!b.capture:!1,U):Vn(u,m,v,!1,b,U)}function Vn(u,m,v,b,U,H){if(!m)throw Error("Invalid event type");const nt=p(U)?!!U.capture:!!U;let Nt=Ki(u);if(Nt||(u[Mt]=Nt=new et(u)),v=Nt.add(m,v,b,nt,H),v.proxy)return v;if(b=Ss(),v.proxy=b,b.src=u,b.listener=v,u.addEventListener)k||(U=nt),U===void 0&&(U=!1),u.addEventListener(m.toString(),b,U);else if(u.attachEvent)u.attachEvent(kn(m.toString()),b);else if(u.addListener&&u.removeListener)u.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Ss(){function u(v){return m.call(u.src,u.listener,v)}const m=xs;return u}function un(u,m,v,b,U){if(Array.isArray(m))for(var H=0;H<m.length;H++)un(u,m[H],v,b,U);else b=p(b)?!!b.capture:!!b,v=wr(v),u&&u[te]?(u=u.i,H=String(m).toString(),H in u.g&&(m=u.g[H],v=mt(m,v,b,U),v>-1&&(rt(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[H],u.h--)))):u&&(u=Ki(u))&&(m=u.g[m.toString()],u=-1,m&&(u=mt(m,v,b,U)),(v=u>-1?m[u]:null)&&Qi(v))}function Qi(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[te])ft(m.i,u);else{var v=u.type,b=u.proxy;m.removeEventListener?m.removeEventListener(v,b,u.capture):m.detachEvent?m.detachEvent(kn(v),b):m.addListener&&m.removeListener&&m.removeListener(b),(v=Ki(m))?(ft(v,u),v.h==0&&(v.src=null,m[Mt]=null)):rt(u)}}}function kn(u){return u in me?me[u]:me[u]="on"+u}function xs(u,m){if(u.da)u=!0;else{m=new Ft(m,this);const v=u.listener,b=u.ha||u.src;u.fa&&Qi(u),u=v.call(b,m)}return u}function Ki(u){return u=u[Mt],u instanceof et?u:null}var xr="__closure_events_fn_"+(Math.random()*1e9>>>0);function wr(u){return typeof u=="function"?u:(u[xr]||(u[xr]=function(m){return u.handleEvent(m)}),u[xr])}function ge(){V.call(this),this.i=new et(this),this.M=this,this.G=null}S(ge,V),ge.prototype[te]=!0,ge.prototype.removeEventListener=function(u,m,v,b){un(this,u,m,v,b)};function Ee(u,m){var v,b=u.G;if(b)for(v=[];b;b=b.G)v.push(b);if(u=u.M,b=m.type||m,typeof m=="string")m=new N(m,u);else if(m instanceof N)m.target=m.target||u;else{var U=m;m=new N(b,u),st(m,U)}U=!0;let H,nt;if(v)for(nt=v.length-1;nt>=0;nt--)H=m.g=v[nt],U=Jn(H,b,!0,m)&&U;if(H=m.g=u,U=Jn(H,b,!0,m)&&U,U=Jn(H,b,!1,m)&&U,v)for(nt=0;nt<v.length;nt++)H=m.g=v[nt],U=Jn(H,b,!1,m)&&U}ge.prototype.N=function(){if(ge.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let b=0;b<v.length;b++)rt(v[b]);delete u.g[m],u.h--}}this.G=null},ge.prototype.J=function(u,m,v,b){return this.i.add(String(u),m,!1,v,b)},ge.prototype.K=function(u,m,v,b){return this.i.add(String(u),m,!0,v,b)};function Jn(u,m,v,b){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let U=!0;for(let H=0;H<m.length;++H){const nt=m[H];if(nt&&!nt.da&&nt.capture==v){const Nt=nt.listener,Ae=nt.ha||nt.src;nt.fa&&ft(u.i,nt),U=Nt.call(Ae,b)!==!1&&U}}return U&&!b.defaultPrevented}function Il(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function ma(u){u.g=Il(()=>{u.g=null,u.i&&(u.i=!1,ma(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class Ke extends V{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:ma(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yi(u){V.call(this),this.h=u,this.g={}}S(Yi,V);var Cr=[];function Rr(u){yt(u.g,function(m,v){this.g.hasOwnProperty(v)&&Qi(m)},u),u.g={}}Yi.prototype.N=function(){Yi.Z.N.call(this),Rr(this)},Yi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pi=d.JSON.stringify,B=d.JSON.parse,_t=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Ht(){}function ye(){}var Te={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Be(){N.call(this,"d")}S(Be,N);function jn(){N.call(this,"c")}S(jn,N);var be={},lu=null;function pa(){return lu=lu||new ge}be.Ia="serverreachability";function ou(u){N.call(this,be.Ia,u)}S(ou,N);function gi(u){const m=pa();Ee(m,new ou(m))}be.STAT_EVENT="statevent";function Nr(u,m){N.call(this,be.STAT_EVENT,u),this.stat=m}S(Nr,N);function Re(u){const m=pa();Ee(m,new Nr(m,u))}be.Ja="timingevent";function yi(u,m){N.call(this,be.Ja,u),this.size=m}S(yi,N);function _i(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Wn(){this.g=!0}Wn.prototype.ua=function(){this.g=!1};function Fh(u,m,v,b,U,H){u.info(function(){if(u.g)if(H){var nt="",Nt=H.split("&");for(let Kt=0;Kt<Nt.length;Kt++){var Ae=Nt[Kt].split("=");if(Ae.length>1){const fe=Ae[0];Ae=Ae[1];const zn=fe.split("_");nt=zn.length>=2&&zn[1]=="type"?nt+(fe+"="+Ae+"&"):nt+(fe+"=redacted&")}}}else nt=null;else nt=H;return"XMLHTTP REQ ("+b+") [attempt "+U+"]: "+m+`
`+v+`
`+nt})}function uu(u,m,v,b,U,H,nt){u.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+U+"]: "+m+`
`+v+`
`+H+" "+nt})}function vi(u,m,v,b){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Gh(u,v)+(b?" "+b:"")})}function Ir(u,m){u.info(function(){return"TIMEOUT: "+m})}Wn.prototype.info=function(){};function Gh(u,m){if(!u.g)return m;if(!m)return null;try{const H=JSON.parse(m);if(H){for(u=0;u<H.length;u++)if(Array.isArray(H[u])){var v=H[u];if(!(v.length<2)){var b=v[1];if(Array.isArray(b)&&!(b.length<1)){var U=b[0];if(U!="noop"&&U!="stop"&&U!="close")for(let nt=1;nt<b.length;nt++)b[nt]=""}}}}return pi(H)}catch{return m}}var Dr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Dl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ml;function Mr(){}S(Mr,Ht),Mr.prototype.g=function(){return new XMLHttpRequest},Ml=new Mr;function Xi(u){return encodeURIComponent(String(u))}function cu(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function ti(u,m,v,b){this.j=u,this.i=m,this.l=v,this.S=b||1,this.V=new Yi(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ei}function ei(){this.i=null,this.g="",this.h=!1}var Ne={},qe={};function Ei(u,m,v){u.M=1,u.A=Or(De(m)),u.u=v,u.R=!0,ga(u,null)}function ga(u,m){u.F=Date.now(),Ti(u),u.B=De(u.A);var v=u.B,b=u.S;Array.isArray(b)||(b=[String(b)]),Ea(v.i,"t",b),u.C=0,v=u.j.L,u.h=new ei,u.g=xu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new Ke(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,b=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Cr[0]=U.toString()),U=Cr);for(let H=0;H<U.length;H++){const nt=Xt(v,U[H],b||m.handleEvent,!1,m.h||m);if(!nt)break;m.g[nt.key]=nt}m=u.J?D(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),gi(),Fh(u.i,u.v,u.B,u.l,u.S,u.u)}ti.prototype.ba=function(u){u=u.target;const m=this.O;m&&si(u)==3?m.j():this.Y(u)},ti.prototype.Y=function(u){try{if(u==this.g)t:{const Nt=si(this.g),Ae=this.g.ya(),Kt=this.g.ca();if(!(Nt<3)&&(Nt!=3||this.g&&(this.h.h||this.g.la()||Ye(this.g)))){this.K||Nt!=4||Ae==7||(Ae==8||Kt<=0?gi(3):gi(2)),bi(this);var m=this.g.ca();this.X=m;var v=Qh(this);if(this.o=m==200,uu(this.i,this.v,this.B,this.l,this.S,Nt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var b,U=this.g;if((b=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(b)){var H=b;break e}}H=null}if(u=H)vi(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Ai(this,u);else{this.o=!1,this.m=3,Re(12),Sn(this),Un(this);break t}}if(this.R){u=!0;let fe;for(;!this.K&&this.C<v.length;)if(fe=fu(this,v),fe==qe){Nt==4&&(this.m=4,Re(14),u=!1),vi(this.i,this.l,null,"[Incomplete Response]");break}else if(fe==Ne){this.m=4,Re(15),vi(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else vi(this.i,this.l,fe,null),Ai(this,fe);if(hu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nt!=4||v.length!=0||this.h.h||(this.m=1,Re(16),u=!1),this.o=this.o&&u,!u)vi(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Un(this);else if(v.length>0&&!this.W){this.W=!0;var nt=this.j;nt.g==this&&nt.aa&&!nt.P&&(nt.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Kl(nt),nt.P=!0,Re(11))}}else vi(this.i,this.l,v,null),Ai(this,v);Nt==4&&Sn(this),this.o&&!this.K&&(Nt==4?Tu(this.j,this):(this.o=!1,Ti(this)))}else Zi(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),Sn(this),Un(this)}}}catch{}};function Qh(u){if(!hu(u))return u.g.la();const m=Ye(u.g);if(m==="")return"";let v="";const b=m.length,U=si(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Sn(u),Un(u),"";u.h.i=new d.TextDecoder}for(let H=0;H<b;H++)u.h.h=!0,v+=u.h.i.decode(m[H],{stream:!(U&&H==b-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function hu(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function fu(u,m){var v=u.C,b=m.indexOf(`
`,v);return b==-1?qe:(v=Number(m.substring(v,b)),isNaN(v)?Ne:(b+=1,b+v>m.length?qe:(m=m.slice(b,b+v),u.C=b+v,m)))}ti.prototype.cancel=function(){this.K=!0,Sn(this)};function Ti(u){u.T=Date.now()+u.H,ya(u,u.H)}function ya(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=_i(_(u.aa,u),m)}function bi(u){u.D&&(d.clearTimeout(u.D),u.D=null)}ti.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(Ir(this.i,this.B),this.M!=2&&(gi(),Re(17)),Sn(this),this.m=2,Un(this)):ya(this,this.T-u)};function Un(u){u.j.I==0||u.K||Tu(u.j,u)}function Sn(u){bi(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Rr(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function Ai(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||xi(v.h,u))){if(!u.L&&xi(v.h,u)&&v.I==3){try{var b=v.Ba.g.parse(m)}catch{b=null}if(Array.isArray(b)&&b.length==3){var U=b;if(U[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)xa(v),Os(v);else break t;zr(v),Re(18)}}else v.xa=U[1],0<v.xa-v.K&&U[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=_i(_(v.Va,v),6e3));Si(v.h)<=1&&v.ta&&(v.ta=void 0)}else Di(v,11)}else if((u.L||v.g==u)&&xa(v),!w(m))for(U=v.Ba.g.parse(m),m=0;m<U.length;m++){let Kt=U[m];const fe=Kt[0];if(!(fe<=v.K))if(v.K=fe,Kt=Kt[1],v.I==2)if(Kt[0]=="c"){v.M=Kt[1],v.ba=Kt[2];const zn=Kt[3];zn!=null&&(v.ka=zn,v.j.info("VER="+v.ka));const Mi=Kt[4];Mi!=null&&(v.za=Mi,v.j.info("SVER="+v.za));const ri=Kt[5];ri!=null&&typeof ri=="number"&&ri>0&&(b=1.5*ri,v.O=b,v.j.info("backChannelRequestTimeoutMs_="+b)),b=v;const ai=u.g;if(ai){const Br=ai.g?ai.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Br){var H=b.h;H.g||Br.indexOf("spdy")==-1&&Br.indexOf("quic")==-1&&Br.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(kl(H,H.h),H.h=null))}if(b.G){const wa=ai.g?ai.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(b.wa=wa,Zt(b.J,b.G,wa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),b=v;var nt=u;if(b.na=Su(b,b.L?b.ba:null,b.W),nt.L){jl(b.h,nt);var Nt=nt,Ae=b.O;Ae&&(Nt.H=Ae),Nt.D&&(bi(Nt),Ti(Nt)),b.g=nt}else vu(b);v.i.length>0&&Ii(v)}else Kt[0]!="stop"&&Kt[0]!="close"||Di(v,7);else v.I==3&&(Kt[0]=="stop"||Kt[0]=="close"?Kt[0]=="stop"?Di(v,7):Gl(v):Kt[0]!="noop"&&v.l&&v.l.qa(Kt),v.A=0)}}gi(4)}catch{}}var Ie=class{constructor(u,m){this.g=u,this.map=m}};function Ol(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Vl(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Si(u){return u.h?1:u.g?u.g.size:0}function xi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function kl(u,m){u.g?u.g.add(m):u.h=m}function jl(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}Ol.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ul(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return G(u.i)}var du=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _a(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const b=u[v].indexOf("=");let U,H=null;b>=0?(U=u[v].substring(0,b),H=u[v].substring(b+1)):U=u[v],m(U,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function xn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof xn?(this.l=u.l,He(this,u.j),this.o=u.o,this.g=u.g,ws(this,u.u),this.h=u.h,Ll(this,yu(u.i)),this.m=u.m):u&&(m=String(u).match(du))?(this.l=!1,He(this,m[1]||"",!0),this.o=wi(m[2]||""),this.g=wi(m[3]||"",!0),ws(this,m[4]),this.h=wi(m[5]||"",!0),Ll(this,m[6]||"",!0),this.m=wi(m[7]||"")):(this.l=!1,this.i=new Rs(null,this.l))}xn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(Vr(m,va,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(Vr(m,va,!0),"@"),u.push(Xi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(Vr(v,v.charAt(0)=="/"?Pl:mu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",Vr(v,pu)),u.join("")},xn.prototype.resolve=function(u){const m=De(this);let v=!!u.j;v?He(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var b=u.h;if(v)ws(m,u.u);else if(v=!!u.h){if(b.charAt(0)!="/")if(this.g&&!this.h)b="/"+b;else{var U=m.h.lastIndexOf("/");U!=-1&&(b=m.h.slice(0,U+1)+b)}if(U=b,U==".."||U==".")b="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){b=U.lastIndexOf("/",0)==0,U=U.split("/");const H=[];for(let nt=0;nt<U.length;){const Nt=U[nt++];Nt=="."?b&&nt==U.length&&H.push(""):Nt==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),b&&nt==U.length&&H.push("")):(H.push(Nt),b=!0)}b=H.join("/")}else b=U}return v?m.h=b:v=u.i.toString()!=="",v?Ll(m,yu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function De(u){return new xn(u)}function He(u,m,v){u.j=v?wi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function ws(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Ll(u,m,v){m instanceof Rs?(u.i=m,Ta(u.i,u.l)):(v||(m=Vr(m,Cs)),u.i=new Rs(m,u.l))}function Zt(u,m,v){u.i.set(m,v)}function Or(u){return Zt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function wi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,mn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var va=/[#\/\?@]/g,mu=/[#\?:]/g,Pl=/[#\?]/g,Cs=/[#\?@]/g,pu=/#/g;function Rs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&_a(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=Rs.prototype,r.add=function(u,m){pn(this),this.i=null,u=Ns(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function gu(u,m){pn(u),m=Ns(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function zl(u,m){return pn(u),m=Ns(u,m),u.g.has(m)}r.forEach=function(u,m){pn(this),this.g.forEach(function(v,b){v.forEach(function(U){u.call(m,U,b,this)},this)},this)};function Bl(u,m){pn(u);let v=[];if(typeof m=="string")zl(u,m)&&(v=v.concat(u.g.get(Ns(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return pn(this),this.i=null,u=Ns(this,u),zl(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Bl(this,u),u.length>0?String(u[0]):m):m};function Ea(u,m,v){gu(u,m),v.length>0&&(u.i=null,u.g.set(Ns(u,m),G(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let b=0;b<m.length;b++){var v=m[b];const U=Xi(v);v=Bl(this,v);for(let H=0;H<v.length;H++){let nt=U;v[H]!==""&&(nt+="="+Xi(v[H])),u.push(nt)}}return this.i=u.join("&")};function yu(u){const m=new Rs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function Ns(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function Ta(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(v,b){const U=b.toLowerCase();b!=U&&(gu(this,b),Ea(this,U,v))},u)),u.j=m}function ni(u,m){const v=new Wn;if(d.Image){const b=new Image;b.onload=A(Ln,v,"TestLoadImage: loaded",!0,m,b),b.onerror=A(Ln,v,"TestLoadImage: error",!1,m,b),b.onabort=A(Ln,v,"TestLoadImage: abort",!1,m,b),b.ontimeout=A(Ln,v,"TestLoadImage: timeout",!1,m,b),d.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=u}else m(!1)}function ql(u,m){const v=new Wn,b=new AbortController,U=setTimeout(()=>{b.abort(),Ln(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:b.signal}).then(H=>{clearTimeout(U),H.ok?Ln(v,"TestPingServer: ok",!0,m):Ln(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),Ln(v,"TestPingServer: error",!1,m)})}function Ln(u,m,v,b,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),b(v)}catch{}}function Is(){this.g=new _t}function Ci(u){this.i=u.Sb||null,this.h=u.ab||!1}S(Ci,Ht),Ci.prototype.g=function(){return new kr(this.i,this.h)};function kr(u,m){ge.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(kr,ge),r=kr.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,ii(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ds(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,ii(this)),this.g&&(this.readyState=3,ii(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;ba(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function ba(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Ds(this):ii(this),this.readyState==3&&ba(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,Ds(this))},r.Na=function(u){this.g&&(this.response=u,Ds(this))},r.ga=function(){this.g&&Ds(this)};function Ds(u){u.readyState=4,u.l=null,u.j=null,u.B=null,ii(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function ii(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(kr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function Pn(u){let m="";return yt(u,function(v,b){m+=b,m+=":",m+=v,m+=`\r
`}),m}function jr(u,m,v){t:{for(b in v){var b=!1;break t}b=!0}b||(v=Pn(v),typeof u=="string"?v!=null&&Xi(v):Zt(u,m,v))}function ee(u){ge.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(ee,ge);var Ri=/^https?$/i,Hl=["POST","PUT"];r=ee.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ml.g(),this.g.onreadystatechange=M(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(H){Ur(this,H);return}if(u=v||"",v=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var U in b)v.set(U,b[U]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const H of b.keys())v.set(H,b.get(H));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),U=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Hl,m,void 0)>=0)||b||U||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,nt]of v)this.g.setRequestHeader(H,nt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(H){Ur(this,H)}};function Ur(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Fl(u),$i(u)}function Fl(u){u.A||(u.A=!0,Ee(u,"complete"),Ee(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Ee(this,"complete"),Ee(this,"abort"),$i(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$i(this,!0)),ee.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Lr(this):this.Xa())},r.Xa=function(){Lr(this)};function Lr(u){if(u.h&&typeof c<"u"){if(u.v&&si(u)==4)setTimeout(u.Ca.bind(u),0);else if(Ee(u,"readystatechange"),si(u)==4){u.h=!1;try{const H=u.ca();t:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var b;if(b=H===0){let nt=String(u.D).match(du)[1]||null;!nt&&d.self&&d.self.location&&(nt=d.self.location.protocol.slice(0,-1)),b=!Ri.test(nt?nt.toLowerCase():"")}v=b}if(v)Ee(u,"complete"),Ee(u,"success");else{u.o=6;try{var U=si(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",Fl(u)}}finally{$i(u)}}}}function $i(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||Ee(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function si(u){return u.g?u.g.readyState:0}r.ca=function(){try{return si(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),B(m)}};function Ye(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Zi(u){const m={};u=(u.g&&si(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<u.length;b++){if(w(u[b]))continue;var v=cu(u[b]);const U=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=m[U]||[];m[U]=H,H.push(v)}Tt(m,function(b){return b.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ni(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function Ms(u){this.za=0,this.i=[],this.j=new Wn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ni("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ni("baseRetryDelayMs",5e3,u),this.Za=Ni("retryDelaySeedMs",1e4,u),this.Ta=Ni("forwardChannelMaxRetries",2,u),this.va=Ni("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new Ol(u&&u.concurrentRequestLimit),this.Ba=new Is,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Ms.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,b){Re(0),this.W=u,this.H=m||{},v&&b!==void 0&&(this.H.OSID=v,this.H.OAID=b),this.F=this.X,this.J=Su(this,null,this.W),Ii(this)};function Gl(u){if(Aa(u),u.I==3){var m=u.V++,v=De(u.J);if(Zt(v,"SID",u.M),Zt(v,"RID",m),Zt(v,"TYPE","terminate"),Pr(u,v),m=new ti(u,u.j,m),m.M=2,m.A=Or(De(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=xu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),Ti(m)}Au(u)}function Os(u){u.g&&(Kl(u),u.g.cancel(),u.g=null)}function Aa(u){Os(u),u.v&&(d.clearTimeout(u.v),u.v=null),xa(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function Ii(u){if(!Vl(u.h)&&!u.m){u.m=!0;var m=u.Ea;Ot||x(),gt||(Ot(),gt=!0),I.add(m,u),u.D=0}}function Sa(u,m){return Si(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=_i(_(u.Ea,u,m),bu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new ti(this,this.j,u);let H=this.o;if(this.U&&(H?(H=D(H),st(H,this.U)):H=this.U),this.u!==null||this.R||(U.J=H,H=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var b=this.i[v];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break e}b=void 0}if(b===void 0)break;if(m+=b,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=_u(this,U,m),v=De(this.J),Zt(v,"RID",u),Zt(v,"CVER",22),this.G&&Zt(v,"X-HTTP-Session-Id",this.G),Pr(this,v),H&&(this.R?m="headers="+Xi(Pn(H))+"&"+m:this.u&&jr(v,this.u,H)),kl(this.h,U),this.Ra&&Zt(v,"TYPE","init"),this.S?(Zt(v,"$req",m),Zt(v,"SID","null"),U.U=!0,Ei(U,v,null)):Ei(U,v,m),this.I=2}}else this.I==3&&(u?Ql(this,u):this.i.length==0||Vl(this.h)||Ql(this))};function Ql(u,m){var v;m?v=m.l:v=u.V++;const b=De(u.J);Zt(b,"SID",u.M),Zt(b,"RID",v),Zt(b,"AID",u.K),Pr(u,b),u.u&&u.o&&jr(b,u.u,u.o),v=new ti(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=_u(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),kl(u.h,v),Ei(v,b,m)}function Pr(u,m){u.H&&yt(u.H,function(v,b){Zt(m,b,v)}),u.l&&yt({},function(v,b){Zt(m,b,v)})}function _u(u,m,v){v=Math.min(u.i.length,v);const b=u.l?_(u.l.Ka,u.l,u):null;t:{var U=u.i;let Nt=-1;for(;;){const Ae=["count="+v];Nt==-1?v>0?(Nt=U[0].g,Ae.push("ofs="+Nt)):Nt=0:Ae.push("ofs="+Nt);let Kt=!0;for(let fe=0;fe<v;fe++){var H=U[fe].g;const zn=U[fe].map;if(H-=Nt,H<0)Nt=Math.max(0,U[fe].g-100),Kt=!1;else try{H="req"+H+"_"||"";try{var nt=zn instanceof Map?zn:Object.entries(zn);for(const[Mi,ri]of nt){let ai=ri;p(ri)&&(ai=pi(ri)),Ae.push(H+Mi+"="+encodeURIComponent(ai))}}catch(Mi){throw Ae.push(H+"type="+encodeURIComponent("_badmap")),Mi}}catch{b&&b(zn)}}if(Kt){nt=Ae.join("&");break t}}nt=void 0}return u=u.i.splice(0,v),m.G=u,nt}function vu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Ot||x(),gt||(Ot(),gt=!0),I.add(m,u),u.A=0}}function zr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=_i(_(u.Da,u),bu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,Eu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=_i(_(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Os(this),Eu(this))};function Kl(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function Eu(u){u.g=new ti(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=De(u.na);Zt(m,"RID","rpc"),Zt(m,"SID",u.M),Zt(m,"AID",u.K),Zt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Zt(m,"TO",u.ia),Zt(m,"TYPE","xmlhttp"),Pr(u,m),u.u&&u.o&&jr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=Or(De(m)),v.u=null,v.R=!0,ga(v,u)}r.Va=function(){this.C!=null&&(this.C=null,Os(this),zr(this),Re(19))};function xa(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function Tu(u,m){var v=null;if(u.g==m){xa(u),Kl(u),u.g=null;var b=2}else if(xi(u.h,m))v=m.G,jl(u.h,m),b=1;else return;if(u.I!=0){if(m.o)if(b==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var U=u.D;b=pa(),Ee(b,new yi(b,v)),Ii(u)}else vu(u);else if(U=m.m,U==3||U==0&&m.X>0||!(b==1&&Sa(u,m)||b==2&&zr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),U){case 1:Di(u,5);break;case 4:Di(u,10);break;case 3:Di(u,6);break;default:Di(u,2)}}}function bu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function Di(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),b=u.Ua;const U=!b;b=new xn(b||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||He(b,"https"),Or(b),U?ni(b.toString(),v):ql(b.toString(),v)}else Re(2);u.I=0,u.l&&u.l.pa(m),Au(u),Aa(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Au(u){if(u.I=0,u.ja=[],u.l){const m=Ul(u.h);(m.length!=0||u.i.length!=0)&&(tt(u.ja,m),tt(u.ja,u.i),u.h.i.length=0,G(u.i),u.i.length=0),u.l.oa()}}function Su(u,m,v){var b=v instanceof xn?De(v):new xn(v);if(b.g!="")m&&(b.g=m+"."+b.g),ws(b,b.u);else{var U=d.location;b=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;const H=new xn(null);b&&He(H,b),m&&(H.g=m),U&&ws(H,U),v&&(H.h=v),b=H}return v=u.G,m=u.wa,v&&m&&Zt(b,v,m),Zt(b,"VER",u.ka),Pr(u,b),b}function xu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new ee(new Ci({ab:v})):new ee(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Vs(){}Vs.prototype.g=function(u,m){return new cn(u,m)};function cn(u,m){ge.call(this),this.g=new Ms(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!w(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!w(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ji(this)}S(cn,ge),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Gl(this.g)},cn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=pi(u),u=v);m.i.push(new Ie(m.Ya++,u)),m.I==3&&Ii(m)},cn.prototype.N=function(){this.g.l=null,delete this.j,Gl(this.g),delete this.g,cn.Z.N.call(this)};function Cu(u){Be.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Cu,Be);function Ru(){jn.call(this),this.status=1}S(Ru,jn);function Ji(u){this.g=u}S(Ji,wu),Ji.prototype.ra=function(){Ee(this.g,"a")},Ji.prototype.qa=function(u){Ee(this.g,new Cu(u))},Ji.prototype.pa=function(u){Ee(this.g,new Ru)},Ji.prototype.oa=function(){Ee(this.g,"b")},Vs.prototype.createWebChannel=Vs.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,Wv=function(){return new Vs},Jv=function(){return pa()},Zv=be,hm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Dr.NO_ERROR=0,Dr.TIMEOUT=8,Dr.HTTP_ERROR=6,qc=Dr,Dl.COMPLETE="complete",$v=Dl,ye.EventType=Te,Te.OPEN="a",Te.CLOSE="b",Te.ERROR="c",Te.MESSAGE="d",ge.prototype.listen=ge.prototype.J,Vo=ye,ee.prototype.listenOnce=ee.prototype.K,ee.prototype.getLastError=ee.prototype.Ha,ee.prototype.getLastErrorCode=ee.prototype.ya,ee.prototype.getStatus=ee.prototype.ca,ee.prototype.getResponseJson=ee.prototype.La,ee.prototype.getResponseText=ee.prototype.la,ee.prototype.send=ee.prototype.ea,ee.prototype.setWithCredentials=ee.prototype.Fa,Xv=ee}).apply(typeof Mc<"u"?Mc:typeof self<"u"?self:typeof window<"u"?window:{});const m0="@firebase/firestore",p0="4.9.3";class rn{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}rn.UNAUTHENTICATED=new rn(null),rn.GOOGLE_CREDENTIALS=new rn("google-credentials-uid"),rn.FIRST_PARTY=new rn("first-party-uid"),rn.MOCK_USER=new rn("mock-user");let Al="12.7.0";const oa=new km("@firebase/firestore");function nl(){return oa.logLevel}function lt(r,...t){if(oa.logLevel<=Lt.DEBUG){const i=t.map(Lm);oa.debug(`Firestore (${Al}): ${r}`,...i)}}function vs(r,...t){if(oa.logLevel<=Lt.ERROR){const i=t.map(Lm);oa.error(`Firestore (${Al}): ${r}`,...i)}}function dl(r,...t){if(oa.logLevel<=Lt.WARN){const i=t.map(Lm);oa.warn(`Firestore (${Al}): ${r}`,...i)}}function Lm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function bt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,tE(r,a,i)}function tE(r,t,i){let a=`FIRESTORE (${Al}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw vs(a),new Error(a)}function $t(r,t,i,a){let o="Unexpected state";typeof i=="string"?o=i:a=i,r||tE(t,o,a)}function Ct(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends As{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class dr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class eE{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class LS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(rn.UNAUTHENTICATED)))}shutdown(){}}class PS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class zS{constructor(t){this.t=t,this.currentUser=rn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){$t(this.o===void 0,42304);let a=this.i;const o=y=>this.i!==a?(a=this.i,i(y)):Promise.resolve();let c=new dr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new dr,t.enqueueRetryable((()=>o(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await o(this.currentUser)}))},p=y=>{lt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>p(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?p(y):(lt("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new dr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(lt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?($t(typeof a.accessToken=="string",31837,{l:a}),new eE(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return $t(t===null||typeof t=="string",2055,{h:t}),new rn(t)}}class BS{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=rn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class qS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new BS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(rn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class g0{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,hi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){$t(this.o===void 0,3512);const a=c=>{c.error!=null&&lt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,lt("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const o=c=>{lt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>o(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?o(c):lt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new g0(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?($t(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new g0(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function FS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Pm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const o=FS(40);for(let c=0;c<o.length;++c)a.length<20&&o[c]<i&&(a+=t.charAt(o[c]%62))}return a}}function Pt(r,t){return r<t?-1:r>t?1:0}function fm(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const o=r.charAt(a),c=t.charAt(a);if(o!==c)return Jd(o)===Jd(c)?Pt(o,c):Jd(o)?1:-1}return Pt(r.length,t.length)}const GS=55296,QS=57343;function Jd(r){const t=r.charCodeAt(0);return t>=GS&&t<=QS}function ml(r,t,i){return r.length===t.length&&r.every(((a,o)=>i(a,t[o])))}const y0="__name__";class Ui{constructor(t,i,a){i===void 0?i=0:i>t.length&&bt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&bt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Ui.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Ui?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let o=0;o<a;o++){const c=Ui.compareSegments(t.get(o),i.get(o));if(c!==0)return c}return Pt(t.length,i.length)}static compareSegments(t,i){const a=Ui.isNumericId(t),o=Ui.isNumericId(i);return a&&!o?-1:!a&&o?1:a&&o?Ui.extractNumericId(t).compare(Ui.extractNumericId(i)):fm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return fr.fromString(t.substring(4,t.length-2))}}class ce extends Ui{construct(t,i,a){return new ce(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((o=>o.length>0)))}return new ce(i)}static emptyPath(){return new ce([])}}const KS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tn extends Ui{construct(t,i,a){return new tn(t,i,a)}static isValidIdentifier(t){return KS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===y0}static keyField(){return new tn([y0])}static fromServerFormat(t){const i=[];let a="",o=0;const c=()=>{if(a.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;o<t.length;){const p=t[o];if(p==="\\"){if(o+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[o+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=y,o+=2}else p==="`"?(d=!d,o++):p!=="."||d?(a+=p,o++):(c(),o++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new tn(i)}static emptyPath(){return new tn([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(ce.fromString(t))}static fromName(t){return new vt(ce.fromString(t).popFirst(5))}static empty(){return new vt(ce.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&ce.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return ce.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new ce(t.slice()))}}function nE(r,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function YS(r,t,i,a){if(t===!0&&a===!0)throw new ct(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function _0(r){if(!vt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function v0(r){if(vt.isDocumentKey(r))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function iE(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function zm(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":bt(12329,{type:typeof r})}function di(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=zm(r);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ue(r,t){const i={typeString:r};return t&&(i.value=t),i}function Wo(r,t){if(!iE(r))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const o=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(o&&typeof d!==o){i=`JSON field '${a}' must be a ${o}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const E0=-62135596800,T0=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*T0);return new he(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<E0)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/T0}_compareTo(t){return this.seconds===t.seconds?Pt(this.nanoseconds,t.nanoseconds):Pt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Wo(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-E0;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Ue("string",he._jsonSchemaVersion),seconds:Ue("number"),nanoseconds:Ue("number")};class xt{static fromTimestamp(t){return new xt(t)}static min(){return new xt(new he(0,0))}static max(){return new xt(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Go=-1;function XS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,o=xt.fromTimestamp(a===1e9?new he(i+1,0):new he(i,a));return new gr(o,vt.empty(),t)}function $S(r){return new gr(r.readTime,r.key,Go)}class gr{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new gr(xt.min(),vt.empty(),Go)}static max(){return new gr(xt.max(),vt.empty(),Go)}}function ZS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=vt.comparator(r.documentKey,t.documentKey),i!==0?i:Pt(r.largestBatchId,t.largestBatchId))}const JS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class WS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Sl(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==JS)throw r;lt("LocalStore","Unexpectedly lost primary lease")}class Z{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&bt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new Z(((a,o)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,o)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,o)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof Z?i:Z.resolve(i)}catch(i){return Z.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):Z.reject(i)}static resolve(t){return new Z(((i,a)=>{i(t)}))}static reject(t){return new Z(((i,a)=>{a(t)}))}static waitFor(t){return new Z(((i,a)=>{let o=0,c=0,d=!1;t.forEach((p=>{++o,p.next((()=>{++c,d&&c===o&&i()}),(y=>a(y)))})),d=!0,c===o&&i()}))}static or(t){let i=Z.resolve(!1);for(const a of t)i=i.next((o=>o?Z.resolve(o):a()));return i}static forEach(t,i){const a=[];return t.forEach(((o,c)=>{a.push(i.call(this,o,c))})),this.waitFor(a)}static mapArray(t,i){return new Z(((a,o)=>{const c=t.length,d=new Array(c);let p=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((A=>{d[_]=A,++p,p===c&&a(d)}),(A=>o(A)))}}))}static doWhile(t,i){return new Z(((a,o)=>{const c=()=>{t()===!0?i().next((()=>{c()}),o):a()};c()}))}}function tx(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function xl(r){return r.name==="IndexedDbTransactionError"}class bh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bh.ce=-1;const Bm=-1;function Ah(r){return r==null}function eh(r){return r===0&&1/r==-1/0}function ex(r){return typeof r=="number"&&Number.isInteger(r)&&!eh(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const sE="";function nx(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=b0(t)),t=ix(r.get(i),t);return b0(t)}function ix(r,t){let i=t;const a=r.length;for(let o=0;o<a;o++){const c=r.charAt(o);switch(c){case"\0":i+="";break;case sE:i+="";break;default:i+=c}}return i}function b0(r){return r+sE+""}function A0(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function Ar(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function rE(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class pe{constructor(t,i){this.comparator=t,this.root=i||We.EMPTY}insert(t,i){return new pe(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,We.BLACK,null,null))}remove(t){return new pe(this.comparator,this.root.remove(t,this.comparator).copy(null,null,We.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const o=this.comparator(t,a.key);if(o===0)return i+a.left.size;o<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Oc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Oc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Oc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Oc(this.root,t,this.comparator,!0)}}class Oc{constructor(t,i,a,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&o&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class We{constructor(t,i,a,o,c){this.key=t,this.value=i,this.color=a??We.RED,this.left=o??We.EMPTY,this.right=c??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,o,c){return new We(t??this.key,i??this.value,a??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let o=this;const c=a(t,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(t,i,a),null):c===0?o.copy(null,i,null,null,null):o.copy(null,null,null,null,o.right.insert(t,i,a)),o.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,o=this;if(i(t,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(t,i),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),i(t,o.key)===0){if(o.right.isEmpty())return We.EMPTY;a=o.right.min(),o=o.copy(a.key,a.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(t,i))}return o.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw bt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw bt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw bt(27949);return t+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw bt(57766)}get value(){throw bt(16141)}get color(){throw bt(16727)}get left(){throw bt(29726)}get right(){throw bt(36894)}copy(t,i,a,o,c){return this}insert(t,i,a){return new We(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ze{constructor(t){this.comparator=t,this.data=new pe(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const o=a.getNext();if(this.comparator(o.key,t[1])>=0)return;i(o.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new S0(this.data.getIterator())}getIteratorFrom(t){return new S0(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof ze)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new ze(this.comparator);return i.data=t,i}}class S0{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class On{constructor(t){this.fields=t,t.sort(tn.comparator)}static empty(){return new On([])}unionWith(t){let i=new ze(tn.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new On(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return ml(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class aE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class en{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new aE("Invalid base64 string: "+c):c}})(t);return new en(i)}static fromUint8Array(t){const i=(function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c})(t);return new en(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let o=0;o<i.length;o++)a[o]=i.charCodeAt(o);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Pt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}en.EMPTY_BYTE_STRING=new en("");const sx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function yr(r){if($t(!!r,39018),typeof r=="string"){let t=0;const i=sx.exec(r);if($t(!!i,46558,{timestamp:r}),i[1]){let o=i[1];o=(o+"000000000").substr(0,9),t=Number(o)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:we(r.seconds),nanos:we(r.nanos)}}function we(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function _r(r){return typeof r=="string"?en.fromBase64String(r):en.fromUint8Array(r)}const lE="server_timestamp",oE="__type__",uE="__previous_value__",cE="__local_write_time__";function qm(r){return(r?.mapValue?.fields||{})[oE]?.stringValue===lE}function Sh(r){const t=r.mapValue.fields[uE];return qm(t)?Sh(t):t}function Qo(r){const t=yr(r.mapValue.fields[cE].timestampValue);return new he(t.seconds,t.nanos)}class rx{constructor(t,i,a,o,c,d,p,y,_,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=p,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=A}}const nh="(default)";class Ko{constructor(t,i){this.projectId=t,this.database=i||nh}static empty(){return new Ko("","")}get isDefaultDatabase(){return this.database===nh}isEqual(t){return t instanceof Ko&&t.projectId===this.projectId&&t.database===this.database}}const hE="__type__",ax="__max__",Vc={mapValue:{}},fE="__vector__",ih="value";function vr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?qm(r)?4:ox(r)?9007199254740991:lx(r)?10:11:bt(28295,{value:r})}function Fi(r,t){if(r===t)return!0;const i=vr(r);if(i!==vr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Qo(r).isEqual(Qo(t));case 3:return(function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=yr(o.timestampValue),p=yr(c.timestampValue);return d.seconds===p.seconds&&d.nanos===p.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(o,c){return _r(o.bytesValue).isEqual(_r(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(o,c){return we(o.geoPointValue.latitude)===we(c.geoPointValue.latitude)&&we(o.geoPointValue.longitude)===we(c.geoPointValue.longitude)})(r,t);case 2:return(function(o,c){if("integerValue"in o&&"integerValue"in c)return we(o.integerValue)===we(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=we(o.doubleValue),p=we(c.doubleValue);return d===p?eh(d)===eh(p):isNaN(d)&&isNaN(p)}return!1})(r,t);case 9:return ml(r.arrayValue.values||[],t.arrayValue.values||[],Fi);case 10:case 11:return(function(o,c){const d=o.mapValue.fields||{},p=c.mapValue.fields||{};if(A0(d)!==A0(p))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(p[y]===void 0||!Fi(d[y],p[y])))return!1;return!0})(r,t);default:return bt(52216,{left:r})}}function Yo(r,t){return(r.values||[]).find((i=>Fi(i,t)))!==void 0}function pl(r,t){if(r===t)return 0;const i=vr(r),a=vr(t);if(i!==a)return Pt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Pt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const p=we(c.integerValue||c.doubleValue),y=we(d.integerValue||d.doubleValue);return p<y?-1:p>y?1:p===y?0:isNaN(p)?isNaN(y)?0:-1:1})(r,t);case 3:return x0(r.timestampValue,t.timestampValue);case 4:return x0(Qo(r),Qo(t));case 5:return fm(r.stringValue,t.stringValue);case 6:return(function(c,d){const p=_r(c),y=_r(d);return p.compareTo(y)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const p=c.split("/"),y=d.split("/");for(let _=0;_<p.length&&_<y.length;_++){const A=Pt(p[_],y[_]);if(A!==0)return A}return Pt(p.length,y.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const p=Pt(we(c.latitude),we(d.latitude));return p!==0?p:Pt(we(c.longitude),we(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return w0(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const p=c.fields||{},y=d.fields||{},_=p[ih]?.arrayValue,A=y[ih]?.arrayValue,S=Pt(_?.values?.length||0,A?.values?.length||0);return S!==0?S:w0(_,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Vc.mapValue&&d===Vc.mapValue)return 0;if(c===Vc.mapValue)return 1;if(d===Vc.mapValue)return-1;const p=c.fields||{},y=Object.keys(p),_=d.fields||{},A=Object.keys(_);y.sort(),A.sort();for(let S=0;S<y.length&&S<A.length;++S){const M=fm(y[S],A[S]);if(M!==0)return M;const G=pl(p[y[S]],_[A[S]]);if(G!==0)return G}return Pt(y.length,A.length)})(r.mapValue,t.mapValue);default:throw bt(23264,{he:i})}}function x0(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Pt(r,t);const i=yr(r),a=yr(t),o=Pt(i.seconds,a.seconds);return o!==0?o:Pt(i.nanos,a.nanos)}function w0(r,t){const i=r.values||[],a=t.values||[];for(let o=0;o<i.length&&o<a.length;++o){const c=pl(i[o],a[o]);if(c)return c}return Pt(i.length,a.length)}function gl(r){return dm(r)}function dm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=yr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return _r(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return vt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",o=!0;for(const c of i.values||[])o?o=!1:a+=",",a+=dm(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let o="{",c=!0;for(const d of a)c?c=!1:o+=",",o+=`${d}:${dm(i.fields[d])}`;return o+"}"})(r.mapValue):bt(61005,{value:r})}function Hc(r){switch(vr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Sh(r);return t?16+Hc(t):16;case 5:return 2*r.stringValue.length;case 6:return _r(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((o,c)=>o+Hc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let o=0;return Ar(a.fields,((c,d)=>{o+=c.length+Hc(d)})),o})(r.mapValue);default:throw bt(13486,{value:r})}}function mm(r){return!!r&&"integerValue"in r}function Hm(r){return!!r&&"arrayValue"in r}function C0(r){return!!r&&"nullValue"in r}function R0(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Fc(r){return!!r&&"mapValue"in r}function lx(r){return(r?.mapValue?.fields||{})[hE]?.stringValue===fE}function Po(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return Ar(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Po(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Po(r.arrayValue.values[i]);return t}return{...r}}function ox(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ax}class An{constructor(t){this.value=t}static empty(){return new An({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Fc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Po(i)}setAll(t){let i=tn.emptyPath(),a={},o=[];t.forEach(((d,p)=>{if(!i.isImmediateParentOf(p)){const y=this.getFieldsMap(i);this.applyChanges(y,a,o),a={},o=[],i=p.popLast()}d?a[p.lastSegment()]=Po(d):o.push(p.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,o)}delete(t){const i=this.field(t.popLast());Fc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Fi(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let o=i.mapValue.fields[t.get(a)];Fc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=o),i=o}return i.mapValue.fields}applyChanges(t,i,a){Ar(i,((o,c)=>t[o]=c));for(const o of a)delete t[o]}clone(){return new An(Po(this.value))}}function dE(r){const t=[];return Ar(r.fields,((i,a)=>{const o=new tn([i]);if(Fc(a)){const c=dE(a.mapValue).fields;if(c.length===0)t.push(o);else for(const d of c)t.push(o.child(d))}else t.push(o)})),new On(t)}class an{constructor(t,i,a,o,c,d,p){this.key=t,this.documentType=i,this.version=a,this.readTime=o,this.createTime=c,this.data=d,this.documentState=p}static newInvalidDocument(t){return new an(t,0,xt.min(),xt.min(),xt.min(),An.empty(),0)}static newFoundDocument(t,i,a,o){return new an(t,1,i,xt.min(),a,o,0)}static newNoDocument(t,i){return new an(t,2,i,xt.min(),xt.min(),An.empty(),0)}static newUnknownDocument(t,i){return new an(t,3,i,xt.min(),xt.min(),An.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(xt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=An.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=An.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof an&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new an(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class sh{constructor(t,i){this.position=t,this.inclusive=i}}function N0(r,t,i){let a=0;for(let o=0;o<r.position.length;o++){const c=t[o],d=r.position[o];if(c.field.isKeyField()?a=vt.comparator(vt.fromName(d.referenceValue),i.key):a=pl(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function I0(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Fi(r.position[i],t.position[i]))return!1;return!0}class rh{constructor(t,i="asc"){this.field=t,this.dir=i}}function ux(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class mE{}class Pe extends mE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new hx(t,i,a):i==="array-contains"?new mx(t,a):i==="in"?new px(t,a):i==="not-in"?new gx(t,a):i==="array-contains-any"?new yx(t,a):new Pe(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new fx(t,a):new dx(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(pl(i,this.value)):i!==null&&vr(this.value)===vr(i)&&this.matchesComparison(pl(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return bt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gi extends mE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Gi(t,i)}matches(t){return pE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pE(r){return r.op==="and"}function gE(r){return cx(r)&&pE(r)}function cx(r){for(const t of r.filters)if(t instanceof Gi)return!1;return!0}function pm(r){if(r instanceof Pe)return r.field.canonicalString()+r.op.toString()+gl(r.value);if(gE(r))return r.filters.map((t=>pm(t))).join(",");{const t=r.filters.map((i=>pm(i))).join(",");return`${r.op}(${t})`}}function yE(r,t){return r instanceof Pe?(function(a,o){return o instanceof Pe&&a.op===o.op&&a.field.isEqual(o.field)&&Fi(a.value,o.value)})(r,t):r instanceof Gi?(function(a,o){return o instanceof Gi&&a.op===o.op&&a.filters.length===o.filters.length?a.filters.reduce(((c,d,p)=>c&&yE(d,o.filters[p])),!0):!1})(r,t):void bt(19439)}function _E(r){return r instanceof Pe?(function(i){return`${i.field.canonicalString()} ${i.op} ${gl(i.value)}`})(r):r instanceof Gi?(function(i){return i.op.toString()+" {"+i.getFilters().map(_E).join(" ,")+"}"})(r):"Filter"}class hx extends Pe{constructor(t,i,a){super(t,i,a),this.key=vt.fromName(a.referenceValue)}matches(t){const i=vt.comparator(t.key,this.key);return this.matchesComparison(i)}}class fx extends Pe{constructor(t,i){super(t,"in",i),this.keys=vE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class dx extends Pe{constructor(t,i){super(t,"not-in",i),this.keys=vE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function vE(r,t){return(t.arrayValue?.values||[]).map((i=>vt.fromName(i.referenceValue)))}class mx extends Pe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Hm(i)&&Yo(i.arrayValue,this.value)}}class px extends Pe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Yo(this.value.arrayValue,i)}}class gx extends Pe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Yo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Yo(this.value.arrayValue,i)}}class yx extends Pe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Hm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Yo(this.value.arrayValue,a)))}}class _x{constructor(t,i=null,a=[],o=[],c=null,d=null,p=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=o,this.limit=c,this.startAt=d,this.endAt=p,this.Te=null}}function D0(r,t=null,i=[],a=[],o=null,c=null,d=null){return new _x(r,t,i,a,o,c,d)}function Fm(r){const t=Ct(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>pm(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),Ah(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>gl(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>gl(a))).join(",")),t.Te=i}return t.Te}function Gm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!ux(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!yE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!I0(r.startAt,t.startAt)&&I0(r.endAt,t.endAt)}function gm(r){return vt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class xh{constructor(t,i=null,a=[],o=[],c=null,d="F",p=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=o,this.limit=c,this.limitType=d,this.startAt=p,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function vx(r,t,i,a,o,c,d,p){return new xh(r,t,i,a,o,c,d,p)}function wh(r){return new xh(r)}function M0(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Ex(r){return r.collectionGroup!==null}function zo(r){const t=Ct(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let p=new ze(tn.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(p=p.add(_.field))}))})),p})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new rh(c,a))})),i.has(tn.keyField().canonicalString())||t.Ie.push(new rh(tn.keyField(),a))}return t.Ie}function Li(r){const t=Ct(r);return t.Ee||(t.Ee=Tx(t,zo(r))),t.Ee}function Tx(r,t){if(r.limitType==="F")return D0(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((o=>{const c=o.dir==="desc"?"asc":"desc";return new rh(o.field,c)}));const i=r.endAt?new sh(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new sh(r.startAt.position,r.startAt.inclusive):null;return D0(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function ym(r,t,i){return new xh(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function Ch(r,t){return Gm(Li(r),Li(t))&&r.limitType===t.limitType}function EE(r){return`${Fm(Li(r))}|lt:${r.limitType}`}function il(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((o=>_E(o))).join(", ")}]`),Ah(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((o=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(o))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((o=>gl(o))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((o=>gl(o))).join(",")),`Target(${a})`})(Li(r))}; limitType=${r.limitType})`}function Rh(r,t){return t.isFoundDocument()&&(function(a,o){const c=o.key.path;return a.collectionGroup!==null?o.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):vt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,o){for(const c of zo(a))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,o){for(const c of a.filters)if(!c.matches(o))return!1;return!0})(r,t)&&(function(a,o){return!(a.startAt&&!(function(d,p,y){const _=N0(d,p,y);return d.inclusive?_<=0:_<0})(a.startAt,zo(a),o)||a.endAt&&!(function(d,p,y){const _=N0(d,p,y);return d.inclusive?_>=0:_>0})(a.endAt,zo(a),o))})(r,t)}function bx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function TE(r){return(t,i)=>{let a=!1;for(const o of zo(r)){const c=Ax(o,t,i);if(c!==0)return c;a=a||o.field.isKeyField()}return 0}}function Ax(r,t,i){const a=r.field.isKeyField()?vt.comparator(t.key,i.key):(function(c,d,p){const y=d.data.field(c),_=p.data.field(c);return y!==null&&_!==null?pl(y,_):bt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return bt(19790,{direction:r.dir})}}class fa{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[o,c]of a)if(this.equalsFn(o,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),o=this.inner[a];if(o===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],t))return void(o[c]=[t,i]);o.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return a.length===1?delete this.inner[i]:a.splice(o,1),this.innerSize--,!0;return!1}forEach(t){Ar(this.inner,((i,a)=>{for(const[o,c]of a)t(o,c)}))}isEmpty(){return rE(this.inner)}size(){return this.innerSize}}const Sx=new pe(vt.comparator);function Es(){return Sx}const bE=new pe(vt.comparator);function ko(...r){let t=bE;for(const i of r)t=t.insert(i.key,i);return t}function AE(r){let t=bE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function sa(){return Bo()}function SE(){return Bo()}function Bo(){return new fa((r=>r.toString()),((r,t)=>r.isEqual(t)))}const xx=new pe(vt.comparator),wx=new ze(vt.comparator);function zt(...r){let t=wx;for(const i of r)t=t.add(i);return t}const Cx=new ze(Pt);function Rx(){return Cx}function Qm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:eh(t)?"-0":t}}function xE(r){return{integerValue:""+r}}function wE(r,t){return ex(t)?xE(t):Qm(r,t)}class Nh{constructor(){this._=void 0}}function Nx(r,t,i){return r instanceof ah?(function(o,c){const d={fields:{[oE]:{stringValue:lE},[cE]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&qm(c)&&(c=Sh(c)),c&&(d.fields[uE]=c),{mapValue:d}})(i,t):r instanceof yl?RE(r,t):r instanceof _l?NE(r,t):(function(o,c){const d=CE(o,c),p=O0(d)+O0(o.Ae);return mm(d)&&mm(o.Ae)?xE(p):Qm(o.serializer,p)})(r,t)}function Ix(r,t,i){return r instanceof yl?RE(r,t):r instanceof _l?NE(r,t):i}function CE(r,t){return r instanceof Xo?(function(a){return mm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class ah extends Nh{}class yl extends Nh{constructor(t){super(),this.elements=t}}function RE(r,t){const i=IE(t);for(const a of r.elements)i.some((o=>Fi(o,a)))||i.push(a);return{arrayValue:{values:i}}}class _l extends Nh{constructor(t){super(),this.elements=t}}function NE(r,t){let i=IE(t);for(const a of r.elements)i=i.filter((o=>!Fi(o,a)));return{arrayValue:{values:i}}}class Xo extends Nh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function O0(r){return we(r.integerValue||r.doubleValue)}function IE(r){return Hm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class Km{constructor(t,i){this.field=t,this.transform=i}}function Dx(r,t){return r.field.isEqual(t.field)&&(function(a,o){return a instanceof yl&&o instanceof yl||a instanceof _l&&o instanceof _l?ml(a.elements,o.elements,Fi):a instanceof Xo&&o instanceof Xo?Fi(a.Ae,o.Ae):a instanceof ah&&o instanceof ah})(r.transform,t.transform)}class Mx{constructor(t,i){this.version=t,this.transformResults=i}}class mi{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new mi}static exists(t){return new mi(void 0,t)}static updateTime(t){return new mi(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Gc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Ih{}function DE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Ym(r.key,mi.none()):new tu(r.key,r.data,mi.none());{const i=r.data,a=An.empty();let o=new ze(tn.comparator);for(let c of t.fields)if(!o.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),o=o.add(c)}return new Sr(r.key,a,new On(o.toArray()),mi.none())}}function Ox(r,t,i){r instanceof tu?(function(o,c,d){const p=o.value.clone(),y=k0(o.fieldTransforms,c,d.transformResults);p.setAll(y),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()})(r,t,i):r instanceof Sr?(function(o,c,d){if(!Gc(o.precondition,c))return void c.convertToUnknownDocument(d.version);const p=k0(o.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(ME(o)),y.setAll(p),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(r,t,i):(function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function qo(r,t,i,a){return r instanceof tu?(function(c,d,p,y){if(!Gc(c.precondition,d))return p;const _=c.value.clone(),A=j0(c.fieldTransforms,y,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(r,t,i,a):r instanceof Sr?(function(c,d,p,y){if(!Gc(c.precondition,d))return p;const _=j0(c.fieldTransforms,y,d),A=d.data;return A.setAll(ME(c)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),p===null?null:p.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,p){return Gc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):p})(r,t,i)}function Vx(r,t){let i=null;for(const a of r.fieldTransforms){const o=t.data.field(a.field),c=CE(a.transform,o||null);c!=null&&(i===null&&(i=An.empty()),i.set(a.field,c))}return i||null}function V0(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,o){return a===void 0&&o===void 0||!(!a||!o)&&ml(a,o,((c,d)=>Dx(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class tu extends Ih{constructor(t,i,a,o=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Sr extends Ih{constructor(t,i,a,o,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function ME(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function k0(r,t,i){const a=new Map;$t(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let o=0;o<i.length;o++){const c=r[o],d=c.transform,p=t.data.field(c.field);a.set(c.field,Ix(d,p,i[o]))}return a}function j0(r,t,i){const a=new Map;for(const o of r){const c=o.transform,d=i.data.field(o.field);a.set(o.field,Nx(c,d,t))}return a}class Ym extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kx extends Ih{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class jx{constructor(t,i,a,o){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=o}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(t.key)&&Ox(c,t,a[o])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=qo(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=qo(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=SE();return this.mutations.forEach((o=>{const c=t.get(o.key),d=c.overlayedDocument;let p=this.applyToLocalView(d,c.mutatedFields);p=i.has(o.key)?null:p;const y=DE(d,p);y!==null&&a.set(o.key,y),d.isValidDocument()||d.convertToNoDocument(xt.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),zt())}isEqual(t){return this.batchId===t.batchId&&ml(this.mutations,t.mutations,((i,a)=>V0(i,a)))&&ml(this.baseMutations,t.baseMutations,((i,a)=>V0(i,a)))}}class Xm{constructor(t,i,a,o){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=o}static from(t,i,a){$t(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let o=(function(){return xx})();const c=t.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,a[d].version);return new Xm(t,i,a,o)}}class Ux{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Lx{constructor(t,i){this.count=t,this.unchangedNames=i}}var je,qt;function Px(r){switch(r){case J.OK:return bt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return bt(15467,{code:r})}}function OE(r){if(r===void 0)return vs("GRPC error has no .code"),J.UNKNOWN;switch(r){case je.OK:return J.OK;case je.CANCELLED:return J.CANCELLED;case je.UNKNOWN:return J.UNKNOWN;case je.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case je.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case je.INTERNAL:return J.INTERNAL;case je.UNAVAILABLE:return J.UNAVAILABLE;case je.UNAUTHENTICATED:return J.UNAUTHENTICATED;case je.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case je.NOT_FOUND:return J.NOT_FOUND;case je.ALREADY_EXISTS:return J.ALREADY_EXISTS;case je.PERMISSION_DENIED:return J.PERMISSION_DENIED;case je.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case je.ABORTED:return J.ABORTED;case je.OUT_OF_RANGE:return J.OUT_OF_RANGE;case je.UNIMPLEMENTED:return J.UNIMPLEMENTED;case je.DATA_LOSS:return J.DATA_LOSS;default:return bt(39323,{code:r})}}(qt=je||(je={}))[qt.OK=0]="OK",qt[qt.CANCELLED=1]="CANCELLED",qt[qt.UNKNOWN=2]="UNKNOWN",qt[qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qt[qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qt[qt.NOT_FOUND=5]="NOT_FOUND",qt[qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",qt[qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",qt[qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",qt[qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qt[qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qt[qt.ABORTED=10]="ABORTED",qt[qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",qt[qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",qt[qt.INTERNAL=13]="INTERNAL",qt[qt.UNAVAILABLE=14]="UNAVAILABLE",qt[qt.DATA_LOSS=15]="DATA_LOSS";function zx(){return new TextEncoder}const Bx=new fr([4294967295,4294967295],0);function U0(r){const t=zx().encode(r),i=new Yv;return i.update(t),new Uint8Array(i.digest())}function L0(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),o=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new fr([i,a],0),new fr([o,c],0)]}class $m{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new jo(`Invalid padding: ${i}`);if(a<0)throw new jo(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new jo(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new jo(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=fr.fromNumber(this.ge)}ye(t,i,a){let o=t.add(i.multiply(fr.fromNumber(a)));return o.compare(Bx)===1&&(o=new fr([o.getBits(0),o.getBits(1)],0)),o.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=U0(t),[a,o]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const o=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new $m(c,o,i);return a.forEach((p=>d.insert(p))),d}insert(t){if(this.ge===0)return;const i=U0(t),[a,o]=L0(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,o,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class jo extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Dh{constructor(t,i,a,o,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const o=new Map;return o.set(t,eu.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Dh(xt.min(),o,new pe(Pt),Es(),zt())}}class eu{constructor(t,i,a,o,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new eu(a,i,zt(),zt(),zt())}}class Qc{constructor(t,i,a,o){this.be=t,this.removedTargetIds=i,this.key=a,this.De=o}}class VE{constructor(t,i){this.targetId=t,this.Ce=i}}class kE{constructor(t,i,a=en.EMPTY_BYTE_STRING,o=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=o}}class P0{constructor(){this.ve=0,this.Fe=z0(),this.Me=en.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=zt(),i=zt(),a=zt();return this.Fe.forEach(((o,c)=>{switch(c){case 0:t=t.add(o);break;case 2:i=i.add(o);break;case 1:a=a.add(o);break;default:bt(38017,{changeType:c})}})),new eu(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=z0()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,$t(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class qx{constructor(t){this.Ge=t,this.ze=new Map,this.je=Es(),this.Je=kc(),this.He=kc(),this.Ye=new pe(Pt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:bt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,o)=>{this.rt(o)&&i(o)}))}st(t){const i=t.targetId,a=t.Ce.count,o=this.ot(i);if(o){const c=o.target;if(gm(c))if(a===0){const d=new vt(c.path);this.et(i,d,an.newNoDocument(d,xt.min()))}else $t(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const p=this.ut(t),y=p?this.ct(p,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:o=0},hashCount:c=0}=i;let d,p;try{d=_r(a).toUint8Array()}catch(y){if(y instanceof aE)return dl("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{p=new $m(d,o,c)}catch(y){return dl(y instanceof jo?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return p.ge===0?null:p}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let o=0;return a.forEach((c=>{const d=this.Ge.ht(),p=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(p)||(this.et(i,c,null),o++)})),o}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const p=this.ot(d);if(p){if(c.current&&gm(p.target)){const y=new vt(p.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,an.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=zt();this.He.forEach(((c,d)=>{let p=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(p=!1,!1)})),p&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const o=new Dh(t,i,this.Ye,this.je,a);return this.je=Es(),this.Je=kc(),this.He=kc(),this.Ye=new pe(Pt),o}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const o=this.nt(t);this.Et(t,i)?o.Qe(i,1):o.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new P0,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new ze(Pt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new ze(Pt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||lt("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new P0),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function kc(){return new pe(vt.comparator)}function z0(){return new pe(vt.comparator)}const Hx={asc:"ASCENDING",desc:"DESCENDING"},Fx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Gx={and:"AND",or:"OR"};class Qx{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function _m(r,t){return r.useProto3Json||Ah(t)?t:{value:t}}function lh(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function jE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function Kx(r,t){return lh(r,t.toTimestamp())}function Pi(r){return $t(!!r,49232),xt.fromTimestamp((function(i){const a=yr(i);return new he(a.seconds,a.nanos)})(r))}function Zm(r,t){return vm(r,t).canonicalString()}function vm(r,t){const i=(function(o){return new ce(["projects",o.projectId,"databases",o.database])})(r).child("documents");return t===void 0?i:i.child(t)}function UE(r){const t=ce.fromString(r);return $t(qE(t),10190,{key:t.toString()}),t}function Em(r,t){return Zm(r.databaseId,t.path)}function Wd(r,t){const i=UE(t);if(i.get(1)!==r.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new vt(PE(i))}function LE(r,t){return Zm(r.databaseId,t)}function Yx(r){const t=UE(r);return t.length===4?ce.emptyPath():PE(t)}function Tm(r){return new ce(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function PE(r){return $t(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function B0(r,t,i){return{name:Em(r,t),fields:i.value.mapValue.fields}}function Xx(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:bt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),o=t.targetChange.targetIds||[],c=(function(_,A){return _.useProto3Json?($t(A===void 0||typeof A=="string",58123),en.fromBase64String(A||"")):($t(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),en.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,p=d&&(function(_){const A=_.code===void 0?J.UNKNOWN:OE(_.code);return new ct(A,_.message||"")})(d);i=new kE(a,o,c,p||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const o=Wd(r,a.document.name),c=Pi(a.document.updateTime),d=a.document.createTime?Pi(a.document.createTime):xt.min(),p=new An({mapValue:{fields:a.document.fields}}),y=an.newFoundDocument(o,c,d,p),_=a.targetIds||[],A=a.removedTargetIds||[];i=new Qc(_,A,y.key,y)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const o=Wd(r,a.document),c=a.readTime?Pi(a.readTime):xt.min(),d=an.newNoDocument(o,c),p=a.removedTargetIds||[];i=new Qc([],p,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const o=Wd(r,a.document),c=a.removedTargetIds||[];i=new Qc([],c,o,null)}else{if(!("filter"in t))return bt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:o=0,unchangedNames:c}=a,d=new Lx(o,c),p=a.targetId;i=new VE(p,d)}}return i}function $x(r,t){let i;if(t instanceof tu)i={update:B0(r,t.key,t.value)};else if(t instanceof Ym)i={delete:Em(r,t.key)};else if(t instanceof Sr)i={update:B0(r,t.key,t.data),updateMask:rw(t.fieldMask)};else{if(!(t instanceof kx))return bt(16599,{Vt:t.type});i={verify:Em(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const p=d.transform;if(p instanceof ah)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(p instanceof yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:p.elements}};if(p instanceof _l)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:p.elements}};if(p instanceof Xo)return{fieldPath:d.field.canonicalString(),increment:p.Ae};throw bt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(o,c){return c.updateTime!==void 0?{updateTime:Kx(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:bt(27497)})(r,t.precondition)),i}function Zx(r,t){return r&&r.length>0?($t(t!==void 0,14353),r.map((i=>(function(o,c){let d=o.updateTime?Pi(o.updateTime):Pi(c);return d.isEqual(xt.min())&&(d=Pi(c)),new Mx(d,o.transformResults||[])})(i,t)))):[]}function Jx(r,t){return{documents:[LE(r,t.path)]}}function Wx(r,t){const i={structuredQuery:{}},a=t.path;let o;t.collectionGroup!==null?(o=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(o=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=LE(r,o);const c=(function(_){if(_.length!==0)return BE(Gi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((A=>(function(M){return{field:sl(M.field),direction:nw(M.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const p=_m(r,t.limit);return p!==null&&(i.structuredQuery.limit=p),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:o}}function tw(r){let t=Yx(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let o=null;if(a>0){$t(a===1,65062);const A=i.from[0];A.allDescendants?o=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const M=zE(S);return M instanceof Gi&&gE(M)?M.getFilters():[M]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((M=>(function(tt){return new rh(rl(tt.field),(function(Q){switch(Q){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(tt.direction))})(M)))})(i.orderBy));let p=null;i.limit&&(p=(function(S){let M;return M=typeof S=="object"?S.value:S,Ah(M)?null:M})(i.limit));let y=null;i.startAt&&(y=(function(S){const M=!!S.before,G=S.values||[];return new sh(G,M)})(i.startAt));let _=null;return i.endAt&&(_=(function(S){const M=!S.before,G=S.values||[];return new sh(G,M)})(i.endAt)),vx(t,o,d,c,p,"F",y,_)}function ew(r,t){const i=(function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return bt(28987,{purpose:o})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function zE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=rl(i.unaryFilter.field);return Pe.create(a,"==",{doubleValue:NaN});case"IS_NULL":const o=rl(i.unaryFilter.field);return Pe.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=rl(i.unaryFilter.field);return Pe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=rl(i.unaryFilter.field);return Pe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return bt(61313);default:return bt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Pe.create(rl(i.fieldFilter.field),(function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return bt(58110);default:return bt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Gi.create(i.compositeFilter.filters.map((a=>zE(a))),(function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return bt(1026)}})(i.compositeFilter.op))})(r):bt(30097,{filter:r})}function nw(r){return Hx[r]}function iw(r){return Fx[r]}function sw(r){return Gx[r]}function sl(r){return{fieldPath:r.canonicalString()}}function rl(r){return tn.fromServerFormat(r.fieldPath)}function BE(r){return r instanceof Pe?(function(i){if(i.op==="=="){if(R0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NAN"}};if(C0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(R0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NAN"}};if(C0(i.value))return{unaryFilter:{field:sl(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:sl(i.field),op:iw(i.op),value:i.value}}})(r):r instanceof Gi?(function(i){const a=i.getFilters().map((o=>BE(o)));return a.length===1?a[0]:{compositeFilter:{op:sw(i.op),filters:a}}})(r):bt(54877,{filter:r})}function rw(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function qE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class or{constructor(t,i,a,o,c=xt.min(),d=xt.min(),p=en.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=p,this.expectedCount=y}withSequenceNumber(t){return new or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class aw{constructor(t){this.yt=t}}function lw(r){const t=tw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?ym(t,t.limit,"L"):t}class ow{constructor(){this.Cn=new uw}addToCollectionParentIndex(t,i){return this.Cn.add(i),Z.resolve()}getCollectionParents(t,i){return Z.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return Z.resolve()}deleteFieldIndex(t,i){return Z.resolve()}deleteAllFieldIndexes(t){return Z.resolve()}createTargetIndexes(t,i){return Z.resolve()}getDocumentsMatchingTarget(t,i){return Z.resolve(null)}getIndexType(t,i){return Z.resolve(0)}getFieldIndexes(t,i){return Z.resolve([])}getNextCollectionGroupToUpdate(t){return Z.resolve(null)}getMinOffset(t,i){return Z.resolve(gr.min())}getMinOffsetFromCollectionGroup(t,i){return Z.resolve(gr.min())}updateCollectionGroup(t,i,a){return Z.resolve()}updateIndexEntries(t,i){return Z.resolve()}}class uw{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i]||new ze(ce.comparator),c=!o.has(a);return this.index[i]=o.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),o=this.index[i];return o&&o.has(a)}getEntries(t){return(this.index[t]||new ze(ce.comparator)).toArray()}}const q0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},HE=41943040;class Tn{static withCacheSize(t){return new Tn(t,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}Tn.DEFAULT_COLLECTION_PERCENTILE=10,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Tn.DEFAULT=new Tn(HE,Tn.DEFAULT_COLLECTION_PERCENTILE,Tn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Tn.DISABLED=new Tn(-1,0,0);class vl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new vl(0)}static cr(){return new vl(-1)}}const H0="LruGarbageCollector",cw=1048576;function F0([r,t],[i,a]){const o=Pt(r,i);return o===0?Pt(t,a):o}class hw{constructor(t){this.Ir=t,this.buffer=new ze(F0),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();F0(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class fw{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){lt(H0,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){xl(i)?lt(H0,"Ignoring IndexedDB error during garbage collection: ",i):await Sl(i)}await this.Vr(3e5)}))}}class dw{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return Z.resolve(bh.ce);const a=new hw(i);return this.mr.forEachTarget(t,(o=>a.Ar(o.sequenceNumber))).next((()=>this.mr.pr(t,(o=>a.Ar(o))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(lt("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(q0)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(lt("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),q0):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,o,c,d,p,y,_;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(lt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),o=this.params.maximumSequenceNumbersToCollect):o=S,d=Date.now(),this.nthSequenceNumber(t,o)))).next((S=>(a=S,p=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,y=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(_=Date.now(),nl()<=Lt.DEBUG&&lt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${o} in `+(p-d)+`ms
	Removed ${c} targets in `+(y-p)+`ms
	Removed ${S} documents in `+(_-y)+`ms
Total Duration: ${_-A}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:c,documentsRemoved:S}))))}}function mw(r,t){return new dw(r,t)}class pw{constructor(){this.changes=new fa((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,an.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Z.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class gw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class yw{constructor(t,i,a,o){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=o}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((o=>(a=o,this.remoteDocumentCache.getEntry(t,i)))).next((o=>(a!==null&&qo(a.mutation,o,On.empty(),he.now()),o)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,zt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=zt()){const o=sa();return this.populateOverlays(t,o,i).next((()=>this.computeViews(t,i,o,a).next((c=>{let d=ko();return c.forEach(((p,y)=>{d=d.insert(p,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=sa();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,zt())))}populateOverlays(t,i,a){const o=[];return a.forEach((c=>{i.has(c)||o.push(c)})),this.documentOverlayCache.getOverlays(t,o).next((c=>{c.forEach(((d,p)=>{i.set(d,p)}))}))}computeViews(t,i,a,o){let c=Es();const d=Bo(),p=(function(){return Bo()})();return i.forEach(((y,_)=>{const A=a.get(_.key);o.has(_.key)&&(A===void 0||A.mutation instanceof Sr)?c=c.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),qo(A.mutation,_,A.mutation.getFieldMask(),he.now())):d.set(_.key,On.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,A)=>d.set(_,A))),i.forEach(((_,A)=>p.set(_,new gw(A,d.get(_)??null)))),p)))}recalculateAndSaveOverlays(t,i){const a=Bo();let o=new pe(((d,p)=>d-p)),c=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const p of d)p.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let A=a.get(y)||On.empty();A=p.applyToLocalView(_,A),a.set(y,A);const S=(o.get(p.batchId)||zt()).add(y);o=o.insert(p.batchId,S)}))})).next((()=>{const d=[],p=o.getReverseIterator();for(;p.hasNext();){const y=p.getNext(),_=y.key,A=y.value,S=SE();A.forEach((M=>{if(!c.has(M)){const G=DE(i.get(M),a.get(M));G!==null&&S.set(M,G),c=c.add(M)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,S))}return Z.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,o){return(function(d){return vt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):Ex(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,o):this.getDocumentsMatchingCollectionQuery(t,i,a,o)}getNextDocuments(t,i,a,o){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,o).next((c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,o-c.size):Z.resolve(sa());let p=Go,y=c;return d.next((_=>Z.forEach(_,((A,S)=>(p<S.largestBatchId&&(p=S.largestBatchId),c.get(A)?Z.resolve():this.remoteDocumentCache.getEntry(t,A).next((M=>{y=y.insert(A,M)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,zt()))).next((A=>({batchId:p,changes:AE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new vt(i)).next((a=>{let o=ko();return a.isFoundDocument()&&(o=o.insert(a.key,a)),o}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,o){const c=i.collectionGroup;let d=ko();return this.indexManager.getCollectionParents(t,c).next((p=>Z.forEach(p,(y=>{const _=(function(S,M){return new xh(M,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,a,o).next((A=>{A.forEach(((S,M)=>{d=d.insert(S,M)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,o){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,o)))).next((d=>{c.forEach(((y,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,an.newInvalidDocument(A)))}));let p=ko();return d.forEach(((y,_)=>{const A=c.get(y);A!==void 0&&qo(A.mutation,_,On.empty(),he.now()),Rh(i,_)&&(p=p.insert(y,_))})),p}))}}class _w{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return Z.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(o){return{id:o.id,version:o.version,createTime:Pi(o.createTime)}})(i)),Z.resolve()}getNamedQuery(t,i){return Z.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(o){return{name:o.name,query:lw(o.bundledQuery),readTime:Pi(o.readTime)}})(i)),Z.resolve()}}class vw{constructor(){this.overlays=new pe(vt.comparator),this.qr=new Map}getOverlay(t,i){return Z.resolve(this.overlays.get(i))}getOverlays(t,i){const a=sa();return Z.forEach(i,(o=>this.getOverlay(t,o).next((c=>{c!==null&&a.set(o,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((o,c)=>{this.St(t,i,c)})),Z.resolve()}removeOverlaysForBatchId(t,i,a){const o=this.qr.get(a);return o!==void 0&&(o.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),Z.resolve()}getOverlaysForCollection(t,i,a){const o=sa(),c=i.length+1,d=new vt(i.child("")),p=this.overlays.getIteratorFrom(d);for(;p.hasNext();){const y=p.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>a&&o.set(y.getKey(),y)}return Z.resolve(o)}getOverlaysForCollectionGroup(t,i,a,o){let c=new pe(((_,A)=>_-A));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=c.get(_.largestBatchId);A===null&&(A=sa(),c=c.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const p=sa(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,A)=>p.set(_,A))),!(p.size()>=o)););return Z.resolve(p)}St(t,i,a){const o=this.overlays.get(a.key);if(o!==null){const d=this.qr.get(o.largestBatchId).delete(a.key);this.qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ux(i,a));let c=this.qr.get(i);c===void 0&&(c=zt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class Ew{constructor(){this.sessionToken=en.EMPTY_BYTE_STRING}getSessionToken(t){return Z.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,Z.resolve()}}class Jm{constructor(){this.Qr=new ze(Qe.$r),this.Ur=new ze(Qe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Qe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Qe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new vt(new ce([])),a=new Qe(i,t),o=new Qe(i,t+1),c=[];return this.Ur.forEachInRange([a,o],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new vt(new ce([])),a=new Qe(i,t),o=new Qe(i,t+1);let c=zt();return this.Ur.forEachInRange([a,o],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Qe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Qe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return vt.comparator(t.key,i.key)||Pt(t.Yr,i.Yr)}static Kr(t,i){return Pt(t.Yr,i.Yr)||vt.comparator(t.key,i.key)}}class Tw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new ze(Qe.$r)}checkEmpty(t){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,o){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new jx(c,i,a,o);this.mutationQueue.push(d);for(const p of o)this.Zr=this.Zr.add(new Qe(p.key,c)),this.indexManager.addToCollectionParentIndex(t,p.key.path.popLast());return Z.resolve(d)}lookupMutationBatch(t,i){return Z.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,o=this.ei(a),c=o<0?0:o;return Z.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?Bm:this.tr-1)}getAllMutationBatches(t){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Qe(i,0),o=new Qe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,o],(d=>{const p=this.Xr(d.Yr);c.push(p)})),Z.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new ze(Pt);return i.forEach((o=>{const c=new Qe(o,0),d=new Qe(o,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(p=>{a=a.add(p.Yr)}))})),Z.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,o=a.length+1;let c=a;vt.isDocumentKey(c)||(c=c.child(""));const d=new Qe(new vt(c),0);let p=new ze(Pt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!a.isPrefixOf(_)&&(_.length===o&&(p=p.add(y.Yr)),!0)}),d),Z.resolve(this.ti(p))}ti(t){const i=[];return t.forEach((a=>{const o=this.Xr(a);o!==null&&i.push(o)})),i}removeMutationBatch(t,i){$t(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return Z.forEach(i.mutations,(o=>{const c=new Qe(o.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,o.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Qe(i,0),o=this.Zr.firstAfterOrEqual(a);return Z.resolve(i.isEqual(o&&o.key))}performConsistencyCheck(t){return this.mutationQueue.length,Z.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class bw{constructor(t){this.ri=t,this.docs=(function(){return new pe(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,o=this.docs.get(a),c=o?o.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return Z.resolve(a?a.document.mutableCopy():an.newInvalidDocument(i))}getEntries(t,i){let a=Es();return i.forEach((o=>{const c=this.docs.get(o);a=a.insert(o,c?c.document.mutableCopy():an.newInvalidDocument(o))})),Z.resolve(a)}getDocumentsMatchingQuery(t,i,a,o){let c=Es();const d=i.path,p=new vt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(p);for(;y.hasNext();){const{key:_,value:{document:A}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||ZS($S(A),a)<=0||(o.has(A.key)||Rh(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return Z.resolve(c)}getAllFromCollectionGroup(t,i,a,o){bt(9500)}ii(t,i){return Z.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new Aw(this)}getSize(t){return Z.resolve(this.size)}}class Aw extends pw{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,o)=>{o.isValidDocument()?i.push(this.Nr.addEntry(t,o)):this.Nr.removeEntry(a)})),Z.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class Sw{constructor(t){this.persistence=t,this.si=new fa((i=>Fm(i)),Gm),this.lastRemoteSnapshotVersion=xt.min(),this.highestTargetId=0,this.oi=0,this._i=new Jm,this.targetCount=0,this.ai=vl.ur()}forEachTarget(t,i){return this.si.forEach(((a,o)=>i(o))),Z.resolve()}getLastRemoteSnapshotVersion(t){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Z.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),Z.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new vl(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,Z.resolve()}updateTargetData(t,i){return this.Pr(i),Z.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,Z.resolve()}removeTargets(t,i,a){let o=0;const c=[];return this.si.forEach(((d,p)=>{p.sequenceNumber<=i&&a.get(p.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,p.targetId)),o++)})),Z.waitFor(c).next((()=>o))}getTargetCount(t){return Z.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return Z.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),Z.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const o=this.persistence.referenceDelegate,c=[];return o&&i.forEach((d=>{c.push(o.markPotentiallyOrphaned(t,d))})),Z.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),Z.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return Z.resolve(a)}containsKey(t,i){return Z.resolve(this._i.containsKey(i))}}class FE{constructor(t,i){this.ui={},this.overlays={},this.ci=new bh(0),this.li=!1,this.li=!0,this.hi=new Ew,this.referenceDelegate=t(this),this.Pi=new Sw(this),this.indexManager=new ow,this.remoteDocumentCache=(function(o){return new bw(o)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new aw(i),this.Ii=new _w(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new vw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new Tw(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){lt("MemoryPersistence","Starting transaction:",t);const o=new xw(this.ci.next());return this.referenceDelegate.Ei(),a(o).next((c=>this.referenceDelegate.di(o).next((()=>c)))).toPromise().then((c=>(o.raiseOnCommittedEvent(),c)))}Ai(t,i){return Z.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class xw extends WS{constructor(t){super(),this.currentSequenceNumber=t}}class Wm{constructor(t){this.persistence=t,this.Ri=new Jm,this.Vi=null}static mi(t){return new Wm(t)}get fi(){if(this.Vi)return this.Vi;throw bt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),Z.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),Z.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),Z.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((o=>this.fi.add(o.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((o=>{o.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,(a=>{const o=vt.fromPath(a);return this.gi(t,o).next((c=>{c||i.removeEntry(o,xt.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return Z.or([()=>Z.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class oh{constructor(t,i){this.persistence=t,this.pi=new fa((a=>nx(a.path)),((a,o)=>a.isEqual(o))),this.garbageCollector=mw(this,i)}static mi(t,i){return new oh(t,i)}Ei(){}di(t){return Z.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((o=>a+o))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return Z.forEach(this.pi,((a,o)=>this.br(t,a,o).next((c=>c?Z.resolve():i(o)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const o=this.persistence.getRemoteDocumentCache(),c=o.newChangeBuffer();return o.ii(t,(d=>this.br(t,d,i).next((p=>{p||(a++,c.removeEntry(d,xt.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),Z.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),Z.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Hc(t.data.value)),i}br(t,i,a){return Z.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const o=this.pi.get(i);return Z.resolve(o!==void 0&&o>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class tp{constructor(t,i,a,o){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=o}static As(t,i){let a=zt(),o=zt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new tp(t,i.fromCache,a,o)}}class ww{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Cw{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return _A()?8:tx(ln())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,o){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,o,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new ww;return this.Ss(t,i,d).next((p=>{if(c.result=p,this.Vs)return this.bs(t,i,d,p.size)}))})).next((()=>c.result))}bs(t,i,a,o){return a.documentReadCount<this.fs?(nl()<=Lt.DEBUG&&lt("QueryEngine","SDK will not create cache indexes for query:",il(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(nl()<=Lt.DEBUG&&lt("QueryEngine","Query:",il(i),"scans",a.documentReadCount,"local documents and returns",o,"documents as results."),a.documentReadCount>this.gs*o?(nl()<=Lt.DEBUG&&lt("QueryEngine","The SDK decides to create cache indexes for query:",il(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Li(i))):Z.resolve())}ys(t,i){if(M0(i))return Z.resolve(null);let a=Li(i);return this.indexManager.getIndexType(t,a).next((o=>o===0?null:(i.limit!==null&&o===1&&(i=ym(i,null,"F"),a=Li(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=zt(...c);return this.ps.getDocuments(t,d).next((p=>this.indexManager.getMinOffset(t,a).next((y=>{const _=this.Ds(i,p);return this.Cs(i,_,d,y.readTime)?this.ys(t,ym(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,a,o){return M0(i)||o.isEqual(xt.min())?Z.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,o)?Z.resolve(null):(nl()<=Lt.DEBUG&&lt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),il(i)),this.vs(t,d,i,XS(o,Go)).next((p=>p)))}))}Ds(t,i){let a=new ze(TE(t));return i.forEach(((o,c)=>{Rh(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,o){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Ss(t,i,a){return nl()<=Lt.DEBUG&&lt("QueryEngine","Using full collection scan to execute query:",il(i)),this.ps.getDocumentsMatchingQuery(t,i,gr.min(),a)}vs(t,i,a,o){return this.ps.getDocumentsMatchingQuery(t,a,o).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const ep="LocalStore",Rw=3e8;class Nw{constructor(t,i,a,o){this.persistence=t,this.Fs=i,this.serializer=o,this.Ms=new pe(Pt),this.xs=new fa((c=>Fm(c)),Gm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new yw(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function Iw(r,t,i,a){return new Nw(r,t,i,a)}async function GE(r,t){const i=Ct(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let o;return i.mutationQueue.getAllMutationBatches(a).next((c=>(o=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],p=[];let y=zt();for(const _ of o){d.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}for(const _ of c){p.push(_.batchId);for(const A of _.mutations)y=y.add(A.key)}return i.localDocuments.getDocuments(a,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:p})))}))}))}function Dw(r,t){const i=Ct(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const o=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(p,y,_,A){const S=_.batch,M=S.keys();let G=Z.resolve();return M.forEach((tt=>{G=G.next((()=>A.getEntry(y,tt))).next((it=>{const Q=_.docVersions.get(tt);$t(Q!==null,48541),it.version.compareTo(Q)<0&&(S.applyToRemoteDocument(it,_),it.isValidDocument()&&(it.setReadTime(_.commitVersion),A.addEntry(it)))}))})),G.next((()=>p.mutationQueue.removeMutationBatch(y,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,o,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(p){let y=zt();for(let _=0;_<p.mutationResults.length;++_)p.mutationResults[_].transformResults.length>0&&(y=y.add(p.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(a,o)))}))}function QE(r){const t=Ct(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function Mw(r,t){const i=Ct(r),a=t.snapshotVersion;let o=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});o=i.Ms;const p=[];t.targetChanges.forEach(((A,S)=>{const M=o.get(S);if(!M)return;p.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let G=M.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?G=G.withResumeToken(en.EMPTY_BYTE_STRING,xt.min()).withLastLimboFreeSnapshotVersion(xt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,a)),o=o.insert(S,G),(function(it,Q,at){return it.resumeToken.approximateByteSize()===0||Q.snapshotVersion.toMicroseconds()-it.snapshotVersion.toMicroseconds()>=Rw?!0:at.addedDocuments.size+at.modifiedDocuments.size+at.removedDocuments.size>0})(M,G,A)&&p.push(i.Pi.updateTargetData(c,G))}));let y=Es(),_=zt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&p.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),p.push(Ow(c,d,t.documentUpdates).next((A=>{y=A.ks,_=A.qs}))),!a.isEqual(xt.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));p.push(A)}return Z.waitFor(p).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=o,c)))}function Ow(r,t,i){let a=zt(),o=zt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=Es();return i.forEach(((p,y)=>{const _=c.get(p);y.isFoundDocument()!==_.isFoundDocument()&&(o=o.add(p)),y.isNoDocument()&&y.version.isEqual(xt.min())?(t.removeEntry(p,y.readTime),d=d.insert(p,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(p,y)):lt(ep,"Ignoring outdated watch update for ",p,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:o}}))}function Vw(r,t){const i=Ct(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Bm),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function kw(r,t){const i=Ct(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let o;return i.Pi.getTargetData(a,t).next((c=>c?(o=c,Z.resolve(o)):i.Pi.allocateTargetId(a).next((d=>(o=new or(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,o).next((()=>o)))))))})).then((a=>{const o=i.Ms.get(a.targetId);return(o===null||a.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function bm(r,t,i){const a=Ct(r),o=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,o)))}catch(d){if(!xl(d))throw d;lt(ep,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(o.target)}function G0(r,t,i){const a=Ct(r);let o=xt.min(),c=zt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,A){const S=Ct(y),M=S.xs.get(A);return M!==void 0?Z.resolve(S.Ms.get(M)):S.Pi.getTargetData(_,A)})(a,d,Li(t)).next((p=>{if(p)return o=p.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,p.targetId).next((y=>{c=y}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?o:xt.min(),i?c:zt()))).next((p=>(jw(a,bx(t),p),{documents:p,Qs:c})))))}function jw(r,t,i){let a=r.Os.get(t)||xt.min();i.forEach(((o,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class Q0{constructor(){this.activeTargetIds=Rx()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Uw{constructor(){this.Mo=new Q0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new Q0,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class Lw{Oo(t){}shutdown(){}}const K0="ConnectivityMonitor";class Y0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){lt(K0,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){lt(K0,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let jc=null;function Am(){return jc===null?jc=(function(){return 268435456+Math.round(2147483648*Math.random())})():jc++,"0x"+jc.toString(16)}const tm="RestConnection",Pw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class zw{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${o}`,this.Wo=this.databaseId.database===nh?`project_id=${a}`:`project_id=${a}&database_id=${o}`}Go(t,i,a,o,c){const d=Am(),p=this.zo(t,i.toUriEncodedString());lt(tm,`Sending RPC '${t}' ${d}:`,p,a);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,o,c);const{host:_}=new URL(p),A=Tl(_);return this.Jo(t,p,y,a,A).then((S=>(lt(tm,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw dl(tm,`RPC '${t}' ${d} failed with error: `,S,"url: ",p,"request:",a),S}))}Ho(t,i,a,o,c,d){return this.Go(t,i,a,o,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Al})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((o,c)=>t[c]=o)),a&&a.headers.forEach(((o,c)=>t[c]=o))}zo(t,i){const a=Pw[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class Bw{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const sn="WebChannelConnection";class qw extends zw{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,o,c){const d=Am();return new Promise(((p,y)=>{const _=new Xv;_.setWithCredentials(!0),_.listenOnce($v.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case qc.NO_ERROR:const S=_.getResponseJson();lt(sn,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),p(S);break;case qc.TIMEOUT:lt(sn,`RPC '${t}' ${d} timed out`),y(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case qc.HTTP_ERROR:const M=_.getStatus();if(lt(sn,`RPC '${t}' ${d} failed with status:`,M,"response text:",_.getResponseText()),M>0){let G=_.getResponseJson();Array.isArray(G)&&(G=G[0]);const tt=G?.error;if(tt&&tt.status&&tt.message){const it=(function(at){const dt=at.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(dt)>=0?dt:J.UNKNOWN})(tt.status);y(new ct(it,tt.message))}else y(new ct(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(J.UNAVAILABLE,"Connection failed."));break;default:bt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{lt(sn,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(o);lt(sn,`RPC '${t}' ${d} sending request:`,o),_.send(i,"POST",A,a,15)}))}T_(t,i,a){const o=Am(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Wv(),p=Jv(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,a),y.encodeInitMessageHeaders=!0;const A=c.join("");lt(sn,`Creating RPC '${t}' stream ${o}: ${A}`,y);const S=d.createWebChannel(A,y);this.I_(S);let M=!1,G=!1;const tt=new Bw({Yo:Q=>{G?lt(sn,`Not sending because RPC '${t}' stream ${o} is closed:`,Q):(M||(lt(sn,`Opening RPC '${t}' stream ${o} transport.`),S.open(),M=!0),lt(sn,`RPC '${t}' stream ${o} sending:`,Q),S.send(Q))},Zo:()=>S.close()}),it=(Q,at,dt)=>{Q.listen(at,(ht=>{try{dt(ht)}catch(Rt){setTimeout((()=>{throw Rt}),0)}}))};return it(S,Vo.EventType.OPEN,(()=>{G||(lt(sn,`RPC '${t}' stream ${o} transport opened.`),tt.o_())})),it(S,Vo.EventType.CLOSE,(()=>{G||(G=!0,lt(sn,`RPC '${t}' stream ${o} transport closed`),tt.a_(),this.E_(S))})),it(S,Vo.EventType.ERROR,(Q=>{G||(G=!0,dl(sn,`RPC '${t}' stream ${o} transport errored. Name:`,Q.name,"Message:",Q.message),tt.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),it(S,Vo.EventType.MESSAGE,(Q=>{if(!G){const at=Q.data[0];$t(!!at,16349);const dt=at,ht=dt?.error||dt[0]?.error;if(ht){lt(sn,`RPC '${t}' stream ${o} received error:`,ht);const Rt=ht.status;let Ot=(function(x){const C=je[x];if(C!==void 0)return OE(C)})(Rt),gt=ht.message;Ot===void 0&&(Ot=J.INTERNAL,gt="Unknown error status: "+Rt+" with message "+ht.message),G=!0,tt.a_(new ct(Ot,gt)),S.close()}else lt(sn,`RPC '${t}' stream ${o} received:`,at),tt.u_(at)}})),it(p,Zv.STAT_EVENT,(Q=>{Q.stat===hm.PROXY?lt(sn,`RPC '${t}' stream ${o} detected buffering proxy`):Q.stat===hm.NOPROXY&&lt(sn,`RPC '${t}' stream ${o} detected no buffering proxy`)})),setTimeout((()=>{tt.__()}),0),tt}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function em(){return typeof document<"u"?document:null}function Mh(r){return new Qx(r,!0)}class KE{constructor(t,i,a=1e3,o=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=o,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),o=Math.max(0,i-a);o>0&&lt("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,o,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const X0="PersistentStream";class YE{constructor(t,i,a,o,c,d,p,y){this.Mi=t,this.S_=a,this.b_=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=p,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new KE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(vs(i.toString()),vs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,o])=>{this.D_===i&&this.G_(a,o)}),(a=>{t((()=>{const o=new ct(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(o)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((o=>{a((()=>this.z_(o)))})),this.stream.onMessage((o=>{a((()=>++this.F_==1?this.J_(o):this.onNext(o)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return lt(X0,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(lt(X0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Hw extends YE{constructor(t,i,a,o,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Xx(this.serializer,t),a=(function(c){if(!("targetChange"in c))return xt.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?xt.min():d.readTime?Pi(d.readTime):xt.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=Tm(this.serializer),i.addTarget=(function(c,d){let p;const y=d.target;if(p=gm(y)?{documents:Jx(c,y)}:{query:Wx(c,y).ft},p.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){p.resumeToken=jE(c,d.resumeToken);const _=_m(c,d.expectedCount);_!==null&&(p.expectedCount=_)}else if(d.snapshotVersion.compareTo(xt.min())>0){p.readTime=lh(c,d.snapshotVersion.toTimestamp());const _=_m(c,d.expectedCount);_!==null&&(p.expectedCount=_)}return p})(this.serializer,t);const a=ew(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=Tm(this.serializer),i.removeTarget=t,this.q_(i)}}class Fw extends YE{constructor(t,i,a,o,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,o,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return $t(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,$t(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){$t(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Zx(t.writeResults,t.commitTime),a=Pi(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=Tm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>$x(this.serializer,a)))};this.q_(i)}}class Gw{}class Qw extends Gw{constructor(t,i,a,o){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=o,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,vm(i,a),o,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}Ho(t,i,a,o,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,p])=>this.connection.Ho(t,vm(i,a),o,d,p,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Kw{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(vs(i),this.aa=!1):lt("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ua="RemoteStore";class Yw{constructor(t,i,a,o,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{da(this)&&(lt(ua,"Restarting streams for network reachability change."),await(async function(y){const _=Ct(y);_.Ea.add(4),await nu(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Oh(_)})(this))}))})),this.Ra=new Kw(a,o)}}async function Oh(r){if(da(r))for(const t of r.da)await t(!0)}async function nu(r){for(const t of r.da)await t(!1)}function XE(r,t){const i=Ct(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),rp(i)?sp(i):wl(i).O_()&&ip(i,t))}function np(r,t){const i=Ct(r),a=wl(i);i.Ia.delete(t),a.O_()&&$E(i,t),i.Ia.size===0&&(a.O_()?a.L_():da(i)&&i.Ra.set("Unknown"))}function ip(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(xt.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}wl(r).Y_(t)}function $E(r,t){r.Va.Ue(t),wl(r).Z_(t)}function sp(r){r.Va=new qx({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),wl(r).start(),r.Ra.ua()}function rp(r){return da(r)&&!wl(r).x_()&&r.Ia.size>0}function da(r){return Ct(r).Ea.size===0}function ZE(r){r.Va=void 0}async function Xw(r){r.Ra.set("Online")}async function $w(r){r.Ia.forEach(((t,i)=>{ip(r,t)}))}async function Zw(r,t){ZE(r),rp(r)?(r.Ra.ha(t),sp(r)):r.Ra.set("Unknown")}async function Jw(r,t,i){if(r.Ra.set("Online"),t instanceof kE&&t.state===2&&t.cause)try{await(async function(o,c){const d=c.cause;for(const p of c.targetIds)o.Ia.has(p)&&(await o.remoteSyncer.rejectListen(p,d),o.Ia.delete(p),o.Va.removeTarget(p))})(r,t)}catch(a){lt(ua,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await uh(r,a)}else if(t instanceof Qc?r.Va.Ze(t):t instanceof VE?r.Va.st(t):r.Va.tt(t),!i.isEqual(xt.min()))try{const a=await QE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const p=c.Va.Tt(d);return p.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const A=c.Ia.get(_);A&&c.Ia.set(_,A.withResumeToken(y.resumeToken,d))}})),p.targetMismatches.forEach(((y,_)=>{const A=c.Ia.get(y);if(!A)return;c.Ia.set(y,A.withResumeToken(en.EMPTY_BYTE_STRING,A.snapshotVersion)),$E(c,y);const S=new or(A.target,y,_,A.sequenceNumber);ip(c,S)})),c.remoteSyncer.applyRemoteEvent(p)})(r,i)}catch(a){lt(ua,"Failed to raise snapshot:",a),await uh(r,a)}}async function uh(r,t,i){if(!xl(t))throw t;r.Ea.add(1),await nu(r),r.Ra.set("Offline"),i||(i=()=>QE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{lt(ua,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Oh(r)}))}function JE(r,t){return t().catch((i=>uh(r,i,t)))}async function Vh(r){const t=Ct(r),i=Er(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Bm;for(;Ww(t);)try{const o=await Vw(t.localStore,a);if(o===null){t.Ta.length===0&&i.L_();break}a=o.batchId,t2(t,o)}catch(o){await uh(t,o)}WE(t)&&t1(t)}function Ww(r){return da(r)&&r.Ta.length<10}function t2(r,t){r.Ta.push(t);const i=Er(r);i.O_()&&i.X_&&i.ea(t.mutations)}function WE(r){return da(r)&&!Er(r).x_()&&r.Ta.length>0}function t1(r){Er(r).start()}async function e2(r){Er(r).ra()}async function n2(r){const t=Er(r);for(const i of r.Ta)t.ea(i.mutations)}async function i2(r,t,i){const a=r.Ta.shift(),o=Xm.from(a,t,i);await JE(r,(()=>r.remoteSyncer.applySuccessfulWrite(o))),await Vh(r)}async function s2(r,t){t&&Er(r).X_&&await(async function(a,o){if((function(d){return Px(d)&&d!==J.ABORTED})(o.code)){const c=a.Ta.shift();Er(a).B_(),await JE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,o))),await Vh(a)}})(r,t),WE(r)&&t1(r)}async function $0(r,t){const i=Ct(r);i.asyncQueue.verifyOperationInProgress(),lt(ua,"RemoteStore received new credentials");const a=da(i);i.Ea.add(3),await nu(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Oh(i)}async function r2(r,t){const i=Ct(r);t?(i.Ea.delete(2),await Oh(i)):t||(i.Ea.add(2),await nu(i),i.Ra.set("Unknown"))}function wl(r){return r.ma||(r.ma=(function(i,a,o){const c=Ct(i);return c.sa(),new Hw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:Xw.bind(null,r),t_:$w.bind(null,r),r_:Zw.bind(null,r),H_:Jw.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),rp(r)?sp(r):r.Ra.set("Unknown")):(await r.ma.stop(),ZE(r))}))),r.ma}function Er(r){return r.fa||(r.fa=(function(i,a,o){const c=Ct(i);return c.sa(),new Fw(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:e2.bind(null,r),r_:s2.bind(null,r),ta:n2.bind(null,r),na:i2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await Vh(r)):(await r.fa.stop(),r.Ta.length>0&&(lt(ua,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class ap{constructor(t,i,a,o,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=o,this.removalCallback=c,this.deferred=new dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,o,c){const d=Date.now()+a,p=new ap(t,i,d,o,c);return p.start(a),p}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function lp(r,t){if(vs("AsyncQueue",`${t}: ${r}`),xl(r))return new ct(J.UNAVAILABLE,`${t}: ${r}`);throw r}class ll{static emptySet(t){return new ll(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||vt.comparator(i.key,a.key):(i,a)=>vt.comparator(i.key,a.key),this.keyedMap=ko(),this.sortedSet=new pe(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof ll)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const o=i.getNext().key,c=a.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new ll;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Z0{constructor(){this.ga=new pe(vt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):bt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class El{constructor(t,i,a,o,c,d,p,y,_){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=p,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,a,o,c){const d=[];return i.forEach((p=>{d.push({type:0,doc:p})})),new El(t,i,ll.emptySet(i),d,a,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Ch(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let o=0;o<i.length;o++)if(i[o].type!==a[o].type||!i[o].doc.isEqual(a[o].doc))return!1;return!0}}class a2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class l2{constructor(){this.queries=J0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const o=Ct(i),c=o.queries;o.queries=J0(),c.forEach(((d,p)=>{for(const y of p.Sa)y.onError(a)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function J0(){return new fa((r=>EE(r)),Ch)}async function e1(r,t){const i=Ct(r);let a=3;const o=t.query;let c=i.queries.get(o);c?!c.ba()&&t.Da()&&(a=2):(c=new a2,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(o,!0);break;case 1:c.wa=await i.onListen(o,!1);break;case 2:await i.onFirstRemoteStoreListen(o)}}catch(d){const p=lp(d,`Initialization of query '${il(t.query)}' failed`);return void t.onError(p)}i.queries.set(o,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&op(i)}async function n1(r,t){const i=Ct(r),a=t.query;let o=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?o=t.Da()?0:1:!c.ba()&&t.Da()&&(o=2))}switch(o){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function o2(r,t){const i=Ct(r);let a=!1;for(const o of t){const c=o.query,d=i.queries.get(c);if(d){for(const p of d.Sa)p.Fa(o)&&(a=!0);d.wa=o}}a&&op(i)}function u2(r,t,i){const a=Ct(r),o=a.queries.get(t);if(o)for(const c of o.Sa)c.onError(i);a.queries.delete(t)}function op(r){r.Ca.forEach((t=>{t.next()}))}var Sm,W0;(W0=Sm||(Sm={})).Ma="default",W0.Cache="cache";class i1{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const o of t.docChanges)o.type!==3&&a.push(o);t=new El(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=El.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Sm.Cache}}class s1{constructor(t){this.key=t}}class r1{constructor(t){this.key=t}}class c2{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=zt(),this.mutatedKeys=zt(),this.eu=TE(t),this.tu=new ll(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Z0,o=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=o,p=!1;const y=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,_=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(t.inorderTraversal(((A,S)=>{const M=o.get(A),G=Rh(this.query,S)?S:null,tt=!!M&&this.mutatedKeys.has(M.key),it=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Q=!1;M&&G?M.data.isEqual(G.data)?tt!==it&&(a.track({type:3,doc:G}),Q=!0):this.su(M,G)||(a.track({type:2,doc:G}),Q=!0,(y&&this.eu(G,y)>0||_&&this.eu(G,_)<0)&&(p=!0)):!M&&G?(a.track({type:0,doc:G}),Q=!0):M&&!G&&(a.track({type:1,doc:M}),Q=!0,(y||_)&&(p=!0)),Q&&(G?(d=d.add(G),c=it?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:p,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,o){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(G,tt){const it=Q=>{switch(Q){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return bt(20277,{Rt:Q})}};return it(G)-it(tt)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),o=o??!1;const p=i&&!o?this._u():[],y=this.Xa.size===0&&this.current&&!o?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new El(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:p}:{au:p}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=zt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new r1(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new s1(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=zt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const up="SyncEngine";class h2{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class f2{constructor(t){this.key=t,this.hu=!1}}class d2{constructor(t,i,a,o,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new fa((p=>EE(p)),Ch),this.Iu=new Map,this.Eu=new Set,this.du=new pe(vt.comparator),this.Au=new Map,this.Ru=new Jm,this.Vu={},this.mu=new Map,this.fu=vl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function m2(r,t,i=!0){const a=h1(r);let o;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.lu()):o=await a1(a,t,i,!0),o}async function p2(r,t){const i=h1(r);await a1(i,t,!0,!1)}async function a1(r,t,i,a){const o=await kw(r.localStore,Li(t)),c=o.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let p;return a&&(p=await g2(r,t,c,d==="current",o.resumeToken)),r.isPrimaryClient&&i&&XE(r.remoteStore,o),p}async function g2(r,t,i,a,o){r.pu=(S,M,G)=>(async function(it,Q,at,dt){let ht=Q.view.ru(at);ht.Cs&&(ht=await G0(it.localStore,Q.query,!1).then((({documents:I})=>Q.view.ru(I,ht))));const Rt=dt&&dt.targetChanges.get(Q.targetId),Ot=dt&&dt.targetMismatches.get(Q.targetId)!=null,gt=Q.view.applyChanges(ht,it.isPrimaryClient,Rt,Ot);return ev(it,Q.targetId,gt.au),gt.snapshot})(r,S,M,G);const c=await G0(r.localStore,t,!0),d=new c2(t,c.Qs),p=d.ru(c.documents),y=eu.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",o),_=d.applyChanges(p,r.isPrimaryClient,y);ev(r,i,_.au);const A=new h2(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),_.snapshot}async function y2(r,t,i){const a=Ct(r),o=a.Tu.get(t),c=a.Iu.get(o.targetId);if(c.length>1)return a.Iu.set(o.targetId,c.filter((d=>!Ch(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(o.targetId),a.sharedClientState.isActiveQueryTarget(o.targetId)||await bm(a.localStore,o.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(o.targetId),i&&np(a.remoteStore,o.targetId),xm(a,o.targetId)})).catch(Sl)):(xm(a,o.targetId),await bm(a.localStore,o.targetId,!0))}async function _2(r,t){const i=Ct(r),a=i.Tu.get(t),o=i.Iu.get(a.targetId);i.isPrimaryClient&&o.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),np(i.remoteStore,a.targetId))}async function v2(r,t,i){const a=w2(r);try{const o=await(function(d,p){const y=Ct(d),_=he.now(),A=p.reduce(((G,tt)=>G.add(tt.key)),zt());let S,M;return y.persistence.runTransaction("Locally write mutations","readwrite",(G=>{let tt=Es(),it=zt();return y.Ns.getEntries(G,A).next((Q=>{tt=Q,tt.forEach(((at,dt)=>{dt.isValidDocument()||(it=it.add(at))}))})).next((()=>y.localDocuments.getOverlayedDocuments(G,tt))).next((Q=>{S=Q;const at=[];for(const dt of p){const ht=Vx(dt,S.get(dt.key).overlayedDocument);ht!=null&&at.push(new Sr(dt.key,ht,dE(ht.value.mapValue),mi.exists(!0)))}return y.mutationQueue.addMutationBatch(G,_,at,p)})).next((Q=>{M=Q;const at=Q.applyToLocalDocumentSet(S,it);return y.documentOverlayCache.saveOverlays(G,Q.batchId,at)}))})).then((()=>({batchId:M.batchId,changes:AE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(o.batchId),(function(d,p,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new pe(Pt)),_=_.insert(p,y),d.Vu[d.currentUser.toKey()]=_})(a,o.batchId,i),await iu(a,o.changes),await Vh(a.remoteStore)}catch(o){const c=lp(o,"Failed to persist write");i.reject(c)}}async function l1(r,t){const i=Ct(r);try{const a=await Mw(i.localStore,t);t.targetChanges.forEach(((o,c)=>{const d=i.Au.get(c);d&&($t(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.hu=!0:o.modifiedDocuments.size>0?$t(d.hu,14607):o.removedDocuments.size>0&&($t(d.hu,42227),d.hu=!1))})),await iu(i,a,t)}catch(a){await Sl(a)}}function tv(r,t,i){const a=Ct(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const o=[];a.Tu.forEach(((c,d)=>{const p=d.view.va(t);p.snapshot&&o.push(p.snapshot)})),(function(d,p){const y=Ct(d);y.onlineState=p;let _=!1;y.queries.forEach(((A,S)=>{for(const M of S.Sa)M.va(p)&&(_=!0)})),_&&op(y)})(a.eventManager,t),o.length&&a.Pu.H_(o),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function E2(r,t,i){const a=Ct(r);a.sharedClientState.updateQueryState(t,"rejected",i);const o=a.Au.get(t),c=o&&o.key;if(c){let d=new pe(vt.comparator);d=d.insert(c,an.newNoDocument(c,xt.min()));const p=zt().add(c),y=new Dh(xt.min(),new Map,new pe(Pt),d,p);await l1(a,y),a.du=a.du.remove(c),a.Au.delete(t),cp(a)}else await bm(a.localStore,t,!1).then((()=>xm(a,t,i))).catch(Sl)}async function T2(r,t){const i=Ct(r),a=t.batch.batchId;try{const o=await Dw(i.localStore,t);u1(i,a,null),o1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await iu(i,o)}catch(o){await Sl(o)}}async function b2(r,t,i){const a=Ct(r);try{const o=await(function(d,p){const y=Ct(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let A;return y.mutationQueue.lookupMutationBatch(_,p).next((S=>($t(S!==null,37113),A=S.keys(),y.mutationQueue.removeMutationBatch(_,S)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,A,p))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A))).next((()=>y.localDocuments.getDocuments(_,A)))}))})(a.localStore,t);u1(a,t,i),o1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await iu(a,o)}catch(o){await Sl(o)}}function o1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function u1(r,t,i){const a=Ct(r);let o=a.Vu[a.currentUser.toKey()];if(o){const c=o.get(t);c&&(i?c.reject(i):c.resolve(),o=o.remove(t)),a.Vu[a.currentUser.toKey()]=o}}function xm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||c1(r,a)}))}function c1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&(np(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),cp(r))}function ev(r,t,i){for(const a of i)a instanceof s1?(r.Ru.addReference(a.key,t),A2(r,a)):a instanceof r1?(lt(up,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||c1(r,a.key)):bt(19791,{wu:a})}function A2(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(lt(up,"New document in limbo: "+i),r.Eu.add(a),cp(r))}function cp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new vt(ce.fromString(t)),a=r.fu.next();r.Au.set(a,new f2(i)),r.du=r.du.insert(i,a),XE(r.remoteStore,new or(Li(wh(i.path)),a,"TargetPurposeLimboResolution",bh.ce))}}async function iu(r,t,i){const a=Ct(r),o=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((p,y)=>{d.push(a.pu(y,t,i).then((_=>{if((_||i)&&a.isPrimaryClient){const A=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;a.sharedClientState.updateQueryState(y.targetId,A?"current":"not-current")}if(_){o.push(_);const A=tp.As(y.targetId,_);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(o),await(async function(y,_){const A=Ct(y);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>Z.forEach(_,(M=>Z.forEach(M.Es,(G=>A.persistence.referenceDelegate.addReference(S,M.targetId,G))).next((()=>Z.forEach(M.ds,(G=>A.persistence.referenceDelegate.removeReference(S,M.targetId,G)))))))))}catch(S){if(!xl(S))throw S;lt(ep,"Failed to update sequence numbers: "+S)}for(const S of _){const M=S.targetId;if(!S.fromCache){const G=A.Ms.get(M),tt=G.snapshotVersion,it=G.withLastLimboFreeSnapshotVersion(tt);A.Ms=A.Ms.insert(M,it)}}})(a.localStore,c))}async function S2(r,t){const i=Ct(r);if(!i.currentUser.isEqual(t)){lt(up,"User change. New user:",t.toKey());const a=await GE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((p=>{p.forEach((y=>{y.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await iu(i,a.Ls)}}function x2(r,t){const i=Ct(r),a=i.Au.get(t);if(a&&a.hu)return zt().add(a.key);{let o=zt();const c=i.Iu.get(t);if(!c)return o;for(const d of c){const p=i.Tu.get(d);o=o.unionWith(p.view.nu)}return o}}function h1(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=l1.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=x2.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=E2.bind(null,t),t.Pu.H_=o2.bind(null,t.eventManager),t.Pu.yu=u2.bind(null,t.eventManager),t}function w2(r){const t=Ct(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=T2.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=b2.bind(null,t),t}class ch{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Mh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return Iw(this.persistence,new Cw,t.initialUser,this.serializer)}Cu(t){return new FE(Wm.mi,this.serializer)}Du(t){return new Uw}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}ch.provider={build:()=>new ch};class C2 extends ch{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){$t(this.persistence.referenceDelegate instanceof oh,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new fw(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?Tn.withCacheSize(this.cacheSizeBytes):Tn.DEFAULT;return new FE((a=>oh.mi(a,i)),this.serializer)}}class wm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>tv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=S2.bind(null,this.syncEngine),await r2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new l2})()}createDatastore(t){const i=Mh(t.databaseInfo.databaseId),a=(function(c){return new qw(c)})(t.databaseInfo);return(function(c,d,p,y){return new Qw(c,d,p,y)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,o,c,d,p){return new Yw(a,o,c,d,p)})(this.localStore,this.datastore,t.asyncQueue,(i=>tv(this.syncEngine,i,0)),(function(){return Y0.v()?new Y0:new Lw})())}createSyncEngine(t,i){return(function(o,c,d,p,y,_,A){const S=new d2(o,c,d,p,y,_);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=Ct(i);lt(ua,"RemoteStore shutting down."),a.Ea.add(5),await nu(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}wm.provider={build:()=>new wm};class f1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):vs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const Tr="FirestoreClient";class R2{constructor(t,i,a,o,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=o,this.user=rn.UNAUTHENTICATED,this.clientId=Pm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{lt(Tr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(lt(Tr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=lp(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function nm(r,t){r.asyncQueue.verifyOperationInProgress(),lt(Tr,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async o=>{a.isEqual(o)||(await GE(t.localStore,o),a=o)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function nv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await N2(r);lt(Tr,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>$0(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,o)=>$0(t.remoteStore,o))),r._onlineComponents=t}async function N2(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){lt(Tr,"Using user provided OfflineComponentProvider");try{await nm(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11})(i))throw i;dl("Error using user provided cache. Falling back to memory cache: "+i),await nm(r,new ch)}}else lt(Tr,"Using default OfflineComponentProvider"),await nm(r,new C2(void 0));return r._offlineComponents}async function d1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(lt(Tr,"Using user provided OnlineComponentProvider"),await nv(r,r._uninitializedComponentsProvider._online)):(lt(Tr,"Using default OnlineComponentProvider"),await nv(r,new wm))),r._onlineComponents}function I2(r){return d1(r).then((t=>t.syncEngine))}async function Cm(r){const t=await d1(r),i=t.eventManager;return i.onListen=m2.bind(null,t.syncEngine),i.onUnlisten=y2.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=p2.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=_2.bind(null,t.syncEngine),i}function D2(r,t,i={}){const a=new dr;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,p,y,_){const A=new f1({next:M=>{A.Nu(),d.enqueueAndForget((()=>n1(c,S)));const G=M.docs.has(p);!G&&M.fromCache?_.reject(new ct(J.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&M.fromCache&&y&&y.source==="server"?_.reject(new ct(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),S=new i1(wh(p.path),A,{includeMetadataChanges:!0,qa:!0});return e1(c,S)})(await Cm(r),r.asyncQueue,t,i,a))),a.promise}function m1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const iv=new Map;const p1="firestore.googleapis.com",sv=!0;class rv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=p1,this.ssl=sv}else this.host=t.host,this.ssl=t.ssl??sv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=HE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<cw)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}YS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=m1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,o){return a.timeoutSeconds===o.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class kh{constructor(t,i,a,o){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new rv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new rv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new LS;switch(a.type){case"firstParty":return new qS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=iv.get(i);a&&(lt("ComponentProvider","Removing Datastore"),iv.delete(i),a.terminate())})(this),Promise.resolve()}}function M2(r,t,i,a={}){r=di(r,kh);const o=Tl(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},p=`${t}:${i}`;o&&(zv(`https://${p}`),Bv("Firestore",!0)),c.host!==p1&&c.host!==p&&dl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:p,ssl:o,emulatorOptions:a};if(!ys(y,d)&&(r._setSettings(y),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=rn.MOCK_USER;else{_=uA(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new rn(S)}r._authCredentials=new PS(new eE(_,A))}}class jh{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new jh(this.firestore,t,this._query)}}class Ce{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ce(this.firestore,t,this._key)}toJSON(){return{type:Ce._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Wo(i,Ce._jsonSchema))return new Ce(t,a||null,new vt(ce.fromString(i.referencePath)))}}Ce._jsonSchemaVersion="firestore/documentReference/1.0",Ce._jsonSchema={type:Ue("string",Ce._jsonSchemaVersion),referencePath:Ue("string")};class mr extends jh{constructor(t,i,a){super(t,i,wh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ce(this.firestore,null,new vt(t))}withConverter(t){return new mr(this.firestore,t,this._path)}}function Uc(r,t,...i){if(r=on(r),nE("collection","path",t),r instanceof kh){const a=ce.fromString(t,...i);return v0(a),new mr(r,null,a)}{if(!(r instanceof Ce||r instanceof mr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return v0(a),new mr(r.firestore,null,a)}}function le(r,t,...i){if(r=on(r),arguments.length===1&&(t=Pm.newId()),nE("doc","path",t),r instanceof kh){const a=ce.fromString(t,...i);return _0(a),new Ce(r,null,new vt(a))}{if(!(r instanceof Ce||r instanceof mr))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(ce.fromString(t,...i));return _0(a),new Ce(r.firestore,r instanceof mr?r.converter:null,new vt(a))}}const av="AsyncQueue";class lv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new KE(this,"async_queue_retry"),this._c=()=>{const a=em();a&&lt(av,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=em();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=em();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!xl(t))throw t;lt(av,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,vs("INTERNAL UNHANDLED ERROR: ",ov(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const o=ap.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(o),o}uc(){this.nc&&bt(47125,{Pc:ov(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function ov(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function uv(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const o=i;for(const c of a)if(c in o&&typeof o[c]=="function")return!0;return!1})(r,["next","error","complete"])}class ca extends kh{constructor(t,i,a,o){super(t,i,a,o),this.type="firestore",this._queue=new lv,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lv(t),this._firestoreClient=void 0,await t}}}function O2(r,t){const i=typeof r=="object"?r:Gv(),a=typeof r=="string"?r:nh,o=Um(i,"firestore").getImmediate({identifier:a});if(!o._initialized){const c=lA("firestore");c&&M2(o,...c)}return o}function hp(r){if(r._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||V2(r),r._firestoreClient}function V2(r){const t=r._freezeSettings(),i=(function(o,c,d,p){return new rx(o,c,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,m1(p.experimentalLongPollingOptions),p.useFetchStreams,p.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new R2(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(o){const c=o?._online.build();return{_offline:o?._offline.build(c),_online:c}})(r._componentsProvider))}class Zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Zn(en.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Zn(en.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Wo(t,Zn._jsonSchema))return Zn.fromBase64String(t.bytes)}}Zn._jsonSchemaVersion="firestore/bytes/1.0",Zn._jsonSchema={type:Ue("string",Zn._jsonSchemaVersion),bytes:Ue("string")};class Uh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Cl{constructor(t){this._methodName=t}}class zi{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Pt(this._lat,t._lat)||Pt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:zi._jsonSchemaVersion}}static fromJSON(t){if(Wo(t,zi._jsonSchema))return new zi(t.latitude,t.longitude)}}zi._jsonSchemaVersion="firestore/geoPoint/1.0",zi._jsonSchema={type:Ue("string",zi._jsonSchemaVersion),latitude:Ue("number"),longitude:Ue("number")};class Bi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,o){if(a.length!==o.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==o[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Wo(t,Bi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new Bi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Bi._jsonSchemaVersion="firestore/vectorValue/1.0",Bi._jsonSchema={type:Ue("string",Bi._jsonSchemaVersion),vectorValues:Ue("object")};const k2=/^__.*__$/;class j2{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms):new tu(t,this.data,i,this.fieldTransforms)}}class g1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new Sr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function y1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw bt(40011,{Ac:r})}}class Lh{constructor(t,i,a,o,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=o,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Lh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return hh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(y1(this.Ac)&&k2.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class U2{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||Mh(t)}Cc(t,i,a,o=!1){return new Lh({Ac:t,methodName:i,Dc:a,path:tn.emptyPath(),fc:!1,bc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function _1(r){const t=r._freezeSettings(),i=Mh(r._databaseId);return new U2(r._databaseId,!!t.ignoreUndefinedProperties,i)}function L2(r,t,i,a,o,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,o);pp("Data must be an object, but it was:",d,a);const p=E1(a,d);let y,_;if(c.merge)y=new On(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const M=Rm(t,S,i);if(!d.contains(M))throw new ct(J.INVALID_ARGUMENT,`Field '${M}' is specified in your field mask but missing from your input data.`);b1(A,M)||A.push(M)}y=new On(A),_=d.fieldTransforms.filter((S=>y.covers(S.field)))}else y=null,_=d.fieldTransforms;return new j2(new An(p),y,_)}class Ph extends Cl{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ph}}function v1(r,t,i){return new Lh({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class fp extends Cl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=v1(this,t,!0),a=this.vc.map((c=>Rl(c,i))),o=new yl(a);return new Km(t.path,o)}isEqual(t){return t instanceof fp&&ys(this.vc,t.vc)}}class dp extends Cl{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=v1(this,t,!0),a=this.vc.map((c=>Rl(c,i))),o=new _l(a);return new Km(t.path,o)}isEqual(t){return t instanceof dp&&ys(this.vc,t.vc)}}class mp extends Cl{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new Xo(t.serializer,wE(t.serializer,this.Fc));return new Km(t.path,i)}isEqual(t){return t instanceof mp&&this.Fc===t.Fc}}function P2(r,t,i,a){const o=r.Cc(1,t,i);pp("Data must be an object, but it was:",o,a);const c=[],d=An.empty();Ar(a,((y,_)=>{const A=gp(t,y,i);_=on(_);const S=o.yc(A);if(_ instanceof Ph)c.push(A);else{const M=Rl(_,S);M!=null&&(c.push(A),d.set(A,M))}}));const p=new On(c);return new g1(d,p,o.fieldTransforms)}function z2(r,t,i,a,o,c){const d=r.Cc(1,t,i),p=[Rm(t,a,i)],y=[o];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let M=0;M<c.length;M+=2)p.push(Rm(t,c[M])),y.push(c[M+1]);const _=[],A=An.empty();for(let M=p.length-1;M>=0;--M)if(!b1(_,p[M])){const G=p[M];let tt=y[M];tt=on(tt);const it=d.yc(G);if(tt instanceof Ph)_.push(G);else{const Q=Rl(tt,it);Q!=null&&(_.push(G),A.set(G,Q))}}const S=new On(_);return new g1(A,S,d.fieldTransforms)}function Rl(r,t){if(T1(r=on(r)))return pp("Unsupported field value:",t,r),E1(r,t);if(r instanceof Cl)return(function(a,o){if(!y1(o.Ac))throw o.Sc(`${a._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(o);c&&o.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,o){const c=[];let d=0;for(const p of a){let y=Rl(p,o.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,o){if((a=on(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return wE(o.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=he.fromDate(a);return{timestampValue:lh(o.serializer,c)}}if(a instanceof he){const c=new he(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:lh(o.serializer,c)}}if(a instanceof zi)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Zn)return{bytesValue:jE(o.serializer,a._byteString)};if(a instanceof Ce){const c=o.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw o.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Zm(a.firestore._databaseId||o.databaseId,a._key.path)}}if(a instanceof Bi)return(function(d,p){return{mapValue:{fields:{[hE]:{stringValue:fE},[ih]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw p.Sc("VectorValues must only contain numeric values.");return Qm(p.serializer,_)}))}}}}}})(a,o);throw o.Sc(`Unsupported field value: ${zm(a)}`)})(r,t)}function E1(r,t){const i={};return rE(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ar(r,((a,o)=>{const c=Rl(o,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function T1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof he||r instanceof zi||r instanceof Zn||r instanceof Ce||r instanceof Cl||r instanceof Bi)}function pp(r,t,i){if(!T1(i)||!iE(i)){const a=zm(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Rm(r,t,i){if((t=on(t))instanceof Uh)return t._internalPath;if(typeof t=="string")return gp(r,t);throw hh("Field path arguments must be of type string or ",r,!1,void 0,i)}const B2=new RegExp("[~\\*/\\[\\]]");function gp(r,t,i){if(t.search(B2)>=0)throw hh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Uh(...t.split("."))._internalPath}catch{throw hh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function hh(r,t,i,a,o){const c=a&&!a.isEmpty(),d=o!==void 0;let p=`Function ${t}() called with invalid data`;i&&(p+=" (via `toFirestore()`)"),p+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${a}`),d&&(y+=` in document ${o}`),y+=")"),new ct(J.INVALID_ARGUMENT,p+r+y)}function b1(r,t){return r.some((i=>i.isEqual(t)))}class A1{constructor(t,i,a,o,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ce(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new q2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(S1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class q2 extends A1{data(){return super.data()}}function S1(r,t){return typeof t=="string"?gp(r,t):t instanceof Uh?t._internalPath:t._delegate._internalPath}function H2(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class F2{convertValue(t,i="none"){switch(vr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return we(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(_r(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw bt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return Ar(t,((o,c)=>{a[o]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[ih].arrayValue?.values?.map((a=>we(a.doubleValue)));return new Bi(i)}convertGeoPoint(t){return new zi(we(t.latitude),we(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=Sh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Qo(t));default:return null}}convertTimestamp(t){const i=yr(t);return new he(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=ce.fromString(t);$t(qE(a),9688,{name:t});const o=new Ko(a.get(1),a.get(3)),c=new vt(a.popFirst(5));return o.isEqual(i)||vs(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function G2(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Uo{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ra extends A1{constructor(t,i,a,o,c,d){super(t,i,a,o,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Kc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(S1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=ra._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}ra._jsonSchemaVersion="firestore/documentSnapshot/1.0",ra._jsonSchema={type:Ue("string",ra._jsonSchemaVersion),bundleSource:Ue("string","DocumentSnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class Kc extends ra{data(t={}){return super.data(t)}}class ol{constructor(t,i,a,o){this._firestore=t,this._userDataWriter=i,this._snapshot=o,this.metadata=new Uo(o.hasPendingWrites,o.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new Kc(this._firestore,this._userDataWriter,a.key,a,new Uo(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map((p=>{const y=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);return p.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter((p=>c||p.type!==3)).map((p=>{const y=new Kc(o._firestore,o._userDataWriter,p.doc.key,p.doc,new Uo(o._snapshot.mutatedKeys.has(p.doc.key),o._snapshot.fromCache),o.query.converter);let _=-1,A=-1;return p.type!==0&&(_=d.indexOf(p.doc.key),d=d.delete(p.doc.key)),p.type!==1&&(d=d.add(p.doc),A=d.indexOf(p.doc.key)),{type:Q2(p.type),doc:y,oldIndex:_,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=ol._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Pm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],o=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),o.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function Q2(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return bt(61501,{type:r})}}function Yc(r){r=di(r,Ce);const t=di(r.firestore,ca);return D2(hp(t),r._key).then((i=>w1(t,r,i)))}ol._jsonSchemaVersion="firestore/querySnapshot/1.0",ol._jsonSchema={type:Ue("string",ol._jsonSchemaVersion),bundleSource:Ue("string","QuerySnapshot"),bundleName:Ue("string"),bundle:Ue("string")};class x1 extends F2{constructor(t){super(),this.firestore=t}convertBytes(t){return new Zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ce(this.firestore,null,i)}}function ms(r,t,i){r=di(r,Ce);const a=di(r.firestore,ca),o=G2(r.converter,t,i);return yp(a,[L2(_1(a),"setDoc",r._key,o,r.converter!==null,i).toMutation(r._key,mi.none())])}function Ge(r,t,i,...a){r=di(r,Ce);const o=di(r.firestore,ca),c=_1(o);let d;return d=typeof(t=on(t))=="string"||t instanceof Uh?z2(c,"updateDoc",r._key,t,i,a):P2(c,"updateDoc",r._key,t),yp(o,[d.toMutation(r._key,mi.exists(!0))])}function Lc(r){return yp(di(r.firestore,ca),[new Ym(r._key,mi.none())])}function Oo(r,...t){r=on(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||uv(t[a])||(i=t[a++]);const o={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(uv(t[a])){const y=t[a];t[a]=y.next?.bind(y),t[a+1]=y.error?.bind(y),t[a+2]=y.complete?.bind(y)}let c,d,p;if(r instanceof Ce)d=di(r.firestore,ca),p=wh(r._key.path),c={next:y=>{t[a]&&t[a](w1(d,r,y))},error:t[a+1],complete:t[a+2]};else{const y=di(r,jh);d=di(y.firestore,ca),p=y._query;const _=new x1(d);c={next:A=>{t[a]&&t[a](new ol(d,_,y,A))},error:t[a+1],complete:t[a+2]},H2(r._query)}return(function(_,A,S,M){const G=new f1(M),tt=new i1(A,G,S);return _.asyncQueue.enqueueAndForget((async()=>e1(await Cm(_),tt))),()=>{G.Nu(),_.asyncQueue.enqueueAndForget((async()=>n1(await Cm(_),tt)))}})(hp(d),p,o,c)}function yp(r,t){return(function(a,o){const c=new dr;return a.asyncQueue.enqueueAndForget((async()=>v2(await I2(a),o,c))),c.promise})(hp(r),t)}function w1(r,t,i){const a=i.docs.get(t._key),o=new x1(r);return new ra(r,o,t._key,a,new Uo(i.hasPendingWrites,i.fromCache),t.converter)}function K2(...r){return new fp("arrayUnion",r)}function fh(...r){return new dp("arrayRemove",r)}function dn(r){return new mp("increment",r)}(function(t,i=!0){(function(o){Al=o})(bl),fl(new la("firestore",((a,{instanceIdentifier:o,options:c})=>{const d=a.getProvider("app").getImmediate(),p=new ca(new zS(a.getProvider("auth-internal")),new HS(d,a.getProvider("app-check-internal")),(function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ko(_.options.projectId,A)})(d,o),d);return c={useFetchStreams:i,...c},p._setSettings(c),p}),"PUBLIC").setMultipleInstances(!0)),hr(m0,p0,t),hr(m0,p0,"esm2020")})();function C1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Y2=C1,R1=new Zo("auth","Firebase",C1());const dh=new km("@firebase/auth");function X2(r,...t){dh.logLevel<=Lt.WARN&&dh.warn(`Auth (${bl}): ${r}`,...t)}function Xc(r,...t){dh.logLevel<=Lt.ERROR&&dh.error(`Auth (${bl}): ${r}`,...t)}function Ts(r,...t){throw _p(r,...t)}function qi(r,...t){return _p(r,...t)}function N1(r,t,i){const a={...Y2(),[t]:i};return new Zo("auth","Firebase",a).create(t,{appName:r.name})}function pr(r){return N1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _p(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return R1.create(r,...t)}function At(r,t,...i){if(!r)throw _p(t,...i)}function ps(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Xc(t),new Error(t)}function bs(r,t){r||ps(t)}function Nm(){return typeof self<"u"&&self.location?.href||""}function $2(){return cv()==="http:"||cv()==="https:"}function cv(){return typeof self<"u"&&self.location?.protocol||null}function Z2(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($2()||pA()||"connection"in navigator)?navigator.onLine:!0}function J2(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class su{constructor(t,i){this.shortDelay=t,this.longDelay=i,bs(i>t,"Short delay should be less than long delay!"),this.isMobile=fA()||gA()}get(){return Z2()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vp(r,t){bs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class I1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const W2={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tC=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eC=new su(3e4,6e4);function zh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function Nl(r,t,i,a,o={}){return D1(r,o,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const p=Jo({key:r.config.apiKey,...d}).slice(1),y=await r._getAdditionalHeaders();y["Content-Type"]="application/json",r.languageCode&&(y["X-Firebase-Locale"]=r.languageCode);const _={method:t,headers:y,...c};return mA()||(_.referrerPolicy="no-referrer"),r.emulatorConfig&&Tl(r.emulatorConfig.host)&&(_.credentials="include"),I1.fetch()(await O1(r,r.config.apiHost,i,p),_)})}async function D1(r,t,i){r._canInitEmulator=!1;const a={...W2,...t};try{const o=new nC(r),c=await Promise.race([i(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Pc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const p=c.ok?d.errorMessage:d.error.message,[y,_]=p.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Pc(r,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Pc(r,"email-already-in-use",d);if(y==="USER_DISABLED")throw Pc(r,"user-disabled",d);const A=a[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw N1(r,A,_);Ts(r,A)}}catch(o){if(o instanceof As)throw o;Ts(r,"network-request-failed",{message:String(o)})}}async function M1(r,t,i,a,o={}){const c=await Nl(r,t,i,a,o);return"mfaPendingCredential"in c&&Ts(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function O1(r,t,i,a){const o=`${t}${i}?${a}`,c=r,d=c.config.emulator?vp(r.config,o):`${r.config.apiScheme}://${o}`;return tC.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class nC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(qi(this.auth,"network-request-failed")),eC.get())})}}function Pc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const o=qi(r,t,a);return o.customData._tokenResponse=i,o}async function iC(r,t){return Nl(r,"POST","/v1/accounts:delete",t)}async function mh(r,t){return Nl(r,"POST","/v1/accounts:lookup",t)}function Ho(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function sC(r,t=!1){const i=on(r),a=await i.getIdToken(t),o=Ep(a);At(o&&o.exp&&o.auth_time&&o.iat,i.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c?.sign_in_provider;return{claims:o,token:a,authTime:Ho(im(o.auth_time)),issuedAtTime:Ho(im(o.iat)),expirationTime:Ho(im(o.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function im(r){return Number(r)*1e3}function Ep(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Xc("JWT malformed, contained fewer than 3 sections"),null;try{const o=jv(i);return o?JSON.parse(o):(Xc("Failed to decode base64 JWT payload"),null)}catch(o){return Xc("Caught error parsing JWT payload as JSON",o?.toString()),null}}function hv(r){const t=Ep(r);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function $o(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof As&&rC(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function rC({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class aC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Im{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ho(this.lastLoginAt),this.creationTime=Ho(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ph(r){const t=r.auth,i=await r.getIdToken(),a=await $o(r,mh(t,{idToken:i}));At(a?.users.length,t,"internal-error");const o=a.users[0];r._notifyReloadListener(o);const c=o.providerUserInfo?.length?V1(o.providerUserInfo):[],d=oC(r.providerData,c),p=r.isAnonymous,y=!(r.email&&o.passwordHash)&&!d?.length,_=p?y:!1,A={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:d,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:_};Object.assign(r,A)}async function lC(r){const t=on(r);await ph(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oC(r,t){return[...r.filter(a=>!t.some(o=>o.providerId===a.providerId)),...t]}function V1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function uC(r,t){const i=await D1(r,{},async()=>{const a=Jo({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:o,apiKey:c}=r.config,d=await O1(r,o,"/v1/token",`key=${c}`),p=await r._getAdditionalHeaders();p["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:p,body:a};return r.emulatorConfig&&Tl(r.emulatorConfig.host)&&(y.credentials="include"),I1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function cC(r,t){return Nl(r,"POST","/v2/accounts:revokeToken",zh(r,t))}class ul{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):hv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){At(t.length!==0,"internal-error");const i=hv(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:o,expiresIn:c}=await uC(t,i);this.updateTokensAndExpiration(a,o,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:o,expirationTime:c}=i,d=new ul;return a&&(At(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),o&&(At(typeof o=="string","internal-error",{appName:t}),d.accessToken=o),c&&(At(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ul,this.toJSON())}_performRefresh(){return ps("not implemented")}}function ir(r,t){At(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class fi{constructor({uid:t,auth:i,stsTokenManager:a,...o}){this.providerId="firebase",this.proactiveRefresh=new aC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(t){const i=await $o(this,this.stsTokenManager.getToken(this.auth,t));return At(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return sC(this,t)}reload(){return lC(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await ph(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(hi(this.auth.app))return Promise.reject(pr(this.auth));const t=await this.getIdToken();return await $o(this,iC(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,o=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,p=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:M,isAnonymous:G,providerData:tt,stsTokenManager:it}=i;At(S&&it,t,"internal-error");const Q=ul.fromJSON(this.name,it);At(typeof S=="string",t,"internal-error"),ir(a,t.name),ir(o,t.name),At(typeof M=="boolean",t,"internal-error"),At(typeof G=="boolean",t,"internal-error"),ir(c,t.name),ir(d,t.name),ir(p,t.name),ir(y,t.name),ir(_,t.name),ir(A,t.name);const at=new fi({uid:S,auth:t,email:o,emailVerified:M,displayName:a,isAnonymous:G,photoURL:d,phoneNumber:c,tenantId:p,stsTokenManager:Q,createdAt:_,lastLoginAt:A});return tt&&Array.isArray(tt)&&(at.providerData=tt.map(dt=>({...dt}))),y&&(at._redirectEventId=y),at}static async _fromIdTokenResponse(t,i,a=!1){const o=new ul;o.updateFromServerResponse(i);const c=new fi({uid:i.localId,auth:t,stsTokenManager:o,isAnonymous:a});return await ph(c),c}static async _fromGetAccountInfoResponse(t,i,a){const o=i.users[0];At(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?V1(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!c?.length,p=new ul;p.updateFromIdToken(a);const y=new fi({uid:o.localId,auth:t,stsTokenManager:p,isAnonymous:d}),_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Im(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const fv=new Map;function gs(r){bs(r instanceof Function,"Expected a class definition");let t=fv.get(r);return t?(bs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,fv.set(r,t),t)}class k1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}k1.type="NONE";const dv=k1;function $c(r,t,i){return`firebase:${r}:${t}:${i}`}class cl{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:o,name:c}=this.auth;this.fullUserKey=$c(this.userKey,o.apiKey,c),this.fullPersistenceKey=$c("persistence",o.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await mh(this.auth,{idToken:t}).catch(()=>{});return i?fi._fromGetAccountInfoResponse(this.auth,i,t):null}return fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new cl(gs(dv),t,a);const o=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=o[0]||gs(dv);const d=$c(a,t.config.apiKey,t.name);let p=null;for(const _ of i)try{const A=await _._get(d);if(A){let S;if(typeof A=="string"){const M=await mh(t,{idToken:A}).catch(()=>{});if(!M)break;S=await fi._fromGetAccountInfoResponse(t,M,A)}else S=fi._fromJSON(t,A);_!==c&&(p=S),c=_;break}}catch{}const y=o.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new cl(c,t,a):(c=y[0],p&&await c._set(d,p.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new cl(c,t,a))}}function mv(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(P1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(j1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(B1(t))return"Blackberry";if(q1(t))return"Webos";if(U1(t))return"Safari";if((t.includes("chrome/")||L1(t))&&!t.includes("edge/"))return"Chrome";if(z1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function j1(r=ln()){return/firefox\//i.test(r)}function U1(r=ln()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function L1(r=ln()){return/crios\//i.test(r)}function P1(r=ln()){return/iemobile/i.test(r)}function z1(r=ln()){return/android/i.test(r)}function B1(r=ln()){return/blackberry/i.test(r)}function q1(r=ln()){return/webos/i.test(r)}function Tp(r=ln()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function hC(r=ln()){return Tp(r)&&!!window.navigator?.standalone}function fC(){return yA()&&document.documentMode===10}function H1(r=ln()){return Tp(r)||z1(r)||q1(r)||B1(r)||/windows phone/i.test(r)||P1(r)}function F1(r,t=[]){let i;switch(r){case"Browser":i=mv(ln());break;case"Worker":i=`${mv(ln())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${bl}/${a}`}class dC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,p)=>{try{const y=t(c);d(y)}catch(y){p(y)}});a.onAbort=i,this.queue.push(a);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const o of i)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function mC(r,t={}){return Nl(r,"GET","/v2/passwordPolicy",zh(r,t))}const pC=6;class gC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??pC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),o&&(i.meetsMaxPasswordLength=t.length<=o)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let o=0;o<t.length;o++)a=t.charAt(o),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,o,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class yC{constructor(t,i,a,o){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pv(this),this.idTokenSubscription=new pv(this),this.beforeStateQueue=new dC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=R1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=gs(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await cl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await mh(this,{idToken:t}),a=await fi._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(hi(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,o=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,p=await this.tryRedirectSignIn(t);(!c||c===d)&&p?.user&&(a=p.user,o=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await ph(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=J2()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(hi(this.app))return Promise.reject(pr(this));const i=t?on(t):null;return i&&At(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return hi(this.app)?Promise.reject(pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return hi(this.app)?Promise.reject(pr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await mC(this),i=new gC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Zo("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await cC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&gs(t)||this._popupRedirectResolver;At(i,this,"argument-error"),this.redirectPersistenceManager=await cl.create(this,[gs(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,o){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const p=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(p,this,"internal-error"),p.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,a,o);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=F1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(hi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&X2(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Bh(r){return on(r)}class pv{constructor(t){this.auth=t,this.observer=null,this.addObserver=xA(i=>this.observer=i)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let bp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _C(r){bp=r}function vC(r){return bp.loadJS(r)}function EC(){return bp.gapiScript}function TC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function bC(r,t){const i=Um(r,"auth");if(i.isInitialized()){const o=i.getImmediate(),c=i.getOptions();if(ys(c,t??{}))return o;Ts(o,"already-initialized")}return i.initialize({options:t})}function AC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(gs);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function SC(r,t,i){const a=Bh(r);At(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const o=!1,c=G1(t),{host:d,port:p}=xC(t),y=p===null?"":`:${p}`,_={url:`${c}//${d}${y}/`},A=Object.freeze({host:d,port:p,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!a._canInitEmulator){At(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),At(ys(_,a.config.emulator)&&ys(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=_,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,Tl(d)?(zv(`${c}//${d}${y}`),Bv("Auth",!0)):wC()}function G1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function xC(r){const t=G1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(a);if(o){const c=o[1];return{host:c,port:gv(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:gv(d)}}}function gv(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function wC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class Q1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return ps("not implemented")}_getIdTokenResponse(t){return ps("not implemented")}_linkToIdToken(t,i){return ps("not implemented")}_getReauthenticationResolver(t){return ps("not implemented")}}async function hl(r,t){return M1(r,"POST","/v1/accounts:signInWithIdp",zh(r,t))}const CC="http://localhost";class ha extends Q1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ha(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):Ts("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:o,...c}=i;if(!a||!o)return null;const d=new ha(a,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return hl(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,hl(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,hl(t,i)}buildRequest(){const t={requestUri:CC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=Jo(i)}return t}}class K1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class ru extends K1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class sr extends ru{constructor(){super("facebook.com")}static credential(t){return ha._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return sr.credentialFromTaggedObject(t)}static credentialFromError(t){return sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return sr.credential(t.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";class rr extends ru{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ha._fromParams({providerId:rr.PROVIDER_ID,signInMethod:rr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return rr.credentialFromTaggedObject(t)}static credentialFromError(t){return rr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return rr.credential(i,a)}catch{return null}}}rr.GOOGLE_SIGN_IN_METHOD="google.com";rr.PROVIDER_ID="google.com";class ar extends ru{constructor(){super("github.com")}static credential(t){return ha._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return ar.credentialFromTaggedObject(t)}static credentialFromError(t){return ar.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return ar.credential(t.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";class lr extends ru{constructor(){super("twitter.com")}static credential(t,i){return ha._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return lr.credentialFromTaggedObject(t)}static credentialFromError(t){return lr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return lr.credential(i,a)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";async function RC(r,t){return M1(r,"POST","/v1/accounts:signUp",zh(r,t))}class br{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,o=!1){const c=await fi._fromIdTokenResponse(t,a,o),d=yv(a);return new br({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const o=yv(a);return new br({user:t,providerId:o,_tokenResponse:a,operationType:i})}}function yv(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function NC(r){if(hi(r.app))return Promise.reject(pr(r));const t=Bh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new br({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await RC(t,{returnSecureToken:!0}),a=await br._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class gh extends As{constructor(t,i,a,o){super(i.code,i.message),this.operationType=a,this.user=o,Object.setPrototypeOf(this,gh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,o){return new gh(t,i,a,o)}}function Y1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?gh._fromErrorAndOperation(r,c,t,a):c})}async function IC(r,t,i=!1){const a=await $o(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return br._forOperation(r,"link",a)}async function DC(r,t,i=!1){const{auth:a}=r;if(hi(a.app))return Promise.reject(pr(a));const o="reauthenticate";try{const c=await $o(r,Y1(a,o,t,r),i);At(c.idToken,a,"internal-error");const d=Ep(c.idToken);At(d,a,"internal-error");const{sub:p}=d;return At(r.uid===p,a,"user-mismatch"),br._forOperation(r,o,c)}catch(c){throw c?.code==="auth/user-not-found"&&Ts(a,"user-mismatch"),c}}async function MC(r,t,i=!1){if(hi(r.app))return Promise.reject(pr(r));const a="signIn",o=await Y1(r,a,t),c=await br._fromIdTokenResponse(r,a,o);return i||await r._updateCurrentUser(c.user),c}function OC(r,t,i,a){return on(r).onIdTokenChanged(t,i,a)}function VC(r,t,i){return on(r).beforeAuthStateChanged(t,i)}function kC(r,t,i,a){return on(r).onAuthStateChanged(t,i,a)}const yh="__sak";class X1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(yh,"1"),this.storage.removeItem(yh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const jC=1e3,UC=10;class $1 extends X1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=H1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),o=this.localCache[i];a!==o&&t(i,o,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,p,y)=>{this.notifyListeners(d,y)});return}const a=t.key;i?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);fC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,UC):o()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}$1.type="LOCAL";const LC=$1;class Z1 extends X1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Z1.type="SESSION";const J1=Z1;function PC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class qh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(o=>o.isListeningto(t));if(i)return i;const a=new qh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:o,data:c}=i.data,d=this.handlersMap[o];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:o});const p=Array.from(d).map(async _=>_(i.origin,c)),y=await PC(p);i.ports[0].postMessage({status:"done",eventId:a,eventType:o,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qh.receivers=[];function Ap(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class zC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((p,y)=>{const _=Ap("",20);o.port1.start();const A=setTimeout(()=>{y(new Error("unsupported_event"))},a);d={messageChannel:o,onMessage(S){const M=S;if(M.data.eventId===_)switch(M.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),p(M.data.response);break;default:clearTimeout(A),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Hi(){return window}function BC(r){Hi().location.href=r}function W1(){return typeof Hi().WorkerGlobalScope<"u"&&typeof Hi().importScripts=="function"}async function qC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function HC(){return navigator?.serviceWorker?.controller||null}function FC(){return W1()?self:null}const tT="firebaseLocalStorageDb",GC=1,_h="firebaseLocalStorage",eT="fbase_key";class au{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Hh(r,t){return r.transaction([_h],t?"readwrite":"readonly").objectStore(_h)}function QC(){const r=indexedDB.deleteDatabase(tT);return new au(r).toPromise()}function Dm(){const r=indexedDB.open(tT,GC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(_h,{keyPath:eT})}catch(o){i(o)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(_h)?t(a):(a.close(),await QC(),t(await Dm()))})})}async function _v(r,t,i){const a=Hh(r,!0).put({[eT]:t,value:i});return new au(a).toPromise()}async function KC(r,t){const i=Hh(r,!1).get(t),a=await new au(i).toPromise();return a===void 0?null:a.value}function vv(r,t){const i=Hh(r,!0).delete(t);return new au(i).toPromise()}const YC=800,XC=3;class nT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>XC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return W1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qh._getInstance(FC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await qC(),!this.activeServiceWorker)return;this.sender=new zC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||HC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Dm();return await _v(t,yh,"1"),await vv(t,yh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>_v(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>KC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>vv(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(o=>{const c=Hh(o,!1).getAll();return new au(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:o,value:c}of t)a.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),i.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!a.has(o)&&(this.notifyListeners(o,null),i.push(o));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const o of Array.from(a))o(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),YC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nT.type="LOCAL";const $C=nT;new su(3e4,6e4);function ZC(r,t){return t?gs(t):(At(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Sp extends Q1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return hl(t,this._buildIdpRequest())}_linkToIdToken(t,i){return hl(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return hl(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function JC(r){return MC(r.auth,new Sp(r),r.bypassAuthState)}function WC(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),DC(i,new Sp(r),r.bypassAuthState)}async function tR(r){const{auth:t,user:i}=r;return At(i,t,"internal-error"),IC(i,new Sp(r),r.bypassAuthState)}class iT{constructor(t,i,a,o,c=!1){this.auth=t,this.resolver=a,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:o,tenantId:c,error:d,type:p}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(p)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return JC;case"linkViaPopup":case"linkViaRedirect":return tR;case"reauthViaPopup":case"reauthViaRedirect":return WC;default:Ts(this.auth,"internal-error")}}resolve(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){bs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const eR=new su(2e3,1e4);class al extends iT{constructor(t,i,a,o,c){super(t,i,o,c),this.provider=a,this.authWindow=null,this.pollId=null,al.currentPopupAction&&al.currentPopupAction.cancel(),al.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){bs(this.filter.length===1,"Popup operations only handle one event");const t=Ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(qi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(qi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,al.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,eR.get())};t()}}al.currentPopupAction=null;const nR="pendingRedirect",Zc=new Map;class iR extends iT{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Zc.get(this.auth._key());if(!t){try{const a=await sR(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Zc.set(this.auth._key(),t)}return this.bypassAuthState||Zc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function sR(r,t){const i=lR(t),a=aR(r);if(!await a._isAvailable())return!1;const o=await a._get(i)==="true";return await a._remove(i),o}function rR(r,t){Zc.set(r._key(),t)}function aR(r){return gs(r._redirectPersistence)}function lR(r){return $c(nR,r.config.apiKey,r.name)}async function oR(r,t,i=!1){if(hi(r.app))return Promise.reject(pr(r));const a=Bh(r),o=ZC(a,t),d=await new iR(a,o,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const uR=600*1e3;class cR{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!hR(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!sT(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(qi(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=uR&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ev(t))}saveEventToCache(t){this.cachedEventUids.add(Ev(t)),this.lastProcessedEventTime=Date.now()}}function Ev(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function sT({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function hR(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sT(r);default:return!1}}async function fR(r,t={}){return Nl(r,"GET","/v1/projects",t)}const dR=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,mR=/^https?/;async function pR(r){if(r.config.emulator)return;const{authorizedDomains:t}=await fR(r);for(const i of t)try{if(gR(i))return}catch{}Ts(r,"unauthorized-domain")}function gR(r){const t=Nm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!mR.test(i))return!1;if(dR.test(r))return a===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)}const yR=new su(3e4,6e4);function Tv(){const r=Hi().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function _R(r){return new Promise((t,i)=>{function a(){Tv(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Tv(),i(qi(r,"network-request-failed"))},timeout:yR.get()})}if(Hi().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Hi().gapi?.load)a();else{const o=TC("iframefcb");return Hi()[o]=()=>{gapi.load?a():i(qi(r,"network-request-failed"))},vC(`${EC()}?onload=${o}`).catch(c=>i(c))}}).catch(t=>{throw Jc=null,t})}let Jc=null;function vR(r){return Jc=Jc||_R(r),Jc}const ER=new su(5e3,15e3),TR="__/auth/iframe",bR="emulator/auth/iframe",AR={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},SR=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function xR(r){const t=r.config;At(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?vp(t,bR):`https://${r.config.authDomain}/${TR}`,a={apiKey:t.apiKey,appName:r.name,v:bl},o=SR.get(r.config.apiHost);o&&(a.eid=o);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${Jo(a).slice(1)}`}async function wR(r){const t=await vR(r),i=Hi().gapi;return At(i,r,"internal-error"),t.open({where:document.body,url:xR(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:AR,dontclear:!0},a=>new Promise(async(o,c)=>{await a.restyle({setHideOnLeave:!1});const d=qi(r,"network-request-failed"),p=Hi().setTimeout(()=>{c(d)},ER.get());function y(){Hi().clearTimeout(p),o(a)}a.ping(y).then(y,()=>{c(d)})}))}const CR={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},RR=500,NR=600,IR="_blank",DR="http://localhost";class bv{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function MR(r,t,i,a=RR,o=NR){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let p="";const y={...CR,width:a.toString(),height:o.toString(),top:c,left:d},_=ln().toLowerCase();i&&(p=L1(_)?IR:i),j1(_)&&(t=t||DR,y.scrollbars="yes");const A=Object.entries(y).reduce((M,[G,tt])=>`${M}${G}=${tt},`,"");if(hC(_)&&p!=="_self")return OR(t||"",p),new bv(null);const S=window.open(t||"",p,A);At(S,r,"popup-blocked");try{S.focus()}catch{}return new bv(S)}function OR(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const VR="__/auth/handler",kR="emulator/auth/handler",jR=encodeURIComponent("fac");async function Av(r,t,i,a,o,c){At(r.config.authDomain,r,"auth-domain-config-required"),At(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:bl,eventId:o};if(t instanceof K1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",SA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof ru){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const p=d;for(const A of Object.keys(p))p[A]===void 0&&delete p[A];const y=await r._getAppCheckToken(),_=y?`#${jR}=${encodeURIComponent(y)}`:"";return`${UR(r)}?${Jo(p).slice(1)}${_}`}function UR({config:r}){return r.emulator?vp(r,kR):`https://${r.authDomain}/${VR}`}const sm="webStorageSupport";class LR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=J1,this._completeRedirectFn=oR,this._overrideRedirectResult=rR}async _openPopup(t,i,a,o){bs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await Av(t,i,a,Nm(),o);return MR(t,c,Ap())}async _openRedirect(t,i,a,o){await this._originValidation(t);const c=await Av(t,i,a,Nm(),o);return BC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:o,promise:c}=this.eventManagers[i];return o?Promise.resolve(o):(bs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await wR(t),a=new cR(t);return i.register("authEvent",o=>(At(o?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(sm,{type:sm},o=>{const c=o?.[0]?.[sm];c!==void 0&&i(!!c),Ts(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=pR(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return H1()||U1()||Tp()}}const PR=LR;var Sv="@firebase/auth",xv="1.12.0";class zR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function BR(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function qR(r){fl(new la("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),o=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:p}=a.options;At(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const y={apiKey:d,authDomain:p,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:F1(r)},_=new yC(a,o,c,y);return AC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),fl(new la("auth-internal",t=>{const i=Bh(t.getProvider("auth").getImmediate());return(a=>new zR(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),hr(Sv,xv,BR(r)),hr(Sv,xv,"esm2020")}const HR=300,FR=Pv("authIdTokenMaxAge")||HR;let wv=null;const GR=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>FR)return;const o=i?.token;wv!==o&&(wv=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function QR(r=Gv()){const t=Um(r,"auth");if(t.isInitialized())return t.getImmediate();const i=bC(r,{popupRedirectResolver:PR,persistence:[$C,LC,J1]}),a=Pv("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=GR(c.toString());VC(i,d,()=>d(i.currentUser)),OC(i,p=>d(p))}}const o=Uv("auth");return o&&SC(i,`http://${o}`),i}function KR(){return document.getElementsByTagName("head")?.[0]??document}_C({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=o=>{const c=qi("internal-error");c.customData=o,i(c)},a.type="text/javascript",a.charset="UTF-8",KR().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});qR("Browser");const YR=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),XR=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),Cv=r=>{const t=XR(r);return t.charAt(0).toUpperCase()+t.slice(1)},rT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),$R=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var ZR={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const JR=St.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:o="",children:c,iconNode:d,...p},y)=>St.createElement("svg",{ref:y,...ZR,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:rT("lucide",o),...!c&&!$R(p)&&{"aria-hidden":"true"},...p},[...d.map(([_,A])=>St.createElement(_,A)),...Array.isArray(c)?c:[c]]));const re=(r,t)=>{const i=St.forwardRef(({className:a,...o},c)=>St.createElement(JR,{ref:c,iconNode:t,className:rT(`lucide-${YR(Cv(r))}`,`lucide-${r}`,a),...o}));return i.displayName=Cv(r),i};const WR=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tN=re("activity",WR);const eN=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],nN=re("book-open",eN);const iN=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],vh=re("calendar",iN);const sN=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],aT=re("check",sN);const rN=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],aN=re("circle-check-big",rN);const lN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],oN=re("circle-x",lN);const uN=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],lT=re("clipboard-list",uN);const cN=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Rv=re("dollar-sign",cN);const hN=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],fN=re("eye-off",hN);const dN=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],mN=re("eye",dN);const pN=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],gN=re("heart",pN);const yN=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],_N=re("info",yN);const vN=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Eh=re("key",vN);const EN=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Nv=re("loader-circle",EN);const TN=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],bN=re("log-out",TN);const AN=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],SN=re("party-popper",AN);const xN=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],wN=re("refresh-cw",xN);const CN=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],RN=re("shield-check",CN);const NN=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],oT=re("stethoscope",NN);const IN=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],DN=re("toggle-left",IN);const MN=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],ON=re("toggle-right",MN);const VN=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],zc=re("trash-2",VN);const kN=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],uT=re("trophy",kN);const jN=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],rm=re("user-check",jN);const UN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Iv=re("user-plus",UN);const LN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],Dv=re("user-x",LN);const PN=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Mm=re("users",PN);const zN=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Mv=re("x",zN),BN={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},cT=Fv(BN),Xn=O2(cT),fn=QR(cT),$n="balletfitbyjen-6b36a",qN="JENNY2024",aa=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],Ov=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Bc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],bn=({children:r,className:t=""})=>E.jsx("div",{className:`rounded-2xl border border-white/40 shadow-xl bg-white/70 backdrop-blur-md p-6 transition-all hover:bg-white/80 hover:shadow-2xl hover:scale-[1.01] ${t}`,children:r}),ci=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:o=""})=>{const c="px-6 py-3 rounded-xl font-sans font-bold tracking-widest uppercase text-[10px] transition-all transform active:scale-95 flex items-center justify-center gap-2 shadow-lg backdrop-blur-sm",d={primary:"bg-[#369EAD]/90 text-white hover:bg-[#1A3A3E] border border-white/20",secondary:"bg-white/50 border border-[#369EAD] text-[#369EAD] hover:bg-white",disabled:"bg-gray-200/50 text-gray-400 cursor-not-allowed border border-gray-200"};return E.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${o}`,disabled:a,children:r})},hT=(r,t)=>{const i=new Date,a=new Date,[o,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const y=i.getHours()*60+i.getMinutes(),_=o*60+c;y>_+120&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(o,c,0,0),(a-i)/(1e3*60*60)},Om=(r,t)=>{const i=new Date,a=i.getDay(),[o,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),p=o*60+c;return a>r||a===r&&d>=p},fT=(r=null)=>{let t=aa;return r&&(t=aa.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:hT(a.dayIdx,a.time)})).sort((a,o)=>a.diff-o.diff)[0]},xp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function HN(){const[r,t]=St.useState("login"),[i,a]=St.useState(null),[o,c]=St.useState([]),[d,p]=St.useState([]),[y,_]=St.useState({}),[A,S]=St.useState({totalClassesTaught:0}),[M,G]=St.useState(null),[tt,it]=St.useState(!0),[Q,at]=St.useState(null),[dt,ht]=St.useState(""),[Rt,Ot]=St.useState([]),gt=(q,W="success")=>{G({msg:q,type:W}),setTimeout(()=>G(null),4e3)},I=Uc(Xn,"artifacts",$n,"public","data","alumnas"),x=Uc(Xn,"artifacts",$n,"public","data","maestros"),C=Uc(Xn,"artifacts",$n,"public","data","sesiones"),V=le(Xn,"artifacts",$n,"public","data","config","metadata");St.useEffect(()=>{ht(Bc[Math.floor(Math.random()*Bc.length)]),(async()=>{try{await NC(fn)}catch(W){console.error("Error Auth:",W)}kC(fn,W=>{if(!W)return;const rt=Oo(I,et=>{const ft=et.docs.map(mt=>({id:mt.id,...mt.data()}));c(ft),it(!1)}),yt=Oo(x,et=>{const ft=et.docs.map(mt=>({id:mt.id,...mt.data()}));p(ft)}),Tt=Oo(C,et=>{const ft={};et.docs.forEach(mt=>ft[mt.id]=mt.data()),_(ft)}),D=Oo(V,et=>{et.exists()?S(et.data()):ms(V,{totalClassesTaught:0,lastResetWeek:0},{merge:!0})}),Y=Uc(Xn,"artifacts",$n,"public","data","asistencias_extras"),st=Oo(Y,et=>{const ft=et.docs.map(mt=>({id:mt.id,...mt.data()}));Ot(ft)});return()=>{rt(),yt(),Tt(),D(),st()}})})()},[]),St.useEffect(()=>{if(i&&i.role==="student"){const q=o.find(W=>W.id===i.id);q&&a(W=>({...W,...q}))}},[o]);const N=(q,W)=>{const rt=q.trim().toUpperCase(),yt=W.trim();if(at(null),rt==="ADMIN-JEN"||rt==="JENNY")if(yt===qN){a({firstName:"JENNY",role:"admin"}),t("admin"),gt("Acceso Admin concedido");return}else{at("Contrasea de Admin incorrecta.");return}const Tt=d.find(Y=>Y.id.toUpperCase()===rt);if(Tt)if(Tt.password===yt){if(Tt.status==="inactive"){at("Cuenta de maestra inactiva.");return}a({...Tt,firstName:Tt.name.split(" ")[0],role:"teacher"}),t("teacher"),gt("Acceso Maestra concedido");return}else{at("Contrasea de maestra incorrecta.");return}const D=o.find(Y=>Y.id.toUpperCase()===rt);if(D){if(D.password&&D.password!==yt){at("Contrasea incorrecta.");return}if(D.status==="inactive"){at("Cuenta inactiva. Contacta a Jenny.");return}a({...D,firstName:D.name.split(" ")[0],role:"student"}),ht(Bc[Math.floor(Math.random()*Bc.length)]),t("student")}else at("ID no encontrado o datos incorrectos.")},k=async q=>{if(!fn.currentUser)return;const W=aa.find(yt=>yt.id===q),rt=y[q];if(Om(W.dayIdx,W.time)){gt("Esta clase ya ocurri.","error");return}if(rt?.isClosed){gt("Clase cerrada.","error");return}if(i.credits<=0){gt("Sin crditos.","error");return}try{const yt=le(Xn,"artifacts",$n,"public","data","alumnas",i.id),Tt=le(Xn,"artifacts",$n,"public","data","sesiones",q);await Ge(yt,{credits:dn(-1),history:K2(q)}),await ms(Tt,{booked:dn(1)},{merge:!0}),gt("Clase reservada!")}catch{gt("Error al reservar","error")}},w=async(q,W,rt)=>{if(!rt.trim()){gt("La contrasea no puede estar vaca","error");return}try{await Ge(le(Xn,"artifacts",$n,"public","data",q,W),{password:rt.trim()}),gt("Contrasea actualizada con xito"),a(yt=>({...yt,password:rt.trim()}))}catch{gt("Error al actualizar contrasea","error")}},Ft=async q=>{if(!fn.currentUser)return;const W=aa.find(Tt=>Tt.id===q);if(Om(W.dayIdx,W.time)){gt("No se puede cancelar una clase que ya finaliz.","error");return}const yt=hT(W.dayIdx,W.time)<6;if(!(yt&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const Tt=le(Xn,"artifacts",$n,"public","data","alumnas",i.id),D=le(Xn,"artifacts",$n,"public","data","sesiones",q);yt?await Ge(Tt,{history:fh(q)}):await Ge(Tt,{credits:dn(1),history:fh(q)}),await Ge(D,{booked:dn(-1)}),gt(yt?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{gt("Error al cancelar","error")}},te=()=>{a(null),t("login"),at(null)};return tt?E.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-gradient-to-br from-[#EBF5F6] to-[#white] italic text-xl",children:"Cargando Ballet Fit..."}):E.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased min-h-screen bg-gradient-to-br from-[#EBF5F6] via-[#d4e9ed] to-[#EBF5F6]",children:[E.jsx("div",{className:"fixed top-[-10%] left-[-10%] w-[500px] h-[500px] rounded-full bg-[#369EAD]/10 blur-[100px] pointer-events-none"}),E.jsx("div",{className:"fixed bottom-[-10%] right-[-10%] w-[500px] h-[500px] rounded-full bg-[#C5A059]/10 blur-[100px] pointer-events-none"}),M&&E.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-xl shadow-2xl backdrop-blur-md flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border ${M.type==="error"?"bg-red-500/90 text-white border-red-700":"bg-[#1A3A3E]/90 text-white border-[#369EAD]"}`,children:[M.type==="error"?E.jsx(oN,{size:18}):E.jsx(aN,{size:18}),E.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:M.msg})]}),r==="login"&&E.jsx(FN,{onLogin:N,error:Q}),r==="student"&&E.jsx(GN,{user:i,quote:dt,sessions:aa,sessionsData:y,onBook:k,onCancel:Ft,onLogout:te,onUpdatePassword:w}),r==="admin"&&E.jsx(QN,{students:o,teachers:d,sessionsData:y,settings:A,db:Xn,appId:$n,onLogout:te,showNotification:gt,extraGuests:Rt}),r==="teacher"&&E.jsx(KN,{user:i,students:o,sessionsData:y,db:Xn,appId:$n,onLogout:te,showNotification:gt,onUpdatePassword:w})]})}const FN=({onLogin:r,error:t})=>{const[i,a]=St.useState(""),[o,c]=St.useState(""),[d,p]=St.useState(!1);return E.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[E.jsx("div",{className:"absolute inset-0 bg-[#1A3A3E]/40 backdrop-blur-sm"}),E.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:E.jsxs("div",{className:"bg-white/70 backdrop-blur-xl p-10 rounded-3xl shadow-2xl border border-white/40",children:[E.jsxs("div",{className:"text-center mb-10",children:[E.jsx("h1",{className:"font-serif text-5xl text-[#1A3A3E] mb-2 italic font-bold",children:"Ballet Fit"}),E.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-black",children:"Portal alumnas"})]}),E.jsxs("form",{onSubmit:y=>{y.preventDefault(),r(i,o)},className:"space-y-6",children:[E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-500 tracking-widest ml-1",children:"ID o Usuario"}),E.jsx("input",{type:"text",required:!0,placeholder:"Ingresa tu ID",className:"w-full p-4 bg-white/50 border border-white/50 rounded-xl focus:border-[#369EAD] focus:bg-white/80 outline-none font-sans uppercase text-sm transition-all shadow-inner",value:i,onChange:y=>a(y.target.value)})]}),E.jsxs("div",{className:"space-y-1 relative",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-500 tracking-widest ml-1",children:"Contrasea"}),E.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-white/50 border border-white/50 rounded-xl focus:border-[#369EAD] focus:bg-white/80 outline-none font-sans text-sm transition-all shadow-inner",value:o,onChange:y=>c(y.target.value)}),E.jsx("button",{type:"button",onClick:()=>p(!d),className:"absolute right-4 bottom-4 text-gray-400 hover:text-[#369EAD]",children:d?E.jsx(fN,{size:18}):E.jsx(mN,{size:18})})]}),t&&E.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50/80 p-3 rounded-xl border border-red-100",children:t}),E.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E]/90 hover:bg-[#369EAD] text-white py-5 rounded-xl font-sans uppercase tracking-[0.3em] text-[11px] font-bold transition-all shadow-lg active:scale-95 border border-white/20 backdrop-blur-sm",children:"Entrar"})]})]})})]})},GN=({user:r,quote:t,sessions:i,sessionsData:a,onBook:o,onCancel:c,onLogout:d,onUpdatePassword:p})=>{const y=r.history||[],_=i.filter(Q=>y.includes(Q.id)),A=_.length>0?_[0]:null,S=xp(),[M,G]=St.useState(!1),[tt,it]=St.useState("");return E.jsxs("div",{className:"pb-20 relative z-10",children:[E.jsx("nav",{className:"bg-white/60 backdrop-blur-md shadow-sm border-b border-white/40 p-4 sticky top-0 z-50",children:E.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[E.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:()=>G(!0),className:"text-gray-500 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest transition-colors",children:[E.jsx(Eh,{size:16})," ",E.jsx("span",{children:"Mi Clave"})]}),E.jsxs("button",{onClick:d,className:"text-gray-500 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest transition-colors",children:[E.jsx("span",{children:"Salir"}),E.jsx(bN,{size:16})]})]}),M&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/60 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50 text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Mi Nueva Clave"}),E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-center font-bold mb-4",placeholder:"Escribe aqu",value:tt,onChange:Q=>it(Q.target.value)}),E.jsx(ci,{onClick:()=>{p("alumnas",r.id,tt),G(!1)},className:"w-full !py-4",children:"Actualizar"}),E.jsx("button",{onClick:()=>G(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-400",children:"Cerrar"})]})})]})}),E.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[E.jsxs("div",{className:"mb-10 text-center md:text-left",children:[E.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),E.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[E.jsx(gN,{size:16,fill:"#369EAD"})," ",t]})]}),E.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[E.jsxs(bn,{className:"md:col-span-2 flex flex-col justify-between !border-t border-white/40",children:[E.jsxs("div",{className:"flex justify-between items-start mb-6",children:[E.jsx("div",{children:E.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",S]})}),E.jsx("div",{className:"p-3 rounded-full bg-white/50 text-[#369EAD] shadow-sm",children:E.jsx(tN,{size:24})})]}),E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsxs("div",{className:"bg-[#EBF5F6]/50 backdrop-blur-sm px-6 py-4 rounded-xl border border-[#369EAD]/10",children:[E.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases de la semana"}),E.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[E.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),E.jsxs("span",{className:"text-gray-400 text-lg",children:["/ ",r.maxCredits]})]})]}),E.jsxs("div",{className:"bg-[#1A3A3E]/90 backdrop-blur-sm px-6 py-4 rounded-xl border border-white/10 text-white shadow-lg",children:[E.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),E.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[E.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),E.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),E.jsxs(bn,{className:"!bg-[#1A3A3E]/90 border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[E.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:E.jsx(vh,{size:120})}),E.jsx(vh,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),E.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),A?E.jsxs("div",{className:"animate-in fade-in duration-500",children:[E.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:A.day}),E.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:A.time}),E.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",A.teacher]})]}):E.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),E.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),E.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(Q=>{const at=y.includes(Q.id),dt=a[Q.id]||{booked:0,isClosed:!1},ht=(dt.booked||0)>=Q.spots,Rt=dt.isClosed,Ot=Om(Q.dayIdx,Q.time),gt=r.credits>0&&!at&&!ht&&!Rt&&!Ot;return E.jsxs(bn,{className:`!p-8 transition-all duration-300 ${at?"!bg-[#EBF5F6]/80 !border-[#369EAD]/50":Rt||Ot?"opacity-50 grayscale":"hover:!bg-white/90"}`,children:[E.jsxs("div",{className:"mb-6",children:[E.jsxs("div",{className:"flex justify-between items-start font-sans",children:[E.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:Q.day}),Rt?E.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):Ot?E.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),E.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:Q.time}),E.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:Q.teacher})]}),E.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-100/50 font-sans",children:[E.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[E.jsx(Mm,{size:12})," ",dt.booked||0,"/",Q.spots]}),at?Ot?E.jsx("span",{className:"text-[9px] text-[#369EAD] font-bold uppercase italic opacity-60",children:"Asistencia registrada"}):E.jsx("button",{onClick:()=>c(Q.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):E.jsx(ci,{onClick:()=>o(Q.id),disabled:!gt,className:"!px-4 !py-2 !text-[9px]",children:Rt?"Cerrado":Ot?"Pasada":ht?"Lleno":"Reservar"})]})]},Q.id)})})]})]})},QN=({students:r,teachers:t,sessionsData:i,settings:a,db:o,appId:c,onLogout:d,showNotification:p,extraGuests:y=[]})=>{const[_,A]=St.useState(!1),[S,M]=St.useState(!1),[G,tt]=St.useState(null),[it,Q]=St.useState(null),[at,dt]=St.useState(""),[ht,Rt]=St.useState(null),[Ot,gt]=St.useState(""),[I,x]=St.useState(""),[C,V]=St.useState(""),[N,k]=St.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:"",registrationDate:new Date().toISOString().split("T")[0]}),[w,Ft]=St.useState({id:"",name:"",password:"",role:"teacher"}),[te,q]=St.useState(!1),[W,rt]=St.useState(null),[yt,Tt]=St.useState(0),D=xp(),[Y,st]=St.useState(!1),[et,ft]=St.useState({name:"",type:"Clase Suelta"}),mt=r.filter(B=>B.status!=="inactive"),[Mt,me]=St.useState(null),[Xt,Vn]=St.useState(1),Ss=B=>{const _t=B.map(ye=>ye.id).filter(ye=>ye.startsWith("BF-")).map(ye=>parseInt(ye.split("-")[1])).filter(ye=>!isNaN(ye)),Ht=_t.length>0?Math.max(..._t):0;return`BF-${String(Ht+1).padStart(3,"0")}`};St.useEffect(()=>{if(_){const B=Ss(r);k(_t=>({..._t,id:B}))}},[_,r]);const un=fT(),Qi=r.filter(B=>B.history?.includes(un.id)&&B.status!=="inactive"),kn=r.reduce((B,_t)=>B+(_t.monthlyPayment||0),0),xs=y?y.reduce((B,_t)=>B+(_t.totalPaid||0),0):0,Ki=kn+xs,xr=async(B,_t)=>{fn.currentUser&&(await ms(le(o,"artifacts",c,"public","data","sesiones",B),{isClosed:!_t},{merge:!0}),p("Estado actualizado"))},wr=async()=>{if(!(!fn.currentUser||!Mt))try{await Ge(le(o,"artifacts",c,"public","data","alumnas",Mt),{credits:dn(parseInt(Xt))}),p(`Se agregaron ${Xt} crditos`),me(null),Vn(1)}catch{p("Error","error")}},ge=async(B,_t)=>{if(fn.currentUser&&window.confirm("Confirmar asistencia?"))try{const Ht=le(o,"artifacts",c,"public","data","alumnas",B),ye=le(o,"artifacts",c,"public","data","sesiones",_t),Te=await Yc(ye);Te.exists()&&Te.data().isCounted||(await Ge(le(o,"artifacts",c,"public","data","config","metadata"),{totalClassesTaught:dn(1)}),await ms(ye,{isCounted:!0},{merge:!0})),await Ge(Ht,{totalAttendance:dn(1),history:fh(_t)}),await Ge(ye,{booked:dn(-1)}),p("Asistencia confirmada")}catch(Ht){console.error(Ht)}},Ee=async B=>{if(!et.name.trim())return p("Escribe un nombre","error");try{const _t=et.name.trim().toUpperCase(),Ht=le(o,"artifacts",c,"public","data","asistencias_extras",_t),ye=await Yc(Ht);ye.exists()?await Ge(Ht,{totalVisits:dn(1),lastSessionId:B,lastDate:new Date().toISOString(),totalPaid:dn(et.type==="Clase Suelta"?150:0)}):await ms(Ht,{name:_t,type:et.type,totalVisits:1,totalPaid:et.type==="Clase Suelta"?150:0,firstVisit:new Date().toISOString(),lastSessionId:B,status:"prospect"});const Te=le(o,"artifacts",c,"public","data","sesiones",B);await ms(Te,{booked:dn(1)},{merge:!0}),p(ye.exists()?"Visita recurrente":"Nueva invitada"),st(!1),ft({name:"",type:"Clase Suelta"})}catch{p("Error","error")}},Jn=async(B,_t,Ht)=>{if(!fn.currentUser)return;const ye=Ht==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus?"))try{await Ge(le(o,"artifacts",c,"public","data",B,_t),{status:ye}),p("Estatus actualizado")}catch(Te){console.error(Te)}},Il=async(B,_t)=>{if(fn.currentUser&&at.trim())try{await Ge(le(o,"artifacts",c,"public","data",B,_t),{password:at.trim()}),p("Contrasea actualizada"),tt(null),Q(null),dt("")}catch(Ht){console.error(Ht)}},ma=async B=>{if(!fn.currentUser)return;B.preventDefault();const _t=N.id.trim().toUpperCase();if(!_t||!N.name||!N.password){p("Completa los campos","error");return}q(!0);try{const Ht=le(o,"artifacts",c,"public","data","alumnas",_t);if((await Yc(Ht)).exists()){p("ID ya usado","error"),q(!1);return}const Te=parseInt(N.plan.split(" ")[0])||2;await ms(Ht,{id:_t,name:N.name.trim().toUpperCase(),password:N.password,plan:N.plan,maxCredits:Te,credits:Te,history:[],monthlyPayment:0,totalAttendance:0,notes:N.notes.trim(),registrationDate:N.registrationDate,status:"active"}),p("Registrada"),A(!1),k({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(Ht){console.error(Ht)}q(!1)},Ke=async B=>{try{await Ge(le(o,"artifacts",c,"public","data","alumnas",B),{name:Ot.trim().toUpperCase(),registrationDate:I,notes:C.trim()}),p("Datos actualizados"),Rt(null)}catch{p("Error","error")}},Yi=async B=>{if(!fn.currentUser)return;B.preventDefault();const _t=w.id.trim().toUpperCase();if(!_t||!w.name||!w.password){p("Completa los campos","error");return}q(!0);try{await ms(le(o,"artifacts",c,"public","data","maestros",_t),{...w,id:_t,name:w.name.trim().toUpperCase(),status:"active"}),p("Staff registrado"),M(!1),Ft({id:"",name:"",password:"",role:"teacher"})}catch(Ht){console.error(Ht)}q(!1)},Cr=async()=>{if(!(!fn.currentUser||!W))try{await Ge(le(o,"artifacts",c,"public","data","alumnas",W),{monthlyPayment:parseFloat(yt)}),p("Pago registrado"),rt(null),Tt(0)}catch(B){console.error(B)}},Rr=async(B,_t)=>{if(fn.currentUser&&window.confirm(`Borrar a ${_t}?`))try{await Lc(le(o,"artifacts",c,"public","data","alumnas",B)),p("Eliminada")}catch{p("Error","error")}},pi=async(B,_t)=>{if(fn.currentUser&&window.confirm(`Borrar a ${_t}?`))try{await Lc(le(o,"artifacts",c,"public","data","maestros",B)),p("Eliminado")}catch{p("Error","error")}};return E.jsxs("div",{className:"pb-20 relative z-10",children:[E.jsxs("nav",{className:"bg-[#1A3A3E]/90 backdrop-blur-md text-white p-5 flex justify-between items-center shadow-lg sticky top-0 z-50",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),E.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:D})]}),E.jsx("button",{onClick:d,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),E.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs(bn,{className:"lg:col-span-1 !bg-[#1A3A3E]/90 !border-[#C5A059] text-white",children:[E.jsxs("div",{className:"mb-6 space-y-4",children:[E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[E.jsx(lT,{size:20})," Roster"]}),E.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[un?.day," ",un?.time]})]}),E.jsxs("button",{onClick:()=>st(!0),className:"w-full py-3 bg-[#C5A059] text-[#1A3A3E] text-[10px] font-black uppercase tracking-[0.2em] rounded-xl hover:bg-white transition-all flex items-center justify-center gap-2 shadow-lg",children:[E.jsx(Iv,{size:14})," + Invitada Extra"]})]}),E.jsxs("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:[Qi.map(B=>E.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl flex justify-between items-center gap-4",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex justify-between items-start",children:[E.jsx("span",{className:"font-serif italic font-bold text-sm",children:B.name}),E.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:B.id})]})}),E.jsx("button",{onClick:()=>ge(B.id,un.id),className:"p-2 bg-[#369EAD] text-white rounded-full hover:bg-white hover:text-[#369EAD] transition-all",children:E.jsx(aT,{size:18})})]},B.id)),y&&y.filter(B=>B.sessionId===un?.id).map(B=>E.jsxs("div",{className:"p-4 bg-[#C5A059]/10 border border-[#C5A059]/30 rounded-xl flex justify-between items-center gap-4 border-l-4 border-l-[#C5A059]",children:[E.jsx("div",{className:"flex-1",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"font-serif italic font-bold text-sm text-[#C5A059]",children:B.name}),E.jsx("span",{className:"text-[8px] font-sans uppercase font-black opacity-60",children:B.type})]})}),E.jsx("button",{onClick:async()=>{if(window.confirm("Eliminar?")){await Lc(le(o,"artifacts",c,"public","data","asistencias_extras",B.id));const _t=le(o,"artifacts",c,"public","data","sesiones",un.id);await Ge(_t,{booked:dn(-1)}),p("Eliminada")}},className:"p-2 text-red-400 hover:text-red-600 transition-colors",children:E.jsx(zc,{size:16})})]},B.id)),Qi.length===0&&(!y||y.filter(B=>B.sessionId===un?.id).length===0)&&E.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay nadie anotado"})]})]}),E.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[E.jsxs(bn,{className:"!bg-[#1A3A3E]/90 !border-[#C5A059] text-white flex items-center gap-6 group",children:[E.jsx("div",{className:"p-4 bg-[#C5A059] rounded-xl text-[#1A3A3E] group-hover:rotate-6 transition-transform",children:E.jsx(Rv,{size:28})}),E.jsxs("div",{className:"flex-1",children:[E.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1 flex justify-between",children:[E.jsxs("span",{children:["Caja ",D]}),E.jsxs("span",{className:"text-[#C5A059] opacity-70",children:["Incluye $",xs," de extras"]})]}),E.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",Ki.toLocaleString()]})]})]}),E.jsxs(bn,{className:"!bg-[#1A3A3E]/90 border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[E.jsx(SN,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),E.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),E.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 px-4",children:"Cada alumna nueva es un paso ms"})]}),E.jsxs(bn,{className:"flex items-center gap-6 !border-[#369EAD] group",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-xl group-hover:scale-110 transition-transform",children:E.jsx(uT,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),E.jsxs("p",{className:"text-3xl font-bold",children:[a?.totalClassesTaught||0," clases dadas"]})]})]}),E.jsxs(bn,{className:"!bg-[#EBF5F6]/50 border-white flex items-center gap-6 md:col-span-2",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] rounded-xl text-white",children:E.jsx(Mm,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),E.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[mt.length," Alumnas pagando"]})]})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[E.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[E.jsxs(bn,{className:"border-[#C5A059]",children:[E.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[E.jsx(_N,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),E.jsx("div",{className:"space-y-3 font-sans text-[11px]",children:Ov.map((B,_t)=>E.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100/50 pb-2",children:[E.jsx("span",{className:"text-gray-400 uppercase font-bold",children:B.plan}),E.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",B.price]})]},_t))})]}),E.jsxs(bn,{className:"border-[#369EAD]",children:[E.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),E.jsx("div",{className:"space-y-4 font-sans text-xs",children:aa.map(B=>{const _t=i[B.id]?.isClosed||!1;return E.jsxs("div",{className:"flex justify-between items-center",children:[E.jsx("span",{className:"font-bold opacity-60 uppercase",children:B.day}),E.jsx("button",{onClick:()=>xr(B.id,_t),children:_t?E.jsx(DN,{size:30,className:"text-red-300"}):E.jsx(ON,{size:30,className:"text-[#369EAD]"})})]},B.id)})})]})]}),E.jsxs("div",{className:"lg:col-span-3 space-y-8",children:[E.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl shadow-xl border border-white/50 overflow-hidden font-sans",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100/50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[E.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[E.jsx(RN,{size:20,className:"text-[#369EAD]"})," Control Maestras"]}),E.jsx(ci,{onClick:()=>M(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50/50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4",children:"Nombre"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),E.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100/50",children:t.map(B=>E.jsxs("tr",{className:`hover:bg-white/50 text-sm ${B.status==="inactive"?"opacity-40":""}`,children:[E.jsx("td",{className:"px-6 py-4",children:E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("div",{className:`w-2 h-2 rounded-full ${B.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),E.jsxs("div",{children:[E.jsx("div",{className:"font-bold font-serif italic",children:B.name}),E.jsxs("div",{className:"text-[9px] uppercase text-gray-400",children:[B.id,"  ",B.role]})]})]})}),E.jsx("td",{className:"px-6 py-4 text-center font-bold text-[#C5A059]",children:B.password}),E.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[E.jsx("button",{onClick:()=>Q(B.id),className:"p-2 text-gray-400 hover:text-[#C5A059]",children:E.jsx(Eh,{size:16})}),E.jsx("button",{onClick:()=>Jn("maestros",B.id,B.status),className:`p-2 rounded-full ${B.status==="inactive"?"text-green-500":"text-red-400"}`,children:B.status==="inactive"?E.jsx(rm,{size:16}):E.jsx(Dv,{size:16})}),E.jsx("button",{onClick:()=>pi(B.id,B.name),className:"p-2 text-red-200 hover:text-red-500",children:E.jsx(zc,{size:16})})]})]},B.id))})]})})]}),E.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl shadow-xl border border-white/50 overflow-hidden font-sans",children:[E.jsxs("div",{className:"p-6 border-b border-gray-100/50 bg-gray-50/30 flex justify-between items-center",children:[E.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control Alumnas"}),E.jsx(ci,{onClick:()=>A(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50/50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-5",children:"Nombre"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Clave"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Asis."}),E.jsx("th",{className:"px-6 py-5 text-center",children:"Pago"}),E.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100/50",children:r.map(B=>{const _t=B.status==="inactive";return E.jsxs("tr",{className:`hover:bg-white/50 transition-all text-sm ${_t?"opacity-40 grayscale-[0.5]":""}`,children:[E.jsx("td",{className:"px-6 py-5",children:E.jsxs("div",{className:"flex flex-col",children:[E.jsx("span",{className:"text-[10px] font-black text-[#369EAD] bg-[#EBF5F6]/80 px-2 py-0.5 rounded-sm w-fit mb-1",children:B.id}),ht===B.id?E.jsxs("div",{className:"space-y-2 bg-gray-50/80 p-2 rounded-xl border border-[#369EAD]/30 animate-in fade-in duration-300",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Nombre"}),E.jsx("input",{type:"text",className:"w-full font-bold font-serif italic border-b border-[#369EAD] outline-none bg-transparent text-[#1A3A3E] uppercase",value:Ot,onChange:Ht=>gt(Ht.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Fecha Inscripcin"}),E.jsx("input",{type:"date",className:"w-full text-xs font-sans border-b border-gray-300 outline-none bg-transparent text-gray-600",value:I,onChange:Ht=>x(Ht.target.value)})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[8px] font-black text-gray-400 uppercase",children:"Notas Mdicas"}),E.jsx("textarea",{className:"w-full text-[10px] border-b border-gray-300 outline-none bg-transparent text-red-400 italic",value:C,onChange:Ht=>V(Ht.target.value)})]}),E.jsxs("div",{className:"flex gap-2 pt-1",children:[E.jsx("button",{onClick:()=>Ke(B.id),className:"text-[8px] bg-[#369EAD] text-white px-3 py-1 font-black uppercase tracking-widest rounded-md",children:"Guardar"}),E.jsx("button",{onClick:()=>Rt(null),className:"text-[8px] bg-gray-200 text-gray-500 px-3 py-1 font-black uppercase tracking-widest rounded-md",children:"Cancelar"})]})]}):E.jsxs(E.Fragment,{children:[E.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E] text-base",children:B.name}),E.jsxs("div",{className:"text-[9px] text-gray-400 font-sans uppercase tracking-tighter flex items-center gap-1 mt-1",children:[E.jsx(vh,{size:10})," Inscrita: ",B.registrationDate||"Sin fecha"]}),B.notes&&E.jsxs("div",{className:"text-[10px] text-red-400 italic flex items-center gap-1 mt-1 bg-red-50/50 w-fit px-1 rounded-sm",children:[E.jsx(oT,{size:10})," ",B.notes]})]})]})}),E.jsx("td",{className:"px-6 py-5 text-center font-mono text-xs font-bold text-[#369EAD]",children:B.password}),E.jsxs("td",{className:"px-6 py-5 text-center font-bold",children:[E.jsx("span",{className:B.credits===0?"text-red-400":"text-[#369EAD]",children:B.credits})," / ",B.maxCredits]}),E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold",children:B.totalAttendance||0})}),E.jsx("td",{className:"px-6 py-5 text-center",children:E.jsxs("button",{onClick:()=>{rt(B.id),Tt(B.monthlyPayment||0)},className:`font-bold px-3 py-1 rounded text-xs transition-colors ${B.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",B.monthlyPayment||0]})}),E.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[E.jsx("button",{onClick:()=>{Rt(B.id),gt(B.name),x(B.registrationDate||""),V(B.notes||"")},className:"p-2 text-gray-400 hover:text-[#369EAD]",children:E.jsx(Iv,{size:16})}),E.jsx("button",{onClick:()=>tt(B.id),className:"p-2 text-gray-400 hover:text-[#C5A059]",children:E.jsx(Eh,{size:16})}),E.jsx("button",{onClick:()=>Jn("alumnas",B.id,B.status),className:`p-2 rounded-full ${_t?"text-green-500":"text-gray-300"}`,children:_t?E.jsx(rm,{size:16}):E.jsx(Dv,{size:16})}),E.jsxs("button",{onClick:()=>{me(B.id),Vn(1)},className:"p-2 text-[#369EAD] hover:bg-[#EBF5F6] rounded-full transition-all",title:"Sumar crditos",children:[" ",E.jsx(wN,{size:16})]}),E.jsx("button",{onClick:()=>Rr(B.id,B.name),className:"p-2 text-red-200 hover:text-red-500",children:E.jsx(zc,{size:16})})]})]},B.id)})})]})})]}),E.jsxs("div",{className:"bg-white/70 backdrop-blur-md rounded-2xl shadow-xl border border-white/50 overflow-hidden font-sans mt-12",children:[E.jsxs("div",{className:"p-6 border-b border-[#C5A059]/20 bg-[#C5A059]/5 flex justify-between items-center",children:[E.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[E.jsx(Mm,{size:20,className:"text-[#C5A059]"})," Historial de Invitadas"]}),E.jsxs("div",{className:"text-right",children:[E.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-black",children:"Recaudacin Sueltas"}),E.jsxs("p",{className:"text-xl font-bold text-[#C5A059]",children:["$",y?y.reduce((B,_t)=>B+(_t.totalPaid||0),0).toLocaleString():0]})]})]}),E.jsx("div",{className:"overflow-x-auto",children:E.jsxs("table",{className:"w-full text-left",children:[E.jsx("thead",{className:"bg-gray-50/50 text-[9px] uppercase text-gray-400 font-black",children:E.jsxs("tr",{children:[E.jsx("th",{className:"px-6 py-4",children:"Nombre"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Visitas"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"Tipo"}),E.jsx("th",{className:"px-6 py-4 text-center",children:"$$"}),E.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),E.jsx("tbody",{className:"divide-y divide-gray-100/50",children:y&&y.length>0?y.map(B=>E.jsxs("tr",{className:"hover:bg-white/50 text-sm",children:[E.jsxs("td",{className:"px-6 py-4",children:[E.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E]",children:B.name}),E.jsx("div",{className:"text-[9px] text-gray-400 uppercase",children:B.firstVisit?`Desde: ${new Date(B.firstVisit).toLocaleDateString()}`:"Registro antiguo"})]}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsx("span",{className:"bg-[#1A3A3E] text-white px-2 py-0.5 rounded-full text-xs font-bold",children:B.totalVisits||1})}),E.jsx("td",{className:"px-6 py-4 text-center text-[10px] font-black uppercase",children:B.type}),E.jsx("td",{className:"px-6 py-4 text-center",children:E.jsxs("span",{className:"text-green-600 font-bold",children:["$",B.totalPaid||0]})}),E.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-2",children:[E.jsx("button",{onClick:()=>{window.confirm(`Convertir a ${B.name}?`)&&(k({...N,name:B.name}),A(!0))},className:"p-2 text-[#369EAD] hover:bg-[#EBF5F6] rounded-full transition-all",children:E.jsx(rm,{size:18})}),E.jsx("button",{onClick:async()=>{window.confirm("Borrar historial?")&&(await Lc(le(o,"artifacts",c,"public","data","asistencias_extras",B.id)),p("Borrado"))},className:"p-2 text-red-200 hover:text-red-500 rounded-full transition-all",children:E.jsx(zc,{size:16})})]})]},B.id)):E.jsx("tr",{children:E.jsx("td",{colSpan:"5",className:"text-center py-10 opacity-30 italic text-sm",children:"No hay registro"})})})]})})]})]})]})]}),_&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-md p-10 rounded-3xl shadow-2xl relative border border-white/50",children:[E.jsx("button",{onClick:()=>A(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:E.jsx(Mv,{size:28})}),E.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),E.jsxs("form",{onSubmit:ma,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none uppercase text-sm font-bold text-[#369EAD]",value:N.id,onChange:B=>k({...N,id:B.target.value}),placeholder:"ID"}),E.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-sm font-bold",value:N.password,onChange:B=>k({...N,password:B.target.value})})]}),E.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none uppercase text-sm font-serif italic font-bold",value:N.name,onChange:B=>k({...N,name:B.target.value})}),E.jsx("select",{className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-sm",value:N.plan,onChange:B=>k({...N,plan:B.target.value}),children:Ov.slice(0,4).map((B,_t)=>E.jsx("option",{value:B.plan,children:B.plan},_t))}),E.jsxs("div",{className:"space-y-1",children:[E.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Fecha de Inscripcin"}),E.jsx("input",{type:"date",required:!0,className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-sm font-bold text-[#1A3A3E]",value:N.registrationDate,onChange:B=>k({...N,registrationDate:B.target.value})})]}),E.jsx("textarea",{placeholder:"NOTAS MDICAS",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-xs h-24 italic",value:N.notes,onChange:B=>k({...N,notes:B.target.value})}),E.jsx(ci,{disabled:te,className:"w-full !py-4",children:te?E.jsx(Nv,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),S&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-md p-10 rounded-3xl shadow-2xl relative border border-white/50",children:[E.jsx("button",{onClick:()=>M(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:E.jsx(Mv,{size:28})}),E.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nuevo Staff"}),E.jsxs("form",{onSubmit:Yi,className:"space-y-6",children:[E.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[E.jsx("input",{type:"text",required:!0,placeholder:"ID",className:"p-4 bg-gray-50/50 rounded-xl outline-none uppercase text-xs font-bold border border-gray-200",value:w.id,onChange:B=>Ft({...w,id:B.target.value})}),E.jsx("input",{type:"text",required:!0,placeholder:"CLAVE",className:"p-4 bg-gray-50/50 rounded-xl outline-none text-xs font-bold border border-gray-200",value:w.password,onChange:B=>Ft({...w,password:B.target.value})})]}),E.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50/50 rounded-xl outline-none uppercase text-xs font-serif italic border border-gray-200",value:w.name,onChange:B=>Ft({...w,name:B.target.value})}),E.jsxs("select",{className:"w-full p-4 bg-gray-50/50 rounded-xl outline-none text-xs border border-gray-200",value:w.role,onChange:B=>Ft({...w,role:B.target.value}),children:[E.jsx("option",{value:"teacher",children:"Maestra"}),E.jsx("option",{value:"admin",children:"Admin Secundario"})]}),E.jsx(ci,{disabled:te,className:"w-full !py-4",children:te?E.jsx(Nv,{className:"animate-spin mx-auto"}):"Guardar Registro"})]})]})}),(G||it)&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50 text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Nueva Clave"}),E.jsx("p",{className:"text-[10px] text-gray-400 uppercase font-bold mb-6",children:G||it}),E.jsxs("div",{className:"space-y-4",children:[E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-center font-bold",placeholder:"Nueva clave",value:at,onChange:B=>dt(B.target.value)}),E.jsx(ci,{onClick:()=>Il(G?"alumnas":"maestros",G||it),className:"w-full !py-4",children:"Actualizar"}),E.jsx("button",{onClick:()=>{tt(null),Q(null),dt("")},className:"text-[10px] uppercase font-bold text-gray-400 hover:text-red-400",children:"Cancelar"})]})]})}),W&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),E.jsxs("div",{className:"space-y-4 text-center",children:[E.jsxs("div",{className:"relative",children:[E.jsx(Rv,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),E.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-xl font-bold",value:yt,onChange:B=>Tt(B.target.value)})]}),E.jsx(ci,{onClick:Cr,className:"w-full !py-4",children:"Confirmar"}),E.jsx("button",{onClick:()=>rt(null),className:"text-[10px] uppercase font-bold text-gray-400 hover:text-red-400",children:"Cancelar"})]})]})}),Y&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center text-[#1A3A3E]",children:"Invitada Extra"}),E.jsxs("div",{className:"space-y-4",children:[E.jsxs("div",{children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Nombre Completo"}),E.jsx("input",{type:"text",className:"w-full p-3 bg-gray-50/50 rounded-xl border border-gray-200 outline-none font-bold uppercase text-sm",value:et.name,onChange:B=>ft({...et,name:B.target.value}),placeholder:"Ingresa nombre",autoFocus:!0})]}),E.jsxs("div",{children:[E.jsx("label",{className:"text-[9px] font-black text-gray-400 uppercase",children:"Tipo de Ingreso"}),E.jsxs("select",{className:"w-full p-3 bg-gray-50/50 rounded-xl border border-gray-200 outline-none font-bold text-sm",value:et.type,onChange:B=>ft({...et,type:B.target.value}),children:[E.jsx("option",{value:"Clase Suelta",children:"Clase Suelta ($)"}),E.jsx("option",{value:"Clase de Prueba",children:"Clase de Prueba (Gratis)"})]})]}),E.jsx(ci,{onClick:()=>Ee(un.id),className:"w-full !py-4",children:"Registrar Asistencia"}),E.jsx("button",{onClick:()=>st(!1),className:"w-full text-[10px] uppercase font-bold text-gray-400 hover:text-red-400 mt-2",children:"Cancelar"})]})]})}),Mt&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2 text-center text-[#1A3A3E]",children:"Ajuste de Crditos"}),E.jsxs("p",{className:"text-[10px] text-center text-gray-400 uppercase font-black mb-6",children:["ID: ",Mt]}),E.jsxs("div",{className:"space-y-6",children:[E.jsxs("div",{className:"flex items-center justify-center gap-6",children:[E.jsx("button",{onClick:()=>Vn(Math.max(1,Xt-1)),className:"w-10 h-10 rounded-full border-2 border-gray-200 flex items-center justify-center text-xl font-bold hover:bg-gray-50",children:" - "}),E.jsx("span",{className:"text-4xl font-sans font-bold text-[#369EAD]",children:Xt}),E.jsx("button",{onClick:()=>Vn(Xt+1),className:"w-10 h-10 rounded-full border-2 border-gray-200 flex items-center justify-center text-xl font-bold hover:bg-gray-50",children:" + "})]}),E.jsx("p",{className:"text-[9px] text-center text-gray-400 italic",children:"Esto sumar los crditos a los que la alumna ya tenga disponibles actualmente."}),E.jsx(ci,{onClick:wr,className:"w-full !py-4",children:"Confirmar y Sumar"}),E.jsx("button",{onClick:()=>me(null),className:"w-full text-[10px] uppercase font-bold text-gray-400 hover:text-red-400",children:"Cancelar"})]})]})})]})},KN=({user:r,students:t,sessionsData:i,db:a,appId:o,onLogout:c,showNotification:d,onUpdatePassword:p})=>{xp();const y=aa.filter(Q=>Q.teacher.toUpperCase()===r.firstName.toUpperCase()),_=fT(r.firstName),A=t.filter(Q=>Q.history?.includes(_?.id)&&Q.status!=="inactive"),[S,M]=St.useState(!1),[G,tt]=St.useState(""),it=async(Q,at)=>{if(fn.currentUser&&window.confirm("Confirmar asistencia?"))try{const dt=le(a,"artifacts",o,"public","data","alumnas",Q),ht=le(a,"artifacts",o,"public","data","sesiones",at),Rt=await Yc(ht);Rt.exists()&&Rt.data().isCounted||(await Ge(le(a,"artifacts",o,"public","data","config","metadata"),{totalClassesTaught:dn(1)}),await ms(ht,{isCounted:!0},{merge:!0})),await Ge(dt,{totalAttendance:dn(1),history:fh(at)}),await Ge(ht,{booked:dn(-1)}),d("Asistencia marcada")}catch(dt){console.error(dt)}};return E.jsxs("div",{className:"pb-20 relative z-10",children:[E.jsxs("nav",{className:"bg-[#1A3A3E]/90 backdrop-blur-md text-white p-5 flex justify-between items-center shadow-lg sticky top-0 z-50",children:[E.jsxs("div",{className:"flex items-center gap-3",children:[E.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Portal Maestras"}),E.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] px-2 py-0.5 rounded font-black uppercase",children:r.firstName})]}),E.jsxs("div",{className:"flex items-center gap-4",children:[E.jsxs("button",{onClick:()=>M(!0),className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest flex items-center gap-2",children:[E.jsx(Eh,{size:14})," Clave"]}),E.jsx("button",{onClick:c,className:"text-[10px] uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),S&&E.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:E.jsxs("div",{className:"bg-white/90 w-full max-w-xs p-8 rounded-3xl shadow-2xl border border-white/50 text-center",children:[E.jsx("h3",{className:"text-xl font-serif italic mb-2 text-[#1A3A3E]",children:"Cambiar mi clave"}),E.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50/50 rounded-xl border border-gray-200 outline-none text-center font-bold mb-6 text-[#1A3A3E]",value:G,onChange:Q=>tt(Q.target.value)}),E.jsx(ci,{onClick:()=>{p("maestros",r.id,G),M(!1),tt("")},className:"w-full",children:"Actualizar"}),E.jsx("button",{onClick:()=>M(!1),className:"mt-4 text-[10px] uppercase font-bold text-gray-400",children:"Cerrar"})]})})]}),E.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[E.jsxs("div",{className:"mb-10 text-center md:text-left",children:[E.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),E.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Tu pasin no solo mueve pesas, mueve vidas enteras."})]}),E.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[E.jsxs(bn,{className:"border-[#C5A059] flex items-center gap-6",children:[E.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-xl",children:E.jsx(nN,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-400 mb-1",children:"Disciplina"}),E.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),E.jsxs(bn,{className:"!bg-[#EBF5F6]/50 border-[#369EAD] flex items-center gap-6",children:[E.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-xl",children:E.jsx(uT,{size:28})}),E.jsxs("div",{children:[E.jsx("p",{className:"text-[10px] uppercase font-bold text-gray-500 mb-1",children:"Impacto"}),E.jsx("p",{className:"text-3xl font-bold text-[#369EAD]",children:"Enseando"})]})]})]}),E.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[E.jsxs(bn,{className:"lg:col-span-1 !bg-[#1A3A3E]/90 !border-[#C5A059] text-white",children:[E.jsxs("div",{className:"flex justify-between items-center mb-6",children:[E.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[E.jsx(lT,{size:20})," Asistencia"]}),_&&E.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-bold uppercase",children:[_.day," ",_.time]})]}),E.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:A.length>0?A.map(Q=>E.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-xl hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[E.jsxs("div",{className:"flex-1",children:[E.jsx("div",{className:"font-serif italic font-bold text-sm",children:Q.name}),Q.notes&&E.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[E.jsx(oT,{size:12}),E.jsx("p",{className:"text-[10px] italic",children:Q.notes})]})]}),E.jsx("button",{onClick:()=>it(Q.id,_.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:E.jsx(aT,{size:18})})]},Q.id)):E.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay inscritas"})})]}),E.jsx("div",{className:"lg:col-span-2 space-y-8",children:E.jsxs(bn,{children:[E.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[E.jsx(vh,{size:20,className:"text-[#369EAD]"})," Horario"]}),E.jsx("div",{className:"grid grid-cols-1 gap-4",children:y.map(Q=>E.jsxs("div",{className:"p-10 bg-gray-50/50 rounded-2xl border-l-8 border-[#369EAD] flex flex-col justify-center",children:[E.jsx("span",{className:"text-xs font-black uppercase text-gray-400",children:Q.day}),E.jsx("p",{className:"text-5xl font-bold text-[#1A3A3E] my-2",children:Q.time}),E.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase",children:Q.type})]},Q.id))})]})})]})]})]})};Jb.createRoot(document.getElementById("root")).render(E.jsx(St.StrictMode,{children:E.jsx(HN,{})}));
