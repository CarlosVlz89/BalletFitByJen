(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))r(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var Nd={exports:{}},Al={};var k_;function NA(){if(k_)return Al;k_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(r,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:a,type:r,key:d,ref:l!==void 0?l:null,props:c}}return Al.Fragment=t,Al.jsx=i,Al.jsxs=i,Al}var U_;function DA(){return U_||(U_=1,Nd.exports=NA()),Nd.exports}var A=DA(),Dd={exports:{}},vt={};var L_;function MA(){if(L_)return vt;L_=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.iterator;function H(S){return S===null||typeof S!="object"?null:(S=V&&S[V]||S["@@iterator"],typeof S=="function"?S:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W=Object.assign,$={};function lt(S,B,tt){this.props=S,this.context=B,this.refs=$,this.updater=tt||Z}lt.prototype.isReactComponent={},lt.prototype.setState=function(S,B){if(typeof S!="object"&&typeof S!="function"&&S!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,S,B,"setState")},lt.prototype.forceUpdate=function(S){this.updater.enqueueForceUpdate(this,S,"forceUpdate")};function rt(){}rt.prototype=lt.prototype;function ut(S,B,tt){this.props=S,this.context=B,this.refs=$,this.updater=tt||Z}var Ot=ut.prototype=new rt;Ot.constructor=ut,W(Ot,lt.prototype),Ot.isPureReactComponent=!0;var jt=Array.isArray;function wt(){}var x={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function C(S,B,tt){var it=tt.ref;return{$$typeof:a,type:S,key:B,ref:it!==void 0?it:null,props:tt}}function O(S,B){return C(S.type,B,S.props)}function D(S){return typeof S=="object"&&S!==null&&S.$$typeof===a}function k(S){var B={"=":"=0",":":"=2"};return"$"+S.replace(/[=:]/g,function(tt){return B[tt]})}var I=/\/+/g;function ee(S,B){return typeof S=="object"&&S!==null&&S.key!=null?k(""+S.key):B.toString(36)}function fe(S){switch(S.status){case"fulfilled":return S.value;case"rejected":throw S.reason;default:switch(typeof S.status=="string"?S.then(wt,wt):(S.status="pending",S.then(function(B){S.status==="pending"&&(S.status="fulfilled",S.value=B)},function(B){S.status==="pending"&&(S.status="rejected",S.reason=B)})),S.status){case"fulfilled":return S.value;case"rejected":throw S.reason}}throw S}function G(S,B,tt,it,gt){var bt=typeof S;(bt==="undefined"||bt==="boolean")&&(S=null);var Ut=!1;if(S===null)Ut=!0;else switch(bt){case"bigint":case"string":case"number":Ut=!0;break;case"object":switch(S.$$typeof){case a:case t:Ut=!0;break;case b:return Ut=S._init,G(Ut(S._payload),B,tt,it,gt)}}if(Ut)return gt=gt(S),Ut=it===""?"."+ee(S,0):it,jt(gt)?(tt="",Ut!=null&&(tt=Ut.replace(I,"$&/")+"/"),G(gt,B,tt,"",function(ur){return ur})):gt!=null&&(D(gt)&&(gt=O(gt,tt+(gt.key==null||S&&S.key===gt.key?"":(""+gt.key).replace(I,"$&/")+"/")+Ut)),B.push(gt)),1;Ut=0;var Ne=it===""?".":it+":";if(jt(S))for(var ae=0;ae<S.length;ae++)it=S[ae],bt=Ne+ee(it,ae),Ut+=G(it,B,tt,bt,gt);else if(ae=H(S),typeof ae=="function")for(S=ae.call(S),ae=0;!(it=S.next()).done;)it=it.value,bt=Ne+ee(it,ae++),Ut+=G(it,B,tt,bt,gt);else if(bt==="object"){if(typeof S.then=="function")return G(fe(S),B,tt,it,gt);throw B=String(S),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(S).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return Ut}function nt(S,B,tt){if(S==null)return S;var it=[],gt=0;return G(S,it,"","",function(bt){return B.call(tt,bt,gt++)}),it}function ht(S){if(S._status===-1){var B=S._result;B=B(),B.then(function(tt){(S._status===0||S._status===-1)&&(S._status=1,S._result=tt)},function(tt){(S._status===0||S._status===-1)&&(S._status=2,S._result=tt)}),S._status===-1&&(S._status=0,S._result=B)}if(S._status===1)return S._result.default;throw S._result}var Vt=typeof reportError=="function"?reportError:function(S){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof S=="object"&&S!==null&&typeof S.message=="string"?String(S.message):String(S),error:S});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",S);return}console.error(S)},qt={map:nt,forEach:function(S,B,tt){nt(S,function(){B.apply(this,arguments)},tt)},count:function(S){var B=0;return nt(S,function(){B++}),B},toArray:function(S){return nt(S,function(B){return B})||[]},only:function(S){if(!D(S))throw Error("React.Children.only expected to receive a single React element child.");return S}};return vt.Activity=R,vt.Children=qt,vt.Component=lt,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=ut,vt.StrictMode=r,vt.Suspense=y,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,vt.__COMPILER_RUNTIME={__proto__:null,c:function(S){return x.H.useMemoCache(S)}},vt.cache=function(S){return function(){return S.apply(null,arguments)}},vt.cacheSignal=function(){return null},vt.cloneElement=function(S,B,tt){if(S==null)throw Error("The argument must be a React element, but you passed "+S+".");var it=W({},S.props),gt=S.key;if(B!=null)for(bt in B.key!==void 0&&(gt=""+B.key),B)!w.call(B,bt)||bt==="key"||bt==="__self"||bt==="__source"||bt==="ref"&&B.ref===void 0||(it[bt]=B[bt]);var bt=arguments.length-2;if(bt===1)it.children=tt;else if(1<bt){for(var Ut=Array(bt),Ne=0;Ne<bt;Ne++)Ut[Ne]=arguments[Ne+2];it.children=Ut}return C(S.type,gt,it)},vt.createContext=function(S){return S={$$typeof:d,_currentValue:S,_currentValue2:S,_threadCount:0,Provider:null,Consumer:null},S.Provider=S,S.Consumer={$$typeof:c,_context:S},S},vt.createElement=function(S,B,tt){var it,gt={},bt=null;if(B!=null)for(it in B.key!==void 0&&(bt=""+B.key),B)w.call(B,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=B[it]);var Ut=arguments.length-2;if(Ut===1)gt.children=tt;else if(1<Ut){for(var Ne=Array(Ut),ae=0;ae<Ut;ae++)Ne[ae]=arguments[ae+2];gt.children=Ne}if(S&&S.defaultProps)for(it in Ut=S.defaultProps,Ut)gt[it]===void 0&&(gt[it]=Ut[it]);return C(S,bt,gt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(S){return{$$typeof:g,render:S}},vt.isValidElement=D,vt.lazy=function(S){return{$$typeof:b,_payload:{_status:-1,_result:S},_init:ht}},vt.memo=function(S,B){return{$$typeof:_,type:S,compare:B===void 0?null:B}},vt.startTransition=function(S){var B=x.T,tt={};x.T=tt;try{var it=S(),gt=x.S;gt!==null&&gt(tt,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(wt,Vt)}catch(bt){Vt(bt)}finally{B!==null&&tt.types!==null&&(B.types=tt.types),x.T=B}},vt.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},vt.use=function(S){return x.H.use(S)},vt.useActionState=function(S,B,tt){return x.H.useActionState(S,B,tt)},vt.useCallback=function(S,B){return x.H.useCallback(S,B)},vt.useContext=function(S){return x.H.useContext(S)},vt.useDebugValue=function(){},vt.useDeferredValue=function(S,B){return x.H.useDeferredValue(S,B)},vt.useEffect=function(S,B){return x.H.useEffect(S,B)},vt.useEffectEvent=function(S){return x.H.useEffectEvent(S)},vt.useId=function(){return x.H.useId()},vt.useImperativeHandle=function(S,B,tt){return x.H.useImperativeHandle(S,B,tt)},vt.useInsertionEffect=function(S,B){return x.H.useInsertionEffect(S,B)},vt.useLayoutEffect=function(S,B){return x.H.useLayoutEffect(S,B)},vt.useMemo=function(S,B){return x.H.useMemo(S,B)},vt.useOptimistic=function(S,B){return x.H.useOptimistic(S,B)},vt.useReducer=function(S,B,tt){return x.H.useReducer(S,B,tt)},vt.useRef=function(S){return x.H.useRef(S)},vt.useState=function(S){return x.H.useState(S)},vt.useSyncExternalStore=function(S,B,tt){return x.H.useSyncExternalStore(S,B,tt)},vt.useTransition=function(){return x.H.useTransition()},vt.version="19.2.3",vt}var P_;function Am(){return P_||(P_=1,Dd.exports=MA()),Dd.exports}var Pt=Am(),Md={exports:{}},bl={},Od={exports:{}},Vd={};var j_;function OA(){return j_||(j_=1,(function(a){function t(G,nt){var ht=G.length;G.push(nt);t:for(;0<ht;){var Vt=ht-1>>>1,qt=G[Vt];if(0<l(qt,nt))G[Vt]=nt,G[ht]=qt,ht=Vt;else break t}}function i(G){return G.length===0?null:G[0]}function r(G){if(G.length===0)return null;var nt=G[0],ht=G.pop();if(ht!==nt){G[0]=ht;t:for(var Vt=0,qt=G.length,S=qt>>>1;Vt<S;){var B=2*(Vt+1)-1,tt=G[B],it=B+1,gt=G[it];if(0>l(tt,ht))it<qt&&0>l(gt,tt)?(G[Vt]=gt,G[it]=ht,Vt=it):(G[Vt]=tt,G[B]=ht,Vt=B);else if(it<qt&&0>l(gt,ht))G[Vt]=gt,G[it]=ht,Vt=it;else break t}}return nt}function l(G,nt){var ht=G.sortIndex-nt.sortIndex;return ht!==0?ht:G.id-nt.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;a.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var y=[],_=[],b=1,R=null,V=3,H=!1,Z=!1,W=!1,$=!1,lt=typeof setTimeout=="function"?setTimeout:null,rt=typeof clearTimeout=="function"?clearTimeout:null,ut=typeof setImmediate<"u"?setImmediate:null;function Ot(G){for(var nt=i(_);nt!==null;){if(nt.callback===null)r(_);else if(nt.startTime<=G)r(_),nt.sortIndex=nt.expirationTime,t(y,nt);else break;nt=i(_)}}function jt(G){if(W=!1,Ot(G),!Z)if(i(y)!==null)Z=!0,wt||(wt=!0,k());else{var nt=i(_);nt!==null&&fe(jt,nt.startTime-G)}}var wt=!1,x=-1,w=5,C=-1;function O(){return $?!0:!(a.unstable_now()-C<w)}function D(){if($=!1,wt){var G=a.unstable_now();C=G;var nt=!0;try{t:{Z=!1,W&&(W=!1,rt(x),x=-1),H=!0;var ht=V;try{e:{for(Ot(G),R=i(y);R!==null&&!(R.expirationTime>G&&O());){var Vt=R.callback;if(typeof Vt=="function"){R.callback=null,V=R.priorityLevel;var qt=Vt(R.expirationTime<=G);if(G=a.unstable_now(),typeof qt=="function"){R.callback=qt,Ot(G),nt=!0;break e}R===i(y)&&r(y),Ot(G)}else r(y);R=i(y)}if(R!==null)nt=!0;else{var S=i(_);S!==null&&fe(jt,S.startTime-G),nt=!1}}break t}finally{R=null,V=ht,H=!1}nt=void 0}}finally{nt?k():wt=!1}}}var k;if(typeof ut=="function")k=function(){ut(D)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,ee=I.port2;I.port1.onmessage=D,k=function(){ee.postMessage(null)}}else k=function(){lt(D,0)};function fe(G,nt){x=lt(function(){G(a.unstable_now())},nt)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(G){G.callback=null},a.unstable_forceFrameRate=function(G){0>G||125<G?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<G?Math.floor(1e3/G):5},a.unstable_getCurrentPriorityLevel=function(){return V},a.unstable_next=function(G){switch(V){case 1:case 2:case 3:var nt=3;break;default:nt=V}var ht=V;V=nt;try{return G()}finally{V=ht}},a.unstable_requestPaint=function(){$=!0},a.unstable_runWithPriority=function(G,nt){switch(G){case 1:case 2:case 3:case 4:case 5:break;default:G=3}var ht=V;V=G;try{return nt()}finally{V=ht}},a.unstable_scheduleCallback=function(G,nt,ht){var Vt=a.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Vt+ht:Vt):ht=Vt,G){case 1:var qt=-1;break;case 2:qt=250;break;case 5:qt=1073741823;break;case 4:qt=1e4;break;default:qt=5e3}return qt=ht+qt,G={id:b++,callback:nt,priorityLevel:G,startTime:ht,expirationTime:qt,sortIndex:-1},ht>Vt?(G.sortIndex=ht,t(_,G),i(y)===null&&G===i(_)&&(W?(rt(x),x=-1):W=!0,fe(jt,ht-Vt))):(G.sortIndex=qt,t(y,G),Z||H||(Z=!0,wt||(wt=!0,k()))),G},a.unstable_shouldYield=O,a.unstable_wrapCallback=function(G){var nt=V;return function(){var ht=V;V=nt;try{return G.apply(this,arguments)}finally{V=ht}}}})(Vd)),Vd}var z_;function VA(){return z_||(z_=1,Od.exports=OA()),Od.exports}var kd={exports:{}},Ye={};var B_;function kA(){if(B_)return Ye;B_=1;var a=Am();function t(y){var _="https://react.dev/errors/"+y;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)_+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+y+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var r={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(y,_,b){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:R==null?null:""+R,children:y,containerInfo:_,implementation:b}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(y,_){if(y==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return Ye.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Ye.createPortal=function(y,_){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(t(299));return c(y,_,null,b)},Ye.flushSync=function(y){var _=d.T,b=r.p;try{if(d.T=null,r.p=2,y)return y()}finally{d.T=_,r.p=b,r.d.f()}},Ye.preconnect=function(y,_){typeof y=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,r.d.C(y,_))},Ye.prefetchDNS=function(y){typeof y=="string"&&r.d.D(y)},Ye.preinit=function(y,_){if(typeof y=="string"&&_&&typeof _.as=="string"){var b=_.as,R=g(b,_.crossOrigin),V=typeof _.integrity=="string"?_.integrity:void 0,H=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;b==="style"?r.d.S(y,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:R,integrity:V,fetchPriority:H}):b==="script"&&r.d.X(y,{crossOrigin:R,integrity:V,fetchPriority:H,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},Ye.preinitModule=function(y,_){if(typeof y=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var b=g(_.as,_.crossOrigin);r.d.M(y,{crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&r.d.M(y)},Ye.preload=function(y,_){if(typeof y=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var b=_.as,R=g(b,_.crossOrigin);r.d.L(y,b,{crossOrigin:R,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},Ye.preloadModule=function(y,_){if(typeof y=="string")if(_){var b=g(_.as,_.crossOrigin);r.d.m(y,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:b,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else r.d.m(y)},Ye.requestFormReset=function(y){r.d.r(y)},Ye.unstable_batchedUpdates=function(y,_){return y(_)},Ye.useFormState=function(y,_,b){return d.H.useFormState(y,_,b)},Ye.useFormStatus=function(){return d.H.useHostTransitionStatus()},Ye.version="19.2.3",Ye}var q_;function UA(){if(q_)return kd.exports;q_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),kd.exports=kA(),kd.exports}var H_;function LA(){if(H_)return bl;H_=1;var a=VA(),t=Am(),i=UA();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(r(188))}function _(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return y(h),e;if(f===o)return y(h),n;f=f.sibling}throw Error(r(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(r(189))}}if(s.alternate!==o)throw Error(r(190))}if(s.tag!==3)throw Error(r(188));return s.stateNode.current===s?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var R=Object.assign,V=Symbol.for("react.element"),H=Symbol.for("react.transitional.element"),Z=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),lt=Symbol.for("react.profiler"),rt=Symbol.for("react.consumer"),ut=Symbol.for("react.context"),Ot=Symbol.for("react.forward_ref"),jt=Symbol.for("react.suspense"),wt=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),C=Symbol.for("react.activity"),O=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function k(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var I=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===I?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case W:return"Fragment";case lt:return"Profiler";case $:return"StrictMode";case jt:return"Suspense";case wt:return"SuspenseList";case C:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case Z:return"Portal";case ut:return e.displayName||"Context";case rt:return(e._context.displayName||"Context")+".Consumer";case Ot:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,G=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,nt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Vt=[],qt=-1;function S(e){return{current:e}}function B(e){0>qt||(e.current=Vt[qt],Vt[qt]=null,qt--)}function tt(e,n){qt++,Vt[qt]=e.current,e.current=n}var it=S(null),gt=S(null),bt=S(null),Ut=S(null);function Ne(e,n){switch(tt(bt,n),tt(gt,e),tt(it,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?s_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=s_(n),e=r_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(it),tt(it,e)}function ae(){B(it),B(gt),B(bt)}function ur(e){e.memoizedState!==null&&tt(Ut,e);var n=it.current,s=r_(n,e.type);n!==s&&(tt(gt,e),tt(it,s))}function Jr(e){gt.current===e&&(B(it),B(gt)),Ut.current===e&&(B(Ut),_l._currentValue=ht)}var Wr,ta;function ei(e){if(Wr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ta=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+ta}var _o=!1;function cr(e,n){if(!e||_o)return"";_o=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(F){var z=F}Reflect.construct(e,[],Y)}else{try{Y.call()}catch(F){z=F}e.call(Y.prototype)}}else{try{throw Error()}catch(F){z=F}(Y=e())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(F){if(F&&z&&typeof F.stack=="string")return[F.stack,z.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var N=p.split(`
`),j=E.split(`
`);for(h=o=0;o<N.length&&!N[o].includes("DetermineComponentFrameRoot");)o++;for(;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;if(o===N.length||h===j.length)for(o=N.length-1,h=j.length-1;1<=o&&0<=h&&N[o]!==j[h];)h--;for(;1<=o&&0<=h;o--,h--)if(N[o]!==j[h]){if(o!==1||h!==1)do if(o--,h--,0>h||N[o]!==j[h]){var Q=`
`+N[o].replace(" at new "," at ");return e.displayName&&Q.includes("<anonymous>")&&(Q=Q.replace("<anonymous>",e.displayName)),Q}while(1<=o&&0<=h);break}}}finally{_o=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ei(s):""}function vo(e,n){switch(e.tag){case 26:case 27:case 5:return ei(e.type);case 16:return ei("Lazy");case 13:return e.child!==n&&n!==null?ei("Suspense Fallback"):ei("Suspense");case 19:return ei("SuspenseList");case 0:case 15:return cr(e.type,!1);case 11:return cr(e.type.render,!1);case 1:return cr(e.type,!0);case 31:return ei("Activity");default:return""}}function Eo(e){try{var n="",s=null;do n+=vo(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var _e=Object.prototype.hasOwnProperty,De=a.unstable_scheduleCallback,us=a.unstable_cancelCallback,Dh=a.unstable_shouldYield,Zl=a.unstable_requestPaint,tn=a.unstable_now,hr=a.unstable_getCurrentPriorityLevel,To=a.unstable_ImmediatePriority,Ao=a.unstable_UserBlockingPriority,cs=a.unstable_NormalPriority,Mh=a.unstable_LowPriority,Jl=a.unstable_IdlePriority,Wl=a.log,tu=a.unstable_setDisableYieldValue,jn=null,je=null;function wn(e){if(typeof Wl=="function"&&tu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(jn,e)}catch{}}var de=Math.clz32?Math.clz32:nu,eu=Math.log,ea=Math.LN2;function nu(e){return e>>>=0,e===0?32:31-(eu(e)/ea|0)|0}var ni=256,fr=262144,ve=4194304;function ii(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function si(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=ii(o):(p&=E,p!==0?h=ii(p):s||(s=E&~e,s!==0&&(h=ii(s))))):(E=o&~f,E!==0?h=ii(E):p!==0?h=ii(p):s||(s=o&~e,s!==0&&(h=ii(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function zn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Oh(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iu(){var e=ve;return ve<<=1,(ve&62914560)===0&&(ve=4194304),e}function ri(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function dr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Vh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,N=e.expirationTimes,j=e.hiddenUpdates;for(s=p&~s;0<s;){var Q=31-de(s),Y=1<<Q;E[Q]=0,N[Q]=-1;var z=j[Q];if(z!==null)for(j[Q]=null,Q=0;Q<z.length;Q++){var F=z[Q];F!==null&&(F.lane&=-536870913)}s&=~Y}o!==0&&mr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function mr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function bo(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function So(e,n){var s=n&-n;return s=(s&42)!==0?1:pr(s),(s&(e.suspendedLanes|n))!==0?0:s}function pr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function su(){var e=nt.p;return e!==0?e:(e=window.event,e===void 0?32:x_(e.type))}function Bn(e,n){var s=nt.p;try{return nt.p=e,n()}finally{nt.p=s}}var qn=Math.random().toString(36).slice(2),Ee="__reactFiber$"+qn,ke="__reactProps$"+qn,ai="__reactContainer$"+qn,na="__reactEvents$"+qn,kh="__reactListeners$"+qn,ru="__reactHandles$"+qn,au="__reactResources$"+qn,oi="__reactMarker$"+qn;function ia(e){delete e[Ee],delete e[ke],delete e[na],delete e[kh],delete e[ru]}function li(e){var n=e[Ee];if(n)return n;for(var s=e.parentNode;s;){if(n=s[ai]||s[Ee]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=f_(e);e!==null;){if(s=e[Ee])return s;e=f_(e)}return n}e=s,s=e.parentNode}return null}function Rn(e){if(e=e[Ee]||e[ai]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function mn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ui(e){var n=e[au];return n||(n=e[au]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Te(e){e[oi]=!0}var wo=new Set,Ro={};function ci(e,n){hi(e,n),hi(e+"Capture",n)}function hi(e,n){for(Ro[e]=n,e=0;e<n.length;e++)wo.add(n[e])}var Co=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),xo={},Io={};function ou(e){return _e.call(Io,e)?!0:_e.call(xo,e)?!1:Co.test(e)?Io[e]=!0:(xo[e]=!0,!1)}function sa(e,n,s){if(ou(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function pn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function Ae(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function hs(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function No(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Qt(e){if(!e._valueTracker){var n=hs(e)?"checked":"value";e._valueTracker=No(e,n,""+e[n])}}function gr(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=hs(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function fi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yr=/[\n"\\]/g;function rn(e){return e.replace(yr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?Do(e,p,Ue(n)):s!=null?Do(e,p,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function lu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Qt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Qt(e)}function Do(e,n,s){n==="number"&&fi(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function fs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function uu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function ds(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(r(92));if(fe(o)){if(1<o.length)throw Error(r(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Qt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Mo(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||cu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Oo(e,n,s){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Mo(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Mo(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ms=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return ms.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Hn(){}var Vo=null;function Cn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ps=null,di=null;function _r(e){var n=Rn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(r(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&gr(o)}break t;case"textarea":uu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&fs(e,!!s.multiple,n,!1)}}}var la=!1;function gs(e,n,s){if(la)return e(n,s);la=!0;try{var o=e(n);return o}finally{if(la=!1,(ps!==null||di!==null)&&(sc(),ps&&(n=ps,e=di,di=ps=null,_r(n),e)))for(n=0;n<e.length;n++)_r(e[n])}}function Fn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(r(231,n,typeof s));return s}var xn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(xn)try{var Xt={};Object.defineProperty(Xt,"passive",{get:function(){vr=!0}}),window.addEventListener("test",Xt,Xt),window.removeEventListener("test",Xt,Xt)}catch{vr=!1}var mi=null,ko=null,Er=null;function Uo(){if(Er)return Er;var e,n=ko,s=n.length,o,h="value"in mi?mi.value:mi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Er=h.slice(e,1<o?1-o:void 0)}function Tr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Gn(){return!1}function ze(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Gn,this.isPropagationStopped=Gn,this}return R(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},pi=ze(ki),ys=R({},ki,{view:0,detail:0}),Lo=ze(ys),_s,ua,gi,ca=R({},ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gi&&(gi&&e.type==="mousemove"?(_s=e.screenX-gi.screenX,ua=e.screenY-gi.screenY):ua=_s=0,gi=e),_s)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Po=ze(ca),Ar=R({},ca,{dataTransfer:0}),fu=ze(Ar),du=R({},ys,{relatedTarget:0}),br=ze(du),jo=R({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),mu=ze(jo),ha=R({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),pu=ze(ha),gu=R({},ki,{data:0}),yi=ze(gu),yu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},_u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=vu[e])?!!n[e]:!1}function vs(){return Eu}var en=R({},ys,{key:function(e){if(e.key){var n=yu[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Tr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?_u[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(e){return e.type==="keypress"?Tr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Tr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tu=ze(en),Au=R({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ze(Au),u=R({},ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),m=ze(u),v=R({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),L=R({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(L),et=R({},ki,{newState:0,oldState:0}),Tt=ze(et),me=[9,13,27,32],Ht=xn&&"CompositionEvent"in window,oe=null;xn&&"documentMode"in document&&(oe=document.documentMode);var In=xn&&"TextEvent"in window&&!oe,_i=xn&&(!Ht||oe&&8<oe&&11>=oe),Qn=" ",Kn=!1;function Sr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function tT(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:(Kn=!0,Qn);case"textInput":return e=n.data,e===Qn&&Kn?null:e;default:return null}}function eT(e,n){if(da)return e==="compositionend"||!Ht&&Sr(e,n)?(e=Uo(),Er=ko=mi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return _i&&n.locale!=="ko"?null:n.data;default:return null}}var nT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function pp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!nT[e.type]:n==="textarea"}function gp(e,n,s,o){ps?di?di.push(o):di=[o]:ps=o,n=hc(n,"onChange"),0<n.length&&(s=new pi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var zo=null,Bo=null;function iT(e){Jy(e,0)}function bu(e){var n=mn(e);if(gr(n))return e}function yp(e,n){if(e==="change")return n}var _p=!1;if(xn){var Uh;if(xn){var Lh="oninput"in document;if(!Lh){var vp=document.createElement("div");vp.setAttribute("oninput","return;"),Lh=typeof vp.oninput=="function"}Uh=Lh}else Uh=!1;_p=Uh&&(!document.documentMode||9<document.documentMode)}function Ep(){zo&&(zo.detachEvent("onpropertychange",Tp),Bo=zo=null)}function Tp(e){if(e.propertyName==="value"&&bu(Bo)){var n=[];gp(n,Bo,e,Cn(e)),gs(iT,n)}}function sT(e,n,s){e==="focusin"?(Ep(),zo=n,Bo=s,zo.attachEvent("onpropertychange",Tp)):e==="focusout"&&Ep()}function rT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bu(Bo)}function aT(e,n){if(e==="click")return bu(n)}function oT(e,n){if(e==="input"||e==="change")return bu(n)}function lT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var gn=typeof Object.is=="function"?Object.is:lT;function qo(e,n){if(gn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!_e.call(n,h)||!gn(e[h],n[h]))return!1}return!0}function Ap(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function bp(e,n){var s=Ap(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Ap(s)}}function Sp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Sp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function wp(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=fi(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=fi(e.document)}return n}function Ph(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var uT=xn&&"documentMode"in document&&11>=document.documentMode,ma=null,jh=null,Ho=null,zh=!1;function Rp(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;zh||ma==null||ma!==fi(o)||(o=ma,"selectionStart"in o&&Ph(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),Ho&&qo(Ho,o)||(Ho=o,o=hc(jh,"onSelect"),0<o.length&&(n=new pi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ma)))}function wr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var pa={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionrun:wr("Transition","TransitionRun"),transitionstart:wr("Transition","TransitionStart"),transitioncancel:wr("Transition","TransitionCancel"),transitionend:wr("Transition","TransitionEnd")},Bh={},Cp={};xn&&(Cp=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function Rr(e){if(Bh[e])return Bh[e];if(!pa[e])return e;var n=pa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Cp)return Bh[e]=n[s];return e}var xp=Rr("animationend"),Ip=Rr("animationiteration"),Np=Rr("animationstart"),cT=Rr("transitionrun"),hT=Rr("transitionstart"),fT=Rr("transitioncancel"),Dp=Rr("transitionend"),Mp=new Map,qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qh.push("scrollEnd");function Yn(e,n){Mp.set(e,n),ci(n,[e])}var Su=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Nn=[],ga=0,Hh=0;function wu(){for(var e=ga,n=Hh=ga=0;n<e;){var s=Nn[n];Nn[n++]=null;var o=Nn[n];Nn[n++]=null;var h=Nn[n];Nn[n++]=null;var f=Nn[n];if(Nn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Op(s,h,f)}}function Ru(e,n,s,o){Nn[ga++]=e,Nn[ga++]=n,Nn[ga++]=s,Nn[ga++]=o,Hh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Fh(e,n,s,o){return Ru(e,n,s,o),Cu(e)}function Cr(e,n){return Ru(e,null,null,n),Cu(e)}function Op(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function Cu(e){if(50<hl)throw hl=0,td=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function dT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(e,n,s,o){return new dT(e,n,s,o)}function Gh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var s=e.alternate;return s===null?(s=yn(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Vp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function xu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")Gh(e)&&(p=1);else if(typeof e=="string")p=_A(e,s,it.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case C:return e=yn(31,s,n,h),e.elementType=C,e.lanes=f,e;case W:return xr(s.children,h,f,n);case $:p=8,h|=24;break;case lt:return e=yn(12,s,n,h|2),e.elementType=lt,e.lanes=f,e;case jt:return e=yn(13,s,n,h),e.elementType=jt,e.lanes=f,e;case wt:return e=yn(19,s,n,h),e.elementType=wt,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ut:p=10;break t;case rt:p=9;break t;case Ot:p=11;break t;case x:p=14;break t;case w:p=16,o=null;break t}p=29,s=Error(r(130,e===null?"null":typeof e,"")),o=null}return n=yn(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function xr(e,n,s,o){return e=yn(7,e,o,n),e.lanes=s,e}function Qh(e,n,s){return e=yn(6,e,null,n),e.lanes=s,e}function kp(e){var n=yn(18,null,null,0);return n.stateNode=e,n}function Kh(e,n,s){return n=yn(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var Up=new WeakMap;function Dn(e,n){if(typeof e=="object"&&e!==null){var s=Up.get(e);return s!==void 0?s:(n={value:e,source:n,stack:Eo(n)},Up.set(e,n),n)}return{value:e,source:n,stack:Eo(n)}}var _a=[],va=0,Iu=null,Fo=0,Mn=[],On=0,Es=null,vi=1,Ei="";function Pi(e,n){_a[va++]=Fo,_a[va++]=Iu,Iu=e,Fo=n}function Lp(e,n,s){Mn[On++]=vi,Mn[On++]=Ei,Mn[On++]=Es,Es=e;var o=vi;e=Ei;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,vi=1<<32-de(n)+h|s<<h|o,Ei=f+e}else vi=1<<f|s<<h|o,Ei=e}function Yh(e){e.return!==null&&(Pi(e,1),Lp(e,1,0))}function Xh(e){for(;e===Iu;)Iu=_a[--va],_a[va]=null,Fo=_a[--va],_a[va]=null;for(;e===Es;)Es=Mn[--On],Mn[On]=null,Ei=Mn[--On],Mn[On]=null,vi=Mn[--On],Mn[On]=null}function Pp(e,n){Mn[On++]=vi,Mn[On++]=Ei,Mn[On++]=Es,vi=n.id,Ei=n.overflow,Es=e}var Be=null,ne=null,kt=!1,Ts=null,Vn=!1,$h=Error(r(519));function As(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Go(Dn(n,e)),$h}function jp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Ee]=e,n[ke]=o,s){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(s=0;s<dl.length;s++)Ct(dl[s],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),lu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),ds(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||n_(n.textContent,s)?(o.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),o.onScroll!=null&&Ct("scroll",n),o.onScrollEnd!=null&&Ct("scrollend",n),o.onClick!=null&&(n.onclick=Hn),n=!0):n=!1,n||As(e,!0)}function zp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:Vn=!1;return;case 27:case 3:Vn=!0;return;default:Be=Be.return}}function Ea(e){if(e!==Be)return!1;if(!kt)return zp(e),kt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||pd(e.type,e.memoizedProps)),s=!s),s&&ne&&As(e),zp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=h_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));ne=h_(e)}else n===27?(n=ne,Us(e.type)?(e=Ed,Ed=null,ne=e):ne=n):ne=Be?Un(e.stateNode.nextSibling):null;return!0}function Ir(){ne=Be=null,kt=!1}function Zh(){var e=Ts;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),Ts=null),e}function Go(e){Ts===null?Ts=[e]:Ts.push(e)}var Jh=S(null),Nr=null,ji=null;function bs(e,n,s){tt(Jh,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=Jh.current,B(Jh)}function Wh(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function tf(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var N=0;N<n.length;N++)if(E.context===n[N]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),Wh(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(r(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),Wh(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ta(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(r(387));if(p=p.memoizedProps,p!==null){var E=h.type;gn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Ut.current){if(p=h.alternate,p===null)throw Error(r(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(_l):e=[_l])}h=h.return}e!==null&&tf(n,e,s,o),n.flags|=262144}function Nu(e){for(e=e.firstContext;e!==null;){if(!gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Dr(e){Nr=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Bp(Nr,e)}function Du(e,n){return Nr===null&&Dr(e),Bp(e,n)}function Bp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(r(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return s}var mT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},pT=a.unstable_scheduleCallback,gT=a.unstable_NormalPriority,be={$$typeof:ut,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ef(){return{controller:new mT,data:new Map,refCount:0}}function Qo(e){e.refCount--,e.refCount===0&&pT(gT,function(){e.controller.abort()})}var Ko=null,nf=0,Aa=0,ba=null;function yT(e,n){if(Ko===null){var s=Ko=[];nf=0,Aa=ad(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return nf++,n.then(qp,qp),n}function qp(){if(--nf===0&&Ko!==null){ba!==null&&(ba.status="fulfilled");var e=Ko;Ko=null,Aa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function _T(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Hp=G.S;G.S=function(e,n){Ry=tn(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&yT(e,n),Hp!==null&&Hp(e,n)};var Mr=S(null);function sf(){var e=Mr.current;return e!==null?e:te.pooledCache}function Mu(e,n){n===null?tt(Mr,Mr.current):tt(Mr,n.pool)}function Fp(){var e=sf();return e===null?null:{parent:be._currentValue,pool:e}}var Sa=Error(r(460)),rf=Error(r(474)),Ou=Error(r(542)),Vu={then:function(){}};function Gp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qp(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Hn,Hn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e;default:if(typeof n.status=="string")n.then(Hn,Hn);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Yp(e),e}throw Vr=n,Sa}}function Or(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Vr=s,Sa):s}}var Vr=null;function Kp(){if(Vr===null)throw Error(r(459));var e=Vr;return Vr=null,e}function Yp(e){if(e===Sa||e===Ou)throw Error(r(483))}var wa=null,Yo=0;function ku(e){var n=Yo;return Yo+=1,wa===null&&(wa=[]),Qp(wa,e,n)}function Xo(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Uu(e,n){throw n.$$typeof===V?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Xp(e){function n(U,M){if(e){var P=U.deletions;P===null?(U.deletions=[M],U.flags|=16):P.push(M)}}function s(U,M){if(!e)return null;for(;M!==null;)n(U,M),M=M.sibling;return null}function o(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function h(U,M){return U=Li(U,M),U.index=0,U.sibling=null,U}function f(U,M,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<M?(U.flags|=67108866,M):P):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,M,P,K){return M===null||M.tag!==6?(M=Qh(P,U.mode,K),M.return=U,M):(M=h(M,P),M.return=U,M)}function N(U,M,P,K){var ft=P.type;return ft===W?Q(U,M,P.props.children,K,P.key):M!==null&&(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Or(ft)===M.type)?(M=h(M,P.props),Xo(M,P),M.return=U,M):(M=xu(P.type,P.key,P.props,null,U.mode,K),Xo(M,P),M.return=U,M)}function j(U,M,P,K){return M===null||M.tag!==4||M.stateNode.containerInfo!==P.containerInfo||M.stateNode.implementation!==P.implementation?(M=Kh(P,U.mode,K),M.return=U,M):(M=h(M,P.children||[]),M.return=U,M)}function Q(U,M,P,K,ft){return M===null||M.tag!==7?(M=xr(P,U.mode,K,ft),M.return=U,M):(M=h(M,P),M.return=U,M)}function Y(U,M,P){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Qh(""+M,U.mode,P),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case H:return P=xu(M.type,M.key,M.props,null,U.mode,P),Xo(P,M),P.return=U,P;case Z:return M=Kh(M,U.mode,P),M.return=U,M;case w:return M=Or(M),Y(U,M,P)}if(fe(M)||k(M))return M=xr(M,U.mode,P,null),M.return=U,M;if(typeof M.then=="function")return Y(U,ku(M),P);if(M.$$typeof===ut)return Y(U,Du(U,M),P);Uu(U,M)}return null}function z(U,M,P,K){var ft=M!==null?M.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return ft!==null?null:E(U,M,""+P,K);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case H:return P.key===ft?N(U,M,P,K):null;case Z:return P.key===ft?j(U,M,P,K):null;case w:return P=Or(P),z(U,M,P,K)}if(fe(P)||k(P))return ft!==null?null:Q(U,M,P,K,null);if(typeof P.then=="function")return z(U,M,ku(P),K);if(P.$$typeof===ut)return z(U,M,Du(U,P),K);Uu(U,P)}return null}function F(U,M,P,K,ft){if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return U=U.get(P)||null,E(M,U,""+K,ft);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case H:return U=U.get(K.key===null?P:K.key)||null,N(M,U,K,ft);case Z:return U=U.get(K.key===null?P:K.key)||null,j(M,U,K,ft);case w:return K=Or(K),F(U,M,P,K,ft)}if(fe(K)||k(K))return U=U.get(P)||null,Q(M,U,K,ft,null);if(typeof K.then=="function")return F(U,M,P,ku(K),ft);if(K.$$typeof===ut)return F(U,M,P,Du(M,K),ft);Uu(M,K)}return null}function at(U,M,P,K){for(var ft=null,zt=null,ot=M,St=M=0,It=null;ot!==null&&St<P.length;St++){ot.index>St?(It=ot,ot=null):It=ot.sibling;var Bt=z(U,ot,P[St],K);if(Bt===null){ot===null&&(ot=It);break}e&&ot&&Bt.alternate===null&&n(U,ot),M=f(Bt,M,St),zt===null?ft=Bt:zt.sibling=Bt,zt=Bt,ot=It}if(St===P.length)return s(U,ot),kt&&Pi(U,St),ft;if(ot===null){for(;St<P.length;St++)ot=Y(U,P[St],K),ot!==null&&(M=f(ot,M,St),zt===null?ft=ot:zt.sibling=ot,zt=ot);return kt&&Pi(U,St),ft}for(ot=o(ot);St<P.length;St++)It=F(ot,U,St,P[St],K),It!==null&&(e&&It.alternate!==null&&ot.delete(It.key===null?St:It.key),M=f(It,M,St),zt===null?ft=It:zt.sibling=It,zt=It);return e&&ot.forEach(function(Bs){return n(U,Bs)}),kt&&Pi(U,St),ft}function mt(U,M,P,K){if(P==null)throw Error(r(151));for(var ft=null,zt=null,ot=M,St=M=0,It=null,Bt=P.next();ot!==null&&!Bt.done;St++,Bt=P.next()){ot.index>St?(It=ot,ot=null):It=ot.sibling;var Bs=z(U,ot,Bt.value,K);if(Bs===null){ot===null&&(ot=It);break}e&&ot&&Bs.alternate===null&&n(U,ot),M=f(Bs,M,St),zt===null?ft=Bs:zt.sibling=Bs,zt=Bs,ot=It}if(Bt.done)return s(U,ot),kt&&Pi(U,St),ft;if(ot===null){for(;!Bt.done;St++,Bt=P.next())Bt=Y(U,Bt.value,K),Bt!==null&&(M=f(Bt,M,St),zt===null?ft=Bt:zt.sibling=Bt,zt=Bt);return kt&&Pi(U,St),ft}for(ot=o(ot);!Bt.done;St++,Bt=P.next())Bt=F(ot,U,St,Bt.value,K),Bt!==null&&(e&&Bt.alternate!==null&&ot.delete(Bt.key===null?St:Bt.key),M=f(Bt,M,St),zt===null?ft=Bt:zt.sibling=Bt,zt=Bt);return e&&ot.forEach(function(IA){return n(U,IA)}),kt&&Pi(U,St),ft}function Jt(U,M,P,K){if(typeof P=="object"&&P!==null&&P.type===W&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case H:t:{for(var ft=P.key;M!==null;){if(M.key===ft){if(ft=P.type,ft===W){if(M.tag===7){s(U,M.sibling),K=h(M,P.props.children),K.return=U,U=K;break t}}else if(M.elementType===ft||typeof ft=="object"&&ft!==null&&ft.$$typeof===w&&Or(ft)===M.type){s(U,M.sibling),K=h(M,P.props),Xo(K,P),K.return=U,U=K;break t}s(U,M);break}else n(U,M);M=M.sibling}P.type===W?(K=xr(P.props.children,U.mode,K,P.key),K.return=U,U=K):(K=xu(P.type,P.key,P.props,null,U.mode,K),Xo(K,P),K.return=U,U=K)}return p(U);case Z:t:{for(ft=P.key;M!==null;){if(M.key===ft)if(M.tag===4&&M.stateNode.containerInfo===P.containerInfo&&M.stateNode.implementation===P.implementation){s(U,M.sibling),K=h(M,P.children||[]),K.return=U,U=K;break t}else{s(U,M);break}else n(U,M);M=M.sibling}K=Kh(P,U.mode,K),K.return=U,U=K}return p(U);case w:return P=Or(P),Jt(U,M,P,K)}if(fe(P))return at(U,M,P,K);if(k(P)){if(ft=k(P),typeof ft!="function")throw Error(r(150));return P=ft.call(P),mt(U,M,P,K)}if(typeof P.then=="function")return Jt(U,M,ku(P),K);if(P.$$typeof===ut)return Jt(U,M,Du(U,P),K);Uu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,M!==null&&M.tag===6?(s(U,M.sibling),K=h(M,P),K.return=U,U=K):(s(U,M),K=Qh(P,U.mode,K),K.return=U,U=K),p(U)):s(U,M)}return function(U,M,P,K){try{Yo=0;var ft=Jt(U,M,P,K);return wa=null,ft}catch(ot){if(ot===Sa||ot===Ou)throw ot;var zt=yn(29,ot,null,U.mode);return zt.lanes=K,zt.return=U,zt}}}var kr=Xp(!0),$p=Xp(!1),Ss=!1;function af(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function of(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ws(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Rs(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ft&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=Cu(e),Op(e,null,s),n}return Ru(e,o,n,s),Cu(e)}function $o(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}function lf(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var uf=!1;function Zo(){if(uf){var e=ba;if(e!==null)throw e}}function Jo(e,n,s,o){uf=!1;var h=e.updateQueue;Ss=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var N=E,j=N.next;N.next=null,p===null?f=j:p.next=j,p=N;var Q=e.alternate;Q!==null&&(Q=Q.updateQueue,E=Q.lastBaseUpdate,E!==p&&(E===null?Q.firstBaseUpdate=j:E.next=j,Q.lastBaseUpdate=N))}if(f!==null){var Y=h.baseState;p=0,Q=j=N=null,E=f;do{var z=E.lane&-536870913,F=z!==E.lane;if(F?(xt&z)===z:(o&z)===z){z!==0&&z===Aa&&(uf=!0),Q!==null&&(Q=Q.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;z=n;var Jt=s;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){Y=at.call(Jt,Y,z);break t}Y=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,z=typeof at=="function"?at.call(Jt,Y,z):at,z==null)break t;Y=R({},Y,z);break t;case 2:Ss=!0}}z=E.callback,z!==null&&(e.flags|=64,F&&(e.flags|=8192),F=h.callbacks,F===null?h.callbacks=[z]:F.push(z))}else F={lane:z,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Q===null?(j=Q=F,N=Y):Q=Q.next=F,p|=z;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;F=E,E=F.next,F.next=null,h.lastBaseUpdate=F,h.shared.pending=null}}while(!0);Q===null&&(N=Y),h.baseState=N,h.firstBaseUpdate=j,h.lastBaseUpdate=Q,f===null&&(h.shared.lanes=0),Ds|=p,e.lanes=p,e.memoizedState=Y}}function Zp(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function Jp(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)Zp(s[e],n)}var Ra=S(null),Lu=S(0);function Wp(e,n){e=Xi,tt(Lu,e),tt(Ra,n),Xi=e|n.baseLanes}function cf(){tt(Lu,Xi),tt(Ra,Ra.current)}function hf(){Xi=Lu.current,B(Ra),B(Lu)}var _n=S(null),kn=null;function Cs(e){var n=e.alternate;tt(pe,pe.current&1),tt(_n,e),kn===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(kn=e)}function ff(e){tt(pe,pe.current),tt(_n,e),kn===null&&(kn=e)}function tg(e){e.tag===22?(tt(pe,pe.current),tt(_n,e),kn===null&&(kn=e)):xs()}function xs(){tt(pe,pe.current),tt(_n,_n.current)}function vn(e){B(_n),kn===e&&(kn=null),B(pe)}var pe=S(0);function Pu(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||_d(s)||vd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,At=null,$t=null,Se=null,ju=!1,Ca=!1,Ur=!1,zu=0,Wo=0,xa=null,vT=0;function ce(){throw Error(r(321))}function df(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!gn(e[s],n[s]))return!1;return!0}function mf(e,n,s,o,h,f){return Bi=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,G.H=e===null||e.memoizedState===null?Lg:If,Ur=!1,f=s(o,h),Ur=!1,Ca&&(f=ng(n,s,o,h)),eg(e),f}function eg(e){G.H=nl;var n=$t!==null&&$t.next!==null;if(Bi=0,Se=$t=At=null,ju=!1,Wo=0,xa=null,n)throw Error(r(300));e===null||we||(e=e.dependencies,e!==null&&Nu(e)&&(we=!0))}function ng(e,n,s,o){At=e;var h=0;do{if(Ca&&(xa=null),Wo=0,Ca=!1,25<=h)throw Error(r(301));if(h+=1,Se=$t=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}G.H=Pg,f=n(s,o)}while(Ca);return f}function ET(){var e=G.H,n=e.useState()[0];return n=typeof n.then=="function"?tl(n):n,e=e.useState()[0],($t!==null?$t.memoizedState:null)!==e&&(At.flags|=1024),n}function pf(){var e=zu!==0;return zu=0,e}function gf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function yf(e){if(ju){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}ju=!1}Bi=0,Se=$t=At=null,Ca=!1,Wo=zu=0,xa=null}function nn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?At.memoizedState=Se=e:Se=Se.next=e,Se}function ge(){if($t===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=$t.next;var n=Se===null?At.memoizedState:Se.next;if(n!==null)Se=n,$t=e;else{if(e===null)throw At.alternate===null?Error(r(467)):Error(r(310));$t=e,e={memoizedState:$t.memoizedState,baseState:$t.baseState,baseQueue:$t.baseQueue,queue:$t.queue,next:null},Se===null?At.memoizedState=Se=e:Se=Se.next=e}return Se}function Bu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(e){var n=Wo;return Wo+=1,xa===null&&(xa=[]),e=Qp(xa,e,n),n=At,(Se===null?n.memoizedState:Se.next)===null&&(n=n.alternate,G.H=n===null||n.memoizedState===null?Lg:If),e}function qu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return tl(e);if(e.$$typeof===ut)return qe(e)}throw Error(r(438,String(e)))}function _f(e){var n=null,s=At.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=Bu(),At.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=O;return n.index++,s}function qi(e,n){return typeof n=="function"?n(e):n}function Hu(e){var n=ge();return vf(n,$t,e)}function vf(e,n,s){var o=e.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,N=null,j=n,Q=!1;do{var Y=j.lane&-536870913;if(Y!==j.lane?(xt&Y)===Y:(Bi&Y)===Y){var z=j.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),Y===Aa&&(Q=!0);else if((Bi&z)===z){j=j.next,z===Aa&&(Q=!0);continue}else Y={lane:0,revertLane:j.revertLane,gesture:null,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=Y,p=f):N=N.next=Y,At.lanes|=z,Ds|=z;Y=j.action,Ur&&s(f,Y),f=j.hasEagerState?j.eagerState:s(f,Y)}else z={lane:Y,revertLane:j.revertLane,gesture:j.gesture,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null},N===null?(E=N=z,p=f):N=N.next=z,At.lanes|=Y,Ds|=Y;j=j.next}while(j!==null&&j!==n);if(N===null?p=f:N.next=E,!gn(f,e.memoizedState)&&(we=!0,Q&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=N,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function Ef(e){var n=ge(),s=n.queue;if(s===null)throw Error(r(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);gn(f,n.memoizedState)||(we=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function ig(e,n,s){var o=At,h=ge(),f=kt;if(f){if(s===void 0)throw Error(r(407));s=s()}else s=n();var p=!gn(($t||h).memoizedState,s);if(p&&(h.memoizedState=s,we=!0),h=h.queue,bf(ag.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||Se!==null&&Se.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},rg.bind(null,o,h,s,n),null),te===null)throw Error(r(349));f||(Bi&127)!==0||sg(o,n,s)}return s}function sg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=At.updateQueue,n===null?(n=Bu(),At.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function rg(e,n,s,o){n.value=s,n.getSnapshot=o,og(n)&&lg(e)}function ag(e,n,s){return s(function(){og(n)&&lg(e)})}function og(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!gn(e,s)}catch{return!0}}function lg(e){var n=Cr(e,2);n!==null&&hn(n,e,2)}function Tf(e){var n=nn();if(typeof e=="function"){var s=e;if(e=s(),Ur){wn(!0);try{s()}finally{wn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function ug(e,n,s,o){return e.baseState=s,vf(e,$t,typeof o=="function"?o:qi)}function TT(e,n,s,o,h){if(Qu(e))throw Error(r(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};G.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,cg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function cg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=G.T,p={};G.T=p;try{var E=s(h,o),N=G.S;N!==null&&N(p,E),hg(e,n,E)}catch(j){Af(e,n,j)}finally{f!==null&&p.types!==null&&(f.types=p.types),G.T=f}}else try{f=s(h,o),hg(e,n,f)}catch(j){Af(e,n,j)}}function hg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){fg(e,n,o)},function(o){return Af(e,n,o)}):fg(e,n,s)}function fg(e,n,s){n.status="fulfilled",n.value=s,dg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,cg(e,s)))}function Af(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,dg(n),n=n.next;while(n!==o)}e.action=null}function dg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function mg(e,n){return n}function pg(e,n){if(kt){var s=te.formState;if(s!==null){t:{var o=At;if(kt){if(ne){e:{for(var h=ne,f=Vn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Un(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Un(h.nextSibling),o=h.data==="F!";break t}}As(o)}o=!1}o&&(n=s[0])}}return s=nn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mg,lastRenderedState:n},s.queue=o,s=Vg.bind(null,At,o),o.dispatch=s,o=Tf(!1),f=xf.bind(null,At,!1,o.queue),o=nn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=TT.bind(null,At,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function gg(e){var n=ge();return yg(n,$t,e)}function yg(e,n,s){if(n=vf(e,n,mg)[0],e=Hu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=tl(n)}catch(p){throw p===Sa?Ou:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(At.flags|=2048,Ia(9,{destroy:void 0},AT.bind(null,h,s),null)),[o,f,e]}function AT(e,n){e.action=n}function _g(e){var n=ge(),s=$t;if(s!==null)return yg(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=At.updateQueue,n===null&&(n=Bu(),At.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function vg(){return ge().memoizedState}function Fu(e,n,s,o){var h=nn();At.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function Gu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;$t!==null&&o!==null&&df(o,$t.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(At.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function Eg(e,n){Fu(8390656,8,e,n)}function bf(e,n){Gu(2048,8,e,n)}function bT(e){At.flags|=4;var n=At.updateQueue;if(n===null)n=Bu(),At.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function Tg(e){var n=ge().memoizedState;return bT({ref:n,nextImpl:e}),function(){if((Ft&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Ag(e,n){return Gu(4,2,e,n)}function bg(e,n){return Gu(4,4,e,n)}function Sg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function wg(e,n,s){s=s!=null?s.concat([e]):null,Gu(4,4,Sg.bind(null,n,e),s)}function Sf(){}function Rg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&df(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Cg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&df(n,o[1]))return o[0];if(o=e(),Ur){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[o,n],o}function wf(e,n,s){return s===void 0||(Bi&1073741824)!==0&&(xt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=xy(),At.lanes|=e,Ds|=e,s)}function xg(e,n,s,o){return gn(s,n)?s:Ra.current!==null?(e=wf(e,s,o),gn(e,n)||(we=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(xt&261930)===0?(we=!0,e.memoizedState=s):(e=xy(),At.lanes|=e,Ds|=e,n)}function Ig(e,n,s,o,h){var f=nt.p;nt.p=f!==0&&8>f?f:8;var p=G.T,E={};G.T=E,xf(e,!1,n,s);try{var N=h(),j=G.S;if(j!==null&&j(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Q=_T(N,o);el(e,n,Q,An(e))}else el(e,n,o,An(e))}catch(Y){el(e,n,{then:function(){},status:"rejected",reason:Y},An())}finally{nt.p=f,p!==null&&E.types!==null&&(p.types=E.types),G.T=p}}function ST(){}function Rf(e,n,s,o){if(e.tag!==5)throw Error(r(476));var h=Ng(e).queue;Ig(e,h,n,ht,s===null?ST:function(){return Dg(e),s(o)})}function Ng(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:ht},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Dg(e){var n=Ng(e);n.next===null&&(n=e.alternate.memoizedState),el(e,n.next.queue,{},An())}function Cf(){return qe(_l)}function Mg(){return ge().memoizedState}function Og(){return ge().memoizedState}function wT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=An();e=ws(s);var o=Rs(n,e,s);o!==null&&(hn(o,n,s),$o(o,n,s)),n={cache:ef()},e.payload=n;return}n=n.return}}function RT(e,n,s){var o=An();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Qu(e)?kg(n,s):(s=Fh(e,n,s,o),s!==null&&(hn(s,e,o),Ug(s,n,o)))}function Vg(e,n,s){var o=An();el(e,n,s,o)}function el(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Qu(e))kg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,gn(E,p))return Ru(e,n,h,0),te===null&&wu(),!1}catch{}if(s=Fh(e,n,h,o),s!==null)return hn(s,e,o),Ug(s,n,o),!0}return!1}function xf(e,n,s,o){if(o={lane:2,revertLane:ad(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Qu(e)){if(n)throw Error(r(479))}else n=Fh(e,s,o,2),n!==null&&hn(n,e,2)}function Qu(e){var n=e.alternate;return e===At||n!==null&&n===At}function kg(e,n){Ca=ju=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function Ug(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,bo(e,s)}}var nl={readContext:qe,use:qu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};nl.useEffectEvent=ce;var Lg={readContext:qe,use:qu,useCallback:function(e,n){return nn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Eg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Fu(4194308,4,Sg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Fu(4194308,4,e,n)},useInsertionEffect:function(e,n){Fu(4,2,e,n)},useMemo:function(e,n){var s=nn();n=n===void 0?null:n;var o=e();if(Ur){wn(!0);try{e()}finally{wn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=nn();if(s!==void 0){var h=s(n);if(Ur){wn(!0);try{s(n)}finally{wn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=RT.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=nn();return e={current:e},n.memoizedState=e},useState:function(e){e=Tf(e);var n=e.queue,s=Vg.bind(null,At,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:Sf,useDeferredValue:function(e,n){var s=nn();return wf(s,e,n)},useTransition:function(){var e=Tf(!1);return e=Ig.bind(null,At,e.queue,!0,!1),nn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=At,h=nn();if(kt){if(s===void 0)throw Error(r(407));s=s()}else{if(s=n(),te===null)throw Error(r(349));(xt&127)!==0||sg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Eg(ag.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},rg.bind(null,o,f,s,n),null),s},useId:function(){var e=nn(),n=te.identifierPrefix;if(kt){var s=Ei,o=vi;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=zu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=vT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Cf,useFormState:pg,useActionState:pg,useOptimistic:function(e){var n=nn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=xf.bind(null,At,!0,s),s.dispatch=n,[e,n]},useMemoCache:_f,useCacheRefresh:function(){return nn().memoizedState=wT.bind(null,At)},useEffectEvent:function(e){var n=nn(),s={impl:e};return n.memoizedState=s,function(){if((Ft&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}},If={readContext:qe,use:qu,useCallback:Rg,useContext:qe,useEffect:bf,useImperativeHandle:wg,useInsertionEffect:Ag,useLayoutEffect:bg,useMemo:Cg,useReducer:Hu,useRef:vg,useState:function(){return Hu(qi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=ge();return xg(s,$t.memoizedState,e,n)},useTransition:function(){var e=Hu(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:Cf,useFormState:gg,useActionState:gg,useOptimistic:function(e,n){var s=ge();return ug(s,$t,e,n)},useMemoCache:_f,useCacheRefresh:Og};If.useEffectEvent=Tg;var Pg={readContext:qe,use:qu,useCallback:Rg,useContext:qe,useEffect:bf,useImperativeHandle:wg,useInsertionEffect:Ag,useLayoutEffect:bg,useMemo:Cg,useReducer:Ef,useRef:vg,useState:function(){return Ef(qi)},useDebugValue:Sf,useDeferredValue:function(e,n){var s=ge();return $t===null?wf(s,e,n):xg(s,$t.memoizedState,e,n)},useTransition:function(){var e=Ef(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:tl(e),n]},useSyncExternalStore:ig,useId:Mg,useHostTransitionStatus:Cf,useFormState:_g,useActionState:_g,useOptimistic:function(e,n){var s=ge();return $t!==null?ug(s,$t,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:_f,useCacheRefresh:Og};Pg.useEffectEvent=Tg;function Nf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:R({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Df={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=An(),h=ws(o);h.payload=n,s!=null&&(h.callback=s),n=Rs(e,h,o),n!==null&&(hn(n,e,o),$o(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=An(),h=ws(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Rs(e,h,o),n!==null&&(hn(n,e,o),$o(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=An(),o=ws(s);o.tag=2,n!=null&&(o.callback=n),n=Rs(e,o,s),n!==null&&(hn(n,e,s),$o(n,e,s))}};function jg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!qo(s,o)||!qo(h,f):!0}function zg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Df.enqueueReplaceState(n,n.state,null)}function Lr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=R({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Bg(e){Su(e)}function qg(e){console.error(e)}function Hg(e){Su(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Fg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Mf(e,n,s){return s=ws(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Gg(e){return e=ws(e),e.tag=3,e}function Qg(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Fg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Fg(n,s,o),typeof h!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function CT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ta(n,s,h,!0),s=_n.current,s!==null){switch(s.tag){case 31:case 13:return kn===null?rc():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),id(e,o,h)),!1;case 22:return s.flags|=65536,o===Vu?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),id(e,o,h)),!1}throw Error(r(435,s.tag))}return id(e,o,h),rc(),!1}if(kt)return n=_n.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==$h&&(e=Error(r(422),{cause:o}),Go(Dn(e,s)))):(o!==$h&&(n=Error(r(423),{cause:o}),Go(Dn(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=Dn(o,s),h=Mf(e.stateNode,o,h),lf(e,h),he!==4&&(he=2)),!1;var f=Error(r(520),{cause:o});if(f=Dn(f,s),cl===null?cl=[f]:cl.push(f),he!==4&&(he=2),n===null)return!0;o=Dn(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Mf(s.stateNode,o,e),lf(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ms===null||!Ms.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Gg(h),Qg(h,e,s,o),lf(s,h),!1}s=s.return}while(s!==null);return!1}var Of=Error(r(461)),we=!1;function He(e,n,s,o){n.child=e===null?$p(n,null,s,o):kr(n,e.child,s,o)}function Kg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Dr(n),o=mf(e,n,s,p,f,h),E=pf(),e!==null&&!we?(gf(e,n,h),Hi(e,n,h)):(kt&&E&&Yh(n),n.flags|=1,He(e,n,o,h),n.child)}function Yg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!Gh(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Xg(e,n,f,o,h)):(e=xu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Bf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:qo,s(p,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Xg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(qo(f,o)&&e.ref===n.ref)if(we=!1,n.pendingProps=o=f,Bf(e,h))(e.flags&131072)!==0&&(we=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return Vf(e,n,s,o,h)}function $g(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return Zg(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?Wp(n,f):cf(),tg(n);else return o=n.lanes=536870912,Zg(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Mu(n,f.cachePool),Wp(n,f),xs(),n.memoizedState=null):(e!==null&&Mu(n,null),cf(),xs());return He(e,n,h,s),n.child}function il(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function Zg(e,n,s,o,h){var f=sf();return f=f===null?null:{parent:be._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Mu(n,null),cf(),tg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Yu(e,n){return n=$u({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function Jg(e,n,s){return kr(n,e.child,null,s),e=Yu(n,n.pendingProps),e.flags|=2,vn(n),n.memoizedState=null,e}function xT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(kt){if(o.mode==="hidden")return e=Yu(n,o),n.lanes=536870912,il(null,e);if(ff(n),(e=ne)?(e=c_(e,Vn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Es!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=kp(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw As(n);return n.lanes=536870912,null}return Yu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(ff(n),h)if(n.flags&256)n.flags&=-257,n=Jg(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(we||Ta(e,n,s,!1),h=(s&e.childLanes)!==0,we||h){if(o=te,o!==null&&(p=So(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Cr(e,p),hn(o,e,p),Of;rc(),n=Jg(e,n,s)}else e=f.treeContext,ne=Un(p.nextSibling),Be=n,kt=!0,Ts=null,Vn=!1,e!==null&&Pp(n,e),n=Yu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function Xu(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(r(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function Vf(e,n,s,o,h){return Dr(n),s=mf(e,n,s,o,void 0,h),o=pf(),e!==null&&!we?(gf(e,n,h),Hi(e,n,h)):(kt&&o&&Yh(n),n.flags|=1,He(e,n,s,h),n.child)}function Wg(e,n,s,o,h,f){return Dr(n),n.updateQueue=null,s=ng(n,o,s,h),eg(e),o=pf(),e!==null&&!we?(gf(e,n,f),Hi(e,n,f)):(kt&&o&&Yh(n),n.flags|=1,He(e,n,s,f),n.child)}function ty(e,n,s,o,h){if(Dr(n),n.stateNode===null){var f=ya,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Df,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},af(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ya,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(Nf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Df.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),Zo(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,N=Lr(s,E);f.props=N;var j=f.context,Q=s.contextType;p=ya,typeof Q=="object"&&Q!==null&&(p=qe(Q));var Y=s.getDerivedStateFromProps;Q=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,Q||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||j!==p)&&zg(n,f,o,p),Ss=!1;var z=n.memoizedState;f.state=z,Jo(n,o,f,h),Zo(),j=n.memoizedState,E||z!==j||Ss?(typeof Y=="function"&&(Nf(n,s,Y,o),j=n.memoizedState),(N=Ss||jg(n,s,N,o,z,j,p))?(Q||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=j),f.props=o,f.state=j,f.context=p,o=N):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,of(e,n),p=n.memoizedProps,Q=Lr(s,p),f.props=Q,Y=n.pendingProps,z=f.context,j=s.contextType,N=ya,typeof j=="object"&&j!==null&&(N=qe(j)),E=s.getDerivedStateFromProps,(j=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==Y||z!==N)&&zg(n,f,o,N),Ss=!1,z=n.memoizedState,f.state=z,Jo(n,o,f,h),Zo();var F=n.memoizedState;p!==Y||z!==F||Ss||e!==null&&e.dependencies!==null&&Nu(e.dependencies)?(typeof E=="function"&&(Nf(n,s,E,o),F=n.memoizedState),(Q=Ss||jg(n,s,Q,o,z,F,N)||e!==null&&e.dependencies!==null&&Nu(e.dependencies))?(j||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,F,N),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,F,N)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=F),f.props=o,f.state=F,f.context=N,o=Q):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&z===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Xu(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=kr(n,e.child,null,h),n.child=kr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function ey(e,n,s,o){return Ir(),n.flags|=256,He(e,n,s,o),n.child}var kf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Uf(e){return{baseLanes:e,cachePool:Fp()}}function Lf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=Tn),e}function ny(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(kt){if(h?Cs(n):xs(),(e=ne)?(e=c_(e,Vn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Es!==null?{id:vi,overflow:Ei}:null,retryLane:536870912,hydrationErrors:null},s=kp(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw As(n);return vd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(xs(),h=n.mode,E=$u({mode:"hidden",children:E},h),o=xr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,p,s),n.memoizedState=kf,il(null,o)):(Cs(n),Pf(n,E))}var N=e.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(f)n.flags&256?(Cs(n),n.flags&=-257,n=jf(e,n,s)):n.memoizedState!==null?(xs(),n.child=e.child,n.flags|=128,n=null):(xs(),E=o.fallback,h=n.mode,o=$u({mode:"visible",children:o.children},h),E=xr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,kr(n,e.child,null,s),o=n.child,o.memoizedState=Uf(s),o.childLanes=Lf(e,p,s),n.memoizedState=kf,n=il(null,o));else if(Cs(n),vd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var j=p.dgst;p=j,o=Error(r(419)),o.stack="",o.digest=p,Go({value:o,source:null,stack:null}),n=jf(e,n,s)}else if(we||Ta(e,n,s,!1),p=(s&e.childLanes)!==0,we||p){if(p=te,p!==null&&(o=So(p,s),o!==0&&o!==N.retryLane))throw N.retryLane=o,Cr(e,o),hn(p,e,o),Of;_d(E)||rc(),n=jf(e,n,s)}else _d(E)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,ne=Un(E.nextSibling),Be=n,kt=!0,Ts=null,Vn=!1,e!==null&&Pp(n,e),n=Pf(n,o.children),n.flags|=4096);return n}return h?(xs(),E=o.fallback,h=n.mode,N=e.child,j=N.sibling,o=Li(N,{mode:"hidden",children:o.children}),o.subtreeFlags=N.subtreeFlags&65011712,j!==null?E=Li(j,E):(E=xr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,il(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Uf(s):(h=E.cachePool,h!==null?(N=be._currentValue,h=h.parent!==N?{parent:N,pool:N}:h):h=Fp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=Lf(e,p,s),n.memoizedState=kf,il(e.child,o)):(Cs(n),s=e.child,e=s.sibling,s=Li(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Pf(e,n){return n=$u({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function $u(e,n){return e=yn(22,e,null,n),e.lanes=0,e}function jf(e,n,s){return kr(n,e.child,null,s),e=Pf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function iy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),Wh(e.return,n,s)}function zf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function sy(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,tt(pe,p),He(e,n,o,s),o=kt?Fo:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&iy(e,s,n);else if(e.tag===19)iy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&Pu(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),zf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&Pu(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}zf(n,!0,s,null,f,o);break;case"together":zf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Ds|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ta(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,s=Li(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Li(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Bf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Nu(e)))}function IT(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),bs(n,be,e.memoizedState.cache),Ir();break;case 27:case 5:ur(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:bs(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,ff(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(Cs(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ny(e,n,s):(Cs(n),e=Hi(e,n,s),e!==null?e.sibling:null);Cs(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ta(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return sy(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),tt(pe,pe.current),o)break;return null;case 22:return n.lanes=0,$g(e,n,s,n.pendingProps);case 24:bs(n,be,e.memoizedState.cache)}return Hi(e,n,s)}function ry(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)we=!0;else{if(!Bf(e,s)&&(n.flags&128)===0)return we=!1,IT(e,n,s);we=(e.flags&131072)!==0}else we=!1,kt&&(n.flags&1048576)!==0&&Lp(n,Fo,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")Gh(e)?(o=Lr(e,o),n.tag=1,n=ty(null,n,e,o,s)):(n.tag=0,n=Vf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ot){n.tag=11,n=Kg(null,n,e,o,s);break t}else if(h===x){n.tag=14,n=Yg(null,n,e,o,s);break t}}throw n=ee(e)||e,Error(r(306,n,""))}}return n;case 0:return Vf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=Lr(o,n.pendingProps),ty(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(r(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,of(e,n),Jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,bs(n,be,o),o!==f.cache&&tf(n,[be],s,!0),Zo(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ey(e,n,o,s);break t}else if(o!==h){h=Dn(Error(r(424)),n),Go(h),n=ey(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Un(e.firstChild),Be=n,kt=!0,Ts=null,Vn=!0,s=$p(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ir(),o===h){n=Hi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return Xu(e,n),e===null?(s=g_(n.type,null,n.pendingProps,null))?n.memoizedState=s:kt||(s=n.type,e=n.pendingProps,o=fc(bt.current).createElement(s),o[Ee]=n,o[ke]=e,Fe(o,s,e),Te(o),n.stateNode=o):n.memoizedState=g_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ur(n),e===null&&kt&&(o=n.stateNode=d_(n.type,n.pendingProps,bt.current),Be=n,Vn=!0,h=ne,Us(n.type)?(Ed=h,ne=Un(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),Xu(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&kt&&((h=o=ne)&&(o=rA(o,n.type,n.pendingProps,Vn),o!==null?(n.stateNode=o,Be=n,ne=Un(o.firstChild),Vn=!1,h=!0):h=!1),h||As(n)),ur(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,pd(h,f)?o=null:p!==null&&pd(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=mf(e,n,ET,null,null,s),_l._currentValue=h),Xu(e,n),He(e,n,o,s),n.child;case 6:return e===null&&kt&&((e=s=ne)&&(s=aA(s,n.pendingProps,Vn),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||As(n)),null;case 13:return ny(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=kr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Kg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,bs(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Dr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Yg(e,n,n.type,n.pendingProps,s);case 15:return Xg(e,n,n.type,n.pendingProps,s);case 19:return sy(e,n,s);case 31:return xT(e,n,s);case 22:return $g(e,n,s,n.pendingProps);case 24:return Dr(n),o=qe(be),e===null?(h=sf(),h===null&&(h=te,f=ef(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},af(n),bs(n,be,h)):((e.lanes&s)!==0&&(of(e,n),Jo(n,null,null,s),Zo()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),bs(n,be,o)):(o=f.cache,bs(n,be,o),o!==h.cache&&tf(n,[be],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Fi(e){e.flags|=4}function qf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(My())e.flags|=8192;else throw Vr=Vu,rf}else e.flags&=-16777217}function ay(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!T_(n))if(My())e.flags|=8192;else throw Vr=Vu,rf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?iu():536870912,e.lanes|=n,Oa|=n)}function sl(e,n){if(!kt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function NT(e,n,s){var o=n.pendingProps;switch(Xh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(be),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Zh())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(ie(n),ay(n,f)):(ie(n),qf(n,h,null,o,s))):f?f!==e.memoizedState?(Fi(n),ie(n),ay(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),ie(n),qf(n,h,e,o,s)),null;case 27:if(Jr(n),s=bt.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}e=it.current,Ea(n)?jp(n):(e=d_(h,o,s),n.stateNode=e,Fi(n))}return ie(n),null;case 5:if(Jr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(r(166));return ie(n),null}if(f=it.current,Ea(n))jp(n);else{var p=fc(bt.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Ee]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return ie(n),qf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(r(166));if(e=bt.current,Ea(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Ee]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||n_(e.nodeValue,s)),e||As(n,!0)}else e=fc(e).createTextNode(o),e[Ee]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),s!==null){if(e===null){if(!o)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[Ee]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(vn(n),n):(vn(n),null);if((n.flags&128)!==0)throw Error(r(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(r(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(r(317));h[Ee]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=Zh(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(vn(n),n):(vn(n),null)}return vn(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&cd(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(B(pe),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)sl(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=Pu(e),f!==null){for(n.flags|=128,sl(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Vp(s,e),s=s.sibling;return tt(pe,pe.current&1|2),kt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&tn()>nc&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304)}else{if(!h)if(e=Pu(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),sl(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!kt)return ie(n),null}else 2*tn()-o.renderingStartTime>nc&&s!==536870912&&(n.flags|=128,h=!0,sl(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=tn(),e.sibling=null,s=pe.current,tt(pe,h?s&1|2:s&1),kt&&Pi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return vn(n),hf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&B(Mr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(be),ie(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function DT(e,n){switch(Xh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(be),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Jr(n),null;case 31:if(n.memoizedState!==null){if(vn(n),n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(vn(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return B(pe),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return vn(n),hf(),e!==null&&B(Mr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(be),null;case 25:return null;default:return null}}function oy(e,n){switch(Xh(n),n.tag){case 3:zi(be),ae();break;case 26:case 27:case 5:Jr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&vn(n);break;case 13:vn(n);break;case 19:B(pe);break;case 10:zi(n.type);break;case 22:case 23:vn(n),hf(),e!==null&&B(Mr);break;case 24:zi(be)}}function rl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function Is(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var N=s,j=E;try{j()}catch(Q){Yt(h,N,Q)}}}o=o.next}while(o!==f)}}catch(Q){Yt(n,n.return,Q)}}function ly(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{Jp(n,s)}catch(o){Yt(e,e.return,o)}}}function uy(e,n,s){s.props=Lr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function al(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function Ti(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function cy(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function Hf(e,n,s){try{var o=e.stateNode;WT(o,e.type,s,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function hy(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Us(e.type)||e.tag===4}function Ff(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||hy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Us(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Gf(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Hn));else if(o!==4&&(o===27&&Us(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for(Gf(e,n,s),e=e.sibling;e!==null;)Gf(e,n,s),e=e.sibling}function Ju(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Us(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Ju(e,n,s),e=e.sibling;e!==null;)Ju(e,n,s),e=e.sibling}function fy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[Ee]=e,n[ke]=s}catch(f){Yt(e,e.return,f)}}var Gi=!1,Re=!1,Qf=!1,dy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function MT(e,n){if(e=e.containerInfo,dd=vc,e=wp(e),Ph(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,N=-1,j=0,Q=0,Y=e,z=null;e:for(;;){for(var F;Y!==s||h!==0&&Y.nodeType!==3||(E=p+h),Y!==f||o!==0&&Y.nodeType!==3||(N=p+o),Y.nodeType===3&&(p+=Y.nodeValue.length),(F=Y.firstChild)!==null;)z=Y,Y=F;for(;;){if(Y===e)break e;if(z===s&&++j===h&&(E=p),z===f&&++Q===o&&(N=p),(F=Y.nextSibling)!==null)break;Y=z,z=Y.parentNode}Y=F}s=E===-1||N===-1?null:{start:E,end:N}}else s=null}s=s||{start:0,end:0}}else s=null;for(md={focusedElem:e,selectionRange:s},vc=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=Lr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)yd(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function my(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Ki(e,s),o&4&&rl(5,s);break;case 1:if(Ki(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(s,s.return,p)}else{var h=Lr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(s,s.return,p)}}o&64&&ly(s),o&512&&al(s,s.return);break;case 3:if(Ki(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{Jp(e,n)}catch(p){Yt(s,s.return,p)}}break;case 27:n===null&&o&4&&fy(s);case 26:case 5:Ki(e,s),n===null&&o&4&&cy(s),o&512&&al(s,s.return);break;case 12:Ki(e,s);break;case 31:Ki(e,s),o&4&&yy(e,s);break;case 13:Ki(e,s),o&4&&_y(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=BT.bind(null,s),oA(e,s))));break;case 22:if(o=s.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Re,h=Gi;var f=Re;Gi=o,(Re=n)&&!f?Yi(e,s,(s.subtreeFlags&8772)!==0):Ki(e,s),Gi=h,Re=f}break;case 30:break;default:Ki(e,s)}}function py(e){var n=e.alternate;n!==null&&(e.alternate=null,py(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Qi(e,n,s){for(s=s.child;s!==null;)gy(e,n,s),s=s.sibling}function gy(e,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(jn,s)}catch{}switch(s.tag){case 26:Re||Ti(s,n),Qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Re||Ti(s,n);var o=le,h=on;Us(s.type)&&(le=s.stateNode,on=!1),Qi(e,n,s),pl(s.stateNode),le=o,on=h;break;case 5:Re||Ti(s,n);case 6:if(o=le,h=on,le=null,Qi(e,n,s),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:le!==null&&(on?(e=le,l_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ba(e)):l_(le,s.stateNode));break;case 4:o=le,h=on,le=s.stateNode.containerInfo,on=!0,Qi(e,n,s),le=o,on=h;break;case 0:case 11:case 14:case 15:Is(2,s,n),Re||Is(4,s,n),Qi(e,n,s);break;case 1:Re||(Ti(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&uy(s,n,o)),Qi(e,n,s);break;case 21:Qi(e,n,s);break;case 22:Re=(o=Re)||s.memoizedState!==null,Qi(e,n,s),Re=o;break;default:Qi(e,n,s)}}function yy(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(s){Yt(n,n.return,s)}}}function _y(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){Yt(n,n.return,s)}}function OT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new dy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new dy),n;default:throw Error(r(435,e.tag))}}function Wu(e,n){var s=OT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=qT.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Us(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(r(160));gy(f,p,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)vy(n,e),n=n.sibling}var Xn=null;function vy(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Is(3,e,e.return),rl(3,e),Is(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Re||s===null||Ti(s,s.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Xn;if(ln(n,e),un(e),o&512&&(Re||s===null||Ti(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[oi]||f[Ee]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[Ee]=e,Te(f),o=f;break t;case"link":var p=v_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(p=v_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(r(468,o))}f[Ee]=e,Te(f),o=f}e.stateNode=o}else E_(h,e.type,e.stateNode);else e.stateNode=__(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?E_(h,e.type,e.stateNode):__(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Hf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Re||s===null||Ti(s,s.return)),s!==null&&o&4&&Hf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Re||s===null||Ti(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Hf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Qf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(r(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(pc=null,h=Xn,Xn=dc(n.containerInfo),ln(n,e),Xn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(at){Yt(e,e.return,at)}Qf&&(Qf=!1,Ey(e));break;case 4:o=Xn,Xn=dc(e.stateNode.containerInfo),ln(n,e),un(e),Xn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(ec=tn()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 22:h=e.memoizedState!==null;var N=s!==null&&s.memoizedState!==null,j=Gi,Q=Re;if(Gi=j||h,Re=Q||N,ln(n,e),Re=Q,Gi=j,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||N||Gi||Re||Pr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){N=s=n;try{if(f=N.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=N.stateNode;var Y=N.memoizedProps.style,z=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;E.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(at){Yt(N,N.return,at)}}}else if(n.tag===6){if(s===null){N=n;try{N.stateNode.nodeValue=h?"":N.memoizedProps}catch(at){Yt(N,N.return,at)}}}else if(n.tag===18){if(s===null){N=n;try{var F=N.stateNode;h?u_(F,!0):u_(N.stateNode,!1)}catch(at){Yt(N,N.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,Wu(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Wu(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(hy(o)){s=o;break}o=o.return}if(s==null)throw Error(r(160));switch(s.tag){case 27:var h=s.stateNode,f=Ff(e);Ju(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var E=Ff(e);Ju(e,E,p);break;case 3:case 4:var N=s.stateNode.containerInfo,j=Ff(e);Gf(e,j,N);break;default:throw Error(r(161))}}catch(Q){Yt(e,e.return,Q)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Ey(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Ey(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ki(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)my(e,n.alternate,n),n=n.sibling}function Pr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Is(4,n,n.return),Pr(n);break;case 1:Ti(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&uy(n,n.return,s),Pr(n);break;case 27:pl(n.stateNode);case 26:case 5:Ti(n,n.return),Pr(n);break;case 22:n.memoizedState===null&&Pr(n);break;case 30:Pr(n);break;default:Pr(n)}e=e.sibling}}function Yi(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Yi(h,f,s),rl(4,f);break;case 1:if(Yi(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(j){Yt(o,o.return,j)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var N=h.shared.hiddenCallbacks;if(N!==null)for(h.shared.hiddenCallbacks=null,h=0;h<N.length;h++)Zp(N[h],E)}catch(j){Yt(o,o.return,j)}}s&&p&64&&ly(f),al(f,f.return);break;case 27:fy(f);case 26:case 5:Yi(h,f,s),s&&o===null&&p&4&&cy(f),al(f,f.return);break;case 12:Yi(h,f,s);break;case 31:Yi(h,f,s),s&&p&4&&yy(h,f);break;case 13:Yi(h,f,s),s&&p&4&&_y(h,f);break;case 22:f.memoizedState===null&&Yi(h,f,s),al(f,f.return);break;case 30:break;default:Yi(h,f,s)}n=n.sibling}}function Kf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Qo(s))}function Yf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e))}function $n(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Ty(e,n,s,o),n=n.sibling}function Ty(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:$n(e,n,s,o),h&2048&&rl(9,n);break;case 1:$n(e,n,s,o);break;case 3:$n(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Qo(e)));break;case 12:if(h&2048){$n(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){Yt(n,n.return,N)}}else $n(e,n,s,o);break;case 31:$n(e,n,s,o);break;case 13:$n(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?$n(e,n,s,o):ol(e,n):f._visibility&2?$n(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Kf(p,n);break;case 24:$n(e,n,s,o),h&2048&&Yf(n.alternate,n);break;default:$n(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,N=o,j=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,E,N,h),rl(8,p);break;case 23:break;case 22:var Q=p.stateNode;p.memoizedState!==null?Q._visibility&2?Na(f,p,E,N,h):ol(f,p):(Q._visibility|=2,Na(f,p,E,N,h)),h&&j&2048&&Kf(p.alternate,p);break;case 24:Na(f,p,E,N,h),h&&j&2048&&Yf(p.alternate,p);break;default:Na(f,p,E,N,h)}n=n.sibling}}function ol(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:ol(s,o),h&2048&&Kf(o.alternate,o);break;case 24:ol(s,o),h&2048&&Yf(o.alternate,o);break;default:ol(s,o)}n=n.sibling}}var ll=8192;function Da(e,n,s){if(e.subtreeFlags&ll)for(e=e.child;e!==null;)Ay(e,n,s),e=e.sibling}function Ay(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&ll&&e.memoizedState!==null&&vA(s,Xn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=Xn;Xn=dc(e.stateNode.containerInfo),Da(e,n,s),Xn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ll,ll=16777216,Da(e,n,s),ll=o):Da(e,n,s));break;default:Da(e,n,s)}}function by(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ul(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,wy(o,e)}by(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Sy(e),e=e.sibling}function Sy(e){switch(e.tag){case 0:case 11:case 15:ul(e),e.flags&2048&&Is(9,e,e.return);break;case 3:ul(e);break;case 12:ul(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,tc(e)):ul(e);break;default:ul(e)}}function tc(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,wy(o,e)}by(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Is(8,n,n.return),tc(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,tc(n));break;default:tc(n)}e=e.sibling}}function wy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Is(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Qo(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(py(o),o===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var VT={getCacheForType:function(e){var n=qe(be),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(be).controller.signal}},kT=typeof WeakMap=="function"?WeakMap:Map,Ft=0,te=null,Rt=null,xt=0,Kt=0,En=null,Ns=!1,Ma=!1,Xf=!1,Xi=0,he=0,Ds=0,jr=0,$f=0,Tn=0,Oa=0,cl=null,cn=null,Zf=!1,ec=0,Ry=0,nc=1/0,ic=null,Ms=null,Me=0,Os=null,Va=null,$i=0,Jf=0,Wf=null,Cy=null,hl=0,td=null;function An(){return(Ft&2)!==0&&xt!==0?xt&-xt:G.T!==null?ad():su()}function xy(){if(Tn===0)if((xt&536870912)===0||kt){var e=fr;fr<<=1,(fr&3932160)===0&&(fr=262144),Tn=e}else Tn=536870912;return e=_n.current,e!==null&&(e.flags|=32),Tn}function hn(e,n,s){(e===te&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Vs(e,xt,Tn,!1)),dr(e,s),((Ft&2)===0||e!==te)&&(e===te&&((Ft&2)===0&&(jr|=s),he===4&&Vs(e,xt,Tn,!1)),Ai(e))}function Iy(e,n,s){if((Ft&6)!==0)throw Error(r(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||zn(e,n),h=o?PT(e,n):nd(e,n,!0),f=o;do{if(h===0){Ma&&!o&&Vs(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!UT(s)){h=nd(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=cl;var N=E.current.memoizedState.isDehydrated;if(N&&(ka(E,p).flags|=256),p=nd(E,p,!1),p!==2){if(Xf&&!N){E.errorRecoveryDisabledLanes|=f,jr|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Vs(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:Vs(o,n,Tn,!Ns);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(h=ec+300-tn(),10<h)){if(Vs(o,n,Tn,!Ns),si(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=a_(Ny.bind(null,o,s,cn,ic,Zf,n,Tn,jr,Oa,Ns,f,"Throttled",-0,0),h);break t}Ny(o,s,cn,ic,Zf,n,Tn,jr,Oa,Ns,f,null,-0,0)}}break}while(!0);Ai(e)}function Ny(e,n,s,o,h,f,p,E,N,j,Q,Y,z,F){if(e.timeoutHandle=-1,Y=n.subtreeFlags,Y&8192||(Y&16785408)===16785408){Y={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Hn},Ay(n,f,Y);var at=(f&62914560)===f?ec-tn():(f&4194048)===f?Ry-tn():0;if(at=EA(Y,at),at!==null){$i=f,e.cancelPendingCommit=at(Py.bind(null,e,n,f,s,o,h,p,E,N,Q,Y,null,z,F)),Vs(e,f,p,!j);return}}Py(e,n,f,s,o,h,p,E,N)}function UT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!gn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Vs(e,n,s,o){n&=~$f,n&=~jr,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&mr(e,s,n)}function sc(){return(Ft&6)===0?(fl(0),!1):!0}function ed(){if(Rt!==null){if(Kt===0)var e=Rt.return;else e=Rt,ji=Nr=null,yf(e),wa=null,Yo=0,e=Rt;for(;e!==null;)oy(e.alternate,e),e=e.return;Rt=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,nA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),$i=0,ed(),te=e,Rt=s=Li(e.current,null),xt=n,Kt=0,En=null,Ns=!1,Ma=zn(e,n),Xf=!1,Oa=Tn=$f=jr=Ds=he=0,cn=cl=null,Zf=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,wu(),s}function Dy(e,n){At=null,G.H=nl,n===Sa||n===Ou?(n=Kp(),Kt=3):n===rf?(n=Kp(),Kt=4):Kt=n===Of?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,En=n,Rt===null&&(he=1,Ku(e,Dn(n,e.current)))}function My(){var e=_n.current;return e===null?!0:(xt&4194048)===xt?kn===null:(xt&62914560)===xt||(xt&536870912)!==0?e===kn:!1}function Oy(){var e=G.H;return G.H=nl,e===null?nl:e}function Vy(){var e=G.A;return G.A=VT,e}function rc(){he=4,Ns||(xt&4194048)!==xt&&_n.current!==null||(Ma=!0),(Ds&134217727)===0&&(jr&134217727)===0||te===null||Vs(te,xt,Tn,!1)}function nd(e,n,s){var o=Ft;Ft|=2;var h=Oy(),f=Vy();(te!==e||xt!==n)&&(ic=null,ka(e,n)),n=!1;var p=he;t:do try{if(Kt!==0&&Rt!==null){var E=Rt,N=En;switch(Kt){case 8:ed(),p=6;break t;case 3:case 2:case 9:case 6:_n.current===null&&(n=!0);var j=Kt;if(Kt=0,En=null,Ua(e,E,N,j),s&&Ma){p=0;break t}break;default:j=Kt,Kt=0,En=null,Ua(e,E,N,j)}}LT(),p=he;break}catch(Q){Dy(e,Q)}while(!0);return n&&e.shellSuspendCounter++,ji=Nr=null,Ft=o,G.H=h,G.A=f,Rt===null&&(te=null,xt=0,wu()),p}function LT(){for(;Rt!==null;)ky(Rt)}function PT(e,n){var s=Ft;Ft|=2;var o=Oy(),h=Vy();te!==e||xt!==n?(ic=null,nc=tn()+500,ka(e,n)):Ma=zn(e,n);t:do try{if(Kt!==0&&Rt!==null){n=Rt;var f=En;e:switch(Kt){case 1:Kt=0,En=null,Ua(e,n,f,1);break;case 2:case 9:if(Gp(f)){Kt=0,En=null,Uy(n);break}n=function(){Kt!==2&&Kt!==9||te!==e||(Kt=7),Ai(e)},f.then(n,n);break t;case 3:Kt=7;break t;case 4:Kt=5;break t;case 7:Gp(f)?(Kt=0,En=null,Uy(n)):(Kt=0,En=null,Ua(e,n,f,7));break;case 5:var p=null;switch(Rt.tag){case 26:p=Rt.memoizedState;case 5:case 27:var E=Rt;if(p?T_(p):E.stateNode.complete){Kt=0,En=null;var N=E.sibling;if(N!==null)Rt=N;else{var j=E.return;j!==null?(Rt=j,ac(j)):Rt=null}break e}}Kt=0,En=null,Ua(e,n,f,5);break;case 6:Kt=0,En=null,Ua(e,n,f,6);break;case 8:ed(),he=6;break t;default:throw Error(r(462))}}jT();break}catch(Q){Dy(e,Q)}while(!0);return ji=Nr=null,G.H=o,G.A=h,Ft=s,Rt!==null?0:(te=null,xt=0,wu(),he)}function jT(){for(;Rt!==null&&!Dh();)ky(Rt)}function ky(e){var n=ry(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function Uy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=Wg(s,n,n.pendingProps,n.type,void 0,xt);break;case 11:n=Wg(s,n,n.pendingProps,n.type.render,n.ref,xt);break;case 5:yf(n);default:oy(s,n),n=Rt=Vp(n,Xi),n=ry(s,n,Xi)}e.memoizedProps=e.pendingProps,n===null?ac(e):Rt=n}function Ua(e,n,s,o){ji=Nr=null,yf(n),wa=null,Yo=0;var h=n.return;try{if(CT(e,h,n,s,xt)){he=1,Ku(e,Dn(s,e.current)),Rt=null;return}}catch(f){if(h!==null)throw Rt=h,f;he=1,Ku(e,Dn(s,e.current)),Rt=null;return}n.flags&32768?(kt||o===1?e=!0:Ma||(xt&536870912)!==0?e=!1:(Ns=e=!0,(o===2||o===9||o===3||o===6)&&(o=_n.current,o!==null&&o.tag===13&&(o.flags|=16384))),Ly(n,e)):ac(n)}function ac(e){var n=e;do{if((n.flags&32768)!==0){Ly(n,Ns);return}e=n.return;var s=NT(n.alternate,n,Xi);if(s!==null){Rt=s;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);he===0&&(he=5)}function Ly(e,n){do{var s=DT(e.alternate,e);if(s!==null){s.flags&=32767,Rt=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=s}while(e!==null);he=6,Rt=null}function Py(e,n,s,o,h,f,p,E,N){e.cancelPendingCommit=null;do oc();while(Me!==0);if((Ft&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(f=n.lanes|n.childLanes,f|=Hh,Vh(e,s,f,p,E,N),e===te&&(Rt=te=null,xt=0),Va=n,Os=e,$i=s,Jf=f,Wf=h,Cy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,HT(cs,function(){return Hy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=G.T,G.T=null,h=nt.p,nt.p=2,p=Ft,Ft|=4;try{MT(e,n,s)}finally{Ft=p,nt.p=h,G.T=o}}Me=1,jy(),zy(),By()}}function jy(){if(Me===1){Me=0;var e=Os,n=Va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ft;Ft|=4;try{vy(n,e);var f=md,p=wp(e.containerInfo),E=f.focusedElem,N=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&Sp(E.ownerDocument.documentElement,E)){if(N!==null&&Ph(E)){var j=N.start,Q=N.end;if(Q===void 0&&(Q=j),"selectionStart"in E)E.selectionStart=j,E.selectionEnd=Math.min(Q,E.value.length);else{var Y=E.ownerDocument||document,z=Y&&Y.defaultView||window;if(z.getSelection){var F=z.getSelection(),at=E.textContent.length,mt=Math.min(N.start,at),Jt=N.end===void 0?mt:Math.min(N.end,at);!F.extend&&mt>Jt&&(p=Jt,Jt=mt,mt=p);var U=bp(E,mt),M=bp(E,Jt);if(U&&M&&(F.rangeCount!==1||F.anchorNode!==U.node||F.anchorOffset!==U.offset||F.focusNode!==M.node||F.focusOffset!==M.offset)){var P=Y.createRange();P.setStart(U.node,U.offset),F.removeAllRanges(),mt>Jt?(F.addRange(P),F.extend(M.node,M.offset)):(P.setEnd(M.node,M.offset),F.addRange(P))}}}}for(Y=[],F=E;F=F.parentNode;)F.nodeType===1&&Y.push({element:F,left:F.scrollLeft,top:F.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<Y.length;E++){var K=Y[E];K.element.scrollLeft=K.left,K.element.scrollTop=K.top}}vc=!!dd,md=dd=null}finally{Ft=h,nt.p=o,G.T=s}}e.current=n,Me=2}}function zy(){if(Me===2){Me=0;var e=Os,n=Va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=G.T,G.T=null;var o=nt.p;nt.p=2;var h=Ft;Ft|=4;try{my(e,n.alternate,n)}finally{Ft=h,nt.p=o,G.T=s}}Me=3}}function By(){if(Me===4||Me===3){Me=0,Zl();var e=Os,n=Va,s=$i,o=Cy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Me=5:(Me=0,Va=Os=null,qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ms=null),Oi(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(jn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=G.T,h=nt.p,nt.p=2,G.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{G.T=n,nt.p=h}}($i&3)!==0&&oc(),Ai(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===td?hl++:(hl=0,td=e):hl=0,fl(0)}}function qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Qo(n)))}function oc(){return jy(),zy(),By(),Hy()}function Hy(){if(Me!==5)return!1;var e=Os,n=Jf;Jf=0;var s=Oi($i),o=G.T,h=nt.p;try{nt.p=32>s?32:s,G.T=null,s=Wf,Wf=null;var f=Os,p=$i;if(Me=0,Va=Os=null,$i=0,(Ft&6)!==0)throw Error(r(331));var E=Ft;if(Ft|=4,Sy(f.current),Ty(f,f.current,p,s),Ft=E,fl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(jn,f)}catch{}return!0}finally{nt.p=h,G.T=o,qy(e,n)}}function Fy(e,n,s){n=Dn(s,n),n=Mf(e.stateNode,n,2),e=Rs(e,n,2),e!==null&&(dr(e,2),Ai(e))}function Yt(e,n,s){if(e.tag===3)Fy(e,e,s);else for(;n!==null;){if(n.tag===3){Fy(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ms===null||!Ms.has(o))){e=Dn(s,e),s=Gg(2),o=Rs(n,s,2),o!==null&&(Qg(s,o,n,e),dr(o,2),Ai(o));break}}n=n.return}}function id(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new kT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(Xf=!0,h.add(s),e=zT.bind(null,e,n,s),n.then(e,e))}function zT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,te===e&&(xt&s)===s&&(he===4||he===3&&(xt&62914560)===xt&&300>tn()-ec?(Ft&2)===0&&ka(e,0):$f|=s,Oa===xt&&(Oa=0)),Ai(e)}function Gy(e,n){n===0&&(n=iu()),e=Cr(e,n),e!==null&&(dr(e,n),Ai(e))}function BT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Gy(e,s)}function qT(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(r(314))}o!==null&&o.delete(n),Gy(e,s)}function HT(e,n){return De(e,n)}var lc=null,La=null,sd=!1,uc=!1,rd=!1,ks=0;function Ai(e){e!==La&&e.next===null&&(La===null?lc=La=e:La=La.next=e),uc=!0,sd||(sd=!0,GT())}function fl(e,n){if(!rd&&uc){rd=!0;do for(var s=!1,o=lc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Xy(o,f))}else f=xt,f=si(o,o===te?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||zn(o,f)||(s=!0,Xy(o,f));o=o.next}while(s);rd=!1}}function FT(){Qy()}function Qy(){uc=sd=!1;var e=0;ks!==0&&eA()&&(e=ks);for(var n=tn(),s=null,o=lc;o!==null;){var h=o.next,f=Ky(o,n);f===0?(o.next=null,s===null?lc=h:s.next=h,h===null&&(La=s)):(s=o,(e!==0||(f&3)!==0)&&(uc=!0)),o=h}Me!==0&&Me!==5||fl(e),ks!==0&&(ks=0)}function Ky(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,N=h[p];N===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Oh(E,n)):N<=n&&(e.expiredLanes|=E),f&=~E}if(n=te,s=xt,s=si(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Kt===2||Kt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&us(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||zn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&us(o),Oi(s)){case 2:case 8:s=Ao;break;case 32:s=cs;break;case 268435456:s=Jl;break;default:s=cs}return o=Yy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&us(o),e.callbackPriority=2,e.callbackNode=null,2}function Yy(e,n){if(Me!==0&&Me!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(oc()&&e.callbackNode!==s)return null;var o=xt;return o=si(e,e===te?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(Iy(e,o,n),Ky(e,tn()),e.callbackNode!=null&&e.callbackNode===s?Yy.bind(null,e):null)}function Xy(e,n){if(oc())return null;Iy(e,n,!0)}function GT(){iA(function(){(Ft&6)!==0?De(To,FT):Qy()})}function ad(){if(ks===0){var e=Aa;e===0&&(e=ni,ni<<=1,(ni&261888)===0&&(ni=256)),ks=e}return ks}function $y(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function Zy(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function QT(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=$y((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?$y(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new pi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(ks!==0){var N=p?Zy(h,p):new FormData(h);Rf(s,{pending:!0,data:N,method:h.method,action:f},null,N)}}else typeof f=="function"&&(E.preventDefault(),N=p?Zy(h,p):new FormData(h),Rf(s,{pending:!0,data:N,method:h.method,action:f},f,N))},currentTarget:h}]})}}for(var od=0;od<qh.length;od++){var ld=qh[od],KT=ld.toLowerCase(),YT=ld[0].toUpperCase()+ld.slice(1);Yn(KT,"on"+YT)}Yn(xp,"onAnimationEnd"),Yn(Ip,"onAnimationIteration"),Yn(Np,"onAnimationStart"),Yn("dblclick","onDoubleClick"),Yn("focusin","onFocus"),Yn("focusout","onBlur"),Yn(cT,"onTransitionRun"),Yn(hT,"onTransitionStart"),Yn(fT,"onTransitionCancel"),Yn(Dp,"onTransitionEnd"),hi("onMouseEnter",["mouseout","mouseover"]),hi("onMouseLeave",["mouseout","mouseover"]),hi("onPointerEnter",["pointerout","pointerover"]),hi("onPointerLeave",["pointerout","pointerover"]),ci("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ci("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ci("onBeforeInput",["compositionend","keypress","textInput","paste"]),ci("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ci("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XT=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dl));function Jy(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],N=E.instance,j=E.currentTarget;if(E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Su(Q)}h.currentTarget=null,f=N}else for(p=0;p<o.length;p++){if(E=o[p],N=E.instance,j=E.currentTarget,E=E.listener,N!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=j;try{f(h)}catch(Q){Su(Q)}h.currentTarget=null,f=N}}}}function Ct(e,n){var s=n[na];s===void 0&&(s=n[na]=new Set);var o=e+"__bubble";s.has(o)||(Wy(n,e,2,!1),s.add(o))}function ud(e,n,s){var o=0;n&&(o|=4),Wy(s,e,o,n)}var cc="_reactListening"+Math.random().toString(36).slice(2);function cd(e){if(!e[cc]){e[cc]=!0,wo.forEach(function(s){s!=="selectionchange"&&(XT.has(s)||ud(s,!1,e),ud(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[cc]||(n[cc]=!0,ud("selectionchange",!1,n))}}function Wy(e,n,s,o){switch(x_(n)){case 2:var h=bA;break;case 8:h=SA;break;default:h=wd}s=h.bind(null,n,s,e),h=void 0,!vr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function hd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var N=p.tag;if((N===3||N===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=li(E),p===null)return;if(N=p.tag,N===5||N===6||N===26||N===27){o=f=p;continue t}E=E.parentNode}}o=o.return}gs(function(){var j=f,Q=Cn(s),Y=[];t:{var z=Mp.get(e);if(z!==void 0){var F=pi,at=e;switch(e){case"keypress":if(Tr(s)===0)break t;case"keydown":case"keyup":F=Tu;break;case"focusin":at="focus",F=br;break;case"focusout":at="blur",F=br;break;case"beforeblur":case"afterblur":F=br;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":F=Po;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":F=fu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":F=m;break;case xp:case Ip:case Np:F=mu;break;case Dp:F=T;break;case"scroll":case"scrollend":F=Lo;break;case"wheel":F=q;break;case"copy":case"cut":case"paste":F=pu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":F=Ui;break;case"toggle":case"beforetoggle":F=Tt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),U=mt?z!==null?z+"Capture":null:z;mt=[];for(var M=j,P;M!==null;){var K=M;if(P=K.stateNode,K=K.tag,K!==5&&K!==26&&K!==27||P===null||U===null||(K=Fn(M,U),K!=null&&mt.push(ml(M,K,P))),Jt)break;M=M.return}0<mt.length&&(z=new F(z,at,null,s,Q),Y.push({event:z,listeners:mt}))}}if((n&7)===0){t:{if(z=e==="mouseover"||e==="pointerover",F=e==="mouseout"||e==="pointerout",z&&s!==Vo&&(at=s.relatedTarget||s.fromElement)&&(li(at)||at[ai]))break t;if((F||z)&&(z=Q.window===Q?Q:(z=Q.ownerDocument)?z.defaultView||z.parentWindow:window,F?(at=s.relatedTarget||s.toElement,F=j,at=at?li(at):null,at!==null&&(Jt=c(at),mt=at.tag,at!==Jt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(F=null,at=j),F!==at)){if(mt=Po,K="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ui,K="onPointerLeave",U="onPointerEnter",M="pointer"),Jt=F==null?z:mn(F),P=at==null?z:mn(at),z=new mt(K,M+"leave",F,s,Q),z.target=Jt,z.relatedTarget=P,K=null,li(Q)===j&&(mt=new mt(U,M+"enter",at,s,Q),mt.target=P,mt.relatedTarget=Jt,K=mt),Jt=K,F&&at)e:{for(mt=$T,U=F,M=at,P=0,K=U;K;K=mt(K))P++;K=0;for(var ft=M;ft;ft=mt(ft))K++;for(;0<P-K;)U=mt(U),P--;for(;0<K-P;)M=mt(M),K--;for(;P--;){if(U===M||M!==null&&U===M.alternate){mt=U;break e}U=mt(U),M=mt(M)}mt=null}else mt=null;F!==null&&t_(Y,z,F,mt,!1),at!==null&&Jt!==null&&t_(Y,Jt,at,mt,!0)}}t:{if(z=j?mn(j):window,F=z.nodeName&&z.nodeName.toLowerCase(),F==="select"||F==="input"&&z.type==="file")var zt=yp;else if(pp(z))if(_p)zt=oT;else{zt=rT;var ot=sT}else F=z.nodeName,!F||F.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?j&&aa(j.elementType)&&(zt=yp):zt=aT;if(zt&&(zt=zt(e,j))){gp(Y,zt,s,Q);break t}ot&&ot(e,z,j),e==="focusout"&&j&&z.type==="number"&&j.memoizedProps.value!=null&&Do(z,"number",z.value)}switch(ot=j?mn(j):window,e){case"focusin":(pp(ot)||ot.contentEditable==="true")&&(ma=ot,jh=j,Ho=null);break;case"focusout":Ho=jh=ma=null;break;case"mousedown":zh=!0;break;case"contextmenu":case"mouseup":case"dragend":zh=!1,Rp(Y,s,Q);break;case"selectionchange":if(uT)break;case"keydown":case"keyup":Rp(Y,s,Q)}var St;if(Ht)t:{switch(e){case"compositionstart":var It="onCompositionStart";break t;case"compositionend":It="onCompositionEnd";break t;case"compositionupdate":It="onCompositionUpdate";break t}It=void 0}else da?Sr(e,s)&&(It="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(It="onCompositionStart");It&&(_i&&s.locale!=="ko"&&(da||It!=="onCompositionStart"?It==="onCompositionEnd"&&da&&(St=Uo()):(mi=Q,ko="value"in mi?mi.value:mi.textContent,da=!0)),ot=hc(j,It),0<ot.length&&(It=new yi(It,e,null,s,Q),Y.push({event:It,listeners:ot}),St?It.data=St:(St=fa(s),St!==null&&(It.data=St)))),(St=In?tT(e,s):eT(e,s))&&(It=hc(j,"onBeforeInput"),0<It.length&&(ot=new yi("onBeforeInput","beforeinput",null,s,Q),Y.push({event:ot,listeners:It}),ot.data=St)),QT(Y,e,j,s,Q)}Jy(Y,n)})}function ml(e,n,s){return{instance:e,listener:n,currentTarget:s}}function hc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Fn(e,s),h!=null&&o.unshift(ml(e,h,f)),h=Fn(e,n),h!=null&&o.push(ml(e,h,f))),e.tag===3)return o;e=e.return}return[]}function $T(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function t_(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,N=E.alternate,j=E.stateNode;if(E=E.tag,N!==null&&N===o)break;E!==5&&E!==26&&E!==27||j===null||(N=j,h?(j=Fn(s,f),j!=null&&p.unshift(ml(s,j,N))):h||(j=Fn(s,f),j!=null&&p.push(ml(s,j,N)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var ZT=/\r\n?/g,JT=/\u0000|\uFFFD/g;function e_(e){return(typeof e=="string"?e:""+e).replace(ZT,`
`).replace(JT,"")}function n_(e,n){return n=e_(n),e_(e)===n}function Zt(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":pn(e,"class",o);break;case"tabIndex":pn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":pn(e,s,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){pn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&Zt(e,n,"name",h.name,h,null),Zt(e,n,"formEncType",h.formEncType,h,null),Zt(e,n,"formMethod",h.formMethod,h,null),Zt(e,n,"formTarget",h.formTarget,h,null)):(Zt(e,n,"encType",h.encType,h,null),Zt(e,n,"method",h.method,h,null),Zt(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Ct("beforetoggle",e),Ct("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":Ae(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":Ae(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":Ae(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":Ae(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":Ae(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":Ae(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":Ae(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=hu.get(s)||s,sa(e,s,o))}}function fd(e,n,s,o,h,f){switch(s){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(r(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(r(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Ct("scroll",e);break;case"onScrollEnd":o!=null&&Ct("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ro.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",e),Ct("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,f,p,s,null)}}h&&Zt(e,n,"srcSet",s.srcSet,s,null),o&&Zt(e,n,"src",s.src,s,null);return;case"input":Ct("invalid",e);var E=f=p=h=null,N=null,j=null;for(o in s)if(s.hasOwnProperty(o)){var Q=s[o];if(Q!=null)switch(o){case"name":h=Q;break;case"type":p=Q;break;case"checked":N=Q;break;case"defaultChecked":j=Q;break;case"value":f=Q;break;case"defaultValue":E=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(r(137,n));break;default:Zt(e,n,o,Q,s,null)}}lu(e,f,E,N,j,p,h,!1);return;case"select":Ct("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:Zt(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?fs(e,!!o,n,!1):s!=null&&fs(e,!!o,s,!0);return;case"textarea":Ct("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:Zt(e,n,p,E,s,null)}ds(e,o,h,f);return;case"option":for(N in s)s.hasOwnProperty(N)&&(o=s[N],o!=null)&&(N==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":Zt(e,n,N,o,s,null));return;case"dialog":Ct("beforetoggle",e),Ct("toggle",e),Ct("cancel",e),Ct("close",e);break;case"iframe":case"object":Ct("load",e);break;case"video":case"audio":for(o=0;o<dl.length;o++)Ct(dl[o],e);break;case"image":Ct("error",e),Ct("load",e);break;case"details":Ct("toggle",e);break;case"embed":case"source":case"link":Ct("error",e),Ct("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(j in s)if(s.hasOwnProperty(j)&&(o=s[j],o!=null))switch(j){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Zt(e,n,j,o,s,null)}return;default:if(aa(n)){for(Q in s)s.hasOwnProperty(Q)&&(o=s[Q],o!==void 0&&fd(e,n,Q,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&Zt(e,n,E,o,s,null))}function WT(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,N=null,j=null,Q=null;for(F in s){var Y=s[F];if(s.hasOwnProperty(F)&&Y!=null)switch(F){case"checked":break;case"value":break;case"defaultValue":N=Y;default:o.hasOwnProperty(F)||Zt(e,n,F,null,o,Y)}}for(var z in o){var F=o[z];if(Y=s[z],o.hasOwnProperty(z)&&(F!=null||Y!=null))switch(z){case"type":f=F;break;case"name":h=F;break;case"checked":j=F;break;case"defaultChecked":Q=F;break;case"value":p=F;break;case"defaultValue":E=F;break;case"children":case"dangerouslySetInnerHTML":if(F!=null)throw Error(r(137,n));break;default:F!==Y&&Zt(e,n,z,F,o,Y)}}ra(e,p,E,N,j,Q,f,h);return;case"select":F=p=E=z=null;for(f in s)if(N=s[f],s.hasOwnProperty(f)&&N!=null)switch(f){case"value":break;case"multiple":F=N;default:o.hasOwnProperty(f)||Zt(e,n,f,null,o,N)}for(h in o)if(f=o[h],N=s[h],o.hasOwnProperty(h)&&(f!=null||N!=null))switch(h){case"value":z=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==N&&Zt(e,n,h,f,o,N)}n=E,s=p,o=F,z!=null?fs(e,!!s,z,!1):!!o!=!!s&&(n!=null?fs(e,!!s,n,!0):fs(e,!!s,s?[]:"",!1));return;case"textarea":F=z=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Zt(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":z=h;break;case"defaultValue":F=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(r(91));break;default:h!==f&&Zt(e,n,p,h,o,f)}uu(e,z,F);return;case"option":for(var at in s)z=s[at],s.hasOwnProperty(at)&&z!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:Zt(e,n,at,null,o,z));for(N in o)z=o[N],F=s[N],o.hasOwnProperty(N)&&z!==F&&(z!=null||F!=null)&&(N==="selected"?e.selected=z&&typeof z!="function"&&typeof z!="symbol":Zt(e,n,N,z,o,F));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)z=s[mt],s.hasOwnProperty(mt)&&z!=null&&!o.hasOwnProperty(mt)&&Zt(e,n,mt,null,o,z);for(j in o)if(z=o[j],F=s[j],o.hasOwnProperty(j)&&z!==F&&(z!=null||F!=null))switch(j){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(r(137,n));break;default:Zt(e,n,j,z,o,F)}return;default:if(aa(n)){for(var Jt in s)z=s[Jt],s.hasOwnProperty(Jt)&&z!==void 0&&!o.hasOwnProperty(Jt)&&fd(e,n,Jt,void 0,o,z);for(Q in o)z=o[Q],F=s[Q],!o.hasOwnProperty(Q)||z===F||z===void 0&&F===void 0||fd(e,n,Q,z,o,F);return}}for(var U in s)z=s[U],s.hasOwnProperty(U)&&z!=null&&!o.hasOwnProperty(U)&&Zt(e,n,U,null,o,z);for(Y in o)z=o[Y],F=s[Y],!o.hasOwnProperty(Y)||z===F||z==null&&F==null||Zt(e,n,Y,z,o,F)}function i_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function tA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&i_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var N=s[o],j=N.startTime;if(j>E)break;var Q=N.transferSize,Y=N.initiatorType;Q&&i_(Y)&&(N=N.responseEnd,p+=Q*(N<E?1:(E-j)/(N-j)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var dd=null,md=null;function fc(e){return e.nodeType===9?e:e.ownerDocument}function s_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function r_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function pd(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var gd=null;function eA(){var e=window.event;return e&&e.type==="popstate"?e===gd?!1:(gd=e,!0):(gd=null,!1)}var a_=typeof setTimeout=="function"?setTimeout:void 0,nA=typeof clearTimeout=="function"?clearTimeout:void 0,o_=typeof Promise=="function"?Promise:void 0,iA=typeof queueMicrotask=="function"?queueMicrotask:typeof o_<"u"?function(e){return o_.resolve(null).then(e).catch(sA)}:a_;function sA(e){setTimeout(function(){throw e})}function Us(e){return e==="head"}function l_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")pl(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,pl(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[oi]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&pl(e.ownerDocument.body);s=h}while(s);Ba(n)}function u_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function yd(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":yd(s),ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function rA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[oi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Un(e.nextSibling),e===null)break}return null}function aA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Un(e.nextSibling),e===null))return null;return e}function c_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Un(e.nextSibling),e===null))return null;return e}function _d(e){return e.data==="$?"||e.data==="$~"}function vd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function oA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Un(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Ed=null;function h_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Un(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function f_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function d_(e,n,s){switch(n=fc(s),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function pl(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Ln=new Map,m_=new Set;function dc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zi=nt.d;nt.d={f:lA,r:uA,D:cA,C:hA,L:fA,m:dA,X:pA,S:mA,M:gA};function lA(){var e=Zi.f(),n=sc();return e||n}function uA(e){var n=Rn(e);n!==null&&n.tag===5&&n.type==="form"?Dg(n):Zi.r(e)}var Pa=typeof document>"u"?null:document;function p_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),m_.has(h)||(m_.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function cA(e){Zi.D(e),p_("dns-prefetch",e,null)}function hA(e,n){Zi.C(e,n),p_("preconnect",e,n)}function fA(e,n,s){Zi.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=za(e)}Ln.has(f)||(e=R({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Ln.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(gl(f))||n==="script"&&o.querySelector(yl(f))||(n=o.createElement("link"),Fe(n,"link",e),Te(n),o.head.appendChild(n)))}}function dA(e,n){Zi.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Ln.has(f)&&(e=R({rel:"modulepreload",href:e},n),Ln.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(yl(f)))return}o=s.createElement("link"),Fe(o,"link",e),Te(o),s.head.appendChild(o)}}}function mA(e,n,s){Zi.S(e,n,s);var o=Pa;if(o&&e){var h=ui(o).hoistableStyles,f=ja(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(gl(f)))E.loading=5;else{e=R({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Ln.get(f))&&Td(e,s);var N=p=o.createElement("link");Te(N),Fe(N,"link",e),N._p=new Promise(function(j,Q){N.onload=j,N.onerror=Q}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,mc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function pA(e,n){Zi.X(e,n);var s=Pa;if(s&&e){var o=ui(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=R({src:e,async:!0},n),(n=Ln.get(h))&&Ad(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function gA(e,n){Zi.M(e,n);var s=Pa;if(s&&e){var o=ui(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(yl(h)),f||(e=R({src:e,async:!0,type:"module"},n),(n=Ln.get(h))&&Ad(e,n),f=s.createElement("script"),Te(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function g_(e,n,s,o){var h=(h=bt.current)?dc(h):null;if(!h)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=ui(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ja(s.href);var f=ui(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(gl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Ln.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Ln.set(e,s),f||yA(h,e,s,p.state))),n&&o===null)throw Error(r(528,""));return p}if(n&&o!==null)throw Error(r(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=ui(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function ja(e){return'href="'+rn(e)+'"'}function gl(e){return'link[rel="stylesheet"]['+e+"]"}function y_(e){return R({},e,{"data-precedence":e.precedence,precedence:null})}function yA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),Te(n),e.head.appendChild(n))}function za(e){return'[src="'+rn(e)+'"]'}function yl(e){return"script[async]"+e}function __(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Te(o),o;var h=R({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Te(o),Fe(o,"style",h),mc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ja(s.href);var f=e.querySelector(gl(h));if(f)return n.state.loading|=4,n.instance=f,Te(f),f;o=y_(s),(h=Ln.get(h))&&Td(o,h),f=(e.ownerDocument||e).createElement("link"),Te(f);var p=f;return p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Fe(f,"link",o),n.state.loading|=4,mc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(yl(f)))?(n.instance=h,Te(h),h):(o=s,(h=Ln.get(f))&&(o=R({},s),Ad(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Te(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,mc(o,s.precedence,e));return n.instance}function mc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Td(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Ad(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var pc=null;function v_(e,n,s){if(pc===null){var o=new Map,h=pc=new Map;h.set(s,o)}else h=pc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[oi]||f[Ee]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function E_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function _A(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function T_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function vA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(o.href),f=n.querySelector(gl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=gc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Te(f);return}f=n.ownerDocument||n,o=y_(o),(h=Ln.get(h))&&Td(o,h),f=f.createElement("link"),Te(f);var p=f;p._p=new Promise(function(E,N){p.onload=E,p.onerror=N}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=gc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var bd=0;function EA(e,n){return e.stylesheets&&e.count===0&&_c(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&bd===0&&(bd=62500*tA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&_c(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>bd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function gc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)_c(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var yc=null;function _c(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,yc=new Map,n.forEach(TA,e),yc=null,gc.call(e))}function TA(e,n){if(!(n.state.loading&4)){var s=yc.get(e);if(s)var o=s.get(null);else{s=new Map,yc.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=gc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var _l={$$typeof:ut,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function AA(e,n,s,o,h,f,p,E,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ri(0),this.hiddenUpdates=ri(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function A_(e,n,s,o,h,f,p,E,N,j,Q,Y){return e=new AA(e,n,s,p,N,j,Q,Y,E),n=1,f===!0&&(n|=24),f=yn(3,null,null,n),e.current=f,f.stateNode=e,n=ef(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},af(f),e}function b_(e){return e?(e=ya,e):ya}function S_(e,n,s,o,h,f){h=b_(h),o.context===null?o.context=h:o.pendingContext=h,o=ws(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Rs(e,o,n),s!==null&&(hn(s,e,n),$o(s,e,n))}function w_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Sd(e,n){w_(e,n),(e=e.alternate)&&w_(e,n)}function R_(e){if(e.tag===13||e.tag===31){var n=Cr(e,67108864);n!==null&&hn(n,e,67108864),Sd(e,67108864)}}function C_(e){if(e.tag===13||e.tag===31){var n=An();n=pr(n);var s=Cr(e,n);s!==null&&hn(s,e,n),Sd(e,n)}}var vc=!0;function bA(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=2,wd(e,n,s,o)}finally{nt.p=f,G.T=h}}function SA(e,n,s,o){var h=G.T;G.T=null;var f=nt.p;try{nt.p=8,wd(e,n,s,o)}finally{nt.p=f,G.T=h}}function wd(e,n,s,o){if(vc){var h=Rd(o);if(h===null)hd(e,n,o,Ec,s),I_(e,o);else if(RA(h,e,n,s,o))o.stopPropagation();else if(I_(e,o),n&4&&-1<wA.indexOf(e)){for(;h!==null;){var f=Rn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=ii(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var N=1<<31-de(p);E.entanglements[1]|=N,p&=~N}Ai(f),(Ft&6)===0&&(nc=tn()+500,fl(0))}}break;case 31:case 13:E=Cr(f,2),E!==null&&hn(E,f,2),sc(),Sd(f,2)}if(f=Rd(o),f===null&&hd(e,n,o,Ec,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else hd(e,n,o,null,s)}}function Rd(e){return e=Cn(e),Cd(e)}var Ec=null;function Cd(e){if(Ec=null,e=li(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Ec=e,null}function x_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(hr()){case To:return 2;case Ao:return 8;case cs:case Mh:return 32;case Jl:return 268435456;default:return 32}default:return 32}}var xd=!1,Ls=null,Ps=null,js=null,vl=new Map,El=new Map,zs=[],wA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function I_(e,n){switch(e){case"focusin":case"focusout":Ls=null;break;case"dragenter":case"dragleave":Ps=null;break;case"mouseover":case"mouseout":js=null;break;case"pointerover":case"pointerout":vl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":El.delete(n.pointerId)}}function Tl(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Rn(n),n!==null&&R_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function RA(e,n,s,o,h){switch(n){case"focusin":return Ls=Tl(Ls,e,n,s,o,h),!0;case"dragenter":return Ps=Tl(Ps,e,n,s,o,h),!0;case"mouseover":return js=Tl(js,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,Tl(vl.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,El.set(f,Tl(El.get(f)||null,e,n,s,o,h)),!0}return!1}function N_(e){var n=li(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){C_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Bn(e.priority,function(){C_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Tc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Rd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Vo=o,s.target.dispatchEvent(o),Vo=null}else return n=Rn(s),n!==null&&R_(n),e.blockedOn=s,!1;n.shift()}return!0}function D_(e,n,s){Tc(e)&&s.delete(n)}function CA(){xd=!1,Ls!==null&&Tc(Ls)&&(Ls=null),Ps!==null&&Tc(Ps)&&(Ps=null),js!==null&&Tc(js)&&(js=null),vl.forEach(D_),El.forEach(D_)}function Ac(e,n){e.blockedOn===n&&(e.blockedOn=null,xd||(xd=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,CA)))}var bc=null;function M_(e){bc!==e&&(bc=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){bc===e&&(bc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Cd(o||s)===null)continue;break}var f=Rn(s);f!==null&&(e.splice(n,3),n-=3,Rf(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ba(e){function n(N){return Ac(N,e)}Ls!==null&&Ac(Ls,e),Ps!==null&&Ac(Ps,e),js!==null&&Ac(js,e),vl.forEach(n),El.forEach(n);for(var s=0;s<zs.length;s++){var o=zs[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<zs.length&&(s=zs[0],s.blockedOn===null);)N_(s),s.blockedOn===null&&zs.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[ke]||null;if(typeof f=="function")p||M_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Cd(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),M_(s)}}}function O_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Id(e){this._internalRoot=e}Sc.prototype.render=Id.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var s=n.current,o=An();S_(s,o,e,n,null,null)},Sc.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;S_(e.current,2,null,e,null,null),sc(),n[ai]=null}};function Sc(e){this._internalRoot=e}Sc.prototype.unstable_scheduleHydration=function(e){if(e){var n=su();e={blockedOn:null,target:e,priority:n};for(var s=0;s<zs.length&&n!==0&&n<zs[s].priority;s++);zs.splice(s,0,e),s===0&&N_(e)}};var V_=t.version;if(V_!=="19.2.3")throw Error(r(527,V_,"19.2.3"));nt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=_(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var xA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:G,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wc.isDisabled&&wc.supportsFiber)try{jn=wc.inject(xA),je=wc}catch{}}return bl.createRoot=function(e,n){if(!l(e))throw Error(r(299));var s=!1,o="",h=Bg,f=qg,p=Hg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=A_(e,1,!1,null,null,s,o,null,h,f,p,O_),e[ai]=n.current,cd(e),new Id(n)},bl.hydrateRoot=function(e,n,s){if(!l(e))throw Error(r(299));var o=!1,h="",f=Bg,p=qg,E=Hg,N=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(N=s.formState)),n=A_(e,1,!0,n,s??null,o,h,N,f,p,E,O_),n.context=b_(null),s=n.current,o=An(),o=pr(o),h=ws(o),h.callback=null,Rs(s,h,o),s=o,n.current.lanes=s,dr(n,s),Ai(n),e[ai]=n.current,cd(e),new Sc(n)},bl.version="19.2.3",bl}var F_;function PA(){if(F_)return Md.exports;F_=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Md.exports=LA(),Md.exports}var jA=PA();const zA=()=>{};var G_={};const A0=function(a){const t=[];let i=0;for(let r=0;r<a.length;r++){let l=a.charCodeAt(r);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&r+1<a.length&&(a.charCodeAt(r+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++r)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},BA=function(a){const t=[];let i=0,r=0;for(;i<a.length;){const l=a[i++];if(l<128)t[r++]=String.fromCharCode(l);else if(l>191&&l<224){const c=a[i++];t[r++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=a[i++],d=a[i++],g=a[i++],y=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[r++]=String.fromCharCode(55296+(y>>10)),t[r++]=String.fromCharCode(56320+(y&1023))}else{const c=a[i++],d=a[i++];t[r++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},b0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let l=0;l<a.length;l+=3){const c=a[l],d=l+1<a.length,g=d?a[l+1]:0,y=l+2<a.length,_=y?a[l+2]:0,b=c>>2,R=(c&3)<<4|g>>4;let V=(g&15)<<2|_>>6,H=_&63;y||(H=64,d||(V=64)),r.push(i[b],i[R],i[V],i[H])}return r.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(A0(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):BA(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let l=0;l<a.length;){const c=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const _=l<a.length?i[a.charAt(l)]:64;++l;const R=l<a.length?i[a.charAt(l)]:64;if(++l,c==null||g==null||_==null||R==null)throw new qA;const V=c<<2|g>>4;if(r.push(V),_!==64){const H=g<<4&240|_>>2;if(r.push(H),R!==64){const Z=_<<6&192|R;r.push(Z)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class qA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HA=function(a){const t=A0(a);return b0.encodeByteArray(t,!0)},Hc=function(a){return HA(a).replace(/\./g,"")},S0=function(a){try{return b0.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function FA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const GA=()=>FA().__FIREBASE_DEFAULTS__,QA=()=>{if(typeof process>"u"||typeof G_>"u")return;const a=G_.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},KA=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&S0(a[1]);return t&&JSON.parse(t)},uh=()=>{try{return zA()||GA()||QA()||KA()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},w0=a=>uh()?.emulatorHosts?.[a],YA=a=>{const t=w0(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),r]:[t.substring(0,i),r]},R0=()=>uh()?.config,C0=a=>uh()?.[`_${a}`];class XA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,r)=>{i?this.reject(i):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,r))}}}function lo(a){try{return(a.startsWith("http://")||a.startsWith("https://")?new URL(a).hostname:a).endsWith(".cloudworkstations.dev")}catch{return!1}}async function x0(a){return(await fetch(a,{credentials:"include"})).ok}function $A(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},r=t||"demo-project",l=a.iat||0,c=a.sub||a.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${r}`,aud:r,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...a};return[Hc(JSON.stringify(i)),Hc(JSON.stringify(d)),""].join(".")}const xl={};function ZA(){const a={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?a.emulator.push(t):a.prod.push(t);return a}function JA(a){let t=document.getElementById(a),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",a),i=!0),{created:i,element:t}}let Q_=!1;function I0(a,t){if(typeof window>"u"||typeof document>"u"||!lo(window.location.host)||xl[a]===t||xl[a]||Q_)return;xl[a]=t;function i(V){return`__firebase__banner__${V}`}const r="__firebase__banner",c=ZA().prod.length>0;function d(){const V=document.getElementById(r);V&&V.remove()}function g(V){V.style.display="flex",V.style.background="#7faaf0",V.style.position="fixed",V.style.bottom="5px",V.style.left="5px",V.style.padding=".5em",V.style.borderRadius="5px",V.style.alignItems="center"}function y(V,H){V.setAttribute("width","24"),V.setAttribute("id",H),V.setAttribute("height","24"),V.setAttribute("viewBox","0 0 24 24"),V.setAttribute("fill","none"),V.style.marginLeft="-6px"}function _(){const V=document.createElement("span");return V.style.cursor="pointer",V.style.marginLeft="16px",V.style.fontSize="24px",V.innerHTML=" &times;",V.onclick=()=>{Q_=!0,d()},V}function b(V,H){V.setAttribute("id",H),V.innerText="Learn more",V.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",V.setAttribute("target","__blank"),V.style.paddingLeft="5px",V.style.textDecoration="underline"}function R(){const V=JA(r),H=i("text"),Z=document.getElementById(H)||document.createElement("span"),W=i("learnmore"),$=document.getElementById(W)||document.createElement("a"),lt=i("preprendIcon"),rt=document.getElementById(lt)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(V.created){const ut=V.element;g(ut),b($,W);const Ot=_();y(rt,lt),ut.append(rt,Z,$,Ot),document.body.appendChild(ut)}c?(Z.innerText="Preview backend disconnected.",rt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(rt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Z.innerText="Preview backend running in this workspace."),Z.setAttribute("id",H)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",R):R()}function We(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(We())}function tb(){const a=uh()?.forceEnvironment;if(a==="node")return!0;if(a==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nb(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function ib(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function sb(){const a=We();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function rb(){return!tb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ab(){try{return typeof indexedDB=="object"}catch{return!1}}function ob(){return new Promise((a,t)=>{try{let i=!0;const r="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(r);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(r),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const lb="FirebaseError";class ls extends Error{constructor(t,i,r){super(i),this.code=t,this.customData=r,this.name=lb,Object.setPrototypeOf(this,ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,r){this.service=t,this.serviceName=i,this.errors=r}create(t,...i){const r=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?ub(c,r):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new ls(l,g,r)}}function ub(a,t){return a.replace(cb,(i,r)=>{const l=t[r];return l!=null?String(l):`<${r}?>`})}const cb=/\{\$([^}]+)}/g;function hb(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function ns(a,t){if(a===t)return!0;const i=Object.keys(a),r=Object.keys(t);for(const l of i){if(!r.includes(l))return!1;const c=a[l],d=t[l];if(K_(c)&&K_(d)){if(!ns(c,d))return!1}else if(c!==d)return!1}for(const l of r)if(!i.includes(l))return!1;return!0}function K_(a){return a!==null&&typeof a=="object"}function ql(a){const t=[];for(const[i,r]of Object.entries(a))Array.isArray(r)?r.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function fb(a,t){const i=new db(a,t);return i.subscribe.bind(i)}class db{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,r){let l;if(t===void 0&&i===void 0&&r===void 0)throw new Error("Missing Observer.");mb(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:r},l.next===void 0&&(l.next=Ud),l.error===void 0&&(l.error=Ud),l.complete===void 0&&(l.complete=Ud);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function mb(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function Ud(){}function sn(a){return a&&a._delegate?a._delegate:a}class Qr{constructor(t,i,r){this.name=t,this.instanceFactory=i,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const zr="[DEFAULT]";class pb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const r=new XA;if(this.instancesDeferred.set(i,r),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&r.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),r=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(r)return null;throw l}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(yb(t))try{this.getOrInitializeService({instanceIdentifier:zr})}catch{}for(const[i,r]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});r.resolve(c)}catch{}}}}clearInstance(t=zr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=zr){return this.instances.has(t)}getOptions(t=zr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:r,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);r===g&&d.resolve(l)}return l}onInit(t,i){const r=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(r)??new Set;l.add(t),this.onInitCallbacks.set(r,l);const c=this.instances.get(r);return c&&t(c,r),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const r=this.onInitCallbacks.get(i);if(r)for(const l of r)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gb(t),options:i}),this.instances.set(t,r),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=zr){return this.component?this.component.multipleInstances?t:zr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gb(a){return a===zr?void 0:a}function yb(a){return a.instantiationMode==="EAGER"}class _b{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new pb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Nt;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Nt||(Nt={}));const vb={debug:Nt.DEBUG,verbose:Nt.VERBOSE,info:Nt.INFO,warn:Nt.WARN,error:Nt.ERROR,silent:Nt.SILENT},Eb=Nt.INFO,Tb={[Nt.DEBUG]:"log",[Nt.VERBOSE]:"log",[Nt.INFO]:"info",[Nt.WARN]:"warn",[Nt.ERROR]:"error"},Ab=(a,t,...i)=>{if(t<a.logLevel)return;const r=new Date().toISOString(),l=Tb[t];if(l)console[l](`[${r}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class bm{constructor(t){this.name=t,this._logLevel=Eb,this._logHandler=Ab,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Nt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?vb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Nt.DEBUG,...t),this._logHandler(this,Nt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Nt.VERBOSE,...t),this._logHandler(this,Nt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Nt.INFO,...t),this._logHandler(this,Nt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Nt.WARN,...t),this._logHandler(this,Nt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Nt.ERROR,...t),this._logHandler(this,Nt.ERROR,...t)}}const bb=(a,t)=>t.some(i=>a instanceof i);let Y_,X_;function Sb(){return Y_||(Y_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wb(){return X_||(X_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const N0=new WeakMap,$d=new WeakMap,D0=new WeakMap,Ld=new WeakMap,Sm=new WeakMap;function Rb(a){const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("success",c),a.removeEventListener("error",d)},c=()=>{i(Ys(a.result)),l()},d=()=>{r(a.error),l()};a.addEventListener("success",c),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&N0.set(i,a)}).catch(()=>{}),Sm.set(t,a),t}function Cb(a){if($d.has(a))return;const t=new Promise((i,r)=>{const l=()=>{a.removeEventListener("complete",c),a.removeEventListener("error",d),a.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{r(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",c),a.addEventListener("error",d),a.addEventListener("abort",d)});$d.set(a,t)}let Zd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return $d.get(a);if(t==="objectStoreNames")return a.objectStoreNames||D0.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ys(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function xb(a){Zd=a(Zd)}function Ib(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const r=a.call(Pd(this),t,...i);return D0.set(r,t.sort?t.sort():[t]),Ys(r)}:wb().includes(a)?function(...t){return a.apply(Pd(this),t),Ys(N0.get(this))}:function(...t){return Ys(a.apply(Pd(this),t))}}function Nb(a){return typeof a=="function"?Ib(a):(a instanceof IDBTransaction&&Cb(a),bb(a,Sb())?new Proxy(a,Zd):a)}function Ys(a){if(a instanceof IDBRequest)return Rb(a);if(Ld.has(a))return Ld.get(a);const t=Nb(a);return t!==a&&(Ld.set(a,t),Sm.set(t,a)),t}const Pd=a=>Sm.get(a);function Db(a,t,{blocked:i,upgrade:r,blocking:l,terminated:c}={}){const d=indexedDB.open(a,t),g=Ys(d);return r&&d.addEventListener("upgradeneeded",y=>{r(Ys(d.result),y.oldVersion,y.newVersion,Ys(d.transaction),y)}),i&&d.addEventListener("blocked",y=>i(y.oldVersion,y.newVersion,y)),g.then(y=>{c&&y.addEventListener("close",()=>c()),l&&y.addEventListener("versionchange",_=>l(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const Mb=["get","getKey","getAll","getAllKeys","count"],Ob=["put","add","delete","clear"],jd=new Map;function $_(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(jd.get(t))return jd.get(t);const i=t.replace(/FromIndex$/,""),r=t!==i,l=Ob.includes(i);if(!(i in(r?IDBIndex:IDBObjectStore).prototype)||!(l||Mb.includes(i)))return;const c=async function(d,...g){const y=this.transaction(d,l?"readwrite":"readonly");let _=y.store;return r&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),l&&y.done]))[0]};return jd.set(t,c),c}xb(a=>({...a,get:(t,i,r)=>$_(t,i)||a.get(t,i,r),has:(t,i)=>!!$_(t,i)||a.has(t,i)}));class Vb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(kb(i)){const r=i.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(i=>i).join(" ")}}function kb(a){return a.getComponent()?.type==="VERSION"}const Jd="@firebase/app",Z_="0.14.6";const is=new bm("@firebase/app"),Ub="@firebase/app-compat",Lb="@firebase/analytics-compat",Pb="@firebase/analytics",jb="@firebase/app-check-compat",zb="@firebase/app-check",Bb="@firebase/auth",qb="@firebase/auth-compat",Hb="@firebase/database",Fb="@firebase/data-connect",Gb="@firebase/database-compat",Qb="@firebase/functions",Kb="@firebase/functions-compat",Yb="@firebase/installations",Xb="@firebase/installations-compat",$b="@firebase/messaging",Zb="@firebase/messaging-compat",Jb="@firebase/performance",Wb="@firebase/performance-compat",tS="@firebase/remote-config",eS="@firebase/remote-config-compat",nS="@firebase/storage",iS="@firebase/storage-compat",sS="@firebase/firestore",rS="@firebase/ai",aS="@firebase/firestore-compat",oS="firebase",lS="12.6.0";const Wd="[DEFAULT]",uS={[Jd]:"fire-core",[Ub]:"fire-core-compat",[Pb]:"fire-analytics",[Lb]:"fire-analytics-compat",[zb]:"fire-app-check",[jb]:"fire-app-check-compat",[Bb]:"fire-auth",[qb]:"fire-auth-compat",[Hb]:"fire-rtdb",[Fb]:"fire-data-connect",[Gb]:"fire-rtdb-compat",[Qb]:"fire-fn",[Kb]:"fire-fn-compat",[Yb]:"fire-iid",[Xb]:"fire-iid-compat",[$b]:"fire-fcm",[Zb]:"fire-fcm-compat",[Jb]:"fire-perf",[Wb]:"fire-perf-compat",[tS]:"fire-rc",[eS]:"fire-rc-compat",[nS]:"fire-gcs",[iS]:"fire-gcs-compat",[sS]:"fire-fst",[aS]:"fire-fst-compat",[rS]:"fire-vertex","fire-js":"fire-js",[oS]:"fire-js-all"};const Fc=new Map,cS=new Map,tm=new Map;function J_(a,t){try{a.container.addComponent(t)}catch(i){is.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Ja(a){const t=a.name;if(tm.has(t))return is.debug(`There were multiple attempts to register component ${t}.`),!1;tm.set(t,a);for(const i of Fc.values())J_(i,a);for(const i of cS.values())J_(i,a);return!0}function wm(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function Zn(a){return a==null?!1:a.settings!==void 0}const hS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Bl("app","Firebase",hS);class fS{constructor(t,i,r){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const uo=lS;function M0(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const r={name:Wd,automaticDataCollectionEnabled:!0,...t},l=r.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(i||(i=R0()),!i)throw Xs.create("no-options");const c=Fc.get(l);if(c){if(ns(i,c.options)&&ns(r,c.config))return c;throw Xs.create("duplicate-app",{appName:l})}const d=new _b(l);for(const y of tm.values())d.addComponent(y);const g=new fS(i,r,d);return Fc.set(l,g),g}function O0(a=Wd){const t=Fc.get(a);if(!t&&a===Wd&&R0())return M0();if(!t)throw Xs.create("no-app",{appName:a});return t}function $s(a,t,i){let r=uS[a]??a;i&&(r+=`-${i}`);const l=r.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${r}" with version "${t}":`];l&&d.push(`library name "${r}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),is.warn(d.join(" "));return}Ja(new Qr(`${r}-version`,()=>({library:r,version:t}),"VERSION"))}const dS="firebase-heartbeat-database",mS=1,Vl="firebase-heartbeat-store";let zd=null;function V0(){return zd||(zd=Db(dS,mS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(a=>{throw Xs.create("idb-open",{originalErrorMessage:a.message})})),zd}async function pS(a){try{const i=(await V0()).transaction(Vl),r=await i.objectStore(Vl).get(k0(a));return await i.done,r}catch(t){if(t instanceof ls)is.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});is.warn(i.message)}}}async function W_(a,t){try{const r=(await V0()).transaction(Vl,"readwrite");await r.objectStore(Vl).put(t,k0(a)),await r.done}catch(i){if(i instanceof ls)is.warn(i.message);else{const r=Xs.create("idb-set",{originalErrorMessage:i?.message});is.warn(r.message)}}}function k0(a){return`${a.name}!${a.options.appId}`}const gS=1024,yS=30;class _S{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new ES(i),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=tv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(l=>l.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:i}),this._heartbeatsCache.heartbeats.length>yS){const l=TS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){is.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=tv(),{heartbeatsToSend:i,unsentEntries:r}=vS(this._heartbeatsCache.heartbeats),l=Hc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return is.warn(t),""}}}function tv(){return new Date().toISOString().substring(0,10)}function vS(a,t=gS){const i=[];let r=a.slice();for(const l of a){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),ev(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),ev(i)>t){i.pop();break}r=r.slice(1)}return{heartbeatsToSend:i,unsentEntries:r}}class ES{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ab()?ob().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await pS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const r=await this.read();return W_(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...t.heartbeats]})}else return}}function ev(a){return Hc(JSON.stringify({version:2,heartbeats:a})).length}function TS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let r=1;r<a.length;r++)a[r].date<i&&(i=a[r].date,t=r);return t}function AS(a){Ja(new Qr("platform-logger",t=>new Vb(t),"PRIVATE")),Ja(new Qr("heartbeat",t=>new _S(t),"PRIVATE")),$s(Jd,Z_,a),$s(Jd,Z_,"esm2020"),$s("fire-js","")}AS("");var bS="firebase",SS="12.7.0";$s(bS,SS,"app");var nv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zs,U0;(function(){var a;function t(x,w){function C(){}C.prototype=w.prototype,x.F=w.prototype,x.prototype=new C,x.prototype.constructor=x,x.D=function(O,D,k){for(var I=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)I[ee-2]=arguments[ee];return w.prototype[D].apply(O,I)}}function i(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(r,i),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(x,w,C){C||(C=0);const O=Array(16);if(typeof w=="string")for(var D=0;D<16;++D)O[D]=w.charCodeAt(C++)|w.charCodeAt(C++)<<8|w.charCodeAt(C++)<<16|w.charCodeAt(C++)<<24;else for(D=0;D<16;++D)O[D]=w[C++]|w[C++]<<8|w[C++]<<16|w[C++]<<24;w=x.g[0],C=x.g[1],D=x.g[2];let k=x.g[3],I;I=w+(k^C&(D^k))+O[0]+3614090360&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[1]+3905402710&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[2]+606105819&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[3]+3250441966&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+O[4]+4118548399&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[5]+1200080426&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[6]+2821735955&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[7]+4249261313&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+O[8]+1770035416&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[9]+2336552879&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[10]+4294925233&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[11]+2304563134&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(k^C&(D^k))+O[12]+1804603682&4294967295,w=C+(I<<7&4294967295|I>>>25),I=k+(D^w&(C^D))+O[13]+4254626195&4294967295,k=w+(I<<12&4294967295|I>>>20),I=D+(C^k&(w^C))+O[14]+2792965006&4294967295,D=k+(I<<17&4294967295|I>>>15),I=C+(w^D&(k^w))+O[15]+1236535329&4294967295,C=D+(I<<22&4294967295|I>>>10),I=w+(D^k&(C^D))+O[1]+4129170786&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[6]+3225465664&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[11]+643717713&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[0]+3921069994&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+O[5]+3593408605&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[10]+38016083&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[15]+3634488961&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[4]+3889429448&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+O[9]+568446438&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[14]+3275163606&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[3]+4107603335&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[8]+1163531501&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(D^k&(C^D))+O[13]+2850285829&4294967295,w=C+(I<<5&4294967295|I>>>27),I=k+(C^D&(w^C))+O[2]+4243563512&4294967295,k=w+(I<<9&4294967295|I>>>23),I=D+(w^C&(k^w))+O[7]+1735328473&4294967295,D=k+(I<<14&4294967295|I>>>18),I=C+(k^w&(D^k))+O[12]+2368359562&4294967295,C=D+(I<<20&4294967295|I>>>12),I=w+(C^D^k)+O[5]+4294588738&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[8]+2272392833&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[11]+1839030562&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[14]+4259657740&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+O[1]+2763975236&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[4]+1272893353&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[7]+4139469664&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[10]+3200236656&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+O[13]+681279174&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[0]+3936430074&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[3]+3572445317&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[6]+76029189&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(C^D^k)+O[9]+3654602809&4294967295,w=C+(I<<4&4294967295|I>>>28),I=k+(w^C^D)+O[12]+3873151461&4294967295,k=w+(I<<11&4294967295|I>>>21),I=D+(k^w^C)+O[15]+530742520&4294967295,D=k+(I<<16&4294967295|I>>>16),I=C+(D^k^w)+O[2]+3299628645&4294967295,C=D+(I<<23&4294967295|I>>>9),I=w+(D^(C|~k))+O[0]+4096336452&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[7]+1126891415&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[14]+2878612391&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[5]+4237533241&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+O[12]+1700485571&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[3]+2399980690&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[10]+4293915773&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[1]+2240044497&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+O[8]+1873313359&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[15]+4264355552&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[6]+2734768916&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[13]+1309151649&4294967295,C=D+(I<<21&4294967295|I>>>11),I=w+(D^(C|~k))+O[4]+4149444226&4294967295,w=C+(I<<6&4294967295|I>>>26),I=k+(C^(w|~D))+O[11]+3174756917&4294967295,k=w+(I<<10&4294967295|I>>>22),I=D+(w^(k|~C))+O[2]+718787259&4294967295,D=k+(I<<15&4294967295|I>>>17),I=C+(k^(D|~w))+O[9]+3951481745&4294967295,x.g[0]=x.g[0]+w&4294967295,x.g[1]=x.g[1]+(D+(I<<21&4294967295|I>>>11))&4294967295,x.g[2]=x.g[2]+D&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,w){w===void 0&&(w=x.length);const C=w-this.blockSize,O=this.C;let D=this.h,k=0;for(;k<w;){if(D==0)for(;k<=C;)l(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<w;)if(O[D++]=x.charCodeAt(k++),D==this.blockSize){l(this,O),D=0;break}}else for(;k<w;)if(O[D++]=x[k++],D==this.blockSize){l(this,O),D=0;break}}this.h=D,this.o+=w},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var w=1;w<x.length-8;++w)x[w]=0;w=this.o*8;for(var C=x.length-8;C<x.length;++C)x[C]=w&255,w/=256;for(this.v(x),x=Array(16),w=0,C=0;C<4;++C)for(let O=0;O<32;O+=8)x[w++]=this.g[C]>>>O&255;return x};function c(x,w){var C=g;return Object.prototype.hasOwnProperty.call(C,x)?C[x]:C[x]=w(x)}function d(x,w){this.h=w;const C=[];let O=!0;for(let D=x.length-1;D>=0;D--){const k=x[D]|0;O&&k==w||(C[D]=k,O=!1)}this.g=C}var g={};function y(x){return-128<=x&&x<128?c(x,function(w){return new d([w|0],w<0?-1:0)}):new d([x|0],x<0?-1:0)}function _(x){if(isNaN(x)||!isFinite(x))return R;if(x<0)return $(_(-x));const w=[];let C=1;for(let O=0;x>=C;O++)w[O]=x/C|0,C*=4294967296;return new d(w,0)}function b(x,w){if(x.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(x.charAt(0)=="-")return $(b(x.substring(1),w));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const C=_(Math.pow(w,8));let O=R;for(let k=0;k<x.length;k+=8){var D=Math.min(8,x.length-k);const I=parseInt(x.substring(k,k+D),w);D<8?(D=_(Math.pow(w,D)),O=O.j(D).add(_(I))):(O=O.j(C),O=O.add(_(I)))}return O}var R=y(0),V=y(1),H=y(16777216);a=d.prototype,a.m=function(){if(W(this))return-$(this).m();let x=0,w=1;for(let C=0;C<this.g.length;C++){const O=this.i(C);x+=(O>=0?O:4294967296+O)*w,w*=4294967296}return x},a.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Z(this))return"0";if(W(this))return"-"+$(this).toString(x);const w=_(Math.pow(x,6));var C=this;let O="";for(;;){const D=Ot(C,w).g;C=lt(C,D.j(w));let k=((C.g.length>0?C.g[0]:C.h)>>>0).toString(x);if(C=D,Z(C))return k+O;for(;k.length<6;)k="0"+k;O=k+O}},a.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Z(x){if(x.h!=0)return!1;for(let w=0;w<x.g.length;w++)if(x.g[w]!=0)return!1;return!0}function W(x){return x.h==-1}a.l=function(x){return x=lt(this,x),W(x)?-1:Z(x)?0:1};function $(x){const w=x.g.length,C=[];for(let O=0;O<w;O++)C[O]=~x.g[O];return new d(C,~x.h).add(V)}a.abs=function(){return W(this)?$(this):this},a.add=function(x){const w=Math.max(this.g.length,x.g.length),C=[];let O=0;for(let D=0;D<=w;D++){let k=O+(this.i(D)&65535)+(x.i(D)&65535),I=(k>>>16)+(this.i(D)>>>16)+(x.i(D)>>>16);O=I>>>16,k&=65535,I&=65535,C[D]=I<<16|k}return new d(C,C[C.length-1]&-2147483648?-1:0)};function lt(x,w){return x.add($(w))}a.j=function(x){if(Z(this)||Z(x))return R;if(W(this))return W(x)?$(this).j($(x)):$($(this).j(x));if(W(x))return $(this.j($(x)));if(this.l(H)<0&&x.l(H)<0)return _(this.m()*x.m());const w=this.g.length+x.g.length,C=[];for(var O=0;O<2*w;O++)C[O]=0;for(O=0;O<this.g.length;O++)for(let D=0;D<x.g.length;D++){const k=this.i(O)>>>16,I=this.i(O)&65535,ee=x.i(D)>>>16,fe=x.i(D)&65535;C[2*O+2*D]+=I*fe,rt(C,2*O+2*D),C[2*O+2*D+1]+=k*fe,rt(C,2*O+2*D+1),C[2*O+2*D+1]+=I*ee,rt(C,2*O+2*D+1),C[2*O+2*D+2]+=k*ee,rt(C,2*O+2*D+2)}for(x=0;x<w;x++)C[x]=C[2*x+1]<<16|C[2*x];for(x=w;x<2*w;x++)C[x]=0;return new d(C,0)};function rt(x,w){for(;(x[w]&65535)!=x[w];)x[w+1]+=x[w]>>>16,x[w]&=65535,w++}function ut(x,w){this.g=x,this.h=w}function Ot(x,w){if(Z(w))throw Error("division by zero");if(Z(x))return new ut(R,R);if(W(x))return w=Ot($(x),w),new ut($(w.g),$(w.h));if(W(w))return w=Ot(x,$(w)),new ut($(w.g),w.h);if(x.g.length>30){if(W(x)||W(w))throw Error("slowDivide_ only works with positive integers.");for(var C=V,O=w;O.l(x)<=0;)C=jt(C),O=jt(O);var D=wt(C,1),k=wt(O,1);for(O=wt(O,2),C=wt(C,2);!Z(O);){var I=k.add(O);I.l(x)<=0&&(D=D.add(C),k=I),O=wt(O,1),C=wt(C,1)}return w=lt(x,D.j(w)),new ut(D,w)}for(D=R;x.l(w)>=0;){for(C=Math.max(1,Math.floor(x.m()/w.m())),O=Math.ceil(Math.log(C)/Math.LN2),O=O<=48?1:Math.pow(2,O-48),k=_(C),I=k.j(w);W(I)||I.l(x)>0;)C-=O,k=_(C),I=k.j(w);Z(k)&&(k=V),D=D.add(k),x=lt(x,I)}return new ut(D,x)}a.B=function(x){return Ot(this,x).h},a.and=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)&x.i(O);return new d(C,this.h&x.h)},a.or=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)|x.i(O);return new d(C,this.h|x.h)},a.xor=function(x){const w=Math.max(this.g.length,x.g.length),C=[];for(let O=0;O<w;O++)C[O]=this.i(O)^x.i(O);return new d(C,this.h^x.h)};function jt(x){const w=x.g.length+1,C=[];for(let O=0;O<w;O++)C[O]=x.i(O)<<1|x.i(O-1)>>>31;return new d(C,x.h)}function wt(x,w){const C=w>>5;w%=32;const O=x.g.length-C,D=[];for(let k=0;k<O;k++)D[k]=w>0?x.i(k+C)>>>w|x.i(k+C+1)<<32-w:x.i(k+C);return new d(D,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,U0=r,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=b,Zs=d}).apply(typeof nv<"u"?nv:typeof self<"u"?self:typeof window<"u"?window:{});var Rc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var L0,Sl,P0,Mc,em,j0,z0,B0;(function(){var a,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Rc=="object"&&Rc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=i(this);function l(u,m){if(m)t:{var v=r;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in v))break t;v=v[L]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function y(u,m,v){return u.call.apply(u.bind,arguments)}function _(u,m,v){return _=y,_.apply(null,arguments)}function b(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function R(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,L,q){for(var et=Array(arguments.length-2),Tt=2;Tt<arguments.length;Tt++)et[Tt-2]=arguments[Tt];return m.prototype[L].apply(T,et)}}var V=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function H(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function Z(u,m){for(let T=1;T<arguments.length;T++){const L=arguments[T];var v=typeof L;if(v=v!="object"?v:L?Array.isArray(L)?"array":v:"null",v=="array"||v=="object"&&typeof L.length=="number"){v=u.length||0;const q=L.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=L[et]}else u.push(L)}}class W{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function $(u){d.setTimeout(()=>{throw u},0)}function lt(){var u=x;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class rt{constructor(){this.h=this.g=null}add(m,v){const T=ut.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ut=new W(()=>new Ot,u=>u.reset());class Ot{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let jt,wt=!1,x=new rt,w=()=>{const u=Promise.resolve(void 0);jt=()=>{u.then(C)}};function C(){for(var u;u=lt();){try{u.h.call(u.g)}catch(v){$(v)}var m=ut;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}wt=!1}function O(){this.u=this.u,this.C=this.C}O.prototype.u=!1,O.prototype.dispose=function(){this.u||(this.u=!0,this.N())},O.prototype[Symbol.dispose]=function(){this.dispose()},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function I(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){D.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}R(ee,D),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),G=0;function nt(u,m,v,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=L,this.key=++G,this.da=this.fa=!1}function ht(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Vt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function qt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function S(u){const m={};for(const v in u)m[v]=u[v];return m}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function tt(u,m){let v,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(v in T)u[v]=T[v];for(let q=0;q<B.length;q++)v=B[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function it(u){this.src=u,this.g={},this.h=0}it.prototype.add=function(u,m,v,T,L){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=bt(u,m,T,L);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new nt(m,this.src,q,!!T,L),m.fa=v,u.push(m)),m};function gt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],L=Array.prototype.indexOf.call(T,m,void 0),q;(q=L>=0)&&Array.prototype.splice.call(T,L,1),q&&(ht(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function bt(u,m,v,T){for(let L=0;L<u.length;++L){const q=u[L];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return L}return-1}var Ut="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,v,T,L){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],v,T,L);return null}return v=Eo(v),u&&u[fe]?u.J(m,v,g(T)?!!T.capture:!1,L):ur(u,m,v,!1,T,L)}function ur(u,m,v,T,L,q){if(!m)throw Error("Invalid event type");const et=g(L)?!!L.capture:!!L;let Tt=cr(u);if(Tt||(u[Ut]=Tt=new it(u)),v=Tt.add(m,v,T,et,q),v.proxy)return v;if(T=Jr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)k||(L=et),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(ei(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Jr(){function u(v){return m.call(u.src,u.listener,v)}const m=_o;return u}function Wr(u,m,v,T,L){if(Array.isArray(m))for(var q=0;q<m.length;q++)Wr(u,m[q],v,T,L);else T=g(T)?!!T.capture:!!T,v=Eo(v),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=bt(m,v,T,L),v>-1&&(ht(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=cr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=bt(m,v,T,L)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])gt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ei(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=cr(m))?(gt(v,u),v.h==0&&(v.src=null,m[Ut]=null)):ht(u)}}}function ei(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function _o(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ta(u),u=v.call(T,m)}return u}function cr(u){return u=u[Ut],u instanceof it?u:null}var vo="__closure_events_fn_"+(Math.random()*1e9>>>0);function Eo(u){return typeof u=="function"?u:(u[vo]||(u[vo]=function(m){return u.handleEvent(m)}),u[vo])}function _e(){O.call(this),this.i=new it(this),this.M=this,this.G=null}R(_e,O),_e.prototype[fe]=!0,_e.prototype.removeEventListener=function(u,m,v,T){Wr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new D(m,u);else if(m instanceof D)m.target=m.target||u;else{var L=m;m=new D(T,u),tt(m,L)}L=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],L=us(q,T,!0,m)&&L;if(q=m.g=u,L=us(q,T,!0,m)&&L,L=us(q,T,!1,m)&&L,v)for(et=0;et<v.length;et++)q=m.g=v[et],L=us(q,T,!1,m)&&L}_e.prototype.N=function(){if(_e.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)ht(v[T]);delete u.g[m],u.h--}}this.G=null},_e.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},_e.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function us(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let L=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const Tt=et.listener,me=et.ha||et.src;et.fa&&gt(u.i,et),L=Tt.call(me,T)!==!1&&L}}return L&&!T.defaultPrevented}function Dh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=_(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Dh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class tn extends O{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hr(u){O.call(this),this.h=u,this.g={}}R(hr,O);var To=[];function Ao(u){Vt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}hr.prototype.N=function(){hr.Z.N.call(this),Ao(this)},hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var cs=d.JSON.stringify,Mh=d.JSON.parse,Jl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function Wl(){}function tu(){}var jn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){D.call(this,"d")}R(je,D);function wn(){D.call(this,"c")}R(wn,D);var de={},eu=null;function ea(){return eu=eu||new _e}de.Ia="serverreachability";function nu(u){D.call(this,de.Ia,u)}R(nu,D);function ni(u){const m=ea();De(m,new nu(m))}de.STAT_EVENT="statevent";function fr(u,m){D.call(this,de.STAT_EVENT,u),this.stat=m}R(fr,D);function ve(u){const m=ea();De(m,new fr(m,u))}de.Ja="timingevent";function ii(u,m){D.call(this,de.Ja,u),this.size=m}R(ii,D);function si(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function zn(){this.g=!0}zn.prototype.ua=function(){this.g=!1};function Oh(u,m,v,T,L,q){u.info(function(){if(u.g)if(q){var et="",Tt=q.split("&");for(let Ht=0;Ht<Tt.length;Ht++){var me=Tt[Ht].split("=");if(me.length>1){const oe=me[0];me=me[1];const In=oe.split("_");et=In.length>=2&&In[1]=="type"?et+(oe+"="+me+"&"):et+(oe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+v+`
`+et})}function iu(u,m,v,T,L,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+v+`
`+q+" "+et})}function ri(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vh(u,v)+(T?" "+T:"")})}function dr(u,m){u.info(function(){return"TIMEOUT: "+m})}zn.prototype.info=function(){};function Vh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var L=T[0];if(L!="noop"&&L!="stop"&&L!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return cs(q)}catch{return m}}var mr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},So;function pr(){}R(pr,Wl),pr.prototype.g=function(){return new XMLHttpRequest},So=new pr;function Oi(u){return encodeURIComponent(String(u))}function su(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Bn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new hr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new qn}function qn(){this.i=null,this.g="",this.h=!1}var Ee={},ke={};function ai(u,m,v){u.M=1,u.A=gr(Ae(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),oi(u),u.B=Ae(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new qn,u.g=vu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new tn(_(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var L="readystatechange";Array.isArray(L)||(L&&(To[0]=L.toString()),L=To);for(let q=0;q<L.length;q++){const et=ae(v,L[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?S(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ni(),Oh(u.i,u.v,u.B,u.l,u.S,u.u)}Bn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Gn(u)==3?m.j():this.Y(u)},Bn.prototype.Y=function(u){try{if(u==this.g)t:{const Tt=Gn(this.g),me=this.g.ya(),Ht=this.g.ca();if(!(Tt<3)&&(Tt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||Tt!=4||me==7||(me==8||Ht<=0?ni(3):ni(2)),li(this);var m=this.g.ca();this.X=m;var v=kh(this);if(this.o=m==200,iu(this.i,this.v,this.B,this.l,this.S,Tt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,L=this.g;if((T=L.g?L.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!I(T)){var q=T;break e}}q=null}if(u=q)ri(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ui(this,u);else{this.o=!1,this.m=3,ve(12),mn(this),Rn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=au(this,v),oe==ke){Tt==4&&(this.m=4,ve(14),u=!1),ri(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Ee){this.m=4,ve(15),ri(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ri(this.i,this.l,oe,null),ui(this,oe);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Tt!=4||v.length!=0||this.h.h||(this.m=1,ve(16),u=!1),this.o=this.o&&u,!u)ri(this.i,this.l,v,"[Invalid Chunked Response]"),mn(this),Rn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),jo(et),et.P=!0,ve(11))}}else ri(this.i,this.l,v,null),ui(this,v);Tt==4&&mn(this),this.o&&!this.K&&(Tt==4?pu(this.j,this):(this.o=!1,oi(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,ve(12)):(this.m=0,ve(13)),mn(this),Rn(this)}}}catch{}};function kh(u){if(!ru(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,L=Gn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return mn(u),Rn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(L&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function ru(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function au(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Ee:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}Bn.prototype.cancel=function(){this.K=!0,mn(this)};function oi(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=si(_(u.aa,u),m)}function li(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Bn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(dr(this.i,this.B),this.M!=2&&(ni(),ve(17)),mn(this),this.m=2,Rn(this)):ia(this,this.T-u)};function Rn(u){u.j.I==0||u.K||pu(u.j,u)}function mn(u){li(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,Ao(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ui(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||hi(v.h,u))){if(!u.L&&hi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),_s(v);else break t;br(v),ve(18)}}else v.xa=L[1],0<v.xa-v.K&&L[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=si(_(v.Va,v),6e3));ci(v.h)<=1&&v.ta&&(v.ta=void 0)}else yi(v,11)}else if((u.L||v.g==u)&&ha(v),!I(m))for(L=v.Ba.g.parse(m),m=0;m<L.length;m++){let Ht=L[m];const oe=Ht[0];if(!(oe<=v.K))if(v.K=oe,Ht=Ht[1],v.I==2)if(Ht[0]=="c"){v.M=Ht[1],v.ba=Ht[2];const In=Ht[3];In!=null&&(v.ka=In,v.j.info("VER="+v.ka));const _i=Ht[4];_i!=null&&(v.za=_i,v.j.info("SVER="+v.za));const Qn=Ht[5];Qn!=null&&typeof Qn=="number"&&Qn>0&&(T=1.5*Qn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const Kn=u.g;if(Kn){const Sr=Kn.g?Kn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sr){var q=T.h;q.g||Sr.indexOf("spdy")==-1&&Sr.indexOf("quic")==-1&&Sr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Co(q,q.h),q.h=null))}if(T.G){const fa=Kn.g?Kn.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Qt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=_u(T,T.L?T.ba:null,T.W),et.L){xo(T.h,et);var Tt=et,me=T.O;me&&(Tt.H=me),Tt.D&&(li(Tt),oi(Tt)),T.g=et}else du(T);v.i.length>0&&gi(v)}else Ht[0]!="stop"&&Ht[0]!="close"||yi(v,7);else v.I==3&&(Ht[0]=="stop"||Ht[0]=="close"?Ht[0]=="stop"?yi(v,7):Lo(v):Ht[0]!="noop"&&v.l&&v.l.qa(Ht),v.A=0)}}ni(4)}catch{}}var Te=class{constructor(u,m){this.g=u,this.map=m}};function wo(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Ro(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function ci(u){return u.h?1:u.g?u.g.size:0}function hi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Co(u,m){u.g?u.g.add(m):u.h=m}function xo(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}wo.prototype.cancel=function(){if(this.i=Io(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Io(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return H(u.i)}var ou=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let L,q=null;T>=0?(L=u[v].substring(0,T),q=u[v].substring(T+1)):L=u[v],m(L,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function pn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof pn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,hs(this,u.u),this.h=u.h,No(this,hu(u.i)),this.m=u.m):u&&(m=String(u).match(ou))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=fi(m[2]||""),this.g=fi(m[3]||"",!0),hs(this,m[4]),this.h=fi(m[5]||"",!0),No(this,m[6]||"",!0),this.m=fi(m[7]||"")):(this.l=!1,this.i=new ds(null,this.l))}pn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(yr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(yr(m,ra,!0),"@"),u.push(Oi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(yr(v,v.charAt(0)=="/"?Do:lu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",yr(v,uu)),u.join("")},pn.prototype.resolve=function(u){const m=Ae(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)hs(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var L=m.h.lastIndexOf("/");L!=-1&&(T=m.h.slice(0,L+1)+T)}if(L=T,L==".."||L==".")T="";else if(L.indexOf("./")!=-1||L.indexOf("/.")!=-1){T=L.lastIndexOf("/",0)==0,L=L.split("/");const q=[];for(let et=0;et<L.length;){const Tt=L[et++];Tt=="."?T&&et==L.length&&q.push(""):Tt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==L.length&&q.push("")):(q.push(Tt),T=!0)}T=q.join("/")}else T=L}return v?m.h=T:v=u.i.toString()!=="",v?No(m,hu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function Ae(u){return new pn(u)}function Ue(u,m,v){u.j=v?fi(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function hs(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function No(u,m,v){m instanceof ds?(u.i=m,oa(u.i,u.l)):(v||(m=yr(m,fs)),u.i=new ds(m,u.l))}function Qt(u,m,v){u.i.set(m,v)}function gr(u){return Qt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function fi(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function yr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,lu=/[#\?:]/g,Do=/[#\?]/g,fs=/[#\?@]/g,uu=/#/g;function ds(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}a=ds.prototype,a.add=function(u,m){an(this),this.i=null,u=ms(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function cu(u,m){an(u),m=ms(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Mo(u,m){return an(u),m=ms(u,m),u.g.has(m)}a.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(L){u.call(m,L,T,this)},this)},this)};function Oo(u,m){an(u);let v=[];if(typeof m=="string")Mo(u,m)&&(v=v.concat(u.g.get(ms(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}a.set=function(u,m){return an(this),this.i=null,u=ms(this,u),Mo(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){cu(u,m),v.length>0&&(u.i=null,u.g.set(ms(u,m),H(v)),u.h+=v.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const L=Oi(v);v=Oo(this,v);for(let q=0;q<v.length;q++){let et=L;v[q]!==""&&(et+="="+Oi(v[q])),u.push(et)}}return this.i=u.join("&")};function hu(u){const m=new ds;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function ms(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const L=T.toLowerCase();T!=L&&(cu(this,T),aa(this,L,v))},u)),u.j=m}function Hn(u,m){const v=new zn;if(d.Image){const T=new Image;T.onload=b(Cn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=b(Cn,v,"TestLoadImage: error",!1,m,T),T.onabort=b(Cn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=b(Cn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Vo(u,m){const v=new zn,T=new AbortController,L=setTimeout(()=>{T.abort(),Cn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(L),q.ok?Cn(v,"TestPingServer: ok",!0,m):Cn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,m)})}function Cn(u,m,v,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(v)}catch{}}function ps(){this.g=new Jl}function di(u){this.i=u.Sb||null,this.h=u.ab||!1}R(di,Wl),di.prototype.g=function(){return new _r(this.i,this.h)};function _r(u,m){_e.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}R(_r,_e),a=_r.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,gs(this)),this.readyState=0},a.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}a.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?gs(this):Fn(this),this.readyState==3&&la(this)}},a.Oa=function(u){this.g&&(this.response=this.responseText=u,gs(this))},a.Na=function(u){this.g&&(this.response=u,gs(this))},a.ga=function(){this.g&&gs(this)};function gs(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Fn(u)}a.setRequestHeader=function(u,m){this.A.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(_r.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function xn(u){let m="";return Vt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function vr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=xn(v),typeof u=="string"?v!=null&&Oi(v):Qt(u,m,v))}function Xt(u){_e.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}R(Xt,_e);var mi=/^https?$/i,ko=["POST","PUT"];a=Xt.prototype,a.Fa=function(u){this.H=u},a.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():So.g(),this.g.onreadystatechange=V(_(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Er(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)v.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),L=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(ko,m,void 0)>=0)||T||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Er(this,q)}};function Er(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,Uo(u),Vi(u)}function Uo(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Vi(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Xt.Z.N.call(this)},a.Ca=function(){this.u||(this.B||this.v||this.j?Tr(this):this.Xa())},a.Xa=function(){Tr(this)};function Tr(u){if(u.h&&typeof c<"u"){if(u.v&&Gn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Gn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let et=String(u.D).match(ou)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!mi.test(et?et.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var L=Gn(u)>2?u.g.statusText:""}catch{L=""}u.l=L+" ["+u.ca()+"]",Uo(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}a.isActive=function(){return!!this.g};function Gn(u){return u.g?u.g.readyState:0}a.ca=function(){try{return Gn(this)>2?this.g.status:-1}catch{return-1}},a.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Mh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Gn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(I(u[T]))continue;var v=su(u[T]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[L]||[];m[L]=q,q.push(v)}qt(m,function(T){return T.join(", ")})}a.ya=function(){return this.o},a.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function pi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ys(u){this.za=0,this.i=[],this.j=new zn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=pi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=pi("baseRetryDelayMs",5e3,u),this.Za=pi("retryDelaySeedMs",1e4,u),this.Ta=pi("forwardChannelMaxRetries",2,u),this.va=pi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new wo(u&&u.concurrentRequestLimit),this.Ba=new ps,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}a=ys.prototype,a.ka=8,a.I=1,a.connect=function(u,m,v,T){ve(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=_u(this,null,this.W),gi(this)};function Lo(u){if(ua(u),u.I==3){var m=u.V++,v=Ae(u.J);if(Qt(v,"SID",u.M),Qt(v,"RID",m),Qt(v,"TYPE","terminate"),Ar(u,v),m=new Bn(u,u.j,m),m.M=2,m.A=gr(Ae(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=vu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),oi(m)}yu(u)}function _s(u){u.g&&(jo(u),u.g.cancel(),u.g=null)}function ua(u){_s(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function gi(u){if(!Ro(u.h)&&!u.m){u.m=!0;var m=u.Ea;jt||w(),wt||(jt(),wt=!0),x.add(m,u),u.D=0}}function ca(u,m){return ci(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=si(_(u.Ea,u,m),gu(u,u.D)),u.D++,!0)}a.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const L=new Bn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=S(q),tt(q,this.U)):q=this.U),this.u!==null||this.R||(L.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=fu(this,L,m),v=Ae(this.J),Qt(v,"RID",u),Qt(v,"CVER",22),this.G&&Qt(v,"X-HTTP-Session-Id",this.G),Ar(this,v),q&&(this.R?m="headers="+Oi(xn(q))+"&"+m:this.u&&vr(v,this.u,q)),Co(this.h,L),this.Ra&&Qt(v,"TYPE","init"),this.S?(Qt(v,"$req",m),Qt(v,"SID","null"),L.U=!0,ai(L,v,null)):ai(L,v,m),this.I=2}}else this.I==3&&(u?Po(this,u):this.i.length==0||Ro(this.h)||Po(this))};function Po(u,m){var v;m?v=m.l:v=u.V++;const T=Ae(u.J);Qt(T,"SID",u.M),Qt(T,"RID",v),Qt(T,"AID",u.K),Ar(u,T),u.u&&u.o&&vr(T,u.u,u.o),v=new Bn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=fu(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Co(u.h,v),ai(v,T,m)}function Ar(u,m){u.H&&Vt(u.H,function(v,T){Qt(m,T,v)}),u.l&&Vt({},function(v,T){Qt(m,T,v)})}function fu(u,m,v){v=Math.min(u.i.length,v);const T=u.l?_(u.l.Ka,u.l,u):null;t:{var L=u.i;let Tt=-1;for(;;){const me=["count="+v];Tt==-1?v>0?(Tt=L[0].g,me.push("ofs="+Tt)):Tt=0:me.push("ofs="+Tt);let Ht=!0;for(let oe=0;oe<v;oe++){var q=L[oe].g;const In=L[oe].map;if(q-=Tt,q<0)Tt=Math.max(0,L[oe].g-100),Ht=!1;else try{q="req"+q+"_"||"";try{var et=In instanceof Map?In:Object.entries(In);for(const[_i,Qn]of et){let Kn=Qn;g(Qn)&&(Kn=cs(Qn)),me.push(q+_i+"="+encodeURIComponent(Kn))}}catch(_i){throw me.push(q+"type="+encodeURIComponent("_badmap")),_i}}catch{T&&T(In)}}if(Ht){et=me.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function du(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;jt||w(),wt||(jt(),wt=!0),x.add(m,u),u.A=0}}function br(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=si(_(u.Da,u),gu(u,u.A)),u.A++,!0)}a.Da=function(){if(this.v=null,mu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=si(_(this.Wa,this),u)}},a.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,ve(10),_s(this),mu(this))};function jo(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function mu(u){u.g=new Bn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=Ae(u.na);Qt(m,"RID","rpc"),Qt(m,"SID",u.M),Qt(m,"AID",u.K),Qt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Qt(m,"TO",u.ia),Qt(m,"TYPE","xmlhttp"),Ar(u,m),u.u&&u.o&&vr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=gr(Ae(m)),v.u=null,v.R=!0,na(v,u)}a.Va=function(){this.C!=null&&(this.C=null,_s(this),br(this),ve(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function pu(u,m){var v=null;if(u.g==m){ha(u),jo(u),u.g=null;var T=2}else if(hi(u.h,m))v=m.G,xo(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var L=u.D;T=ea(),De(T,new ii(T,v)),gi(u)}else du(u);else if(L=m.m,L==3||L==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&br(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function gu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var v=_(u.bb,u),T=u.Ua;const L=!T;T=new pn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),gr(T),L?Hn(T.toString(),v):Vo(T.toString(),v)}else ve(2);u.I=0,u.l&&u.l.pa(m),yu(u),ua(u)}a.bb=function(u){u?(this.j.info("Successfully pinged google.com"),ve(2)):(this.j.info("Failed to ping google.com"),ve(1))};function yu(u){if(u.I=0,u.ja=[],u.l){const m=Io(u.h);(m.length!=0||u.i.length!=0)&&(Z(u.ja,m),Z(u.ja,u.i),u.h.i.length=0,H(u.i),u.i.length=0),u.l.oa()}}function _u(u,m,v){var T=v instanceof pn?Ae(v):new pn(v);if(T.g!="")m&&(T.g=m+"."+T.g),hs(T,T.u);else{var L=d.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;const q=new pn(null);T&&Ue(q,T),m&&(q.g=m),L&&hs(q,L),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Qt(T,v,m),Qt(T,"VER",u.ka),Ar(u,T),T}function vu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Xt(new di({ab:v})):new Xt(u.ma),m.Fa(u.L),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}a=Eu.prototype,a.ra=function(){},a.qa=function(){},a.pa=function(){},a.oa=function(){},a.isActive=function(){return!0},a.Ka=function(){};function vs(){}vs.prototype.g=function(u,m){return new en(u,m)};function en(u,m){_e.call(this),this.g=new ys(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!I(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!I(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}R(en,_e),en.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},en.prototype.close=function(){Lo(this.g)},en.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=cs(u),u=v);m.i.push(new Te(m.Ya++,u)),m.I==3&&gi(m)},en.prototype.N=function(){this.g.l=null,delete this.j,Lo(this.g),delete this.g,en.Z.N.call(this)};function Tu(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}R(Tu,je);function Au(){wn.call(this),this.status=1}R(Au,wn);function Ui(u){this.g=u}R(Ui,Eu),Ui.prototype.ra=function(){De(this.g,"a")},Ui.prototype.qa=function(u){De(this.g,new Tu(u))},Ui.prototype.pa=function(u){De(this.g,new Au)},Ui.prototype.oa=function(){De(this.g,"b")},vs.prototype.createWebChannel=vs.prototype.g,en.prototype.send=en.prototype.o,en.prototype.open=en.prototype.m,en.prototype.close=en.prototype.close,B0=function(){return new vs},z0=function(){return ea()},j0=de,em={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},mr.NO_ERROR=0,mr.TIMEOUT=8,mr.HTTP_ERROR=6,Mc=mr,bo.COMPLETE="complete",P0=bo,tu.EventType=jn,jn.OPEN="a",jn.CLOSE="b",jn.ERROR="c",jn.MESSAGE="d",_e.prototype.listen=_e.prototype.J,Sl=tu,Xt.prototype.listenOnce=Xt.prototype.K,Xt.prototype.getLastError=Xt.prototype.Ha,Xt.prototype.getLastErrorCode=Xt.prototype.ya,Xt.prototype.getStatus=Xt.prototype.ca,Xt.prototype.getResponseJson=Xt.prototype.La,Xt.prototype.getResponseText=Xt.prototype.la,Xt.prototype.send=Xt.prototype.ea,Xt.prototype.setWithCredentials=Xt.prototype.Fa,L0=Xt}).apply(typeof Rc<"u"?Rc:typeof self<"u"?self:typeof window<"u"?window:{});const iv="@firebase/firestore",sv="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let co="12.7.0";const Kr=new bm("@firebase/firestore");function qa(){return Kr.logLevel}function st(a,...t){if(Kr.logLevel<=Nt.DEBUG){const i=t.map(Rm);Kr.debug(`Firestore (${co}): ${a}`,...i)}}function ss(a,...t){if(Kr.logLevel<=Nt.ERROR){const i=t.map(Rm);Kr.error(`Firestore (${co}): ${a}`,...i)}}function Wa(a,...t){if(Kr.logLevel<=Nt.WARN){const i=t.map(Rm);Kr.warn(`Firestore (${co}): ${a}`,...i)}}function Rm(a){if(typeof a=="string")return a;try{return(function(i){return JSON.stringify(i)})(a)}catch{return a}}function pt(a,t,i){let r="Unexpected state";typeof t=="string"?r=t:i=t,q0(a,r,i)}function q0(a,t,i){let r=`FIRESTORE (${co}) INTERNAL ASSERTION FAILED: ${t} (ID: ${a.toString(16)})`;if(i!==void 0)try{r+=" CONTEXT: "+JSON.stringify(i)}catch{r+=" CONTEXT: "+i}throw ss(r),new Error(r)}function Gt(a,t,i,r){let l="Unexpected state";typeof i=="string"?l=i:r=i,a||q0(t,l,r)}function Et(a,t){return a}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ct extends ls{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Hr{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class H0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class wS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class RS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class CS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Gt(this.o===void 0,42304);let r=this.i;const l=y=>this.i!==r?(r=this.i,i(y)):Promise.resolve();let c=new Hr;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Hr,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const y=c;t.enqueueRetryable((async()=>{await y.promise,await l(this.currentUser)}))},g=y=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=y,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((y=>g(y))),setTimeout((()=>{if(!this.auth){const y=this.t.getImmediate({optional:!0});y?g(y):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Hr)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((r=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Gt(typeof r.accessToken=="string",31837,{l:r}),new H0(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Gt(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class xS{constructor(t,i,r){this.P=t,this.T=i,this.I=r,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class IS{constructor(t,i,r){this.P=t,this.T=i,this.I=r}getToken(){return Promise.resolve(new xS(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class rv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Gt(this.o===void 0,3512);const r=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>r(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new rv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Gt(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new rv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function DS(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let r=0;r<a;r++)i[r]=Math.floor(256*Math.random());return i}class Cm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const l=DS(40);for(let c=0;c<l.length;++c)r.length<20&&l[c]<i&&(r+=t.charAt(l[c]%62))}return r}}function Dt(a,t){return a<t?-1:a>t?1:0}function nm(a,t){const i=Math.min(a.length,t.length);for(let r=0;r<i;r++){const l=a.charAt(r),c=t.charAt(r);if(l!==c)return Bd(l)===Bd(c)?Dt(l,c):Bd(l)?1:-1}return Dt(a.length,t.length)}const MS=55296,OS=57343;function Bd(a){const t=a.charCodeAt(0);return t>=MS&&t<=OS}function to(a,t,i){return a.length===t.length&&a.every(((r,l)=>i(r,t[l])))}const av="__name__";class Si{constructor(t,i,r){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),r===void 0?r=t.length-i:r>t.length-i&&pt(1746,{length:r,range:t.length-i}),this.segments=t,this.offset=i,this.len=r}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((r=>{i.push(r)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,r=this.limit();i<r;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const r=Math.min(t.length,i.length);for(let l=0;l<r;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Dt(t.length,i.length)}static compareSegments(t,i){const r=Si.isNumericId(t),l=Si.isNumericId(i);return r&&!l?-1:!r&&l?1:r&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):nm(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Zs.fromString(t.substring(4,t.length-2))}}class se extends Si{construct(t,i,r){return new se(t,i,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const r of t){if(r.indexOf("//")>=0)throw new ct(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);i.push(...r.split("/").filter((l=>l.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const VS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qe extends Si{construct(t,i,r){return new Qe(t,i,r)}static isValidIdentifier(t){return VS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qe.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===av}static keyField(){return new Qe([av])}static fromServerFormat(t){const i=[];let r="",l=0;const c=()=>{if(r.length===0)throw new ct(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(r),r=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ct(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const y=t[l+1];if(y!=="\\"&&y!=="."&&y!=="`")throw new ct(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=y,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(r+=g,l++):(c(),l++)}if(c(),d)throw new ct(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Qe(i)}static emptyPath(){return new Qe([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(se.fromString(t))}static fromName(t){return new dt(se.fromString(t).popFirst(5))}static empty(){return new dt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new se(t.slice()))}}function F0(a,t,i){if(!i)throw new ct(J.INVALID_ARGUMENT,`Function ${a}() cannot be called with an empty ${t}.`)}function kS(a,t,i,r){if(t===!0&&r===!0)throw new ct(J.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function ov(a){if(!dt.isDocumentKey(a))throw new ct(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${a} has ${a.length}.`)}function lv(a){if(dt.isDocumentKey(a))throw new ct(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function G0(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}function xm(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=(function(r){return r.constructor?r.constructor.name:null})(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":pt(12329,{type:typeof a})}function es(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ct(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=xm(a);throw new ct(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}function xe(a,t){const i={typeString:a};return t&&(i.value=t),i}function Hl(a,t){if(!G0(a))throw new ct(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const r in t)if(t[r]){const l=t[r].typeString,c="value"in t[r]?{value:t[r].value}:void 0;if(!(r in a)){i=`JSON missing required field: '${r}'`;break}const d=a[r];if(l&&typeof d!==l){i=`JSON field '${r}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${r}' field to equal '${c.value}'`;break}}if(i)throw new ct(J.INVALID_ARGUMENT,i);return!0}const uv=-62135596800,cv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),r=Math.floor((t-1e3*i)*cv);return new re(i,r)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ct(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<uv)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ct(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/cv}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-uv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:xe("string",re._jsonSchemaVersion),seconds:xe("number"),nanoseconds:xe("number")};class _t{static fromTimestamp(t){return new _t(t)}static min(){return new _t(new re(0,0))}static max(){return new _t(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function US(a,t){const i=a.toTimestamp().seconds,r=a.toTimestamp().nanoseconds+1,l=_t.fromTimestamp(r===1e9?new re(i+1,0):new re(i,r));return new tr(l,dt.empty(),t)}function LS(a){return new tr(a.readTime,a.key,kl)}class tr{constructor(t,i,r){this.readTime=t,this.documentKey=i,this.largestBatchId=r}static min(){return new tr(_t.min(),dt.empty(),kl)}static max(){return new tr(_t.max(),dt.empty(),kl)}}function PS(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}const jS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ho(a){if(a.code!==J.FAILED_PRECONDITION||a.message!==jS)throw a;st("LocalStore","Unexpectedly lost primary lease")}class X{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new X(((r,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(r,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(r,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof X?i:X.resolve(i)}catch(i){return X.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):X.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):X.reject(i)}static resolve(t){return new X(((i,r)=>{i(t)}))}static reject(t){return new X(((i,r)=>{r(t)}))}static waitFor(t){return new X(((i,r)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(y=>r(y)))})),d=!0,c===l&&i()}))}static or(t){let i=X.resolve(!1);for(const r of t)i=i.next((l=>l?X.resolve(l):r()));return i}static forEach(t,i){const r=[];return t.forEach(((l,c)=>{r.push(i.call(this,l,c))})),this.waitFor(r)}static mapArray(t,i){return new X(((r,l)=>{const c=t.length,d=new Array(c);let g=0;for(let y=0;y<c;y++){const _=y;i(t[_]).next((b=>{d[_]=b,++g,g===c&&r(d)}),(b=>l(b)))}}))}static doWhile(t,i){return new X(((r,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):r()};c()}))}}function BS(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function fo(a){return a.name==="IndexedDbTransactionError"}class ch{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>i.writeSequenceNumber(r))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ch.ce=-1;const Im=-1;function hh(a){return a==null}function Gc(a){return a===0&&1/a==-1/0}function qS(a){return typeof a=="number"&&Number.isInteger(a)&&!Gc(a)&&a<=Number.MAX_SAFE_INTEGER&&a>=Number.MIN_SAFE_INTEGER}const Q0="";function HS(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=hv(t)),t=FS(a.get(i),t);return hv(t)}function FS(a,t){let i=t;const r=a.length;for(let l=0;l<r;l++){const c=a.charAt(l);switch(c){case"\0":i+="";break;case Q0:i+="";break;default:i+=c}}return i}function hv(a){return a+Q0+""}function fv(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function or(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function K0(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Ge.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Ge.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Ge.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return i.value;r<0?i=i.left:r>0&&(i=i.right)}return null}indexOf(t){let i=0,r=this.root;for(;!r.isEmpty();){const l=this.comparator(t,r.key);if(l===0)return i+r.left.size;l<0?r=r.left:(i+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,r)=>(t(i,r),!1)))}toString(){const t=[];return this.inorderTraversal(((i,r)=>(t.push(`${i}:${r}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Cc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Cc(this.root,t,this.comparator,!1)}getReverseIterator(){return new Cc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Cc(this.root,t,this.comparator,!0)}}class Cc{constructor(t,i,r,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?r(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Ge{constructor(t,i,r,l,c){this.key=t,this.value=i,this.color=r??Ge.RED,this.left=l??Ge.EMPTY,this.right=c??Ge.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,r,l,c){return new Ge(t??this.key,i??this.value,r??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,r){let l=this;const c=r(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,r),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,r)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Ge.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let r,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Ge.EMPTY;r=l.right.min(),l=l.copy(r.key,r.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Ge.EMPTY=null,Ge.RED=!0,Ge.BLACK=!1;Ge.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,r,l,c){return this}insert(t,i,r){return new Ge(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,r)=>(t(i),!1)))}forEachInRange(t,i){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const l=r.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let r;for(r=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new dv(this.data.getIterator())}getIteratorFrom(t){return new dv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((r=>{i=i.add(r)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),r=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class dv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Sn{constructor(t){this.fields=t,t.sort(Qe.comparator)}static empty(){return new Sn([])}unionWith(t){let i=new Ve(Qe.comparator);for(const r of this.fields)i=i.add(r);for(const r of t)i=i.add(r);return new Sn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,r)=>i.isEqual(r)))}}class Y0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ke{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Y0("Invalid base64 string: "+c):c}})(t);return new Ke(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Ke(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const r=new Uint8Array(i.length);for(let l=0;l<i.length;l++)r[l]=i.charCodeAt(l);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ke.EMPTY_BYTE_STRING=new Ke("");const GS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function er(a){if(Gt(!!a,39018),typeof a=="string"){let t=0;const i=GS.exec(a);if(Gt(!!i,46558,{timestamp:a}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const r=new Date(a);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(a.seconds),nanos:ye(a.nanos)}}function ye(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function nr(a){return typeof a=="string"?Ke.fromBase64String(a):Ke.fromUint8Array(a)}const X0="server_timestamp",$0="__type__",Z0="__previous_value__",J0="__local_write_time__";function Nm(a){return(a?.mapValue?.fields||{})[$0]?.stringValue===X0}function fh(a){const t=a.mapValue.fields[Z0];return Nm(t)?fh(t):t}function Ul(a){const t=er(a.mapValue.fields[J0].timestampValue);return new re(t.seconds,t.nanos)}class QS{constructor(t,i,r,l,c,d,g,y,_,b){this.databaseId=t,this.appId=i,this.persistenceKey=r,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=y,this.useFetchStreams=_,this.isUsingEmulator=b}}const Qc="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||Qc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Qc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}const W0="__type__",KS="__max__",xc={mapValue:{}},tE="__vector__",Kc="value";function ir(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Nm(a)?4:XS(a)?9007199254740991:YS(a)?10:11:pt(28295,{value:a})}function Di(a,t){if(a===t)return!0;const i=ir(a);if(i!==ir(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return Ul(a).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=er(l.timestampValue),g=er(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(a,t);case 5:return a.stringValue===t.stringValue;case 6:return(function(l,c){return nr(l.bytesValue).isEqual(nr(c.bytesValue))})(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(a,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?Gc(d)===Gc(g):isNaN(d)&&isNaN(g)}return!1})(a,t);case 9:return to(a.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(fv(d)!==fv(g))return!1;for(const y in d)if(d.hasOwnProperty(y)&&(g[y]===void 0||!Di(d[y],g[y])))return!1;return!0})(a,t);default:return pt(52216,{left:a})}}function Pl(a,t){return(a.values||[]).find((i=>Di(i,t)))!==void 0}function eo(a,t){if(a===t)return 0;const i=ir(a),r=ir(t);if(i!==r)return Dt(i,r);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),y=ye(d.integerValue||d.doubleValue);return g<y?-1:g>y?1:g===y?0:isNaN(g)?isNaN(y)?0:-1:1})(a,t);case 3:return mv(a.timestampValue,t.timestampValue);case 4:return mv(Ul(a),Ul(t));case 5:return nm(a.stringValue,t.stringValue);case 6:return(function(c,d){const g=nr(c),y=nr(d);return g.compareTo(y)})(a.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),y=d.split("/");for(let _=0;_<g.length&&_<y.length;_++){const b=Dt(g[_],y[_]);if(b!==0)return b}return Dt(g.length,y.length)})(a.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Dt(ye(c.latitude),ye(d.latitude));return g!==0?g:Dt(ye(c.longitude),ye(d.longitude))})(a.geoPointValue,t.geoPointValue);case 9:return pv(a.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},y=d.fields||{},_=g[Kc]?.arrayValue,b=y[Kc]?.arrayValue,R=Dt(_?.values?.length||0,b?.values?.length||0);return R!==0?R:pv(_,b)})(a.mapValue,t.mapValue);case 11:return(function(c,d){if(c===xc.mapValue&&d===xc.mapValue)return 0;if(c===xc.mapValue)return 1;if(d===xc.mapValue)return-1;const g=c.fields||{},y=Object.keys(g),_=d.fields||{},b=Object.keys(_);y.sort(),b.sort();for(let R=0;R<y.length&&R<b.length;++R){const V=nm(y[R],b[R]);if(V!==0)return V;const H=eo(g[y[R]],_[b[R]]);if(H!==0)return H}return Dt(y.length,b.length)})(a.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function mv(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=er(a),r=er(t),l=Dt(i.seconds,r.seconds);return l!==0?l:Dt(i.nanos,r.nanos)}function pv(a,t){const i=a.values||[],r=t.values||[];for(let l=0;l<i.length&&l<r.length;++l){const c=eo(i[l],r[l]);if(c)return c}return Dt(i.length,r.length)}function no(a){return im(a)}function im(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?(function(i){const r=er(i);return`time(${r.seconds},${r.nanos})`})(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?(function(i){return nr(i).toBase64()})(a.bytesValue):"referenceValue"in a?(function(i){return dt.fromName(i).toString()})(a.referenceValue):"geoPointValue"in a?(function(i){return`geo(${i.latitude},${i.longitude})`})(a.geoPointValue):"arrayValue"in a?(function(i){let r="[",l=!0;for(const c of i.values||[])l?l=!1:r+=",",r+=im(c);return r+"]"})(a.arrayValue):"mapValue"in a?(function(i){const r=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of r)c?c=!1:l+=",",l+=`${d}:${im(i.fields[d])}`;return l+"}"})(a.mapValue):pt(61005,{value:a})}function Oc(a){switch(ir(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=fh(a);return t?16+Oc(t):16;case 5:return 2*a.stringValue.length;case 6:return nr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((l,c)=>l+Oc(c)),0)})(a.arrayValue);case 10:case 11:return(function(r){let l=0;return or(r.fields,((c,d)=>{l+=c.length+Oc(d)})),l})(a.mapValue);default:throw pt(13486,{value:a})}}function sm(a){return!!a&&"integerValue"in a}function Dm(a){return!!a&&"arrayValue"in a}function gv(a){return!!a&&"nullValue"in a}function yv(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function Vc(a){return!!a&&"mapValue"in a}function YS(a){return(a?.mapValue?.fields||{})[W0]?.stringValue===tE}function Il(a){if(a.geoPointValue)return{geoPointValue:{...a.geoPointValue}};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:{...a.timestampValue}};if(a.mapValue){const t={mapValue:{fields:{}}};return or(a.mapValue.fields,((i,r)=>t.mapValue.fields[i]=Il(r))),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(a.arrayValue.values[i]);return t}return{...a}}function XS(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===KS}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let r=0;r<t.length-1;++r)if(i=(i.mapValue.fields||{})[t.get(r)],!Vc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Qe.emptyPath(),r={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const y=this.getFieldsMap(i);this.applyChanges(y,r,l),r={},l=[],i=g.popLast()}d?r[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,r,l)}delete(t){const i=this.field(t.popLast());Vc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let r=0;r<t.length;++r){let l=i.mapValue.fields[t.get(r)];Vc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(r)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,r){or(i,((l,c)=>t[l]=c));for(const l of r)delete t[l]}clone(){return new dn(Il(this.value))}}function eE(a){const t=[];return or(a.fields,((i,r)=>{const l=new Qe([i]);if(Vc(r)){const c=eE(r.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new Sn(t)}class Je{constructor(t,i,r,l,c,d,g){this.key=t,this.documentType=i,this.version=r,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Je(t,0,_t.min(),_t.min(),_t.min(),dn.empty(),0)}static newFoundDocument(t,i,r,l){return new Je(t,1,i,_t.min(),r,l,0)}static newNoDocument(t,i){return new Je(t,2,i,_t.min(),_t.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new Je(t,3,i,_t.min(),_t.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Je&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Je(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Yc{constructor(t,i){this.position=t,this.inclusive=i}}function _v(a,t,i){let r=0;for(let l=0;l<a.position.length;l++){const c=t[l],d=a.position[l];if(c.field.isKeyField()?r=dt.comparator(dt.fromName(d.referenceValue),i.key):r=eo(d,i.data.field(c.field)),c.dir==="desc"&&(r*=-1),r!==0)break}return r}function vv(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!Di(a.position[i],t.position[i]))return!1;return!0}class Xc{constructor(t,i="asc"){this.field=t,this.dir=i}}function $S(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}class nE{}class Oe extends nE{constructor(t,i,r){super(),this.field=t,this.op=i,this.value=r}static create(t,i,r){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,r):new JS(t,i,r):i==="array-contains"?new ew(t,r):i==="in"?new nw(t,r):i==="not-in"?new iw(t,r):i==="array-contains-any"?new sw(t,r):new Oe(t,i,r)}static createKeyFieldInFilter(t,i,r){return i==="in"?new WS(t,r):new tw(t,r)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&ir(this.value)===ir(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Mi extends nE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Mi(t,i)}matches(t){return iE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function iE(a){return a.op==="and"}function sE(a){return ZS(a)&&iE(a)}function ZS(a){for(const t of a.filters)if(t instanceof Mi)return!1;return!0}function rm(a){if(a instanceof Oe)return a.field.canonicalString()+a.op.toString()+no(a.value);if(sE(a))return a.filters.map((t=>rm(t))).join(",");{const t=a.filters.map((i=>rm(i))).join(",");return`${a.op}(${t})`}}function rE(a,t){return a instanceof Oe?(function(r,l){return l instanceof Oe&&r.op===l.op&&r.field.isEqual(l.field)&&Di(r.value,l.value)})(a,t):a instanceof Mi?(function(r,l){return l instanceof Mi&&r.op===l.op&&r.filters.length===l.filters.length?r.filters.reduce(((c,d,g)=>c&&rE(d,l.filters[g])),!0):!1})(a,t):void pt(19439)}function aE(a){return a instanceof Oe?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(a):a instanceof Mi?(function(i){return i.op.toString()+" {"+i.getFilters().map(aE).join(" ,")+"}"})(a):"Filter"}class JS extends Oe{constructor(t,i,r){super(t,i,r),this.key=dt.fromName(r.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class WS extends Oe{constructor(t,i){super(t,"in",i),this.keys=oE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class tw extends Oe{constructor(t,i){super(t,"not-in",i),this.keys=oE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function oE(a,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class ew extends Oe{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Dm(i)&&Pl(i.arrayValue,this.value)}}class nw extends Oe{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class iw extends Oe{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class sw extends Oe{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Dm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((r=>Pl(this.value.arrayValue,r)))}}class rw{constructor(t,i=null,r=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=r,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Ev(a,t=null,i=[],r=[],l=null,c=null,d=null){return new rw(a,t,i,r,l,c,d)}function Mm(a){const t=Et(a);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((r=>rm(r))).join(","),i+="|ob:",i+=t.orderBy.map((r=>(function(c){return c.field.canonicalString()+c.dir})(r))).join(","),hh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((r=>no(r))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((r=>no(r))).join(",")),t.Te=i}return t.Te}function Om(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!$S(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!rE(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!vv(a.startAt,t.startAt)&&vv(a.endAt,t.endAt)}function am(a){return dt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}class dh{constructor(t,i=null,r=[],l=[],c=null,d="F",g=null,y=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=r,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=y,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function aw(a,t,i,r,l,c,d,g){return new dh(a,t,i,r,l,c,d,g)}function Vm(a){return new dh(a)}function Tv(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function ow(a){return a.collectionGroup!==null}function Nl(a){const t=Et(a);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const r=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Qe.comparator);return d.filters.forEach((y=>{y.getFlattenedFilters().forEach((_=>{_.isInequality()&&(g=g.add(_.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Xc(c,r))})),i.has(Qe.keyField().canonicalString())||t.Ie.push(new Xc(Qe.keyField(),r))}return t.Ie}function wi(a){const t=Et(a);return t.Ee||(t.Ee=lw(t,Nl(a))),t.Ee}function lw(a,t){if(a.limitType==="F")return Ev(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Xc(l.field,c)}));const i=a.endAt?new Yc(a.endAt.position,a.endAt.inclusive):null,r=a.startAt?new Yc(a.startAt.position,a.startAt.inclusive):null;return Ev(a.path,a.collectionGroup,t,a.filters,a.limit,i,r)}}function om(a,t,i){return new dh(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function mh(a,t){return Om(wi(a),wi(t))&&a.limitType===t.limitType}function lE(a){return`${Mm(wi(a))}|lt:${a.limitType}`}function Ha(a){return`Query(target=${(function(i){let r=i.path.canonicalString();return i.collectionGroup!==null&&(r+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(r+=`, filters: [${i.filters.map((l=>aE(l))).join(", ")}]`),hh(i.limit)||(r+=", limit: "+i.limit),i.orderBy.length>0&&(r+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(r+=", startAt: ",r+=i.startAt.inclusive?"b:":"a:",r+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(r+=", endAt: ",r+=i.endAt.inclusive?"a:":"b:",r+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${r})`})(wi(a))}; limitType=${a.limitType})`}function ph(a,t){return t.isFoundDocument()&&(function(r,l){const c=l.key.path;return r.collectionGroup!==null?l.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(c):dt.isDocumentKey(r.path)?r.path.isEqual(c):r.path.isImmediateParentOf(c)})(a,t)&&(function(r,l){for(const c of Nl(r))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(a,t)&&(function(r,l){for(const c of r.filters)if(!c.matches(l))return!1;return!0})(a,t)&&(function(r,l){return!(r.startAt&&!(function(d,g,y){const _=_v(d,g,y);return d.inclusive?_<=0:_<0})(r.startAt,Nl(r),l)||r.endAt&&!(function(d,g,y){const _=_v(d,g,y);return d.inclusive?_>=0:_>0})(r.endAt,Nl(r),l))})(a,t)}function uw(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function uE(a){return(t,i)=>{let r=!1;for(const l of Nl(a)){const c=cw(l,t,i);if(c!==0)return c;r=r||l.field.isKeyField()}return 0}}function cw(a,t,i){const r=a.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const y=d.data.field(c),_=g.data.field(c);return y!==null&&_!==null?eo(y,_):pt(42886)})(a.field,t,i);switch(a.dir){case"asc":return r;case"desc":return-1*r;default:return pt(19790,{direction:a.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r!==void 0){for(const[l,c]of r)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const r=this.mapKeyFn(t),l=this.inner[r];if(l===void 0)return this.inner[r]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return!1;for(let l=0;l<r.length;l++)if(this.equalsFn(r[l][0],t))return r.length===1?delete this.inner[i]:r.splice(l,1),this.innerSize--,!0;return!1}forEach(t){or(this.inner,((i,r)=>{for(const[l,c]of r)t(l,c)}))}isEmpty(){return K0(this.inner)}size(){return this.innerSize}}const hw=new ue(dt.comparator);function rs(){return hw}const cE=new ue(dt.comparator);function wl(...a){let t=cE;for(const i of a)t=t.insert(i.key,i);return t}function hE(a){let t=cE;return a.forEach(((i,r)=>t=t.insert(i,r.overlayedDocument))),t}function qr(){return Dl()}function fE(){return Dl()}function Dl(){return new $r((a=>a.toString()),((a,t)=>a.isEqual(t)))}const fw=new ue(dt.comparator),dw=new Ve(dt.comparator);function Mt(...a){let t=dw;for(const i of a)t=t.add(i);return t}const mw=new Ve(Dt);function pw(){return mw}function km(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Gc(t)?"-0":t}}function dE(a){return{integerValue:""+a}}function mE(a,t){return qS(t)?dE(t):km(a,t)}class gh{constructor(){this._=void 0}}function gw(a,t,i){return a instanceof $c?(function(l,c){const d={fields:{[$0]:{stringValue:X0},[J0]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Nm(c)&&(c=fh(c)),c&&(d.fields[Z0]=c),{mapValue:d}})(i,t):a instanceof io?gE(a,t):a instanceof so?yE(a,t):(function(l,c){const d=pE(l,c),g=Av(d)+Av(l.Ae);return sm(d)&&sm(l.Ae)?dE(g):km(l.serializer,g)})(a,t)}function yw(a,t,i){return a instanceof io?gE(a,t):a instanceof so?yE(a,t):i}function pE(a,t){return a instanceof jl?(function(r){return sm(r)||(function(c){return!!c&&"doubleValue"in c})(r)})(t)?t:{integerValue:0}:null}class $c extends gh{}class io extends gh{constructor(t){super(),this.elements=t}}function gE(a,t){const i=_E(t);for(const r of a.elements)i.some((l=>Di(l,r)))||i.push(r);return{arrayValue:{values:i}}}class so extends gh{constructor(t){super(),this.elements=t}}function yE(a,t){let i=_E(t);for(const r of a.elements)i=i.filter((l=>!Di(l,r)));return{arrayValue:{values:i}}}class jl extends gh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Av(a){return ye(a.integerValue||a.doubleValue)}function _E(a){return Dm(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}class Um{constructor(t,i){this.field=t,this.transform=i}}function _w(a,t){return a.field.isEqual(t.field)&&(function(r,l){return r instanceof io&&l instanceof io||r instanceof so&&l instanceof so?to(r.elements,l.elements,Di):r instanceof jl&&l instanceof jl?Di(r.Ae,l.Ae):r instanceof $c&&l instanceof $c})(a.transform,t.transform)}class vw{constructor(t,i){this.version=t,this.transformResults=i}}class ti{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new ti}static exists(t){return new ti(void 0,t)}static updateTime(t){return new ti(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function kc(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class yh{}function vE(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new Lm(a.key,ti.none()):new Fl(a.key,a.data,ti.none());{const i=a.data,r=dn.empty();let l=new Ve(Qe.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?r.delete(c):r.set(c,d),l=l.add(c)}return new lr(a.key,r,new Sn(l.toArray()),ti.none())}}function Ew(a,t,i){a instanceof Fl?(function(l,c,d){const g=l.value.clone(),y=Sv(l.fieldTransforms,c,d.transformResults);g.setAll(y),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(a,t,i):a instanceof lr?(function(l,c,d){if(!kc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=Sv(l.fieldTransforms,c,d.transformResults),y=c.data;y.setAll(EE(l)),y.setAll(g),c.convertToFoundDocument(d.version,y).setHasCommittedMutations()})(a,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ml(a,t,i,r){return a instanceof Fl?(function(c,d,g,y){if(!kc(c.precondition,d))return g;const _=c.value.clone(),b=wv(c.fieldTransforms,y,d);return _.setAll(b),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null})(a,t,i,r):a instanceof lr?(function(c,d,g,y){if(!kc(c.precondition,d))return g;const _=wv(c.fieldTransforms,y,d),b=d.data;return b.setAll(EE(c)),b.setAll(_),d.convertToFoundDocument(d.version,b).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((R=>R.field)))})(a,t,i,r):(function(c,d,g){return kc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(a,t,i)}function Tw(a,t){let i=null;for(const r of a.fieldTransforms){const l=t.data.field(r.field),c=pE(r.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(r.field,c))}return i||null}function bv(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!(function(r,l){return r===void 0&&l===void 0||!(!r||!l)&&to(r,l,((c,d)=>_w(c,d)))})(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Fl extends yh{constructor(t,i,r,l=[]){super(),this.key=t,this.value=i,this.precondition=r,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class lr extends yh{constructor(t,i,r,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=r,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function EE(a){const t=new Map;return a.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const r=a.data.field(i);t.set(i,r)}})),t}function Sv(a,t,i){const r=new Map;Gt(a.length===i.length,32656,{Re:i.length,Ve:a.length});for(let l=0;l<i.length;l++){const c=a[l],d=c.transform,g=t.data.field(c.field);r.set(c.field,yw(d,g,i[l]))}return r}function wv(a,t,i){const r=new Map;for(const l of a){const c=l.transform,d=i.data.field(l.field);r.set(l.field,gw(c,d,t))}return r}class Lm extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Aw extends yh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class bw{constructor(t,i,r,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=r,this.mutations=l}applyToRemoteDocument(t,i){const r=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&Ew(c,t,r[l])}}applyToLocalView(t,i){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(i=Ml(r,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const r=fE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const y=vE(d,g);y!==null&&r.set(l.key,y),d.isValidDocument()||d.convertToNoDocument(_t.min())})),r}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),Mt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,r)=>bv(i,r)))&&to(this.baseMutations,t.baseMutations,((i,r)=>bv(i,r)))}}class Pm{constructor(t,i,r,l){this.batch=t,this.commitVersion=i,this.mutationResults=r,this.docVersions=l}static from(t,i,r){Gt(t.mutations.length===r.length,58842,{me:t.mutations.length,fe:r.length});let l=(function(){return fw})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,r[d].version);return new Pm(t,i,r,l)}}class Sw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class ww{constructor(t,i){this.count=t,this.unchangedNames=i}}var Ce,Lt;function Rw(a){switch(a){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:a})}}function TE(a){if(a===void 0)return ss("GRPC error has no .code"),J.UNKNOWN;switch(a){case Ce.OK:return J.OK;case Ce.CANCELLED:return J.CANCELLED;case Ce.UNKNOWN:return J.UNKNOWN;case Ce.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Ce.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Ce.INTERNAL:return J.INTERNAL;case Ce.UNAVAILABLE:return J.UNAVAILABLE;case Ce.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Ce.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Ce.NOT_FOUND:return J.NOT_FOUND;case Ce.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Ce.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Ce.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Ce.ABORTED:return J.ABORTED;case Ce.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Ce.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Ce.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:a})}}(Lt=Ce||(Ce={}))[Lt.OK=0]="OK",Lt[Lt.CANCELLED=1]="CANCELLED",Lt[Lt.UNKNOWN=2]="UNKNOWN",Lt[Lt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Lt[Lt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Lt[Lt.NOT_FOUND=5]="NOT_FOUND",Lt[Lt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Lt[Lt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Lt[Lt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Lt[Lt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Lt[Lt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Lt[Lt.ABORTED=10]="ABORTED",Lt[Lt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Lt[Lt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Lt[Lt.INTERNAL=13]="INTERNAL",Lt[Lt.UNAVAILABLE=14]="UNAVAILABLE",Lt[Lt.DATA_LOSS=15]="DATA_LOSS";function Cw(){return new TextEncoder}const xw=new Zs([4294967295,4294967295],0);function Rv(a){const t=Cw().encode(a),i=new U0;return i.update(t),new Uint8Array(i.digest())}function Cv(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),r=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Zs([i,r],0),new Zs([l,c],0)]}class jm{constructor(t,i,r){if(this.bitmap=t,this.padding=i,this.hashCount=r,i<0||i>=8)throw new Rl(`Invalid padding: ${i}`);if(r<0)throw new Rl(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Rl(`Invalid hash count: ${r}`);if(t.length===0&&i!==0)throw new Rl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Zs.fromNumber(this.ge)}ye(t,i,r){let l=t.add(i.multiply(Zs.fromNumber(r)));return l.compare(xw)===1&&(l=new Zs([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Rv(t),[r,l]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);if(!this.we(d))return!1}return!0}static create(t,i,r){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new jm(c,l,i);return r.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Rv(t),[r,l]=Cv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(r,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),r=t%8;this.bitmap[i]|=1<<r}}class Rl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(t,i,r,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=r,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,r){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,r)),new _h(_t.min(),l,new ue(Dt),rs(),Mt())}}class Gl{constructor(t,i,r,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=r,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,r){return new Gl(r,i,Mt(),Mt(),Mt())}}class Uc{constructor(t,i,r,l){this.be=t,this.removedTargetIds=i,this.key=r,this.De=l}}class AE{constructor(t,i){this.targetId=t,this.Ce=i}}class bE{constructor(t,i,r=Ke.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=r,this.cause=l}}class xv{constructor(){this.ve=0,this.Fe=Iv(),this.Me=Ke.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Mt(),i=Mt(),r=Mt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:r=r.add(l);break;default:pt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,r)}qe(){this.Oe=!1,this.Fe=Iv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Gt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Iw{constructor(t){this.Ge=t,this.ze=new Map,this.je=rs(),this.Je=Ic(),this.He=Ic(),this.Ye=new ue(Dt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const r=this.nt(i);switch(t.state){case 0:this.rt(i)&&r.Le(t.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(t.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(r.We(),r.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),r.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((r,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,r=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(am(c))if(r===0){const d=new dt(c.path);this.et(i,d,Je.newNoDocument(d,_t.min()))}else Gt(r===1,20013,{expectedCount:r});else{const d=this._t(i);if(d!==r){const g=this.ut(t),y=g?this.ct(g,t,d):1;if(y!==0){this.it(i);const _=y===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,_)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:r="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=nr(r).toUint8Array()}catch(y){if(y instanceof Y0)return Wa("Decoding the base64 bloom filter in existence filter failed ("+y.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw y}try{g=new jm(d,l,c)}catch(y){return Wa(y instanceof Rl?"BloomFilter error: ":"Applying bloom filter failed: ",y),null}return g.ge===0?null:g}ct(t,i,r){return i.Ce.count===r-this.Pt(t,i.targetId)?0:2}Pt(t,i){const r=this.Ge.getRemoteKeysForTarget(i);let l=0;return r.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&am(g.target)){const y=new dt(g.target.path);this.It(y).has(d)||this.Et(d,y)||this.et(d,y,Je.newNoDocument(y,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let r=Mt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((y=>{const _=this.ot(y);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(r=r.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new _h(t,i,this.Ye,this.je,r);return this.je=rs(),this.Je=Ic(),this.He=Ic(),this.Ye=new ue(Dt),l}Xe(t,i){if(!this.rt(t))return;const r=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,r),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,r){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),r&&(this.je=this.je.insert(i,r))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new xv,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Dt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Dt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new xv),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Ic(){return new ue(dt.comparator)}function Iv(){return new ue(dt.comparator)}const Nw={asc:"ASCENDING",desc:"DESCENDING"},Dw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Mw={and:"AND",or:"OR"};class Ow{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function lm(a,t){return a.useProto3Json||hh(t)?t:{value:t}}function Zc(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function SE(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Vw(a,t){return Zc(a,t.toTimestamp())}function Ri(a){return Gt(!!a,49232),_t.fromTimestamp((function(i){const r=er(i);return new re(r.seconds,r.nanos)})(a))}function zm(a,t){return um(a,t).canonicalString()}function um(a,t){const i=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(a).child("documents");return t===void 0?i:i.child(t)}function wE(a){const t=se.fromString(a);return Gt(NE(t),10190,{key:t.toString()}),t}function cm(a,t){return zm(a.databaseId,t.path)}function qd(a,t){const i=wE(t);if(i.get(1)!==a.databaseId.projectId)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ct(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new dt(CE(i))}function RE(a,t){return zm(a.databaseId,t)}function kw(a){const t=wE(a);return t.length===4?se.emptyPath():CE(t)}function hm(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function CE(a){return Gt(a.length>4&&a.get(4)==="documents",29091,{key:a.toString()}),a.popFirst(5)}function Nv(a,t,i){return{name:cm(a,t),fields:i.value.mapValue.fields}}function Uw(a,t){let i;if("targetChange"in t){t.targetChange;const r=(function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:pt(39313,{state:_})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(_,b){return _.useProto3Json?(Gt(b===void 0||typeof b=="string",58123),Ke.fromBase64String(b||"")):(Gt(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ke.fromUint8Array(b||new Uint8Array))})(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(_){const b=_.code===void 0?J.UNKNOWN:TE(_.code);return new ct(b,_.message||"")})(d);i=new bE(r,l,c,g||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const l=qd(a,r.document.name),c=Ri(r.document.updateTime),d=r.document.createTime?Ri(r.document.createTime):_t.min(),g=new dn({mapValue:{fields:r.document.fields}}),y=Je.newFoundDocument(l,c,d,g),_=r.targetIds||[],b=r.removedTargetIds||[];i=new Uc(_,b,y.key,y)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const l=qd(a,r.document),c=r.readTime?Ri(r.readTime):_t.min(),d=Je.newNoDocument(l,c),g=r.removedTargetIds||[];i=new Uc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const l=qd(a,r.document),c=r.removedTargetIds||[];i=new Uc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const r=t.filter;r.targetId;const{count:l=0,unchangedNames:c}=r,d=new ww(l,c),g=r.targetId;i=new AE(g,d)}}return i}function Lw(a,t){let i;if(t instanceof Fl)i={update:Nv(a,t.key,t.value)};else if(t instanceof Lm)i={delete:cm(a,t.key)};else if(t instanceof lr)i={update:Nv(a,t.key,t.data),updateMask:Qw(t.fieldMask)};else{if(!(t instanceof Aw))return pt(16599,{Vt:t.type});i={verify:cm(a,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((r=>(function(c,d){const g=d.transform;if(g instanceof $c)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof io)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,r)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:Vw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(a,t.precondition)),i}function Pw(a,t){return a&&a.length>0?(Gt(t!==void 0,14353),a.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(_t.min())&&(d=Ri(c)),new vw(d,l.transformResults||[])})(i,t)))):[]}function jw(a,t){return{documents:[RE(a,t.path)]}}function zw(a,t){const i={structuredQuery:{}},r=t.path;let l;t.collectionGroup!==null?(l=r,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=r.popLast(),i.structuredQuery.from=[{collectionId:r.lastSegment()}]),i.parent=RE(a,l);const c=(function(_){if(_.length!==0)return IE(Mi.create(_,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(_){if(_.length!==0)return _.map((b=>(function(V){return{field:Fa(V.field),direction:Hw(V.dir)}})(b)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=lm(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(_){return{before:_.inclusive,values:_.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(_){return{before:!_.inclusive,values:_.position}})(t.endAt)),{ft:i,parent:l}}function Bw(a){let t=kw(a.parent);const i=a.structuredQuery,r=i.from?i.from.length:0;let l=null;if(r>0){Gt(r===1,65062);const b=i.from[0];b.allDescendants?l=b.collectionId:t=t.child(b.collectionId)}let c=[];i.where&&(c=(function(R){const V=xE(R);return V instanceof Mi&&sE(V)?V.getFilters():[V]})(i.where));let d=[];i.orderBy&&(d=(function(R){return R.map((V=>(function(Z){return new Xc(Ga(Z.field),(function($){switch($){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Z.direction))})(V)))})(i.orderBy));let g=null;i.limit&&(g=(function(R){let V;return V=typeof R=="object"?R.value:R,hh(V)?null:V})(i.limit));let y=null;i.startAt&&(y=(function(R){const V=!!R.before,H=R.values||[];return new Yc(H,V)})(i.startAt));let _=null;return i.endAt&&(_=(function(R){const V=!R.before,H=R.values||[];return new Yc(H,V)})(i.endAt)),aw(t,l,d,c,g,"F",y,_)}function qw(a,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function xE(a){return a.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const r=Ga(i.unaryFilter.field);return Oe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Oe.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Oe.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Oe.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(a):a.fieldFilter!==void 0?(function(i){return Oe.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(a):a.compositeFilter!==void 0?(function(i){return Mi.create(i.compositeFilter.filters.map((r=>xE(r))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(a):pt(30097,{filter:a})}function Hw(a){return Nw[a]}function Fw(a){return Dw[a]}function Gw(a){return Mw[a]}function Fa(a){return{fieldPath:a.canonicalString()}}function Ga(a){return Qe.fromServerFormat(a.fieldPath)}function IE(a){return a instanceof Oe?(function(i){if(i.op==="=="){if(yv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(gv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(yv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(gv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:Fw(i.op),value:i.value}}})(a):a instanceof Mi?(function(i){const r=i.getFilters().map((l=>IE(l)));return r.length===1?r[0]:{compositeFilter:{op:Gw(i.op),filters:r}}})(a):pt(54877,{filter:a})}function Qw(a){const t=[];return a.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function NE(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}class Ks{constructor(t,i,r,l,c=_t.min(),d=_t.min(),g=Ke.EMPTY_BYTE_STRING,y=null){this.target=t,this.targetId=i,this.purpose=r,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=y}withSequenceNumber(t){return new Ks(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ks(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Kw{constructor(t){this.yt=t}}function Yw(a){const t=Bw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?om(t,t.limit,"L"):t}class Xw{constructor(){this.Cn=new $w}addToCollectionParentIndex(t,i){return this.Cn.add(i),X.resolve()}getCollectionParents(t,i){return X.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return X.resolve()}deleteFieldIndex(t,i){return X.resolve()}deleteAllFieldIndexes(t){return X.resolve()}createTargetIndexes(t,i){return X.resolve()}getDocumentsMatchingTarget(t,i){return X.resolve(null)}getIndexType(t,i){return X.resolve(0)}getFieldIndexes(t,i){return X.resolve([])}getNextCollectionGroupToUpdate(t){return X.resolve(null)}getMinOffset(t,i){return X.resolve(tr.min())}getMinOffsetFromCollectionGroup(t,i){return X.resolve(tr.min())}updateCollectionGroup(t,i,r){return X.resolve()}updateIndexEntries(t,i){return X.resolve()}}class $w{constructor(){this.index={}}add(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i]||new Ve(se.comparator),c=!l.has(r);return this.index[i]=l.add(r),c}has(t){const i=t.lastSegment(),r=t.popLast(),l=this.index[i];return l&&l.has(r)}getEntries(t){return(this.index[t]||new Ve(se.comparator)).toArray()}}const Dv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},DE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,r){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=r}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(DE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}const Mv="LruGarbageCollector",Zw=1048576;function Ov([a,t],[i,r]){const l=Dt(a,i);return l===0?Dt(t,r):l}class Jw{constructor(t){this.Ir=t,this.buffer=new Ve(Ov),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const r=this.buffer.last();Ov(i,r)<0&&(this.buffer=this.buffer.delete(r).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Ww{constructor(t,i,r){this.garbageCollector=t,this.asyncQueue=i,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Mv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){fo(i)?st(Mv,"Ignoring IndexedDB error during garbage collection: ",i):await ho(i)}await this.Vr(3e5)}))}}class t2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((r=>Math.floor(i/100*r)))}nthSequenceNumber(t,i){if(i===0)return X.resolve(ch.ce);const r=new Jw(i);return this.mr.forEachTarget(t,(l=>r.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>r.Ar(l))))).next((()=>r.maxValue))}removeTargets(t,i,r){return this.mr.removeTargets(t,i,r)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(Dv)):this.getCacheSize(t).next((r=>r<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Dv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let r,l,c,d,g,y,_;const b=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((R=>(R>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),l=this.params.maximumSequenceNumbersToCollect):l=R,d=Date.now(),this.nthSequenceNumber(t,l)))).next((R=>(r=R,g=Date.now(),this.removeTargets(t,r,i)))).next((R=>(c=R,y=Date.now(),this.removeOrphanedDocuments(t,r)))).next((R=>(_=Date.now(),qa()<=Nt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-b}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(y-g)+`ms
	Removed ${R} documents in `+(_-y)+`ms
Total Duration: ${_-b}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:R}))))}}function e2(a,t){return new t2(a,t)}class n2{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Je.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const r=this.changes.get(i);return r!==void 0?X.resolve(r):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class i2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class s2{constructor(t,i,r,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=r,this.indexManager=l}getDocument(t,i){let r=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(r=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(r!==null&&Ml(r.mutation,l,Sn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.getLocalViewOfDocuments(t,r,Mt()).next((()=>r))))}getLocalViewOfDocuments(t,i,r=Mt()){const l=qr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,r).next((c=>{let d=wl();return c.forEach(((g,y)=>{d=d.insert(g,y.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const r=qr();return this.populateOverlays(t,r,i).next((()=>this.computeViews(t,i,r,Mt())))}populateOverlays(t,i,r){const l=[];return r.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,r,l){let c=rs();const d=Dl(),g=(function(){return Dl()})();return i.forEach(((y,_)=>{const b=r.get(_.key);l.has(_.key)&&(b===void 0||b.mutation instanceof lr)?c=c.insert(_.key,_):b!==void 0?(d.set(_.key,b.mutation.getFieldMask()),Ml(b.mutation,_,b.mutation.getFieldMask(),re.now())):d.set(_.key,Sn.empty())})),this.recalculateAndSaveOverlays(t,c).next((y=>(y.forEach(((_,b)=>d.set(_,b))),i.forEach(((_,b)=>g.set(_,new i2(b,d.get(_)??null)))),g)))}recalculateAndSaveOverlays(t,i){const r=Dl();let l=new ue(((d,g)=>d-g)),c=Mt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((y=>{const _=i.get(y);if(_===null)return;let b=r.get(y)||Sn.empty();b=g.applyToLocalView(_,b),r.set(y,b);const R=(l.get(g.batchId)||Mt()).add(y);l=l.insert(g.batchId,R)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const y=g.getNext(),_=y.key,b=y.value,R=fE();b.forEach((V=>{if(!c.has(V)){const H=vE(i.get(V),r.get(V));H!==null&&R.set(V,H),c=c.add(V)}})),d.push(this.documentOverlayCache.saveOverlays(t,_,R))}return X.waitFor(d)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((r=>this.recalculateAndSaveOverlays(t,r)))}getDocumentsMatchingQuery(t,i,r,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):ow(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,r,l):this.getDocumentsMatchingCollectionQuery(t,i,r,l)}getNextDocuments(t,i,r,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,r,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,r.largestBatchId,l-c.size):X.resolve(qr());let g=kl,y=c;return d.next((_=>X.forEach(_,((b,R)=>(g<R.largestBatchId&&(g=R.largestBatchId),c.get(b)?X.resolve():this.remoteDocumentCache.getEntry(t,b).next((V=>{y=y.insert(b,V)}))))).next((()=>this.populateOverlays(t,_,c))).next((()=>this.computeViews(t,y,_,Mt()))).next((b=>({batchId:g,changes:hE(b)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((r=>{let l=wl();return r.isFoundDocument()&&(l=l.insert(r.key,r)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,r,l){const c=i.collectionGroup;let d=wl();return this.indexManager.getCollectionParents(t,c).next((g=>X.forEach(g,(y=>{const _=(function(R,V){return new dh(V,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)})(i,y.child(c));return this.getDocumentsMatchingCollectionQuery(t,_,r,l).next((b=>{b.forEach(((R,V)=>{d=d.insert(R,V)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,r,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,r.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,r,c,l)))).next((d=>{c.forEach(((y,_)=>{const b=_.getKey();d.get(b)===null&&(d=d.insert(b,Je.newInvalidDocument(b)))}));let g=wl();return d.forEach(((y,_)=>{const b=c.get(y);b!==void 0&&Ml(b.mutation,_,Sn.empty(),re.now()),ph(i,_)&&(g=g.insert(y,_))})),g}))}}class r2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return X.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),X.resolve()}getNamedQuery(t,i){return X.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:Yw(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),X.resolve()}}class a2{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(t,i){return X.resolve(this.overlays.get(i))}getOverlays(t,i){const r=qr();return X.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&r.set(l,c)})))).next((()=>r))}saveOverlays(t,i,r){return r.forEach(((l,c)=>{this.St(t,i,c)})),X.resolve()}removeOverlaysForBatchId(t,i,r){const l=this.qr.get(r);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(t,i,r){const l=qr(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const y=g.getNext().value,_=y.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===c&&y.largestBatchId>r&&l.set(y.getKey(),y)}return X.resolve(l)}getOverlaysForCollectionGroup(t,i,r,l){let c=new ue(((_,b)=>_-b));const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>r){let b=c.get(_.largestBatchId);b===null&&(b=qr(),c=c.insert(_.largestBatchId,b)),b.set(_.getKey(),_)}}const g=qr(),y=c.getIterator();for(;y.hasNext()&&(y.getNext().value.forEach(((_,b)=>g.set(_,b))),!(g.size()>=l)););return X.resolve(g)}St(t,i,r){const l=this.overlays.get(r.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(r.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(r.key,new Sw(i,r));let c=this.qr.get(i);c===void 0&&(c=Mt(),this.qr.set(i,c)),this.qr.set(i,c.add(r.key))}}class o2{constructor(){this.sessionToken=Ke.EMPTY_BYTE_STRING}getSessionToken(t){return X.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,X.resolve()}}class Bm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const r=new Pe(t,i);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(t,i){t.forEach((r=>this.addReference(r,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((r=>this.removeReference(r,i)))}jr(t){const i=new dt(new se([])),r=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([r,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new se([])),r=new Pe(i,t),l=new Pe(i,t+1);let c=Mt();return this.Ur.forEachInRange([r,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),r=this.Qr.firstAfterOrEqual(i);return r!==null&&t.isEqual(r.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Dt(t.Yr,i.Yr)}static Kr(t,i){return Dt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class l2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,r,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new bw(c,i,r,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return X.resolve(d)}lookupMutationBatch(t,i){return X.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const r=i+1,l=this.ei(r),c=l<0?0:l;return X.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?Im:this.tr-1)}getAllMutationBatches(t){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const r=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([r,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),X.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let r=new Ve(Dt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{r=r.add(g.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(t,i){const r=i.path,l=r.length+1;let c=r;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let g=new Ve(Dt);return this.Zr.forEachWhile((y=>{const _=y.key.path;return!!r.isPrefixOf(_)&&(_.length===l&&(g=g.add(y.Yr)),!0)}),d),X.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((r=>{const l=this.Xr(r);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Gt(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return r=r.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=r}))}ir(t){}containsKey(t,i){const r=new Pe(i,0),l=this.Zr.firstAfterOrEqual(r);return X.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,X.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class u2{constructor(t){this.ri=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const r=i.key,l=this.docs.get(r),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(r,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const r=this.docs.get(i);return X.resolve(r?r.document.mutableCopy():Je.newInvalidDocument(i))}getEntries(t,i){let r=rs();return i.forEach((l=>{const c=this.docs.get(l);r=r.insert(l,c?c.document.mutableCopy():Je.newInvalidDocument(l))})),X.resolve(r)}getDocumentsMatchingQuery(t,i,r,l){let c=rs();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),y=this.docs.getIteratorFrom(g);for(;y.hasNext();){const{key:_,value:{document:b}}=y.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||PS(LS(b),r)<=0||(l.has(b.key)||ph(i,b))&&(c=c.insert(b.key,b.mutableCopy()))}return X.resolve(c)}getAllFromCollectionGroup(t,i,r,l){pt(9500)}ii(t,i){return X.forEach(this.docs,(r=>i(r)))}newChangeBuffer(t){return new c2(this)}getSize(t){return X.resolve(this.size)}}class c2 extends n2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((r,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(r)})),X.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class h2{constructor(t){this.persistence=t,this.si=new $r((i=>Mm(i)),Om),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.oi=0,this._i=new Bm,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,i){return this.si.forEach(((r,l)=>i(l))),X.resolve()}getLastRemoteSnapshotVersion(t){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return X.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(t,i,r){return r&&(this.lastRemoteSnapshotVersion=r),i>this.oi&&(this.oi=i),X.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,X.resolve()}updateTargetData(t,i){return this.Pr(i),X.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,X.resolve()}removeTargets(t,i,r){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&r.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),X.waitFor(c).next((()=>l))}getTargetCount(t){return X.resolve(this.targetCount)}getTargetData(t,i){const r=this.si.get(i)||null;return X.resolve(r)}addMatchingKeys(t,i,r){return this._i.Wr(i,r),X.resolve()}removeMatchingKeys(t,i,r){this._i.zr(i,r);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),X.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),X.resolve()}getMatchingKeysForTargetId(t,i){const r=this._i.Hr(i);return X.resolve(r)}containsKey(t,i){return X.resolve(this._i.containsKey(i))}}class ME{constructor(t,i){this.ui={},this.overlays={},this.ci=new ch(0),this.li=!1,this.li=!0,this.hi=new o2,this.referenceDelegate=t(this),this.Pi=new h2(this),this.indexManager=new Xw,this.remoteDocumentCache=(function(l){return new u2(l)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new Kw(i),this.Ii=new r2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new a2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let r=this.ui[t.toKey()];return r||(r=new l2(i,this.referenceDelegate),this.ui[t.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,r){st("MemoryPersistence","Starting transaction:",t);const l=new f2(this.ci.next());return this.referenceDelegate.Ei(),r(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(t,i))))}}class f2 extends zS{constructor(t){super(),this.currentSequenceNumber=t}}class qm{constructor(t){this.persistence=t,this.Ri=new Bm,this.Vi=null}static mi(t){return new qm(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,r){return this.Ri.addReference(r,i),this.fi.delete(r.toString()),X.resolve()}removeReference(t,i,r){return this.Ri.removeReference(r,i),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),X.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>r.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const l=dt.fromPath(r);return this.gi(t,l).next((c=>{c||i.removeEntry(l,_t.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((r=>{r?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return X.or([()=>X.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class Jc{constructor(t,i){this.persistence=t,this.pi=new $r((r=>HS(r.path)),((r,l)=>r.isEqual(l))),this.garbageCollector=e2(this,i)}static mi(t,i){return new Jc(t,i)}Ei(){}di(t){return X.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((r=>i.next((l=>r+l))))}wr(t){let i=0;return this.pr(t,(r=>{i++})).next((()=>i))}pr(t,i){return X.forEach(this.pi,((r,l)=>this.br(t,r,l).next((c=>c?X.resolve():i(l)))))}removeTargets(t,i,r){return this.persistence.getTargetCache().removeTargets(t,i,r)}removeOrphanedDocuments(t,i){let r=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(r++,c.removeEntry(d,_t.min()))})))).next((()=>c.apply(t))).next((()=>r))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}removeTarget(t,i){const r=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,r)}addReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}removeReference(t,i,r){return this.pi.set(r,t.currentSequenceNumber),X.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),X.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=Oc(t.data.value)),i}br(t,i,r){return X.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return X.resolve(l!==void 0&&l>r)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Hm{constructor(t,i,r,l){this.targetId=t,this.fromCache=i,this.Es=r,this.ds=l}static As(t,i){let r=Mt(),l=Mt();for(const c of i.docChanges)switch(c.type){case 0:r=r.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Hm(t,i.fromCache,r,l)}}class d2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class m2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return rb()?8:BS(We())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,r,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,r).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new d2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,r,l){return r.documentReadCount<this.fs?(qa()<=Nt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(qa()<=Nt.DEBUG&&st("QueryEngine","Query:",Ha(i),"scans",r.documentReadCount,"local documents and returns",l,"documents as results."),r.documentReadCount>this.gs*l?(qa()<=Nt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):X.resolve())}ys(t,i){if(Tv(i))return X.resolve(null);let r=wi(i);return this.indexManager.getIndexType(t,r).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=om(i,null,"F"),r=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,r).next((c=>{const d=Mt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,r).next((y=>{const _=this.Ds(i,g);return this.Cs(i,_,d,y.readTime)?this.ys(t,om(i,null,"F")):this.vs(t,_,i,y)}))))})))))}ws(t,i,r,l){return Tv(i)||l.isEqual(_t.min())?X.resolve(null):this.ps.getDocuments(t,r).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,r,l)?X.resolve(null):(qa()<=Nt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,US(l,kl)).next((g=>g)))}))}Ds(t,i){let r=new Ve(uE(t));return i.forEach(((l,c)=>{ph(t,c)&&(r=r.add(c))})),r}Cs(t,i,r,l){if(t.limit===null)return!1;if(r.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,r){return qa()<=Nt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,tr.min(),r)}vs(t,i,r,l){return this.ps.getDocumentsMatchingQuery(t,r,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Fm="LocalStore",p2=3e8;class g2{constructor(t,i,r,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Dt),this.xs=new $r((c=>Mm(c)),Om),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(r)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new s2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function y2(a,t,i,r){return new g2(a,t,i,r)}async function OE(a,t){const i=Et(a);return await i.persistence.runTransaction("Handle user change","readonly",(r=>{let l;return i.mutationQueue.getAllMutationBatches(r).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(r)))).next((c=>{const d=[],g=[];let y=Mt();for(const _ of l){d.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}for(const _ of c){g.push(_.batchId);for(const b of _.mutations)y=y.add(b.key)}return i.localDocuments.getDocuments(r,y).next((_=>({Ls:_,removedBatchIds:d,addedBatchIds:g})))}))}))}function _2(a,t){const i=Et(a);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,y,_,b){const R=_.batch,V=R.keys();let H=X.resolve();return V.forEach((Z=>{H=H.next((()=>b.getEntry(y,Z))).next((W=>{const $=_.docVersions.get(Z);Gt($!==null,48541),W.version.compareTo($)<0&&(R.applyToRemoteDocument(W,_),W.isValidDocument()&&(W.setReadTime(_.commitVersion),b.addEntry(W)))}))})),H.next((()=>g.mutationQueue.removeMutationBatch(y,R)))})(i,r,t,c).next((()=>c.apply(r))).next((()=>i.mutationQueue.performConsistencyCheck(r))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(r,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(g){let y=Mt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(y=y.add(g.batch.mutations[_].key));return y})(t)))).next((()=>i.localDocuments.getDocuments(r,l)))}))}function VE(a){const t=Et(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function v2(a,t){const i=Et(a),r=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((b,R)=>{const V=l.get(R);if(!V)return;g.push(i.Pi.removeMatchingKeys(c,b.removedDocuments,R).next((()=>i.Pi.addMatchingKeys(c,b.addedDocuments,R))));let H=V.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(R)!==null?H=H.withResumeToken(Ke.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):b.resumeToken.approximateByteSize()>0&&(H=H.withResumeToken(b.resumeToken,r)),l=l.insert(R,H),(function(W,$,lt){return W.resumeToken.approximateByteSize()===0||$.snapshotVersion.toMicroseconds()-W.snapshotVersion.toMicroseconds()>=p2?!0:lt.addedDocuments.size+lt.modifiedDocuments.size+lt.removedDocuments.size>0})(V,H,b)&&g.push(i.Pi.updateTargetData(c,H))}));let y=rs(),_=Mt();if(t.documentUpdates.forEach((b=>{t.resolvedLimboDocuments.has(b)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,b))})),g.push(E2(c,d,t.documentUpdates).next((b=>{y=b.ks,_=b.qs}))),!r.isEqual(_t.min())){const b=i.Pi.getLastRemoteSnapshotVersion(c).next((R=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,r)));g.push(b)}return X.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,y,_))).next((()=>y))})).then((c=>(i.Ms=l,c)))}function E2(a,t,i){let r=Mt(),l=Mt();return i.forEach((c=>r=r.add(c))),t.getEntries(a,r).next((c=>{let d=rs();return i.forEach(((g,y)=>{const _=c.get(g);y.isFoundDocument()!==_.isFoundDocument()&&(l=l.add(g)),y.isNoDocument()&&y.version.isEqual(_t.min())?(t.removeEntry(g,y.readTime),d=d.insert(g,y)):!_.isValidDocument()||y.version.compareTo(_.version)>0||y.version.compareTo(_.version)===0&&_.hasPendingWrites?(t.addEntry(y),d=d.insert(g,y)):st(Fm,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",y.version)})),{ks:d,qs:l}}))}function T2(a,t){const i=Et(a);return i.persistence.runTransaction("Get next mutation batch","readonly",(r=>(t===void 0&&(t=Im),i.mutationQueue.getNextMutationBatchAfterBatchId(r,t))))}function A2(a,t){const i=Et(a);return i.persistence.runTransaction("Allocate target","readwrite",(r=>{let l;return i.Pi.getTargetData(r,t).next((c=>c?(l=c,X.resolve(l)):i.Pi.allocateTargetId(r).next((d=>(l=new Ks(t,d,"TargetPurposeListen",r.currentSequenceNumber),i.Pi.addTargetData(r,l).next((()=>l)))))))})).then((r=>{const l=i.Ms.get(r.targetId);return(l===null||r.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(r.targetId,r),i.xs.set(t,r.targetId)),r}))}async function fm(a,t,i){const r=Et(a),l=r.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await r.persistence.runTransaction("Release target",c,(d=>r.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!fo(d))throw d;st(Fm,`Failed to update sequence numbers for target ${t}: ${d}`)}r.Ms=r.Ms.remove(t),r.xs.delete(l.target)}function Vv(a,t,i){const r=Et(a);let l=_t.min(),c=Mt();return r.persistence.runTransaction("Execute query","readwrite",(d=>(function(y,_,b){const R=Et(y),V=R.xs.get(b);return V!==void 0?X.resolve(R.Ms.get(V)):R.Pi.getTargetData(_,b)})(r,d,wi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(d,g.targetId).next((y=>{c=y}))})).next((()=>r.Fs.getDocumentsMatchingQuery(d,t,i?l:_t.min(),i?c:Mt()))).next((g=>(b2(r,uw(t),g),{documents:g,Qs:c})))))}function b2(a,t,i){let r=a.Os.get(t)||_t.min();i.forEach(((l,c)=>{c.readTime.compareTo(r)>0&&(r=c.readTime)})),a.Os.set(t,r)}class kv{constructor(){this.activeTargetIds=pw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class S2{constructor(){this.Mo=new kv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,r){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,r){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new kv,Promise.resolve()}handleUserChange(t,i,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class w2{Oo(t){}shutdown(){}}const Uv="ConnectivityMonitor";class Lv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(Uv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(Uv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Nc=null;function dm(){return Nc===null?Nc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Nc++,"0x"+Nc.toString(16)}const Hd="RestConnection",R2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class C2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${r}/databases/${l}`,this.Wo=this.databaseId.database===Qc?`project_id=${r}`:`project_id=${r}&database_id=${l}`}Go(t,i,r,l,c){const d=dm(),g=this.zo(t,i.toUriEncodedString());st(Hd,`Sending RPC '${t}' ${d}:`,g,r);const y={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(y,l,c);const{host:_}=new URL(g),b=lo(_);return this.Jo(t,g,y,r,b).then((R=>(st(Hd,`Received RPC '${t}' ${d}: `,R),R)),(R=>{throw Wa(Hd,`RPC '${t}' ${d} failed with error: `,R,"url: ",g,"request:",r),R}))}Ho(t,i,r,l,c,d){return this.Go(t,i,r,l,c)}jo(t,i,r){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+co})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),r&&r.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const r=R2[t];return`${this.Uo}/v1/${i}:${r}`}terminate(){}}class x2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Xe="WebChannelConnection";class I2 extends C2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,r,l,c){const d=dm();return new Promise(((g,y)=>{const _=new L0;_.setWithCredentials(!0),_.listenOnce(P0.COMPLETE,(()=>{try{switch(_.getLastErrorCode()){case Mc.NO_ERROR:const R=_.getResponseJson();st(Xe,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(R)),g(R);break;case Mc.TIMEOUT:st(Xe,`RPC '${t}' ${d} timed out`),y(new ct(J.DEADLINE_EXCEEDED,"Request time out"));break;case Mc.HTTP_ERROR:const V=_.getStatus();if(st(Xe,`RPC '${t}' ${d} failed with status:`,V,"response text:",_.getResponseText()),V>0){let H=_.getResponseJson();Array.isArray(H)&&(H=H[0]);const Z=H?.error;if(Z&&Z.status&&Z.message){const W=(function(lt){const rt=lt.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(rt)>=0?rt:J.UNKNOWN})(Z.status);y(new ct(W,Z.message))}else y(new ct(J.UNKNOWN,"Server responded with status "+_.getStatus()))}else y(new ct(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:_.getLastErrorCode(),P_:_.getLastError()})}}finally{st(Xe,`RPC '${t}' ${d} completed.`)}}));const b=JSON.stringify(l);st(Xe,`RPC '${t}' ${d} sending request:`,l),_.send(i,"POST",b,r,15)}))}T_(t,i,r){const l=dm(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=B0(),g=z0(),y={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(y.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(y.useFetchStreams=!0),this.jo(y.initMessageHeaders,i,r),y.encodeInitMessageHeaders=!0;const b=c.join("");st(Xe,`Creating RPC '${t}' stream ${l}: ${b}`,y);const R=d.createWebChannel(b,y);this.I_(R);let V=!1,H=!1;const Z=new x2({Yo:$=>{H?st(Xe,`Not sending because RPC '${t}' stream ${l} is closed:`,$):(V||(st(Xe,`Opening RPC '${t}' stream ${l} transport.`),R.open(),V=!0),st(Xe,`RPC '${t}' stream ${l} sending:`,$),R.send($))},Zo:()=>R.close()}),W=($,lt,rt)=>{$.listen(lt,(ut=>{try{rt(ut)}catch(Ot){setTimeout((()=>{throw Ot}),0)}}))};return W(R,Sl.EventType.OPEN,(()=>{H||(st(Xe,`RPC '${t}' stream ${l} transport opened.`),Z.o_())})),W(R,Sl.EventType.CLOSE,(()=>{H||(H=!0,st(Xe,`RPC '${t}' stream ${l} transport closed`),Z.a_(),this.E_(R))})),W(R,Sl.EventType.ERROR,($=>{H||(H=!0,Wa(Xe,`RPC '${t}' stream ${l} transport errored. Name:`,$.name,"Message:",$.message),Z.a_(new ct(J.UNAVAILABLE,"The operation could not be completed")))})),W(R,Sl.EventType.MESSAGE,($=>{if(!H){const lt=$.data[0];Gt(!!lt,16349);const rt=lt,ut=rt?.error||rt[0]?.error;if(ut){st(Xe,`RPC '${t}' stream ${l} received error:`,ut);const Ot=ut.status;let jt=(function(w){const C=Ce[w];if(C!==void 0)return TE(C)})(Ot),wt=ut.message;jt===void 0&&(jt=J.INTERNAL,wt="Unknown error status: "+Ot+" with message "+ut.message),H=!0,Z.a_(new ct(jt,wt)),R.close()}else st(Xe,`RPC '${t}' stream ${l} received:`,lt),Z.u_(lt)}})),W(g,j0.STAT_EVENT,($=>{$.stat===em.PROXY?st(Xe,`RPC '${t}' stream ${l} detected buffering proxy`):$.stat===em.NOPROXY&&st(Xe,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{Z.__()}),0),Z}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Fd(){return typeof document<"u"?document:null}function vh(a){return new Ow(a,!0)}class kE{constructor(t,i,r=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=r,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-r);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const Pv="PersistentStream";class UE{constructor(t,i,r,l,c,d,g,y){this.Mi=t,this.S_=r,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=y,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new kE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ss(i.toString()),ss("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,l])=>{this.D_===i&&this.G_(r,l)}),(r=>{t((()=>{const l=new ct(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(l)}))}))}G_(t,i){const r=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{r((()=>this.z_(l)))})),this.stream.onMessage((l=>{r((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(Pv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(Pv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class N2 extends UE{constructor(t,i,r,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Uw(this.serializer,t),r=(function(c){if(!("targetChange"in c))return _t.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?_t.min():d.readTime?Ri(d.readTime):_t.min()})(t);return this.listener.H_(i,r)}Y_(t){const i={};i.database=hm(this.serializer),i.addTarget=(function(c,d){let g;const y=d.target;if(g=am(y)?{documents:jw(c,y)}:{query:zw(c,y).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=SE(c,d.resumeToken);const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(_t.min())>0){g.readTime=Zc(c,d.snapshotVersion.toTimestamp());const _=lm(c,d.expectedCount);_!==null&&(g.expectedCount=_)}return g})(this.serializer,t);const r=qw(this.serializer,t);r&&(i.labels=r),this.q_(i)}Z_(t){const i={};i.database=hm(this.serializer),i.removeTarget=t,this.q_(i)}}class D2 extends UE{constructor(t,i,r,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,r,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Gt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Gt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Gt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Pw(t.writeResults,t.commitTime),r=Ri(t.commitTime);return this.listener.na(r,i)}ra(){const t={};t.database=hm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((r=>Lw(this.serializer,r)))};this.q_(i)}}class M2{}class O2 extends M2{constructor(t,i,r,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=r,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,r,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,um(i,r),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ct(J.UNKNOWN,c.toString())}))}Ho(t,i,r,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,um(i,r),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ct(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class V2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ss(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Yr="RemoteStore";class k2{constructor(t,i,r,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{r.enqueueAndForget((async()=>{Zr(this)&&(st(Yr,"Restarting streams for network reachability change."),await(async function(y){const _=Et(y);_.Ea.add(4),await Ql(_),_.Ra.set("Unknown"),_.Ea.delete(4),await Eh(_)})(this))}))})),this.Ra=new V2(r,l)}}async function Eh(a){if(Zr(a))for(const t of a.da)await t(!0)}async function Ql(a){for(const t of a.da)await t(!1)}function LE(a,t){const i=Et(a);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Ym(i)?Km(i):mo(i).O_()&&Qm(i,t))}function Gm(a,t){const i=Et(a),r=mo(i);i.Ia.delete(t),r.O_()&&PE(i,t),i.Ia.size===0&&(r.O_()?r.L_():Zr(i)&&i.Ra.set("Unknown"))}function Qm(a,t){if(a.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(_t.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}mo(a).Y_(t)}function PE(a,t){a.Va.Ue(t),mo(a).Z_(t)}function Km(a){a.Va=new Iw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),At:t=>a.Ia.get(t)||null,ht:()=>a.datastore.serializer.databaseId}),mo(a).start(),a.Ra.ua()}function Ym(a){return Zr(a)&&!mo(a).x_()&&a.Ia.size>0}function Zr(a){return Et(a).Ea.size===0}function jE(a){a.Va=void 0}async function U2(a){a.Ra.set("Online")}async function L2(a){a.Ia.forEach(((t,i)=>{Qm(a,t)}))}async function P2(a,t){jE(a),Ym(a)?(a.Ra.ha(t),Km(a)):a.Ra.set("Unknown")}async function j2(a,t,i){if(a.Ra.set("Online"),t instanceof bE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(a,t)}catch(r){st(Yr,"Failed to remove targets %s: %s ",t.targetIds.join(","),r),await Wc(a,r)}else if(t instanceof Uc?a.Va.Ze(t):t instanceof AE?a.Va.st(t):a.Va.tt(t),!i.isEqual(_t.min()))try{const r=await VE(a.localStore);i.compareTo(r)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((y,_)=>{if(y.resumeToken.approximateByteSize()>0){const b=c.Ia.get(_);b&&c.Ia.set(_,b.withResumeToken(y.resumeToken,d))}})),g.targetMismatches.forEach(((y,_)=>{const b=c.Ia.get(y);if(!b)return;c.Ia.set(y,b.withResumeToken(Ke.EMPTY_BYTE_STRING,b.snapshotVersion)),PE(c,y);const R=new Ks(b.target,y,_,b.sequenceNumber);Qm(c,R)})),c.remoteSyncer.applyRemoteEvent(g)})(a,i)}catch(r){st(Yr,"Failed to raise snapshot:",r),await Wc(a,r)}}async function Wc(a,t,i){if(!fo(t))throw t;a.Ea.add(1),await Ql(a),a.Ra.set("Offline"),i||(i=()=>VE(a.localStore)),a.asyncQueue.enqueueRetryable((async()=>{st(Yr,"Retrying IndexedDB access"),await i(),a.Ea.delete(1),await Eh(a)}))}function zE(a,t){return t().catch((i=>Wc(a,i,t)))}async function Th(a){const t=Et(a),i=sr(t);let r=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Im;for(;z2(t);)try{const l=await T2(t.localStore,r);if(l===null){t.Ta.length===0&&i.L_();break}r=l.batchId,B2(t,l)}catch(l){await Wc(t,l)}BE(t)&&qE(t)}function z2(a){return Zr(a)&&a.Ta.length<10}function B2(a,t){a.Ta.push(t);const i=sr(a);i.O_()&&i.X_&&i.ea(t.mutations)}function BE(a){return Zr(a)&&!sr(a).x_()&&a.Ta.length>0}function qE(a){sr(a).start()}async function q2(a){sr(a).ra()}async function H2(a){const t=sr(a);for(const i of a.Ta)t.ea(i.mutations)}async function F2(a,t,i){const r=a.Ta.shift(),l=Pm.from(r,t,i);await zE(a,(()=>a.remoteSyncer.applySuccessfulWrite(l))),await Th(a)}async function G2(a,t){t&&sr(a).X_&&await(async function(r,l){if((function(d){return Rw(d)&&d!==J.ABORTED})(l.code)){const c=r.Ta.shift();sr(r).B_(),await zE(r,(()=>r.remoteSyncer.rejectFailedWrite(c.batchId,l))),await Th(r)}})(a,t),BE(a)&&qE(a)}async function jv(a,t){const i=Et(a);i.asyncQueue.verifyOperationInProgress(),st(Yr,"RemoteStore received new credentials");const r=Zr(i);i.Ea.add(3),await Ql(i),r&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Eh(i)}async function Q2(a,t){const i=Et(a);t?(i.Ea.delete(2),await Eh(i)):t||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function mo(a){return a.ma||(a.ma=(function(i,r,l){const c=Et(i);return c.sa(),new N2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:U2.bind(null,a),t_:L2.bind(null,a),r_:P2.bind(null,a),H_:j2.bind(null,a)}),a.da.push((async t=>{t?(a.ma.B_(),Ym(a)?Km(a):a.Ra.set("Unknown")):(await a.ma.stop(),jE(a))}))),a.ma}function sr(a){return a.fa||(a.fa=(function(i,r,l){const c=Et(i);return c.sa(),new D2(r,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(a.datastore,a.asyncQueue,{Xo:()=>Promise.resolve(),t_:q2.bind(null,a),r_:G2.bind(null,a),ta:H2.bind(null,a),na:F2.bind(null,a)}),a.da.push((async t=>{t?(a.fa.B_(),await Th(a)):(await a.fa.stop(),a.Ta.length>0&&(st(Yr,`Stopping write stream with ${a.Ta.length} pending writes`),a.Ta=[]))}))),a.fa}class Xm{constructor(t,i,r,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=r,this.op=l,this.removalCallback=c,this.deferred=new Hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,r,l,c){const d=Date.now()+r,g=new Xm(t,i,d,l,c);return g.start(r),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ct(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function $m(a,t){if(ss("AsyncQueue",`${t}: ${a}`),fo(a))return new ct(J.UNAVAILABLE,`${t}: ${a}`);throw a}class Ka{static emptySet(t){return new Ka(t.comparator)}constructor(t){this.comparator=t?(i,r)=>t(i,r)||dt.comparator(i.key,r.key):(i,r)=>dt.comparator(i.key,r.key),this.keyedMap=wl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,r)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ka)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=r.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const r=new Ka;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=i,r}}class zv{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,r=this.ga.get(i);r?t.type!==0&&r.type===3?this.ga=this.ga.insert(i,t):t.type===3&&r.type!==1?this.ga=this.ga.insert(i,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.ga=this.ga.remove(i):t.type===1&&r.type===2?this.ga=this.ga.insert(i,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:r}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,r)=>{t.push(r)})),t}}class ao{constructor(t,i,r,l,c,d,g,y,_){this.query=t,this.docs=i,this.oldDocs=r,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=y,this.hasCachedResults=_}static fromInitialDocuments(t,i,r,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ao(t,i,Ka.emptySet(i),d,r,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&mh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,r=t.docChanges;if(i.length!==r.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==r[l].type||!i[l].doc.isEqual(r[l].doc))return!1;return!0}}class K2{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class Y2{constructor(){this.queries=Bv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,r){const l=Et(i),c=l.queries;l.queries=Bv(),c.forEach(((d,g)=>{for(const y of g.Sa)y.onError(r)}))})(this,new ct(J.ABORTED,"Firestore shutting down"))}}function Bv(){return new $r((a=>lE(a)),mh)}async function X2(a,t){const i=Et(a);let r=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(r=2):(c=new K2,r=t.Da()?0:1);try{switch(r){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=$m(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&Zm(i)}async function $2(a,t){const i=Et(a),r=t.query;let l=3;const c=i.queries.get(r);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(r),i.onUnlisten(r,!0);case 1:return i.queries.delete(r),i.onUnlisten(r,!1);case 2:return i.onLastRemoteStoreUnlisten(r);default:return}}function Z2(a,t){const i=Et(a);let r=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(r=!0);d.wa=l}}r&&Zm(i)}function J2(a,t,i){const r=Et(a),l=r.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);r.queries.delete(t)}function Zm(a){a.Ca.forEach((t=>{t.next()}))}var mm,qv;(qv=mm||(mm={})).Ma="default",qv.Cache="cache";class W2{constructor(t,i,r){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(t){if(!this.options.includeMetadataChanges){const r=[];for(const l of t.docChanges)l.type!==3&&r.push(l);t=new ao(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const r=i!=="Offline";return(!this.options.qa||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==mm.Cache}}class HE{constructor(t){this.key=t}}class FE{constructor(t){this.key=t}}class tR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Mt(),this.mutatedKeys=Mt(),this.eu=uE(t),this.tu=new Ka(this.eu)}get nu(){return this.Ya}ru(t,i){const r=i?i.iu:new zv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const y=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,_=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((b,R)=>{const V=l.get(b),H=ph(this.query,R)?R:null,Z=!!V&&this.mutatedKeys.has(V.key),W=!!H&&(H.hasLocalMutations||this.mutatedKeys.has(H.key)&&H.hasCommittedMutations);let $=!1;V&&H?V.data.isEqual(H.data)?Z!==W&&(r.track({type:3,doc:H}),$=!0):this.su(V,H)||(r.track({type:2,doc:H}),$=!0,(y&&this.eu(H,y)>0||_&&this.eu(H,_)<0)&&(g=!0)):!V&&H?(r.track({type:0,doc:H}),$=!0):V&&!H&&(r.track({type:1,doc:V}),$=!0,(y||_)&&(g=!0)),$&&(H?(d=d.add(H),c=W?c.add(b):c.delete(b)):(d=d.delete(b),c=c.delete(b)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const b=this.query.limitType==="F"?d.last():d.first();d=d.delete(b.key),c=c.delete(b.key),r.track({type:1,doc:b})}return{tu:d,iu:r,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,r,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((b,R)=>(function(H,Z){const W=$=>{switch($){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:$})}};return W(H)-W(Z)})(b.type,R.type)||this.eu(b.doc,R.doc))),this.ou(r),l=l??!1;const g=i&&!l?this._u():[],y=this.Xa.size===0&&this.current&&!l?1:0,_=y!==this.Za;return this.Za=y,d.length!==0||_?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,y===0,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Mt(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const i=[];return t.forEach((r=>{this.Xa.has(r)||i.push(new FE(r))})),this.Xa.forEach((r=>{t.has(r)||i.push(new HE(r))})),i}cu(t){this.Ya=t.Qs,this.Xa=Mt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Jm="SyncEngine";class eR{constructor(t,i,r){this.query=t,this.targetId=i,this.view=r}}class nR{constructor(t){this.key=t,this.hu=!1}}class iR{constructor(t,i,r,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=r,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((g=>lE(g)),mh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new Bm,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function sR(a,t,i=!0){const r=$E(a);let l;const c=r.Tu.get(t);return c?(r.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await GE(r,t,i,!0),l}async function rR(a,t){const i=$E(a);await GE(i,t,!0,!1)}async function GE(a,t,i,r){const l=await A2(a.localStore,wi(t)),c=l.targetId,d=a.sharedClientState.addLocalQueryTarget(c,i);let g;return r&&(g=await aR(a,t,c,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&LE(a.remoteStore,l),g}async function aR(a,t,i,r,l){a.pu=(R,V,H)=>(async function(W,$,lt,rt){let ut=$.view.ru(lt);ut.Cs&&(ut=await Vv(W.localStore,$.query,!1).then((({documents:x})=>$.view.ru(x,ut))));const Ot=rt&&rt.targetChanges.get($.targetId),jt=rt&&rt.targetMismatches.get($.targetId)!=null,wt=$.view.applyChanges(ut,W.isPrimaryClient,Ot,jt);return Fv(W,$.targetId,wt.au),wt.snapshot})(a,R,V,H);const c=await Vv(a.localStore,t,!0),d=new tR(t,c.Qs),g=d.ru(c.documents),y=Gl.createSynthesizedTargetChangeForCurrentChange(i,r&&a.onlineState!=="Offline",l),_=d.applyChanges(g,a.isPrimaryClient,y);Fv(a,i,_.au);const b=new eR(t,i,d);return a.Tu.set(t,b),a.Iu.has(i)?a.Iu.get(i).push(t):a.Iu.set(i,[t]),_.snapshot}async function oR(a,t,i){const r=Et(a),l=r.Tu.get(t),c=r.Iu.get(l.targetId);if(c.length>1)return r.Iu.set(l.targetId,c.filter((d=>!mh(d,t)))),void r.Tu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(l.targetId),r.sharedClientState.isActiveQueryTarget(l.targetId)||await fm(r.localStore,l.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(l.targetId),i&&Gm(r.remoteStore,l.targetId),pm(r,l.targetId)})).catch(ho)):(pm(r,l.targetId),await fm(r.localStore,l.targetId,!0))}async function lR(a,t){const i=Et(a),r=i.Tu.get(t),l=i.Iu.get(r.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(r.targetId),Gm(i.remoteStore,r.targetId))}async function uR(a,t,i){const r=gR(a);try{const l=await(function(d,g){const y=Et(d),_=re.now(),b=g.reduce(((H,Z)=>H.add(Z.key)),Mt());let R,V;return y.persistence.runTransaction("Locally write mutations","readwrite",(H=>{let Z=rs(),W=Mt();return y.Ns.getEntries(H,b).next(($=>{Z=$,Z.forEach(((lt,rt)=>{rt.isValidDocument()||(W=W.add(lt))}))})).next((()=>y.localDocuments.getOverlayedDocuments(H,Z))).next(($=>{R=$;const lt=[];for(const rt of g){const ut=Tw(rt,R.get(rt.key).overlayedDocument);ut!=null&&lt.push(new lr(rt.key,ut,eE(ut.value.mapValue),ti.exists(!0)))}return y.mutationQueue.addMutationBatch(H,_,lt,g)})).next(($=>{V=$;const lt=$.applyToLocalDocumentSet(R,W);return y.documentOverlayCache.saveOverlays(H,$.batchId,lt)}))})).then((()=>({batchId:V.batchId,changes:hE(R)})))})(r.localStore,t);r.sharedClientState.addPendingMutation(l.batchId),(function(d,g,y){let _=d.Vu[d.currentUser.toKey()];_||(_=new ue(Dt)),_=_.insert(g,y),d.Vu[d.currentUser.toKey()]=_})(r,l.batchId,i),await Kl(r,l.changes),await Th(r.remoteStore)}catch(l){const c=$m(l,"Failed to persist write");i.reject(c)}}async function QE(a,t){const i=Et(a);try{const r=await v2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Gt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Gt(d.hu,14607):l.removedDocuments.size>0&&(Gt(d.hu,42227),d.hu=!1))})),await Kl(i,r,t)}catch(r){await ho(r)}}function Hv(a,t,i){const r=Et(a);if(r.isPrimaryClient&&i===0||!r.isPrimaryClient&&i===1){const l=[];r.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const y=Et(d);y.onlineState=g;let _=!1;y.queries.forEach(((b,R)=>{for(const V of R.Sa)V.va(g)&&(_=!0)})),_&&Zm(y)})(r.eventManager,t),l.length&&r.Pu.H_(l),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function cR(a,t,i){const r=Et(a);r.sharedClientState.updateQueryState(t,"rejected",i);const l=r.Au.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,Je.newNoDocument(c,_t.min()));const g=Mt().add(c),y=new _h(_t.min(),new Map,new ue(Dt),d,g);await QE(r,y),r.du=r.du.remove(c),r.Au.delete(t),Wm(r)}else await fm(r.localStore,t,!1).then((()=>pm(r,t,i))).catch(ho)}async function hR(a,t){const i=Et(a),r=t.batch.batchId;try{const l=await _2(i.localStore,t);YE(i,r,null),KE(i,r),i.sharedClientState.updateMutationState(r,"acknowledged"),await Kl(i,l)}catch(l){await ho(l)}}async function fR(a,t,i){const r=Et(a);try{const l=await(function(d,g){const y=Et(d);return y.persistence.runTransaction("Reject batch","readwrite-primary",(_=>{let b;return y.mutationQueue.lookupMutationBatch(_,g).next((R=>(Gt(R!==null,37113),b=R.keys(),y.mutationQueue.removeMutationBatch(_,R)))).next((()=>y.mutationQueue.performConsistencyCheck(_))).next((()=>y.documentOverlayCache.removeOverlaysForBatchId(_,b,g))).next((()=>y.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b))).next((()=>y.localDocuments.getDocuments(_,b)))}))})(r.localStore,t);YE(r,t,i),KE(r,t),r.sharedClientState.updateMutationState(t,"rejected",i),await Kl(r,l)}catch(l){await ho(l)}}function KE(a,t){(a.mu.get(t)||[]).forEach((i=>{i.resolve()})),a.mu.delete(t)}function YE(a,t,i){const r=Et(a);let l=r.Vu[r.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),r.Vu[r.currentUser.toKey()]=l}}function pm(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const r of a.Iu.get(t))a.Tu.delete(r),i&&a.Pu.yu(r,i);a.Iu.delete(t),a.isPrimaryClient&&a.Ru.jr(t).forEach((r=>{a.Ru.containsKey(r)||XE(a,r)}))}function XE(a,t){a.Eu.delete(t.path.canonicalString());const i=a.du.get(t);i!==null&&(Gm(a.remoteStore,i),a.du=a.du.remove(t),a.Au.delete(i),Wm(a))}function Fv(a,t,i){for(const r of i)r instanceof HE?(a.Ru.addReference(r.key,t),dR(a,r)):r instanceof FE?(st(Jm,"Document no longer in limbo: "+r.key),a.Ru.removeReference(r.key,t),a.Ru.containsKey(r.key)||XE(a,r.key)):pt(19791,{wu:r})}function dR(a,t){const i=t.key,r=i.path.canonicalString();a.du.get(i)||a.Eu.has(r)||(st(Jm,"New document in limbo: "+i),a.Eu.add(r),Wm(a))}function Wm(a){for(;a.Eu.size>0&&a.du.size<a.maxConcurrentLimboResolutions;){const t=a.Eu.values().next().value;a.Eu.delete(t);const i=new dt(se.fromString(t)),r=a.fu.next();a.Au.set(r,new nR(i)),a.du=a.du.insert(i,r),LE(a.remoteStore,new Ks(wi(Vm(i.path)),r,"TargetPurposeLimboResolution",ch.ce))}}async function Kl(a,t,i){const r=Et(a),l=[],c=[],d=[];r.Tu.isEmpty()||(r.Tu.forEach(((g,y)=>{d.push(r.pu(y,t,i).then((_=>{if((_||i)&&r.isPrimaryClient){const b=_?!_.fromCache:i?.targetChanges.get(y.targetId)?.current;r.sharedClientState.updateQueryState(y.targetId,b?"current":"not-current")}if(_){l.push(_);const b=Hm.As(y.targetId,_);c.push(b)}})))})),await Promise.all(d),r.Pu.H_(l),await(async function(y,_){const b=Et(y);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(R=>X.forEach(_,(V=>X.forEach(V.Es,(H=>b.persistence.referenceDelegate.addReference(R,V.targetId,H))).next((()=>X.forEach(V.ds,(H=>b.persistence.referenceDelegate.removeReference(R,V.targetId,H)))))))))}catch(R){if(!fo(R))throw R;st(Fm,"Failed to update sequence numbers: "+R)}for(const R of _){const V=R.targetId;if(!R.fromCache){const H=b.Ms.get(V),Z=H.snapshotVersion,W=H.withLastLimboFreeSnapshotVersion(Z);b.Ms=b.Ms.insert(V,W)}}})(r.localStore,c))}async function mR(a,t){const i=Et(a);if(!i.currentUser.isEqual(t)){st(Jm,"User change. New user:",t.toKey());const r=await OE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((y=>{y.reject(new ct(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await Kl(i,r.Ls)}}function pR(a,t){const i=Et(a),r=i.Au.get(t);if(r&&r.hu)return Mt().add(r.key);{let l=Mt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function $E(a){const t=Et(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=QE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=pR.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=cR.bind(null,t),t.Pu.H_=Z2.bind(null,t.eventManager),t.Pu.yu=J2.bind(null,t.eventManager),t}function gR(a){const t=Et(a);return t.remoteStore.remoteSyncer.applySuccessfulWrite=hR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=fR.bind(null,t),t}class th{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return y2(this.persistence,new m2,t.initialUser,this.serializer)}Cu(t){return new ME(qm.mi,this.serializer)}Du(t){return new S2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}th.provider={build:()=>new th};class yR extends th{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Gt(this.persistence.referenceDelegate instanceof Jc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Ww(r,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new ME((r=>Jc.mi(r,i)),this.serializer)}}class gm{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Hv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mR.bind(null,this.syncEngine),await Q2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new Y2})()}createDatastore(t){const i=vh(t.databaseInfo.databaseId),r=(function(c){return new I2(c)})(t.databaseInfo);return(function(c,d,g,y){return new O2(c,d,g,y)})(t.authCredentials,t.appCheckCredentials,r,i)}createRemoteStore(t){return(function(r,l,c,d,g){return new k2(r,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Hv(this.syncEngine,i,0)),(function(){return Lv.v()?new Lv:new w2})())}createSyncEngine(t,i){return(function(l,c,d,g,y,_,b){const R=new iR(l,c,d,g,y,_);return b&&(R.gu=!0),R})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const r=Et(i);st(Yr,"RemoteStore shutting down."),r.Ea.add(5),await Ql(r),r.Aa.shutdown(),r.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}gm.provider={build:()=>new gm};class _R{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ss("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const rr="FirestoreClient";class vR{constructor(t,i,r,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=r,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Cm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(r,(async d=>{st(rr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(r,(d=>(st(rr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const r=$m(i,"Failed to shutdown persistence");t.reject(r)}})),t.promise}}async function Gd(a,t){a.asyncQueue.verifyOperationInProgress(),st(rr,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let r=i.initialUser;a.setCredentialChangeListener((async l=>{r.isEqual(l)||(await OE(t.localStore,l),r=l)})),t.persistence.setDatabaseDeletedListener((()=>a.terminate())),a._offlineComponents=t}async function Gv(a,t){a.asyncQueue.verifyOperationInProgress();const i=await ER(a);st(rr,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener((r=>jv(t.remoteStore,r))),a.setAppCheckTokenChangeListener(((r,l)=>jv(t.remoteStore,l))),a._onlineComponents=t}async function ER(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){st(rr,"Using user provided OfflineComponentProvider");try{await Gd(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await Gd(a,new th)}}else st(rr,"Using default OfflineComponentProvider"),await Gd(a,new yR(void 0));return a._offlineComponents}async function ZE(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(st(rr,"Using user provided OnlineComponentProvider"),await Gv(a,a._uninitializedComponentsProvider._online)):(st(rr,"Using default OnlineComponentProvider"),await Gv(a,new gm))),a._onlineComponents}function TR(a){return ZE(a).then((t=>t.syncEngine))}async function Qv(a){const t=await ZE(a),i=t.eventManager;return i.onListen=sR.bind(null,t.syncEngine),i.onUnlisten=oR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=rR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=lR.bind(null,t.syncEngine),i}function JE(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}const Kv=new Map;const WE="firestore.googleapis.com",Yv=!0;class Xv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ct(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WE,this.ssl=Yv}else this.host=t.host,this.ssl=t.ssl??Yv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=DE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Zw)throw new ct(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}kS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=JE(t.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new ct(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(r,l){return r.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ah{constructor(t,i,r,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=r,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ct(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ct(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new wS;switch(r.type){case"firstParty":return new IS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ct(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const r=Kv.get(i);r&&(st("ComponentProvider","Removing Datastore"),Kv.delete(i),r.terminate())})(this),Promise.resolve()}}function AR(a,t,i,r={}){a=es(a,Ah);const l=lo(t),c=a._getSettings(),d={...c,emulatorOptions:a._getEmulatorOptions()},g=`${t}:${i}`;l&&(x0(`https://${g}`),I0("Firestore",!0)),c.host!==WE&&c.host!==g&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y={...c,host:g,ssl:l,emulatorOptions:r};if(!ns(y,d)&&(a._setSettings(y),r.mockUserToken)){let _,b;if(typeof r.mockUserToken=="string")_=r.mockUserToken,b=Ze.MOCK_USER;else{_=$A(r.mockUserToken,a._app?.options.projectId);const R=r.mockUserToken.sub||r.mockUserToken.user_id;if(!R)throw new ct(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Ze(R)}a._authCredentials=new RS(new H0(_,b))}}class bh{constructor(t,i,r){this.converter=i,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new bh(this.firestore,t,this._query)}}class Ie{constructor(t,i,r){this.converter=i,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Js(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Ie(this.firestore,t,this._key)}toJSON(){return{type:Ie._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,r){if(Hl(i,Ie._jsonSchema))return new Ie(t,r||null,new dt(se.fromString(i.referencePath)))}}Ie._jsonSchemaVersion="firestore/documentReference/1.0",Ie._jsonSchema={type:xe("string",Ie._jsonSchemaVersion),referencePath:xe("string")};class Js extends bh{constructor(t,i,r){super(t,i,Vm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Ie(this.firestore,null,new dt(t))}withConverter(t){return new Js(this.firestore,t,this._path)}}function Qd(a,t,...i){if(a=sn(a),F0("collection","path",t),a instanceof Ah){const r=se.fromString(t,...i);return lv(r),new Js(a,null,r)}{if(!(a instanceof Ie||a instanceof Js))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(se.fromString(t,...i));return lv(r),new Js(a.firestore,null,r)}}function $e(a,t,...i){if(a=sn(a),arguments.length===1&&(t=Cm.newId()),F0("doc","path",t),a instanceof Ah){const r=se.fromString(t,...i);return ov(r),new Ie(a,null,new dt(r))}{if(!(a instanceof Ie||a instanceof Js))throw new ct(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=a._path.child(se.fromString(t,...i));return ov(r),new Ie(a.firestore,a instanceof Js?a.converter:null,new dt(r))}}const $v="AsyncQueue";class Zv{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new kE(this,"async_queue_retry"),this._c=()=>{const r=Fd();r&&st($v,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=t;const i=Fd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Fd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Hr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!fo(t))throw t;st($v,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((r=>{throw this.nc=r,this.rc=!1,ss("INTERNAL UNHANDLED ERROR: ",Jv(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=i,i}enqueueAfterDelay(t,i,r){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=Xm.createAndSchedule(this,t,i,r,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:Jv(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,r)=>i.targetTimeMs-r.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function Jv(a){let t=a.message||"";return a.stack&&(t=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),t}function Wv(a){return(function(i,r){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of r)if(c in l&&typeof l[c]=="function")return!0;return!1})(a,["next","error","complete"])}class oo extends Ah{constructor(t,i,r,l){super(t,i,r,l),this.type="firestore",this._queue=new Zv,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Zv(t),this._firestoreClient=void 0,await t}}}function bR(a,t){const i=typeof a=="object"?a:O0(),r=typeof a=="string"?a:Qc,l=wm(i,"firestore").getImmediate({identifier:r});if(!l._initialized){const c=YA("firestore");c&&AR(l,...c)}return l}function t1(a){if(a._terminated)throw new ct(J.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||SR(a),a._firestoreClient}function SR(a){const t=a._freezeSettings(),i=(function(l,c,d,g){return new QS(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,JE(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(a._databaseId,a._app?.options.appId||"",a._persistenceKey,t);a._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(a._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),a._firestoreClient=new vR(a._authCredentials,a._appCheckCredentials,a._queue,i,a._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(a._componentsProvider))}class Pn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Pn(Ke.fromBase64String(t))}catch(i){throw new ct(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Pn(Ke.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Pn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,Pn._jsonSchema))return Pn.fromBase64String(t.bytes)}}Pn._jsonSchemaVersion="firestore/bytes/1.0",Pn._jsonSchema={type:xe("string",Pn._jsonSchemaVersion),bytes:xe("string")};class Sh{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ct(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qe(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class po{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ct(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ct(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:xe("string",Ci._jsonSchemaVersion),latitude:xe("number"),longitude:xe("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(r,l){if(r.length!==l.length)return!1;for(let c=0;c<r.length;++c)if(r[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new ct(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:xe("string",xi._jsonSchemaVersion),vectorValues:xe("object")};const wR=/^__.*__$/;class RR{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return this.fieldMask!==null?new lr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class e1{constructor(t,i,r){this.data=t,this.fieldMask=i,this.fieldTransforms=r}toMutation(t,i){return new lr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function n1(a){switch(a){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:a})}}class wh{constructor(t,i,r,l,c,d){this.settings=t,this.databaseId=i,this.serializer=r,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new wh({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.gc(t),r}yc(t){const i=this.path?.child(t),r=this.Vc({path:i,fc:!1});return r.Rc(),r}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return eh(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(n1(this.Ac)&&wR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class CR{constructor(t,i,r){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=r||vh(t)}Cc(t,i,r,l=!1){return new wh({Ac:t,methodName:i,Dc:r,path:Qe.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function i1(a){const t=a._freezeSettings(),i=vh(a._databaseId);return new CR(a._databaseId,!!t.ignoreUndefinedProperties,i)}function xR(a,t,i,r,l,c={}){const d=a.Cc(c.merge||c.mergeFields?2:0,t,i,l);ip("Data must be an object, but it was:",d,r);const g=r1(r,d);let y,_;if(c.merge)y=new Sn(d.fieldMask),_=d.fieldTransforms;else if(c.mergeFields){const b=[];for(const R of c.mergeFields){const V=ym(t,R,i);if(!d.contains(V))throw new ct(J.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);o1(b,V)||b.push(V)}y=new Sn(b),_=d.fieldTransforms.filter((R=>y.covers(R.field)))}else y=null,_=d.fieldTransforms;return new RR(new dn(g),y,_)}class Rh extends po{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Rh}}function s1(a,t,i){return new wh({Ac:3,Dc:t.settings.Dc,methodName:a._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class tp extends po{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=s1(this,t,!0),r=this.vc.map((c=>go(c,i))),l=new io(r);return new Um(t.path,l)}isEqual(t){return t instanceof tp&&ns(this.vc,t.vc)}}class ep extends po{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=s1(this,t,!0),r=this.vc.map((c=>go(c,i))),l=new so(r);return new Um(t.path,l)}isEqual(t){return t instanceof ep&&ns(this.vc,t.vc)}}class np extends po{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new jl(t.serializer,mE(t.serializer,this.Fc));return new Um(t.path,i)}isEqual(t){return t instanceof np&&this.Fc===t.Fc}}function IR(a,t,i,r){const l=a.Cc(1,t,i);ip("Data must be an object, but it was:",l,r);const c=[],d=dn.empty();or(r,((y,_)=>{const b=sp(t,y,i);_=sn(_);const R=l.yc(b);if(_ instanceof Rh)c.push(b);else{const V=go(_,R);V!=null&&(c.push(b),d.set(b,V))}}));const g=new Sn(c);return new e1(d,g,l.fieldTransforms)}function NR(a,t,i,r,l,c){const d=a.Cc(1,t,i),g=[ym(t,r,i)],y=[l];if(c.length%2!=0)throw new ct(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<c.length;V+=2)g.push(ym(t,c[V])),y.push(c[V+1]);const _=[],b=dn.empty();for(let V=g.length-1;V>=0;--V)if(!o1(_,g[V])){const H=g[V];let Z=y[V];Z=sn(Z);const W=d.yc(H);if(Z instanceof Rh)_.push(H);else{const $=go(Z,W);$!=null&&(_.push(H),b.set(H,$))}}const R=new Sn(_);return new e1(b,R,d.fieldTransforms)}function go(a,t){if(a1(a=sn(a)))return ip("Unsupported field value:",t,a),r1(a,t);if(a instanceof po)return(function(r,l){if(!n1(l.Ac))throw l.Sc(`${r._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${r._methodName}() is not currently supported inside arrays`);const c=r._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(a,t),null;if(a===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),a instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(r,l){const c=[];let d=0;for(const g of r){let y=go(g,l.wc(d));y==null&&(y={nullValue:"NULL_VALUE"}),c.push(y),d++}return{arrayValue:{values:c}}})(a,t)}return(function(r,l){if((r=sn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return mE(l.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const c=re.fromDate(r);return{timestampValue:Zc(l.serializer,c)}}if(r instanceof re){const c=new re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zc(l.serializer,c)}}if(r instanceof Ci)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Pn)return{bytesValue:SE(l.serializer,r._byteString)};if(r instanceof Ie){const c=l.databaseId,d=r.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:zm(r.firestore._databaseId||l.databaseId,r._key.path)}}if(r instanceof xi)return(function(d,g){return{mapValue:{fields:{[W0]:{stringValue:tE},[Kc]:{arrayValue:{values:d.toArray().map((_=>{if(typeof _!="number")throw g.Sc("VectorValues must only contain numeric values.");return km(g.serializer,_)}))}}}}}})(r,l);throw l.Sc(`Unsupported field value: ${xm(r)}`)})(a,t)}function r1(a,t){const i={};return K0(a)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):or(a,((r,l)=>{const c=go(l,t.mc(r));c!=null&&(i[r]=c)})),{mapValue:{fields:i}}}function a1(a){return!(typeof a!="object"||a===null||a instanceof Array||a instanceof Date||a instanceof re||a instanceof Ci||a instanceof Pn||a instanceof Ie||a instanceof po||a instanceof xi)}function ip(a,t,i){if(!a1(i)||!G0(i)){const r=xm(i);throw r==="an object"?t.Sc(a+" a custom object"):t.Sc(a+" "+r)}}function ym(a,t,i){if((t=sn(t))instanceof Sh)return t._internalPath;if(typeof t=="string")return sp(a,t);throw eh("Field path arguments must be of type string or ",a,!1,void 0,i)}const DR=new RegExp("[~\\*/\\[\\]]");function sp(a,t,i){if(t.search(DR)>=0)throw eh(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a,!1,void 0,i);try{return new Sh(...t.split("."))._internalPath}catch{throw eh(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a,!1,void 0,i)}}function eh(a,t,i,r,l){const c=r&&!r.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let y="";return(c||d)&&(y+=" (found",c&&(y+=` in field ${r}`),d&&(y+=` in document ${l}`),y+=")"),new ct(J.INVALID_ARGUMENT,g+a+y)}function o1(a,t){return a.some((i=>i.isEqual(t)))}class l1{constructor(t,i,r,l,c){this._firestore=t,this._userDataWriter=i,this._key=r,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Ie(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new MR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(u1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class MR extends l1{data(){return super.data()}}function u1(a,t){return typeof t=="string"?sp(a,t):t instanceof Sh?t._internalPath:t._delegate._internalPath}function OR(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ct(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class VR{convertValue(t,i="none"){switch(ir(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(nr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const r={};return or(t,((l,c)=>{r[l]=this.convertValue(c,i)})),r}convertVectorValue(t){const i=t.fields?.[Kc].arrayValue?.values?.map((r=>ye(r.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Ci(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((r=>this.convertValue(r,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const r=fh(t);return r==null?null:this.convertValue(r,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=er(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const r=se.fromString(t);Gt(NE(r),9688,{name:t});const l=new Ll(r.get(1),r.get(3)),c=new dt(r.popFirst(5));return l.isEqual(i)||ss(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function kR(a,t,i){let r;return r=a?i&&(i.merge||i.mergeFields)?a.toFirestore(t,i):a.toFirestore(t):t,r}class Cl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends l1{constructor(t,i,r,l,c,d){super(t,i,r,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new Lc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const r=this._document.data.field(u1("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:xe("string",Fr._jsonSchemaVersion),bundleSource:xe("string","DocumentSnapshot"),bundleName:xe("string"),bundle:xe("string")};class Lc extends Fr{data(t={}){return super.data(t)}}class Ya{constructor(t,i,r,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Cl(l.hasPendingWrites,l.fromCache),this.query=r}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((r=>{t.call(i,new Lc(this._firestore,this._userDataWriter,r.key,r,new Cl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ct(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const y=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:y,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const y=new Lc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Cl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let _=-1,b=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),b=d.indexOf(g.doc.key)),{type:UR(g.type),doc:y,oldIndex:_,newIndex:b}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ct(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ya._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Cm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],r=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),r.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function UR(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:a})}}Ya._jsonSchemaVersion="firestore/querySnapshot/1.0",Ya._jsonSchema={type:xe("string",Ya._jsonSchemaVersion),bundleSource:xe("string","QuerySnapshot"),bundleName:xe("string"),bundle:xe("string")};class c1 extends VR{constructor(t){super(),this.firestore=t}convertBytes(t){return new Pn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Ie(this.firestore,null,i)}}function Pc(a,t,i){a=es(a,Ie);const r=es(a.firestore,oo),l=kR(a.converter,t,i);return rp(r,[xR(i1(r),"setDoc",a._key,l,a.converter!==null,i).toMutation(a._key,ti.none())])}function Jn(a,t,i,...r){a=es(a,Ie);const l=es(a.firestore,oo),c=i1(l);let d;return d=typeof(t=sn(t))=="string"||t instanceof Sh?NR(c,"updateDoc",a._key,t,i,r):IR(c,"updateDoc",a._key,t),rp(l,[d.toMutation(a._key,ti.exists(!0))])}function LR(a){return rp(es(a.firestore,oo),[new Lm(a._key,ti.none())])}function Kd(a,...t){a=sn(a);let i={includeMetadataChanges:!1,source:"default"},r=0;typeof t[r]!="object"||Wv(t[r])||(i=t[r++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(Wv(t[r])){const y=t[r];t[r]=y.next?.bind(y),t[r+1]=y.error?.bind(y),t[r+2]=y.complete?.bind(y)}let c,d,g;if(a instanceof Ie)d=es(a.firestore,oo),g=Vm(a._key.path),c={next:y=>{t[r]&&t[r](PR(d,a,y))},error:t[r+1],complete:t[r+2]};else{const y=es(a,bh);d=es(y.firestore,oo),g=y._query;const _=new c1(d);c={next:b=>{t[r]&&t[r](new Ya(d,_,y,b))},error:t[r+1],complete:t[r+2]},OR(a._query)}return(function(_,b,R,V){const H=new _R(V),Z=new W2(b,H,R);return _.asyncQueue.enqueueAndForget((async()=>X2(await Qv(_),Z))),()=>{H.Nu(),_.asyncQueue.enqueueAndForget((async()=>$2(await Qv(_),Z)))}})(t1(d),g,l,c)}function rp(a,t){return(function(r,l){const c=new Hr;return r.asyncQueue.enqueueAndForget((async()=>uR(await TR(r),l,c))),c.promise})(t1(a),t)}function PR(a,t,i){const r=i.docs.get(t._key),l=new c1(a);return new Fr(a,l,t._key,r,new Cl(i.hasPendingWrites,i.fromCache),t.converter)}function jR(...a){return new tp("arrayUnion",a)}function ap(...a){return new ep("arrayRemove",a)}function Ji(a){return new np("increment",a)}(function(t,i=!0){(function(l){co=l})(uo),Ja(new Qr("firestore",((r,{instanceIdentifier:l,options:c})=>{const d=r.getProvider("app").getImmediate(),g=new oo(new CS(r.getProvider("auth-internal")),new NS(d,r.getProvider("app-check-internal")),(function(_,b){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new ct(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(_.options.projectId,b)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(iv,sv,t),$s(iv,sv,"esm2020")})();function h1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const zR=h1,f1=new Bl("auth","Firebase",h1());const nh=new bm("@firebase/auth");function BR(a,...t){nh.logLevel<=Nt.WARN&&nh.warn(`Auth (${uo}): ${a}`,...t)}function jc(a,...t){nh.logLevel<=Nt.ERROR&&nh.error(`Auth (${uo}): ${a}`,...t)}function as(a,...t){throw op(a,...t)}function Ii(a,...t){return op(a,...t)}function d1(a,t,i){const r={...zR(),[t]:i};return new Bl("auth","Firebase",r).create(t,{appName:a.name})}function Ws(a){return d1(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function op(a,...t){if(typeof a!="string"){const i=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=a.name),a._errorFactory.create(i,...r)}return f1.create(a,...t)}function yt(a,t,...i){if(!a)throw op(t,...i)}function Wi(a){const t="INTERNAL ASSERTION FAILED: "+a;throw jc(t),new Error(t)}function os(a,t){a||Wi(t)}function _m(){return typeof self<"u"&&self.location?.href||""}function qR(){return t0()==="http:"||t0()==="https:"}function t0(){return typeof self<"u"&&self.location?.protocol||null}function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qR()||nb()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}class Yl{constructor(t,i){this.shortDelay=t,this.longDelay=i,os(i>t,"Short delay should be less than long delay!"),this.isMobile=WA()||ib()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function lp(a,t){os(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class m1{static initialize(t,i,r){this.fetchImpl=t,i&&(this.headersImpl=i),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Wi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Wi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Wi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const QR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],KR=new Yl(3e4,6e4);function Ch(a,t){return a.tenantId&&!t.tenantId?{...t,tenantId:a.tenantId}:t}async function yo(a,t,i,r,l={}){return p1(a,l,async()=>{let c={},d={};r&&(t==="GET"?d=r:c={body:JSON.stringify(r)});const g=ql({key:a.config.apiKey,...d}).slice(1),y=await a._getAdditionalHeaders();y["Content-Type"]="application/json",a.languageCode&&(y["X-Firebase-Locale"]=a.languageCode);const _={method:t,headers:y,...c};return eb()||(_.referrerPolicy="no-referrer"),a.emulatorConfig&&lo(a.emulatorConfig.host)&&(_.credentials="include"),m1.fetch()(await y1(a,a.config.apiHost,i,g),_)})}async function p1(a,t,i){a._canInitEmulator=!1;const r={...GR,...t};try{const l=new YR(a),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Dc(a,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[y,_]=g.split(" : ");if(y==="FEDERATED_USER_ID_ALREADY_LINKED")throw Dc(a,"credential-already-in-use",d);if(y==="EMAIL_EXISTS")throw Dc(a,"email-already-in-use",d);if(y==="USER_DISABLED")throw Dc(a,"user-disabled",d);const b=r[y]||y.toLowerCase().replace(/[_\s]+/g,"-");if(_)throw d1(a,b,_);as(a,b)}}catch(l){if(l instanceof ls)throw l;as(a,"network-request-failed",{message:String(l)})}}async function g1(a,t,i,r,l={}){const c=await yo(a,t,i,r,l);return"mfaPendingCredential"in c&&as(a,"multi-factor-auth-required",{_serverResponse:c}),c}async function y1(a,t,i,r){const l=`${t}${i}?${r}`,c=a,d=c.config.emulator?lp(a.config,l):`${a.config.apiScheme}://${l}`;return QR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class YR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),KR.get())})}}function Dc(a,t,i){const r={appName:a.name};i.email&&(r.email=i.email),i.phoneNumber&&(r.phoneNumber=i.phoneNumber);const l=Ii(a,t,r);return l.customData._tokenResponse=i,l}async function XR(a,t){return yo(a,"POST","/v1/accounts:delete",t)}async function ih(a,t){return yo(a,"POST","/v1/accounts:lookup",t)}function Ol(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function $R(a,t=!1){const i=sn(a),r=await i.getIdToken(t),l=up(r);yt(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:r,authTime:Ol(Yd(l.auth_time)),issuedAtTime:Ol(Yd(l.iat)),expirationTime:Ol(Yd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Yd(a){return Number(a)*1e3}function up(a){const[t,i,r]=a.split(".");if(t===void 0||i===void 0||r===void 0)return jc("JWT malformed, contained fewer than 3 sections"),null;try{const l=S0(i);return l?JSON.parse(l):(jc("Failed to decode base64 JWT payload"),null)}catch(l){return jc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function e0(a){const t=up(a);return yt(t,"internal-error"),yt(typeof t.exp<"u","internal-error"),yt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(a,t,i=!1){if(i)return t;try{return await t}catch(r){throw r instanceof ls&&ZR(r)&&a.auth.currentUser===a&&await a.auth.signOut(),r}}function ZR({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}class JR{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class vm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ol(this.lastLoginAt),this.creationTime=Ol(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function sh(a){const t=a.auth,i=await a.getIdToken(),r=await zl(a,ih(t,{idToken:i}));yt(r?.users.length,t,"internal-error");const l=r.users[0];a._notifyReloadListener(l);const c=l.providerUserInfo?.length?_1(l.providerUserInfo):[],d=tC(a.providerData,c),g=a.isAnonymous,y=!(a.email&&l.passwordHash)&&!d?.length,_=g?y:!1,b={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:_};Object.assign(a,b)}async function WR(a){const t=sn(a);await sh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function tC(a,t){return[...a.filter(r=>!t.some(l=>l.providerId===r.providerId)),...t]}function _1(a){return a.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function eC(a,t){const i=await p1(a,{},async()=>{const r=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=a.config,d=await y1(a,l,"/v1/token",`key=${c}`),g=await a._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const y={method:"POST",headers:g,body:r};return a.emulatorConfig&&lo(a.emulatorConfig.host)&&(y.credentials="include"),m1.fetch()(d,y)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function nC(a,t){return yo(a,"POST","/v2/accounts:revokeToken",Ch(a,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){yt(t.idToken,"internal-error"),yt(typeof t.idToken<"u","internal-error"),yt(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):e0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){yt(t.length!==0,"internal-error");const i=e0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(yt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:r,refreshToken:l,expiresIn:c}=await eC(t,i);this.updateTokensAndExpiration(r,l,Number(c))}updateTokensAndExpiration(t,i,r){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,i){const{refreshToken:r,accessToken:l,expirationTime:c}=i,d=new Xa;return r&&(yt(typeof r=="string","internal-error",{appName:t}),d.refreshToken=r),l&&(yt(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(yt(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Wi("not implemented")}}function qs(a,t){yt(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class Wn{constructor({uid:t,auth:i,stsTokenManager:r,...l}){this.providerId="firebase",this.proactiveRefresh=new JR(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new vm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return yt(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return $R(this,t)}reload(){return WR(this)}_assign(t){this!==t&&(yt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new Wn({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){yt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),i&&await sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Ws(this.auth));const t=await this.getIdToken();return await zl(this,XR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const r=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,y=i._redirectEventId??void 0,_=i.createdAt??void 0,b=i.lastLoginAt??void 0,{uid:R,emailVerified:V,isAnonymous:H,providerData:Z,stsTokenManager:W}=i;yt(R&&W,t,"internal-error");const $=Xa.fromJSON(this.name,W);yt(typeof R=="string",t,"internal-error"),qs(r,t.name),qs(l,t.name),yt(typeof V=="boolean",t,"internal-error"),yt(typeof H=="boolean",t,"internal-error"),qs(c,t.name),qs(d,t.name),qs(g,t.name),qs(y,t.name),qs(_,t.name),qs(b,t.name);const lt=new Wn({uid:R,auth:t,email:l,emailVerified:V,displayName:r,isAnonymous:H,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:$,createdAt:_,lastLoginAt:b});return Z&&Array.isArray(Z)&&(lt.providerData=Z.map(rt=>({...rt}))),y&&(lt._redirectEventId=y),lt}static async _fromIdTokenResponse(t,i,r=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new Wn({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:r});return await sh(c),c}static async _fromGetAccountInfoResponse(t,i,r){const l=i.users[0];yt(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?_1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(r);const y=new Wn({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new vm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(y,_),y}}const n0=new Map;function ts(a){os(a instanceof Function,"Expected a class definition");let t=n0.get(a);return t?(os(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,n0.set(a,t),t)}class v1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}v1.type="NONE";const i0=v1;function zc(a,t,i){return`firebase:${a}:${t}:${i}`}class $a{constructor(t,i,r){this.persistence=t,this.auth=i,this.userKey=r;const{config:l,name:c}=this.auth;this.fullUserKey=zc(this.userKey,l.apiKey,c),this.fullPersistenceKey=zc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ih(this.auth,{idToken:t}).catch(()=>{});return i?Wn._fromGetAccountInfoResponse(this.auth,i,t):null}return Wn._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,r="authUser"){if(!i.length)return new $a(ts(i0),t,r);const l=(await Promise.all(i.map(async _=>{if(await _._isAvailable())return _}))).filter(_=>_);let c=l[0]||ts(i0);const d=zc(r,t.config.apiKey,t.name);let g=null;for(const _ of i)try{const b=await _._get(d);if(b){let R;if(typeof b=="string"){const V=await ih(t,{idToken:b}).catch(()=>{});if(!V)break;R=await Wn._fromGetAccountInfoResponse(t,V,b)}else R=Wn._fromJSON(t,b);_!==c&&(g=R),c=_;break}}catch{}const y=l.filter(_=>_._shouldAllowMigration);return!c._shouldAllowMigration||!y.length?new $a(c,t,r):(c=y[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async _=>{if(_!==c)try{await _._remove(d)}catch{}})),new $a(c,t,r))}}function s0(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(E1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(w1(t))return"Blackberry";if(R1(t))return"Webos";if(T1(t))return"Safari";if((t.includes("chrome/")||A1(t))&&!t.includes("edge/"))return"Chrome";if(S1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=a.match(i);if(r?.length===2)return r[1]}return"Other"}function E1(a=We()){return/firefox\//i.test(a)}function T1(a=We()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function A1(a=We()){return/crios\//i.test(a)}function b1(a=We()){return/iemobile/i.test(a)}function S1(a=We()){return/android/i.test(a)}function w1(a=We()){return/blackberry/i.test(a)}function R1(a=We()){return/webos/i.test(a)}function cp(a=We()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function iC(a=We()){return cp(a)&&!!window.navigator?.standalone}function sC(){return sb()&&document.documentMode===10}function C1(a=We()){return cp(a)||S1(a)||R1(a)||w1(a)||/windows phone/i.test(a)||b1(a)}function x1(a,t=[]){let i;switch(a){case"Browser":i=s0(We());break;case"Worker":i=`${s0(We())}-${a}`;break;default:i=a}const r=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${uo}/${r}`}class rC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const r=c=>new Promise((d,g)=>{try{const y=t(c);d(y)}catch(y){g(y)}});r.onAbort=i,this.queue.push(r);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const r of this.queue)await r(t),r.onAbort&&i.push(r.onAbort)}catch(r){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function aC(a,t={}){return yo(a,"GET","/v2/passwordPolicy",Ch(a,t))}const oC=6;class lC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??oC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const r=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;r&&(i.meetsMinPasswordLength=t.length>=r),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let r;for(let l=0;l<t.length;l++)r=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(t,i,r,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class uC{constructor(t,i,r,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=r,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new r0(this),this.idTokenSubscription=new r0(this),this.beforeStateQueue=new rC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=f1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=ts(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ih(this,{idToken:t}),r=await Wn._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(r)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=r?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(r=g.user,l=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(r)}catch(c){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return yt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await sh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Ws(this));const i=t?sn(t):null;return i&&yt(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&yt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Ws(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Ws(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await aC(this),i=new lC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,r){return this.registerStateListener(this.authStateSubscription,t,i,r)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,r){return this.registerStateListener(this.idTokenSubscription,t,i,r)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const r=this.onAuthStateChanged(()=>{r(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(r.tenantId=this.tenantId),await nC(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const r=await this.getOrInitRedirectPersistenceManager(i);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&ts(t)||this._popupRedirectResolver;yt(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[ts(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,r,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(yt(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const y=t.addObserver(i,r,l);return()=>{d=!0,y()}}else{const y=t.addObserver(i);return()=>{d=!0,y()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return yt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=x1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function xh(a){return sn(a)}class r0{constructor(t){this.auth=t,this.observer=null,this.addObserver=fb(i=>this.observer=i)}get next(){return yt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let hp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function cC(a){hp=a}function hC(a){return hp.loadJS(a)}function fC(){return hp.gapiScript}function dC(a){return`__${a}${Math.floor(Math.random()*1e6)}`}function mC(a,t){const i=wm(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ns(c,t??{}))return l;as(l,"already-initialized")}return i.initialize({options:t})}function pC(a,t){const i=t?.persistence||[],r=(Array.isArray(i)?i:[i]).map(ts);t?.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(r,t?.popupRedirectResolver)}function gC(a,t,i){const r=xh(a);yt(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const l=!1,c=I1(t),{host:d,port:g}=yC(t),y=g===null?"":`:${g}`,_={url:`${c}//${d}${y}/`},b=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!r._canInitEmulator){yt(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),yt(ns(_,r.config.emulator)&&ns(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=_,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,lo(d)?(x0(`${c}//${d}${y}`),I0("Auth",!0)):_C()}function I1(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function yC(a){const t=I1(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const r=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(r);if(l){const c=l[1];return{host:c,port:a0(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:a0(d)}}}function a0(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function _C(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}class N1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Wi("not implemented")}_getIdTokenResponse(t){return Wi("not implemented")}_linkToIdToken(t,i){return Wi("not implemented")}_getReauthenticationResolver(t){return Wi("not implemented")}}async function Za(a,t){return g1(a,"POST","/v1/accounts:signInWithIdp",Ch(a,t))}const vC="http://localhost";class Xr extends N1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):as("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:l,...c}=i;if(!r||!l)return null;const d=new Xr(r,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Za(t,i)}_linkToIdToken(t,i){const r=this.buildRequest();return r.idToken=i,Za(t,r)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Za(t,i)}buildRequest(){const t={requestUri:vC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class D1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Xl extends D1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hs extends Xl{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hs.credential(t.oauthAccessToken)}catch{return null}}}Hs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hs.PROVIDER_ID="facebook.com";class Fs extends Xl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:r}=t;if(!i&&!r)return null;try{return Fs.credential(i,r)}catch{return null}}}Fs.GOOGLE_SIGN_IN_METHOD="google.com";Fs.PROVIDER_ID="google.com";class Gs extends Xl{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gs.credential(t.oauthAccessToken)}catch{return null}}}Gs.GITHUB_SIGN_IN_METHOD="github.com";Gs.PROVIDER_ID="github.com";class Qs extends Xl{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:Qs.PROVIDER_ID,signInMethod:Qs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Qs.credentialFromTaggedObject(t)}static credentialFromError(t){return Qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:r}=t;if(!i||!r)return null;try{return Qs.credential(i,r)}catch{return null}}}Qs.TWITTER_SIGN_IN_METHOD="twitter.com";Qs.PROVIDER_ID="twitter.com";async function EC(a,t){return g1(a,"POST","/v1/accounts:signUp",Ch(a,t))}class ar{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,r,l=!1){const c=await Wn._fromIdTokenResponse(t,r,l),d=o0(r);return new ar({user:c,providerId:d,_tokenResponse:r,operationType:i})}static async _forOperation(t,i,r){await t._updateTokensIfNecessary(r,!0);const l=o0(r);return new ar({user:t,providerId:l,_tokenResponse:r,operationType:i})}}function o0(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}async function TC(a){if(Zn(a.app))return Promise.reject(Ws(a));const t=xh(a);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ar({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await EC(t,{returnSecureToken:!0}),r=await ar._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(r.user),r}class rh extends ls{constructor(t,i,r,l){super(i.code,i.message),this.operationType=r,this.user=l,Object.setPrototypeOf(this,rh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,i,r,l){return new rh(t,i,r,l)}}function M1(a,t,i,r){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?rh._fromErrorAndOperation(a,c,t,r):c})}async function AC(a,t,i=!1){const r=await zl(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return ar._forOperation(a,"link",r)}async function bC(a,t,i=!1){const{auth:r}=a;if(Zn(r.app))return Promise.reject(Ws(r));const l="reauthenticate";try{const c=await zl(a,M1(r,l,t,a),i);yt(c.idToken,r,"internal-error");const d=up(c.idToken);yt(d,r,"internal-error");const{sub:g}=d;return yt(a.uid===g,r,"user-mismatch"),ar._forOperation(a,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&as(r,"user-mismatch"),c}}async function SC(a,t,i=!1){if(Zn(a.app))return Promise.reject(Ws(a));const r="signIn",l=await M1(a,r,t),c=await ar._fromIdTokenResponse(a,r,l);return i||await a._updateCurrentUser(c.user),c}function wC(a,t,i,r){return sn(a).onIdTokenChanged(t,i,r)}function RC(a,t,i){return sn(a).beforeAuthStateChanged(t,i)}const ah="__sak";class O1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const CC=1e3,xC=10;class V1 extends O1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=C1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const r=this.storage.getItem(i),l=this.localCache[i];r!==l&&t(i,l,r)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,y)=>{this.notifyListeners(d,y)});return}const r=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(r);!i&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);sC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,xC):l()}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:r}),!0)})},CC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}V1.type="LOCAL";const IC=V1;class k1 extends O1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}k1.type="SESSION";const U1=k1;function NC(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Ih{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const r=new Ih(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:r,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:r,eventType:l});const g=Array.from(d).map(async _=>_(i.origin,c)),y=await NC(g);i.ports[0].postMessage({status:"done",eventId:r,eventType:l,response:y})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ih.receivers=[];function fp(a="",t=10){let i="";for(let r=0;r<t;r++)i+=Math.floor(Math.random()*10);return a+i}class DC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,r=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,y)=>{const _=fp("",20);l.port1.start();const b=setTimeout(()=>{y(new Error("unsupported_event"))},r);d={messageChannel:l,onMessage(R){const V=R;if(V.data.eventId===_)switch(V.data.status){case"ack":clearTimeout(b),c=setTimeout(()=>{y(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(V.data.response);break;default:clearTimeout(b),clearTimeout(c),y(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:_,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function MC(a){Ni().location.href=a}function L1(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function OC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function VC(){return navigator?.serviceWorker?.controller||null}function kC(){return L1()?self:null}const P1="firebaseLocalStorageDb",UC=1,oh="firebaseLocalStorage",j1="fbase_key";class $l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Nh(a,t){return a.transaction([oh],t?"readwrite":"readonly").objectStore(oh)}function LC(){const a=indexedDB.deleteDatabase(P1);return new $l(a).toPromise()}function Em(){const a=indexedDB.open(P1,UC);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const r=a.result;try{r.createObjectStore(oh,{keyPath:j1})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const r=a.result;r.objectStoreNames.contains(oh)?t(r):(r.close(),await LC(),t(await Em()))})})}async function l0(a,t,i){const r=Nh(a,!0).put({[j1]:t,value:i});return new $l(r).toPromise()}async function PC(a,t){const i=Nh(a,!1).get(t),r=await new $l(i).toPromise();return r===void 0?null:r.value}function u0(a,t){const i=Nh(a,!0).delete(t);return new $l(i).toPromise()}const jC=800,zC=3;class z1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Em(),this.db)}async _withRetries(t){let i=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(i++>zC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return L1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ih._getInstance(kC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await OC(),!this.activeServiceWorker)return;this.sender=new DC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||VC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Em();return await l0(t,ah,"1"),await u0(t,ah),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(r=>l0(r,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(r=>PC(r,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>u0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=Nh(l,!1).getAll();return new $l(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],r=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)r.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!r.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const r=this.listeners[t];if(r)for(const l of Array.from(r))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),jC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}z1.type="LOCAL";const BC=z1;new Yl(3e4,6e4);function qC(a,t){return t?ts(t):(yt(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}class dp extends N1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Za(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Za(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Za(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function HC(a){return SC(a.auth,new dp(a),a.bypassAuthState)}function FC(a){const{auth:t,user:i}=a;return yt(i,t,"internal-error"),bC(i,new dp(a),a.bypassAuthState)}async function GC(a){const{auth:t,user:i}=a;return yt(i,t,"internal-error"),AC(i,new dp(a),a.bypassAuthState)}class B1{constructor(t,i,r,l,c=!1){this.auth=t,this.resolver=r,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:r,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const y={auth:this.auth,requestUri:i,sessionId:r,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(y))}catch(_){this.reject(_)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return HC;case"linkViaPopup":case"linkViaRedirect":return GC;case"reauthViaPopup":case"reauthViaRedirect":return FC;default:as(this.auth,"internal-error")}}resolve(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){os(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const QC=new Yl(2e3,1e4);class Qa extends B1{constructor(t,i,r,l,c){super(t,i,l,c),this.provider=r,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return yt(t,this.auth,"internal-error"),t}async onExecution(){os(this.filter.length===1,"Popup operations only handle one event");const t=fp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,QC.get())};t()}}Qa.currentPopupAction=null;const KC="pendingRedirect",Bc=new Map;class YC extends B1{constructor(t,i,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,r),this.eventId=null}async execute(){let t=Bc.get(this.auth._key());if(!t){try{const r=await XC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(i){t=()=>Promise.reject(i)}Bc.set(this.auth._key(),t)}return this.bypassAuthState||Bc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function XC(a,t){const i=JC(t),r=ZC(a);if(!await r._isAvailable())return!1;const l=await r._get(i)==="true";return await r._remove(i),l}function $C(a,t){Bc.set(a._key(),t)}function ZC(a){return ts(a._redirectPersistence)}function JC(a){return zc(KC,a.config.apiKey,a.name)}async function WC(a,t,i=!1){if(Zn(a.app))return Promise.reject(Ws(a));const r=xh(a),l=qC(r,t),d=await new YC(r,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,t)),d}const tx=600*1e3;class ex{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(i=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nx(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!q1(t)){const r=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,r))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const r=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=tx&&this.cachedEventUids.clear(),this.cachedEventUids.has(c0(t))}saveEventToCache(t){this.cachedEventUids.add(c0(t)),this.lastProcessedEventTime=Date.now()}}function c0(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function q1({type:a,error:t}){return a==="unknown"&&t?.code==="auth/no-auth-event"}function nx(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return q1(a);default:return!1}}async function ix(a,t={}){return yo(a,"GET","/v1/projects",t)}const sx=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rx=/^https?/;async function ax(a){if(a.config.emulator)return;const{authorizedDomains:t}=await ix(a);for(const i of t)try{if(ox(i))return}catch{}as(a,"unauthorized-domain")}function ox(a){const t=_m(),{protocol:i,hostname:r}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&r===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===r}if(!rx.test(i))return!1;if(sx.test(a))return r===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(r)}const lx=new Yl(3e4,6e4);function h0(){const a=Ni().___jsl;if(a?.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function ux(a){return new Promise((t,i)=>{function r(){h0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{h0(),i(Ii(a,"network-request-failed"))},timeout:lx.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)r();else{const l=dC("iframefcb");return Ni()[l]=()=>{gapi.load?r():i(Ii(a,"network-request-failed"))},hC(`${fC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw qc=null,t})}let qc=null;function cx(a){return qc=qc||ux(a),qc}const hx=new Yl(5e3,15e3),fx="__/auth/iframe",dx="emulator/auth/iframe",mx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},px=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gx(a){const t=a.config;yt(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?lp(t,dx):`https://${a.config.authDomain}/${fx}`,r={apiKey:t.apiKey,appName:a.name,v:uo},l=px.get(a.config.apiHost);l&&(r.eid=l);const c=a._getFrameworks();return c.length&&(r.fw=c.join(",")),`${i}?${ql(r).slice(1)}`}async function yx(a){const t=await cx(a),i=Ni().gapi;return yt(i,a,"internal-error"),t.open({where:document.body,url:gx(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:mx,dontclear:!0},r=>new Promise(async(l,c)=>{await r.restyle({setHideOnLeave:!1});const d=Ii(a,"network-request-failed"),g=Ni().setTimeout(()=>{c(d)},hx.get());function y(){Ni().clearTimeout(g),l(r)}r.ping(y).then(y,()=>{c(d)})}))}const _x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vx=500,Ex=600,Tx="_blank",Ax="http://localhost";class f0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function bx(a,t,i,r=vx,l=Ex){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let g="";const y={..._x,width:r.toString(),height:l.toString(),top:c,left:d},_=We().toLowerCase();i&&(g=A1(_)?Tx:i),E1(_)&&(t=t||Ax,y.scrollbars="yes");const b=Object.entries(y).reduce((V,[H,Z])=>`${V}${H}=${Z},`,"");if(iC(_)&&g!=="_self")return Sx(t||"",g),new f0(null);const R=window.open(t||"",g,b);yt(R,a,"popup-blocked");try{R.focus()}catch{}return new f0(R)}function Sx(a,t){const i=document.createElement("a");i.href=a,i.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(r)}const wx="__/auth/handler",Rx="emulator/auth/handler",Cx=encodeURIComponent("fac");async function d0(a,t,i,r,l,c){yt(a.config.authDomain,a,"auth-domain-config-required"),yt(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:r,v:uo,eventId:l};if(t instanceof D1){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",hb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[b,R]of Object.entries({}))d[b]=R}if(t instanceof Xl){const b=t.getScopes().filter(R=>R!=="");b.length>0&&(d.scopes=b.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const b of Object.keys(g))g[b]===void 0&&delete g[b];const y=await a._getAppCheckToken(),_=y?`#${Cx}=${encodeURIComponent(y)}`:"";return`${xx(a)}?${ql(g).slice(1)}${_}`}function xx({config:a}){return a.emulator?lp(a,Rx):`https://${a.authDomain}/${wx}`}const Xd="webStorageSupport";class Ix{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=U1,this._completeRedirectFn=WC,this._overrideRedirectResult=$C}async _openPopup(t,i,r,l){os(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await d0(t,i,r,_m(),l);return bx(t,c,fp())}async _openRedirect(t,i,r,l){await this._originValidation(t);const c=await d0(t,i,r,_m(),l);return MC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(os(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(t);return this.eventManagers[i]={promise:r},r.catch(()=>{delete this.eventManagers[i]}),r}async initAndGetManager(t){const i=await yx(t),r=new ex(t);return i.register("authEvent",l=>(yt(l?.authEvent,t,"invalid-auth-event"),{status:r.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=i,r}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Xd,{type:Xd},l=>{const c=l?.[0]?.[Xd];c!==void 0&&i(!!c),as(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=ax(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return C1()||T1()||cp()}}const Nx=Ix;var m0="@firebase/auth",p0="1.12.0";class Dx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(r=>{t(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){yt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Mx(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ox(a){Ja(new Qr("auth",(t,{options:i})=>{const r=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=r.options;yt(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const y={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:x1(a)},_=new uC(r,l,c,y);return pC(_,i),_},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,r)=>{t.getProvider("auth-internal").initialize()})),Ja(new Qr("auth-internal",t=>{const i=xh(t.getProvider("auth").getImmediate());return(r=>new Dx(r))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(m0,p0,Mx(a)),$s(m0,p0,"esm2020")}const Vx=300,kx=C0("authIdTokenMaxAge")||Vx;let g0=null;const Ux=a=>async t=>{const i=t&&await t.getIdTokenResult(),r=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(r&&r>kx)return;const l=i?.token;g0!==l&&(g0=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function Lx(a=O0()){const t=wm(a,"auth");if(t.isInitialized())return t.getImmediate();const i=mC(a,{popupRedirectResolver:Nx,persistence:[BC,IC,U1]}),r=C0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Ux(c.toString());RC(i,d,()=>d(i.currentUser)),wC(i,g=>d(g))}}const l=w0("auth");return l&&gC(i,`http://${l}`),i}function Px(){return document.getElementsByTagName("head")?.[0]??document}cC({loadJS(a){return new Promise((t,i)=>{const r=document.createElement("script");r.setAttribute("src",a),r.onload=t,r.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},r.type="text/javascript",r.charset="UTF-8",Px().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ox("Browser");const jx=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),zx=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,r)=>r?r.toUpperCase():i.toLowerCase()),y0=a=>{const t=zx(a);return t.charAt(0).toUpperCase()+t.slice(1)},H1=(...a)=>a.filter((t,i,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===i).join(" ").trim(),Bx=a=>{for(const t in a)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var qx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Hx=Pt.forwardRef(({color:a="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:r,className:l="",children:c,iconNode:d,...g},y)=>Pt.createElement("svg",{ref:y,...qx,width:t,height:t,stroke:a,strokeWidth:r?Number(i)*24/Number(t):i,className:H1("lucide",l),...!c&&!Bx(g)&&{"aria-hidden":"true"},...g},[...d.map(([_,b])=>Pt.createElement(_,b)),...Array.isArray(c)?c:[c]]));const Wt=(a,t)=>{const i=Pt.forwardRef(({className:r,...l},c)=>Pt.createElement(Hx,{ref:c,iconNode:t,className:H1(`lucide-${jx(y0(a))}`,`lucide-${a}`,r),...l}));return i.displayName=y0(a),i};const Fx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Gx=Wt("activity",Fx);const Qx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Kx=Wt("book-open",Qx);const Yx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m14 14-4 4",key:"rymu2i"}],["path",{d:"m10 14 4 4",key:"3sz06r"}]],Xx=Wt("calendar-x",Yx);const $x=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tm=Wt("calendar",$x);const Zx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],F1=Wt("check",Zx);const Jx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wx=Wt("circle-check-big",Jx);const tI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eI=Wt("circle-x",tI);const nI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],G1=Wt("clipboard-list",nI);const iI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],sI=Wt("dollar-sign",iI);const rI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],aI=Wt("eye-off",rI);const oI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],lI=Wt("eye",oI);const uI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],cI=Wt("heart",uI);const hI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],lh=Wt("key",hI);const fI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q1=Wt("loader-circle",fI);const dI=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],mI=Wt("log-out",dI);const pI=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],gI=Wt("medal",pI);const yI=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],_I=Wt("party-popper",yI);const vI=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],EI=Wt("shield-check",vI);const TI=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],AI=Wt("tag",TI);const bI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],SI=Wt("toggle-left",bI);const wI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],RI=Wt("toggle-right",wI);const CI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xI=Wt("trash-2",CI);const II=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],NI=Wt("trending-up",II);const DI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],K1=Wt("trophy",DI);const MI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],_0=Wt("user-check",MI);const OI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],v0=Wt("user-x",OI);const VI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Y1=Wt("users",VI);const kI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],UI=Wt("x",kI),LI={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},X1=M0(LI),bi=bR(X1),PI=Lx(X1),Gr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],E0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],T0=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."];function bn({children:a,className:t=""}){return A.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:a})}function Br({children:a,onClick:t,variant:i="primary",disabled:r=!1,className:l=""}){const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return A.jsx("button",{onClick:r?null:t,className:`${c} ${r?d.disabled:d[i]} ${l}`,disabled:r,children:a})}const $1=(a,t)=>{const i=new Date,r=new Date,[l,c]=t.split(":").map(Number);let d=(a-i.getDay()+7)%7;if(d===0){const y=i.getHours()*60+i.getMinutes(),_=l*60+c;y>_&&(d=7)}return r.setDate(i.getDate()+d),r.setHours(l,c,0,0),(r-i)/(1e3*60*60)},Z1=(a,t)=>{const i=new Date,r=i.getDay(),[l,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),g=l*60+c;return r>a||r===a&&d>=g},J1=(a=null)=>{let t=Gr;return a&&(t=Gr.filter(r=>r.teacher.toUpperCase()===a.toUpperCase())),t.length===0?null:t.map(r=>({...r,diff:$1(r.dayIdx,r.time)})).sort((r,l)=>r.diff-l.diff)[0]},mp=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function W1({onClose:a,onSave:t}){const[i,r]=Pt.useState(""),[l,c]=Pt.useState(!1),d=async()=>{if(i.trim()){c(!0);try{await t(i)&&a()}catch(g){console.error("Error modal pass:",g)}finally{c(!1)}}};return A.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[600] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#369EAD] animate-in zoom-in font-sans text-center",children:[A.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Cambiar mi contrasea"}),A.jsx("p",{className:"text-[9px] text-gray-400 uppercase tracking-widest font-bold mb-6 italic",children:"Define una clave que puedas recordar"}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-center font-bold font-sans text-sm",placeholder:"Escribe tu nueva clave",value:i,onChange:g=>r(g.target.value)}),A.jsx(Br,{disabled:l||!i.trim(),onClick:d,className:"w-full !py-4",children:l?A.jsx(Q1,{className:"animate-spin"}):"Guardar nueva clave"}),A.jsx("button",{onClick:a,className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400 transition-colors",children:"Cancelar"})]})]})})}function jI({onLogin:a,error:t}){const[i,r]=Pt.useState(""),[l,c]=Pt.useState(""),[d,g]=Pt.useState(!1);return A.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[A.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),A.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:A.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[A.jsxs("div",{className:"text-center mb-10",children:[A.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),A.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Portal de alumnas"})]}),A.jsxs("form",{onSubmit:y=>{y.preventDefault(),a(i,l)},className:"space-y-6",children:[A.jsxs("div",{className:"space-y-1",children:[A.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),A.jsx("input",{type:"text",required:!0,placeholder:"Cdigo de estudiante",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:y=>r(y.target.value)})]}),A.jsxs("div",{className:"space-y-1 relative",children:[A.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),A.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:l,onChange:y=>c(y.target.value)}),A.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?A.jsx(aI,{size:18}):A.jsx(lI,{size:18})})]}),t&&A.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"}),A.jsx("p",{className:"text-[9px] text-center text-gray-400 uppercase tracking-widest font-bold px-4 leading-relaxed",children:"En caso de no poder ingresar, contactar a Jenny"})]})]})]})})]})}function zI({user:a,quote:t,sessions:i,sessionsData:r,onBook:l,onCancel:c,onLogout:d,onUpdatePass:g}){const[y,_]=Pt.useState(!1),b=a?.history||[],R=i.filter(Z=>b.includes(Z.id)),V=R.length>0?R[0]:null,H=mp();return A.jsxs("div",{className:"pb-20",children:[A.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-[64px] z-[50] w-full",children:A.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),A.jsxs("button",{onClick:()=>_(!0),className:"text-gray-400 hover:text-[#369EAD] text-[9px] font-sans uppercase font-bold flex items-center gap-1 tracking-widest transition-colors",children:[A.jsx(lh,{size:14}),A.jsx("span",{children:"Clave"})]})]}),A.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest transition-colors",children:[A.jsx("span",{children:"Salir"}),A.jsx(mI,{size:16})]})]})}),A.jsxs("div",{className:"max-w-6xl mx-auto px-6 pt-32 pb-10",children:[A.jsxs("div",{className:"mb-10 text-center md:text-left",children:[A.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",a.firstName,"!"]}),A.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[A.jsx(cI,{size:16,fill:"#369EAD"})," ",t]})]}),A.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[A.jsxs(bn,{className:"md:col-span-2 flex flex-col justify-between",children:[A.jsxs("div",{className:"flex justify-between items-start mb-6",children:[A.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",H]}),A.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:A.jsx(Gx,{size:24})})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[A.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases del Mes"}),A.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[A.jsx("span",{className:`text-4xl font-bold ${a.credits===0?"text-red-400":"text-[#369EAD]"}`,children:a.credits}),A.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",a.maxCredits]})]})]}),A.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[A.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),A.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[A.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:a.totalAttendance||0}),A.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),A.jsxs(bn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[A.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:A.jsx(Tm,{size:120})}),A.jsx(Tm,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),A.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),V?A.jsxs("div",{className:"animate-in fade-in duration-500",children:[A.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:V.day}),A.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:V.time}),A.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",V.teacher]})]}):A.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]})]}),A.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),A.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(Z=>{const W=b.includes(Z.id),$=r[Z.id]||{booked:0,isClosed:!1},lt=($.booked||0)>=Z.spots,rt=$.isClosed,ut=Z1(Z.dayIdx,Z.time),Ot=a.credits>0&&!W&&!lt&&!rt&&!ut;return A.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${W?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":rt||ut?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[A.jsxs("div",{className:"mb-6",children:[A.jsxs("div",{className:"flex justify-between items-start font-sans",children:[A.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:Z.day}),rt?A.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):ut?A.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),A.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:Z.time}),A.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:Z.teacher})]}),A.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[A.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[A.jsx(Y1,{size:12})," ",$.booked||0,"/",Z.spots]}),W?A.jsx("button",{onClick:()=>c(Z.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):A.jsx(Br,{onClick:()=>l(Z.id),disabled:!Ot,className:"!px-4 !py-2 !text-[9px]",children:rt?"Cerrado":ut?"Pasada":lt?"Lleno":"Reservar"})]})]},Z.id)})})]}),y&&A.jsx(W1,{onClose:()=>_(!1),onSave:g})]})}function BI({students:a,teachers:t,sessionsData:i,db:r,onLogout:l,showNotification:c}){const[d,g]=Pt.useState(!1),[y,_]=Pt.useState(!1),[b,R]=Pt.useState(null),[V,H]=Pt.useState(null),[Z,W]=Pt.useState(""),[$,lt]=Pt.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:""}),[rt,ut]=Pt.useState({id:"",name:"",password:"",role:"teacher"}),[Ot,jt]=Pt.useState(!1),[wt,x]=Pt.useState(null),[w,C]=Pt.useState(0),O=mp(),D=a.filter(S=>S.status!=="inactive"),k=J1(),I=a.filter(S=>S.history?.includes(k?.id)&&S.status!=="inactive"),ee=a.reduce((S,B)=>S+(B.monthlyPayment||0),0),fe=async(S,B)=>{if(window.confirm("Confirmar asistencia?"))try{const tt=$e(r,"alumnas",S),it=$e(r,"sesiones",B);await Jn(tt,{totalAttendance:Ji(1),history:ap(B)}),await Jn(it,{booked:Ji(-1)}),c("Asistencia confirmada")}catch(tt){console.error(tt)}},G=async(S,B,tt)=>{const it=tt==="inactive"?"active":"inactive";if(window.confirm("Cambiar estatus de este registro?"))try{await Jn($e(r,S,B),{status:it}),c("Estatus actualizado")}catch(gt){console.error(gt)}},nt=async(S,B)=>{try{await Pc($e(r,"sesiones",S),{isClosed:!B},{merge:!0}),c(B?"Clase habilitada":"Clase bloqueada por feriado")}catch{c("Error al actualizar clase","error")}},ht=async(S,B)=>{if(Z.trim())try{await Jn($e(r,S,B),{password:Z.trim()}),c("Contrasea actualizada"),R(null),H(null),W("")}catch(tt){console.error(tt)}},Vt=async S=>{S.preventDefault();const B=$.id.trim().toUpperCase();if(!(!B||!$.name||!$.password)){jt(!0);try{await Pc($e(r,"alumnas",B),{...$,id:B,name:$.name.trim().toUpperCase(),maxCredits:parseInt($.plan.split(" ")[0])||2,credits:parseInt($.plan.split(" ")[0])||2,history:[],monthlyPayment:0,totalAttendance:0,status:"active",registrationDate:new Date().toISOString()}),c("Alumna registrada"),g(!1),lt({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(tt){console.error(tt)}jt(!1)}},qt=async S=>{S.preventDefault();const B=rt.id.trim().toUpperCase();if(!(!B||!rt.name||!rt.password)){jt(!0);try{await Pc($e(r,"maestros",B),{...rt,id:B,name:rt.name.trim().toUpperCase(),status:"active"}),c("Maestro registrado"),_(!1),ut({id:"",name:"",password:"",role:"teacher"})}catch(tt){console.error(tt)}jt(!1)}};return A.jsxs("div",{className:"pb-20",children:[A.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg sticky top-[64px] z-[50] w-full border-t border-white/5",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase italic",children:"BF ADMIN"}),A.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:O})]}),A.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest transition-opacity",children:"Cerrar Sesin"})]}),A.jsxs("div",{className:"max-w-7xl mx-auto px-6 pt-32 pb-12 space-y-12",children:[A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 font-sans text-center md:text-left",children:[A.jsxs(bn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[A.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] transition-transform group-hover:rotate-6",children:A.jsx(sI,{size:28})}),A.jsxs("div",{children:[A.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",O]}),A.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",ee.toLocaleString()]})]})]}),A.jsxs(bn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[A.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm transition-transform group-hover:scale-110",children:A.jsx(K1,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto"}),A.jsxs("p",{className:"text-3xl font-bold",children:[a.reduce((S,B)=>S+(B.totalAttendance||0),0)," clases"]})]})]}),A.jsxs(bn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 lg:col-span-2",children:[A.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:A.jsx(Y1,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Activas / Staff"}),A.jsxs("p",{className:"text-3xl font-bold text-[#369EAD] font-sans",children:[D.length," Alumnas / ",t.length," Staff"]})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[A.jsxs(bn,{className:"bg-[#EBF5F6] border-[#369EAD]",children:[A.jsxs("h3",{className:"text-xl font-serif font-bold italic text-[#1A3A3E] mb-6 flex items-center gap-2",children:[A.jsx(AI,{size:20,className:"text-[#369EAD]"})," Referencia de Precios"]}),A.jsx("div",{className:"space-y-3 font-sans",children:E0.map((S,B)=>A.jsxs("div",{className:"flex justify-between items-center border-b border-[#369EAD]/10 pb-2 transition-all hover:translate-x-1",children:[A.jsx("span",{className:"text-xs font-medium text-gray-600 uppercase tracking-tight",children:S.plan}),A.jsxs("span",{className:"text-sm font-bold text-[#369EAD]",children:["$",S.price]})]},B))})]}),A.jsxs(bn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[A.jsx(_I,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),A.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),A.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 leading-relaxed px-4",children:"Cada alumna nueva es un paso ms hacia tu sueo"}),A.jsx("div",{className:"absolute -bottom-4 -right-4 opacity-5 transform rotate-12",children:A.jsx(NI,{size:120})})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs("div",{className:"lg:col-span-1 space-y-8",children:[A.jsxs(bn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-3 mb-6",children:[A.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[A.jsx(G1,{size:20})," Roster: Prxima Clase"]}),k&&A.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[9px] font-sans font-bold uppercase tracking-widest whitespace-nowrap self-start sm:self-center",children:[k.day," ",k.time]})]}),A.jsx("div",{className:"space-y-3 max-h-[300px] overflow-y-auto pr-2 custom-scrollbar",children:I.length>0?I.map(S=>A.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[A.jsx("div",{className:"flex-1",children:A.jsxs("div",{className:"flex justify-between items-start",children:[A.jsx("span",{className:"font-serif italic font-bold text-sm",children:S.name}),A.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:S.id})]})}),A.jsx("button",{onClick:()=>fe(S.id,k?.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:A.jsx(F1,{size:18})})]},S.id)):A.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas"})})]}),A.jsxs(bn,{children:[A.jsxs("h3",{className:"text-xl font-serif italic text-[#1A3A3E] mb-6 flex items-center gap-2",children:[A.jsx(Xx,{size:20,className:"text-[#369EAD]"})," Feriados"]}),A.jsx("div",{className:"space-y-4 font-sans",children:Gr.map(S=>{const B=i[S.id]?.isClosed;return A.jsxs("div",{className:"flex justify-between items-center p-3 border border-gray-50 bg-gray-50/30 rounded-sm",children:[A.jsxs("div",{children:[A.jsxs("p",{className:"text-xs font-bold",children:[S.day," ",S.time]}),A.jsx("p",{className:"text-[9px] uppercase text-[#369EAD] font-bold",children:S.teacher})]}),A.jsxs("button",{onClick:()=>nt(S.id,!!B),className:`flex items-center gap-2 px-3 py-1 rounded-full text-[9px] font-black uppercase transition-all ${B?"bg-red-100 text-red-600":"bg-green-100 text-green-600"}`,children:[B?A.jsx(SI,{size:18}):A.jsx(RI,{size:18}),B?"Bloqueado":"Abierto"]})]},S.id)})})]})]}),A.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[A.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[A.jsxs("div",{className:"p-6 border-b border-gray-50 bg-[#1A3A3E]/5 flex justify-between items-center",children:[A.jsxs("h3",{className:"font-serif font-bold italic text-[#1A3A3E] flex items-center gap-2",children:[A.jsx(EI,{size:20,className:"text-[#369EAD]"})," Staff"]}),A.jsx(Br,{onClick:()=>_(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nuevo Staff"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left",children:[A.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-4",children:"Nombre / Rol"}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Clave"}),A.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-50",children:t.map(S=>A.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${S.status==="inactive"?"opacity-40":""}`,children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("div",{className:`w-2 h-2 rounded-full ${S.role==="admin"?"bg-[#C5A059]":"bg-[#369EAD]"}`}),A.jsxs("div",{children:[A.jsx("div",{className:"font-bold font-serif italic",children:S.name}),A.jsx("div",{className:"text-[9px] uppercase font-black text-gray-400",children:S.role})]})]})}),A.jsx("td",{className:"px-6 py-4 text-center font-sans font-bold text-[#C5A059]",children:S.password}),A.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[A.jsx("button",{onClick:()=>H(S.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:A.jsx(lh,{size:16})}),A.jsx("button",{onClick:()=>G("maestros",S.id,S.status),className:`p-2 rounded-full ${S.status==="inactive"?"text-green-500":"text-red-400"}`,children:S.status==="inactive"?A.jsx(_0,{size:16}):A.jsx(v0,{size:16})})]})]},S.id))})]})})]}),A.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[A.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[A.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Alumnas"}),A.jsx(Br,{onClick:()=>g(!0),className:"!px-4 !py-2 !text-[9px]",children:"Nueva Alumna"})]}),A.jsx("div",{className:"overflow-x-auto",children:A.jsxs("table",{className:"w-full text-left",children:[A.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 font-black",children:A.jsxs("tr",{children:[A.jsx("th",{className:"px-6 py-4",children:"Nombre / ID"}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Crditos"}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Asist."}),A.jsx("th",{className:"px-6 py-4 text-center",children:"Pago"}),A.jsx("th",{className:"px-6 py-4 text-right pr-10",children:"Acciones"})]})}),A.jsx("tbody",{className:"divide-y divide-gray-50",children:a.map(S=>A.jsxs("tr",{className:`hover:bg-gray-50 text-sm ${S.status==="inactive"?"opacity-40":""}`,children:[A.jsx("td",{className:"px-6 py-4",children:A.jsxs("div",{children:[A.jsx("div",{className:"font-bold font-serif italic",children:S.name}),A.jsxs("div",{className:"text-[9px] text-gray-400 uppercase font-black",children:["ID: ",S.id,"  Pass: ",S.password]})]})}),A.jsxs("td",{className:"px-6 py-4 text-center font-sans font-bold text-[#369EAD]",children:[S.credits," / ",S.maxCredits]}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsxs("span",{className:"flex items-center justify-center gap-1 font-sans font-bold text-gray-500",children:[A.jsx(gI,{size:12,className:"text-[#C5A059]"})," ",S.totalAttendance||0]})}),A.jsx("td",{className:"px-6 py-4 text-center",children:A.jsxs("button",{onClick:()=>{x(S.id),C(S.monthlyPayment||0)},className:"font-sans font-bold text-green-600 bg-green-50 px-3 py-1 rounded text-xs transition-colors hover:bg-green-100",children:["$",S.monthlyPayment||0]})}),A.jsxs("td",{className:"px-6 py-4 text-right pr-8 space-x-1",children:[A.jsx("button",{onClick:()=>R(S.id),className:"p-2 text-gray-300 hover:text-[#C5A059]",children:A.jsx(lh,{size:16})}),A.jsx("button",{onClick:()=>G("alumnas",S.id,S.status),className:"p-2 text-gray-300 hover:text-red-400",children:S.status==="inactive"?A.jsx(_0,{size:16}):A.jsx(v0,{size:16})}),A.jsx("button",{onClick:()=>{window.confirm(`Borrar a ${S.name}?`)&&LR($e(r,"alumnas",S.id))},className:"p-2 text-red-100 hover:text-red-500",children:A.jsx(xI,{size:16})})]})]},S.id))})]})})]})]})]})]}),(d||y)&&A.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 backdrop-blur-md z-[500] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD] font-sans",children:[A.jsx("button",{onClick:()=>{g(!1),_(!1)},className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:A.jsx(UI,{size:28})}),A.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:d?"Nueva Alumna":"Nuevo Maestro"}),A.jsxs("form",{onSubmit:d?Vt:qt,className:"space-y-6",children:[A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsx("input",{type:"text",required:!0,placeholder:"ID",className:"p-4 bg-gray-50 outline-none uppercase text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:d?$.id:rt.id,onChange:S=>d?lt({...$,id:S.target.value}):ut({...rt,id:S.target.value})}),A.jsx("input",{type:"text",required:!0,placeholder:"CONTRASEA",className:"p-4 bg-gray-50 outline-none text-xs font-bold border-b border-gray-100 focus:border-[#369EAD]",value:d?$.password:rt.password,onChange:S=>d?lt({...$,password:S.target.value}):ut({...rt,password:S.target.value})})]}),A.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE COMPLETO",className:"w-full p-4 bg-gray-50 outline-none uppercase text-xs font-serif italic border-b border-gray-100 focus:border-[#369EAD]",value:d?$.name:rt.name,onChange:S=>d?lt({...$,name:S.target.value}):ut({...rt,name:S.target.value})}),d&&A.jsx("select",{className:"w-full p-4 bg-gray-50 outline-none text-xs border-b border-gray-100 focus:border-[#369EAD]",value:$.plan,onChange:S=>lt({...$,plan:S.target.value}),children:E0.map((S,B)=>A.jsx("option",{value:S.plan,children:S.plan},B))}),A.jsx(Br,{disabled:Ot,className:"w-full !py-4 font-bold",children:Ot?A.jsx(Q1,{className:"animate-spin"}):"Guardar Registro"})]})]})}),(b||V)&&typeof b=="string"&&A.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 z-[500] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm text-center font-sans border-t-8 border-[#C5A059] shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-serif italic mb-6",children:"Actualizar Clave"}),A.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 outline-none text-center font-bold mb-6 border-b border-gray-100",placeholder:"Nueva Clave",value:Z,onChange:S=>W(S.target.value)}),A.jsx(Br,{onClick:()=>ht(b?"alumnas":"maestros",b||V),className:"w-full mb-2",children:"Guardar"}),A.jsx("button",{onClick:()=>{R(null),H(null)},className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400",children:"Cancelar"})]})}),wt&&A.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/90 z-[500] flex items-center justify-center p-4",children:A.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm text-center font-sans border-t-8 border-green-500 shadow-2xl",children:[A.jsx("h3",{className:"text-xl font-serif italic mb-6",children:"Registrar Pago"}),A.jsx("input",{type:"number",className:"w-full p-4 bg-gray-50 outline-none text-center font-bold mb-6 border-b border-gray-100",value:w,onChange:S=>C(S.target.value)}),A.jsx(Br,{onClick:async()=>{try{await Jn($e(r,"alumnas",wt),{monthlyPayment:parseFloat(w)}),c("Pago registrado"),x(null)}catch{}},className:"w-full mb-2",children:"Confirmar"}),A.jsx("button",{onClick:()=>x(null),className:"text-[10px] uppercase font-bold text-gray-300 hover:text-red-400 transition-colors",children:"Cerrar"})]})})]})}function qI({user:a,students:t,sessionsData:i,db:r,onLogout:l,showNotification:c,onUpdatePass:d}){const[g,y]=Pt.useState(!1);mp();const _=Gr.filter(H=>H.teacher.toUpperCase()===a.firstName.toUpperCase()),b=J1(a.firstName),R=t.filter(H=>H.history?.includes(b?.id)&&H.status!=="inactive"),V=async(H,Z)=>{if(window.confirm("Confirmar asistencia?"))try{const W=$e(r,"alumnas",H),$=$e(r,"sesiones",Z);await Jn(W,{totalAttendance:Ji(1),history:ap(Z)}),await Jn($,{booked:Ji(-1)}),c("Asistencia marcada")}catch(W){console.error(W)}};return A.jsxs("div",{className:"pb-20",children:[A.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg sticky top-[64px] z-[50] font-sans w-full border-t border-white/5",children:[A.jsxs("div",{className:"flex items-center gap-4",children:[A.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Staff"}),A.jsxs("button",{onClick:()=>y(!0),className:"bg-white/10 hover:bg-white/20 px-3 py-1 rounded text-[8px] font-sans font-black uppercase tracking-widest flex items-center gap-1 transition-colors",children:[A.jsx(lh,{size:10}),A.jsx("span",{children:"Mi Clave"})]})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:a.firstName}),A.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest transition-opacity",children:"Cerrar Sesin"})]})]}),A.jsxs("div",{className:"max-w-7xl mx-auto px-6 pt-32 py-12 space-y-12",children:[A.jsxs("div",{className:"mb-10 text-center md:text-left",children:[A.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",a.firstName,"!"]}),A.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Maestra de Ballet Fit"})]}),A.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[A.jsxs(bn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[A.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:A.jsx(Kx,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Disciplina"}),A.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),A.jsxs(bn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[A.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:A.jsx(K1,{size:28})}),A.jsxs("div",{children:[A.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Enseanza"}),A.jsx("p",{className:"text-3xl font-bold text-[#369EAD] font-sans",children:"Enseando este mes"})]})]})]}),A.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[A.jsxs(bn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[A.jsxs("div",{className:"flex flex-col sm:flex-row justify-between sm:items-center gap-3 mb-6",children:[A.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[A.jsx(G1,{size:20})," Roster: Prxima Clase"]}),b&&A.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[9px] font-sans font-bold uppercase tracking-widest whitespace-nowrap self-start sm:self-center",children:[b.day," ",b.time]})]}),A.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar font-sans",children:R.length>0?R.map(H=>A.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 flex justify-between items-center gap-4",children:[A.jsx("div",{className:"flex-1",children:A.jsx("div",{className:"font-serif italic font-bold text-sm",children:H.name})}),A.jsx("button",{onClick:()=>V(H.id,b?.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:A.jsx(F1,{size:18})})]},H.id)):A.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay alumnas an"})})]}),A.jsx("div",{className:"lg:col-span-2 space-y-8",children:A.jsxs(bn,{className:"bg-white",children:[A.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[A.jsx(Tm,{size:20,className:"text-[#369EAD]"})," Horario"]}),A.jsx("div",{className:"grid grid-cols-1 gap-4 font-sans text-center md:text-left",children:_.map(H=>A.jsxs("div",{className:"p-8 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[A.jsx("span",{className:"text-xs font-sans font-black uppercase text-gray-400 tracking-widest",children:H.day}),A.jsx("p",{className:"text-4xl font-sans font-bold text-[#1A3A3E] my-1",children:H.time}),A.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase tracking-[0.2em]",children:H.type})]},H.id))})]})})]})]}),g&&A.jsx(W1,{onClose:()=>y(!1),onSave:d})]})}function HI(){const[a,t]=Pt.useState("login"),[i,r]=Pt.useState(null),[l,c]=Pt.useState([]),[d,g]=Pt.useState([]),[y,_]=Pt.useState({}),[b,R]=Pt.useState(null),[V,H]=Pt.useState(!0),[Z,W]=Pt.useState(null),[$,lt]=Pt.useState(""),rt=(x,w="success")=>{R({msg:x,type:w}),setTimeout(()=>R(null),4e3)},ut=async x=>{if(!i?.id)return!1;const w=i.role==="student"?"alumnas":"maestros";try{return await Jn($e(bi,w,i.id),{password:x}),rt("Tu contrasea ha sido actualizada"),!0}catch{return rt("Error al actualizar contrasea","error"),!1}};Pt.useEffect(()=>{lt(T0[Math.floor(Math.random()*T0.length)]),(async()=>{try{await TC(PI)}catch{}Kd(Qd(bi,"alumnas"),w=>{c(w.docs.map(C=>({id:C.id,...C.data()}))),H(!1)}),Kd(Qd(bi,"maestros"),w=>{g(w.docs.map(C=>({id:C.id,...C.data()})))}),Kd(Qd(bi,"sesiones"),w=>{const C={};w.docs.forEach(O=>C[O.id]=O.data()),_(C)})})()},[]);const Ot=(x,w)=>{const C=x.trim().toUpperCase(),O=w.trim();W(null);const D=d.find(I=>I.id===C);if(D)if(D.password===O){if(D.status==="inactive"){W("Cuenta desactivada.");return}r({...D,firstName:D.name.split(" ")[0],role:D.role}),t(D.role==="admin"?"admin":"teacher");return}else{W("Contrasea de staff incorrecta.");return}const k=l.find(I=>I.id.toUpperCase()===C);if(k){if(k.password&&k.password!==O){W("Contrasea incorrecta.");return}if(k.status==="inactive"){W("Cuenta inactiva.");return}r({...k,firstName:k.name.split(" ")[0],role:"student"}),t("student")}else W("ID no encontrado.")},jt=async x=>{const w=Gr.find(C=>C.id===x);if(!(Z1(w.dayIdx,w.time)||y[x]?.isClosed||i.credits<=0))try{await Jn($e(bi,"alumnas",i.id),{credits:Ji(-1),history:jR(x)}),await Pc($e(bi,"sesiones",x),{booked:Ji(1)},{merge:!0}),rt("Clase reservada!")}catch{}},wt=async x=>{const w=Gr.find(O=>O.id===x),C=$1(w.dayIdx,w.time)<6;if(!(C&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{await Jn($e(bi,"alumnas",i.id),{credits:Ji(C?0:1),history:ap(x)}),await Jn($e(bi,"sesiones",x),{booked:Ji(-1)}),rt(C?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{}};return V?A.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic text-xl",children:"Ballet Fit..."}):A.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[b&&A.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${b.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[b.type==="error"?A.jsx(eI,{size:18}):A.jsx(Wx,{size:18}),A.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:b.msg})]}),a==="login"&&A.jsx(jI,{onLogin:Ot,error:Z}),a==="student"&&A.jsx(zI,{user:i,quote:$,sessions:Gr,sessionsData:y,onBook:jt,onCancel:wt,onLogout:()=>{r(null),t("login")},onUpdatePass:ut}),a==="admin"&&A.jsx(BI,{students:l,teachers:d,sessionsData:y,db:bi,onLogout:()=>{r(null),t("login")},showNotification:rt}),a==="teacher"&&A.jsx(qI,{user:i,students:l,sessionsData:y,db:bi,onLogout:()=>{r(null),t("login")},showNotification:rt,onUpdatePass:ut})]})}jA.createRoot(document.getElementById("root")).render(A.jsx(Pt.StrictMode,{children:A.jsx(HI,{})}));
