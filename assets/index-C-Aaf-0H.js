(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(l){if(l.ep)return;l.ep=!0;const c=i(l);fetch(l.href,c)}})();var kd={exports:{}},Tl={};var j_;function PA(){if(j_)return Tl;j_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(a,l,c){var d=null;if(c!==void 0&&(d=""+c),l.key!==void 0&&(d=""+l.key),"key"in l){c={};for(var g in l)g!=="key"&&(c[g]=l[g])}else c=l;return l=c.ref,{$$typeof:r,type:a,key:d,ref:l!==void 0?l:null,props:c}}return Tl.Fragment=t,Tl.jsx=i,Tl.jsxs=i,Tl}var z_;function jA(){return z_||(z_=1,kd.exports=PA()),kd.exports}var b=jA(),Ud={exports:{}},bt={};var B_;function zA(){if(B_)return bt;B_=1;var r=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),D=Symbol.iterator;function F(V){return V===null||typeof V!="object"?null:(V=D&&V[D]||V["@@iterator"],typeof V=="function"?V:null)}var W={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},tt=Object.assign,Z={};function ut(V,Y,nt){this.props=V,this.context=Y,this.refs=Z,this.updater=nt||W}ut.prototype.isReactComponent={},ut.prototype.setState=function(V,Y){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,Y,"setState")},ut.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function gt(){}gt.prototype=ut.prototype;function ft(V,Y,nt){this.props=V,this.context=Y,this.refs=Z,this.updater=nt||W}var Ut=ft.prototype=new gt;Ut.constructor=ft,tt(Ut,ut.prototype),Ut.isPureReactComponent=!0;var Et=Array.isArray;function ht(){}var C={H:null,A:null,T:null,S:null},w=Object.prototype.hasOwnProperty;function R(V,Y,nt){var rt=nt.ref;return{$$typeof:r,type:V,key:Y,ref:rt!==void 0?rt:null,props:nt}}function k(V,Y){return R(V.type,Y,V.props)}function M(V){return typeof V=="object"&&V!==null&&V.$$typeof===r}function L(V){var Y={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(nt){return Y[nt]})}var x=/\/+/g;function ee(V,Y){return typeof V=="object"&&V!==null&&V.key!=null?L(""+V.key):Y.toString(36)}function fe(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(ht,ht):(V.status="pending",V.then(function(Y){V.status==="pending"&&(V.status="fulfilled",V.value=Y)},function(Y){V.status==="pending"&&(V.status="rejected",V.reason=Y)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function N(V,Y,nt,rt,vt){var Ct=typeof V;(Ct==="undefined"||Ct==="boolean")&&(V=null);var Pt=!1;if(V===null)Pt=!0;else switch(Ct){case"bigint":case"string":case"number":Pt=!0;break;case"object":switch(V.$$typeof){case r:case t:Pt=!0;break;case A:return Pt=V._init,N(Pt(V._payload),Y,nt,rt,vt)}}if(Pt)return vt=vt(V),Pt=rt===""?"."+ee(V,0):rt,Et(vt)?(nt="",Pt!=null&&(nt=Pt.replace(x,"$&/")+"/"),N(vt,Y,nt,"",function(hr){return hr})):vt!=null&&(M(vt)&&(vt=k(vt,nt+(vt.key==null||V&&V.key===vt.key?"":(""+vt.key).replace(x,"$&/")+"/")+Pt)),Y.push(vt)),1;Pt=0;var Ne=rt===""?".":rt+":";if(Et(V))for(var ae=0;ae<V.length;ae++)rt=V[ae],Ct=Ne+ee(rt,ae),Pt+=N(rt,Y,nt,Ct,vt);else if(ae=F(V),typeof ae=="function")for(V=ae.call(V),ae=0;!(rt=V.next()).done;)rt=rt.value,Ct=Ne+ee(rt,ae++),Pt+=N(rt,Y,nt,Ct,vt);else if(Ct==="object"){if(typeof V.then=="function")return N(fe(V),Y,nt,rt,vt);throw Y=String(V),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Pt}function X(V,Y,nt){if(V==null)return V;var rt=[],vt=0;return N(V,rt,"","",function(Ct){return Y.call(nt,Ct,vt++)}),rt}function it(V){if(V._status===-1){var Y=V._result;Y=Y(),Y.then(function(nt){(V._status===0||V._status===-1)&&(V._status=1,V._result=nt)},function(nt){(V._status===0||V._status===-1)&&(V._status=2,V._result=nt)}),V._status===-1&&(V._status=0,V._result=Y)}if(V._status===1)return V._result.default;throw V._result}var yt=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},Tt={map:X,forEach:function(V,Y,nt){X(V,function(){Y.apply(this,arguments)},nt)},count:function(V){var Y=0;return X(V,function(){Y++}),Y},toArray:function(V){return X(V,function(Y){return Y})||[]},only:function(V){if(!M(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return bt.Activity=S,bt.Children=Tt,bt.Component=ut,bt.Fragment=i,bt.Profiler=l,bt.PureComponent=ft,bt.StrictMode=a,bt.Suspense=_,bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,bt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return C.H.useMemoCache(V)}},bt.cache=function(V){return function(){return V.apply(null,arguments)}},bt.cacheSignal=function(){return null},bt.cloneElement=function(V,Y,nt){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var rt=tt({},V.props),vt=V.key;if(Y!=null)for(Ct in Y.key!==void 0&&(vt=""+Y.key),Y)!w.call(Y,Ct)||Ct==="key"||Ct==="__self"||Ct==="__source"||Ct==="ref"&&Y.ref===void 0||(rt[Ct]=Y[Ct]);var Ct=arguments.length-2;if(Ct===1)rt.children=nt;else if(1<Ct){for(var Pt=Array(Ct),Ne=0;Ne<Ct;Ne++)Pt[Ne]=arguments[Ne+2];rt.children=Pt}return R(V.type,vt,rt)},bt.createContext=function(V){return V={$$typeof:d,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:c,_context:V},V},bt.createElement=function(V,Y,nt){var rt,vt={},Ct=null;if(Y!=null)for(rt in Y.key!==void 0&&(Ct=""+Y.key),Y)w.call(Y,rt)&&rt!=="key"&&rt!=="__self"&&rt!=="__source"&&(vt[rt]=Y[rt]);var Pt=arguments.length-2;if(Pt===1)vt.children=nt;else if(1<Pt){for(var Ne=Array(Pt),ae=0;ae<Pt;ae++)Ne[ae]=arguments[ae+2];vt.children=Ne}if(V&&V.defaultProps)for(rt in Pt=V.defaultProps,Pt)vt[rt]===void 0&&(vt[rt]=Pt[rt]);return R(V,Ct,vt)},bt.createRef=function(){return{current:null}},bt.forwardRef=function(V){return{$$typeof:g,render:V}},bt.isValidElement=M,bt.lazy=function(V){return{$$typeof:A,_payload:{_status:-1,_result:V},_init:it}},bt.memo=function(V,Y){return{$$typeof:y,type:V,compare:Y===void 0?null:Y}},bt.startTransition=function(V){var Y=C.T,nt={};C.T=nt;try{var rt=V(),vt=C.S;vt!==null&&vt(nt,rt),typeof rt=="object"&&rt!==null&&typeof rt.then=="function"&&rt.then(ht,yt)}catch(Ct){yt(Ct)}finally{Y!==null&&nt.types!==null&&(Y.types=nt.types),C.T=Y}},bt.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},bt.use=function(V){return C.H.use(V)},bt.useActionState=function(V,Y,nt){return C.H.useActionState(V,Y,nt)},bt.useCallback=function(V,Y){return C.H.useCallback(V,Y)},bt.useContext=function(V){return C.H.useContext(V)},bt.useDebugValue=function(){},bt.useDeferredValue=function(V,Y){return C.H.useDeferredValue(V,Y)},bt.useEffect=function(V,Y){return C.H.useEffect(V,Y)},bt.useEffectEvent=function(V){return C.H.useEffectEvent(V)},bt.useId=function(){return C.H.useId()},bt.useImperativeHandle=function(V,Y,nt){return C.H.useImperativeHandle(V,Y,nt)},bt.useInsertionEffect=function(V,Y){return C.H.useInsertionEffect(V,Y)},bt.useLayoutEffect=function(V,Y){return C.H.useLayoutEffect(V,Y)},bt.useMemo=function(V,Y){return C.H.useMemo(V,Y)},bt.useOptimistic=function(V,Y){return C.H.useOptimistic(V,Y)},bt.useReducer=function(V,Y,nt){return C.H.useReducer(V,Y,nt)},bt.useRef=function(V){return C.H.useRef(V)},bt.useState=function(V){return C.H.useState(V)},bt.useSyncExternalStore=function(V,Y,nt){return C.H.useSyncExternalStore(V,Y,nt)},bt.useTransition=function(){return C.H.useTransition()},bt.version="19.2.3",bt}var q_;function Im(){return q_||(q_=1,Ud.exports=zA()),Ud.exports}var Zt=Im(),Ld={exports:{}},Al={},Pd={exports:{}},jd={};var H_;function BA(){return H_||(H_=1,(function(r){function t(N,X){var it=N.length;N.push(X);t:for(;0<it;){var yt=it-1>>>1,Tt=N[yt];if(0<l(Tt,X))N[yt]=X,N[it]=Tt,it=yt;else break t}}function i(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var X=N[0],it=N.pop();if(it!==X){N[0]=it;t:for(var yt=0,Tt=N.length,V=Tt>>>1;yt<V;){var Y=2*(yt+1)-1,nt=N[Y],rt=Y+1,vt=N[rt];if(0>l(nt,it))rt<Tt&&0>l(vt,nt)?(N[yt]=vt,N[rt]=it,yt=rt):(N[yt]=nt,N[Y]=it,yt=Y);else if(rt<Tt&&0>l(vt,it))N[yt]=vt,N[rt]=it,yt=rt;else break t}}return X}function l(N,X){var it=N.sortIndex-X.sortIndex;return it!==0?it:N.id-X.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;r.unstable_now=function(){return c.now()}}else{var d=Date,g=d.now();r.unstable_now=function(){return d.now()-g}}var _=[],y=[],A=1,S=null,D=3,F=!1,W=!1,tt=!1,Z=!1,ut=typeof setTimeout=="function"?setTimeout:null,gt=typeof clearTimeout=="function"?clearTimeout:null,ft=typeof setImmediate<"u"?setImmediate:null;function Ut(N){for(var X=i(y);X!==null;){if(X.callback===null)a(y);else if(X.startTime<=N)a(y),X.sortIndex=X.expirationTime,t(_,X);else break;X=i(y)}}function Et(N){if(tt=!1,Ut(N),!W)if(i(_)!==null)W=!0,ht||(ht=!0,L());else{var X=i(y);X!==null&&fe(Et,X.startTime-N)}}var ht=!1,C=-1,w=5,R=-1;function k(){return Z?!0:!(r.unstable_now()-R<w)}function M(){if(Z=!1,ht){var N=r.unstable_now();R=N;var X=!0;try{t:{W=!1,tt&&(tt=!1,gt(C),C=-1),F=!0;var it=D;try{e:{for(Ut(N),S=i(_);S!==null&&!(S.expirationTime>N&&k());){var yt=S.callback;if(typeof yt=="function"){S.callback=null,D=S.priorityLevel;var Tt=yt(S.expirationTime<=N);if(N=r.unstable_now(),typeof Tt=="function"){S.callback=Tt,Ut(N),X=!0;break e}S===i(_)&&a(_),Ut(N)}else a(_);S=i(_)}if(S!==null)X=!0;else{var V=i(y);V!==null&&fe(Et,V.startTime-N),X=!1}}break t}finally{S=null,D=it,F=!1}X=void 0}}finally{X?L():ht=!1}}}var L;if(typeof ft=="function")L=function(){ft(M)};else if(typeof MessageChannel<"u"){var x=new MessageChannel,ee=x.port2;x.port1.onmessage=M,L=function(){ee.postMessage(null)}}else L=function(){ut(M,0)};function fe(N,X){C=ut(function(){N(r.unstable_now())},X)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(N){N.callback=null},r.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):w=0<N?Math.floor(1e3/N):5},r.unstable_getCurrentPriorityLevel=function(){return D},r.unstable_next=function(N){switch(D){case 1:case 2:case 3:var X=3;break;default:X=D}var it=D;D=X;try{return N()}finally{D=it}},r.unstable_requestPaint=function(){Z=!0},r.unstable_runWithPriority=function(N,X){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var it=D;D=N;try{return X()}finally{D=it}},r.unstable_scheduleCallback=function(N,X,it){var yt=r.unstable_now();switch(typeof it=="object"&&it!==null?(it=it.delay,it=typeof it=="number"&&0<it?yt+it:yt):it=yt,N){case 1:var Tt=-1;break;case 2:Tt=250;break;case 5:Tt=1073741823;break;case 4:Tt=1e4;break;default:Tt=5e3}return Tt=it+Tt,N={id:A++,callback:X,priorityLevel:N,startTime:it,expirationTime:Tt,sortIndex:-1},it>yt?(N.sortIndex=it,t(y,N),i(_)===null&&N===i(y)&&(tt?(gt(C),C=-1):tt=!0,fe(Et,it-yt))):(N.sortIndex=Tt,t(_,N),W||F||(W=!0,ht||(ht=!0,L()))),N},r.unstable_shouldYield=k,r.unstable_wrapCallback=function(N){var X=D;return function(){var it=D;D=X;try{return N.apply(this,arguments)}finally{D=it}}}})(jd)),jd}var F_;function qA(){return F_||(F_=1,Pd.exports=BA()),Pd.exports}var zd={exports:{}},$e={};var G_;function HA(){if(G_)return $e;G_=1;var r=Im();function t(_){var y="https://react.dev/errors/"+_;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)y+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+_+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function c(_,y,A){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:S==null?null:""+S,children:_,containerInfo:y,implementation:A}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,y){if(_==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return $e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,$e.createPortal=function(_,y){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(t(299));return c(_,y,null,A)},$e.flushSync=function(_){var y=d.T,A=a.p;try{if(d.T=null,a.p=2,_)return _()}finally{d.T=y,a.p=A,a.d.f()}},$e.preconnect=function(_,y){typeof _=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,a.d.C(_,y))},$e.prefetchDNS=function(_){typeof _=="string"&&a.d.D(_)},$e.preinit=function(_,y){if(typeof _=="string"&&y&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin),D=typeof y.integrity=="string"?y.integrity:void 0,F=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;A==="style"?a.d.S(_,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:S,integrity:D,fetchPriority:F}):A==="script"&&a.d.X(_,{crossOrigin:S,integrity:D,fetchPriority:F,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},$e.preinitModule=function(_,y){if(typeof _=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var A=g(y.as,y.crossOrigin);a.d.M(_,{crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&a.d.M(_)},$e.preload=function(_,y){if(typeof _=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var A=y.as,S=g(A,y.crossOrigin);a.d.L(_,A,{crossOrigin:S,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},$e.preloadModule=function(_,y){if(typeof _=="string")if(y){var A=g(y.as,y.crossOrigin);a.d.m(_,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:A,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else a.d.m(_)},$e.requestFormReset=function(_){a.d.r(_)},$e.unstable_batchedUpdates=function(_,y){return _(y)},$e.useFormState=function(_,y,A){return d.H.useFormState(_,y,A)},$e.useFormStatus=function(){return d.H.useHostTransitionStatus()},$e.version="19.2.3",$e}var Q_;function FA(){if(Q_)return zd.exports;Q_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),zd.exports=HA(),zd.exports}var Y_;function GA(){if(Y_)return Al;Y_=1;var r=qA(),t=Im(),i=FA();function a(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var s=2;s<arguments.length;s++)n+="&args[]="+encodeURIComponent(arguments[s])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,s=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(s=n.return),e=n.return;while(e)}return n.tag===3?s:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function g(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function _(e){if(c(e)!==e)throw Error(a(188))}function y(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(a(188));return n!==e?null:e}for(var s=e,o=n;;){var h=s.return;if(h===null)break;var f=h.alternate;if(f===null){if(o=h.return,o!==null){s=o;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===s)return _(h),e;if(f===o)return _(h),n;f=f.sibling}throw Error(a(188))}if(s.return!==o.return)s=h,o=f;else{for(var p=!1,E=h.child;E;){if(E===s){p=!0,s=h,o=f;break}if(E===o){p=!0,o=h,s=f;break}E=E.sibling}if(!p){for(E=f.child;E;){if(E===s){p=!0,s=f,o=h;break}if(E===o){p=!0,o=f,s=h;break}E=E.sibling}if(!p)throw Error(a(189))}}if(s.alternate!==o)throw Error(a(190))}if(s.tag!==3)throw Error(a(188));return s.stateNode.current===s?e:n}function A(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=A(e),n!==null)return n;e=e.sibling}return null}var S=Object.assign,D=Symbol.for("react.element"),F=Symbol.for("react.transitional.element"),W=Symbol.for("react.portal"),tt=Symbol.for("react.fragment"),Z=Symbol.for("react.strict_mode"),ut=Symbol.for("react.profiler"),gt=Symbol.for("react.consumer"),ft=Symbol.for("react.context"),Ut=Symbol.for("react.forward_ref"),Et=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),k=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var x=Symbol.for("react.client.reference");function ee(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===x?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case tt:return"Fragment";case ut:return"Profiler";case Z:return"StrictMode";case Et:return"Suspense";case ht:return"SuspenseList";case R:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case W:return"Portal";case ft:return e.displayName||"Context";case gt:return(e._context.displayName||"Context")+".Consumer";case Ut:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case C:return n=e.displayName||null,n!==null?n:ee(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return ee(e(n))}catch{}}return null}var fe=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,it={pending:!1,data:null,method:null,action:null},yt=[],Tt=-1;function V(e){return{current:e}}function Y(e){0>Tt||(e.current=yt[Tt],yt[Tt]=null,Tt--)}function nt(e,n){Tt++,yt[Tt]=e.current,e.current=n}var rt=V(null),vt=V(null),Ct=V(null),Pt=V(null);function Ne(e,n){switch(nt(Ct,n),nt(vt,e),nt(rt,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?l_(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=l_(n),e=u_(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(rt),nt(rt,e)}function ae(){Y(rt),Y(vt),Y(Ct)}function hr(e){e.memoizedState!==null&&nt(Pt,e);var n=rt.current,s=u_(n,e.type);n!==s&&(nt(vt,e),nt(rt,s))}function Zr(e){vt.current===e&&(Y(rt),Y(vt)),Pt.current===e&&(Y(Pt),yl._currentValue=it)}var Wr,ta;function ni(e){if(Wr===void 0)try{throw Error()}catch(s){var n=s.stack.trim().match(/\n( *(at )?)/);Wr=n&&n[1]||"",ta=-1<s.stack.indexOf(`
    at`)?" (<anonymous>)":-1<s.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Wr+e+ta}var yo=!1;function fr(e,n){if(!e||yo)return"";yo=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(H){var B=H}Reflect.construct(e,[],K)}else{try{K.call()}catch(H){B=H}e.call(K.prototype)}}else{try{throw Error()}catch(H){B=H}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(H){if(H&&B&&typeof H.stack=="string")return[H.stack,B.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),p=f[0],E=f[1];if(p&&E){var I=p.split(`
`),z=E.split(`
`);for(h=o=0;o<I.length&&!I[o].includes("DetermineComponentFrameRoot");)o++;for(;h<z.length&&!z[h].includes("DetermineComponentFrameRoot");)h++;if(o===I.length||h===z.length)for(o=I.length-1,h=z.length-1;1<=o&&0<=h&&I[o]!==z[h];)h--;for(;1<=o&&0<=h;o--,h--)if(I[o]!==z[h]){if(o!==1||h!==1)do if(o--,h--,0>h||I[o]!==z[h]){var G=`
`+I[o].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=o&&0<=h);break}}}finally{yo=!1,Error.prepareStackTrace=s}return(s=e?e.displayName||e.name:"")?ni(s):""}function _o(e,n){switch(e.tag){case 26:case 27:case 5:return ni(e.type);case 16:return ni("Lazy");case 13:return e.child!==n&&n!==null?ni("Suspense Fallback"):ni("Suspense");case 19:return ni("SuspenseList");case 0:case 15:return fr(e.type,!1);case 11:return fr(e.type.render,!1);case 1:return fr(e.type,!0);case 31:return ni("Activity");default:return""}}function vo(e){try{var n="",s=null;do n+=_o(e,s),s=e,e=e.return;while(e);return n}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}var ve=Object.prototype.hasOwnProperty,De=r.unstable_scheduleCallback,os=r.unstable_cancelCallback,Uh=r.unstable_shouldYield,Zl=r.unstable_requestPaint,en=r.unstable_now,dr=r.unstable_getCurrentPriorityLevel,Eo=r.unstable_ImmediatePriority,To=r.unstable_UserBlockingPriority,ls=r.unstable_NormalPriority,Lh=r.unstable_LowPriority,Wl=r.unstable_IdlePriority,tu=r.log,eu=r.unstable_setDisableYieldValue,qn=null,je=null;function Rn(e){if(typeof tu=="function"&&eu(e),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(qn,e)}catch{}}var de=Math.clz32?Math.clz32:iu,nu=Math.log,ea=Math.LN2;function iu(e){return e>>>=0,e===0?32:31-(nu(e)/ea|0)|0}var ii=256,mr=262144,Ee=4194304;function si(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ri(e,n,s){var o=e.pendingLanes;if(o===0)return 0;var h=0,f=e.suspendedLanes,p=e.pingedLanes;e=e.warmLanes;var E=o&134217727;return E!==0?(o=E&~f,o!==0?h=si(o):(p&=E,p!==0?h=si(p):s||(s=E&~e,s!==0&&(h=si(s))))):(E=o&~f,E!==0?h=si(E):p!==0?h=si(p):s||(s=o&~e,s!==0&&(h=si(s)))),h===0?0:n!==0&&n!==h&&(n&f)===0&&(f=h&-h,s=n&-n,f>=s||f===32&&(s&4194048)!==0)?n:h}function Hn(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Ph(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function su(){var e=Ee;return Ee<<=1,(Ee&62914560)===0&&(Ee=4194304),e}function ai(e){for(var n=[],s=0;31>s;s++)n.push(e);return n}function pr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function jh(e,n,s,o,h,f){var p=e.pendingLanes;e.pendingLanes=s,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=s,e.entangledLanes&=s,e.errorRecoveryDisabledLanes&=s,e.shellSuspendCounter=0;var E=e.entanglements,I=e.expirationTimes,z=e.hiddenUpdates;for(s=p&~s;0<s;){var G=31-de(s),K=1<<G;E[G]=0,I[G]=-1;var B=z[G];if(B!==null)for(z[G]=null,G=0;G<B.length;G++){var H=B[G];H!==null&&(H.lane&=-536870913)}s&=~K}o!==0&&gr(e,o,0),f!==0&&h===0&&e.tag!==0&&(e.suspendedLanes|=f&~(p&~n))}function gr(e,n,s){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-de(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|s&261930}function Ao(e,n){var s=e.entangledLanes|=n;for(e=e.entanglements;s;){var o=31-de(s),h=1<<o;h&n|e[o]&n&&(e[o]|=n),s&=~h}}function bo(e,n){var s=n&-n;return s=(s&42)!==0?1:yr(s),(s&(e.suspendedLanes|n))!==0?0:s}function yr(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Mi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ru(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:O_(e.type))}function Fn(e,n){var s=X.p;try{return X.p=e,n()}finally{X.p=s}}var Gn=Math.random().toString(36).slice(2),Te="__reactFiber$"+Gn,ke="__reactProps$"+Gn,oi="__reactContainer$"+Gn,na="__reactEvents$"+Gn,zh="__reactListeners$"+Gn,au="__reactHandles$"+Gn,ou="__reactResources$"+Gn,li="__reactMarker$"+Gn;function ia(e){delete e[Te],delete e[ke],delete e[na],delete e[zh],delete e[au]}function ui(e){var n=e[Te];if(n)return n;for(var s=e.parentNode;s;){if(n=s[oi]||s[Te]){if(s=n.alternate,n.child!==null||s!==null&&s.child!==null)for(e=g_(e);e!==null;){if(s=e[Te])return s;e=g_(e)}return n}e=s,s=e.parentNode}return null}function Cn(e){if(e=e[Te]||e[oi]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function pn(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(a(33))}function ci(e){var n=e[ou];return n||(n=e[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Ae(e){e[li]=!0}var So=new Set,wo={};function hi(e,n){fi(e,n),fi(e+"Capture",n)}function fi(e,n){for(wo[e]=n,e=0;e<n.length;e++)So.add(n[e])}var Ro=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Co={},xo={};function lu(e){return ve.call(xo,e)?!0:ve.call(Co,e)?!1:Ro.test(e)?xo[e]=!0:(Co[e]=!0,!1)}function sa(e,n,s){if(lu(n))if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+s)}}function gn(e,n,s){if(s===null)e.removeAttribute(n);else{switch(typeof s){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+s)}}function be(e,n,s,o){if(o===null)e.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(s);return}e.setAttributeNS(n,s,""+o)}}function Ue(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function us(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Io(e,n,s){var o=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var h=o.get,f=o.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return h.call(this)},set:function(p){s=""+p,f.call(this,p)}}),Object.defineProperty(e,n,{enumerable:o.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Gt(e){if(!e._valueTracker){var n=us(e)?"checked":"value";e._valueTracker=Io(e,n,""+e[n])}}function _r(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var s=n.getValue(),o="";return e&&(o=us(e)?e.checked?"true":"false":e.value),e=o,e!==s?(n.setValue(e),!0):!1}function di(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var vr=/[\n"\\]/g;function rn(e){return e.replace(vr,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function ra(e,n,s,o,h,f,p,E){e.name="",p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.type=p:e.removeAttribute("type"),n!=null?p==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ue(n)):e.value!==""+Ue(n)&&(e.value=""+Ue(n)):p!=="submit"&&p!=="reset"||e.removeAttribute("value"),n!=null?No(e,p,Ue(n)):s!=null?No(e,p,Ue(s)):o!=null&&e.removeAttribute("value"),h==null&&f!=null&&(e.defaultChecked=!!f),h!=null&&(e.checked=h&&typeof h!="function"&&typeof h!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ue(E):e.removeAttribute("name")}function uu(e,n,s,o,h,f,p,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||s!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Gt(e);return}s=s!=null?""+Ue(s):"",n=n!=null?""+Ue(n):s,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??h,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(e.name=p),Gt(e)}function No(e,n,s){n==="number"&&di(e.ownerDocument)===e||e.defaultValue===""+s||(e.defaultValue=""+s)}function cs(e,n,s,o){if(e=e.options,n){n={};for(var h=0;h<s.length;h++)n["$"+s[h]]=!0;for(s=0;s<e.length;s++)h=n.hasOwnProperty("$"+e[s].value),e[s].selected!==h&&(e[s].selected=h),h&&o&&(e[s].defaultSelected=!0)}else{for(s=""+Ue(s),n=null,h=0;h<e.length;h++){if(e[h].value===s){e[h].selected=!0,o&&(e[h].defaultSelected=!0);return}n!==null||e[h].disabled||(n=e[h])}n!==null&&(n.selected=!0)}}function cu(e,n,s){if(n!=null&&(n=""+Ue(n),n!==e.value&&(e.value=n),s==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=s!=null?""+Ue(s):""}function hs(e,n,s,o){if(n==null){if(o!=null){if(s!=null)throw Error(a(92));if(fe(o)){if(1<o.length)throw Error(a(93));o=o[0]}s=o}s==null&&(s=""),n=s}s=Ue(n),e.defaultValue=s,o=e.textContent,o===s&&o!==""&&o!==null&&(e.value=o),Gt(e)}function an(e,n){if(n){var s=e.firstChild;if(s&&s===e.lastChild&&s.nodeType===3){s.nodeValue=n;return}}e.textContent=n}var hu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Do(e,n,s){var o=n.indexOf("--")===0;s==null||typeof s=="boolean"||s===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,s):typeof s!="number"||s===0||hu.has(n)?n==="float"?e.cssFloat=s:e[n]=(""+s).trim():e[n]=s+"px"}function Oo(e,n,s){if(n!=null&&typeof n!="object")throw Error(a(62));if(e=e.style,s!=null){for(var o in s)!s.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var h in n)o=n[h],n.hasOwnProperty(h)&&s[h]!==o&&Do(e,h,o)}else for(var f in n)n.hasOwnProperty(f)&&Do(e,f,n[f])}function aa(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var fu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function oa(e){return fs.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Qn(){}var Mo=null;function xn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,mi=null;function Er(e){var n=Cn(e);if(n&&(e=n.stateNode)){var s=e[ke]||null;t:switch(e=n.stateNode,n.type){case"input":if(ra(e,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name),n=s.name,s.type==="radio"&&n!=null){for(s=e;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll('input[name="'+rn(""+n)+'"][type="radio"]'),n=0;n<s.length;n++){var o=s[n];if(o!==e&&o.form===e.form){var h=o[ke]||null;if(!h)throw Error(a(90));ra(o,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(n=0;n<s.length;n++)o=s[n],o.form===e.form&&_r(o)}break t;case"textarea":cu(e,s.value,s.defaultValue);break t;case"select":n=s.value,n!=null&&cs(e,!!s.multiple,n,!1)}}}var la=!1;function ms(e,n,s){if(la)return e(n,s);la=!0;try{var o=e(n);return o}finally{if(la=!1,(ds!==null||mi!==null)&&(rc(),ds&&(n=ds,e=mi,mi=ds=null,Er(n),e)))for(n=0;n<e.length;n++)Er(e[n])}}function Yn(e,n){var s=e.stateNode;if(s===null)return null;var o=s[ke]||null;if(o===null)return null;s=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(s&&typeof s!="function")throw Error(a(231,n,typeof s));return s}var In=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tr=!1;if(In)try{var Kt={};Object.defineProperty(Kt,"passive",{get:function(){Tr=!0}}),window.addEventListener("test",Kt,Kt),window.removeEventListener("test",Kt,Kt)}catch{Tr=!1}var pi=null,Vo=null,Ar=null;function ko(){if(Ar)return Ar;var e,n=Vo,s=n.length,o,h="value"in pi?pi.value:pi.textContent,f=h.length;for(e=0;e<s&&n[e]===h[e];e++);var p=s-e;for(o=1;o<=p&&n[s-o]===h[f-o];o++);return Ar=h.slice(e,1<o?1-o:void 0)}function br(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Kn(){return!1}function ze(e){function n(s,o,h,f,p){this._reactName=s,this._targetInst=h,this.type=o,this.nativeEvent=f,this.target=p,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(s=e[E],this[E]=s?s(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Vi:Kn,this.isPropagationStopped=Kn,this}return S(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),n}var ki={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gi=ze(ki),ps=S({},ki,{view:0,detail:0}),Uo=ze(ps),gs,ua,yi,ca=S({},ps,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ys,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yi&&(yi&&e.type==="mousemove"?(gs=e.screenX-yi.screenX,ua=e.screenY-yi.screenY):ua=gs=0,yi=e),gs)},movementY:function(e){return"movementY"in e?e.movementY:ua}}),Lo=ze(ca),Sr=S({},ca,{dataTransfer:0}),du=ze(Sr),mu=S({},ps,{relatedTarget:0}),wr=ze(mu),Po=S({},ki,{animationName:0,elapsedTime:0,pseudoElement:0}),pu=ze(Po),ha=S({},ki,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gu=ze(ha),yu=S({},ki,{data:0}),_i=ze(yu),_u={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Eu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Tu(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Eu[e])?!!n[e]:!1}function ys(){return Tu}var nn=S({},ps,{key:function(e){if(e.key){var n=_u[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=br(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vu[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ys,charCode:function(e){return e.type==="keypress"?br(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?br(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Au=ze(nn),bu=S({},ca,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ui=ze(bu),u=S({},ps,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ys}),m=ze(u),v=S({},ki,{propertyName:0,elapsedTime:0,pseudoElement:0}),T=ze(v),P=S({},ca,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),q=ze(P),et=S({},ki,{newState:0,oldState:0}),wt=ze(et),me=[9,13,27,32],qt=In&&"CompositionEvent"in window,oe=null;In&&"documentMode"in document&&(oe=document.documentMode);var Nn=In&&"TextEvent"in window&&!oe,vi=In&&(!qt||oe&&8<oe&&11>=oe),Xn=" ",$n=!1;function Rr(e,n){switch(e){case"keyup":return me.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fa(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var da=!1;function lT(e,n){switch(e){case"compositionend":return fa(n);case"keypress":return n.which!==32?null:($n=!0,Xn);case"textInput":return e=n.data,e===Xn&&$n?null:e;default:return null}}function uT(e,n){if(da)return e==="compositionend"||!qt&&Rr(e,n)?(e=ko(),Ar=Vo=pi=null,da=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return vi&&n.locale!=="ko"?null:n.data;default:return null}}var cT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vp(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!cT[e.type]:n==="textarea"}function Ep(e,n,s,o){ds?mi?mi.push(o):mi=[o]:ds=o,n=fc(n,"onChange"),0<n.length&&(s=new gi("onChange","change",null,s,o),e.push({event:s,listeners:n}))}var jo=null,zo=null;function hT(e){n_(e,0)}function Su(e){var n=pn(e);if(_r(n))return e}function Tp(e,n){if(e==="change")return n}var Ap=!1;if(In){var Bh;if(In){var qh="oninput"in document;if(!qh){var bp=document.createElement("div");bp.setAttribute("oninput","return;"),qh=typeof bp.oninput=="function"}Bh=qh}else Bh=!1;Ap=Bh&&(!document.documentMode||9<document.documentMode)}function Sp(){jo&&(jo.detachEvent("onpropertychange",wp),zo=jo=null)}function wp(e){if(e.propertyName==="value"&&Su(zo)){var n=[];Ep(n,zo,e,xn(e)),ms(hT,n)}}function fT(e,n,s){e==="focusin"?(Sp(),jo=n,zo=s,jo.attachEvent("onpropertychange",wp)):e==="focusout"&&Sp()}function dT(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Su(zo)}function mT(e,n){if(e==="click")return Su(n)}function pT(e,n){if(e==="input"||e==="change")return Su(n)}function gT(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var yn=typeof Object.is=="function"?Object.is:gT;function Bo(e,n){if(yn(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var s=Object.keys(e),o=Object.keys(n);if(s.length!==o.length)return!1;for(o=0;o<s.length;o++){var h=s[o];if(!ve.call(n,h)||!yn(e[h],n[h]))return!1}return!0}function Rp(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Cp(e,n){var s=Rp(e);e=0;for(var o;s;){if(s.nodeType===3){if(o=e+s.textContent.length,e<=n&&o>=n)return{node:s,offset:n-e};e=o}t:{for(;s;){if(s.nextSibling){s=s.nextSibling;break t}s=s.parentNode}s=void 0}s=Rp(s)}}function xp(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?xp(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ip(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=di(e.document);n instanceof e.HTMLIFrameElement;){try{var s=typeof n.contentWindow.location.href=="string"}catch{s=!1}if(s)e=n.contentWindow;else break;n=di(e.document)}return n}function Hh(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var yT=In&&"documentMode"in document&&11>=document.documentMode,ma=null,Fh=null,qo=null,Gh=!1;function Np(e,n,s){var o=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Gh||ma==null||ma!==di(o)||(o=ma,"selectionStart"in o&&Hh(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),qo&&Bo(qo,o)||(qo=o,o=fc(Fh,"onSelect"),0<o.length&&(n=new gi("onSelect","select",null,n,s),e.push({event:n,listeners:o}),n.target=ma)))}function Cr(e,n){var s={};return s[e.toLowerCase()]=n.toLowerCase(),s["Webkit"+e]="webkit"+n,s["Moz"+e]="moz"+n,s}var pa={animationend:Cr("Animation","AnimationEnd"),animationiteration:Cr("Animation","AnimationIteration"),animationstart:Cr("Animation","AnimationStart"),transitionrun:Cr("Transition","TransitionRun"),transitionstart:Cr("Transition","TransitionStart"),transitioncancel:Cr("Transition","TransitionCancel"),transitionend:Cr("Transition","TransitionEnd")},Qh={},Dp={};In&&(Dp=document.createElement("div").style,"AnimationEvent"in window||(delete pa.animationend.animation,delete pa.animationiteration.animation,delete pa.animationstart.animation),"TransitionEvent"in window||delete pa.transitionend.transition);function xr(e){if(Qh[e])return Qh[e];if(!pa[e])return e;var n=pa[e],s;for(s in n)if(n.hasOwnProperty(s)&&s in Dp)return Qh[e]=n[s];return e}var Op=xr("animationend"),Mp=xr("animationiteration"),Vp=xr("animationstart"),_T=xr("transitionrun"),vT=xr("transitionstart"),ET=xr("transitioncancel"),kp=xr("transitionend"),Up=new Map,Yh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yh.push("scrollEnd");function Jn(e,n){Up.set(e,n),hi(n,[e])}var wu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dn=[],ga=0,Kh=0;function Ru(){for(var e=ga,n=Kh=ga=0;n<e;){var s=Dn[n];Dn[n++]=null;var o=Dn[n];Dn[n++]=null;var h=Dn[n];Dn[n++]=null;var f=Dn[n];if(Dn[n++]=null,o!==null&&h!==null){var p=o.pending;p===null?h.next=h:(h.next=p.next,p.next=h),o.pending=h}f!==0&&Lp(s,h,f)}}function Cu(e,n,s,o){Dn[ga++]=e,Dn[ga++]=n,Dn[ga++]=s,Dn[ga++]=o,Kh|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function Xh(e,n,s,o){return Cu(e,n,s,o),xu(e)}function Ir(e,n){return Cu(e,null,null,n),xu(e)}function Lp(e,n,s){e.lanes|=s;var o=e.alternate;o!==null&&(o.lanes|=s);for(var h=!1,f=e.return;f!==null;)f.childLanes|=s,o=f.alternate,o!==null&&(o.childLanes|=s),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(h=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,h&&n!==null&&(h=31-de(s),e=f.hiddenUpdates,o=e[h],o===null?e[h]=[n]:o.push(n),n.lane=s|536870912),f):null}function xu(e){if(50<cl)throw cl=0,rd=null,Error(a(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ya={};function TT(e,n,s,o){this.tag=e,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,n,s,o){return new TT(e,n,s,o)}function $h(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Li(e,n){var s=e.alternate;return s===null?(s=_n(e.tag,n,e.key,e.mode),s.elementType=e.elementType,s.type=e.type,s.stateNode=e.stateNode,s.alternate=e,e.alternate=s):(s.pendingProps=n,s.type=e.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=e.flags&65011712,s.childLanes=e.childLanes,s.lanes=e.lanes,s.child=e.child,s.memoizedProps=e.memoizedProps,s.memoizedState=e.memoizedState,s.updateQueue=e.updateQueue,n=e.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},s.sibling=e.sibling,s.index=e.index,s.ref=e.ref,s.refCleanup=e.refCleanup,s}function Pp(e,n){e.flags&=65011714;var s=e.alternate;return s===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=s.childLanes,e.lanes=s.lanes,e.child=s.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=s.memoizedProps,e.memoizedState=s.memoizedState,e.updateQueue=s.updateQueue,e.type=s.type,n=s.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function Iu(e,n,s,o,h,f){var p=0;if(o=e,typeof e=="function")$h(e)&&(p=1);else if(typeof e=="string")p=RA(e,s,rt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case R:return e=_n(31,s,n,h),e.elementType=R,e.lanes=f,e;case tt:return Nr(s.children,h,f,n);case Z:p=8,h|=24;break;case ut:return e=_n(12,s,n,h|2),e.elementType=ut,e.lanes=f,e;case Et:return e=_n(13,s,n,h),e.elementType=Et,e.lanes=f,e;case ht:return e=_n(19,s,n,h),e.elementType=ht,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ft:p=10;break t;case gt:p=9;break t;case Ut:p=11;break t;case C:p=14;break t;case w:p=16,o=null;break t}p=29,s=Error(a(130,e===null?"null":typeof e,"")),o=null}return n=_n(p,s,n,h),n.elementType=e,n.type=o,n.lanes=f,n}function Nr(e,n,s,o){return e=_n(7,e,o,n),e.lanes=s,e}function Jh(e,n,s){return e=_n(6,e,null,n),e.lanes=s,e}function jp(e){var n=_n(18,null,null,0);return n.stateNode=e,n}function Zh(e,n,s){return n=_n(4,e.children!==null?e.children:[],e.key,n),n.lanes=s,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var zp=new WeakMap;function On(e,n){if(typeof e=="object"&&e!==null){var s=zp.get(e);return s!==void 0?s:(n={value:e,source:n,stack:vo(n)},zp.set(e,n),n)}return{value:e,source:n,stack:vo(n)}}var _a=[],va=0,Nu=null,Ho=0,Mn=[],Vn=0,_s=null,Ei=1,Ti="";function Pi(e,n){_a[va++]=Ho,_a[va++]=Nu,Nu=e,Ho=n}function Bp(e,n,s){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=_s,_s=e;var o=Ei;e=Ti;var h=32-de(o)-1;o&=~(1<<h),s+=1;var f=32-de(n)+h;if(30<f){var p=h-h%5;f=(o&(1<<p)-1).toString(32),o>>=p,h-=p,Ei=1<<32-de(n)+h|s<<h|o,Ti=f+e}else Ei=1<<f|s<<h|o,Ti=e}function Wh(e){e.return!==null&&(Pi(e,1),Bp(e,1,0))}function tf(e){for(;e===Nu;)Nu=_a[--va],_a[va]=null,Ho=_a[--va],_a[va]=null;for(;e===_s;)_s=Mn[--Vn],Mn[Vn]=null,Ti=Mn[--Vn],Mn[Vn]=null,Ei=Mn[--Vn],Mn[Vn]=null}function qp(e,n){Mn[Vn++]=Ei,Mn[Vn++]=Ti,Mn[Vn++]=_s,Ei=n.id,Ti=n.overflow,_s=e}var Be=null,ne=null,Lt=!1,vs=null,kn=!1,ef=Error(a(519));function Es(e){var n=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Fo(On(n,e)),ef}function Hp(e){var n=e.stateNode,s=e.type,o=e.memoizedProps;switch(n[Te]=e,n[ke]=o,s){case"dialog":Nt("cancel",n),Nt("close",n);break;case"iframe":case"object":case"embed":Nt("load",n);break;case"video":case"audio":for(s=0;s<fl.length;s++)Nt(fl[s],n);break;case"source":Nt("error",n);break;case"img":case"image":case"link":Nt("error",n),Nt("load",n);break;case"details":Nt("toggle",n);break;case"input":Nt("invalid",n),uu(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0);break;case"select":Nt("invalid",n);break;case"textarea":Nt("invalid",n),hs(n,o.value,o.defaultValue,o.children)}s=o.children,typeof s!="string"&&typeof s!="number"&&typeof s!="bigint"||n.textContent===""+s||o.suppressHydrationWarning===!0||a_(n.textContent,s)?(o.popover!=null&&(Nt("beforetoggle",n),Nt("toggle",n)),o.onScroll!=null&&Nt("scroll",n),o.onScrollEnd!=null&&Nt("scrollend",n),o.onClick!=null&&(n.onclick=Qn),n=!0):n=!1,n||Es(e,!0)}function Fp(e){for(Be=e.return;Be;)switch(Be.tag){case 5:case 31:case 13:kn=!1;return;case 27:case 3:kn=!0;return;default:Be=Be.return}}function Ea(e){if(e!==Be)return!1;if(!Lt)return Fp(e),Lt=!0,!1;var n=e.tag,s;if((s=n!==3&&n!==27)&&((s=n===5)&&(s=e.type,s=!(s!=="form"&&s!=="button")||Ed(e.type,e.memoizedProps)),s=!s),s&&ne&&Es(e),Fp(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=p_(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));ne=p_(e)}else n===27?(n=ne,Vs(e.type)?(e=wd,wd=null,ne=e):ne=n):ne=Be?Ln(e.stateNode.nextSibling):null;return!0}function Dr(){ne=Be=null,Lt=!1}function nf(){var e=vs;return e!==null&&(cn===null?cn=e:cn.push.apply(cn,e),vs=null),e}function Fo(e){vs===null?vs=[e]:vs.push(e)}var sf=V(null),Or=null,ji=null;function Ts(e,n,s){nt(sf,n._currentValue),n._currentValue=s}function zi(e){e._currentValue=sf.current,Y(sf)}function rf(e,n,s){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===s)break;e=e.return}}function af(e,n,s,o){var h=e.child;for(h!==null&&(h.return=e);h!==null;){var f=h.dependencies;if(f!==null){var p=h.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=h;for(var I=0;I<n.length;I++)if(E.context===n[I]){f.lanes|=s,E=f.alternate,E!==null&&(E.lanes|=s),rf(f.return,s,e),o||(p=null);break t}f=E.next}}else if(h.tag===18){if(p=h.return,p===null)throw Error(a(341));p.lanes|=s,f=p.alternate,f!==null&&(f.lanes|=s),rf(p,s,e),p=null}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===e){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}}function Ta(e,n,s,o){e=null;for(var h=n,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var p=h.alternate;if(p===null)throw Error(a(387));if(p=p.memoizedProps,p!==null){var E=h.type;yn(h.pendingProps.value,p.value)||(e!==null?e.push(E):e=[E])}}else if(h===Pt.current){if(p=h.alternate,p===null)throw Error(a(387));p.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(e!==null?e.push(yl):e=[yl])}h=h.return}e!==null&&af(n,e,s,o),n.flags|=262144}function Du(e){for(e=e.firstContext;e!==null;){if(!yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mr(e){Or=e,ji=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qe(e){return Gp(Or,e)}function Ou(e,n){return Or===null&&Mr(e),Gp(e,n)}function Gp(e,n){var s=n._currentValue;if(n={context:n,memoizedValue:s,next:null},ji===null){if(e===null)throw Error(a(308));ji=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else ji=ji.next=n;return s}var AT=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(s,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(s){return s()})}},bT=r.unstable_scheduleCallback,ST=r.unstable_NormalPriority,Se={$$typeof:ft,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function of(){return{controller:new AT,data:new Map,refCount:0}}function Go(e){e.refCount--,e.refCount===0&&bT(ST,function(){e.controller.abort()})}var Qo=null,lf=0,Aa=0,ba=null;function wT(e,n){if(Qo===null){var s=Qo=[];lf=0,Aa=hd(),ba={status:"pending",value:void 0,then:function(o){s.push(o)}}}return lf++,n.then(Qp,Qp),n}function Qp(){if(--lf===0&&Qo!==null){ba!==null&&(ba.status="fulfilled");var e=Qo;Qo=null,Aa=0,ba=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function RT(e,n){var s=[],o={status:"pending",value:null,reason:null,then:function(h){s.push(h)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var h=0;h<s.length;h++)(0,s[h])(n)},function(h){for(o.status="rejected",o.reason=h,h=0;h<s.length;h++)(0,s[h])(void 0)}),o}var Yp=N.S;N.S=function(e,n){Ny=en(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&wT(e,n),Yp!==null&&Yp(e,n)};var Vr=V(null);function uf(){var e=Vr.current;return e!==null?e:Wt.pooledCache}function Mu(e,n){n===null?nt(Vr,Vr.current):nt(Vr,n.pool)}function Kp(){var e=uf();return e===null?null:{parent:Se._currentValue,pool:e}}var Sa=Error(a(460)),cf=Error(a(474)),Vu=Error(a(542)),ku={then:function(){}};function Xp(e){return e=e.status,e==="fulfilled"||e==="rejected"}function $p(e,n,s){switch(s=e[s],s===void 0?e.push(n):s!==n&&(n.then(Qn,Qn),n=s),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e;default:if(typeof n.status=="string")n.then(Qn,Qn);else{if(e=Wt,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var h=n;h.status="fulfilled",h.value=o}},function(o){if(n.status==="pending"){var h=n;h.status="rejected",h.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,Zp(e),e}throw Ur=n,Sa}}function kr(e){try{var n=e._init;return n(e._payload)}catch(s){throw s!==null&&typeof s=="object"&&typeof s.then=="function"?(Ur=s,Sa):s}}var Ur=null;function Jp(){if(Ur===null)throw Error(a(459));var e=Ur;return Ur=null,e}function Zp(e){if(e===Sa||e===Vu)throw Error(a(483))}var wa=null,Yo=0;function Uu(e){var n=Yo;return Yo+=1,wa===null&&(wa=[]),$p(wa,e,n)}function Ko(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function Lu(e,n){throw n.$$typeof===D?Error(a(525)):(e=Object.prototype.toString.call(n),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Wp(e){function n(U,O){if(e){var j=U.deletions;j===null?(U.deletions=[O],U.flags|=16):j.push(O)}}function s(U,O){if(!e)return null;for(;O!==null;)n(U,O),O=O.sibling;return null}function o(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Li(U,O),U.index=0,U.sibling=null,U}function f(U,O,j){return U.index=j,e?(j=U.alternate,j!==null?(j=j.index,j<O?(U.flags|=67108866,O):j):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function p(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function E(U,O,j,Q){return O===null||O.tag!==6?(O=Jh(j,U.mode,Q),O.return=U,O):(O=h(O,j),O.return=U,O)}function I(U,O,j,Q){var ct=j.type;return ct===tt?G(U,O,j.props.children,Q,j.key):O!==null&&(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&kr(ct)===O.type)?(O=h(O,j.props),Ko(O,j),O.return=U,O):(O=Iu(j.type,j.key,j.props,null,U.mode,Q),Ko(O,j),O.return=U,O)}function z(U,O,j,Q){return O===null||O.tag!==4||O.stateNode.containerInfo!==j.containerInfo||O.stateNode.implementation!==j.implementation?(O=Zh(j,U.mode,Q),O.return=U,O):(O=h(O,j.children||[]),O.return=U,O)}function G(U,O,j,Q,ct){return O===null||O.tag!==7?(O=Nr(j,U.mode,Q,ct),O.return=U,O):(O=h(O,j),O.return=U,O)}function K(U,O,j){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Jh(""+O,U.mode,j),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case F:return j=Iu(O.type,O.key,O.props,null,U.mode,j),Ko(j,O),j.return=U,j;case W:return O=Zh(O,U.mode,j),O.return=U,O;case w:return O=kr(O),K(U,O,j)}if(fe(O)||L(O))return O=Nr(O,U.mode,j,null),O.return=U,O;if(typeof O.then=="function")return K(U,Uu(O),j);if(O.$$typeof===ft)return K(U,Ou(U,O),j);Lu(U,O)}return null}function B(U,O,j,Q){var ct=O!==null?O.key:null;if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return ct!==null?null:E(U,O,""+j,Q);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case F:return j.key===ct?I(U,O,j,Q):null;case W:return j.key===ct?z(U,O,j,Q):null;case w:return j=kr(j),B(U,O,j,Q)}if(fe(j)||L(j))return ct!==null?null:G(U,O,j,Q,null);if(typeof j.then=="function")return B(U,O,Uu(j),Q);if(j.$$typeof===ft)return B(U,O,Ou(U,j),Q);Lu(U,j)}return null}function H(U,O,j,Q,ct){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return U=U.get(j)||null,E(O,U,""+Q,ct);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case F:return U=U.get(Q.key===null?j:Q.key)||null,I(O,U,Q,ct);case W:return U=U.get(Q.key===null?j:Q.key)||null,z(O,U,Q,ct);case w:return Q=kr(Q),H(U,O,j,Q,ct)}if(fe(Q)||L(Q))return U=U.get(j)||null,G(O,U,Q,ct,null);if(typeof Q.then=="function")return H(U,O,j,Uu(Q),ct);if(Q.$$typeof===ft)return H(U,O,j,Ou(O,Q),ct);Lu(O,Q)}return null}function at(U,O,j,Q){for(var ct=null,zt=null,lt=O,xt=O=0,Ot=null;lt!==null&&xt<j.length;xt++){lt.index>xt?(Ot=lt,lt=null):Ot=lt.sibling;var Bt=B(U,lt,j[xt],Q);if(Bt===null){lt===null&&(lt=Ot);break}e&&lt&&Bt.alternate===null&&n(U,lt),O=f(Bt,O,xt),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt,lt=Ot}if(xt===j.length)return s(U,lt),Lt&&Pi(U,xt),ct;if(lt===null){for(;xt<j.length;xt++)lt=K(U,j[xt],Q),lt!==null&&(O=f(lt,O,xt),zt===null?ct=lt:zt.sibling=lt,zt=lt);return Lt&&Pi(U,xt),ct}for(lt=o(lt);xt<j.length;xt++)Ot=H(lt,U,xt,j[xt],Q),Ot!==null&&(e&&Ot.alternate!==null&&lt.delete(Ot.key===null?xt:Ot.key),O=f(Ot,O,xt),zt===null?ct=Ot:zt.sibling=Ot,zt=Ot);return e&&lt.forEach(function(js){return n(U,js)}),Lt&&Pi(U,xt),ct}function mt(U,O,j,Q){if(j==null)throw Error(a(151));for(var ct=null,zt=null,lt=O,xt=O=0,Ot=null,Bt=j.next();lt!==null&&!Bt.done;xt++,Bt=j.next()){lt.index>xt?(Ot=lt,lt=null):Ot=lt.sibling;var js=B(U,lt,Bt.value,Q);if(js===null){lt===null&&(lt=Ot);break}e&&lt&&js.alternate===null&&n(U,lt),O=f(js,O,xt),zt===null?ct=js:zt.sibling=js,zt=js,lt=Ot}if(Bt.done)return s(U,lt),Lt&&Pi(U,xt),ct;if(lt===null){for(;!Bt.done;xt++,Bt=j.next())Bt=K(U,Bt.value,Q),Bt!==null&&(O=f(Bt,O,xt),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt);return Lt&&Pi(U,xt),ct}for(lt=o(lt);!Bt.done;xt++,Bt=j.next())Bt=H(lt,U,xt,Bt.value,Q),Bt!==null&&(e&&Bt.alternate!==null&&lt.delete(Bt.key===null?xt:Bt.key),O=f(Bt,O,xt),zt===null?ct=Bt:zt.sibling=Bt,zt=Bt);return e&&lt.forEach(function(LA){return n(U,LA)}),Lt&&Pi(U,xt),ct}function Jt(U,O,j,Q){if(typeof j=="object"&&j!==null&&j.type===tt&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case F:t:{for(var ct=j.key;O!==null;){if(O.key===ct){if(ct=j.type,ct===tt){if(O.tag===7){s(U,O.sibling),Q=h(O,j.props.children),Q.return=U,U=Q;break t}}else if(O.elementType===ct||typeof ct=="object"&&ct!==null&&ct.$$typeof===w&&kr(ct)===O.type){s(U,O.sibling),Q=h(O,j.props),Ko(Q,j),Q.return=U,U=Q;break t}s(U,O);break}else n(U,O);O=O.sibling}j.type===tt?(Q=Nr(j.props.children,U.mode,Q,j.key),Q.return=U,U=Q):(Q=Iu(j.type,j.key,j.props,null,U.mode,Q),Ko(Q,j),Q.return=U,U=Q)}return p(U);case W:t:{for(ct=j.key;O!==null;){if(O.key===ct)if(O.tag===4&&O.stateNode.containerInfo===j.containerInfo&&O.stateNode.implementation===j.implementation){s(U,O.sibling),Q=h(O,j.children||[]),Q.return=U,U=Q;break t}else{s(U,O);break}else n(U,O);O=O.sibling}Q=Zh(j,U.mode,Q),Q.return=U,U=Q}return p(U);case w:return j=kr(j),Jt(U,O,j,Q)}if(fe(j))return at(U,O,j,Q);if(L(j)){if(ct=L(j),typeof ct!="function")throw Error(a(150));return j=ct.call(j),mt(U,O,j,Q)}if(typeof j.then=="function")return Jt(U,O,Uu(j),Q);if(j.$$typeof===ft)return Jt(U,O,Ou(U,j),Q);Lu(U,j)}return typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint"?(j=""+j,O!==null&&O.tag===6?(s(U,O.sibling),Q=h(O,j),Q.return=U,U=Q):(s(U,O),Q=Jh(j,U.mode,Q),Q.return=U,U=Q),p(U)):s(U,O)}return function(U,O,j,Q){try{Yo=0;var ct=Jt(U,O,j,Q);return wa=null,ct}catch(lt){if(lt===Sa||lt===Vu)throw lt;var zt=_n(29,lt,null,U.mode);return zt.lanes=Q,zt.return=U,zt}}}var Lr=Wp(!0),tg=Wp(!1),As=!1;function hf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ff(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function bs(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ss(e,n,s){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,(Ht&2)!==0){var h=o.pending;return h===null?n.next=n:(n.next=h.next,h.next=n),o.pending=n,n=xu(e),Lp(e,null,s),n}return Cu(e,o,n,s),xu(e)}function Xo(e,n,s){if(n=n.updateQueue,n!==null&&(n=n.shared,(s&4194048)!==0)){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}function df(e,n){var s=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,s===o)){var h=null,f=null;if(s=s.firstBaseUpdate,s!==null){do{var p={lane:s.lane,tag:s.tag,payload:s.payload,callback:null,next:null};f===null?h=f=p:f=f.next=p,s=s.next}while(s!==null);f===null?h=f=n:f=f.next=n}else h=f=n;s={baseState:o.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=s;return}e=s.lastBaseUpdate,e===null?s.firstBaseUpdate=n:e.next=n,s.lastBaseUpdate=n}var mf=!1;function $o(){if(mf){var e=ba;if(e!==null)throw e}}function Jo(e,n,s,o){mf=!1;var h=e.updateQueue;As=!1;var f=h.firstBaseUpdate,p=h.lastBaseUpdate,E=h.shared.pending;if(E!==null){h.shared.pending=null;var I=E,z=I.next;I.next=null,p===null?f=z:p.next=z,p=I;var G=e.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==p&&(E===null?G.firstBaseUpdate=z:E.next=z,G.lastBaseUpdate=I))}if(f!==null){var K=h.baseState;p=0,G=z=I=null,E=f;do{var B=E.lane&-536870913,H=B!==E.lane;if(H?(Dt&B)===B:(o&B)===B){B!==0&&B===Aa&&(mf=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var at=e,mt=E;B=n;var Jt=s;switch(mt.tag){case 1:if(at=mt.payload,typeof at=="function"){K=at.call(Jt,K,B);break t}K=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=mt.payload,B=typeof at=="function"?at.call(Jt,K,B):at,B==null)break t;K=S({},K,B);break t;case 2:As=!0}}B=E.callback,B!==null&&(e.flags|=64,H&&(e.flags|=8192),H=h.callbacks,H===null?h.callbacks=[B]:H.push(B))}else H={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(z=G=H,I=K):G=G.next=H,p|=B;if(E=E.next,E===null){if(E=h.shared.pending,E===null)break;H=E,E=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);G===null&&(I=K),h.baseState=I,h.firstBaseUpdate=z,h.lastBaseUpdate=G,f===null&&(h.shared.lanes=0),Is|=p,e.lanes=p,e.memoizedState=K}}function eg(e,n){if(typeof e!="function")throw Error(a(191,e));e.call(n)}function ng(e,n){var s=e.callbacks;if(s!==null)for(e.callbacks=null,e=0;e<s.length;e++)eg(s[e],n)}var Ra=V(null),Pu=V(0);function ig(e,n){e=Xi,nt(Pu,e),nt(Ra,n),Xi=e|n.baseLanes}function pf(){nt(Pu,Xi),nt(Ra,Ra.current)}function gf(){Xi=Pu.current,Y(Ra),Y(Pu)}var vn=V(null),Un=null;function ws(e){var n=e.alternate;nt(pe,pe.current&1),nt(vn,e),Un===null&&(n===null||Ra.current!==null||n.memoizedState!==null)&&(Un=e)}function yf(e){nt(pe,pe.current),nt(vn,e),Un===null&&(Un=e)}function sg(e){e.tag===22?(nt(pe,pe.current),nt(vn,e),Un===null&&(Un=e)):Rs()}function Rs(){nt(pe,pe.current),nt(vn,vn.current)}function En(e){Y(vn),Un===e&&(Un=null),Y(pe)}var pe=V(0);function ju(e){for(var n=e;n!==null;){if(n.tag===13){var s=n.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||bd(s)||Sd(s)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Bi=0,Rt=null,Xt=null,we=null,zu=!1,Ca=!1,Pr=!1,Bu=0,Zo=0,xa=null,CT=0;function ce(){throw Error(a(321))}function _f(e,n){if(n===null)return!1;for(var s=0;s<n.length&&s<e.length;s++)if(!yn(e[s],n[s]))return!1;return!0}function vf(e,n,s,o,h,f){return Bi=f,Rt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,N.H=e===null||e.memoizedState===null?Bg:Vf,Pr=!1,f=s(o,h),Pr=!1,Ca&&(f=ag(n,s,o,h)),rg(e),f}function rg(e){N.H=el;var n=Xt!==null&&Xt.next!==null;if(Bi=0,we=Xt=Rt=null,zu=!1,Zo=0,xa=null,n)throw Error(a(300));e===null||Re||(e=e.dependencies,e!==null&&Du(e)&&(Re=!0))}function ag(e,n,s,o){Rt=e;var h=0;do{if(Ca&&(xa=null),Zo=0,Ca=!1,25<=h)throw Error(a(301));if(h+=1,we=Xt=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}N.H=qg,f=n(s,o)}while(Ca);return f}function xT(){var e=N.H,n=e.useState()[0];return n=typeof n.then=="function"?Wo(n):n,e=e.useState()[0],(Xt!==null?Xt.memoizedState:null)!==e&&(Rt.flags|=1024),n}function Ef(){var e=Bu!==0;return Bu=0,e}function Tf(e,n,s){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~s}function Af(e){if(zu){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}zu=!1}Bi=0,we=Xt=Rt=null,Ca=!1,Zo=Bu=0,xa=null}function sn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return we===null?Rt.memoizedState=we=e:we=we.next=e,we}function ge(){if(Xt===null){var e=Rt.alternate;e=e!==null?e.memoizedState:null}else e=Xt.next;var n=we===null?Rt.memoizedState:we.next;if(n!==null)we=n,Xt=e;else{if(e===null)throw Rt.alternate===null?Error(a(467)):Error(a(310));Xt=e,e={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},we===null?Rt.memoizedState=we=e:we=we.next=e}return we}function qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Wo(e){var n=Zo;return Zo+=1,xa===null&&(xa=[]),e=$p(xa,e,n),n=Rt,(we===null?n.memoizedState:we.next)===null&&(n=n.alternate,N.H=n===null||n.memoizedState===null?Bg:Vf),e}function Hu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Wo(e);if(e.$$typeof===ft)return qe(e)}throw Error(a(438,String(e)))}function bf(e){var n=null,s=Rt.updateQueue;if(s!==null&&(n=s.memoCache),n==null){var o=Rt.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(h){return h.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),s===null&&(s=qu(),Rt.updateQueue=s),s.memoCache=n,s=n.data[n.index],s===void 0)for(s=n.data[n.index]=Array(e),o=0;o<e;o++)s[o]=k;return n.index++,s}function qi(e,n){return typeof n=="function"?n(e):n}function Fu(e){var n=ge();return Sf(n,Xt,e)}function Sf(e,n,s){var o=e.queue;if(o===null)throw Error(a(311));o.lastRenderedReducer=s;var h=e.baseQueue,f=o.pending;if(f!==null){if(h!==null){var p=h.next;h.next=f.next,f.next=p}n.baseQueue=h=f,o.pending=null}if(f=e.baseState,h===null)e.memoizedState=f;else{n=h.next;var E=p=null,I=null,z=n,G=!1;do{var K=z.lane&-536870913;if(K!==z.lane?(Dt&K)===K:(Bi&K)===K){var B=z.revertLane;if(B===0)I!==null&&(I=I.next={lane:0,revertLane:0,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),K===Aa&&(G=!0);else if((Bi&B)===B){z=z.next,B===Aa&&(G=!0);continue}else K={lane:0,revertLane:z.revertLane,gesture:null,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=K,p=f):I=I.next=K,Rt.lanes|=B,Is|=B;K=z.action,Pr&&s(f,K),f=z.hasEagerState?z.eagerState:s(f,K)}else B={lane:K,revertLane:z.revertLane,gesture:z.gesture,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},I===null?(E=I=B,p=f):I=I.next=B,Rt.lanes|=K,Is|=K;z=z.next}while(z!==null&&z!==n);if(I===null?p=f:I.next=E,!yn(f,e.memoizedState)&&(Re=!0,G&&(s=ba,s!==null)))throw s;e.memoizedState=f,e.baseState=p,e.baseQueue=I,o.lastRenderedState=f}return h===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function wf(e){var n=ge(),s=n.queue;if(s===null)throw Error(a(311));s.lastRenderedReducer=e;var o=s.dispatch,h=s.pending,f=n.memoizedState;if(h!==null){s.pending=null;var p=h=h.next;do f=e(f,p.action),p=p.next;while(p!==h);yn(f,n.memoizedState)||(Re=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),s.lastRenderedState=f}return[f,o]}function og(e,n,s){var o=Rt,h=ge(),f=Lt;if(f){if(s===void 0)throw Error(a(407));s=s()}else s=n();var p=!yn((Xt||h).memoizedState,s);if(p&&(h.memoizedState=s,Re=!0),h=h.queue,xf(cg.bind(null,o,h,e),[e]),h.getSnapshot!==n||p||we!==null&&we.memoizedState.tag&1){if(o.flags|=2048,Ia(9,{destroy:void 0},ug.bind(null,o,h,s,n),null),Wt===null)throw Error(a(349));f||(Bi&127)!==0||lg(o,n,s)}return s}function lg(e,n,s){e.flags|=16384,e={getSnapshot:n,value:s},n=Rt.updateQueue,n===null?(n=qu(),Rt.updateQueue=n,n.stores=[e]):(s=n.stores,s===null?n.stores=[e]:s.push(e))}function ug(e,n,s,o){n.value=s,n.getSnapshot=o,hg(n)&&fg(e)}function cg(e,n,s){return s(function(){hg(n)&&fg(e)})}function hg(e){var n=e.getSnapshot;e=e.value;try{var s=n();return!yn(e,s)}catch{return!0}}function fg(e){var n=Ir(e,2);n!==null&&hn(n,e,2)}function Rf(e){var n=sn();if(typeof e=="function"){var s=e;if(e=s(),Pr){Rn(!0);try{s()}finally{Rn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:e},n}function dg(e,n,s,o){return e.baseState=s,Sf(e,Xt,typeof o=="function"?o:qi)}function IT(e,n,s,o,h){if(Yu(e))throw Error(a(485));if(e=n.action,e!==null){var f={payload:h,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(p){f.listeners.push(p)}};N.T!==null?s(!0):f.isTransition=!1,o(f),s=n.pending,s===null?(f.next=n.pending=f,mg(n,f)):(f.next=s.next,n.pending=s.next=f)}}function mg(e,n){var s=n.action,o=n.payload,h=e.state;if(n.isTransition){var f=N.T,p={};N.T=p;try{var E=s(h,o),I=N.S;I!==null&&I(p,E),pg(e,n,E)}catch(z){Cf(e,n,z)}finally{f!==null&&p.types!==null&&(f.types=p.types),N.T=f}}else try{f=s(h,o),pg(e,n,f)}catch(z){Cf(e,n,z)}}function pg(e,n,s){s!==null&&typeof s=="object"&&typeof s.then=="function"?s.then(function(o){gg(e,n,o)},function(o){return Cf(e,n,o)}):gg(e,n,s)}function gg(e,n,s){n.status="fulfilled",n.value=s,yg(n),e.state=s,n=e.pending,n!==null&&(s=n.next,s===n?e.pending=null:(s=s.next,n.next=s,mg(e,s)))}function Cf(e,n,s){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=s,yg(n),n=n.next;while(n!==o)}e.action=null}function yg(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function _g(e,n){return n}function vg(e,n){if(Lt){var s=Wt.formState;if(s!==null){t:{var o=Rt;if(Lt){if(ne){e:{for(var h=ne,f=kn;h.nodeType!==8;){if(!f){h=null;break e}if(h=Ln(h.nextSibling),h===null){h=null;break e}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ne=Ln(h.nextSibling),o=h.data==="F!";break t}}Es(o)}o=!1}o&&(n=s[0])}}return s=sn(),s.memoizedState=s.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_g,lastRenderedState:n},s.queue=o,s=Pg.bind(null,Rt,o),o.dispatch=s,o=Rf(!1),f=Mf.bind(null,Rt,!1,o.queue),o=sn(),h={state:n,dispatch:null,action:e,pending:null},o.queue=h,s=IT.bind(null,Rt,h,f,s),h.dispatch=s,o.memoizedState=e,[n,s,!1]}function Eg(e){var n=ge();return Tg(n,Xt,e)}function Tg(e,n,s){if(n=Sf(e,n,_g)[0],e=Fu(qi)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var o=Wo(n)}catch(p){throw p===Sa?Vu:p}else o=n;n=ge();var h=n.queue,f=h.dispatch;return s!==n.memoizedState&&(Rt.flags|=2048,Ia(9,{destroy:void 0},NT.bind(null,h,s),null)),[o,f,e]}function NT(e,n){e.action=n}function Ag(e){var n=ge(),s=Xt;if(s!==null)return Tg(n,s,e);ge(),n=n.memoizedState,s=ge();var o=s.queue.dispatch;return s.memoizedState=e,[n,o,!1]}function Ia(e,n,s,o){return e={tag:e,create:s,deps:o,inst:n,next:null},n=Rt.updateQueue,n===null&&(n=qu(),Rt.updateQueue=n),s=n.lastEffect,s===null?n.lastEffect=e.next=e:(o=s.next,s.next=e,e.next=o,n.lastEffect=e),e}function bg(){return ge().memoizedState}function Gu(e,n,s,o){var h=sn();Rt.flags|=e,h.memoizedState=Ia(1|n,{destroy:void 0},s,o===void 0?null:o)}function Qu(e,n,s,o){var h=ge();o=o===void 0?null:o;var f=h.memoizedState.inst;Xt!==null&&o!==null&&_f(o,Xt.memoizedState.deps)?h.memoizedState=Ia(n,f,s,o):(Rt.flags|=e,h.memoizedState=Ia(1|n,f,s,o))}function Sg(e,n){Gu(8390656,8,e,n)}function xf(e,n){Qu(2048,8,e,n)}function DT(e){Rt.flags|=4;var n=Rt.updateQueue;if(n===null)n=qu(),Rt.updateQueue=n,n.events=[e];else{var s=n.events;s===null?n.events=[e]:s.push(e)}}function wg(e){var n=ge().memoizedState;return DT({ref:n,nextImpl:e}),function(){if((Ht&2)!==0)throw Error(a(440));return n.impl.apply(void 0,arguments)}}function Rg(e,n){return Qu(4,2,e,n)}function Cg(e,n){return Qu(4,4,e,n)}function xg(e,n){if(typeof n=="function"){e=e();var s=n(e);return function(){typeof s=="function"?s():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Ig(e,n,s){s=s!=null?s.concat([e]):null,Qu(4,4,xg.bind(null,n,e),s)}function If(){}function Ng(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;return n!==null&&_f(n,o[1])?o[0]:(s.memoizedState=[e,n],e)}function Dg(e,n){var s=ge();n=n===void 0?null:n;var o=s.memoizedState;if(n!==null&&_f(n,o[1]))return o[0];if(o=e(),Pr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[o,n],o}function Nf(e,n,s){return s===void 0||(Bi&1073741824)!==0&&(Dt&261930)===0?e.memoizedState=n:(e.memoizedState=s,e=Oy(),Rt.lanes|=e,Is|=e,s)}function Og(e,n,s,o){return yn(s,n)?s:Ra.current!==null?(e=Nf(e,s,o),yn(e,n)||(Re=!0),e):(Bi&42)===0||(Bi&1073741824)!==0&&(Dt&261930)===0?(Re=!0,e.memoizedState=s):(e=Oy(),Rt.lanes|=e,Is|=e,n)}function Mg(e,n,s,o,h){var f=X.p;X.p=f!==0&&8>f?f:8;var p=N.T,E={};N.T=E,Mf(e,!1,n,s);try{var I=h(),z=N.S;if(z!==null&&z(E,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var G=RT(I,o);tl(e,n,G,bn(e))}else tl(e,n,o,bn(e))}catch(K){tl(e,n,{then:function(){},status:"rejected",reason:K},bn())}finally{X.p=f,p!==null&&E.types!==null&&(p.types=E.types),N.T=p}}function OT(){}function Df(e,n,s,o){if(e.tag!==5)throw Error(a(476));var h=Vg(e).queue;Mg(e,h,n,it,s===null?OT:function(){return kg(e),s(o)})}function Vg(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:it,baseState:it,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:it},next:null};var s={};return n.next={memoizedState:s,baseState:s,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qi,lastRenderedState:s},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function kg(e){var n=Vg(e);n.next===null&&(n=e.alternate.memoizedState),tl(e,n.next.queue,{},bn())}function Of(){return qe(yl)}function Ug(){return ge().memoizedState}function Lg(){return ge().memoizedState}function MT(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var s=bn();e=bs(s);var o=Ss(n,e,s);o!==null&&(hn(o,n,s),Xo(o,n,s)),n={cache:of()},e.payload=n;return}n=n.return}}function VT(e,n,s){var o=bn();s={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null},Yu(e)?jg(n,s):(s=Xh(e,n,s,o),s!==null&&(hn(s,e,o),zg(s,n,o)))}function Pg(e,n,s){var o=bn();tl(e,n,s,o)}function tl(e,n,s,o){var h={lane:o,revertLane:0,gesture:null,action:s,hasEagerState:!1,eagerState:null,next:null};if(Yu(e))jg(n,h);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var p=n.lastRenderedState,E=f(p,s);if(h.hasEagerState=!0,h.eagerState=E,yn(E,p))return Cu(e,n,h,0),Wt===null&&Ru(),!1}catch{}if(s=Xh(e,n,h,o),s!==null)return hn(s,e,o),zg(s,n,o),!0}return!1}function Mf(e,n,s,o){if(o={lane:2,revertLane:hd(),gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Yu(e)){if(n)throw Error(a(479))}else n=Xh(e,s,o,2),n!==null&&hn(n,e,2)}function Yu(e){var n=e.alternate;return e===Rt||n!==null&&n===Rt}function jg(e,n){Ca=zu=!0;var s=e.pending;s===null?n.next=n:(n.next=s.next,s.next=n),e.pending=n}function zg(e,n,s){if((s&4194048)!==0){var o=n.lanes;o&=e.pendingLanes,s|=o,n.lanes=s,Ao(e,s)}}var el={readContext:qe,use:Hu,useCallback:ce,useContext:ce,useEffect:ce,useImperativeHandle:ce,useLayoutEffect:ce,useInsertionEffect:ce,useMemo:ce,useReducer:ce,useRef:ce,useState:ce,useDebugValue:ce,useDeferredValue:ce,useTransition:ce,useSyncExternalStore:ce,useId:ce,useHostTransitionStatus:ce,useFormState:ce,useActionState:ce,useOptimistic:ce,useMemoCache:ce,useCacheRefresh:ce};el.useEffectEvent=ce;var Bg={readContext:qe,use:Hu,useCallback:function(e,n){return sn().memoizedState=[e,n===void 0?null:n],e},useContext:qe,useEffect:Sg,useImperativeHandle:function(e,n,s){s=s!=null?s.concat([e]):null,Gu(4194308,4,xg.bind(null,n,e),s)},useLayoutEffect:function(e,n){return Gu(4194308,4,e,n)},useInsertionEffect:function(e,n){Gu(4,2,e,n)},useMemo:function(e,n){var s=sn();n=n===void 0?null:n;var o=e();if(Pr){Rn(!0);try{e()}finally{Rn(!1)}}return s.memoizedState=[o,n],o},useReducer:function(e,n,s){var o=sn();if(s!==void 0){var h=s(n);if(Pr){Rn(!0);try{s(n)}finally{Rn(!1)}}}else h=n;return o.memoizedState=o.baseState=h,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:h},o.queue=e,e=e.dispatch=VT.bind(null,Rt,e),[o.memoizedState,e]},useRef:function(e){var n=sn();return e={current:e},n.memoizedState=e},useState:function(e){e=Rf(e);var n=e.queue,s=Pg.bind(null,Rt,n);return n.dispatch=s,[e.memoizedState,s]},useDebugValue:If,useDeferredValue:function(e,n){var s=sn();return Nf(s,e,n)},useTransition:function(){var e=Rf(!1);return e=Mg.bind(null,Rt,e.queue,!0,!1),sn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,s){var o=Rt,h=sn();if(Lt){if(s===void 0)throw Error(a(407));s=s()}else{if(s=n(),Wt===null)throw Error(a(349));(Dt&127)!==0||lg(o,n,s)}h.memoizedState=s;var f={value:s,getSnapshot:n};return h.queue=f,Sg(cg.bind(null,o,f,e),[e]),o.flags|=2048,Ia(9,{destroy:void 0},ug.bind(null,o,f,s,n),null),s},useId:function(){var e=sn(),n=Wt.identifierPrefix;if(Lt){var s=Ti,o=Ei;s=(o&~(1<<32-de(o)-1)).toString(32)+s,n="_"+n+"R_"+s,s=Bu++,0<s&&(n+="H"+s.toString(32)),n+="_"}else s=CT++,n="_"+n+"r_"+s.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Of,useFormState:vg,useActionState:vg,useOptimistic:function(e){var n=sn();n.memoizedState=n.baseState=e;var s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=s,n=Mf.bind(null,Rt,!0,s),s.dispatch=n,[e,n]},useMemoCache:bf,useCacheRefresh:function(){return sn().memoizedState=MT.bind(null,Rt)},useEffectEvent:function(e){var n=sn(),s={impl:e};return n.memoizedState=s,function(){if((Ht&2)!==0)throw Error(a(440));return s.impl.apply(void 0,arguments)}}},Vf={readContext:qe,use:Hu,useCallback:Ng,useContext:qe,useEffect:xf,useImperativeHandle:Ig,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:Dg,useReducer:Fu,useRef:bg,useState:function(){return Fu(qi)},useDebugValue:If,useDeferredValue:function(e,n){var s=ge();return Og(s,Xt.memoizedState,e,n)},useTransition:function(){var e=Fu(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:Of,useFormState:Eg,useActionState:Eg,useOptimistic:function(e,n){var s=ge();return dg(s,Xt,e,n)},useMemoCache:bf,useCacheRefresh:Lg};Vf.useEffectEvent=wg;var qg={readContext:qe,use:Hu,useCallback:Ng,useContext:qe,useEffect:xf,useImperativeHandle:Ig,useInsertionEffect:Rg,useLayoutEffect:Cg,useMemo:Dg,useReducer:wf,useRef:bg,useState:function(){return wf(qi)},useDebugValue:If,useDeferredValue:function(e,n){var s=ge();return Xt===null?Nf(s,e,n):Og(s,Xt.memoizedState,e,n)},useTransition:function(){var e=wf(qi)[0],n=ge().memoizedState;return[typeof e=="boolean"?e:Wo(e),n]},useSyncExternalStore:og,useId:Ug,useHostTransitionStatus:Of,useFormState:Ag,useActionState:Ag,useOptimistic:function(e,n){var s=ge();return Xt!==null?dg(s,Xt,e,n):(s.baseState=e,[e,s.queue.dispatch])},useMemoCache:bf,useCacheRefresh:Lg};qg.useEffectEvent=wg;function kf(e,n,s,o){n=e.memoizedState,s=s(o,n),s=s==null?n:S({},n,s),e.memoizedState=s,e.lanes===0&&(e.updateQueue.baseState=s)}var Uf={enqueueSetState:function(e,n,s){e=e._reactInternals;var o=bn(),h=bs(o);h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,o),n!==null&&(hn(n,e,o),Xo(n,e,o))},enqueueReplaceState:function(e,n,s){e=e._reactInternals;var o=bn(),h=bs(o);h.tag=1,h.payload=n,s!=null&&(h.callback=s),n=Ss(e,h,o),n!==null&&(hn(n,e,o),Xo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var s=bn(),o=bs(s);o.tag=2,n!=null&&(o.callback=n),n=Ss(e,o,s),n!==null&&(hn(n,e,s),Xo(n,e,s))}};function Hg(e,n,s,o,h,f,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,p):n.prototype&&n.prototype.isPureReactComponent?!Bo(s,o)||!Bo(h,f):!0}function Fg(e,n,s,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(s,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(s,o),n.state!==e&&Uf.enqueueReplaceState(n,n.state,null)}function jr(e,n){var s=n;if("ref"in n){s={};for(var o in n)o!=="ref"&&(s[o]=n[o])}if(e=e.defaultProps){s===n&&(s=S({},s));for(var h in e)s[h]===void 0&&(s[h]=e[h])}return s}function Gg(e){wu(e)}function Qg(e){console.error(e)}function Yg(e){wu(e)}function Ku(e,n){try{var s=e.onUncaughtError;s(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Kg(e,n,s){try{var o=e.onCaughtError;o(s.value,{componentStack:s.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Lf(e,n,s){return s=bs(s),s.tag=3,s.payload={element:null},s.callback=function(){Ku(e,n)},s}function Xg(e){return e=bs(e),e.tag=3,e}function $g(e,n,s,o){var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var f=o.value;e.payload=function(){return h(f)},e.callback=function(){Kg(n,s,o)}}var p=s.stateNode;p!==null&&typeof p.componentDidCatch=="function"&&(e.callback=function(){Kg(n,s,o),typeof h!="function"&&(Ns===null?Ns=new Set([this]):Ns.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function kT(e,n,s,o,h){if(s.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=s.alternate,n!==null&&Ta(n,s,h,!0),s=vn.current,s!==null){switch(s.tag){case 31:case 13:return Un===null?ac():s.alternate===null&&he===0&&(he=3),s.flags&=-257,s.flags|=65536,s.lanes=h,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?s.updateQueue=new Set([o]):n.add(o),ld(e,o,h)),!1;case 22:return s.flags|=65536,o===ku?s.flags|=16384:(n=s.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},s.updateQueue=n):(s=n.retryQueue,s===null?n.retryQueue=new Set([o]):s.add(o)),ld(e,o,h)),!1}throw Error(a(435,s.tag))}return ld(e,o,h),ac(),!1}if(Lt)return n=vn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=h,o!==ef&&(e=Error(a(422),{cause:o}),Fo(On(e,s)))):(o!==ef&&(n=Error(a(423),{cause:o}),Fo(On(n,s))),e=e.current.alternate,e.flags|=65536,h&=-h,e.lanes|=h,o=On(o,s),h=Lf(e.stateNode,o,h),df(e,h),he!==4&&(he=2)),!1;var f=Error(a(520),{cause:o});if(f=On(f,s),ul===null?ul=[f]:ul.push(f),he!==4&&(he=2),n===null)return!0;o=On(o,s),s=n;do{switch(s.tag){case 3:return s.flags|=65536,e=h&-h,s.lanes|=e,e=Lf(s.stateNode,o,e),df(s,e),!1;case 1:if(n=s.type,f=s.stateNode,(s.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ns===null||!Ns.has(f))))return s.flags|=65536,h&=-h,s.lanes|=h,h=Xg(h),$g(h,e,s,o),df(s,h),!1}s=s.return}while(s!==null);return!1}var Pf=Error(a(461)),Re=!1;function He(e,n,s,o){n.child=e===null?tg(n,null,s,o):Lr(n,e.child,s,o)}function Jg(e,n,s,o,h){s=s.render;var f=n.ref;if("ref"in o){var p={};for(var E in o)E!=="ref"&&(p[E]=o[E])}else p=o;return Mr(n),o=vf(e,n,s,p,f,h),E=Ef(),e!==null&&!Re?(Tf(e,n,h),Hi(e,n,h)):(Lt&&E&&Wh(n),n.flags|=1,He(e,n,o,h),n.child)}function Zg(e,n,s,o,h){if(e===null){var f=s.type;return typeof f=="function"&&!$h(f)&&f.defaultProps===void 0&&s.compare===null?(n.tag=15,n.type=f,Wg(e,n,f,o,h)):(e=Iu(s.type,null,o,n,n.mode,h),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Qf(e,h)){var p=f.memoizedProps;if(s=s.compare,s=s!==null?s:Bo,s(p,o)&&e.ref===n.ref)return Hi(e,n,h)}return n.flags|=1,e=Li(f,o),e.ref=n.ref,e.return=n,n.child=e}function Wg(e,n,s,o,h){if(e!==null){var f=e.memoizedProps;if(Bo(f,o)&&e.ref===n.ref)if(Re=!1,n.pendingProps=o=f,Qf(e,h))(e.flags&131072)!==0&&(Re=!0);else return n.lanes=e.lanes,Hi(e,n,h)}return jf(e,n,s,o,h)}function ty(e,n,s,o){var h=o.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),o.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|s:s,e!==null){for(o=n.child=e.child,h=0;o!==null;)h=h|o.lanes|o.childLanes,o=o.sibling;o=h&~f}else o=0,n.child=null;return ey(e,n,f,s,o)}if((s&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&Mu(n,f!==null?f.cachePool:null),f!==null?ig(n,f):pf(),sg(n);else return o=n.lanes=536870912,ey(e,n,f!==null?f.baseLanes|s:s,s,o)}else f!==null?(Mu(n,f.cachePool),ig(n,f),Rs(),n.memoizedState=null):(e!==null&&Mu(n,null),pf(),Rs());return He(e,n,h,s),n.child}function nl(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function ey(e,n,s,o,h){var f=uf();return f=f===null?null:{parent:Se._currentValue,pool:f},n.memoizedState={baseLanes:s,cachePool:f},e!==null&&Mu(n,null),pf(),sg(n),e!==null&&Ta(e,n,o,!0),n.childLanes=h,null}function Xu(e,n){return n=Ju({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function ny(e,n,s){return Lr(n,e.child,null,s),e=Xu(n,n.pendingProps),e.flags|=2,En(n),n.memoizedState=null,e}function UT(e,n,s){var o=n.pendingProps,h=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(Lt){if(o.mode==="hidden")return e=Xu(n,o),n.lanes=536870912,nl(null,e);if(yf(n),(e=ne)?(e=m_(e,kn),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=jp(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw Es(n);return n.lanes=536870912,null}return Xu(n,o)}var f=e.memoizedState;if(f!==null){var p=f.dehydrated;if(yf(n),h)if(n.flags&256)n.flags&=-257,n=ny(e,n,s);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(a(558));else if(Re||Ta(e,n,s,!1),h=(s&e.childLanes)!==0,Re||h){if(o=Wt,o!==null&&(p=bo(o,s),p!==0&&p!==f.retryLane))throw f.retryLane=p,Ir(e,p),hn(o,e,p),Pf;ac(),n=ny(e,n,s)}else e=f.treeContext,ne=Ln(p.nextSibling),Be=n,Lt=!0,vs=null,kn=!1,e!==null&&qp(n,e),n=Xu(n,o),n.flags|=4096;return n}return e=Li(e.child,{mode:o.mode,children:o.children}),e.ref=n.ref,n.child=e,e.return=n,e}function $u(e,n){var s=n.ref;if(s===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof s!="function"&&typeof s!="object")throw Error(a(284));(e===null||e.ref!==s)&&(n.flags|=4194816)}}function jf(e,n,s,o,h){return Mr(n),s=vf(e,n,s,o,void 0,h),o=Ef(),e!==null&&!Re?(Tf(e,n,h),Hi(e,n,h)):(Lt&&o&&Wh(n),n.flags|=1,He(e,n,s,h),n.child)}function iy(e,n,s,o,h,f){return Mr(n),n.updateQueue=null,s=ag(n,o,s,h),rg(e),o=Ef(),e!==null&&!Re?(Tf(e,n,f),Hi(e,n,f)):(Lt&&o&&Wh(n),n.flags|=1,He(e,n,s,f),n.child)}function sy(e,n,s,o,h){if(Mr(n),n.stateNode===null){var f=ya,p=s.contextType;typeof p=="object"&&p!==null&&(f=qe(p)),f=new s(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Uf,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},hf(n),p=s.contextType,f.context=typeof p=="object"&&p!==null?qe(p):ya,f.state=n.memoizedState,p=s.getDerivedStateFromProps,typeof p=="function"&&(kf(n,s,p,o),f.state=n.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(p=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),p!==f.state&&Uf.enqueueReplaceState(f,f.state,null),Jo(n,o,f,h),$o(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,I=jr(s,E);f.props=I;var z=f.context,G=s.contextType;p=ya,typeof G=="object"&&G!==null&&(p=qe(G));var K=s.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||z!==p)&&Fg(n,f,o,p),As=!1;var B=n.memoizedState;f.state=B,Jo(n,o,f,h),$o(),z=n.memoizedState,E||B!==z||As?(typeof K=="function"&&(kf(n,s,K,o),z=n.memoizedState),(I=As||Hg(n,s,I,o,B,z,p))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=z),f.props=o,f.state=z,f.context=p,o=I):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,ff(e,n),p=n.memoizedProps,G=jr(s,p),f.props=G,K=n.pendingProps,B=f.context,z=s.contextType,I=ya,typeof z=="object"&&z!==null&&(I=qe(z)),E=s.getDerivedStateFromProps,(z=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(p!==K||B!==I)&&Fg(n,f,o,I),As=!1,B=n.memoizedState,f.state=B,Jo(n,o,f,h),$o();var H=n.memoizedState;p!==K||B!==H||As||e!==null&&e.dependencies!==null&&Du(e.dependencies)?(typeof E=="function"&&(kf(n,s,E,o),H=n.memoizedState),(G=As||Hg(n,s,G,o,B,H,I)||e!==null&&e.dependencies!==null&&Du(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,H,I)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=H),f.props=o,f.state=H,f.context=I,o=G):(typeof f.componentDidUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||p===e.memoizedProps&&B===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,$u(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,s=o&&typeof s.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=Lr(n,e.child,null,h),n.child=Lr(n,null,s,h)):He(e,n,s,h),n.memoizedState=f.state,e=n.child):e=Hi(e,n,h),e}function ry(e,n,s,o){return Dr(),n.flags|=256,He(e,n,s,o),n.child}var zf={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bf(e){return{baseLanes:e,cachePool:Kp()}}function qf(e,n,s){return e=e!==null?e.childLanes&~s:0,n&&(e|=An),e}function ay(e,n,s){var o=n.pendingProps,h=!1,f=(n.flags&128)!==0,p;if((p=f)||(p=e!==null&&e.memoizedState===null?!1:(pe.current&2)!==0),p&&(h=!0,n.flags&=-129),p=(n.flags&32)!==0,n.flags&=-33,e===null){if(Lt){if(h?ws(n):Rs(),(e=ne)?(e=m_(e,kn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_s!==null?{id:Ei,overflow:Ti}:null,retryLane:536870912,hydrationErrors:null},s=jp(e),s.return=n,n.child=s,Be=n,ne=null)):e=null,e===null)throw Es(n);return Sd(e)?n.lanes=32:n.lanes=536870912,null}var E=o.children;return o=o.fallback,h?(Rs(),h=n.mode,E=Ju({mode:"hidden",children:E},h),o=Nr(o,h,s,null),E.return=n,o.return=n,E.sibling=o,n.child=E,o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(e,p,s),n.memoizedState=zf,nl(null,o)):(ws(n),Hf(n,E))}var I=e.memoizedState;if(I!==null&&(E=I.dehydrated,E!==null)){if(f)n.flags&256?(ws(n),n.flags&=-257,n=Ff(e,n,s)):n.memoizedState!==null?(Rs(),n.child=e.child,n.flags|=128,n=null):(Rs(),E=o.fallback,h=n.mode,o=Ju({mode:"visible",children:o.children},h),E=Nr(E,h,s,null),E.flags|=2,o.return=n,E.return=n,o.sibling=E,n.child=o,Lr(n,e.child,null,s),o=n.child,o.memoizedState=Bf(s),o.childLanes=qf(e,p,s),n.memoizedState=zf,n=nl(null,o));else if(ws(n),Sd(E)){if(p=E.nextSibling&&E.nextSibling.dataset,p)var z=p.dgst;p=z,o=Error(a(419)),o.stack="",o.digest=p,Fo({value:o,source:null,stack:null}),n=Ff(e,n,s)}else if(Re||Ta(e,n,s,!1),p=(s&e.childLanes)!==0,Re||p){if(p=Wt,p!==null&&(o=bo(p,s),o!==0&&o!==I.retryLane))throw I.retryLane=o,Ir(e,o),hn(p,e,o),Pf;bd(E)||ac(),n=Ff(e,n,s)}else bd(E)?(n.flags|=192,n.child=e.child,n=null):(e=I.treeContext,ne=Ln(E.nextSibling),Be=n,Lt=!0,vs=null,kn=!1,e!==null&&qp(n,e),n=Hf(n,o.children),n.flags|=4096);return n}return h?(Rs(),E=o.fallback,h=n.mode,I=e.child,z=I.sibling,o=Li(I,{mode:"hidden",children:o.children}),o.subtreeFlags=I.subtreeFlags&65011712,z!==null?E=Li(z,E):(E=Nr(E,h,s,null),E.flags|=2),E.return=n,o.return=n,o.sibling=E,n.child=o,nl(null,o),o=n.child,E=e.child.memoizedState,E===null?E=Bf(s):(h=E.cachePool,h!==null?(I=Se._currentValue,h=h.parent!==I?{parent:I,pool:I}:h):h=Kp(),E={baseLanes:E.baseLanes|s,cachePool:h}),o.memoizedState=E,o.childLanes=qf(e,p,s),n.memoizedState=zf,nl(e.child,o)):(ws(n),s=e.child,e=s.sibling,s=Li(s,{mode:"visible",children:o.children}),s.return=n,s.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=s,n.memoizedState=null,s)}function Hf(e,n){return n=Ju({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Ju(e,n){return e=_n(22,e,null,n),e.lanes=0,e}function Ff(e,n,s){return Lr(n,e.child,null,s),e=Hf(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function oy(e,n,s){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),rf(e.return,n,s)}function Gf(e,n,s,o,h,f){var p=e.memoizedState;p===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:s,tailMode:h,treeForkCount:f}:(p.isBackwards=n,p.rendering=null,p.renderingStartTime=0,p.last=o,p.tail=s,p.tailMode=h,p.treeForkCount=f)}function ly(e,n,s){var o=n.pendingProps,h=o.revealOrder,f=o.tail;o=o.children;var p=pe.current,E=(p&2)!==0;if(E?(p=p&1|2,n.flags|=128):p&=1,nt(pe,p),He(e,n,o,s),o=Lt?Ho:0,!E&&e!==null&&(e.flags&128)!==0)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&oy(e,s,n);else if(e.tag===19)oy(e,s,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(h){case"forwards":for(s=n.child,h=null;s!==null;)e=s.alternate,e!==null&&ju(e)===null&&(h=s),s=s.sibling;s=h,s===null?(h=n.child,n.child=null):(h=s.sibling,s.sibling=null),Gf(n,!1,h,s,f,o);break;case"backwards":case"unstable_legacy-backwards":for(s=null,h=n.child,n.child=null;h!==null;){if(e=h.alternate,e!==null&&ju(e)===null){n.child=h;break}e=h.sibling,h.sibling=s,s=h,h=e}Gf(n,!0,s,null,f,o);break;case"together":Gf(n,!1,null,null,void 0,o);break;default:n.memoizedState=null}return n.child}function Hi(e,n,s){if(e!==null&&(n.dependencies=e.dependencies),Is|=n.lanes,(s&n.childLanes)===0)if(e!==null){if(Ta(e,n,s,!1),(s&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(a(153));if(n.child!==null){for(e=n.child,s=Li(e,e.pendingProps),n.child=s,s.return=n;e.sibling!==null;)e=e.sibling,s=s.sibling=Li(e,e.pendingProps),s.return=n;s.sibling=null}return n.child}function Qf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&Du(e)))}function LT(e,n,s){switch(n.tag){case 3:Ne(n,n.stateNode.containerInfo),Ts(n,Se,e.memoizedState.cache),Dr();break;case 27:case 5:hr(n);break;case 4:Ne(n,n.stateNode.containerInfo);break;case 10:Ts(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,yf(n),null;break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ws(n),n.flags|=128,null):(s&n.child.childLanes)!==0?ay(e,n,s):(ws(n),e=Hi(e,n,s),e!==null?e.sibling:null);ws(n);break;case 19:var h=(e.flags&128)!==0;if(o=(s&n.childLanes)!==0,o||(Ta(e,n,s,!1),o=(s&n.childLanes)!==0),h){if(o)return ly(e,n,s);n.flags|=128}if(h=n.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),nt(pe,pe.current),o)break;return null;case 22:return n.lanes=0,ty(e,n,s,n.pendingProps);case 24:Ts(n,Se,e.memoizedState.cache)}return Hi(e,n,s)}function uy(e,n,s){if(e!==null)if(e.memoizedProps!==n.pendingProps)Re=!0;else{if(!Qf(e,s)&&(n.flags&128)===0)return Re=!1,LT(e,n,s);Re=(e.flags&131072)!==0}else Re=!1,Lt&&(n.flags&1048576)!==0&&Bp(n,Ho,n.index);switch(n.lanes=0,n.tag){case 16:t:{var o=n.pendingProps;if(e=kr(n.elementType),n.type=e,typeof e=="function")$h(e)?(o=jr(e,o),n.tag=1,n=sy(null,n,e,o,s)):(n.tag=0,n=jf(null,n,e,o,s));else{if(e!=null){var h=e.$$typeof;if(h===Ut){n.tag=11,n=Jg(null,n,e,o,s);break t}else if(h===C){n.tag=14,n=Zg(null,n,e,o,s);break t}}throw n=ee(e)||e,Error(a(306,n,""))}}return n;case 0:return jf(e,n,n.type,n.pendingProps,s);case 1:return o=n.type,h=jr(o,n.pendingProps),sy(e,n,o,h,s);case 3:t:{if(Ne(n,n.stateNode.containerInfo),e===null)throw Error(a(387));o=n.pendingProps;var f=n.memoizedState;h=f.element,ff(e,n),Jo(n,o,null,s);var p=n.memoizedState;if(o=p.cache,Ts(n,Se,o),o!==f.cache&&af(n,[Se],s,!0),$o(),o=p.element,f.isDehydrated)if(f={element:o,isDehydrated:!1,cache:p.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=ry(e,n,o,s);break t}else if(o!==h){h=On(Error(a(424)),n),Fo(h),n=ry(e,n,o,s);break t}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,ne=Ln(e.firstChild),Be=n,Lt=!0,vs=null,kn=!0,s=tg(n,null,o,s),n.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Dr(),o===h){n=Hi(e,n,s);break t}He(e,n,o,s)}n=n.child}return n;case 26:return $u(e,n),e===null?(s=E_(n.type,null,n.pendingProps,null))?n.memoizedState=s:Lt||(s=n.type,e=n.pendingProps,o=dc(Ct.current).createElement(s),o[Te]=n,o[ke]=e,Fe(o,s,e),Ae(o),n.stateNode=o):n.memoizedState=E_(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return hr(n),e===null&&Lt&&(o=n.stateNode=y_(n.type,n.pendingProps,Ct.current),Be=n,kn=!0,h=ne,Vs(n.type)?(wd=h,ne=Ln(o.firstChild)):ne=h),He(e,n,n.pendingProps.children,s),$u(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&Lt&&((h=o=ne)&&(o=dA(o,n.type,n.pendingProps,kn),o!==null?(n.stateNode=o,Be=n,ne=Ln(o.firstChild),kn=!1,h=!0):h=!1),h||Es(n)),hr(n),h=n.type,f=n.pendingProps,p=e!==null?e.memoizedProps:null,o=f.children,Ed(h,f)?o=null:p!==null&&Ed(h,p)&&(n.flags|=32),n.memoizedState!==null&&(h=vf(e,n,xT,null,null,s),yl._currentValue=h),$u(e,n),He(e,n,o,s),n.child;case 6:return e===null&&Lt&&((e=s=ne)&&(s=mA(s,n.pendingProps,kn),s!==null?(n.stateNode=s,Be=n,ne=null,e=!0):e=!1),e||Es(n)),null;case 13:return ay(e,n,s);case 4:return Ne(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=Lr(n,null,o,s):He(e,n,o,s),n.child;case 11:return Jg(e,n,n.type,n.pendingProps,s);case 7:return He(e,n,n.pendingProps,s),n.child;case 8:return He(e,n,n.pendingProps.children,s),n.child;case 12:return He(e,n,n.pendingProps.children,s),n.child;case 10:return o=n.pendingProps,Ts(n,n.type,o.value),He(e,n,o.children,s),n.child;case 9:return h=n.type._context,o=n.pendingProps.children,Mr(n),h=qe(h),o=o(h),n.flags|=1,He(e,n,o,s),n.child;case 14:return Zg(e,n,n.type,n.pendingProps,s);case 15:return Wg(e,n,n.type,n.pendingProps,s);case 19:return ly(e,n,s);case 31:return UT(e,n,s);case 22:return ty(e,n,s,n.pendingProps);case 24:return Mr(n),o=qe(Se),e===null?(h=uf(),h===null&&(h=Wt,f=of(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=s),h=f),n.memoizedState={parent:o,cache:h},hf(n),Ts(n,Se,h)):((e.lanes&s)!==0&&(ff(e,n),Jo(n,null,null,s),$o()),h=e.memoizedState,f=n.memoizedState,h.parent!==o?(h={parent:o,cache:o},n.memoizedState=h,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=h),Ts(n,Se,o)):(o=f.cache,Ts(n,Se,o),o!==h.cache&&af(n,[Se],s,!0))),He(e,n,n.pendingProps.children,s),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Fi(e){e.flags|=4}function Yf(e,n,s,o,h){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(h&335544128)===h)if(e.stateNode.complete)e.flags|=8192;else if(Uy())e.flags|=8192;else throw Ur=ku,cf}else e.flags&=-16777217}function cy(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!w_(n))if(Uy())e.flags|=8192;else throw Ur=ku,cf}function Zu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?su():536870912,e.lanes|=n,Ma|=n)}function il(e,n){if(!Lt)switch(e.tailMode){case"hidden":n=e.tail;for(var s=null;n!==null;)n.alternate!==null&&(s=n),n=n.sibling;s===null?e.tail=null:s.sibling=null;break;case"collapsed":s=e.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function ie(e){var n=e.alternate!==null&&e.alternate.child===e.child,s=0,o=0;if(n)for(var h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags&65011712,o|=h.flags&65011712,h.return=e,h=h.sibling;else for(h=e.child;h!==null;)s|=h.lanes|h.childLanes,o|=h.subtreeFlags,o|=h.flags,h.return=e,h=h.sibling;return e.subtreeFlags|=o,e.childLanes=s,n}function PT(e,n,s){var o=n.pendingProps;switch(tf(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ie(n),null;case 1:return ie(n),null;case 3:return s=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),zi(Se),ae(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(e===null||e.child===null)&&(Ea(n)?Fi(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,nf())),ie(n),null;case 26:var h=n.type,f=n.memoizedState;return e===null?(Fi(n),f!==null?(ie(n),cy(n,f)):(ie(n),Yf(n,h,null,o,s))):f?f!==e.memoizedState?(Fi(n),ie(n),cy(n,f)):(ie(n),n.flags&=-16777217):(e=e.memoizedProps,e!==o&&Fi(n),ie(n),Yf(n,h,e,o,s)),null;case 27:if(Zr(n),s=Ct.current,h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}e=rt.current,Ea(n)?Hp(n):(e=y_(h,o,s),n.stateNode=e,Fi(n))}return ie(n),null;case 5:if(Zr(n),h=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(!o){if(n.stateNode===null)throw Error(a(166));return ie(n),null}if(f=rt.current,Ea(n))Hp(n);else{var p=dc(Ct.current);switch(f){case 1:f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case 2:f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;default:switch(h){case"svg":f=p.createElementNS("http://www.w3.org/2000/svg",h);break;case"math":f=p.createElementNS("http://www.w3.org/1998/Math/MathML",h);break;case"script":f=p.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof o.is=="string"?p.createElement("select",{is:o.is}):p.createElement("select"),o.multiple?f.multiple=!0:o.size&&(f.size=o.size);break;default:f=typeof o.is=="string"?p.createElement(h,{is:o.is}):p.createElement(h)}}f[Te]=n,f[ke]=o;t:for(p=n.child;p!==null;){if(p.tag===5||p.tag===6)f.appendChild(p.stateNode);else if(p.tag!==4&&p.tag!==27&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break t;for(;p.sibling===null;){if(p.return===null||p.return===n)break t;p=p.return}p.sibling.return=p.return,p=p.sibling}n.stateNode=f;t:switch(Fe(f,h,o),h){case"button":case"input":case"select":case"textarea":o=!!o.autoFocus;break t;case"img":o=!0;break t;default:o=!1}o&&Fi(n)}}return ie(n),Yf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,s),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Fi(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(a(166));if(e=Ct.current,Ea(n)){if(e=n.stateNode,s=n.memoizedProps,o=null,h=Be,h!==null)switch(h.tag){case 27:case 5:o=h.memoizedProps}e[Te]=n,e=!!(e.nodeValue===s||o!==null&&o.suppressHydrationWarning===!0||a_(e.nodeValue,s)),e||Es(n,!0)}else e=dc(e).createTextNode(o),e[Te]=n,n.stateNode=e}return ie(n),null;case 31:if(s=n.memoizedState,e===null||e.memoizedState!==null){if(o=Ea(n),s!==null){if(e===null){if(!o)throw Error(a(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[Te]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),e=!1}else s=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),e=!0;if(!e)return n.flags&256?(En(n),n):(En(n),null);if((n.flags&128)!==0)throw Error(a(558))}return ie(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(h=Ea(n),o!==null&&o.dehydrated!==null){if(e===null){if(!h)throw Error(a(318));if(h=n.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(a(317));h[Te]=n}else Dr(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ie(n),h=!1}else h=nf(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=h),h=!0;if(!h)return n.flags&256?(En(n),n):(En(n),null)}return En(n),(n.flags&128)!==0?(n.lanes=s,n):(s=o!==null,e=e!==null&&e.memoizedState!==null,s&&(o=n.child,h=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(h=o.alternate.memoizedState.cachePool.pool),f=null,o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==h&&(o.flags|=2048)),s!==e&&s&&(n.child.flags|=8192),Zu(n,n.updateQueue),ie(n),null);case 4:return ae(),e===null&&pd(n.stateNode.containerInfo),ie(n),null;case 10:return zi(n.type),ie(n),null;case 19:if(Y(pe),o=n.memoizedState,o===null)return ie(n),null;if(h=(n.flags&128)!==0,f=o.rendering,f===null)if(h)il(o,!1);else{if(he!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=ju(e),f!==null){for(n.flags|=128,il(o,!1),e=f.updateQueue,n.updateQueue=e,Zu(n,e),n.subtreeFlags=0,e=s,s=n.child;s!==null;)Pp(s,e),s=s.sibling;return nt(pe,pe.current&1|2),Lt&&Pi(n,o.treeForkCount),n.child}e=e.sibling}o.tail!==null&&en()>ic&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304)}else{if(!h)if(e=ju(f),e!==null){if(n.flags|=128,h=!0,e=e.updateQueue,n.updateQueue=e,Zu(n,e),il(o,!0),o.tail===null&&o.tailMode==="hidden"&&!f.alternate&&!Lt)return ie(n),null}else 2*en()-o.renderingStartTime>ic&&s!==536870912&&(n.flags|=128,h=!0,il(o,!1),n.lanes=4194304);o.isBackwards?(f.sibling=n.child,n.child=f):(e=o.last,e!==null?e.sibling=f:n.child=f,o.last=f)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=en(),e.sibling=null,s=pe.current,nt(pe,h?s&1|2:s&1),Lt&&Pi(n,o.treeForkCount),e):(ie(n),null);case 22:case 23:return En(n),gf(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?(s&536870912)!==0&&(n.flags&128)===0&&(ie(n),n.subtreeFlags&6&&(n.flags|=8192)):ie(n),s=n.updateQueue,s!==null&&Zu(n,s.retryQueue),s=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==s&&(n.flags|=2048),e!==null&&Y(Vr),null;case 24:return s=null,e!==null&&(s=e.memoizedState.cache),n.memoizedState.cache!==s&&(n.flags|=2048),zi(Se),ie(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function jT(e,n){switch(tf(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return zi(Se),ae(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Zr(n),null;case 31:if(n.memoizedState!==null){if(En(n),n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(En(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Dr()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Y(pe),null;case 4:return ae(),null;case 10:return zi(n.type),null;case 22:case 23:return En(n),gf(),e!==null&&Y(Vr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return zi(Se),null;case 25:return null;default:return null}}function hy(e,n){switch(tf(n),n.tag){case 3:zi(Se),ae();break;case 26:case 27:case 5:Zr(n);break;case 4:ae();break;case 31:n.memoizedState!==null&&En(n);break;case 13:En(n);break;case 19:Y(pe);break;case 10:zi(n.type);break;case 22:case 23:En(n),gf(),e!==null&&Y(Vr);break;case 24:zi(Se)}}function sl(e,n){try{var s=n.updateQueue,o=s!==null?s.lastEffect:null;if(o!==null){var h=o.next;s=h;do{if((s.tag&e)===e){o=void 0;var f=s.create,p=s.inst;o=f(),p.destroy=o}s=s.next}while(s!==h)}}catch(E){Yt(n,n.return,E)}}function Cs(e,n,s){try{var o=n.updateQueue,h=o!==null?o.lastEffect:null;if(h!==null){var f=h.next;o=f;do{if((o.tag&e)===e){var p=o.inst,E=p.destroy;if(E!==void 0){p.destroy=void 0,h=n;var I=s,z=E;try{z()}catch(G){Yt(h,I,G)}}}o=o.next}while(o!==f)}}catch(G){Yt(n,n.return,G)}}function fy(e){var n=e.updateQueue;if(n!==null){var s=e.stateNode;try{ng(n,s)}catch(o){Yt(e,e.return,o)}}}function dy(e,n,s){s.props=jr(e.type,e.memoizedProps),s.state=e.memoizedState;try{s.componentWillUnmount()}catch(o){Yt(e,n,o)}}function rl(e,n){try{var s=e.ref;if(s!==null){switch(e.tag){case 26:case 27:case 5:var o=e.stateNode;break;case 30:o=e.stateNode;break;default:o=e.stateNode}typeof s=="function"?e.refCleanup=s(o):s.current=o}}catch(h){Yt(e,n,h)}}function Ai(e,n){var s=e.ref,o=e.refCleanup;if(s!==null)if(typeof o=="function")try{o()}catch(h){Yt(e,n,h)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof s=="function")try{s(null)}catch(h){Yt(e,n,h)}else s.current=null}function my(e){var n=e.type,s=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":s.autoFocus&&o.focus();break t;case"img":s.src?o.src=s.src:s.srcSet&&(o.srcset=s.srcSet)}}catch(h){Yt(e,e.return,h)}}function Kf(e,n,s){try{var o=e.stateNode;oA(o,e.type,s,n),o[ke]=n}catch(h){Yt(e,e.return,h)}}function py(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Vs(e.type)||e.tag===4}function Xf(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||py(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Vs(e.type)||e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function $f(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s).insertBefore(e,n):(n=s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,n.appendChild(e),s=s._reactRootContainer,s!=null||n.onclick!==null||(n.onclick=Qn));else if(o!==4&&(o===27&&Vs(e.type)&&(s=e.stateNode,n=null),e=e.child,e!==null))for($f(e,n,s),e=e.sibling;e!==null;)$f(e,n,s),e=e.sibling}function Wu(e,n,s){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?s.insertBefore(e,n):s.appendChild(e);else if(o!==4&&(o===27&&Vs(e.type)&&(s=e.stateNode),e=e.child,e!==null))for(Wu(e,n,s),e=e.sibling;e!==null;)Wu(e,n,s),e=e.sibling}function gy(e){var n=e.stateNode,s=e.memoizedProps;try{for(var o=e.type,h=n.attributes;h.length;)n.removeAttributeNode(h[0]);Fe(n,o,s),n[Te]=e,n[ke]=s}catch(f){Yt(e,e.return,f)}}var Gi=!1,Ce=!1,Jf=!1,yy=typeof WeakSet=="function"?WeakSet:Set,Le=null;function zT(e,n){if(e=e.containerInfo,_d=Ec,e=Ip(e),Hh(e)){if("selectionStart"in e)var s={start:e.selectionStart,end:e.selectionEnd};else t:{s=(s=e.ownerDocument)&&s.defaultView||window;var o=s.getSelection&&s.getSelection();if(o&&o.rangeCount!==0){s=o.anchorNode;var h=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{s.nodeType,f.nodeType}catch{s=null;break t}var p=0,E=-1,I=-1,z=0,G=0,K=e,B=null;e:for(;;){for(var H;K!==s||h!==0&&K.nodeType!==3||(E=p+h),K!==f||o!==0&&K.nodeType!==3||(I=p+o),K.nodeType===3&&(p+=K.nodeValue.length),(H=K.firstChild)!==null;)B=K,K=H;for(;;){if(K===e)break e;if(B===s&&++z===h&&(E=p),B===f&&++G===o&&(I=p),(H=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=H}s=E===-1||I===-1?null:{start:E,end:I}}else s=null}s=s||{start:0,end:0}}else s=null;for(vd={focusedElem:e,selectionRange:s},Ec=!1,Le=n;Le!==null;)if(n=Le,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Le=e;else for(;Le!==null;){switch(n=Le,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(s=0;s<e.length;s++)h=e[s],h.ref.impl=h.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,s=n,h=f.memoizedProps,f=f.memoizedState,o=s.stateNode;try{var at=jr(s.type,h);e=o.getSnapshotBeforeUpdate(at,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Yt(s,s.return,mt)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,s=e.nodeType,s===9)Ad(e);else if(s===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Ad(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=n.sibling,e!==null){e.return=n.return,Le=e;break}Le=n.return}}function _y(e,n,s){var o=s.flags;switch(s.tag){case 0:case 11:case 15:Yi(e,s),o&4&&sl(5,s);break;case 1:if(Yi(e,s),o&4)if(e=s.stateNode,n===null)try{e.componentDidMount()}catch(p){Yt(s,s.return,p)}else{var h=jr(s.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(h,n,e.__reactInternalSnapshotBeforeUpdate)}catch(p){Yt(s,s.return,p)}}o&64&&fy(s),o&512&&rl(s,s.return);break;case 3:if(Yi(e,s),o&64&&(e=s.updateQueue,e!==null)){if(n=null,s.child!==null)switch(s.child.tag){case 27:case 5:n=s.child.stateNode;break;case 1:n=s.child.stateNode}try{ng(e,n)}catch(p){Yt(s,s.return,p)}}break;case 27:n===null&&o&4&&gy(s);case 26:case 5:Yi(e,s),n===null&&o&4&&my(s),o&512&&rl(s,s.return);break;case 12:Yi(e,s);break;case 31:Yi(e,s),o&4&&Ty(e,s);break;case 13:Yi(e,s),o&4&&Ay(e,s),o&64&&(e=s.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(s=XT.bind(null,s),pA(e,s))));break;case 22:if(o=s.memoizedState!==null||Gi,!o){n=n!==null&&n.memoizedState!==null||Ce,h=Gi;var f=Ce;Gi=o,(Ce=n)&&!f?Ki(e,s,(s.subtreeFlags&8772)!==0):Yi(e,s),Gi=h,Ce=f}break;case 30:break;default:Yi(e,s)}}function vy(e){var n=e.alternate;n!==null&&(e.alternate=null,vy(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&ia(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var le=null,on=!1;function Qi(e,n,s){for(s=s.child;s!==null;)Ey(e,n,s),s=s.sibling}function Ey(e,n,s){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(qn,s)}catch{}switch(s.tag){case 26:Ce||Ai(s,n),Qi(e,n,s),s.memoizedState?s.memoizedState.count--:s.stateNode&&(s=s.stateNode,s.parentNode.removeChild(s));break;case 27:Ce||Ai(s,n);var o=le,h=on;Vs(s.type)&&(le=s.stateNode,on=!1),Qi(e,n,s),ml(s.stateNode),le=o,on=h;break;case 5:Ce||Ai(s,n);case 6:if(o=le,h=on,le=null,Qi(e,n,s),le=o,on=h,le!==null)if(on)try{(le.nodeType===9?le.body:le.nodeName==="HTML"?le.ownerDocument.body:le).removeChild(s.stateNode)}catch(f){Yt(s,n,f)}else try{le.removeChild(s.stateNode)}catch(f){Yt(s,n,f)}break;case 18:le!==null&&(on?(e=le,f_(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,s.stateNode),Ba(e)):f_(le,s.stateNode));break;case 4:o=le,h=on,le=s.stateNode.containerInfo,on=!0,Qi(e,n,s),le=o,on=h;break;case 0:case 11:case 14:case 15:Cs(2,s,n),Ce||Cs(4,s,n),Qi(e,n,s);break;case 1:Ce||(Ai(s,n),o=s.stateNode,typeof o.componentWillUnmount=="function"&&dy(s,n,o)),Qi(e,n,s);break;case 21:Qi(e,n,s);break;case 22:Ce=(o=Ce)||s.memoizedState!==null,Qi(e,n,s),Ce=o;break;default:Qi(e,n,s)}}function Ty(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ba(e)}catch(s){Yt(n,n.return,s)}}}function Ay(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ba(e)}catch(s){Yt(n,n.return,s)}}function BT(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new yy),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new yy),n;default:throw Error(a(435,e.tag))}}function tc(e,n){var s=BT(e);n.forEach(function(o){if(!s.has(o)){s.add(o);var h=$T.bind(null,e,o);o.then(h,h)}})}function ln(e,n){var s=n.deletions;if(s!==null)for(var o=0;o<s.length;o++){var h=s[o],f=e,p=n,E=p;t:for(;E!==null;){switch(E.tag){case 27:if(Vs(E.type)){le=E.stateNode,on=!1;break t}break;case 5:le=E.stateNode,on=!1;break t;case 3:case 4:le=E.stateNode.containerInfo,on=!0;break t}E=E.return}if(le===null)throw Error(a(160));Ey(f,p,h),le=null,on=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)by(n,e),n=n.sibling}var Zn=null;function by(e,n){var s=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:ln(n,e),un(e),o&4&&(Cs(3,e,e.return),sl(3,e),Cs(5,e,e.return));break;case 1:ln(n,e),un(e),o&512&&(Ce||s===null||Ai(s,s.return)),o&64&&Gi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(s=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=s===null?o:s.concat(o))));break;case 26:var h=Zn;if(ln(n,e),un(e),o&512&&(Ce||s===null||Ai(s,s.return)),o&4){var f=s!==null?s.memoizedState:null;if(o=e.memoizedState,s===null)if(o===null)if(e.stateNode===null){t:{o=e.type,s=e.memoizedProps,h=h.ownerDocument||h;e:switch(o){case"title":f=h.getElementsByTagName("title")[0],(!f||f[li]||f[Te]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(o),h.head.insertBefore(f,h.querySelector("head > title"))),Fe(f,o,s),f[Te]=e,Ae(f),o=f;break t;case"link":var p=b_("link","href",h).get(o+(s.href||""));if(p){for(var E=0;E<p.length;E++)if(f=p[E],f.getAttribute("href")===(s.href==null||s.href===""?null:s.href)&&f.getAttribute("rel")===(s.rel==null?null:s.rel)&&f.getAttribute("title")===(s.title==null?null:s.title)&&f.getAttribute("crossorigin")===(s.crossOrigin==null?null:s.crossOrigin)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;case"meta":if(p=b_("meta","content",h).get(o+(s.content||""))){for(E=0;E<p.length;E++)if(f=p[E],f.getAttribute("content")===(s.content==null?null:""+s.content)&&f.getAttribute("name")===(s.name==null?null:s.name)&&f.getAttribute("property")===(s.property==null?null:s.property)&&f.getAttribute("http-equiv")===(s.httpEquiv==null?null:s.httpEquiv)&&f.getAttribute("charset")===(s.charSet==null?null:s.charSet)){p.splice(E,1);break e}}f=h.createElement(o),Fe(f,o,s),h.head.appendChild(f);break;default:throw Error(a(468,o))}f[Te]=e,Ae(f),o=f}e.stateNode=o}else S_(h,e.type,e.stateNode);else e.stateNode=A_(h,o,e.memoizedProps);else f!==o?(f===null?s.stateNode!==null&&(s=s.stateNode,s.parentNode.removeChild(s)):f.count--,o===null?S_(h,e.type,e.stateNode):A_(h,o,e.memoizedProps)):o===null&&e.stateNode!==null&&Kf(e,e.memoizedProps,s.memoizedProps)}break;case 27:ln(n,e),un(e),o&512&&(Ce||s===null||Ai(s,s.return)),s!==null&&o&4&&Kf(e,e.memoizedProps,s.memoizedProps);break;case 5:if(ln(n,e),un(e),o&512&&(Ce||s===null||Ai(s,s.return)),e.flags&32){h=e.stateNode;try{an(h,"")}catch(at){Yt(e,e.return,at)}}o&4&&e.stateNode!=null&&(h=e.memoizedProps,Kf(e,h,s!==null?s.memoizedProps:h)),o&1024&&(Jf=!0);break;case 6:if(ln(n,e),un(e),o&4){if(e.stateNode===null)throw Error(a(162));o=e.memoizedProps,s=e.stateNode;try{s.nodeValue=o}catch(at){Yt(e,e.return,at)}}break;case 3:if(gc=null,h=Zn,Zn=mc(n.containerInfo),ln(n,e),Zn=h,un(e),o&4&&s!==null&&s.memoizedState.isDehydrated)try{Ba(n.containerInfo)}catch(at){Yt(e,e.return,at)}Jf&&(Jf=!1,Sy(e));break;case 4:o=Zn,Zn=mc(e.stateNode.containerInfo),ln(n,e),un(e),Zn=o;break;case 12:ln(n,e),un(e);break;case 31:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 13:ln(n,e),un(e),e.child.flags&8192&&e.memoizedState!==null!=(s!==null&&s.memoizedState!==null)&&(nc=en()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 22:h=e.memoizedState!==null;var I=s!==null&&s.memoizedState!==null,z=Gi,G=Ce;if(Gi=z||h,Ce=G||I,ln(n,e),Ce=G,Gi=z,un(e),o&8192)t:for(n=e.stateNode,n._visibility=h?n._visibility&-2:n._visibility|1,h&&(s===null||I||Gi||Ce||zr(e)),s=null,n=e;;){if(n.tag===5||n.tag===26){if(s===null){I=s=n;try{if(f=I.stateNode,h)p=f.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none";else{E=I.stateNode;var K=I.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(at){Yt(I,I.return,at)}}}else if(n.tag===6){if(s===null){I=n;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(at){Yt(I,I.return,at)}}}else if(n.tag===18){if(s===null){I=n;try{var H=I.stateNode;h?d_(H,!0):d_(I.stateNode,!1)}catch(at){Yt(I,I.return,at)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;s===n&&(s=null),n=n.return}s===n&&(s=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(s=o.retryQueue,s!==null&&(o.retryQueue=null,tc(e,s))));break;case 19:ln(n,e),un(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,tc(e,o)));break;case 30:break;case 21:break;default:ln(n,e),un(e)}}function un(e){var n=e.flags;if(n&2){try{for(var s,o=e.return;o!==null;){if(py(o)){s=o;break}o=o.return}if(s==null)throw Error(a(160));switch(s.tag){case 27:var h=s.stateNode,f=Xf(e);Wu(e,f,h);break;case 5:var p=s.stateNode;s.flags&32&&(an(p,""),s.flags&=-33);var E=Xf(e);Wu(e,E,p);break;case 3:case 4:var I=s.stateNode.containerInfo,z=Xf(e);$f(e,z,I);break;default:throw Error(a(161))}}catch(G){Yt(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Sy(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Sy(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Yi(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)_y(e,n.alternate,n),n=n.sibling}function zr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Cs(4,n,n.return),zr(n);break;case 1:Ai(n,n.return);var s=n.stateNode;typeof s.componentWillUnmount=="function"&&dy(n,n.return,s),zr(n);break;case 27:ml(n.stateNode);case 26:case 5:Ai(n,n.return),zr(n);break;case 22:n.memoizedState===null&&zr(n);break;case 30:zr(n);break;default:zr(n)}e=e.sibling}}function Ki(e,n,s){for(s=s&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,h=e,f=n,p=f.flags;switch(f.tag){case 0:case 11:case 15:Ki(h,f,s),sl(4,f);break;case 1:if(Ki(h,f,s),o=f,h=o.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(z){Yt(o,o.return,z)}if(o=f,h=o.updateQueue,h!==null){var E=o.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)eg(I[h],E)}catch(z){Yt(o,o.return,z)}}s&&p&64&&fy(f),rl(f,f.return);break;case 27:gy(f);case 26:case 5:Ki(h,f,s),s&&o===null&&p&4&&my(f),rl(f,f.return);break;case 12:Ki(h,f,s);break;case 31:Ki(h,f,s),s&&p&4&&Ty(h,f);break;case 13:Ki(h,f,s),s&&p&4&&Ay(h,f);break;case 22:f.memoizedState===null&&Ki(h,f,s),rl(f,f.return);break;case 30:break;default:Ki(h,f,s)}n=n.sibling}}function Zf(e,n){var s=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(s=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==s&&(e!=null&&e.refCount++,s!=null&&Go(s))}function Wf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e))}function Wn(e,n,s,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)wy(e,n,s,o),n=n.sibling}function wy(e,n,s,o){var h=n.flags;switch(n.tag){case 0:case 11:case 15:Wn(e,n,s,o),h&2048&&sl(9,n);break;case 1:Wn(e,n,s,o);break;case 3:Wn(e,n,s,o),h&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Go(e)));break;case 12:if(h&2048){Wn(e,n,s,o),e=n.stateNode;try{var f=n.memoizedProps,p=f.id,E=f.onPostCommit;typeof E=="function"&&E(p,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(I){Yt(n,n.return,I)}}else Wn(e,n,s,o);break;case 31:Wn(e,n,s,o);break;case 13:Wn(e,n,s,o);break;case 23:break;case 22:f=n.stateNode,p=n.alternate,n.memoizedState!==null?f._visibility&2?Wn(e,n,s,o):al(e,n):f._visibility&2?Wn(e,n,s,o):(f._visibility|=2,Na(e,n,s,o,(n.subtreeFlags&10256)!==0||!1)),h&2048&&Zf(p,n);break;case 24:Wn(e,n,s,o),h&2048&&Wf(n.alternate,n);break;default:Wn(e,n,s,o)}}function Na(e,n,s,o,h){for(h=h&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,p=n,E=s,I=o,z=p.flags;switch(p.tag){case 0:case 11:case 15:Na(f,p,E,I,h),sl(8,p);break;case 23:break;case 22:var G=p.stateNode;p.memoizedState!==null?G._visibility&2?Na(f,p,E,I,h):al(f,p):(G._visibility|=2,Na(f,p,E,I,h)),h&&z&2048&&Zf(p.alternate,p);break;case 24:Na(f,p,E,I,h),h&&z&2048&&Wf(p.alternate,p);break;default:Na(f,p,E,I,h)}n=n.sibling}}function al(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var s=e,o=n,h=o.flags;switch(o.tag){case 22:al(s,o),h&2048&&Zf(o.alternate,o);break;case 24:al(s,o),h&2048&&Wf(o.alternate,o);break;default:al(s,o)}n=n.sibling}}var ol=8192;function Da(e,n,s){if(e.subtreeFlags&ol)for(e=e.child;e!==null;)Ry(e,n,s),e=e.sibling}function Ry(e,n,s){switch(e.tag){case 26:Da(e,n,s),e.flags&ol&&e.memoizedState!==null&&CA(s,Zn,e.memoizedState,e.memoizedProps);break;case 5:Da(e,n,s);break;case 3:case 4:var o=Zn;Zn=mc(e.stateNode.containerInfo),Da(e,n,s),Zn=o;break;case 22:e.memoizedState===null&&(o=e.alternate,o!==null&&o.memoizedState!==null?(o=ol,ol=16777216,Da(e,n,s),ol=o):Da(e,n,s));break;default:Da(e,n,s)}}function Cy(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ll(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,Iy(o,e)}Cy(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)xy(e),e=e.sibling}function xy(e){switch(e.tag){case 0:case 11:case 15:ll(e),e.flags&2048&&Cs(9,e,e.return);break;case 3:ll(e);break;case 12:ll(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,ec(e)):ll(e);break;default:ll(e)}}function ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var s=0;s<n.length;s++){var o=n[s];Le=o,Iy(o,e)}Cy(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Cs(8,n,n.return),ec(n);break;case 22:s=n.stateNode,s._visibility&2&&(s._visibility&=-3,ec(n));break;default:ec(n)}e=e.sibling}}function Iy(e,n){for(;Le!==null;){var s=Le;switch(s.tag){case 0:case 11:case 15:Cs(8,s,n);break;case 23:case 22:if(s.memoizedState!==null&&s.memoizedState.cachePool!==null){var o=s.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:Go(s.memoizedState.cache)}if(o=s.child,o!==null)o.return=s,Le=o;else t:for(s=e;Le!==null;){o=Le;var h=o.sibling,f=o.return;if(vy(o),o===s){Le=null;break t}if(h!==null){h.return=f,Le=h;break t}Le=f}}}var qT={getCacheForType:function(e){var n=qe(Se),s=n.data.get(e);return s===void 0&&(s=e(),n.data.set(e,s)),s},cacheSignal:function(){return qe(Se).controller.signal}},HT=typeof WeakMap=="function"?WeakMap:Map,Ht=0,Wt=null,It=null,Dt=0,Qt=0,Tn=null,xs=!1,Oa=!1,td=!1,Xi=0,he=0,Is=0,Br=0,ed=0,An=0,Ma=0,ul=null,cn=null,nd=!1,nc=0,Ny=0,ic=1/0,sc=null,Ns=null,Oe=0,Ds=null,Va=null,$i=0,id=0,sd=null,Dy=null,cl=0,rd=null;function bn(){return(Ht&2)!==0&&Dt!==0?Dt&-Dt:N.T!==null?hd():ru()}function Oy(){if(An===0)if((Dt&536870912)===0||Lt){var e=mr;mr<<=1,(mr&3932160)===0&&(mr=262144),An=e}else An=536870912;return e=vn.current,e!==null&&(e.flags|=32),An}function hn(e,n,s){(e===Wt&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)&&(ka(e,0),Os(e,Dt,An,!1)),pr(e,s),((Ht&2)===0||e!==Wt)&&(e===Wt&&((Ht&2)===0&&(Br|=s),he===4&&Os(e,Dt,An,!1)),bi(e))}function My(e,n,s){if((Ht&6)!==0)throw Error(a(327));var o=!s&&(n&127)===0&&(n&e.expiredLanes)===0||Hn(e,n),h=o?QT(e,n):od(e,n,!0),f=o;do{if(h===0){Oa&&!o&&Os(e,n,0,!1);break}else{if(s=e.current.alternate,f&&!FT(s)){h=od(e,n,!1),f=!1;continue}if(h===2){if(f=n,e.errorRecoveryDisabledLanes&f)var p=0;else p=e.pendingLanes&-536870913,p=p!==0?p:p&536870912?536870912:0;if(p!==0){n=p;t:{var E=e;h=ul;var I=E.current.memoizedState.isDehydrated;if(I&&(ka(E,p).flags|=256),p=od(E,p,!1),p!==2){if(td&&!I){E.errorRecoveryDisabledLanes|=f,Br|=f,h=4;break t}f=cn,cn=h,f!==null&&(cn===null?cn=f:cn.push.apply(cn,f))}h=p}if(f=!1,h!==2)continue}}if(h===1){ka(e,0),Os(e,n,0,!0);break}t:{switch(o=e,f=h,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:Os(o,n,An,!xs);break t;case 2:cn=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(h=nc+300-en(),10<h)){if(Os(o,n,An,!xs),ri(o,0,!0)!==0)break t;$i=n,o.timeoutHandle=c_(Vy.bind(null,o,s,cn,sc,nd,n,An,Br,Ma,xs,f,"Throttled",-0,0),h);break t}Vy(o,s,cn,sc,nd,n,An,Br,Ma,xs,f,null,-0,0)}}break}while(!0);bi(e)}function Vy(e,n,s,o,h,f,p,E,I,z,G,K,B,H){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qn},Ry(n,f,K);var at=(f&62914560)===f?nc-en():(f&4194048)===f?Ny-en():0;if(at=xA(K,at),at!==null){$i=f,e.cancelPendingCommit=at(qy.bind(null,e,n,f,s,o,h,p,E,I,G,K,null,B,H)),Os(e,f,p,!z);return}}qy(e,n,f,s,o,h,p,E,I)}function FT(e){for(var n=e;;){var s=n.tag;if((s===0||s===11||s===15)&&n.flags&16384&&(s=n.updateQueue,s!==null&&(s=s.stores,s!==null)))for(var o=0;o<s.length;o++){var h=s[o],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(s=n.child,n.subtreeFlags&16384&&s!==null)s.return=n,n=s;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Os(e,n,s,o){n&=~ed,n&=~Br,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var h=n;0<h;){var f=31-de(h),p=1<<f;o[f]=-1,h&=~p}s!==0&&gr(e,s,n)}function rc(){return(Ht&6)===0?(hl(0),!1):!0}function ad(){if(It!==null){if(Qt===0)var e=It.return;else e=It,ji=Or=null,Af(e),wa=null,Yo=0,e=It;for(;e!==null;)hy(e.alternate,e),e=e.return;It=null}}function ka(e,n){var s=e.timeoutHandle;s!==-1&&(e.timeoutHandle=-1,cA(s)),s=e.cancelPendingCommit,s!==null&&(e.cancelPendingCommit=null,s()),$i=0,ad(),Wt=e,It=s=Li(e.current,null),Dt=n,Qt=0,Tn=null,xs=!1,Oa=Hn(e,n),td=!1,Ma=An=ed=Br=Is=he=0,cn=ul=null,nd=!1,(n&8)!==0&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var h=31-de(o),f=1<<h;n|=e[h],o&=~f}return Xi=n,Ru(),s}function ky(e,n){Rt=null,N.H=el,n===Sa||n===Vu?(n=Jp(),Qt=3):n===cf?(n=Jp(),Qt=4):Qt=n===Pf?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,Tn=n,It===null&&(he=1,Ku(e,On(n,e.current)))}function Uy(){var e=vn.current;return e===null?!0:(Dt&4194048)===Dt?Un===null:(Dt&62914560)===Dt||(Dt&536870912)!==0?e===Un:!1}function Ly(){var e=N.H;return N.H=el,e===null?el:e}function Py(){var e=N.A;return N.A=qT,e}function ac(){he=4,xs||(Dt&4194048)!==Dt&&vn.current!==null||(Oa=!0),(Is&134217727)===0&&(Br&134217727)===0||Wt===null||Os(Wt,Dt,An,!1)}function od(e,n,s){var o=Ht;Ht|=2;var h=Ly(),f=Py();(Wt!==e||Dt!==n)&&(sc=null,ka(e,n)),n=!1;var p=he;t:do try{if(Qt!==0&&It!==null){var E=It,I=Tn;switch(Qt){case 8:ad(),p=6;break t;case 3:case 2:case 9:case 6:vn.current===null&&(n=!0);var z=Qt;if(Qt=0,Tn=null,Ua(e,E,I,z),s&&Oa){p=0;break t}break;default:z=Qt,Qt=0,Tn=null,Ua(e,E,I,z)}}GT(),p=he;break}catch(G){ky(e,G)}while(!0);return n&&e.shellSuspendCounter++,ji=Or=null,Ht=o,N.H=h,N.A=f,It===null&&(Wt=null,Dt=0,Ru()),p}function GT(){for(;It!==null;)jy(It)}function QT(e,n){var s=Ht;Ht|=2;var o=Ly(),h=Py();Wt!==e||Dt!==n?(sc=null,ic=en()+500,ka(e,n)):Oa=Hn(e,n);t:do try{if(Qt!==0&&It!==null){n=It;var f=Tn;e:switch(Qt){case 1:Qt=0,Tn=null,Ua(e,n,f,1);break;case 2:case 9:if(Xp(f)){Qt=0,Tn=null,zy(n);break}n=function(){Qt!==2&&Qt!==9||Wt!==e||(Qt=7),bi(e)},f.then(n,n);break t;case 3:Qt=7;break t;case 4:Qt=5;break t;case 7:Xp(f)?(Qt=0,Tn=null,zy(n)):(Qt=0,Tn=null,Ua(e,n,f,7));break;case 5:var p=null;switch(It.tag){case 26:p=It.memoizedState;case 5:case 27:var E=It;if(p?w_(p):E.stateNode.complete){Qt=0,Tn=null;var I=E.sibling;if(I!==null)It=I;else{var z=E.return;z!==null?(It=z,oc(z)):It=null}break e}}Qt=0,Tn=null,Ua(e,n,f,5);break;case 6:Qt=0,Tn=null,Ua(e,n,f,6);break;case 8:ad(),he=6;break t;default:throw Error(a(462))}}YT();break}catch(G){ky(e,G)}while(!0);return ji=Or=null,N.H=o,N.A=h,Ht=s,It!==null?0:(Wt=null,Dt=0,Ru(),he)}function YT(){for(;It!==null&&!Uh();)jy(It)}function jy(e){var n=uy(e.alternate,e,Xi);e.memoizedProps=e.pendingProps,n===null?oc(e):It=n}function zy(e){var n=e,s=n.alternate;switch(n.tag){case 15:case 0:n=iy(s,n,n.pendingProps,n.type,void 0,Dt);break;case 11:n=iy(s,n,n.pendingProps,n.type.render,n.ref,Dt);break;case 5:Af(n);default:hy(s,n),n=It=Pp(n,Xi),n=uy(s,n,Xi)}e.memoizedProps=e.pendingProps,n===null?oc(e):It=n}function Ua(e,n,s,o){ji=Or=null,Af(n),wa=null,Yo=0;var h=n.return;try{if(kT(e,h,n,s,Dt)){he=1,Ku(e,On(s,e.current)),It=null;return}}catch(f){if(h!==null)throw It=h,f;he=1,Ku(e,On(s,e.current)),It=null;return}n.flags&32768?(Lt||o===1?e=!0:Oa||(Dt&536870912)!==0?e=!1:(xs=e=!0,(o===2||o===9||o===3||o===6)&&(o=vn.current,o!==null&&o.tag===13&&(o.flags|=16384))),By(n,e)):oc(n)}function oc(e){var n=e;do{if((n.flags&32768)!==0){By(n,xs);return}e=n.return;var s=PT(n.alternate,n,Xi);if(s!==null){It=s;return}if(n=n.sibling,n!==null){It=n;return}It=n=e}while(n!==null);he===0&&(he=5)}function By(e,n){do{var s=jT(e.alternate,e);if(s!==null){s.flags&=32767,It=s;return}if(s=e.return,s!==null&&(s.flags|=32768,s.subtreeFlags=0,s.deletions=null),!n&&(e=e.sibling,e!==null)){It=e;return}It=e=s}while(e!==null);he=6,It=null}function qy(e,n,s,o,h,f,p,E,I){e.cancelPendingCommit=null;do lc();while(Oe!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===e.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Kh,jh(e,s,f,p,E,I),e===Wt&&(It=Wt=null,Dt=0),Va=n,Ds=e,$i=s,id=f,sd=h,Dy=o,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,JT(ls,function(){return Yy(),null})):(e.callbackNode=null,e.callbackPriority=0),o=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||o){o=N.T,N.T=null,h=X.p,X.p=2,p=Ht,Ht|=4;try{zT(e,n,s)}finally{Ht=p,X.p=h,N.T=o}}Oe=1,Hy(),Fy(),Gy()}}function Hy(){if(Oe===1){Oe=0;var e=Ds,n=Va,s=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||s){s=N.T,N.T=null;var o=X.p;X.p=2;var h=Ht;Ht|=4;try{by(n,e);var f=vd,p=Ip(e.containerInfo),E=f.focusedElem,I=f.selectionRange;if(p!==E&&E&&E.ownerDocument&&xp(E.ownerDocument.documentElement,E)){if(I!==null&&Hh(E)){var z=I.start,G=I.end;if(G===void 0&&(G=z),"selectionStart"in E)E.selectionStart=z,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var H=B.getSelection(),at=E.textContent.length,mt=Math.min(I.start,at),Jt=I.end===void 0?mt:Math.min(I.end,at);!H.extend&&mt>Jt&&(p=Jt,Jt=mt,mt=p);var U=Cp(E,mt),O=Cp(E,Jt);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var j=K.createRange();j.setStart(U.node,U.offset),H.removeAllRanges(),mt>Jt?(H.addRange(j),H.extend(O.node,O.offset)):(j.setEnd(O.node,O.offset),H.addRange(j))}}}}for(K=[],H=E;H=H.parentNode;)H.nodeType===1&&K.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}Ec=!!_d,vd=_d=null}finally{Ht=h,X.p=o,N.T=s}}e.current=n,Oe=2}}function Fy(){if(Oe===2){Oe=0;var e=Ds,n=Va,s=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||s){s=N.T,N.T=null;var o=X.p;X.p=2;var h=Ht;Ht|=4;try{_y(e,n.alternate,n)}finally{Ht=h,X.p=o,N.T=s}}Oe=3}}function Gy(){if(Oe===4||Oe===3){Oe=0,Zl();var e=Ds,n=Va,s=$i,o=Dy;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Oe=5:(Oe=0,Va=Ds=null,Qy(e,e.pendingLanes));var h=e.pendingLanes;if(h===0&&(Ns=null),Mi(s),n=n.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(qn,n,void 0,(n.current.flags&128)===128)}catch{}if(o!==null){n=N.T,h=X.p,X.p=2,N.T=null;try{for(var f=e.onRecoverableError,p=0;p<o.length;p++){var E=o[p];f(E.value,{componentStack:E.stack})}}finally{N.T=n,X.p=h}}($i&3)!==0&&lc(),bi(e),h=e.pendingLanes,(s&261930)!==0&&(h&42)!==0?e===rd?cl++:(cl=0,rd=e):cl=0,hl(0)}}function Qy(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Go(n)))}function lc(){return Hy(),Fy(),Gy(),Yy()}function Yy(){if(Oe!==5)return!1;var e=Ds,n=id;id=0;var s=Mi($i),o=N.T,h=X.p;try{X.p=32>s?32:s,N.T=null,s=sd,sd=null;var f=Ds,p=$i;if(Oe=0,Va=Ds=null,$i=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,xy(f.current),wy(f,f.current,p,s),Ht=E,hl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(qn,f)}catch{}return!0}finally{X.p=h,N.T=o,Qy(e,n)}}function Ky(e,n,s){n=On(s,n),n=Lf(e.stateNode,n,2),e=Ss(e,n,2),e!==null&&(pr(e,2),bi(e))}function Yt(e,n,s){if(e.tag===3)Ky(e,e,s);else for(;n!==null;){if(n.tag===3){Ky(n,e,s);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(Ns===null||!Ns.has(o))){e=On(s,e),s=Xg(2),o=Ss(n,s,2),o!==null&&($g(s,o,n,e),pr(o,2),bi(o));break}}n=n.return}}function ld(e,n,s){var o=e.pingCache;if(o===null){o=e.pingCache=new HT;var h=new Set;o.set(n,h)}else h=o.get(n),h===void 0&&(h=new Set,o.set(n,h));h.has(s)||(td=!0,h.add(s),e=KT.bind(null,e,n,s),n.then(e,e))}function KT(e,n,s){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&s,e.warmLanes&=~s,Wt===e&&(Dt&s)===s&&(he===4||he===3&&(Dt&62914560)===Dt&&300>en()-nc?(Ht&2)===0&&ka(e,0):ed|=s,Ma===Dt&&(Ma=0)),bi(e)}function Xy(e,n){n===0&&(n=su()),e=Ir(e,n),e!==null&&(pr(e,n),bi(e))}function XT(e){var n=e.memoizedState,s=0;n!==null&&(s=n.retryLane),Xy(e,s)}function $T(e,n){var s=0;switch(e.tag){case 31:case 13:var o=e.stateNode,h=e.memoizedState;h!==null&&(s=h.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(a(314))}o!==null&&o.delete(n),Xy(e,s)}function JT(e,n){return De(e,n)}var uc=null,La=null,ud=!1,cc=!1,cd=!1,Ms=0;function bi(e){e!==La&&e.next===null&&(La===null?uc=La=e:La=La.next=e),cc=!0,ud||(ud=!0,WT())}function hl(e,n){if(!cd&&cc){cd=!0;do for(var s=!1,o=uc;o!==null;){if(e!==0){var h=o.pendingLanes;if(h===0)var f=0;else{var p=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-de(42|e)+1)-1,f&=h&~(p&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(s=!0,Wy(o,f))}else f=Dt,f=ri(o,o===Wt?f:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),(f&3)===0||Hn(o,f)||(s=!0,Wy(o,f));o=o.next}while(s);cd=!1}}function ZT(){$y()}function $y(){cc=ud=!1;var e=0;Ms!==0&&uA()&&(e=Ms);for(var n=en(),s=null,o=uc;o!==null;){var h=o.next,f=Jy(o,n);f===0?(o.next=null,s===null?uc=h:s.next=h,h===null&&(La=s)):(s=o,(e!==0||(f&3)!==0)&&(cc=!0)),o=h}Oe!==0&&Oe!==5||hl(e),Ms!==0&&(Ms=0)}function Jy(e,n){for(var s=e.suspendedLanes,o=e.pingedLanes,h=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var p=31-de(f),E=1<<p,I=h[p];I===-1?((E&s)===0||(E&o)!==0)&&(h[p]=Ph(E,n)):I<=n&&(e.expiredLanes|=E),f&=~E}if(n=Wt,s=Dt,s=ri(e,e===n?s:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o=e.callbackNode,s===0||e===n&&(Qt===2||Qt===9)||e.cancelPendingCommit!==null)return o!==null&&o!==null&&os(o),e.callbackNode=null,e.callbackPriority=0;if((s&3)===0||Hn(e,s)){if(n=s&-s,n===e.callbackPriority)return n;switch(o!==null&&os(o),Mi(s)){case 2:case 8:s=To;break;case 32:s=ls;break;case 268435456:s=Wl;break;default:s=ls}return o=Zy.bind(null,e),s=De(s,o),e.callbackPriority=n,e.callbackNode=s,n}return o!==null&&o!==null&&os(o),e.callbackPriority=2,e.callbackNode=null,2}function Zy(e,n){if(Oe!==0&&Oe!==5)return e.callbackNode=null,e.callbackPriority=0,null;var s=e.callbackNode;if(lc()&&e.callbackNode!==s)return null;var o=Dt;return o=ri(e,e===Wt?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),o===0?null:(My(e,o,n),Jy(e,en()),e.callbackNode!=null&&e.callbackNode===s?Zy.bind(null,e):null)}function Wy(e,n){if(lc())return null;My(e,n,!0)}function WT(){hA(function(){(Ht&6)!==0?De(Eo,ZT):$y()})}function hd(){if(Ms===0){var e=Aa;e===0&&(e=ii,ii<<=1,(ii&261888)===0&&(ii=256)),Ms=e}return Ms}function t_(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:oa(""+e)}function e_(e,n){var s=n.ownerDocument.createElement("input");return s.name=n.name,s.value=n.value,e.id&&s.setAttribute("form",e.id),n.parentNode.insertBefore(s,n),e=new FormData(e),s.parentNode.removeChild(s),e}function tA(e,n,s,o,h){if(n==="submit"&&s&&s.stateNode===h){var f=t_((h[ke]||null).action),p=o.submitter;p&&(n=(n=p[ke]||null)?t_(n.formAction):p.getAttribute("formAction"),n!==null&&(f=n,p=null));var E=new gi("action","action",null,o,h);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(Ms!==0){var I=p?e_(h,p):new FormData(h);Df(s,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(E.preventDefault(),I=p?e_(h,p):new FormData(h),Df(s,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var fd=0;fd<Yh.length;fd++){var dd=Yh[fd],eA=dd.toLowerCase(),nA=dd[0].toUpperCase()+dd.slice(1);Jn(eA,"on"+nA)}Jn(Op,"onAnimationEnd"),Jn(Mp,"onAnimationIteration"),Jn(Vp,"onAnimationStart"),Jn("dblclick","onDoubleClick"),Jn("focusin","onFocus"),Jn("focusout","onBlur"),Jn(_T,"onTransitionRun"),Jn(vT,"onTransitionStart"),Jn(ET,"onTransitionCancel"),Jn(kp,"onTransitionEnd"),fi("onMouseEnter",["mouseout","mouseover"]),fi("onMouseLeave",["mouseout","mouseover"]),fi("onPointerEnter",["pointerout","pointerover"]),fi("onPointerLeave",["pointerout","pointerover"]),hi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),hi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),hi("onBeforeInput",["compositionend","keypress","textInput","paste"]),hi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),hi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iA=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fl));function n_(e,n){n=(n&4)!==0;for(var s=0;s<e.length;s++){var o=e[s],h=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var p=o.length-1;0<=p;p--){var E=o[p],I=E.instance,z=E.currentTarget;if(E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=I}else for(p=0;p<o.length;p++){if(E=o[p],I=E.instance,z=E.currentTarget,E=E.listener,I!==f&&h.isPropagationStopped())break t;f=E,h.currentTarget=z;try{f(h)}catch(G){wu(G)}h.currentTarget=null,f=I}}}}function Nt(e,n){var s=n[na];s===void 0&&(s=n[na]=new Set);var o=e+"__bubble";s.has(o)||(i_(n,e,2,!1),s.add(o))}function md(e,n,s){var o=0;n&&(o|=4),i_(s,e,o,n)}var hc="_reactListening"+Math.random().toString(36).slice(2);function pd(e){if(!e[hc]){e[hc]=!0,So.forEach(function(s){s!=="selectionchange"&&(iA.has(s)||md(s,!1,e),md(s,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[hc]||(n[hc]=!0,md("selectionchange",!1,n))}}function i_(e,n,s,o){switch(O_(n)){case 2:var h=DA;break;case 8:h=OA;break;default:h=Nd}s=h.bind(null,n,s,e),h=void 0,!Tr||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(h=!0),o?h!==void 0?e.addEventListener(n,s,{capture:!0,passive:h}):e.addEventListener(n,s,!0):h!==void 0?e.addEventListener(n,s,{passive:h}):e.addEventListener(n,s,!1)}function gd(e,n,s,o,h){var f=o;if((n&1)===0&&(n&2)===0&&o!==null)t:for(;;){if(o===null)return;var p=o.tag;if(p===3||p===4){var E=o.stateNode.containerInfo;if(E===h)break;if(p===4)for(p=o.return;p!==null;){var I=p.tag;if((I===3||I===4)&&p.stateNode.containerInfo===h)return;p=p.return}for(;E!==null;){if(p=ui(E),p===null)return;if(I=p.tag,I===5||I===6||I===26||I===27){o=f=p;continue t}E=E.parentNode}}o=o.return}ms(function(){var z=f,G=xn(s),K=[];t:{var B=Up.get(e);if(B!==void 0){var H=gi,at=e;switch(e){case"keypress":if(br(s)===0)break t;case"keydown":case"keyup":H=Au;break;case"focusin":at="focus",H=wr;break;case"focusout":at="blur",H=wr;break;case"beforeblur":case"afterblur":H=wr;break;case"click":if(s.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Lo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=du;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=m;break;case Op:case Mp:case Vp:H=pu;break;case kp:H=T;break;case"scroll":case"scrollend":H=Uo;break;case"wheel":H=q;break;case"copy":case"cut":case"paste":H=gu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Ui;break;case"toggle":case"beforetoggle":H=wt}var mt=(n&4)!==0,Jt=!mt&&(e==="scroll"||e==="scrollend"),U=mt?B!==null?B+"Capture":null:B;mt=[];for(var O=z,j;O!==null;){var Q=O;if(j=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||j===null||U===null||(Q=Yn(O,U),Q!=null&&mt.push(dl(O,Q,j))),Jt)break;O=O.return}0<mt.length&&(B=new H(B,at,null,s,G),K.push({event:B,listeners:mt}))}}if((n&7)===0){t:{if(B=e==="mouseover"||e==="pointerover",H=e==="mouseout"||e==="pointerout",B&&s!==Mo&&(at=s.relatedTarget||s.fromElement)&&(ui(at)||at[oi]))break t;if((H||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,H?(at=s.relatedTarget||s.toElement,H=z,at=at?ui(at):null,at!==null&&(Jt=c(at),mt=at.tag,at!==Jt||mt!==5&&mt!==27&&mt!==6)&&(at=null)):(H=null,at=z),H!==at)){if(mt=Lo,Q="onMouseLeave",U="onMouseEnter",O="mouse",(e==="pointerout"||e==="pointerover")&&(mt=Ui,Q="onPointerLeave",U="onPointerEnter",O="pointer"),Jt=H==null?B:pn(H),j=at==null?B:pn(at),B=new mt(Q,O+"leave",H,s,G),B.target=Jt,B.relatedTarget=j,Q=null,ui(G)===z&&(mt=new mt(U,O+"enter",at,s,G),mt.target=j,mt.relatedTarget=Jt,Q=mt),Jt=Q,H&&at)e:{for(mt=sA,U=H,O=at,j=0,Q=U;Q;Q=mt(Q))j++;Q=0;for(var ct=O;ct;ct=mt(ct))Q++;for(;0<j-Q;)U=mt(U),j--;for(;0<Q-j;)O=mt(O),Q--;for(;j--;){if(U===O||O!==null&&U===O.alternate){mt=U;break e}U=mt(U),O=mt(O)}mt=null}else mt=null;H!==null&&s_(K,B,H,mt,!1),at!==null&&Jt!==null&&s_(K,Jt,at,mt,!0)}}t:{if(B=z?pn(z):window,H=B.nodeName&&B.nodeName.toLowerCase(),H==="select"||H==="input"&&B.type==="file")var zt=Tp;else if(vp(B))if(Ap)zt=pT;else{zt=dT;var lt=fT}else H=B.nodeName,!H||H.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?z&&aa(z.elementType)&&(zt=Tp):zt=mT;if(zt&&(zt=zt(e,z))){Ep(K,zt,s,G);break t}lt&&lt(e,B,z),e==="focusout"&&z&&B.type==="number"&&z.memoizedProps.value!=null&&No(B,"number",B.value)}switch(lt=z?pn(z):window,e){case"focusin":(vp(lt)||lt.contentEditable==="true")&&(ma=lt,Fh=z,qo=null);break;case"focusout":qo=Fh=ma=null;break;case"mousedown":Gh=!0;break;case"contextmenu":case"mouseup":case"dragend":Gh=!1,Np(K,s,G);break;case"selectionchange":if(yT)break;case"keydown":case"keyup":Np(K,s,G)}var xt;if(qt)t:{switch(e){case"compositionstart":var Ot="onCompositionStart";break t;case"compositionend":Ot="onCompositionEnd";break t;case"compositionupdate":Ot="onCompositionUpdate";break t}Ot=void 0}else da?Rr(e,s)&&(Ot="onCompositionEnd"):e==="keydown"&&s.keyCode===229&&(Ot="onCompositionStart");Ot&&(vi&&s.locale!=="ko"&&(da||Ot!=="onCompositionStart"?Ot==="onCompositionEnd"&&da&&(xt=ko()):(pi=G,Vo="value"in pi?pi.value:pi.textContent,da=!0)),lt=fc(z,Ot),0<lt.length&&(Ot=new _i(Ot,e,null,s,G),K.push({event:Ot,listeners:lt}),xt?Ot.data=xt:(xt=fa(s),xt!==null&&(Ot.data=xt)))),(xt=Nn?lT(e,s):uT(e,s))&&(Ot=fc(z,"onBeforeInput"),0<Ot.length&&(lt=new _i("onBeforeInput","beforeinput",null,s,G),K.push({event:lt,listeners:Ot}),lt.data=xt)),tA(K,e,z,s,G)}n_(K,n)})}function dl(e,n,s){return{instance:e,listener:n,currentTarget:s}}function fc(e,n){for(var s=n+"Capture",o=[];e!==null;){var h=e,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=Yn(e,s),h!=null&&o.unshift(dl(e,h,f)),h=Yn(e,n),h!=null&&o.push(dl(e,h,f))),e.tag===3)return o;e=e.return}return[]}function sA(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function s_(e,n,s,o,h){for(var f=n._reactName,p=[];s!==null&&s!==o;){var E=s,I=E.alternate,z=E.stateNode;if(E=E.tag,I!==null&&I===o)break;E!==5&&E!==26&&E!==27||z===null||(I=z,h?(z=Yn(s,f),z!=null&&p.unshift(dl(s,z,I))):h||(z=Yn(s,f),z!=null&&p.push(dl(s,z,I)))),s=s.return}p.length!==0&&e.push({event:n,listeners:p})}var rA=/\r\n?/g,aA=/\u0000|\uFFFD/g;function r_(e){return(typeof e=="string"?e:""+e).replace(rA,`
`).replace(aA,"")}function a_(e,n){return n=r_(n),r_(e)===n}function $t(e,n,s,o,h,f){switch(s){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||an(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&an(e,""+o);break;case"className":gn(e,"class",o);break;case"tabIndex":gn(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":gn(e,s,o);break;case"style":Oo(e,o,f);break;case"data":if(n!=="object"){gn(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||s!=="href")){e.removeAttribute(s);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(s,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(s==="formAction"?(n!=="input"&&$t(e,n,"name",h.name,h,null),$t(e,n,"formEncType",h.formEncType,h,null),$t(e,n,"formMethod",h.formMethod,h,null),$t(e,n,"formTarget",h.formTarget,h,null)):($t(e,n,"encType",h.encType,h,null),$t(e,n,"method",h.method,h,null),$t(e,n,"target",h.target,h,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(s);break}o=oa(""+o),e.setAttribute(s,o);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}s=oa(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",s);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""+o):e.removeAttribute(s);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,""):e.removeAttribute(s);break;case"capture":case"download":o===!0?e.setAttribute(s,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(s,o):e.removeAttribute(s);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(s,o):e.removeAttribute(s);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(s):e.setAttribute(s,o);break;case"popover":Nt("beforetoggle",e),Nt("toggle",e),sa(e,"popover",o);break;case"xlinkActuate":be(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":be(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":be(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":be(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":be(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":be(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":be(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":be(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":be(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":sa(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(s=fu.get(s)||s,sa(e,s,o))}}function yd(e,n,s,o,h,f){switch(s){case"style":Oo(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(a(61));if(s=o.__html,s!=null){if(h.children!=null)throw Error(a(60));e.innerHTML=s}}break;case"children":typeof o=="string"?an(e,o):(typeof o=="number"||typeof o=="bigint")&&an(e,""+o);break;case"onScroll":o!=null&&Nt("scroll",e);break;case"onScrollEnd":o!=null&&Nt("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wo.hasOwnProperty(s))t:{if(s[0]==="o"&&s[1]==="n"&&(h=s.endsWith("Capture"),n=s.slice(2,h?s.length-7:void 0),f=e[ke]||null,f=f!=null?f[s]:null,typeof f=="function"&&e.removeEventListener(n,f,h),typeof o=="function")){typeof f!="function"&&f!==null&&(s in e?e[s]=null:e.hasAttribute(s)&&e.removeAttribute(s)),e.addEventListener(n,o,h);break t}s in e?e[s]=o:o===!0?e.setAttribute(s,""):sa(e,s,o)}}}function Fe(e,n,s){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Nt("error",e),Nt("load",e);var o=!1,h=!1,f;for(f in s)if(s.hasOwnProperty(f)){var p=s[f];if(p!=null)switch(f){case"src":o=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,f,p,s,null)}}h&&$t(e,n,"srcSet",s.srcSet,s,null),o&&$t(e,n,"src",s.src,s,null);return;case"input":Nt("invalid",e);var E=f=p=h=null,I=null,z=null;for(o in s)if(s.hasOwnProperty(o)){var G=s[o];if(G!=null)switch(o){case"name":h=G;break;case"type":p=G;break;case"checked":I=G;break;case"defaultChecked":z=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:$t(e,n,o,G,s,null)}}uu(e,f,E,I,z,p,h,!1);return;case"select":Nt("invalid",e),o=p=f=null;for(h in s)if(s.hasOwnProperty(h)&&(E=s[h],E!=null))switch(h){case"value":f=E;break;case"defaultValue":p=E;break;case"multiple":o=E;default:$t(e,n,h,E,s,null)}n=f,s=p,e.multiple=!!o,n!=null?cs(e,!!o,n,!1):s!=null&&cs(e,!!o,s,!0);return;case"textarea":Nt("invalid",e),f=h=o=null;for(p in s)if(s.hasOwnProperty(p)&&(E=s[p],E!=null))switch(p){case"value":o=E;break;case"defaultValue":h=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:$t(e,n,p,E,s,null)}hs(e,o,h,f);return;case"option":for(I in s)s.hasOwnProperty(I)&&(o=s[I],o!=null)&&(I==="selected"?e.selected=o&&typeof o!="function"&&typeof o!="symbol":$t(e,n,I,o,s,null));return;case"dialog":Nt("beforetoggle",e),Nt("toggle",e),Nt("cancel",e),Nt("close",e);break;case"iframe":case"object":Nt("load",e);break;case"video":case"audio":for(o=0;o<fl.length;o++)Nt(fl[o],e);break;case"image":Nt("error",e),Nt("load",e);break;case"details":Nt("toggle",e);break;case"embed":case"source":case"link":Nt("error",e),Nt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in s)if(s.hasOwnProperty(z)&&(o=s[z],o!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:$t(e,n,z,o,s,null)}return;default:if(aa(n)){for(G in s)s.hasOwnProperty(G)&&(o=s[G],o!==void 0&&yd(e,n,G,o,s,void 0));return}}for(E in s)s.hasOwnProperty(E)&&(o=s[E],o!=null&&$t(e,n,E,o,s,null))}function oA(e,n,s,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,p=null,E=null,I=null,z=null,G=null;for(H in s){var K=s[H];if(s.hasOwnProperty(H)&&K!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=K;default:o.hasOwnProperty(H)||$t(e,n,H,null,o,K)}}for(var B in o){var H=o[B];if(K=s[B],o.hasOwnProperty(B)&&(H!=null||K!=null))switch(B){case"type":f=H;break;case"name":h=H;break;case"checked":z=H;break;case"defaultChecked":G=H;break;case"value":p=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(a(137,n));break;default:H!==K&&$t(e,n,B,H,o,K)}}ra(e,p,E,I,z,G,f,h);return;case"select":H=p=E=B=null;for(f in s)if(I=s[f],s.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:o.hasOwnProperty(f)||$t(e,n,f,null,o,I)}for(h in o)if(f=o[h],I=s[h],o.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":p=f;default:f!==I&&$t(e,n,h,f,o,I)}n=E,s=p,o=H,B!=null?cs(e,!!s,B,!1):!!o!=!!s&&(n!=null?cs(e,!!s,n,!0):cs(e,!!s,s?[]:"",!1));return;case"textarea":H=B=null;for(E in s)if(h=s[E],s.hasOwnProperty(E)&&h!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:$t(e,n,E,null,o,h)}for(p in o)if(h=o[p],f=s[p],o.hasOwnProperty(p)&&(h!=null||f!=null))switch(p){case"value":B=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(a(91));break;default:h!==f&&$t(e,n,p,h,o,f)}cu(e,B,H);return;case"option":for(var at in s)B=s[at],s.hasOwnProperty(at)&&B!=null&&!o.hasOwnProperty(at)&&(at==="selected"?e.selected=!1:$t(e,n,at,null,o,B));for(I in o)B=o[I],H=s[I],o.hasOwnProperty(I)&&B!==H&&(B!=null||H!=null)&&(I==="selected"?e.selected=B&&typeof B!="function"&&typeof B!="symbol":$t(e,n,I,B,o,H));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in s)B=s[mt],s.hasOwnProperty(mt)&&B!=null&&!o.hasOwnProperty(mt)&&$t(e,n,mt,null,o,B);for(z in o)if(B=o[z],H=s[z],o.hasOwnProperty(z)&&B!==H&&(B!=null||H!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:$t(e,n,z,B,o,H)}return;default:if(aa(n)){for(var Jt in s)B=s[Jt],s.hasOwnProperty(Jt)&&B!==void 0&&!o.hasOwnProperty(Jt)&&yd(e,n,Jt,void 0,o,B);for(G in o)B=o[G],H=s[G],!o.hasOwnProperty(G)||B===H||B===void 0&&H===void 0||yd(e,n,G,B,o,H);return}}for(var U in s)B=s[U],s.hasOwnProperty(U)&&B!=null&&!o.hasOwnProperty(U)&&$t(e,n,U,null,o,B);for(K in o)B=o[K],H=s[K],!o.hasOwnProperty(K)||B===H||B==null&&H==null||$t(e,n,K,B,o,H)}function o_(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function lA(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,s=performance.getEntriesByType("resource"),o=0;o<s.length;o++){var h=s[o],f=h.transferSize,p=h.initiatorType,E=h.duration;if(f&&E&&o_(p)){for(p=0,E=h.responseEnd,o+=1;o<s.length;o++){var I=s[o],z=I.startTime;if(z>E)break;var G=I.transferSize,K=I.initiatorType;G&&o_(K)&&(I=I.responseEnd,p+=G*(I<E?1:(E-z)/(I-z)))}if(--o,n+=8*(f+p)/(h.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var _d=null,vd=null;function dc(e){return e.nodeType===9?e:e.ownerDocument}function l_(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function u_(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Ed(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Td=null;function uA(){var e=window.event;return e&&e.type==="popstate"?e===Td?!1:(Td=e,!0):(Td=null,!1)}var c_=typeof setTimeout=="function"?setTimeout:void 0,cA=typeof clearTimeout=="function"?clearTimeout:void 0,h_=typeof Promise=="function"?Promise:void 0,hA=typeof queueMicrotask=="function"?queueMicrotask:typeof h_<"u"?function(e){return h_.resolve(null).then(e).catch(fA)}:c_;function fA(e){setTimeout(function(){throw e})}function Vs(e){return e==="head"}function f_(e,n){var s=n,o=0;do{var h=s.nextSibling;if(e.removeChild(s),h&&h.nodeType===8)if(s=h.data,s==="/$"||s==="/&"){if(o===0){e.removeChild(h),Ba(n);return}o--}else if(s==="$"||s==="$?"||s==="$~"||s==="$!"||s==="&")o++;else if(s==="html")ml(e.ownerDocument.documentElement);else if(s==="head"){s=e.ownerDocument.head,ml(s);for(var f=s.firstChild;f;){var p=f.nextSibling,E=f.nodeName;f[li]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&f.rel.toLowerCase()==="stylesheet"||s.removeChild(f),f=p}}else s==="body"&&ml(e.ownerDocument.body);s=h}while(s);Ba(n)}function d_(e,n){var s=e;e=0;do{var o=s.nextSibling;if(s.nodeType===1?n?(s._stashedDisplay=s.style.display,s.style.display="none"):(s.style.display=s._stashedDisplay||"",s.getAttribute("style")===""&&s.removeAttribute("style")):s.nodeType===3&&(n?(s._stashedText=s.nodeValue,s.nodeValue=""):s.nodeValue=s._stashedText||""),o&&o.nodeType===8)if(s=o.data,s==="/$"){if(e===0)break;e--}else s!=="$"&&s!=="$?"&&s!=="$~"&&s!=="$!"||e++;s=o}while(s)}function Ad(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var s=n;switch(n=n.nextSibling,s.nodeName){case"HTML":case"HEAD":case"BODY":Ad(s),ia(s);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(s.rel.toLowerCase()==="stylesheet")continue}e.removeChild(s)}}function dA(e,n,s,o){for(;e.nodeType===1;){var h=s;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[li])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==h.rel||e.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||e.getAttribute("title")!==(h.title==null?null:h.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(h.src==null?null:h.src)||e.getAttribute("type")!==(h.type==null?null:h.type)||e.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function mA(e,n,s){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!s||(e=Ln(e.nextSibling),e===null))return null;return e}function m_(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=Ln(e.nextSibling),e===null))return null;return e}function bd(e){return e.data==="$?"||e.data==="$~"}function Sd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function pA(e,n){var s=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||s.readyState!=="loading")n();else{var o=function(){n(),s.removeEventListener("DOMContentLoaded",o)};s.addEventListener("DOMContentLoaded",o),e._reactRetry=o}}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var wd=null;function p_(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="/$"||s==="/&"){if(n===0)return Ln(e.nextSibling);n--}else s!=="$"&&s!=="$!"&&s!=="$?"&&s!=="$~"&&s!=="&"||n++}e=e.nextSibling}return null}function g_(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var s=e.data;if(s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"){if(n===0)return e;n--}else s!=="/$"&&s!=="/&"||n++}e=e.previousSibling}return null}function y_(e,n,s){switch(n=dc(s),e){case"html":if(e=n.documentElement,!e)throw Error(a(452));return e;case"head":if(e=n.head,!e)throw Error(a(453));return e;case"body":if(e=n.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function ml(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);ia(e)}var Pn=new Map,__=new Set;function mc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Ji=X.d;X.d={f:gA,r:yA,D:_A,C:vA,L:EA,m:TA,X:bA,S:AA,M:SA};function gA(){var e=Ji.f(),n=rc();return e||n}function yA(e){var n=Cn(e);n!==null&&n.tag===5&&n.type==="form"?kg(n):Ji.r(e)}var Pa=typeof document>"u"?null:document;function v_(e,n,s){var o=Pa;if(o&&typeof n=="string"&&n){var h=rn(n);h='link[rel="'+e+'"][href="'+h+'"]',typeof s=="string"&&(h+='[crossorigin="'+s+'"]'),__.has(h)||(__.add(h),e={rel:e,crossOrigin:s,href:n},o.querySelector(h)===null&&(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function _A(e){Ji.D(e),v_("dns-prefetch",e,null)}function vA(e,n){Ji.C(e,n),v_("preconnect",e,n)}function EA(e,n,s){Ji.L(e,n,s);var o=Pa;if(o&&e&&n){var h='link[rel="preload"][as="'+rn(n)+'"]';n==="image"&&s&&s.imageSrcSet?(h+='[imagesrcset="'+rn(s.imageSrcSet)+'"]',typeof s.imageSizes=="string"&&(h+='[imagesizes="'+rn(s.imageSizes)+'"]')):h+='[href="'+rn(e)+'"]';var f=h;switch(n){case"style":f=ja(e);break;case"script":f=za(e)}Pn.has(f)||(e=S({rel:"preload",href:n==="image"&&s&&s.imageSrcSet?void 0:e,as:n},s),Pn.set(f,e),o.querySelector(h)!==null||n==="style"&&o.querySelector(pl(f))||n==="script"&&o.querySelector(gl(f))||(n=o.createElement("link"),Fe(n,"link",e),Ae(n),o.head.appendChild(n)))}}function TA(e,n){Ji.m(e,n);var s=Pa;if(s&&e){var o=n&&typeof n.as=="string"?n.as:"script",h='link[rel="modulepreload"][as="'+rn(o)+'"][href="'+rn(e)+'"]',f=h;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Pn.has(f)&&(e=S({rel:"modulepreload",href:e},n),Pn.set(f,e),s.querySelector(h)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(s.querySelector(gl(f)))return}o=s.createElement("link"),Fe(o,"link",e),Ae(o),s.head.appendChild(o)}}}function AA(e,n,s){Ji.S(e,n,s);var o=Pa;if(o&&e){var h=ci(o).hoistableStyles,f=ja(e);n=n||"default";var p=h.get(f);if(!p){var E={loading:0,preload:null};if(p=o.querySelector(pl(f)))E.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":n},s),(s=Pn.get(f))&&Rd(e,s);var I=p=o.createElement("link");Ae(I),Fe(I,"link",e),I._p=new Promise(function(z,G){I.onload=z,I.onerror=G}),I.addEventListener("load",function(){E.loading|=1}),I.addEventListener("error",function(){E.loading|=2}),E.loading|=4,pc(p,n,o)}p={type:"stylesheet",instance:p,count:1,state:E},h.set(f,p)}}}function bA(e,n){Ji.X(e,n);var s=Pa;if(s&&e){var o=ci(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(gl(h)),f||(e=S({src:e,async:!0},n),(n=Pn.get(h))&&Cd(e,n),f=s.createElement("script"),Ae(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function SA(e,n){Ji.M(e,n);var s=Pa;if(s&&e){var o=ci(s).hoistableScripts,h=za(e),f=o.get(h);f||(f=s.querySelector(gl(h)),f||(e=S({src:e,async:!0,type:"module"},n),(n=Pn.get(h))&&Cd(e,n),f=s.createElement("script"),Ae(f),Fe(f,"link",e),s.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(h,f))}}function E_(e,n,s,o){var h=(h=Ct.current)?mc(h):null;if(!h)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof s.precedence=="string"&&typeof s.href=="string"?(n=ja(s.href),s=ci(h).hoistableStyles,o=s.get(n),o||(o={type:"style",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(s.rel==="stylesheet"&&typeof s.href=="string"&&typeof s.precedence=="string"){e=ja(s.href);var f=ci(h).hoistableStyles,p=f.get(e);if(p||(h=h.ownerDocument||h,p={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,p),(f=h.querySelector(pl(e)))&&!f._p&&(p.instance=f,p.state.loading=5),Pn.has(e)||(s={rel:"preload",as:"style",href:s.href,crossOrigin:s.crossOrigin,integrity:s.integrity,media:s.media,hrefLang:s.hrefLang,referrerPolicy:s.referrerPolicy},Pn.set(e,s),f||wA(h,e,s,p.state))),n&&o===null)throw Error(a(528,""));return p}if(n&&o!==null)throw Error(a(529,""));return null;case"script":return n=s.async,s=s.src,typeof s=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(s),s=ci(h).hoistableScripts,o=s.get(n),o||(o={type:"script",instance:null,count:0,state:null},s.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function ja(e){return'href="'+rn(e)+'"'}function pl(e){return'link[rel="stylesheet"]['+e+"]"}function T_(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function wA(e,n,s,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),Fe(n,"link",s),Ae(n),e.head.appendChild(n))}function za(e){return'[src="'+rn(e)+'"]'}function gl(e){return"script[async]"+e}function A_(e,n,s){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+rn(s.href)+'"]');if(o)return n.instance=o,Ae(o),o;var h=S({},s,{"data-href":s.href,"data-precedence":s.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),Ae(o),Fe(o,"style",h),pc(o,s.precedence,e),n.instance=o;case"stylesheet":h=ja(s.href);var f=e.querySelector(pl(h));if(f)return n.state.loading|=4,n.instance=f,Ae(f),f;o=T_(s),(h=Pn.get(h))&&Rd(o,h),f=(e.ownerDocument||e).createElement("link"),Ae(f);var p=f;return p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Fe(f,"link",o),n.state.loading|=4,pc(f,s.precedence,e),n.instance=f;case"script":return f=za(s.src),(h=e.querySelector(gl(f)))?(n.instance=h,Ae(h),h):(o=s,(h=Pn.get(f))&&(o=S({},s),Cd(o,h)),e=e.ownerDocument||e,h=e.createElement("script"),Ae(h),Fe(h,"link",o),e.head.appendChild(h),n.instance=h);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(o=n.instance,n.state.loading|=4,pc(o,s.precedence,e));return n.instance}function pc(e,n,s){for(var o=s.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=o.length?o[o.length-1]:null,f=h,p=0;p<o.length;p++){var E=o[p];if(E.dataset.precedence===n)f=E;else if(f!==h)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=s.nodeType===9?s.head:s,n.insertBefore(e,n.firstChild))}function Rd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Cd(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var gc=null;function b_(e,n,s){if(gc===null){var o=new Map,h=gc=new Map;h.set(s,o)}else h=gc,o=h.get(s),o||(o=new Map,h.set(s,o));if(o.has(e))return o;for(o.set(e,null),s=s.getElementsByTagName(e),h=0;h<s.length;h++){var f=s[h];if(!(f[li]||f[Te]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var p=f.getAttribute(n)||"";p=e+p;var E=o.get(p);E?E.push(f):o.set(p,[f])}}return o}function S_(e,n,s){e=e.ownerDocument||e,e.head.insertBefore(s,n==="title"?e.querySelector("head > title"):null)}function RA(e,n,s){if(s===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function w_(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function CA(e,n,s,o){if(s.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var h=ja(o.href),f=n.querySelector(pl(h));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=yc.bind(e),n.then(e,e)),s.state.loading|=4,s.instance=f,Ae(f);return}f=n.ownerDocument||n,o=T_(o),(h=Pn.get(h))&&Rd(o,h),f=f.createElement("link"),Ae(f);var p=f;p._p=new Promise(function(E,I){p.onload=E,p.onerror=I}),Fe(f,"link",o),s.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(s,n),(n=s.state.preload)&&(s.state.loading&3)===0&&(e.count++,s=yc.bind(e),n.addEventListener("load",s),n.addEventListener("error",s))}}var xd=0;function xA(e,n){return e.stylesheets&&e.count===0&&vc(e,e.stylesheets),0<e.count||0<e.imgCount?function(s){var o=setTimeout(function(){if(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&xd===0&&(xd=62500*lA());var h=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&vc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>xd?50:800)+n);return e.unsuspend=s,function(){e.unsuspend=null,clearTimeout(o),clearTimeout(h)}}:null}function yc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)vc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var _c=null;function vc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,_c=new Map,n.forEach(IA,e),_c=null,yc.call(e))}function IA(e,n){if(!(n.state.loading&4)){var s=_c.get(e);if(s)var o=s.get(null);else{s=new Map,_c.set(e,s);for(var h=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var p=h[f];(p.nodeName==="LINK"||p.getAttribute("media")!=="not all")&&(s.set(p.dataset.precedence,p),o=p)}o&&s.set(null,o)}h=n.instance,p=h.getAttribute("data-precedence"),f=s.get(p)||o,f===o&&s.set(null,h),s.set(p,h),this.count++,o=yc.bind(this),h.addEventListener("load",o),h.addEventListener("error",o),f?f.parentNode.insertBefore(h,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(h,e.firstChild)),n.state.loading|=4}}var yl={$$typeof:ft,Provider:null,Consumer:null,_currentValue:it,_currentValue2:it,_threadCount:0};function NA(e,n,s,o,h,f,p,E,I){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=o,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=p,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=I,this.incompleteTransitions=new Map}function R_(e,n,s,o,h,f,p,E,I,z,G,K){return e=new NA(e,n,s,p,I,z,G,K,E),n=1,f===!0&&(n|=24),f=_n(3,null,null,n),e.current=f,f.stateNode=e,n=of(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:s,cache:n},hf(f),e}function C_(e){return e?(e=ya,e):ya}function x_(e,n,s,o,h,f){h=C_(h),o.context===null?o.context=h:o.pendingContext=h,o=bs(n),o.payload={element:s},f=f===void 0?null:f,f!==null&&(o.callback=f),s=Ss(e,o,n),s!==null&&(hn(s,e,n),Xo(s,e,n))}function I_(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var s=e.retryLane;e.retryLane=s!==0&&s<n?s:n}}function Id(e,n){I_(e,n),(e=e.alternate)&&I_(e,n)}function N_(e){if(e.tag===13||e.tag===31){var n=Ir(e,67108864);n!==null&&hn(n,e,67108864),Id(e,67108864)}}function D_(e){if(e.tag===13||e.tag===31){var n=bn();n=yr(n);var s=Ir(e,n);s!==null&&hn(s,e,n),Id(e,n)}}var Ec=!0;function DA(e,n,s,o){var h=N.T;N.T=null;var f=X.p;try{X.p=2,Nd(e,n,s,o)}finally{X.p=f,N.T=h}}function OA(e,n,s,o){var h=N.T;N.T=null;var f=X.p;try{X.p=8,Nd(e,n,s,o)}finally{X.p=f,N.T=h}}function Nd(e,n,s,o){if(Ec){var h=Dd(o);if(h===null)gd(e,n,o,Tc,s),M_(e,o);else if(VA(h,e,n,s,o))o.stopPropagation();else if(M_(e,o),n&4&&-1<MA.indexOf(e)){for(;h!==null;){var f=Cn(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var p=si(f.pendingLanes);if(p!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;p;){var I=1<<31-de(p);E.entanglements[1]|=I,p&=~I}bi(f),(Ht&6)===0&&(ic=en()+500,hl(0))}}break;case 31:case 13:E=Ir(f,2),E!==null&&hn(E,f,2),rc(),Id(f,2)}if(f=Dd(o),f===null&&gd(e,n,o,Tc,s),f===h)break;h=f}h!==null&&o.stopPropagation()}else gd(e,n,o,null,s)}}function Dd(e){return e=xn(e),Od(e)}var Tc=null;function Od(e){if(Tc=null,e=ui(e),e!==null){var n=c(e);if(n===null)e=null;else{var s=n.tag;if(s===13){if(e=d(n),e!==null)return e;e=null}else if(s===31){if(e=g(n),e!==null)return e;e=null}else if(s===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Tc=e,null}function O_(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(dr()){case Eo:return 2;case To:return 8;case ls:case Lh:return 32;case Wl:return 268435456;default:return 32}default:return 32}}var Md=!1,ks=null,Us=null,Ls=null,_l=new Map,vl=new Map,Ps=[],MA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M_(e,n){switch(e){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Us=null;break;case"mouseover":case"mouseout":Ls=null;break;case"pointerover":case"pointerout":_l.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":vl.delete(n.pointerId)}}function El(e,n,s,o,h,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:s,eventSystemFlags:o,nativeEvent:f,targetContainers:[h]},n!==null&&(n=Cn(n),n!==null&&N_(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,h!==null&&n.indexOf(h)===-1&&n.push(h),e)}function VA(e,n,s,o,h){switch(n){case"focusin":return ks=El(ks,e,n,s,o,h),!0;case"dragenter":return Us=El(Us,e,n,s,o,h),!0;case"mouseover":return Ls=El(Ls,e,n,s,o,h),!0;case"pointerover":var f=h.pointerId;return _l.set(f,El(_l.get(f)||null,e,n,s,o,h)),!0;case"gotpointercapture":return f=h.pointerId,vl.set(f,El(vl.get(f)||null,e,n,s,o,h)),!0}return!1}function V_(e){var n=ui(e.target);if(n!==null){var s=c(n);if(s!==null){if(n=s.tag,n===13){if(n=d(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){D_(s)});return}}else if(n===31){if(n=g(s),n!==null){e.blockedOn=n,Fn(e.priority,function(){D_(s)});return}}else if(n===3&&s.stateNode.current.memoizedState.isDehydrated){e.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ac(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var s=Dd(e.nativeEvent);if(s===null){s=e.nativeEvent;var o=new s.constructor(s.type,s);Mo=o,s.target.dispatchEvent(o),Mo=null}else return n=Cn(s),n!==null&&N_(n),e.blockedOn=s,!1;n.shift()}return!0}function k_(e,n,s){Ac(e)&&s.delete(n)}function kA(){Md=!1,ks!==null&&Ac(ks)&&(ks=null),Us!==null&&Ac(Us)&&(Us=null),Ls!==null&&Ac(Ls)&&(Ls=null),_l.forEach(k_),vl.forEach(k_)}function bc(e,n){e.blockedOn===n&&(e.blockedOn=null,Md||(Md=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,kA)))}var Sc=null;function U_(e){Sc!==e&&(Sc=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Sc===e&&(Sc=null);for(var n=0;n<e.length;n+=3){var s=e[n],o=e[n+1],h=e[n+2];if(typeof o!="function"){if(Od(o||s)===null)continue;break}var f=Cn(s);f!==null&&(e.splice(n,3),n-=3,Df(f,{pending:!0,data:h,method:s.method,action:o},o,h))}}))}function Ba(e){function n(I){return bc(I,e)}ks!==null&&bc(ks,e),Us!==null&&bc(Us,e),Ls!==null&&bc(Ls,e),_l.forEach(n),vl.forEach(n);for(var s=0;s<Ps.length;s++){var o=Ps[s];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Ps.length&&(s=Ps[0],s.blockedOn===null);)V_(s),s.blockedOn===null&&Ps.shift();if(s=(e.ownerDocument||e).$$reactFormReplay,s!=null)for(o=0;o<s.length;o+=3){var h=s[o],f=s[o+1],p=h[ke]||null;if(typeof f=="function")p||U_(s);else if(p){var E=null;if(f&&f.hasAttribute("formAction")){if(h=f,p=f[ke]||null)E=p.formAction;else if(Od(h)!==null)continue}else E=p.action;typeof E=="function"?s[o+1]=E:(s.splice(o,3),o-=3),U_(s)}}}function L_(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(p){return h=p})},focusReset:"manual",scroll:"manual"})}function n(){h!==null&&(h(),h=null),o||setTimeout(s,20)}function s(){if(!o&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var o=!1,h=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(s,100),function(){o=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),h!==null&&(h(),h=null)}}}function Vd(e){this._internalRoot=e}wc.prototype.render=Vd.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(a(409));var s=n.current,o=bn();x_(s,o,e,n,null,null)},wc.prototype.unmount=Vd.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;x_(e.current,2,null,e,null,null),rc(),n[oi]=null}};function wc(e){this._internalRoot=e}wc.prototype.unstable_scheduleHydration=function(e){if(e){var n=ru();e={blockedOn:null,target:e,priority:n};for(var s=0;s<Ps.length&&n!==0&&n<Ps[s].priority;s++);Ps.splice(s,0,e),s===0&&V_(e)}};var P_=t.version;if(P_!=="19.2.3")throw Error(a(527,P_,"19.2.3"));X.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=y(n),e=e!==null?A(e):null,e=e===null?null:e.stateNode,e};var UA={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rc.isDisabled&&Rc.supportsFiber)try{qn=Rc.inject(UA),je=Rc}catch{}}return Al.createRoot=function(e,n){if(!l(e))throw Error(a(299));var s=!1,o="",h=Gg,f=Qg,p=Yg;return n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(h=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),n=R_(e,1,!1,null,null,s,o,null,h,f,p,L_),e[oi]=n.current,pd(e),new Vd(n)},Al.hydrateRoot=function(e,n,s){if(!l(e))throw Error(a(299));var o=!1,h="",f=Gg,p=Qg,E=Yg,I=null;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(h=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(p=s.onCaughtError),s.onRecoverableError!==void 0&&(E=s.onRecoverableError),s.formState!==void 0&&(I=s.formState)),n=R_(e,1,!0,n,s??null,o,h,I,f,p,E,L_),n.context=C_(null),s=n.current,o=bn(),o=yr(o),h=bs(o),h.callback=null,Ss(s,h,o),s=o,n.current.lanes=s,pr(n,s),bi(n),e[oi]=n.current,pd(e),new wc(n)},Al.version="19.2.3",Al}var K_;function QA(){if(K_)return Ld.exports;K_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),Ld.exports=GA(),Ld.exports}var YA=QA();const KA=()=>{};var X_={};const R0=function(r){const t=[];let i=0;for(let a=0;a<r.length;a++){let l=r.charCodeAt(a);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&a+1<r.length&&(r.charCodeAt(a+1)&64512)===56320?(l=65536+((l&1023)<<10)+(r.charCodeAt(++a)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},XA=function(r){const t=[];let i=0,a=0;for(;i<r.length;){const l=r[i++];if(l<128)t[a++]=String.fromCharCode(l);else if(l>191&&l<224){const c=r[i++];t[a++]=String.fromCharCode((l&31)<<6|c&63)}else if(l>239&&l<365){const c=r[i++],d=r[i++],g=r[i++],_=((l&7)<<18|(c&63)<<12|(d&63)<<6|g&63)-65536;t[a++]=String.fromCharCode(55296+(_>>10)),t[a++]=String.fromCharCode(56320+(_&1023))}else{const c=r[i++],d=r[i++];t[a++]=String.fromCharCode((l&15)<<12|(c&63)<<6|d&63)}}return t.join("")},C0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,t){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let l=0;l<r.length;l+=3){const c=r[l],d=l+1<r.length,g=d?r[l+1]:0,_=l+2<r.length,y=_?r[l+2]:0,A=c>>2,S=(c&3)<<4|g>>4;let D=(g&15)<<2|y>>6,F=y&63;_||(F=64,d||(D=64)),a.push(i[A],i[S],i[D],i[F])}return a.join("")},encodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(r):this.encodeByteArray(R0(r),t)},decodeString(r,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(r):XA(this.decodeStringToByteArray(r,t))},decodeStringToByteArray(r,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let l=0;l<r.length;){const c=i[r.charAt(l++)],g=l<r.length?i[r.charAt(l)]:0;++l;const y=l<r.length?i[r.charAt(l)]:64;++l;const S=l<r.length?i[r.charAt(l)]:64;if(++l,c==null||g==null||y==null||S==null)throw new $A;const D=c<<2|g>>4;if(a.push(D),y!==64){const F=g<<4&240|y>>2;if(a.push(F),S!==64){const W=y<<6&192|S;a.push(W)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class $A extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const JA=function(r){const t=R0(r);return C0.encodeByteArray(t,!0)},Gc=function(r){return JA(r).replace(/\./g,"")},x0=function(r){try{return C0.decodeString(r,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function ZA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const WA=()=>ZA().__FIREBASE_DEFAULTS__,tb=()=>{if(typeof process>"u"||typeof X_>"u")return;const r=X_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},eb=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=r&&x0(r[1]);return t&&JSON.parse(t)},hh=()=>{try{return KA()||WA()||tb()||eb()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},I0=r=>hh()?.emulatorHosts?.[r],nb=r=>{const t=I0(r);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const a=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),a]:[t.substring(0,i),a]},N0=()=>hh()?.config,D0=r=>hh()?.[`_${r}`];class ib{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,a))}}}function oo(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O0(r){return(await fetch(r,{credentials:"include"})).ok}function sb(r,t){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=t||"demo-project",l=r.iat||0,c=r.sub||r.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d={iss:`https://securetoken.google.com/${a}`,aud:a,iat:l,exp:l+3600,auth_time:l,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Gc(JSON.stringify(i)),Gc(JSON.stringify(d)),""].join(".")}const xl={};function rb(){const r={prod:[],emulator:[]};for(const t of Object.keys(xl))xl[t]?r.emulator.push(t):r.prod.push(t);return r}function ab(r){let t=document.getElementById(r),i=!1;return t||(t=document.createElement("div"),t.setAttribute("id",r),i=!0),{created:i,element:t}}let $_=!1;function M0(r,t){if(typeof window>"u"||typeof document>"u"||!oo(window.location.host)||xl[r]===t||xl[r]||$_)return;xl[r]=t;function i(D){return`__firebase__banner__${D}`}const a="__firebase__banner",c=rb().prod.length>0;function d(){const D=document.getElementById(a);D&&D.remove()}function g(D){D.style.display="flex",D.style.background="#7faaf0",D.style.position="fixed",D.style.bottom="5px",D.style.left="5px",D.style.padding=".5em",D.style.borderRadius="5px",D.style.alignItems="center"}function _(D,F){D.setAttribute("width","24"),D.setAttribute("id",F),D.setAttribute("height","24"),D.setAttribute("viewBox","0 0 24 24"),D.setAttribute("fill","none"),D.style.marginLeft="-6px"}function y(){const D=document.createElement("span");return D.style.cursor="pointer",D.style.marginLeft="16px",D.style.fontSize="24px",D.innerHTML=" &times;",D.onclick=()=>{$_=!0,d()},D}function A(D,F){D.setAttribute("id",F),D.innerText="Learn more",D.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",D.setAttribute("target","__blank"),D.style.paddingLeft="5px",D.style.textDecoration="underline"}function S(){const D=ab(a),F=i("text"),W=document.getElementById(F)||document.createElement("span"),tt=i("learnmore"),Z=document.getElementById(tt)||document.createElement("a"),ut=i("preprendIcon"),gt=document.getElementById(ut)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(D.created){const ft=D.element;g(ft),A(Z,tt);const Ut=y();_(gt,ut),ft.append(gt,W,Z,Ut),document.body.appendChild(ft)}c?(W.innerText="Preview backend disconnected.",gt.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(gt.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,W.innerText="Preview backend running in this workspace."),W.setAttribute("id",F)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",S):S()}function tn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(tn())}function lb(){const r=hh()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function ub(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cb(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function hb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fb(){const r=tn();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function db(){return!lb()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mb(){try{return typeof indexedDB=="object"}catch{return!1}}function pb(){return new Promise((r,t)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(a);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(a),r(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{t(l.error?.message||"")}}catch(i){t(i)}})}const gb="FirebaseError";class as extends Error{constructor(t,i,a){super(i),this.code=t,this.customData=a,this.name=gb,Object.setPrototypeOf(this,as.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bl.prototype.create)}}class Bl{constructor(t,i,a){this.service=t,this.serviceName=i,this.errors=a}create(t,...i){const a=i[0]||{},l=`${this.service}/${t}`,c=this.errors[t],d=c?yb(c,a):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new as(l,g,a)}}function yb(r,t){return r.replace(_b,(i,a)=>{const l=t[a];return l!=null?String(l):`<${a}?>`})}const _b=/\{\$([^}]+)}/g;function vb(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}function ts(r,t){if(r===t)return!0;const i=Object.keys(r),a=Object.keys(t);for(const l of i){if(!a.includes(l))return!1;const c=r[l],d=t[l];if(J_(c)&&J_(d)){if(!ts(c,d))return!1}else if(c!==d)return!1}for(const l of a)if(!i.includes(l))return!1;return!0}function J_(r){return r!==null&&typeof r=="object"}function ql(r){const t=[];for(const[i,a]of Object.entries(r))Array.isArray(a)?a.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(a));return t.length?"&"+t.join("&"):""}function Eb(r,t){const i=new Tb(r,t);return i.subscribe.bind(i)}class Tb{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(a=>{this.error(a)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,a){let l;if(t===void 0&&i===void 0&&a===void 0)throw new Error("Missing Observer.");Ab(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:a},l.next===void 0&&(l.next=Bd),l.error===void 0&&(l.error=Bd),l.complete===void 0&&(l.complete=Bd);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),c}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ab(r,t){if(typeof r!="object"||r===null)return!1;for(const i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}function Bd(){}function Ke(r){return r&&r._delegate?r._delegate:r}class Qr{constructor(t,i,a){this.name=t,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const qr="[DEFAULT]";class bb{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const a=new ib;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&a.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){const i=this.normalizeInstanceIdentifier(t?.identifier),a=t?.optional??!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(wb(t))try{this.getOrInitializeService({instanceIdentifier:qr})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const c=this.getOrInitializeService({instanceIdentifier:l});a.resolve(c)}catch{}}}}clearInstance(t=qr){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=qr){return this.instances.has(t)}getOptions(t=qr){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,a=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[c,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(c);a===g&&d.resolve(l)}return l}onInit(t,i){const a=this.normalizeInstanceIdentifier(i),l=this.onInitCallbacks.get(a)??new Set;l.add(t),this.onInitCallbacks.set(a,l);const c=this.instances.get(a);return c&&t(c,a),()=>{l.delete(t)}}invokeOnInitCallbacks(t,i){const a=this.onInitCallbacks.get(i);if(a)for(const l of a)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let a=this.instances.get(t);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:Sb(t),options:i}),this.instances.set(t,a),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(a,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,a)}catch{}return a||null}normalizeInstanceIdentifier(t=qr){return this.component?this.component.multipleInstances?t:qr:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Sb(r){return r===qr?void 0:r}function wb(r){return r.instantiationMode==="EAGER"}class Rb{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new bb(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}var Mt;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(Mt||(Mt={}));const Cb={debug:Mt.DEBUG,verbose:Mt.VERBOSE,info:Mt.INFO,warn:Mt.WARN,error:Mt.ERROR,silent:Mt.SILENT},xb=Mt.INFO,Ib={[Mt.DEBUG]:"log",[Mt.VERBOSE]:"log",[Mt.INFO]:"info",[Mt.WARN]:"warn",[Mt.ERROR]:"error"},Nb=(r,t,...i)=>{if(t<r.logLevel)return;const a=new Date().toISOString(),l=Ib[t];if(l)console[l](`[${a}]  ${r.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Nm{constructor(t){this.name=t,this._logLevel=xb,this._logHandler=Nb,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Mt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Cb[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Mt.DEBUG,...t),this._logHandler(this,Mt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Mt.VERBOSE,...t),this._logHandler(this,Mt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Mt.INFO,...t),this._logHandler(this,Mt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Mt.WARN,...t),this._logHandler(this,Mt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Mt.ERROR,...t),this._logHandler(this,Mt.ERROR,...t)}}const Db=(r,t)=>t.some(i=>r instanceof i);let Z_,W_;function Ob(){return Z_||(Z_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Mb(){return W_||(W_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V0=new WeakMap,tm=new WeakMap,k0=new WeakMap,qd=new WeakMap,Dm=new WeakMap;function Vb(r){const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("success",c),r.removeEventListener("error",d)},c=()=>{i(Ks(r.result)),l()},d=()=>{a(r.error),l()};r.addEventListener("success",c),r.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&V0.set(i,r)}).catch(()=>{}),Dm.set(t,r),t}function kb(r){if(tm.has(r))return;const t=new Promise((i,a)=>{const l=()=>{r.removeEventListener("complete",c),r.removeEventListener("error",d),r.removeEventListener("abort",d)},c=()=>{i(),l()},d=()=>{a(r.error||new DOMException("AbortError","AbortError")),l()};r.addEventListener("complete",c),r.addEventListener("error",d),r.addEventListener("abort",d)});tm.set(r,t)}let em={get(r,t,i){if(r instanceof IDBTransaction){if(t==="done")return tm.get(r);if(t==="objectStoreNames")return r.objectStoreNames||k0.get(r);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Ks(r[t])},set(r,t,i){return r[t]=i,!0},has(r,t){return r instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in r}};function Ub(r){em=r(em)}function Lb(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const a=r.call(Hd(this),t,...i);return k0.set(a,t.sort?t.sort():[t]),Ks(a)}:Mb().includes(r)?function(...t){return r.apply(Hd(this),t),Ks(V0.get(this))}:function(...t){return Ks(r.apply(Hd(this),t))}}function Pb(r){return typeof r=="function"?Lb(r):(r instanceof IDBTransaction&&kb(r),Db(r,Ob())?new Proxy(r,em):r)}function Ks(r){if(r instanceof IDBRequest)return Vb(r);if(qd.has(r))return qd.get(r);const t=Pb(r);return t!==r&&(qd.set(r,t),Dm.set(t,r)),t}const Hd=r=>Dm.get(r);function jb(r,t,{blocked:i,upgrade:a,blocking:l,terminated:c}={}){const d=indexedDB.open(r,t),g=Ks(d);return a&&d.addEventListener("upgradeneeded",_=>{a(Ks(d.result),_.oldVersion,_.newVersion,Ks(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{c&&_.addEventListener("close",()=>c()),l&&_.addEventListener("versionchange",y=>l(y.oldVersion,y.newVersion,y))}).catch(()=>{}),g}const zb=["get","getKey","getAll","getAllKeys","count"],Bb=["put","add","delete","clear"],Fd=new Map;function tv(r,t){if(!(r instanceof IDBDatabase&&!(t in r)&&typeof t=="string"))return;if(Fd.get(t))return Fd.get(t);const i=t.replace(/FromIndex$/,""),a=t!==i,l=Bb.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(l||zb.includes(i)))return;const c=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let y=_.store;return a&&(y=y.index(g.shift())),(await Promise.all([y[i](...g),l&&_.done]))[0]};return Fd.set(t,c),c}Ub(r=>({...r,get:(t,i,a)=>tv(t,i)||r.get(t,i,a),has:(t,i)=>!!tv(t,i)||r.has(t,i)}));class qb{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(Hb(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function Hb(r){return r.getComponent()?.type==="VERSION"}const nm="@firebase/app",ev="0.14.6";const es=new Nm("@firebase/app"),Fb="@firebase/app-compat",Gb="@firebase/analytics-compat",Qb="@firebase/analytics",Yb="@firebase/app-check-compat",Kb="@firebase/app-check",Xb="@firebase/auth",$b="@firebase/auth-compat",Jb="@firebase/database",Zb="@firebase/data-connect",Wb="@firebase/database-compat",tS="@firebase/functions",eS="@firebase/functions-compat",nS="@firebase/installations",iS="@firebase/installations-compat",sS="@firebase/messaging",rS="@firebase/messaging-compat",aS="@firebase/performance",oS="@firebase/performance-compat",lS="@firebase/remote-config",uS="@firebase/remote-config-compat",cS="@firebase/storage",hS="@firebase/storage-compat",fS="@firebase/firestore",dS="@firebase/ai",mS="@firebase/firestore-compat",pS="firebase",gS="12.6.0";const im="[DEFAULT]",yS={[nm]:"fire-core",[Fb]:"fire-core-compat",[Qb]:"fire-analytics",[Gb]:"fire-analytics-compat",[Kb]:"fire-app-check",[Yb]:"fire-app-check-compat",[Xb]:"fire-auth",[$b]:"fire-auth-compat",[Jb]:"fire-rtdb",[Zb]:"fire-data-connect",[Wb]:"fire-rtdb-compat",[tS]:"fire-fn",[eS]:"fire-fn-compat",[nS]:"fire-iid",[iS]:"fire-iid-compat",[sS]:"fire-fcm",[rS]:"fire-fcm-compat",[aS]:"fire-perf",[oS]:"fire-perf-compat",[lS]:"fire-rc",[uS]:"fire-rc-compat",[cS]:"fire-gcs",[hS]:"fire-gcs-compat",[fS]:"fire-fst",[mS]:"fire-fst-compat",[dS]:"fire-vertex","fire-js":"fire-js",[pS]:"fire-js-all"};const Qc=new Map,_S=new Map,sm=new Map;function nv(r,t){try{r.container.addComponent(t)}catch(i){es.debug(`Component ${t.name} failed to register with FirebaseApp ${r.name}`,i)}}function Za(r){const t=r.name;if(sm.has(t))return es.debug(`There were multiple attempts to register component ${t}.`),!1;sm.set(t,r);for(const i of Qc.values())nv(i,r);for(const i of _S.values())nv(i,r);return!0}function Om(r,t){const i=r.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),r.container.getProvider(t)}function ti(r){return r==null?!1:r.settings!==void 0}const vS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xs=new Bl("app","Firebase",vS);class ES{constructor(t,i,a){this._isDeleted=!1,this._options={...t},this._config={...i},this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Qr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Xs.create("app-deleted",{appName:this._name})}}const lo=gS;function U0(r,t={}){let i=r;typeof t!="object"&&(t={name:t});const a={name:im,automaticDataCollectionEnabled:!0,...t},l=a.name;if(typeof l!="string"||!l)throw Xs.create("bad-app-name",{appName:String(l)});if(i||(i=N0()),!i)throw Xs.create("no-options");const c=Qc.get(l);if(c){if(ts(i,c.options)&&ts(a,c.config))return c;throw Xs.create("duplicate-app",{appName:l})}const d=new Rb(l);for(const _ of sm.values())d.addComponent(_);const g=new ES(i,a,d);return Qc.set(l,g),g}function L0(r=im){const t=Qc.get(r);if(!t&&r===im&&N0())return U0();if(!t)throw Xs.create("no-app",{appName:r});return t}function $s(r,t,i){let a=yS[r]??r;i&&(a+=`-${i}`);const l=a.match(/\s|\//),c=t.match(/\s|\//);if(l||c){const d=[`Unable to register library "${a}" with version "${t}":`];l&&d.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&c&&d.push("and"),c&&d.push(`version name "${t}" contains illegal characters (whitespace or "/")`),es.warn(d.join(" "));return}Za(new Qr(`${a}-version`,()=>({library:a,version:t}),"VERSION"))}const TS="firebase-heartbeat-database",AS=1,Vl="firebase-heartbeat-store";let Gd=null;function P0(){return Gd||(Gd=jb(TS,AS,{upgrade:(r,t)=>{switch(t){case 0:try{r.createObjectStore(Vl)}catch(i){console.warn(i)}}}}).catch(r=>{throw Xs.create("idb-open",{originalErrorMessage:r.message})})),Gd}async function bS(r){try{const i=(await P0()).transaction(Vl),a=await i.objectStore(Vl).get(j0(r));return await i.done,a}catch(t){if(t instanceof as)es.warn(t.message);else{const i=Xs.create("idb-get",{originalErrorMessage:t?.message});es.warn(i.message)}}}async function iv(r,t){try{const a=(await P0()).transaction(Vl,"readwrite");await a.objectStore(Vl).put(t,j0(r)),await a.done}catch(i){if(i instanceof as)es.warn(i.message);else{const a=Xs.create("idb-set",{originalErrorMessage:i?.message});es.warn(a.message)}}}function j0(r){return`${r.name}!${r.options.appId}`}const SS=1024,wS=30;class RS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new xS(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=sv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats.length>wS){const l=IS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){es.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sv(),{heartbeatsToSend:i,unsentEntries:a}=CS(this._heartbeatsCache.heartbeats),l=Gc(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return es.warn(t),""}}}function sv(){return new Date().toISOString().substring(0,10)}function CS(r,t=SS){const i=[];let a=r.slice();for(const l of r){const c=i.find(d=>d.agent===l.agent);if(c){if(c.dates.push(l.date),rv(i)>t){c.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),rv(i)>t){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class xS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mb()?pb().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await bS(this.app);return i?.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const a=await this.read();return iv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...t.heartbeats]})}else return}}function rv(r){return Gc(JSON.stringify({version:2,heartbeats:r})).length}function IS(r){if(r.length===0)return-1;let t=0,i=r[0].date;for(let a=1;a<r.length;a++)r[a].date<i&&(i=r[a].date,t=a);return t}function NS(r){Za(new Qr("platform-logger",t=>new qb(t),"PRIVATE")),Za(new Qr("heartbeat",t=>new RS(t),"PRIVATE")),$s(nm,ev,r),$s(nm,ev,"esm2020"),$s("fire-js","")}NS("");var DS="firebase",OS="12.7.0";$s(DS,OS,"app");var av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Js,z0;(function(){var r;function t(C,w){function R(){}R.prototype=w.prototype,C.F=w.prototype,C.prototype=new R,C.prototype.constructor=C,C.D=function(k,M,L){for(var x=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)x[ee-2]=arguments[ee];return w.prototype[M].apply(k,x)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(a,i),a.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(C,w,R){R||(R=0);const k=Array(16);if(typeof w=="string")for(var M=0;M<16;++M)k[M]=w.charCodeAt(R++)|w.charCodeAt(R++)<<8|w.charCodeAt(R++)<<16|w.charCodeAt(R++)<<24;else for(M=0;M<16;++M)k[M]=w[R++]|w[R++]<<8|w[R++]<<16|w[R++]<<24;w=C.g[0],R=C.g[1],M=C.g[2];let L=C.g[3],x;x=w+(L^R&(M^L))+k[0]+3614090360&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(M^w&(R^M))+k[1]+3905402710&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(R^L&(w^R))+k[2]+606105819&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(w^M&(L^w))+k[3]+3250441966&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(L^R&(M^L))+k[4]+4118548399&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(M^w&(R^M))+k[5]+1200080426&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(R^L&(w^R))+k[6]+2821735955&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(w^M&(L^w))+k[7]+4249261313&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(L^R&(M^L))+k[8]+1770035416&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(M^w&(R^M))+k[9]+2336552879&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(R^L&(w^R))+k[10]+4294925233&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(w^M&(L^w))+k[11]+2304563134&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(L^R&(M^L))+k[12]+1804603682&4294967295,w=R+(x<<7&4294967295|x>>>25),x=L+(M^w&(R^M))+k[13]+4254626195&4294967295,L=w+(x<<12&4294967295|x>>>20),x=M+(R^L&(w^R))+k[14]+2792965006&4294967295,M=L+(x<<17&4294967295|x>>>15),x=R+(w^M&(L^w))+k[15]+1236535329&4294967295,R=M+(x<<22&4294967295|x>>>10),x=w+(M^L&(R^M))+k[1]+4129170786&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(w^R))+k[6]+3225465664&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(L^w))+k[11]+643717713&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(M^L))+k[0]+3921069994&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^L&(R^M))+k[5]+3593408605&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(w^R))+k[10]+38016083&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(L^w))+k[15]+3634488961&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(M^L))+k[4]+3889429448&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^L&(R^M))+k[9]+568446438&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(w^R))+k[14]+3275163606&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(L^w))+k[3]+4107603335&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(M^L))+k[8]+1163531501&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(M^L&(R^M))+k[13]+2850285829&4294967295,w=R+(x<<5&4294967295|x>>>27),x=L+(R^M&(w^R))+k[2]+4243563512&4294967295,L=w+(x<<9&4294967295|x>>>23),x=M+(w^R&(L^w))+k[7]+1735328473&4294967295,M=L+(x<<14&4294967295|x>>>18),x=R+(L^w&(M^L))+k[12]+2368359562&4294967295,R=M+(x<<20&4294967295|x>>>12),x=w+(R^M^L)+k[5]+4294588738&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^M)+k[8]+2272392833&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^R)+k[11]+1839030562&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^w)+k[14]+4259657740&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^L)+k[1]+2763975236&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^M)+k[4]+1272893353&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^R)+k[7]+4139469664&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^w)+k[10]+3200236656&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^L)+k[13]+681279174&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^M)+k[0]+3936430074&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^R)+k[3]+3572445317&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^w)+k[6]+76029189&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(R^M^L)+k[9]+3654602809&4294967295,w=R+(x<<4&4294967295|x>>>28),x=L+(w^R^M)+k[12]+3873151461&4294967295,L=w+(x<<11&4294967295|x>>>21),x=M+(L^w^R)+k[15]+530742520&4294967295,M=L+(x<<16&4294967295|x>>>16),x=R+(M^L^w)+k[2]+3299628645&4294967295,R=M+(x<<23&4294967295|x>>>9),x=w+(M^(R|~L))+k[0]+4096336452&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~M))+k[7]+1126891415&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~R))+k[14]+2878612391&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~w))+k[5]+4237533241&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~L))+k[12]+1700485571&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~M))+k[3]+2399980690&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~R))+k[10]+4293915773&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~w))+k[1]+2240044497&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~L))+k[8]+1873313359&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~M))+k[15]+4264355552&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~R))+k[6]+2734768916&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~w))+k[13]+1309151649&4294967295,R=M+(x<<21&4294967295|x>>>11),x=w+(M^(R|~L))+k[4]+4149444226&4294967295,w=R+(x<<6&4294967295|x>>>26),x=L+(R^(w|~M))+k[11]+3174756917&4294967295,L=w+(x<<10&4294967295|x>>>22),x=M+(w^(L|~R))+k[2]+718787259&4294967295,M=L+(x<<15&4294967295|x>>>17),x=R+(L^(M|~w))+k[9]+3951481745&4294967295,C.g[0]=C.g[0]+w&4294967295,C.g[1]=C.g[1]+(M+(x<<21&4294967295|x>>>11))&4294967295,C.g[2]=C.g[2]+M&4294967295,C.g[3]=C.g[3]+L&4294967295}a.prototype.v=function(C,w){w===void 0&&(w=C.length);const R=w-this.blockSize,k=this.C;let M=this.h,L=0;for(;L<w;){if(M==0)for(;L<=R;)l(this,C,L),L+=this.blockSize;if(typeof C=="string"){for(;L<w;)if(k[M++]=C.charCodeAt(L++),M==this.blockSize){l(this,k),M=0;break}}else for(;L<w;)if(k[M++]=C[L++],M==this.blockSize){l(this,k),M=0;break}}this.h=M,this.o+=w},a.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var w=1;w<C.length-8;++w)C[w]=0;w=this.o*8;for(var R=C.length-8;R<C.length;++R)C[R]=w&255,w/=256;for(this.v(C),C=Array(16),w=0,R=0;R<4;++R)for(let k=0;k<32;k+=8)C[w++]=this.g[R]>>>k&255;return C};function c(C,w){var R=g;return Object.prototype.hasOwnProperty.call(R,C)?R[C]:R[C]=w(C)}function d(C,w){this.h=w;const R=[];let k=!0;for(let M=C.length-1;M>=0;M--){const L=C[M]|0;k&&L==w||(R[M]=L,k=!1)}this.g=R}var g={};function _(C){return-128<=C&&C<128?c(C,function(w){return new d([w|0],w<0?-1:0)}):new d([C|0],C<0?-1:0)}function y(C){if(isNaN(C)||!isFinite(C))return S;if(C<0)return Z(y(-C));const w=[];let R=1;for(let k=0;C>=R;k++)w[k]=C/R|0,R*=4294967296;return new d(w,0)}function A(C,w){if(C.length==0)throw Error("number format error: empty string");if(w=w||10,w<2||36<w)throw Error("radix out of range: "+w);if(C.charAt(0)=="-")return Z(A(C.substring(1),w));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=y(Math.pow(w,8));let k=S;for(let L=0;L<C.length;L+=8){var M=Math.min(8,C.length-L);const x=parseInt(C.substring(L,L+M),w);M<8?(M=y(Math.pow(w,M)),k=k.j(M).add(y(x))):(k=k.j(R),k=k.add(y(x)))}return k}var S=_(0),D=_(1),F=_(16777216);r=d.prototype,r.m=function(){if(tt(this))return-Z(this).m();let C=0,w=1;for(let R=0;R<this.g.length;R++){const k=this.i(R);C+=(k>=0?k:4294967296+k)*w,w*=4294967296}return C},r.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(W(this))return"0";if(tt(this))return"-"+Z(this).toString(C);const w=y(Math.pow(C,6));var R=this;let k="";for(;;){const M=Ut(R,w).g;R=ut(R,M.j(w));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(C);if(R=M,W(R))return L+k;for(;L.length<6;)L="0"+L;k=L+k}},r.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function W(C){if(C.h!=0)return!1;for(let w=0;w<C.g.length;w++)if(C.g[w]!=0)return!1;return!0}function tt(C){return C.h==-1}r.l=function(C){return C=ut(this,C),tt(C)?-1:W(C)?0:1};function Z(C){const w=C.g.length,R=[];for(let k=0;k<w;k++)R[k]=~C.g[k];return new d(R,~C.h).add(D)}r.abs=function(){return tt(this)?Z(this):this},r.add=function(C){const w=Math.max(this.g.length,C.g.length),R=[];let k=0;for(let M=0;M<=w;M++){let L=k+(this.i(M)&65535)+(C.i(M)&65535),x=(L>>>16)+(this.i(M)>>>16)+(C.i(M)>>>16);k=x>>>16,L&=65535,x&=65535,R[M]=x<<16|L}return new d(R,R[R.length-1]&-2147483648?-1:0)};function ut(C,w){return C.add(Z(w))}r.j=function(C){if(W(this)||W(C))return S;if(tt(this))return tt(C)?Z(this).j(Z(C)):Z(Z(this).j(C));if(tt(C))return Z(this.j(Z(C)));if(this.l(F)<0&&C.l(F)<0)return y(this.m()*C.m());const w=this.g.length+C.g.length,R=[];for(var k=0;k<2*w;k++)R[k]=0;for(k=0;k<this.g.length;k++)for(let M=0;M<C.g.length;M++){const L=this.i(k)>>>16,x=this.i(k)&65535,ee=C.i(M)>>>16,fe=C.i(M)&65535;R[2*k+2*M]+=x*fe,gt(R,2*k+2*M),R[2*k+2*M+1]+=L*fe,gt(R,2*k+2*M+1),R[2*k+2*M+1]+=x*ee,gt(R,2*k+2*M+1),R[2*k+2*M+2]+=L*ee,gt(R,2*k+2*M+2)}for(C=0;C<w;C++)R[C]=R[2*C+1]<<16|R[2*C];for(C=w;C<2*w;C++)R[C]=0;return new d(R,0)};function gt(C,w){for(;(C[w]&65535)!=C[w];)C[w+1]+=C[w]>>>16,C[w]&=65535,w++}function ft(C,w){this.g=C,this.h=w}function Ut(C,w){if(W(w))throw Error("division by zero");if(W(C))return new ft(S,S);if(tt(C))return w=Ut(Z(C),w),new ft(Z(w.g),Z(w.h));if(tt(w))return w=Ut(C,Z(w)),new ft(Z(w.g),w.h);if(C.g.length>30){if(tt(C)||tt(w))throw Error("slowDivide_ only works with positive integers.");for(var R=D,k=w;k.l(C)<=0;)R=Et(R),k=Et(k);var M=ht(R,1),L=ht(k,1);for(k=ht(k,2),R=ht(R,2);!W(k);){var x=L.add(k);x.l(C)<=0&&(M=M.add(R),L=x),k=ht(k,1),R=ht(R,1)}return w=ut(C,M.j(w)),new ft(M,w)}for(M=S;C.l(w)>=0;){for(R=Math.max(1,Math.floor(C.m()/w.m())),k=Math.ceil(Math.log(R)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),L=y(R),x=L.j(w);tt(x)||x.l(C)>0;)R-=k,L=y(R),x=L.j(w);W(L)&&(L=D),M=M.add(L),C=ut(C,x)}return new ft(M,C)}r.B=function(C){return Ut(this,C).h},r.and=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)&C.i(k);return new d(R,this.h&C.h)},r.or=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)|C.i(k);return new d(R,this.h|C.h)},r.xor=function(C){const w=Math.max(this.g.length,C.g.length),R=[];for(let k=0;k<w;k++)R[k]=this.i(k)^C.i(k);return new d(R,this.h^C.h)};function Et(C){const w=C.g.length+1,R=[];for(let k=0;k<w;k++)R[k]=C.i(k)<<1|C.i(k-1)>>>31;return new d(R,C.h)}function ht(C,w){const R=w>>5;w%=32;const k=C.g.length-R,M=[];for(let L=0;L<k;L++)M[L]=w>0?C.i(L+R)>>>w|C.i(L+R+1)<<32-w:C.i(L+R);return new d(M,C.h)}a.prototype.digest=a.prototype.A,a.prototype.reset=a.prototype.u,a.prototype.update=a.prototype.v,z0=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.B,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=A,Js=d}).apply(typeof av<"u"?av:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var B0,bl,q0,Vc,rm,H0,F0,G0;(function(){var r,t=Object.defineProperty;function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var m=0;m<u.length;++m){var v=u[m];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var a=i(this);function l(u,m){if(m)t:{var v=a;u=u.split(".");for(var T=0;T<u.length-1;T++){var P=u[T];if(!(P in v))break t;v=v[P]}u=u[u.length-1],T=v[u],m=m(T),m!=T&&m!=null&&t(v,u,{configurable:!0,writable:!0,value:m})}}l("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),l("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),l("Object.entries",function(u){return u||function(m){var v=[],T;for(T in m)Object.prototype.hasOwnProperty.call(m,T)&&v.push([T,m[T]]);return v}});var c=c||{},d=this||self;function g(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function _(u,m,v){return u.call.apply(u.bind,arguments)}function y(u,m,v){return y=_,y.apply(null,arguments)}function A(u,m){var v=Array.prototype.slice.call(arguments,1);return function(){var T=v.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function S(u,m){function v(){}v.prototype=m.prototype,u.Z=m.prototype,u.prototype=new v,u.prototype.constructor=u,u.Ob=function(T,P,q){for(var et=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)et[wt-2]=arguments[wt];return m.prototype[P].apply(T,et)}}var D=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function F(u){const m=u.length;if(m>0){const v=Array(m);for(let T=0;T<m;T++)v[T]=u[T];return v}return[]}function W(u,m){for(let T=1;T<arguments.length;T++){const P=arguments[T];var v=typeof P;if(v=v!="object"?v:P?Array.isArray(P)?"array":v:"null",v=="array"||v=="object"&&typeof P.length=="number"){v=u.length||0;const q=P.length||0;u.length=v+q;for(let et=0;et<q;et++)u[v+et]=P[et]}else u.push(P)}}class tt{constructor(m,v){this.i=m,this.j=v,this.h=0,this.g=null}get(){let m;return this.h>0?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function Z(u){d.setTimeout(()=>{throw u},0)}function ut(){var u=C;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class gt{constructor(){this.h=this.g=null}add(m,v){const T=ft.get();T.set(m,v),this.h?this.h.next=T:this.g=T,this.h=T}}var ft=new tt(()=>new Ut,u=>u.reset());class Ut{constructor(){this.next=this.g=this.h=null}set(m,v){this.h=m,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Et,ht=!1,C=new gt,w=()=>{const u=Promise.resolve(void 0);Et=()=>{u.then(R)}};function R(){for(var u;u=ut();){try{u.h.call(u.g)}catch(v){Z(v)}var m=ft;m.j(u),m.h<100&&(m.h++,u.next=m.g,m.g=u)}ht=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const v=()=>{};d.addEventListener("test",v,m),d.removeEventListener("test",v,m)}catch{}return u})();function x(u){return/^[\s\xa0]*$/.test(u)}function ee(u,m){M.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,m)}S(ee,M),ee.prototype.init=function(u,m){const v=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget,m||(v=="mouseover"?m=u.fromElement:v=="mouseout"&&(m=u.toElement)),this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ee.Z.h.call(this)},ee.prototype.h=function(){ee.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var fe="closure_listenable_"+(Math.random()*1e6|0),N=0;function X(u,m,v,T,P){this.listener=u,this.proxy=null,this.src=m,this.type=v,this.capture=!!T,this.ha=P,this.key=++N,this.da=this.fa=!1}function it(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function yt(u,m,v){for(const T in u)m.call(v,u[T],T,u)}function Tt(u,m){for(const v in u)m.call(void 0,u[v],v,u)}function V(u){const m={};for(const v in u)m[v]=u[v];return m}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function nt(u,m){let v,T;for(let P=1;P<arguments.length;P++){T=arguments[P];for(v in T)u[v]=T[v];for(let q=0;q<Y.length;q++)v=Y[q],Object.prototype.hasOwnProperty.call(T,v)&&(u[v]=T[v])}}function rt(u){this.src=u,this.g={},this.h=0}rt.prototype.add=function(u,m,v,T,P){const q=u.toString();u=this.g[q],u||(u=this.g[q]=[],this.h++);const et=Ct(u,m,T,P);return et>-1?(m=u[et],v||(m.fa=!1)):(m=new X(m,this.src,q,!!T,P),m.fa=v,u.push(m)),m};function vt(u,m){const v=m.type;if(v in u.g){var T=u.g[v],P=Array.prototype.indexOf.call(T,m,void 0),q;(q=P>=0)&&Array.prototype.splice.call(T,P,1),q&&(it(m),u.g[v].length==0&&(delete u.g[v],u.h--))}}function Ct(u,m,v,T){for(let P=0;P<u.length;++P){const q=u[P];if(!q.da&&q.listener==m&&q.capture==!!v&&q.ha==T)return P}return-1}var Pt="closure_lm_"+(Math.random()*1e6|0),Ne={};function ae(u,m,v,T,P){if(Array.isArray(m)){for(let q=0;q<m.length;q++)ae(u,m[q],v,T,P);return null}return v=vo(v),u&&u[fe]?u.J(m,v,g(T)?!!T.capture:!1,P):hr(u,m,v,!1,T,P)}function hr(u,m,v,T,P,q){if(!m)throw Error("Invalid event type");const et=g(P)?!!P.capture:!!P;let wt=fr(u);if(wt||(u[Pt]=wt=new rt(u)),v=wt.add(m,v,T,et,q),v.proxy)return v;if(T=Zr(),v.proxy=T,T.src=u,T.listener=v,u.addEventListener)L||(P=et),P===void 0&&(P=!1),u.addEventListener(m.toString(),T,P);else if(u.attachEvent)u.attachEvent(ni(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Zr(){function u(v){return m.call(u.src,u.listener,v)}const m=yo;return u}function Wr(u,m,v,T,P){if(Array.isArray(m))for(var q=0;q<m.length;q++)Wr(u,m[q],v,T,P);else T=g(T)?!!T.capture:!!T,v=vo(v),u&&u[fe]?(u=u.i,q=String(m).toString(),q in u.g&&(m=u.g[q],v=Ct(m,v,T,P),v>-1&&(it(m[v]),Array.prototype.splice.call(m,v,1),m.length==0&&(delete u.g[q],u.h--)))):u&&(u=fr(u))&&(m=u.g[m.toString()],u=-1,m&&(u=Ct(m,v,T,P)),(v=u>-1?m[u]:null)&&ta(v))}function ta(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[fe])vt(m.i,u);else{var v=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(v,T,u.capture):m.detachEvent?m.detachEvent(ni(v),T):m.addListener&&m.removeListener&&m.removeListener(T),(v=fr(m))?(vt(v,u),v.h==0&&(v.src=null,m[Pt]=null)):it(u)}}}function ni(u){return u in Ne?Ne[u]:Ne[u]="on"+u}function yo(u,m){if(u.da)u=!0;else{m=new ee(m,this);const v=u.listener,T=u.ha||u.src;u.fa&&ta(u),u=v.call(T,m)}return u}function fr(u){return u=u[Pt],u instanceof rt?u:null}var _o="__closure_events_fn_"+(Math.random()*1e9>>>0);function vo(u){return typeof u=="function"?u:(u[_o]||(u[_o]=function(m){return u.handleEvent(m)}),u[_o])}function ve(){k.call(this),this.i=new rt(this),this.M=this,this.G=null}S(ve,k),ve.prototype[fe]=!0,ve.prototype.removeEventListener=function(u,m,v,T){Wr(this,u,m,v,T)};function De(u,m){var v,T=u.G;if(T)for(v=[];T;T=T.G)v.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new M(m,u);else if(m instanceof M)m.target=m.target||u;else{var P=m;m=new M(T,u),nt(m,P)}P=!0;let q,et;if(v)for(et=v.length-1;et>=0;et--)q=m.g=v[et],P=os(q,T,!0,m)&&P;if(q=m.g=u,P=os(q,T,!0,m)&&P,P=os(q,T,!1,m)&&P,v)for(et=0;et<v.length;et++)q=m.g=v[et],P=os(q,T,!1,m)&&P}ve.prototype.N=function(){if(ve.Z.N.call(this),this.i){var u=this.i;for(const m in u.g){const v=u.g[m];for(let T=0;T<v.length;T++)it(v[T]);delete u.g[m],u.h--}}this.G=null},ve.prototype.J=function(u,m,v,T){return this.i.add(String(u),m,!1,v,T)},ve.prototype.K=function(u,m,v,T){return this.i.add(String(u),m,!0,v,T)};function os(u,m,v,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();let P=!0;for(let q=0;q<m.length;++q){const et=m[q];if(et&&!et.da&&et.capture==v){const wt=et.listener,me=et.ha||et.src;et.fa&&vt(u.i,et),P=wt.call(me,T)!==!1&&P}}return P&&!T.defaultPrevented}function Uh(u,m){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=y(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(m)>2147483647?-1:d.setTimeout(u,m||0)}function Zl(u){u.g=Uh(()=>{u.g=null,u.i&&(u.i=!1,Zl(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class en extends k{constructor(m,v){super(),this.m=m,this.l=v,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Zl(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function dr(u){k.call(this),this.h=u,this.g={}}S(dr,k);var Eo=[];function To(u){yt(u.g,function(m,v){this.g.hasOwnProperty(v)&&ta(m)},u),u.g={}}dr.prototype.N=function(){dr.Z.N.call(this),To(this)},dr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ls=d.JSON.stringify,Lh=d.JSON.parse,Wl=class{stringify(u){return d.JSON.stringify(u,void 0)}parse(u){return d.JSON.parse(u,void 0)}};function tu(){}function eu(){}var qn={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function je(){M.call(this,"d")}S(je,M);function Rn(){M.call(this,"c")}S(Rn,M);var de={},nu=null;function ea(){return nu=nu||new ve}de.Ia="serverreachability";function iu(u){M.call(this,de.Ia,u)}S(iu,M);function ii(u){const m=ea();De(m,new iu(m))}de.STAT_EVENT="statevent";function mr(u,m){M.call(this,de.STAT_EVENT,u),this.stat=m}S(mr,M);function Ee(u){const m=ea();De(m,new mr(m,u))}de.Ja="timingevent";function si(u,m){M.call(this,de.Ja,u),this.size=m}S(si,M);function ri(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){u()},m)}function Hn(){this.g=!0}Hn.prototype.ua=function(){this.g=!1};function Ph(u,m,v,T,P,q){u.info(function(){if(u.g)if(q){var et="",wt=q.split("&");for(let qt=0;qt<wt.length;qt++){var me=wt[qt].split("=");if(me.length>1){const oe=me[0];me=me[1];const Nn=oe.split("_");et=Nn.length>=2&&Nn[1]=="type"?et+(oe+"="+me+"&"):et+(oe+"=redacted&")}}}else et=null;else et=q;return"XMLHTTP REQ ("+T+") [attempt "+P+"]: "+m+`
`+v+`
`+et})}function su(u,m,v,T,P,q,et){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+P+"]: "+m+`
`+v+`
`+q+" "+et})}function ai(u,m,v,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+jh(u,v)+(T?" "+T:"")})}function pr(u,m){u.info(function(){return"TIMEOUT: "+m})}Hn.prototype.info=function(){};function jh(u,m){if(!u.g)return m;if(!m)return null;try{const q=JSON.parse(m);if(q){for(u=0;u<q.length;u++)if(Array.isArray(q[u])){var v=q[u];if(!(v.length<2)){var T=v[1];if(Array.isArray(T)&&!(T.length<1)){var P=T[0];if(P!="noop"&&P!="stop"&&P!="close")for(let et=1;et<T.length;et++)T[et]=""}}}}return ls(q)}catch{return m}}var gr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ao={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},bo;function yr(){}S(yr,tu),yr.prototype.g=function(){return new XMLHttpRequest},bo=new yr;function Mi(u){return encodeURIComponent(String(u))}function ru(u){var m=1;u=u.split(":");const v=[];for(;m>0&&u.length;)v.push(u.shift()),m--;return u.length&&v.push(u.join(":")),v}function Fn(u,m,v,T){this.j=u,this.i=m,this.l=v,this.S=T||1,this.V=new dr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Gn}function Gn(){this.i=null,this.g="",this.h=!1}var Te={},ke={};function oi(u,m,v){u.M=1,u.A=_r(be(m)),u.u=v,u.R=!0,na(u,null)}function na(u,m){u.F=Date.now(),li(u),u.B=be(u.A);var v=u.B,T=u.S;Array.isArray(T)||(T=[String(T)]),aa(v.i,"t",T),u.C=0,v=u.j.L,u.h=new Gn,u.g=Eu(u.j,v?m:null,!u.u),u.P>0&&(u.O=new en(y(u.Y,u,u.g),u.P)),m=u.V,v=u.g,T=u.ba;var P="readystatechange";Array.isArray(P)||(P&&(Eo[0]=P.toString()),P=Eo);for(let q=0;q<P.length;q++){const et=ae(v,P[q],T||m.handleEvent,!1,m.h||m);if(!et)break;m.g[et.key]=et}m=u.J?V(u.J):{},u.u?(u.v||(u.v="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,m)):(u.v="GET",u.g.ea(u.B,u.v,null,m)),ii(),Ph(u.i,u.v,u.B,u.l,u.S,u.u)}Fn.prototype.ba=function(u){u=u.target;const m=this.O;m&&Kn(u)==3?m.j():this.Y(u)},Fn.prototype.Y=function(u){try{if(u==this.g)t:{const wt=Kn(this.g),me=this.g.ya(),qt=this.g.ca();if(!(wt<3)&&(wt!=3||this.g&&(this.h.h||this.g.la()||ze(this.g)))){this.K||wt!=4||me==7||(me==8||qt<=0?ii(3):ii(2)),ui(this);var m=this.g.ca();this.X=m;var v=zh(this);if(this.o=m==200,su(this.i,this.v,this.B,this.l,this.S,wt,m),this.o){if(this.U&&!this.L){e:{if(this.g){var T,P=this.g;if((T=P.g?P.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(T)){var q=T;break e}}q=null}if(u=q)ai(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ci(this,u);else{this.o=!1,this.m=3,Ee(12),pn(this),Cn(this);break t}}if(this.R){u=!0;let oe;for(;!this.K&&this.C<v.length;)if(oe=ou(this,v),oe==ke){wt==4&&(this.m=4,Ee(14),u=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(oe==Te){this.m=4,Ee(15),ai(this.i,this.l,v,"[Invalid Chunk]"),u=!1;break}else ai(this.i,this.l,oe,null),ci(this,oe);if(au(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),wt!=4||v.length!=0||this.h.h||(this.m=1,Ee(16),u=!1),this.o=this.o&&u,!u)ai(this.i,this.l,v,"[Invalid Chunked Response]"),pn(this),Cn(this);else if(v.length>0&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.aa&&!et.P&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Po(et),et.P=!0,Ee(11))}}else ai(this.i,this.l,v,null),ci(this,v);wt==4&&pn(this),this.o&&!this.K&&(wt==4?gu(this.j,this):(this.o=!1,li(this)))}else ki(this.g),m==400&&v.indexOf("Unknown SID")>0?(this.m=3,Ee(12)):(this.m=0,Ee(13)),pn(this),Cn(this)}}}catch{}};function zh(u){if(!au(u))return u.g.la();const m=ze(u.g);if(m==="")return"";let v="";const T=m.length,P=Kn(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return pn(u),Cn(u),"";u.h.i=new d.TextDecoder}for(let q=0;q<T;q++)u.h.h=!0,v+=u.h.i.decode(m[q],{stream:!(P&&q==T-1)});return m.length=0,u.h.g+=v,u.C=0,u.h.g}function au(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function ou(u,m){var v=u.C,T=m.indexOf(`
`,v);return T==-1?ke:(v=Number(m.substring(v,T)),isNaN(v)?Te:(T+=1,T+v>m.length?ke:(m=m.slice(T,T+v),u.C=T+v,m)))}Fn.prototype.cancel=function(){this.K=!0,pn(this)};function li(u){u.T=Date.now()+u.H,ia(u,u.H)}function ia(u,m){if(u.D!=null)throw Error("WatchDog timer not null");u.D=ri(y(u.aa,u),m)}function ui(u){u.D&&(d.clearTimeout(u.D),u.D=null)}Fn.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(pr(this.i,this.B),this.M!=2&&(ii(),Ee(17)),pn(this),this.m=2,Cn(this)):ia(this,this.T-u)};function Cn(u){u.j.I==0||u.K||gu(u.j,u)}function pn(u){ui(u);var m=u.O;m&&typeof m.dispose=="function"&&m.dispose(),u.O=null,To(u.V),u.g&&(m=u.g,u.g=null,m.abort(),m.dispose())}function ci(u,m){try{var v=u.j;if(v.I!=0&&(v.g==u||fi(v.h,u))){if(!u.L&&fi(v.h,u)&&v.I==3){try{var T=v.Ba.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var P=T;if(P[0]==0){t:if(!v.v){if(v.g)if(v.g.F+3e3<u.F)ha(v),gs(v);else break t;wr(v),Ee(18)}}else v.xa=P[1],0<v.xa-v.K&&P[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=ri(y(v.Va,v),6e3));hi(v.h)<=1&&v.ta&&(v.ta=void 0)}else _i(v,11)}else if((u.L||v.g==u)&&ha(v),!x(m))for(P=v.Ba.g.parse(m),m=0;m<P.length;m++){let qt=P[m];const oe=qt[0];if(!(oe<=v.K))if(v.K=oe,qt=qt[1],v.I==2)if(qt[0]=="c"){v.M=qt[1],v.ba=qt[2];const Nn=qt[3];Nn!=null&&(v.ka=Nn,v.j.info("VER="+v.ka));const vi=qt[4];vi!=null&&(v.za=vi,v.j.info("SVER="+v.za));const Xn=qt[5];Xn!=null&&typeof Xn=="number"&&Xn>0&&(T=1.5*Xn,v.O=T,v.j.info("backChannelRequestTimeoutMs_="+T)),T=v;const $n=u.g;if($n){const Rr=$n.g?$n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Rr){var q=T.h;q.g||Rr.indexOf("spdy")==-1&&Rr.indexOf("quic")==-1&&Rr.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ro(q,q.h),q.h=null))}if(T.G){const fa=$n.g?$n.g.getResponseHeader("X-HTTP-Session-Id"):null;fa&&(T.wa=fa,Gt(T.J,T.G,fa))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-u.F,v.j.info("Handshake RTT: "+v.T+"ms")),T=v;var et=u;if(T.na=vu(T,T.L?T.ba:null,T.W),et.L){Co(T.h,et);var wt=et,me=T.O;me&&(wt.H=me),wt.D&&(ui(wt),li(wt)),T.g=et}else mu(T);v.i.length>0&&yi(v)}else qt[0]!="stop"&&qt[0]!="close"||_i(v,7);else v.I==3&&(qt[0]=="stop"||qt[0]=="close"?qt[0]=="stop"?_i(v,7):Uo(v):qt[0]!="noop"&&v.l&&v.l.qa(qt),v.A=0)}}ii(4)}catch{}}var Ae=class{constructor(u,m){this.g=u,this.map=m}};function So(u){this.l=u||10,d.PerformanceNavigationTiming?(u=d.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function hi(u){return u.h?1:u.g?u.g.size:0}function fi(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function Ro(u,m){u.g?u.g.add(m):u.h=m}function Co(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}So.prototype.cancel=function(){if(this.i=xo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function xo(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const v of u.g.values())m=m.concat(v.G);return m}return F(u.i)}var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function sa(u,m){if(u){u=u.split("&");for(let v=0;v<u.length;v++){const T=u[v].indexOf("=");let P,q=null;T>=0?(P=u[v].substring(0,T),q=u[v].substring(T+1)):P=u[v],m(P,q?decodeURIComponent(q.replace(/\+/g," ")):"")}}}function gn(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let m;u instanceof gn?(this.l=u.l,Ue(this,u.j),this.o=u.o,this.g=u.g,us(this,u.u),this.h=u.h,Io(this,fu(u.i)),this.m=u.m):u&&(m=String(u).match(lu))?(this.l=!1,Ue(this,m[1]||"",!0),this.o=di(m[2]||""),this.g=di(m[3]||"",!0),us(this,m[4]),this.h=di(m[5]||"",!0),Io(this,m[6]||"",!0),this.m=di(m[7]||"")):(this.l=!1,this.i=new hs(null,this.l))}gn.prototype.toString=function(){const u=[];var m=this.j;m&&u.push(vr(m,ra,!0),":");var v=this.g;return(v||m=="file")&&(u.push("//"),(m=this.o)&&u.push(vr(m,ra,!0),"@"),u.push(Mi(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&u.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&u.push("/"),u.push(vr(v,v.charAt(0)=="/"?No:uu,!0))),(v=this.i.toString())&&u.push("?",v),(v=this.m)&&u.push("#",vr(v,cu)),u.join("")},gn.prototype.resolve=function(u){const m=be(this);let v=!!u.j;v?Ue(m,u.j):v=!!u.o,v?m.o=u.o:v=!!u.g,v?m.g=u.g:v=u.u!=null;var T=u.h;if(v)us(m,u.u);else if(v=!!u.h){if(T.charAt(0)!="/")if(this.g&&!this.h)T="/"+T;else{var P=m.h.lastIndexOf("/");P!=-1&&(T=m.h.slice(0,P+1)+T)}if(P=T,P==".."||P==".")T="";else if(P.indexOf("./")!=-1||P.indexOf("/.")!=-1){T=P.lastIndexOf("/",0)==0,P=P.split("/");const q=[];for(let et=0;et<P.length;){const wt=P[et++];wt=="."?T&&et==P.length&&q.push(""):wt==".."?((q.length>1||q.length==1&&q[0]!="")&&q.pop(),T&&et==P.length&&q.push("")):(q.push(wt),T=!0)}T=q.join("/")}else T=P}return v?m.h=T:v=u.i.toString()!=="",v?Io(m,fu(u.i)):v=!!u.m,v&&(m.m=u.m),m};function be(u){return new gn(u)}function Ue(u,m,v){u.j=v?di(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function us(u,m){if(m){if(m=Number(m),isNaN(m)||m<0)throw Error("Bad port number "+m);u.u=m}else u.u=null}function Io(u,m,v){m instanceof hs?(u.i=m,oa(u.i,u.l)):(v||(m=vr(m,cs)),u.i=new hs(m,u.l))}function Gt(u,m,v){u.i.set(m,v)}function _r(u){return Gt(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function di(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function vr(u,m,v){return typeof u=="string"?(u=encodeURI(u).replace(m,rn),v&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function rn(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var ra=/[#\/\?@]/g,uu=/[#\?:]/g,No=/[#\?]/g,cs=/[#\?@]/g,cu=/#/g;function hs(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function an(u){u.g||(u.g=new Map,u.h=0,u.i&&sa(u.i,function(m,v){u.add(decodeURIComponent(m.replace(/\+/g," ")),v)}))}r=hs.prototype,r.add=function(u,m){an(this),this.i=null,u=fs(this,u);let v=this.g.get(u);return v||this.g.set(u,v=[]),v.push(m),this.h+=1,this};function hu(u,m){an(u),m=fs(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function Do(u,m){return an(u),m=fs(u,m),u.g.has(m)}r.forEach=function(u,m){an(this),this.g.forEach(function(v,T){v.forEach(function(P){u.call(m,P,T,this)},this)},this)};function Oo(u,m){an(u);let v=[];if(typeof m=="string")Do(u,m)&&(v=v.concat(u.g.get(fs(u,m))));else for(u=Array.from(u.g.values()),m=0;m<u.length;m++)v=v.concat(u[m]);return v}r.set=function(u,m){return an(this),this.i=null,u=fs(this,u),Do(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},r.get=function(u,m){return u?(u=Oo(this,u),u.length>0?String(u[0]):m):m};function aa(u,m,v){hu(u,m),v.length>0&&(u.i=null,u.g.set(fs(u,m),F(v)),u.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(let T=0;T<m.length;T++){var v=m[T];const P=Mi(v);v=Oo(this,v);for(let q=0;q<v.length;q++){let et=P;v[q]!==""&&(et+="="+Mi(v[q])),u.push(et)}}return this.i=u.join("&")};function fu(u){const m=new hs;return m.i=u.i,u.g&&(m.g=new Map(u.g),m.h=u.h),m}function fs(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function oa(u,m){m&&!u.j&&(an(u),u.i=null,u.g.forEach(function(v,T){const P=T.toLowerCase();T!=P&&(hu(this,T),aa(this,P,v))},u)),u.j=m}function Qn(u,m){const v=new Hn;if(d.Image){const T=new Image;T.onload=A(xn,v,"TestLoadImage: loaded",!0,m,T),T.onerror=A(xn,v,"TestLoadImage: error",!1,m,T),T.onabort=A(xn,v,"TestLoadImage: abort",!1,m,T),T.ontimeout=A(xn,v,"TestLoadImage: timeout",!1,m,T),d.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Mo(u,m){const v=new Hn,T=new AbortController,P=setTimeout(()=>{T.abort(),xn(v,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(q=>{clearTimeout(P),q.ok?xn(v,"TestPingServer: ok",!0,m):xn(v,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(P),xn(v,"TestPingServer: error",!1,m)})}function xn(u,m,v,T,P){try{P&&(P.onload=null,P.onerror=null,P.onabort=null,P.ontimeout=null),T(v)}catch{}}function ds(){this.g=new Wl}function mi(u){this.i=u.Sb||null,this.h=u.ab||!1}S(mi,tu),mi.prototype.g=function(){return new Er(this.i,this.h)};function Er(u,m){ve.call(this),this.H=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}S(Er,ve),r=Er.prototype,r.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=m,this.readyState=1,Yn(this)},r.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const m={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(m.body=u),(this.H||d).fetch(new Request(this.D,m)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,ms(this)),this.readyState=0},r.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yn(this)),this.g&&(this.readyState=3,Yn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;la(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function la(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}r.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.B.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?ms(this):Yn(this),this.readyState==3&&la(this)}},r.Oa=function(u){this.g&&(this.response=this.responseText=u,ms(this))},r.Na=function(u){this.g&&(this.response=u,ms(this))},r.ga=function(){this.g&&ms(this)};function ms(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yn(u)}r.setRequestHeader=function(u,m){this.A.append(u,m)},r.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var v=m.next();!v.done;)v=v.value,u.push(v[0]+": "+v[1]),v=m.next();return u.join(`\r
`)};function Yn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Er.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function In(u){let m="";return yt(u,function(v,T){m+=T,m+=":",m+=v,m+=`\r
`}),m}function Tr(u,m,v){t:{for(T in v){var T=!1;break t}T=!0}T||(v=In(v),typeof u=="string"?v!=null&&Mi(v):Gt(u,m,v))}function Kt(u){ve.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}S(Kt,ve);var pi=/^https?$/i,Vo=["POST","PUT"];r=Kt.prototype,r.Fa=function(u){this.H=u},r.ea=function(u,m,v,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():bo.g(),this.g.onreadystatechange=D(y(this.Ca,this));try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(q){Ar(this,q);return}if(u=v||"",v=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var P in T)v.set(P,T[P]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())v.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(v.keys()).find(q=>q.toLowerCase()=="content-type"),P=d.FormData&&u instanceof d.FormData,!(Array.prototype.indexOf.call(Vo,m,void 0)>=0)||T||P||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,et]of v)this.g.setRequestHeader(q,et);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(q){Ar(this,q)}};function Ar(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.o=5,ko(u),Vi(u)}function ko(u){u.A||(u.A=!0,De(u,"complete"),De(u,"error"))}r.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,De(this,"complete"),De(this,"abort"),Vi(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Vi(this,!0)),Kt.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},r.Xa=function(){br(this)};function br(u){if(u.h&&typeof c<"u"){if(u.v&&Kn(u)==4)setTimeout(u.Ca.bind(u),0);else if(De(u,"readystatechange"),Kn(u)==4){u.h=!1;try{const q=u.ca();t:switch(q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var v;if(!(v=m)){var T;if(T=q===0){let et=String(u.D).match(lu)[1]||null;!et&&d.self&&d.self.location&&(et=d.self.location.protocol.slice(0,-1)),T=!pi.test(et?et.toLowerCase():"")}v=T}if(v)De(u,"complete"),De(u,"success");else{u.o=6;try{var P=Kn(u)>2?u.g.statusText:""}catch{P=""}u.l=P+" ["+u.ca()+"]",ko(u)}}finally{Vi(u)}}}}function Vi(u,m){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const v=u.g;u.g=null,m||De(u,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function Kn(u){return u.g?u.g.readyState:0}r.ca=function(){try{return Kn(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),Lh(m)}};function ze(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ki(u){const m={};u=(u.g&&Kn(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(x(u[T]))continue;var v=ru(u[T]);const P=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const q=m[P]||[];m[P]=q,q.push(v)}Tt(m,function(T){return T.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(u,m,v){return v&&v.internalChannelParams&&v.internalChannelParams[u]||m}function ps(u){this.za=0,this.i=[],this.j=new Hn,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=gi("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=gi("baseRetryDelayMs",5e3,u),this.Za=gi("retryDelaySeedMs",1e4,u),this.Ta=gi("forwardChannelMaxRetries",2,u),this.va=gi("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new So(u&&u.concurrentRequestLimit),this.Ba=new ds,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=ps.prototype,r.ka=8,r.I=1,r.connect=function(u,m,v,T){Ee(0),this.W=u,this.H=m||{},v&&T!==void 0&&(this.H.OSID=v,this.H.OAID=T),this.F=this.X,this.J=vu(this,null,this.W),yi(this)};function Uo(u){if(ua(u),u.I==3){var m=u.V++,v=be(u.J);if(Gt(v,"SID",u.M),Gt(v,"RID",m),Gt(v,"TYPE","terminate"),Sr(u,v),m=new Fn(u,u.j,m),m.M=2,m.A=_r(be(v)),v=!1,d.navigator&&d.navigator.sendBeacon)try{v=d.navigator.sendBeacon(m.A.toString(),"")}catch{}!v&&d.Image&&(new Image().src=m.A,v=!0),v||(m.g=Eu(m.j,null),m.g.ea(m.A)),m.F=Date.now(),li(m)}_u(u)}function gs(u){u.g&&(Po(u),u.g.cancel(),u.g=null)}function ua(u){gs(u),u.v&&(d.clearTimeout(u.v),u.v=null),ha(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&d.clearTimeout(u.m),u.m=null)}function yi(u){if(!wo(u.h)&&!u.m){u.m=!0;var m=u.Ea;Et||w(),ht||(Et(),ht=!0),C.add(m,u),u.D=0}}function ca(u,m){return hi(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=m.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=ri(y(u.Ea,u,m),yu(u,u.D)),u.D++,!0)}r.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const P=new Fn(this,this.j,u);let q=this.o;if(this.U&&(q?(q=V(q),nt(q,this.U)):q=this.U),this.u!==null||this.R||(P.J=q,q=null),this.S)t:{for(var m=0,v=0;v<this.i.length;v++){e:{var T=this.i[v];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,m>4096){m=v;break t}if(m===4096||v===this.i.length-1){m=v+1;break t}}m=1e3}else m=1e3;m=du(this,P,m),v=be(this.J),Gt(v,"RID",u),Gt(v,"CVER",22),this.G&&Gt(v,"X-HTTP-Session-Id",this.G),Sr(this,v),q&&(this.R?m="headers="+Mi(In(q))+"&"+m:this.u&&Tr(v,this.u,q)),Ro(this.h,P),this.Ra&&Gt(v,"TYPE","init"),this.S?(Gt(v,"$req",m),Gt(v,"SID","null"),P.U=!0,oi(P,v,null)):oi(P,v,m),this.I=2}}else this.I==3&&(u?Lo(this,u):this.i.length==0||wo(this.h)||Lo(this))};function Lo(u,m){var v;m?v=m.l:v=u.V++;const T=be(u.J);Gt(T,"SID",u.M),Gt(T,"RID",v),Gt(T,"AID",u.K),Sr(u,T),u.u&&u.o&&Tr(T,u.u,u.o),v=new Fn(u,u.j,v,u.D+1),u.u===null&&(v.J=u.o),m&&(u.i=m.G.concat(u.i)),m=du(u,v,1e3),v.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),Ro(u.h,v),oi(v,T,m)}function Sr(u,m){u.H&&yt(u.H,function(v,T){Gt(m,T,v)}),u.l&&yt({},function(v,T){Gt(m,T,v)})}function du(u,m,v){v=Math.min(u.i.length,v);const T=u.l?y(u.l.Ka,u.l,u):null;t:{var P=u.i;let wt=-1;for(;;){const me=["count="+v];wt==-1?v>0?(wt=P[0].g,me.push("ofs="+wt)):wt=0:me.push("ofs="+wt);let qt=!0;for(let oe=0;oe<v;oe++){var q=P[oe].g;const Nn=P[oe].map;if(q-=wt,q<0)wt=Math.max(0,P[oe].g-100),qt=!1;else try{q="req"+q+"_"||"";try{var et=Nn instanceof Map?Nn:Object.entries(Nn);for(const[vi,Xn]of et){let $n=Xn;g(Xn)&&($n=ls(Xn)),me.push(q+vi+"="+encodeURIComponent($n))}}catch(vi){throw me.push(q+"type="+encodeURIComponent("_badmap")),vi}}catch{T&&T(Nn)}}if(qt){et=me.join("&");break t}}et=void 0}return u=u.i.splice(0,v),m.G=u,et}function mu(u){if(!u.g&&!u.v){u.Y=1;var m=u.Da;Et||w(),ht||(Et(),ht=!0),C.add(m,u),u.A=0}}function wr(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=ri(y(u.Da,u),yu(u,u.A)),u.A++,!0)}r.Da=function(){if(this.v=null,pu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=ri(y(this.Wa,this),u)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ee(10),gs(this),pu(this))};function Po(u){u.B!=null&&(d.clearTimeout(u.B),u.B=null)}function pu(u){u.g=new Fn(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var m=be(u.na);Gt(m,"RID","rpc"),Gt(m,"SID",u.M),Gt(m,"AID",u.K),Gt(m,"CI",u.F?"0":"1"),!u.F&&u.ia&&Gt(m,"TO",u.ia),Gt(m,"TYPE","xmlhttp"),Sr(u,m),u.u&&u.o&&Tr(m,u.u,u.o),u.O&&(u.g.H=u.O);var v=u.g;u=u.ba,v.M=1,v.A=_r(be(m)),v.u=null,v.R=!0,na(v,u)}r.Va=function(){this.C!=null&&(this.C=null,gs(this),wr(this),Ee(19))};function ha(u){u.C!=null&&(d.clearTimeout(u.C),u.C=null)}function gu(u,m){var v=null;if(u.g==m){ha(u),Po(u),u.g=null;var T=2}else if(fi(u.h,m))v=m.G,Co(u.h,m),T=1;else return;if(u.I!=0){if(m.o)if(T==1){v=m.u?m.u.length:0,m=Date.now()-m.F;var P=u.D;T=ea(),De(T,new si(T,v)),yi(u)}else mu(u);else if(P=m.m,P==3||P==0&&m.X>0||!(T==1&&ca(u,m)||T==2&&wr(u)))switch(v&&v.length>0&&(m=u.h,m.i=m.i.concat(v)),P){case 1:_i(u,5);break;case 4:_i(u,10);break;case 3:_i(u,6);break;default:_i(u,2)}}}function yu(u,m){let v=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(v*=2),v*m}function _i(u,m){if(u.j.info("Error code "+m),m==2){var v=y(u.bb,u),T=u.Ua;const P=!T;T=new gn(T||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||Ue(T,"https"),_r(T),P?Qn(T.toString(),v):Mo(T.toString(),v)}else Ee(2);u.I=0,u.l&&u.l.pa(m),_u(u),ua(u)}r.bb=function(u){u?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))};function _u(u){if(u.I=0,u.ja=[],u.l){const m=xo(u.h);(m.length!=0||u.i.length!=0)&&(W(u.ja,m),W(u.ja,u.i),u.h.i.length=0,F(u.i),u.i.length=0),u.l.oa()}}function vu(u,m,v){var T=v instanceof gn?be(v):new gn(v);if(T.g!="")m&&(T.g=m+"."+T.g),us(T,T.u);else{var P=d.location;T=P.protocol,m=m?m+"."+P.hostname:P.hostname,P=+P.port;const q=new gn(null);T&&Ue(q,T),m&&(q.g=m),P&&us(q,P),v&&(q.h=v),T=q}return v=u.G,m=u.wa,v&&m&&Gt(T,v,m),Gt(T,"VER",u.ka),Sr(u,T),T}function Eu(u,m,v){if(m&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Aa&&!u.ma?new Kt(new mi({ab:v})):new Kt(u.ma),m.Fa(u.L),m}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function Tu(){}r=Tu.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function ys(){}ys.prototype.g=function(u,m){return new nn(u,m)};function nn(u,m){ve.call(this),this.g=new ps(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.sa&&(u?u["X-WebChannel-Client-Profile"]=m.sa:u={"X-WebChannel-Client-Profile":m.sa}),this.g.U=u,(u=m&&m.Qb)&&!x(u)&&(this.g.u=u),this.A=m&&m.supportsCrossDomainXhr||!1,this.v=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!x(m)&&(this.g.G=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Ui(this)}S(nn,ve),nn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},nn.prototype.close=function(){Uo(this.g)},nn.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var v={};v.__data__=u,u=v}else this.v&&(v={},v.__data__=ls(u),u=v);m.i.push(new Ae(m.Ya++,u)),m.I==3&&yi(m)},nn.prototype.N=function(){this.g.l=null,delete this.j,Uo(this.g),delete this.g,nn.Z.N.call(this)};function Au(u){je.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const v in m){u=v;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}S(Au,je);function bu(){Rn.call(this),this.status=1}S(bu,Rn);function Ui(u){this.g=u}S(Ui,Tu),Ui.prototype.ra=function(){De(this.g,"a")},Ui.prototype.qa=function(u){De(this.g,new Au(u))},Ui.prototype.pa=function(u){De(this.g,new bu)},Ui.prototype.oa=function(){De(this.g,"b")},ys.prototype.createWebChannel=ys.prototype.g,nn.prototype.send=nn.prototype.o,nn.prototype.open=nn.prototype.m,nn.prototype.close=nn.prototype.close,G0=function(){return new ys},F0=function(){return ea()},H0=de,rm={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},gr.NO_ERROR=0,gr.TIMEOUT=8,gr.HTTP_ERROR=6,Vc=gr,Ao.COMPLETE="complete",q0=Ao,eu.EventType=qn,qn.OPEN="a",qn.CLOSE="b",qn.ERROR="c",qn.MESSAGE="d",ve.prototype.listen=ve.prototype.J,bl=eu,Kt.prototype.listenOnce=Kt.prototype.K,Kt.prototype.getLastError=Kt.prototype.Ha,Kt.prototype.getLastErrorCode=Kt.prototype.ya,Kt.prototype.getStatus=Kt.prototype.ca,Kt.prototype.getResponseJson=Kt.prototype.La,Kt.prototype.getResponseText=Kt.prototype.la,Kt.prototype.send=Kt.prototype.ea,Kt.prototype.setWithCredentials=Kt.prototype.Fa,B0=Kt}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const ov="@firebase/firestore",lv="4.9.3";class Ze{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Ze.UNAUTHENTICATED=new Ze(null),Ze.GOOGLE_CREDENTIALS=new Ze("google-credentials-uid"),Ze.FIRST_PARTY=new Ze("first-party-uid"),Ze.MOCK_USER=new Ze("mock-user");let uo="12.7.0";const Yr=new Nm("@firebase/firestore");function qa(){return Yr.logLevel}function st(r,...t){if(Yr.logLevel<=Mt.DEBUG){const i=t.map(Mm);Yr.debug(`Firestore (${uo}): ${r}`,...i)}}function ns(r,...t){if(Yr.logLevel<=Mt.ERROR){const i=t.map(Mm);Yr.error(`Firestore (${uo}): ${r}`,...i)}}function Wa(r,...t){if(Yr.logLevel<=Mt.WARN){const i=t.map(Mm);Yr.warn(`Firestore (${uo}): ${r}`,...i)}}function Mm(r){if(typeof r=="string")return r;try{return(function(i){return JSON.stringify(i)})(r)}catch{return r}}function pt(r,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,Q0(r,a,i)}function Q0(r,t,i){let a=`FIRESTORE (${uo}) INTERNAL ASSERTION FAILED: ${t} (ID: ${r.toString(16)})`;if(i!==void 0)try{a+=" CONTEXT: "+JSON.stringify(i)}catch{a+=" CONTEXT: "+i}throw ns(a),new Error(a)}function Ft(r,t,i,a){let l="Unexpected state";typeof i=="string"?l=i:a=i,r||Q0(t,l,a)}function St(r,t){return r}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends as{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Zs{constructor(){this.promise=new Promise(((t,i)=>{this.resolve=t,this.reject=i}))}}class Y0{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class MS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable((()=>i(Ze.UNAUTHENTICATED)))}shutdown(){}}class VS{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable((()=>i(this.token.user)))}shutdown(){this.changeListener=null}}class kS{constructor(t){this.t=t,this.currentUser=Ze.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Ft(this.o===void 0,42304);let a=this.i;const l=_=>this.i!==a?(a=this.i,i(_)):Promise.resolve();let c=new Zs;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Zs,t.enqueueRetryable((()=>l(this.currentUser)))};const d=()=>{const _=c;t.enqueueRetryable((async()=>{await _.promise,await l(this.currentUser)}))},g=_=>{st("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit((_=>g(_))),setTimeout((()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(st("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Zs)}}),0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then((a=>this.i!==t?(st("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(Ft(typeof a.accessToken=="string",31837,{l:a}),new Y0(a.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Ft(t===null||typeof t=="string",2055,{h:t}),new Ze(t)}}class US{constructor(t,i,a){this.P=t,this.T=i,this.I=a,this.type="FirstParty",this.user=Ze.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class LS{constructor(t,i,a){this.P=t,this.T=i,this.I=a}getToken(){return Promise.resolve(new US(this.P,this.T,this.I))}start(t,i){t.enqueueRetryable((()=>i(Ze.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class uv{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PS{constructor(t,i){this.V=i,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,i){Ft(this.o===void 0,3512);const a=c=>{c.error!=null&&st("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.m;return this.m=c.token,st("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(c.token):Promise.resolve()};this.o=c=>{t.enqueueRetryable((()=>a(c)))};const l=c=>{st("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((c=>l(c))),setTimeout((()=>{if(!this.appCheck){const c=this.V.getImmediate({optional:!0});c?l(c):st("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((i=>i?(Ft(typeof i.token=="string",44558,{tokenResult:i}),this.m=i.token,new uv(i.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function jS(r){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(r);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let a=0;a<r;a++)i[a]=Math.floor(256*Math.random());return i}class Vm{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const l=jS(40);for(let c=0;c<l.length;++c)a.length<20&&l[c]<i&&(a+=t.charAt(l[c]%62))}return a}}function Vt(r,t){return r<t?-1:r>t?1:0}function am(r,t){const i=Math.min(r.length,t.length);for(let a=0;a<i;a++){const l=r.charAt(a),c=t.charAt(a);if(l!==c)return Qd(l)===Qd(c)?Vt(l,c):Qd(l)?1:-1}return Vt(r.length,t.length)}const zS=55296,BS=57343;function Qd(r){const t=r.charCodeAt(0);return t>=zS&&t<=BS}function to(r,t,i){return r.length===t.length&&r.every(((a,l)=>i(a,t[l])))}const cv="__name__";class Si{constructor(t,i,a){i===void 0?i=0:i>t.length&&pt(637,{offset:i,range:t.length}),a===void 0?a=t.length-i:a>t.length-i&&pt(1746,{length:a,range:t.length-i}),this.segments=t,this.offset=i,this.len=a}get length(){return this.len}isEqual(t){return Si.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof Si?t.forEach((a=>{i.push(a)})):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,a=this.limit();i<a;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const a=Math.min(t.length,i.length);for(let l=0;l<a;l++){const c=Si.compareSegments(t.get(l),i.get(l));if(c!==0)return c}return Vt(t.length,i.length)}static compareSegments(t,i){const a=Si.isNumericId(t),l=Si.isNumericId(i);return a&&!l?-1:!a&&l?1:a&&l?Si.extractNumericId(t).compare(Si.extractNumericId(i)):am(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Js.fromString(t.substring(4,t.length-2))}}class se extends Si{construct(t,i,a){return new se(t,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const a of t){if(a.indexOf("//")>=0)throw new ot(J.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter((l=>l.length>0)))}return new se(i)}static emptyPath(){return new se([])}}const qS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ye extends Si{construct(t,i,a){return new Ye(t,i,a)}static isValidIdentifier(t){return qS.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ye.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===cv}static keyField(){return new Ye([cv])}static fromServerFormat(t){const i=[];let a="",l=0;const c=()=>{if(a.length===0)throw new ot(J.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ot(J.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ot(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);a+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(a+=g,l++):(c(),l++)}if(c(),d)throw new ot(J.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ye(i)}static emptyPath(){return new Ye([])}}class dt{constructor(t){this.path=t}static fromPath(t){return new dt(se.fromString(t))}static fromName(t){return new dt(se.fromString(t).popFirst(5))}static empty(){return new dt(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new dt(new se(t.slice()))}}function K0(r,t,i){if(!i)throw new ot(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${t}.`)}function HS(r,t,i,a){if(t===!0&&a===!0)throw new ot(J.INVALID_ARGUMENT,`${r} and ${i} cannot be used together.`)}function hv(r){if(!dt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function fv(r){if(dt.isDocumentKey(r))throw new ot(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function X0(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function km(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const t=(function(a){return a.constructor?a.constructor.name:null})(r);return t?`a custom ${t} object`:"an object"}}return typeof r=="function"?"a function":pt(12329,{type:typeof r})}function Bn(r,t){if("_delegate"in r&&(r=r._delegate),!(r instanceof t)){if(t.name===r.constructor.name)throw new ot(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=km(r);throw new ot(J.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return r}function Ie(r,t){const i={typeString:r};return t&&(i.value=t),i}function Hl(r,t){if(!X0(r))throw new ot(J.INVALID_ARGUMENT,"JSON must be an object");let i;for(const a in t)if(t[a]){const l=t[a].typeString,c="value"in t[a]?{value:t[a].value}:void 0;if(!(a in r)){i=`JSON missing required field: '${a}'`;break}const d=r[a];if(l&&typeof d!==l){i=`JSON field '${a}' must be a ${l}.`;break}if(c!==void 0&&d!==c.value){i=`Expected '${a}' field to equal '${c.value}'`;break}}if(i)throw new ot(J.INVALID_ARGUMENT,i);return!0}const dv=-62135596800,mv=1e6;class re{static now(){return re.fromMillis(Date.now())}static fromDate(t){return re.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),a=Math.floor((t-1e3*i)*mv);return new re(i,a)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ot(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<dv)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ot(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/mv}_compareTo(t){return this.seconds===t.seconds?Vt(this.nanoseconds,t.nanoseconds):Vt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(Hl(t,re._jsonSchema))return new re(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-dv;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}re._jsonSchemaVersion="firestore/timestamp/1.0",re._jsonSchema={type:Ie("string",re._jsonSchemaVersion),seconds:Ie("number"),nanoseconds:Ie("number")};class At{static fromTimestamp(t){return new At(t)}static min(){return new At(new re(0,0))}static max(){return new At(new re(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const kl=-1;function FS(r,t){const i=r.toTimestamp().seconds,a=r.toTimestamp().nanoseconds+1,l=At.fromTimestamp(a===1e9?new re(i+1,0):new re(i,a));return new er(l,dt.empty(),t)}function GS(r){return new er(r.readTime,r.key,kl)}class er{constructor(t,i,a){this.readTime=t,this.documentKey=i,this.largestBatchId=a}static min(){return new er(At.min(),dt.empty(),kl)}static max(){return new er(At.max(),dt.empty(),kl)}}function QS(r,t){let i=r.readTime.compareTo(t.readTime);return i!==0?i:(i=dt.comparator(r.documentKey,t.documentKey),i!==0?i:Vt(r.largestBatchId,t.largestBatchId))}const YS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class KS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function co(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==YS)throw r;st("LocalStore","Unexpectedly lost primary lease")}class ${constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)}),(i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)}))}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&pt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new $(((a,l)=>{this.nextCallback=c=>{this.wrapSuccess(t,c).next(a,l)},this.catchCallback=c=>{this.wrapFailure(i,c).next(a,l)}}))}toPromise(){return new Promise(((t,i)=>{this.next(t,i)}))}wrapUserFunction(t){try{const i=t();return i instanceof $?i:$.resolve(i)}catch(i){return $.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction((()=>t(i))):$.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction((()=>t(i))):$.reject(i)}static resolve(t){return new $(((i,a)=>{i(t)}))}static reject(t){return new $(((i,a)=>{a(t)}))}static waitFor(t){return new $(((i,a)=>{let l=0,c=0,d=!1;t.forEach((g=>{++l,g.next((()=>{++c,d&&c===l&&i()}),(_=>a(_)))})),d=!0,c===l&&i()}))}static or(t){let i=$.resolve(!1);for(const a of t)i=i.next((l=>l?$.resolve(l):a()));return i}static forEach(t,i){const a=[];return t.forEach(((l,c)=>{a.push(i.call(this,l,c))})),this.waitFor(a)}static mapArray(t,i){return new $(((a,l)=>{const c=t.length,d=new Array(c);let g=0;for(let _=0;_<c;_++){const y=_;i(t[y]).next((A=>{d[y]=A,++g,g===c&&a(d)}),(A=>l(A)))}}))}static doWhile(t,i){return new $(((a,l)=>{const c=()=>{t()===!0?i().next((()=>{c()}),l):a()};c()}))}}function XS(r){const t=r.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ho(r){return r.name==="IndexedDbTransactionError"}class fh{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=a=>this.ae(a),this.ue=a=>i.writeSequenceNumber(a))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}fh.ce=-1;const Um=-1;function dh(r){return r==null}function Yc(r){return r===0&&1/r==-1/0}function $S(r){return typeof r=="number"&&Number.isInteger(r)&&!Yc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const $0="";function JS(r){let t="";for(let i=0;i<r.length;i++)t.length>0&&(t=pv(t)),t=ZS(r.get(i),t);return pv(t)}function ZS(r,t){let i=t;const a=r.length;for(let l=0;l<a;l++){const c=r.charAt(l);switch(c){case"\0":i+="";break;case $0:i+="";break;default:i+=c}}return i}function pv(r){return r+$0+""}function gv(r){let t=0;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t++;return t}function ur(r,t){for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&t(i,r[i])}function J0(r){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t))return!1;return!0}class ue{constructor(t,i){this.comparator=t,this.root=i||Qe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Qe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Qe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(t){let i=0,a=this.root;for(;!a.isEmpty();){const l=this.comparator(t,a.key);if(l===0)return i+a.left.size;l<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((i,a)=>(t(i,a),!1)))}toString(){const t=[];return this.inorderTraversal(((i,a)=>(t.push(`${i}:${a}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new xc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new xc(this.root,t,this.comparator,!1)}getReverseIterator(){return new xc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new xc(this.root,t,this.comparator,!0)}}class xc{constructor(t,i,a,l){this.isReverse=l,this.nodeStack=[];let c=1;for(;!t.isEmpty();)if(c=i?a(t.key,i):1,i&&l&&(c*=-1),c<0)t=this.isReverse?t.left:t.right;else{if(c===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Qe{constructor(t,i,a,l,c){this.key=t,this.value=i,this.color=a??Qe.RED,this.left=l??Qe.EMPTY,this.right=c??Qe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,a,l,c){return new Qe(t??this.key,i??this.value,a??this.color,l??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,a){let l=this;const c=a(t,l.key);return l=c<0?l.copy(null,null,null,l.left.insert(t,i,a),null):c===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,a)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Qe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let a,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Qe.EMPTY;a=l.right.min(),l=l.copy(a.key,a.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Qe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Qe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw pt(27949);return t+(this.isRed()?0:1)}}Qe.EMPTY=null,Qe.RED=!0,Qe.BLACK=!1;Qe.EMPTY=new class{constructor(){this.size=0}get key(){throw pt(57766)}get value(){throw pt(16141)}get color(){throw pt(16727)}get left(){throw pt(29726)}get right(){throw pt(36894)}copy(t,i,a,l,c){return this}insert(t,i,a){return new Qe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ve{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((i,a)=>(t(i),!1)))}forEachInRange(t,i){const a=this.data.getIteratorFrom(t[0]);for(;a.hasNext();){const l=a.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!t(a.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new yv(this.data.getIterator())}getIteratorFrom(t){return new yv(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach((a=>{i=i.add(a)})),i}isEqual(t){if(!(t instanceof Ve)||this.size!==t.size)return!1;const i=this.data.getIterator(),a=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(this.comparator(l,c)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((i=>{t.push(i)})),t}toString(){const t=[];return this.forEach((i=>t.push(i))),"SortedSet("+t.toString()+")"}copy(t){const i=new Ve(this.comparator);return i.data=t,i}}class yv{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class wn{constructor(t){this.fields=t,t.sort(Ye.comparator)}static empty(){return new wn([])}unionWith(t){let i=new Ve(Ye.comparator);for(const a of this.fields)i=i.add(a);for(const a of t)i=i.add(a);return new wn(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return to(this.fields,t.fields,((i,a)=>i.isEqual(a)))}}class Z0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=(function(l){try{return atob(l)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new Z0("Invalid base64 string: "+c):c}})(t);return new Xe(i)}static fromUint8Array(t){const i=(function(l){let c="";for(let d=0;d<l.length;++d)c+=String.fromCharCode(l[d]);return c})(t);return new Xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(i){return btoa(i)})(this.binaryString)}toUint8Array(){return(function(i){const a=new Uint8Array(i.length);for(let l=0;l<i.length;l++)a[l]=i.charCodeAt(l);return a})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Vt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const WS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function nr(r){if(Ft(!!r,39018),typeof r=="string"){let t=0;const i=WS.exec(r);if(Ft(!!i,46558,{timestamp:r}),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const a=new Date(r);return{seconds:Math.floor(a.getTime()/1e3),nanos:t}}return{seconds:ye(r.seconds),nanos:ye(r.nanos)}}function ye(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function ir(r){return typeof r=="string"?Xe.fromBase64String(r):Xe.fromUint8Array(r)}const W0="server_timestamp",tE="__type__",eE="__previous_value__",nE="__local_write_time__";function Lm(r){return(r?.mapValue?.fields||{})[tE]?.stringValue===W0}function mh(r){const t=r.mapValue.fields[eE];return Lm(t)?mh(t):t}function Ul(r){const t=nr(r.mapValue.fields[nE].timestampValue);return new re(t.seconds,t.nanos)}class tw{constructor(t,i,a,l,c,d,g,_,y,A){this.databaseId=t,this.appId=i,this.persistenceKey=a,this.host=l,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=y,this.isUsingEmulator=A}}const Kc="(default)";class Ll{constructor(t,i){this.projectId=t,this.database=i||Kc}static empty(){return new Ll("","")}get isDefaultDatabase(){return this.database===Kc}isEqual(t){return t instanceof Ll&&t.projectId===this.projectId&&t.database===this.database}}const iE="__type__",ew="__max__",Ic={mapValue:{}},sE="__vector__",Xc="value";function sr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Lm(r)?4:iw(r)?9007199254740991:nw(r)?10:11:pt(28295,{value:r})}function Di(r,t){if(r===t)return!0;const i=sr(r);if(i!==sr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===t.booleanValue;case 4:return Ul(r).isEqual(Ul(t));case 3:return(function(l,c){if(typeof l.timestampValue=="string"&&typeof c.timestampValue=="string"&&l.timestampValue.length===c.timestampValue.length)return l.timestampValue===c.timestampValue;const d=nr(l.timestampValue),g=nr(c.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos})(r,t);case 5:return r.stringValue===t.stringValue;case 6:return(function(l,c){return ir(l.bytesValue).isEqual(ir(c.bytesValue))})(r,t);case 7:return r.referenceValue===t.referenceValue;case 8:return(function(l,c){return ye(l.geoPointValue.latitude)===ye(c.geoPointValue.latitude)&&ye(l.geoPointValue.longitude)===ye(c.geoPointValue.longitude)})(r,t);case 2:return(function(l,c){if("integerValue"in l&&"integerValue"in c)return ye(l.integerValue)===ye(c.integerValue);if("doubleValue"in l&&"doubleValue"in c){const d=ye(l.doubleValue),g=ye(c.doubleValue);return d===g?Yc(d)===Yc(g):isNaN(d)&&isNaN(g)}return!1})(r,t);case 9:return to(r.arrayValue.values||[],t.arrayValue.values||[],Di);case 10:case 11:return(function(l,c){const d=l.mapValue.fields||{},g=c.mapValue.fields||{};if(gv(d)!==gv(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!Di(d[_],g[_])))return!1;return!0})(r,t);default:return pt(52216,{left:r})}}function Pl(r,t){return(r.values||[]).find((i=>Di(i,t)))!==void 0}function eo(r,t){if(r===t)return 0;const i=sr(r),a=sr(t);if(i!==a)return Vt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return Vt(r.booleanValue,t.booleanValue);case 2:return(function(c,d){const g=ye(c.integerValue||c.doubleValue),_=ye(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1})(r,t);case 3:return _v(r.timestampValue,t.timestampValue);case 4:return _v(Ul(r),Ul(t));case 5:return am(r.stringValue,t.stringValue);case 6:return(function(c,d){const g=ir(c),_=ir(d);return g.compareTo(_)})(r.bytesValue,t.bytesValue);case 7:return(function(c,d){const g=c.split("/"),_=d.split("/");for(let y=0;y<g.length&&y<_.length;y++){const A=Vt(g[y],_[y]);if(A!==0)return A}return Vt(g.length,_.length)})(r.referenceValue,t.referenceValue);case 8:return(function(c,d){const g=Vt(ye(c.latitude),ye(d.latitude));return g!==0?g:Vt(ye(c.longitude),ye(d.longitude))})(r.geoPointValue,t.geoPointValue);case 9:return vv(r.arrayValue,t.arrayValue);case 10:return(function(c,d){const g=c.fields||{},_=d.fields||{},y=g[Xc]?.arrayValue,A=_[Xc]?.arrayValue,S=Vt(y?.values?.length||0,A?.values?.length||0);return S!==0?S:vv(y,A)})(r.mapValue,t.mapValue);case 11:return(function(c,d){if(c===Ic.mapValue&&d===Ic.mapValue)return 0;if(c===Ic.mapValue)return 1;if(d===Ic.mapValue)return-1;const g=c.fields||{},_=Object.keys(g),y=d.fields||{},A=Object.keys(y);_.sort(),A.sort();for(let S=0;S<_.length&&S<A.length;++S){const D=am(_[S],A[S]);if(D!==0)return D;const F=eo(g[_[S]],y[A[S]]);if(F!==0)return F}return Vt(_.length,A.length)})(r.mapValue,t.mapValue);default:throw pt(23264,{he:i})}}function _v(r,t){if(typeof r=="string"&&typeof t=="string"&&r.length===t.length)return Vt(r,t);const i=nr(r),a=nr(t),l=Vt(i.seconds,a.seconds);return l!==0?l:Vt(i.nanos,a.nanos)}function vv(r,t){const i=r.values||[],a=t.values||[];for(let l=0;l<i.length&&l<a.length;++l){const c=eo(i[l],a[l]);if(c)return c}return Vt(i.length,a.length)}function no(r){return om(r)}function om(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(i){const a=nr(i);return`time(${a.seconds},${a.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(i){return ir(i).toBase64()})(r.bytesValue):"referenceValue"in r?(function(i){return dt.fromName(i).toString()})(r.referenceValue):"geoPointValue"in r?(function(i){return`geo(${i.latitude},${i.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(i){let a="[",l=!0;for(const c of i.values||[])l?l=!1:a+=",",a+=om(c);return a+"]"})(r.arrayValue):"mapValue"in r?(function(i){const a=Object.keys(i.fields||{}).sort();let l="{",c=!0;for(const d of a)c?c=!1:l+=",",l+=`${d}:${om(i.fields[d])}`;return l+"}"})(r.mapValue):pt(61005,{value:r})}function kc(r){switch(sr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=mh(r);return t?16+kc(t):16;case 5:return 2*r.stringValue.length;case 6:return ir(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(a){return(a.values||[]).reduce(((l,c)=>l+kc(c)),0)})(r.arrayValue);case 10:case 11:return(function(a){let l=0;return ur(a.fields,((c,d)=>{l+=c.length+kc(d)})),l})(r.mapValue);default:throw pt(13486,{value:r})}}function lm(r){return!!r&&"integerValue"in r}function Pm(r){return!!r&&"arrayValue"in r}function Ev(r){return!!r&&"nullValue"in r}function Tv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function nw(r){return(r?.mapValue?.fields||{})[iE]?.stringValue===sE}function Il(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const t={mapValue:{fields:{}}};return ur(r.mapValue.fields,((i,a)=>t.mapValue.fields[i]=Il(a))),t}if(r.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(r.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=Il(r.arrayValue.values[i]);return t}return{...r}}function iw(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===ew}class dn{constructor(t){this.value=t}static empty(){return new dn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let a=0;a<t.length-1;++a)if(i=(i.mapValue.fields||{})[t.get(a)],!Uc(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=Il(i)}setAll(t){let i=Ye.emptyPath(),a={},l=[];t.forEach(((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,a,l),a={},l=[],i=g.popLast()}d?a[g.lastSegment()]=Il(d):l.push(g.lastSegment())}));const c=this.getFieldsMap(i);this.applyChanges(c,a,l)}delete(t){const i=this.field(t.popLast());Uc(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return Di(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<t.length;++a){let l=i.mapValue.fields[t.get(a)];Uc(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(a)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,a){ur(i,((l,c)=>t[l]=c));for(const l of a)delete t[l]}clone(){return new dn(Il(this.value))}}function rE(r){const t=[];return ur(r.fields,((i,a)=>{const l=new Ye([i]);if(Uc(a)){const c=rE(a.mapValue).fields;if(c.length===0)t.push(l);else for(const d of c)t.push(l.child(d))}else t.push(l)})),new wn(t)}class We{constructor(t,i,a,l,c,d,g){this.key=t,this.documentType=i,this.version=a,this.readTime=l,this.createTime=c,this.data=d,this.documentState=g}static newInvalidDocument(t){return new We(t,0,At.min(),At.min(),At.min(),dn.empty(),0)}static newFoundDocument(t,i,a,l){return new We(t,1,i,At.min(),a,l,0)}static newNoDocument(t,i){return new We(t,2,i,At.min(),At.min(),dn.empty(),0)}static newUnknownDocument(t,i){return new We(t,3,i,At.min(),At.min(),dn.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(At.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=dn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=dn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=At.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof We&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $c{constructor(t,i){this.position=t,this.inclusive=i}}function Av(r,t,i){let a=0;for(let l=0;l<r.position.length;l++){const c=t[l],d=r.position[l];if(c.field.isKeyField()?a=dt.comparator(dt.fromName(d.referenceValue),i.key):a=eo(d,i.data.field(c.field)),c.dir==="desc"&&(a*=-1),a!==0)break}return a}function bv(r,t){if(r===null)return t===null;if(t===null||r.inclusive!==t.inclusive||r.position.length!==t.position.length)return!1;for(let i=0;i<r.position.length;i++)if(!Di(r.position[i],t.position[i]))return!1;return!0}class Jc{constructor(t,i="asc"){this.field=t,this.dir=i}}function sw(r,t){return r.dir===t.dir&&r.field.isEqual(t.field)}class aE{}class Me extends aE{constructor(t,i,a){super(),this.field=t,this.op=i,this.value=a}static create(t,i,a){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,a):new aw(t,i,a):i==="array-contains"?new uw(t,a):i==="in"?new cw(t,a):i==="not-in"?new hw(t,a):i==="array-contains-any"?new fw(t,a):new Me(t,i,a)}static createKeyFieldInFilter(t,i,a){return i==="in"?new ow(t,a):new lw(t,a)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&i.nullValue===void 0&&this.matchesComparison(eo(i,this.value)):i!==null&&sr(this.value)===sr(i)&&this.matchesComparison(eo(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return pt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Oi extends aE{constructor(t,i){super(),this.filters=t,this.op=i,this.Pe=null}static create(t,i){return new Oi(t,i)}matches(t){return oE(this)?this.filters.find((i=>!i.matches(t)))===void 0:this.filters.find((i=>i.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,i)=>t.concat(i.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function oE(r){return r.op==="and"}function lE(r){return rw(r)&&oE(r)}function rw(r){for(const t of r.filters)if(t instanceof Oi)return!1;return!0}function um(r){if(r instanceof Me)return r.field.canonicalString()+r.op.toString()+no(r.value);if(lE(r))return r.filters.map((t=>um(t))).join(",");{const t=r.filters.map((i=>um(i))).join(",");return`${r.op}(${t})`}}function uE(r,t){return r instanceof Me?(function(a,l){return l instanceof Me&&a.op===l.op&&a.field.isEqual(l.field)&&Di(a.value,l.value)})(r,t):r instanceof Oi?(function(a,l){return l instanceof Oi&&a.op===l.op&&a.filters.length===l.filters.length?a.filters.reduce(((c,d,g)=>c&&uE(d,l.filters[g])),!0):!1})(r,t):void pt(19439)}function cE(r){return r instanceof Me?(function(i){return`${i.field.canonicalString()} ${i.op} ${no(i.value)}`})(r):r instanceof Oi?(function(i){return i.op.toString()+" {"+i.getFilters().map(cE).join(" ,")+"}"})(r):"Filter"}class aw extends Me{constructor(t,i,a){super(t,i,a),this.key=dt.fromName(a.referenceValue)}matches(t){const i=dt.comparator(t.key,this.key);return this.matchesComparison(i)}}class ow extends Me{constructor(t,i){super(t,"in",i),this.keys=hE("in",i)}matches(t){return this.keys.some((i=>i.isEqual(t.key)))}}class lw extends Me{constructor(t,i){super(t,"not-in",i),this.keys=hE("not-in",i)}matches(t){return!this.keys.some((i=>i.isEqual(t.key)))}}function hE(r,t){return(t.arrayValue?.values||[]).map((i=>dt.fromName(i.referenceValue)))}class uw extends Me{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Pm(i)&&Pl(i.arrayValue,this.value)}}class cw extends Me{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&Pl(this.value.arrayValue,i)}}class hw extends Me{constructor(t,i){super(t,"not-in",i)}matches(t){if(Pl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&i.nullValue===void 0&&!Pl(this.value.arrayValue,i)}}class fw extends Me{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Pm(i)||!i.arrayValue.values)&&i.arrayValue.values.some((a=>Pl(this.value.arrayValue,a)))}}class dw{constructor(t,i=null,a=[],l=[],c=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=a,this.filters=l,this.limit=c,this.startAt=d,this.endAt=g,this.Te=null}}function Sv(r,t=null,i=[],a=[],l=null,c=null,d=null){return new dw(r,t,i,a,l,c,d)}function jm(r){const t=St(r);if(t.Te===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map((a=>um(a))).join(","),i+="|ob:",i+=t.orderBy.map((a=>(function(c){return c.field.canonicalString()+c.dir})(a))).join(","),dh(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>no(a))).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>no(a))).join(",")),t.Te=i}return t.Te}function zm(r,t){if(r.limit!==t.limit||r.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<r.orderBy.length;i++)if(!sw(r.orderBy[i],t.orderBy[i]))return!1;if(r.filters.length!==t.filters.length)return!1;for(let i=0;i<r.filters.length;i++)if(!uE(r.filters[i],t.filters[i]))return!1;return r.collectionGroup===t.collectionGroup&&!!r.path.isEqual(t.path)&&!!bv(r.startAt,t.startAt)&&bv(r.endAt,t.endAt)}function cm(r){return dt.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}class ph{constructor(t,i=null,a=[],l=[],c=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=l,this.limit=c,this.limitType=d,this.startAt=g,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function mw(r,t,i,a,l,c,d,g){return new ph(r,t,i,a,l,c,d,g)}function gh(r){return new ph(r)}function wv(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function pw(r){return r.collectionGroup!==null}function Nl(r){const t=St(r);if(t.Ie===null){t.Ie=[];const i=new Set;for(const c of t.explicitOrderBy)t.Ie.push(c),i.add(c.field.canonicalString());const a=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Ve(Ye.comparator);return d.filters.forEach((_=>{_.getFlattenedFilters().forEach((y=>{y.isInequality()&&(g=g.add(y.field))}))})),g})(t).forEach((c=>{i.has(c.canonicalString())||c.isKeyField()||t.Ie.push(new Jc(c,a))})),i.has(Ye.keyField().canonicalString())||t.Ie.push(new Jc(Ye.keyField(),a))}return t.Ie}function wi(r){const t=St(r);return t.Ee||(t.Ee=gw(t,Nl(r))),t.Ee}function gw(r,t){if(r.limitType==="F")return Sv(r.path,r.collectionGroup,t,r.filters,r.limit,r.startAt,r.endAt);{t=t.map((l=>{const c=l.dir==="desc"?"asc":"desc";return new Jc(l.field,c)}));const i=r.endAt?new $c(r.endAt.position,r.endAt.inclusive):null,a=r.startAt?new $c(r.startAt.position,r.startAt.inclusive):null;return Sv(r.path,r.collectionGroup,t,r.filters,r.limit,i,a)}}function hm(r,t,i){return new ph(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),t,i,r.startAt,r.endAt)}function yh(r,t){return zm(wi(r),wi(t))&&r.limitType===t.limitType}function fE(r){return`${jm(wi(r))}|lt:${r.limitType}`}function Ha(r){return`Query(target=${(function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map((l=>cE(l))).join(", ")}]`),dh(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map((l=>(function(d){return`${d.field.canonicalString()} (${d.dir})`})(l))).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map((l=>no(l))).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map((l=>no(l))).join(",")),`Target(${a})`})(wi(r))}; limitType=${r.limitType})`}function _h(r,t){return t.isFoundDocument()&&(function(a,l){const c=l.key.path;return a.collectionGroup!==null?l.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(c):dt.isDocumentKey(a.path)?a.path.isEqual(c):a.path.isImmediateParentOf(c)})(r,t)&&(function(a,l){for(const c of Nl(a))if(!c.field.isKeyField()&&l.data.field(c.field)===null)return!1;return!0})(r,t)&&(function(a,l){for(const c of a.filters)if(!c.matches(l))return!1;return!0})(r,t)&&(function(a,l){return!(a.startAt&&!(function(d,g,_){const y=Av(d,g,_);return d.inclusive?y<=0:y<0})(a.startAt,Nl(a),l)||a.endAt&&!(function(d,g,_){const y=Av(d,g,_);return d.inclusive?y>=0:y>0})(a.endAt,Nl(a),l))})(r,t)}function yw(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function dE(r){return(t,i)=>{let a=!1;for(const l of Nl(r)){const c=_w(l,t,i);if(c!==0)return c;a=a||l.field.isKeyField()}return 0}}function _w(r,t,i){const a=r.field.isKeyField()?dt.comparator(t.key,i.key):(function(c,d,g){const _=d.data.field(c),y=g.data.field(c);return _!==null&&y!==null?eo(_,y):pt(42886)})(r.field,t,i);switch(r.dir){case"asc":return a;case"desc":return-1*a;default:return pt(19790,{direction:r.dir})}}class $r{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a!==void 0){for(const[l,c]of a)if(this.equalsFn(l,t))return c}}has(t){return this.get(t)!==void 0}set(t,i){const a=this.mapKeyFn(t),l=this.inner[a];if(l===void 0)return this.inner[a]=[[t,i]],void this.innerSize++;for(let c=0;c<l.length;c++)if(this.equalsFn(l[c][0],t))return void(l[c]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return!1;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],t))return a.length===1?delete this.inner[i]:a.splice(l,1),this.innerSize--,!0;return!1}forEach(t){ur(this.inner,((i,a)=>{for(const[l,c]of a)t(l,c)}))}isEmpty(){return J0(this.inner)}size(){return this.innerSize}}const vw=new ue(dt.comparator);function is(){return vw}const mE=new ue(dt.comparator);function Sl(...r){let t=mE;for(const i of r)t=t.insert(i.key,i);return t}function pE(r){let t=mE;return r.forEach(((i,a)=>t=t.insert(i,a.overlayedDocument))),t}function Hr(){return Dl()}function gE(){return Dl()}function Dl(){return new $r((r=>r.toString()),((r,t)=>r.isEqual(t)))}const Ew=new ue(dt.comparator),Tw=new Ve(dt.comparator);function kt(...r){let t=Tw;for(const i of r)t=t.add(i);return t}const Aw=new Ve(Vt);function bw(){return Aw}function Bm(r,t){if(r.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yc(t)?"-0":t}}function yE(r){return{integerValue:""+r}}function _E(r,t){return $S(t)?yE(t):Bm(r,t)}class vh{constructor(){this._=void 0}}function Sw(r,t,i){return r instanceof Zc?(function(l,c){const d={fields:{[tE]:{stringValue:W0},[nE]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return c&&Lm(c)&&(c=mh(c)),c&&(d.fields[eE]=c),{mapValue:d}})(i,t):r instanceof io?EE(r,t):r instanceof so?TE(r,t):(function(l,c){const d=vE(l,c),g=Rv(d)+Rv(l.Ae);return lm(d)&&lm(l.Ae)?yE(g):Bm(l.serializer,g)})(r,t)}function ww(r,t,i){return r instanceof io?EE(r,t):r instanceof so?TE(r,t):i}function vE(r,t){return r instanceof jl?(function(a){return lm(a)||(function(c){return!!c&&"doubleValue"in c})(a)})(t)?t:{integerValue:0}:null}class Zc extends vh{}class io extends vh{constructor(t){super(),this.elements=t}}function EE(r,t){const i=AE(t);for(const a of r.elements)i.some((l=>Di(l,a)))||i.push(a);return{arrayValue:{values:i}}}class so extends vh{constructor(t){super(),this.elements=t}}function TE(r,t){let i=AE(t);for(const a of r.elements)i=i.filter((l=>!Di(l,a)));return{arrayValue:{values:i}}}class jl extends vh{constructor(t,i){super(),this.serializer=t,this.Ae=i}}function Rv(r){return ye(r.integerValue||r.doubleValue)}function AE(r){return Pm(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class qm{constructor(t,i){this.field=t,this.transform=i}}function Rw(r,t){return r.field.isEqual(t.field)&&(function(a,l){return a instanceof io&&l instanceof io||a instanceof so&&l instanceof so?to(a.elements,l.elements,Di):a instanceof jl&&l instanceof jl?Di(a.Ae,l.Ae):a instanceof Zc&&l instanceof Zc})(r.transform,t.transform)}class Cw{constructor(t,i){this.version=t,this.transformResults=i}}class mn{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new mn}static exists(t){return new mn(void 0,t)}static updateTime(t){return new mn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Lc(r,t){return r.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(r.updateTime):r.exists===void 0||r.exists===t.isFoundDocument()}class Eh{}function bE(r,t){if(!r.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return r.isNoDocument()?new Th(r.key,mn.none()):new Fl(r.key,r.data,mn.none());{const i=r.data,a=dn.empty();let l=new Ve(Ye.comparator);for(let c of t.fields)if(!l.has(c)){let d=i.field(c);d===null&&c.length>1&&(c=c.popLast(),d=i.field(c)),d===null?a.delete(c):a.set(c,d),l=l.add(c)}return new cr(r.key,a,new wn(l.toArray()),mn.none())}}function xw(r,t,i){r instanceof Fl?(function(l,c,d){const g=l.value.clone(),_=xv(l.fieldTransforms,c,d.transformResults);g.setAll(_),c.convertToFoundDocument(d.version,g).setHasCommittedMutations()})(r,t,i):r instanceof cr?(function(l,c,d){if(!Lc(l.precondition,c))return void c.convertToUnknownDocument(d.version);const g=xv(l.fieldTransforms,c,d.transformResults),_=c.data;_.setAll(SE(l)),_.setAll(g),c.convertToFoundDocument(d.version,_).setHasCommittedMutations()})(r,t,i):(function(l,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()})(0,t,i)}function Ol(r,t,i,a){return r instanceof Fl?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const y=c.value.clone(),A=Iv(c.fieldTransforms,_,d);return y.setAll(A),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null})(r,t,i,a):r instanceof cr?(function(c,d,g,_){if(!Lc(c.precondition,d))return g;const y=Iv(c.fieldTransforms,_,d),A=d.data;return A.setAll(SE(c)),A.setAll(y),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map((S=>S.field)))})(r,t,i,a):(function(c,d,g){return Lc(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g})(r,t,i)}function Iw(r,t){let i=null;for(const a of r.fieldTransforms){const l=t.data.field(a.field),c=vE(a.transform,l||null);c!=null&&(i===null&&(i=dn.empty()),i.set(a.field,c))}return i||null}function Cv(r,t){return r.type===t.type&&!!r.key.isEqual(t.key)&&!!r.precondition.isEqual(t.precondition)&&!!(function(a,l){return a===void 0&&l===void 0||!(!a||!l)&&to(a,l,((c,d)=>Rw(c,d)))})(r.fieldTransforms,t.fieldTransforms)&&(r.type===0?r.value.isEqual(t.value):r.type!==1||r.data.isEqual(t.data)&&r.fieldMask.isEqual(t.fieldMask))}class Fl extends Eh{constructor(t,i,a,l=[]){super(),this.key=t,this.value=i,this.precondition=a,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class cr extends Eh{constructor(t,i,a,l,c=[]){super(),this.key=t,this.data=i,this.fieldMask=a,this.precondition=l,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function SE(r){const t=new Map;return r.fieldMask.fields.forEach((i=>{if(!i.isEmpty()){const a=r.data.field(i);t.set(i,a)}})),t}function xv(r,t,i){const a=new Map;Ft(r.length===i.length,32656,{Re:i.length,Ve:r.length});for(let l=0;l<i.length;l++){const c=r[l],d=c.transform,g=t.data.field(c.field);a.set(c.field,ww(d,g,i[l]))}return a}function Iv(r,t,i){const a=new Map;for(const l of r){const c=l.transform,d=i.data.field(l.field);a.set(l.field,Sw(c,d,t))}return a}class Th extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Nw extends Eh{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Dw{constructor(t,i,a,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=a,this.mutations=l}applyToRemoteDocument(t,i){const a=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const c=this.mutations[l];c.key.isEqual(t.key)&&xw(c,t,a[l])}}applyToLocalView(t,i){for(const a of this.baseMutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(t.key)&&(i=Ol(a,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const a=gE();return this.mutations.forEach((l=>{const c=t.get(l.key),d=c.overlayedDocument;let g=this.applyToLocalView(d,c.mutatedFields);g=i.has(l.key)?null:g;const _=bE(d,g);_!==null&&a.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(At.min())})),a}keys(){return this.mutations.reduce(((t,i)=>t.add(i.key)),kt())}isEqual(t){return this.batchId===t.batchId&&to(this.mutations,t.mutations,((i,a)=>Cv(i,a)))&&to(this.baseMutations,t.baseMutations,((i,a)=>Cv(i,a)))}}class Hm{constructor(t,i,a,l){this.batch=t,this.commitVersion=i,this.mutationResults=a,this.docVersions=l}static from(t,i,a){Ft(t.mutations.length===a.length,58842,{me:t.mutations.length,fe:a.length});let l=(function(){return Ew})();const c=t.mutations;for(let d=0;d<c.length;d++)l=l.insert(c[d].key,a[d].version);return new Hm(t,i,a,l)}}class Ow{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class Mw{constructor(t,i){this.count=t,this.unchangedNames=i}}var xe,jt;function Vw(r){switch(r){case J.OK:return pt(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return pt(15467,{code:r})}}function wE(r){if(r===void 0)return ns("GRPC error has no .code"),J.UNKNOWN;switch(r){case xe.OK:return J.OK;case xe.CANCELLED:return J.CANCELLED;case xe.UNKNOWN:return J.UNKNOWN;case xe.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case xe.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case xe.INTERNAL:return J.INTERNAL;case xe.UNAVAILABLE:return J.UNAVAILABLE;case xe.UNAUTHENTICATED:return J.UNAUTHENTICATED;case xe.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case xe.NOT_FOUND:return J.NOT_FOUND;case xe.ALREADY_EXISTS:return J.ALREADY_EXISTS;case xe.PERMISSION_DENIED:return J.PERMISSION_DENIED;case xe.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case xe.ABORTED:return J.ABORTED;case xe.OUT_OF_RANGE:return J.OUT_OF_RANGE;case xe.UNIMPLEMENTED:return J.UNIMPLEMENTED;case xe.DATA_LOSS:return J.DATA_LOSS;default:return pt(39323,{code:r})}}(jt=xe||(xe={}))[jt.OK=0]="OK",jt[jt.CANCELLED=1]="CANCELLED",jt[jt.UNKNOWN=2]="UNKNOWN",jt[jt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",jt[jt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",jt[jt.NOT_FOUND=5]="NOT_FOUND",jt[jt.ALREADY_EXISTS=6]="ALREADY_EXISTS",jt[jt.PERMISSION_DENIED=7]="PERMISSION_DENIED",jt[jt.UNAUTHENTICATED=16]="UNAUTHENTICATED",jt[jt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",jt[jt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",jt[jt.ABORTED=10]="ABORTED",jt[jt.OUT_OF_RANGE=11]="OUT_OF_RANGE",jt[jt.UNIMPLEMENTED=12]="UNIMPLEMENTED",jt[jt.INTERNAL=13]="INTERNAL",jt[jt.UNAVAILABLE=14]="UNAVAILABLE",jt[jt.DATA_LOSS=15]="DATA_LOSS";function kw(){return new TextEncoder}const Uw=new Js([4294967295,4294967295],0);function Nv(r){const t=kw().encode(r),i=new z0;return i.update(t),new Uint8Array(i.digest())}function Dv(r){const t=new DataView(r.buffer),i=t.getUint32(0,!0),a=t.getUint32(4,!0),l=t.getUint32(8,!0),c=t.getUint32(12,!0);return[new Js([i,a],0),new Js([l,c],0)]}class Fm{constructor(t,i,a){if(this.bitmap=t,this.padding=i,this.hashCount=a,i<0||i>=8)throw new wl(`Invalid padding: ${i}`);if(a<0)throw new wl(`Invalid hash count: ${a}`);if(t.length>0&&this.hashCount===0)throw new wl(`Invalid hash count: ${a}`);if(t.length===0&&i!==0)throw new wl(`Invalid padding when bitmap length is 0: ${i}`);this.ge=8*t.length-i,this.pe=Js.fromNumber(this.ge)}ye(t,i,a){let l=t.add(i.multiply(Js.fromNumber(a)));return l.compare(Uw)===1&&(l=new Js([l.getBits(0),l.getBits(1)],0)),l.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const i=Nv(t),[a,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);if(!this.we(d))return!1}return!0}static create(t,i,a){const l=t%8==0?0:8-t%8,c=new Uint8Array(Math.ceil(t/8)),d=new Fm(c,l,i);return a.forEach((g=>d.insert(g))),d}insert(t){if(this.ge===0)return;const i=Nv(t),[a,l]=Dv(i);for(let c=0;c<this.hashCount;c++){const d=this.ye(a,l,c);this.Se(d)}}Se(t){const i=Math.floor(t/8),a=t%8;this.bitmap[i]|=1<<a}}class wl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ah{constructor(t,i,a,l,c){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=l,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(t,i,a){const l=new Map;return l.set(t,Gl.createSynthesizedTargetChangeForCurrentChange(t,i,a)),new Ah(At.min(),l,new ue(Vt),is(),kt())}}class Gl{constructor(t,i,a,l,c){this.resumeToken=t,this.current=i,this.addedDocuments=a,this.modifiedDocuments=l,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(t,i,a){return new Gl(a,i,kt(),kt(),kt())}}class Pc{constructor(t,i,a,l){this.be=t,this.removedTargetIds=i,this.key=a,this.De=l}}class RE{constructor(t,i){this.targetId=t,this.Ce=i}}class CE{constructor(t,i,a=Xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=a,this.cause=l}}class Ov{constructor(){this.ve=0,this.Fe=Mv(),this.Me=Xe.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=kt(),i=kt(),a=kt();return this.Fe.forEach(((l,c)=>{switch(c){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:a=a.add(l);break;default:pt(38017,{changeType:c})}})),new Gl(this.Me,this.xe,t,i,a)}qe(){this.Oe=!1,this.Fe=Mv()}Qe(t,i){this.Oe=!0,this.Fe=this.Fe.insert(t,i)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Ft(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Lw{constructor(t){this.Ge=t,this.ze=new Map,this.je=is(),this.Je=Nc(),this.He=Nc(),this.Ye=new ue(Vt)}Ze(t){for(const i of t.be)t.De&&t.De.isFoundDocument()?this.Xe(i,t.De):this.et(i,t.key,t.De);for(const i of t.removedTargetIds)this.et(i,t.key,t.De)}tt(t){this.forEachTarget(t,(i=>{const a=this.nt(i);switch(t.state){case 0:this.rt(i)&&a.Le(t.resumeToken);break;case 1:a.Ke(),a.Ne||a.qe(),a.Le(t.resumeToken);break;case 2:a.Ke(),a.Ne||this.removeTarget(i);break;case 3:this.rt(i)&&(a.We(),a.Le(t.resumeToken));break;case 4:this.rt(i)&&(this.it(i),a.Le(t.resumeToken));break;default:pt(56790,{state:t.state})}}))}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.ze.forEach(((a,l)=>{this.rt(l)&&i(l)}))}st(t){const i=t.targetId,a=t.Ce.count,l=this.ot(i);if(l){const c=l.target;if(cm(c))if(a===0){const d=new dt(c.path);this.et(i,d,We.newNoDocument(d,At.min()))}else Ft(a===1,20013,{expectedCount:a});else{const d=this._t(i);if(d!==a){const g=this.ut(t),_=g?this.ct(g,t,d):1;if(_!==0){this.it(i);const y=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(i,y)}}}}}ut(t){const i=t.Ce.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:l=0},hashCount:c=0}=i;let d,g;try{d=ir(a).toUint8Array()}catch(_){if(_ instanceof Z0)return Wa("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new Fm(d,l,c)}catch(_){return Wa(_ instanceof wl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.ge===0?null:g}ct(t,i,a){return i.Ce.count===a-this.Pt(t,i.targetId)?0:2}Pt(t,i){const a=this.Ge.getRemoteKeysForTarget(i);let l=0;return a.forEach((c=>{const d=this.Ge.ht(),g=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;t.mightContain(g)||(this.et(i,c,null),l++)})),l}Tt(t){const i=new Map;this.ze.forEach(((c,d)=>{const g=this.ot(d);if(g){if(c.current&&cm(g.target)){const _=new dt(g.target.path);this.It(_).has(d)||this.Et(d,_)||this.et(d,_,We.newNoDocument(_,t))}c.Be&&(i.set(d,c.ke()),c.qe())}}));let a=kt();this.He.forEach(((c,d)=>{let g=!0;d.forEachWhile((_=>{const y=this.ot(_);return!y||y.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)})),g&&(a=a.add(c))})),this.je.forEach(((c,d)=>d.setReadTime(t)));const l=new Ah(t,i,this.Ye,this.je,a);return this.je=is(),this.Je=Nc(),this.He=Nc(),this.Ye=new ue(Vt),l}Xe(t,i){if(!this.rt(t))return;const a=this.Et(t,i.key)?2:0;this.nt(t).Qe(i.key,a),this.je=this.je.insert(i.key,i),this.Je=this.Je.insert(i.key,this.It(i.key).add(t)),this.He=this.He.insert(i.key,this.dt(i.key).add(t))}et(t,i,a){if(!this.rt(t))return;const l=this.nt(t);this.Et(t,i)?l.Qe(i,1):l.$e(i),this.He=this.He.insert(i,this.dt(i).delete(t)),this.He=this.He.insert(i,this.dt(i).add(t)),a&&(this.je=this.je.insert(i,a))}removeTarget(t){this.ze.delete(t)}_t(t){const i=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let i=this.ze.get(t);return i||(i=new Ov,this.ze.set(t,i)),i}dt(t){let i=this.He.get(t);return i||(i=new Ve(Vt),this.He=this.He.insert(t,i)),i}It(t){let i=this.Je.get(t);return i||(i=new Ve(Vt),this.Je=this.Je.insert(t,i)),i}rt(t){const i=this.ot(t)!==null;return i||st("WatchChangeAggregator","Detected inactive target",t),i}ot(t){const i=this.ze.get(t);return i&&i.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new Ov),this.Ge.getRemoteKeysForTarget(t).forEach((i=>{this.et(t,i,null)}))}Et(t,i){return this.Ge.getRemoteKeysForTarget(t).has(i)}}function Nc(){return new ue(dt.comparator)}function Mv(){return new ue(dt.comparator)}const Pw={asc:"ASCENDING",desc:"DESCENDING"},jw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zw={and:"AND",or:"OR"};class Bw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function fm(r,t){return r.useProto3Json||dh(t)?t:{value:t}}function Wc(r,t){return r.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function xE(r,t){return r.useProto3Json?t.toBase64():t.toUint8Array()}function qw(r,t){return Wc(r,t.toTimestamp())}function Ri(r){return Ft(!!r,49232),At.fromTimestamp((function(i){const a=nr(i);return new re(a.seconds,a.nanos)})(r))}function Gm(r,t){return dm(r,t).canonicalString()}function dm(r,t){const i=(function(l){return new se(["projects",l.projectId,"databases",l.database])})(r).child("documents");return t===void 0?i:i.child(t)}function IE(r){const t=se.fromString(r);return Ft(VE(t),10190,{key:t.toString()}),t}function mm(r,t){return Gm(r.databaseId,t.path)}function Yd(r,t){const i=IE(t);if(i.get(1)!==r.databaseId.projectId)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+r.databaseId.projectId);if(i.get(3)!==r.databaseId.database)throw new ot(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+r.databaseId.database);return new dt(DE(i))}function NE(r,t){return Gm(r.databaseId,t)}function Hw(r){const t=IE(r);return t.length===4?se.emptyPath():DE(t)}function pm(r){return new se(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function DE(r){return Ft(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function Vv(r,t,i){return{name:mm(r,t),fields:i.value.mapValue.fields}}function Fw(r,t){let i;if("targetChange"in t){t.targetChange;const a=(function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:pt(39313,{state:y})})(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],c=(function(y,A){return y.useProto3Json?(Ft(A===void 0||typeof A=="string",58123),Xe.fromBase64String(A||"")):(Ft(A===void 0||A instanceof Buffer||A instanceof Uint8Array,16193),Xe.fromUint8Array(A||new Uint8Array))})(r,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&(function(y){const A=y.code===void 0?J.UNKNOWN:wE(y.code);return new ot(A,y.message||"")})(d);i=new CE(a,l,c,g||null)}else if("documentChange"in t){t.documentChange;const a=t.documentChange;a.document,a.document.name,a.document.updateTime;const l=Yd(r,a.document.name),c=Ri(a.document.updateTime),d=a.document.createTime?Ri(a.document.createTime):At.min(),g=new dn({mapValue:{fields:a.document.fields}}),_=We.newFoundDocument(l,c,d,g),y=a.targetIds||[],A=a.removedTargetIds||[];i=new Pc(y,A,_.key,_)}else if("documentDelete"in t){t.documentDelete;const a=t.documentDelete;a.document;const l=Yd(r,a.document),c=a.readTime?Ri(a.readTime):At.min(),d=We.newNoDocument(l,c),g=a.removedTargetIds||[];i=new Pc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const a=t.documentRemove;a.document;const l=Yd(r,a.document),c=a.removedTargetIds||[];i=new Pc([],c,l,null)}else{if(!("filter"in t))return pt(11601,{Rt:t});{t.filter;const a=t.filter;a.targetId;const{count:l=0,unchangedNames:c}=a,d=new Mw(l,c),g=a.targetId;i=new RE(g,d)}}return i}function Gw(r,t){let i;if(t instanceof Fl)i={update:Vv(r,t.key,t.value)};else if(t instanceof Th)i={delete:mm(r,t.key)};else if(t instanceof cr)i={update:Vv(r,t.key,t.data),updateMask:t2(t.fieldMask)};else{if(!(t instanceof Nw))return pt(16599,{Vt:t.type});i={verify:mm(r,t.key)}}return t.fieldTransforms.length>0&&(i.updateTransforms=t.fieldTransforms.map((a=>(function(c,d){const g=d.transform;if(g instanceof Zc)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof io)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof so)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof jl)return{fieldPath:d.field.canonicalString(),increment:g.Ae};throw pt(20930,{transform:d.transform})})(0,a)))),t.precondition.isNone||(i.currentDocument=(function(l,c){return c.updateTime!==void 0?{updateTime:qw(l,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:pt(27497)})(r,t.precondition)),i}function Qw(r,t){return r&&r.length>0?(Ft(t!==void 0,14353),r.map((i=>(function(l,c){let d=l.updateTime?Ri(l.updateTime):Ri(c);return d.isEqual(At.min())&&(d=Ri(c)),new Cw(d,l.transformResults||[])})(i,t)))):[]}function Yw(r,t){return{documents:[NE(r,t.path)]}}function Kw(r,t){const i={structuredQuery:{}},a=t.path;let l;t.collectionGroup!==null?(l=a,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=NE(r,l);const c=(function(y){if(y.length!==0)return ME(Oi.create(y,"and"))})(t.filters);c&&(i.structuredQuery.where=c);const d=(function(y){if(y.length!==0)return y.map((A=>(function(D){return{field:Fa(D.field),direction:Jw(D.dir)}})(A)))})(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=fm(r,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=(function(y){return{before:y.inclusive,values:y.position}})(t.startAt)),t.endAt&&(i.structuredQuery.endAt=(function(y){return{before:!y.inclusive,values:y.position}})(t.endAt)),{ft:i,parent:l}}function Xw(r){let t=Hw(r.parent);const i=r.structuredQuery,a=i.from?i.from.length:0;let l=null;if(a>0){Ft(a===1,65062);const A=i.from[0];A.allDescendants?l=A.collectionId:t=t.child(A.collectionId)}let c=[];i.where&&(c=(function(S){const D=OE(S);return D instanceof Oi&&lE(D)?D.getFilters():[D]})(i.where));let d=[];i.orderBy&&(d=(function(S){return S.map((D=>(function(W){return new Jc(Ga(W.field),(function(Z){switch(Z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(W.direction))})(D)))})(i.orderBy));let g=null;i.limit&&(g=(function(S){let D;return D=typeof S=="object"?S.value:S,dh(D)?null:D})(i.limit));let _=null;i.startAt&&(_=(function(S){const D=!!S.before,F=S.values||[];return new $c(F,D)})(i.startAt));let y=null;return i.endAt&&(y=(function(S){const D=!S.before,F=S.values||[];return new $c(F,D)})(i.endAt)),mw(t,l,d,c,g,"F",_,y)}function $w(r,t){const i=(function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pt(28987,{purpose:l})}})(t.purpose);return i==null?null:{"goog-listen-tags":i}}function OE(r){return r.unaryFilter!==void 0?(function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=Ga(i.unaryFilter.field);return Me.create(a,"==",{doubleValue:NaN});case"IS_NULL":const l=Ga(i.unaryFilter.field);return Me.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Ga(i.unaryFilter.field);return Me.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Ga(i.unaryFilter.field);return Me.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pt(61313);default:return pt(60726)}})(r):r.fieldFilter!==void 0?(function(i){return Me.create(Ga(i.fieldFilter.field),(function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pt(58110);default:return pt(50506)}})(i.fieldFilter.op),i.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(i){return Oi.create(i.compositeFilter.filters.map((a=>OE(a))),(function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return pt(1026)}})(i.compositeFilter.op))})(r):pt(30097,{filter:r})}function Jw(r){return Pw[r]}function Zw(r){return jw[r]}function Ww(r){return zw[r]}function Fa(r){return{fieldPath:r.canonicalString()}}function Ga(r){return Ye.fromServerFormat(r.fieldPath)}function ME(r){return r instanceof Me?(function(i){if(i.op==="=="){if(Tv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Tv(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NAN"}};if(Ev(i.value))return{unaryFilter:{field:Fa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fa(i.field),op:Zw(i.op),value:i.value}}})(r):r instanceof Oi?(function(i){const a=i.getFilters().map((l=>ME(l)));return a.length===1?a[0]:{compositeFilter:{op:Ww(i.op),filters:a}}})(r):pt(54877,{filter:r})}function t2(r){const t=[];return r.fields.forEach((i=>t.push(i.canonicalString()))),{fieldPaths:t}}function VE(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}class Qs{constructor(t,i,a,l,c=At.min(),d=At.min(),g=Xe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=a,this.sequenceNumber=l,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Qs(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Qs(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class e2{constructor(t){this.yt=t}}function n2(r){const t=Xw({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?hm(t,t.limit,"L"):t}class i2{constructor(){this.Cn=new s2}addToCollectionParentIndex(t,i){return this.Cn.add(i),$.resolve()}getCollectionParents(t,i){return $.resolve(this.Cn.getEntries(i))}addFieldIndex(t,i){return $.resolve()}deleteFieldIndex(t,i){return $.resolve()}deleteAllFieldIndexes(t){return $.resolve()}createTargetIndexes(t,i){return $.resolve()}getDocumentsMatchingTarget(t,i){return $.resolve(null)}getIndexType(t,i){return $.resolve(0)}getFieldIndexes(t,i){return $.resolve([])}getNextCollectionGroupToUpdate(t){return $.resolve(null)}getMinOffset(t,i){return $.resolve(er.min())}getMinOffsetFromCollectionGroup(t,i){return $.resolve(er.min())}updateCollectionGroup(t,i,a){return $.resolve()}updateIndexEntries(t,i){return $.resolve()}}class s2{constructor(){this.index={}}add(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i]||new Ve(se.comparator),c=!l.has(a);return this.index[i]=l.add(a),c}has(t){const i=t.lastSegment(),a=t.popLast(),l=this.index[i];return l&&l.has(a)}getEntries(t){return(this.index[t]||new Ve(se.comparator)).toArray()}}const kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kE=41943040;class fn{static withCacheSize(t){return new fn(t,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,a){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(kE,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);class ro{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new ro(0)}static cr(){return new ro(-1)}}const Uv="LruGarbageCollector",r2=1048576;function Lv([r,t],[i,a]){const l=Vt(r,i);return l===0?Vt(t,a):l}class a2{constructor(t){this.Ir=t,this.buffer=new Ve(Lv),this.Er=0}dr(){return++this.Er}Ar(t){const i=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Lv(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class o2{constructor(t,i,a){this.garbageCollector=t,this.asyncQueue=i,this.localStore=a,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){st(Uv,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ho(i)?st(Uv,"Ignoring IndexedDB error during garbage collection: ",i):await co(i)}await this.Vr(3e5)}))}}class l2{constructor(t,i){this.mr=t,this.params=i}calculateTargetCount(t,i){return this.mr.gr(t).next((a=>Math.floor(i/100*a)))}nthSequenceNumber(t,i){if(i===0)return $.resolve(fh.ce);const a=new a2(i);return this.mr.forEachTarget(t,(l=>a.Ar(l.sequenceNumber))).next((()=>this.mr.pr(t,(l=>a.Ar(l))))).next((()=>a.maxValue))}removeTargets(t,i,a){return this.mr.removeTargets(t,i,a)}removeOrphanedDocuments(t,i){return this.mr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(st("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(kv)):this.getCacheSize(t).next((a=>a<this.params.cacheSizeCollectionThreshold?(st("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),kv):this.yr(t,i)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,i){let a,l,c,d,g,_,y;const A=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((S=>(S>this.params.maximumSequenceNumbersToCollect?(st("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${S}`),l=this.params.maximumSequenceNumbersToCollect):l=S,d=Date.now(),this.nthSequenceNumber(t,l)))).next((S=>(a=S,g=Date.now(),this.removeTargets(t,a,i)))).next((S=>(c=S,_=Date.now(),this.removeOrphanedDocuments(t,a)))).next((S=>(y=Date.now(),qa()<=Mt.DEBUG&&st("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${c} targets in `+(_-g)+`ms
	Removed ${S} documents in `+(y-_)+`ms
Total Duration: ${y-A}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:c,documentsRemoved:S}))))}}function u2(r,t){return new l2(r,t)}class c2{constructor(){this.changes=new $r((t=>t.toString()),((t,i)=>t.isEqual(i))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,We.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?$.resolve(a):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class h2{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}class f2{constructor(t,i,a,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=l}getDocument(t,i){let a=null;return this.documentOverlayCache.getOverlay(t,i).next((l=>(a=l,this.remoteDocumentCache.getEntry(t,i)))).next((l=>(a!==null&&Ol(a.mutation,l,wn.empty(),re.now()),l)))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.getLocalViewOfDocuments(t,a,kt()).next((()=>a))))}getLocalViewOfDocuments(t,i,a=kt()){const l=Hr();return this.populateOverlays(t,l,i).next((()=>this.computeViews(t,i,l,a).next((c=>{let d=Sl();return c.forEach(((g,_)=>{d=d.insert(g,_.overlayedDocument)})),d}))))}getOverlayedDocuments(t,i){const a=Hr();return this.populateOverlays(t,a,i).next((()=>this.computeViews(t,i,a,kt())))}populateOverlays(t,i,a){const l=[];return a.forEach((c=>{i.has(c)||l.push(c)})),this.documentOverlayCache.getOverlays(t,l).next((c=>{c.forEach(((d,g)=>{i.set(d,g)}))}))}computeViews(t,i,a,l){let c=is();const d=Dl(),g=(function(){return Dl()})();return i.forEach(((_,y)=>{const A=a.get(y.key);l.has(y.key)&&(A===void 0||A.mutation instanceof cr)?c=c.insert(y.key,y):A!==void 0?(d.set(y.key,A.mutation.getFieldMask()),Ol(A.mutation,y,A.mutation.getFieldMask(),re.now())):d.set(y.key,wn.empty())})),this.recalculateAndSaveOverlays(t,c).next((_=>(_.forEach(((y,A)=>d.set(y,A))),i.forEach(((y,A)=>g.set(y,new h2(A,d.get(y)??null)))),g)))}recalculateAndSaveOverlays(t,i){const a=Dl();let l=new ue(((d,g)=>d-g)),c=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next((d=>{for(const g of d)g.keys().forEach((_=>{const y=i.get(_);if(y===null)return;let A=a.get(_)||wn.empty();A=g.applyToLocalView(y,A),a.set(_,A);const S=(l.get(g.batchId)||kt()).add(_);l=l.insert(g.batchId,S)}))})).next((()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),y=_.key,A=_.value,S=gE();A.forEach((D=>{if(!c.has(D)){const F=bE(i.get(D),a.get(D));F!==null&&S.set(D,F),c=c.add(D)}})),d.push(this.documentOverlayCache.saveOverlays(t,y,S))}return $.waitFor(d)})).next((()=>a))}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next((a=>this.recalculateAndSaveOverlays(t,a)))}getDocumentsMatchingQuery(t,i,a,l){return(function(d){return dt.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0})(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):pw(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,a,l):this.getDocumentsMatchingCollectionQuery(t,i,a,l)}getNextDocuments(t,i,a,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,a,l).next((c=>{const d=l-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,a.largestBatchId,l-c.size):$.resolve(Hr());let g=kl,_=c;return d.next((y=>$.forEach(y,((A,S)=>(g<S.largestBatchId&&(g=S.largestBatchId),c.get(A)?$.resolve():this.remoteDocumentCache.getEntry(t,A).next((D=>{_=_.insert(A,D)}))))).next((()=>this.populateOverlays(t,y,c))).next((()=>this.computeViews(t,_,y,kt()))).next((A=>({batchId:g,changes:pE(A)})))))}))}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new dt(i)).next((a=>{let l=Sl();return a.isFoundDocument()&&(l=l.insert(a.key,a)),l}))}getDocumentsMatchingCollectionGroupQuery(t,i,a,l){const c=i.collectionGroup;let d=Sl();return this.indexManager.getCollectionParents(t,c).next((g=>$.forEach(g,(_=>{const y=(function(S,D){return new ph(D,null,S.explicitOrderBy.slice(),S.filters.slice(),S.limit,S.limitType,S.startAt,S.endAt)})(i,_.child(c));return this.getDocumentsMatchingCollectionQuery(t,y,a,l).next((A=>{A.forEach(((S,D)=>{d=d.insert(S,D)}))}))})).next((()=>d))))}getDocumentsMatchingCollectionQuery(t,i,a,l){let c;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,a.largestBatchId).next((d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,a,c,l)))).next((d=>{c.forEach(((_,y)=>{const A=y.getKey();d.get(A)===null&&(d=d.insert(A,We.newInvalidDocument(A)))}));let g=Sl();return d.forEach(((_,y)=>{const A=c.get(_);A!==void 0&&Ol(A.mutation,y,wn.empty(),re.now()),_h(i,y)&&(g=g.insert(_,y))})),g}))}}class d2{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,i){return $.resolve(this.Lr.get(i))}saveBundleMetadata(t,i){return this.Lr.set(i.id,(function(l){return{id:l.id,version:l.version,createTime:Ri(l.createTime)}})(i)),$.resolve()}getNamedQuery(t,i){return $.resolve(this.kr.get(i))}saveNamedQuery(t,i){return this.kr.set(i.name,(function(l){return{name:l.name,query:n2(l.bundledQuery),readTime:Ri(l.readTime)}})(i)),$.resolve()}}class m2{constructor(){this.overlays=new ue(dt.comparator),this.qr=new Map}getOverlay(t,i){return $.resolve(this.overlays.get(i))}getOverlays(t,i){const a=Hr();return $.forEach(i,(l=>this.getOverlay(t,l).next((c=>{c!==null&&a.set(l,c)})))).next((()=>a))}saveOverlays(t,i,a){return a.forEach(((l,c)=>{this.St(t,i,c)})),$.resolve()}removeOverlaysForBatchId(t,i,a){const l=this.qr.get(a);return l!==void 0&&(l.forEach((c=>this.overlays=this.overlays.remove(c))),this.qr.delete(a)),$.resolve()}getOverlaysForCollection(t,i,a){const l=Hr(),c=i.length+1,d=new dt(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,y=_.getKey();if(!i.isPrefixOf(y.path))break;y.path.length===c&&_.largestBatchId>a&&l.set(_.getKey(),_)}return $.resolve(l)}getOverlaysForCollectionGroup(t,i,a,l){let c=new ue(((y,A)=>y-A));const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===i&&y.largestBatchId>a){let A=c.get(y.largestBatchId);A===null&&(A=Hr(),c=c.insert(y.largestBatchId,A)),A.set(y.getKey(),y)}}const g=Hr(),_=c.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach(((y,A)=>g.set(y,A))),!(g.size()>=l)););return $.resolve(g)}St(t,i,a){const l=this.overlays.get(a.key);if(l!==null){const d=this.qr.get(l.largestBatchId).delete(a.key);this.qr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new Ow(i,a));let c=this.qr.get(i);c===void 0&&(c=kt(),this.qr.set(i,c)),this.qr.set(i,c.add(a.key))}}class p2{constructor(){this.sessionToken=Xe.EMPTY_BYTE_STRING}getSessionToken(t){return $.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,$.resolve()}}class Qm{constructor(){this.Qr=new Ve(Pe.$r),this.Ur=new Ve(Pe.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,i){const a=new Pe(t,i);this.Qr=this.Qr.add(a),this.Ur=this.Ur.add(a)}Wr(t,i){t.forEach((a=>this.addReference(a,i)))}removeReference(t,i){this.Gr(new Pe(t,i))}zr(t,i){t.forEach((a=>this.removeReference(a,i)))}jr(t){const i=new dt(new se([])),a=new Pe(i,t),l=new Pe(i,t+1),c=[];return this.Ur.forEachInRange([a,l],(d=>{this.Gr(d),c.push(d.key)})),c}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const i=new dt(new se([])),a=new Pe(i,t),l=new Pe(i,t+1);let c=kt();return this.Ur.forEachInRange([a,l],(d=>{c=c.add(d.key)})),c}containsKey(t){const i=new Pe(t,0),a=this.Qr.firstAfterOrEqual(i);return a!==null&&t.isEqual(a.key)}}class Pe{constructor(t,i){this.key=t,this.Yr=i}static $r(t,i){return dt.comparator(t.key,i.key)||Vt(t.Yr,i.Yr)}static Kr(t,i){return Vt(t.Yr,i.Yr)||dt.comparator(t.key,i.key)}}class g2{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.tr=1,this.Zr=new Ve(Pe.$r)}checkEmpty(t){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,a,l){const c=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new Dw(c,i,a,l);this.mutationQueue.push(d);for(const g of l)this.Zr=this.Zr.add(new Pe(g.key,c)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return $.resolve(d)}lookupMutationBatch(t,i){return $.resolve(this.Xr(i))}getNextMutationBatchAfterBatchId(t,i){const a=i+1,l=this.ei(a),c=l<0?0:l;return $.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?Um:this.tr-1)}getAllMutationBatches(t){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const a=new Pe(i,0),l=new Pe(i,Number.POSITIVE_INFINITY),c=[];return this.Zr.forEachInRange([a,l],(d=>{const g=this.Xr(d.Yr);c.push(g)})),$.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(t,i){let a=new Ve(Vt);return i.forEach((l=>{const c=new Pe(l,0),d=new Pe(l,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([c,d],(g=>{a=a.add(g.Yr)}))})),$.resolve(this.ti(a))}getAllMutationBatchesAffectingQuery(t,i){const a=i.path,l=a.length+1;let c=a;dt.isDocumentKey(c)||(c=c.child(""));const d=new Pe(new dt(c),0);let g=new Ve(Vt);return this.Zr.forEachWhile((_=>{const y=_.key.path;return!!a.isPrefixOf(y)&&(y.length===l&&(g=g.add(_.Yr)),!0)}),d),$.resolve(this.ti(g))}ti(t){const i=[];return t.forEach((a=>{const l=this.Xr(a);l!==null&&i.push(l)})),i}removeMutationBatch(t,i){Ft(this.ni(i.batchId,"removed")===0,55003),this.mutationQueue.shift();let a=this.Zr;return $.forEach(i.mutations,(l=>{const c=new Pe(l.key,i.batchId);return a=a.delete(c),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)})).next((()=>{this.Zr=a}))}ir(t){}containsKey(t,i){const a=new Pe(i,0),l=this.Zr.firstAfterOrEqual(a);return $.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,$.resolve()}ni(t,i){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const i=this.ei(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}class y2{constructor(t){this.ri=t,this.docs=(function(){return new ue(dt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const a=i.key,l=this.docs.get(a),c=l?l.size:0,d=this.ri(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(t,a.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const a=this.docs.get(i);return $.resolve(a?a.document.mutableCopy():We.newInvalidDocument(i))}getEntries(t,i){let a=is();return i.forEach((l=>{const c=this.docs.get(l);a=a.insert(l,c?c.document.mutableCopy():We.newInvalidDocument(l))})),$.resolve(a)}getDocumentsMatchingQuery(t,i,a,l){let c=is();const d=i.path,g=new dt(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:y,value:{document:A}}=_.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||QS(GS(A),a)<=0||(l.has(A.key)||_h(i,A))&&(c=c.insert(A.key,A.mutableCopy()))}return $.resolve(c)}getAllFromCollectionGroup(t,i,a,l){pt(9500)}ii(t,i){return $.forEach(this.docs,(a=>i(a)))}newChangeBuffer(t){return new _2(this)}getSize(t){return $.resolve(this.size)}}class _2 extends c2{constructor(t){super(),this.Nr=t}applyChanges(t){const i=[];return this.changes.forEach(((a,l)=>{l.isValidDocument()?i.push(this.Nr.addEntry(t,l)):this.Nr.removeEntry(a)})),$.waitFor(i)}getFromCache(t,i){return this.Nr.getEntry(t,i)}getAllFromCache(t,i){return this.Nr.getEntries(t,i)}}class v2{constructor(t){this.persistence=t,this.si=new $r((i=>jm(i)),zm),this.lastRemoteSnapshotVersion=At.min(),this.highestTargetId=0,this.oi=0,this._i=new Qm,this.targetCount=0,this.ai=ro.ur()}forEachTarget(t,i){return this.si.forEach(((a,l)=>i(l))),$.resolve()}getLastRemoteSnapshotVersion(t){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return $.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(t,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.oi&&(this.oi=i),$.resolve()}Pr(t){this.si.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.ai=new ro(i),this.highestTargetId=i),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,i){return this.Pr(i),this.targetCount+=1,$.resolve()}updateTargetData(t,i){return this.Pr(i),$.resolve()}removeTargetData(t,i){return this.si.delete(i.target),this._i.jr(i.targetId),this.targetCount-=1,$.resolve()}removeTargets(t,i,a){let l=0;const c=[];return this.si.forEach(((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.si.delete(d),c.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)})),$.waitFor(c).next((()=>l))}getTargetCount(t){return $.resolve(this.targetCount)}getTargetData(t,i){const a=this.si.get(i)||null;return $.resolve(a)}addMatchingKeys(t,i,a){return this._i.Wr(i,a),$.resolve()}removeMatchingKeys(t,i,a){this._i.zr(i,a);const l=this.persistence.referenceDelegate,c=[];return l&&i.forEach((d=>{c.push(l.markPotentiallyOrphaned(t,d))})),$.waitFor(c)}removeMatchingKeysForTargetId(t,i){return this._i.jr(i),$.resolve()}getMatchingKeysForTargetId(t,i){const a=this._i.Hr(i);return $.resolve(a)}containsKey(t,i){return $.resolve(this._i.containsKey(i))}}class UE{constructor(t,i){this.ui={},this.overlays={},this.ci=new fh(0),this.li=!1,this.li=!0,this.hi=new p2,this.referenceDelegate=t(this),this.Pi=new v2(this),this.indexManager=new i2,this.remoteDocumentCache=(function(l){return new y2(l)})((a=>this.referenceDelegate.Ti(a))),this.serializer=new e2(i),this.Ii=new d2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new m2,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let a=this.ui[t.toKey()];return a||(a=new g2(i,this.referenceDelegate),this.ui[t.toKey()]=a),a}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,i,a){st("MemoryPersistence","Starting transaction:",t);const l=new E2(this.ci.next());return this.referenceDelegate.Ei(),a(l).next((c=>this.referenceDelegate.di(l).next((()=>c)))).toPromise().then((c=>(l.raiseOnCommittedEvent(),c)))}Ai(t,i){return $.or(Object.values(this.ui).map((a=>()=>a.containsKey(t,i))))}}class E2 extends KS{constructor(t){super(),this.currentSequenceNumber=t}}class Ym{constructor(t){this.persistence=t,this.Ri=new Qm,this.Vi=null}static mi(t){return new Ym(t)}get fi(){if(this.Vi)return this.Vi;throw pt(60996)}addReference(t,i,a){return this.Ri.addReference(a,i),this.fi.delete(a.toString()),$.resolve()}removeReference(t,i,a){return this.Ri.removeReference(a,i),this.fi.add(a.toString()),$.resolve()}markPotentiallyOrphaned(t,i){return this.fi.add(i.toString()),$.resolve()}removeTarget(t,i){this.Ri.jr(i.targetId).forEach((l=>this.fi.add(l.toString())));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(t,i.targetId).next((l=>{l.forEach((c=>this.fi.add(c.toString())))})).next((()=>a.removeTargetData(t,i)))}Ei(){this.Vi=new Set}di(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.fi,(a=>{const l=dt.fromPath(a);return this.gi(t,l).next((c=>{c||i.removeEntry(l,At.min())}))})).next((()=>(this.Vi=null,i.apply(t))))}updateLimboDocument(t,i){return this.gi(t,i).next((a=>{a?this.fi.delete(i.toString()):this.fi.add(i.toString())}))}Ti(t){return 0}gi(t,i){return $.or([()=>$.resolve(this.Ri.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.Ai(t,i)])}}class th{constructor(t,i){this.persistence=t,this.pi=new $r((a=>JS(a.path)),((a,l)=>a.isEqual(l))),this.garbageCollector=u2(this,i)}static mi(t,i){return new th(t,i)}Ei(){}di(t){return $.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}gr(t){const i=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((a=>i.next((l=>a+l))))}wr(t){let i=0;return this.pr(t,(a=>{i++})).next((()=>i))}pr(t,i){return $.forEach(this.pi,((a,l)=>this.br(t,a,l).next((c=>c?$.resolve():i(l)))))}removeTargets(t,i,a){return this.persistence.getTargetCache().removeTargets(t,i,a)}removeOrphanedDocuments(t,i){let a=0;const l=this.persistence.getRemoteDocumentCache(),c=l.newChangeBuffer();return l.ii(t,(d=>this.br(t,d,i).next((g=>{g||(a++,c.removeEntry(d,At.min()))})))).next((()=>c.apply(t))).next((()=>a))}markPotentiallyOrphaned(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}removeTarget(t,i){const a=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,a)}addReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}removeReference(t,i,a){return this.pi.set(a,t.currentSequenceNumber),$.resolve()}updateLimboDocument(t,i){return this.pi.set(i,t.currentSequenceNumber),$.resolve()}Ti(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=kc(t.data.value)),i}br(t,i,a){return $.or([()=>this.persistence.Ai(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.pi.get(i);return $.resolve(l!==void 0&&l>a)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Km{constructor(t,i,a,l){this.targetId=t,this.fromCache=i,this.Es=a,this.ds=l}static As(t,i){let a=kt(),l=kt();for(const c of i.docChanges)switch(c.type){case 0:a=a.add(c.doc.key);break;case 1:l=l.add(c.doc.key)}return new Km(t,i.fromCache,a,l)}}class T2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class A2{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return db()?8:XS(tn())>0?6:4})()}initialize(t,i){this.ps=t,this.indexManager=i,this.Rs=!0}getDocumentsMatchingQuery(t,i,a,l){const c={result:null};return this.ys(t,i).next((d=>{c.result=d})).next((()=>{if(!c.result)return this.ws(t,i,l,a).next((d=>{c.result=d}))})).next((()=>{if(c.result)return;const d=new T2;return this.Ss(t,i,d).next((g=>{if(c.result=g,this.Vs)return this.bs(t,i,d,g.size)}))})).next((()=>c.result))}bs(t,i,a,l){return a.documentReadCount<this.fs?(qa()<=Mt.DEBUG&&st("QueryEngine","SDK will not create cache indexes for query:",Ha(i),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$.resolve()):(qa()<=Mt.DEBUG&&st("QueryEngine","Query:",Ha(i),"scans",a.documentReadCount,"local documents and returns",l,"documents as results."),a.documentReadCount>this.gs*l?(qa()<=Mt.DEBUG&&st("QueryEngine","The SDK decides to create cache indexes for query:",Ha(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,wi(i))):$.resolve())}ys(t,i){if(wv(i))return $.resolve(null);let a=wi(i);return this.indexManager.getIndexType(t,a).next((l=>l===0?null:(i.limit!==null&&l===1&&(i=hm(i,null,"F"),a=wi(i)),this.indexManager.getDocumentsMatchingTarget(t,a).next((c=>{const d=kt(...c);return this.ps.getDocuments(t,d).next((g=>this.indexManager.getMinOffset(t,a).next((_=>{const y=this.Ds(i,g);return this.Cs(i,y,d,_.readTime)?this.ys(t,hm(i,null,"F")):this.vs(t,y,i,_)}))))})))))}ws(t,i,a,l){return wv(i)||l.isEqual(At.min())?$.resolve(null):this.ps.getDocuments(t,a).next((c=>{const d=this.Ds(i,c);return this.Cs(i,d,a,l)?$.resolve(null):(qa()<=Mt.DEBUG&&st("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ha(i)),this.vs(t,d,i,FS(l,kl)).next((g=>g)))}))}Ds(t,i){let a=new Ve(dE(t));return i.forEach(((l,c)=>{_h(t,c)&&(a=a.add(c))})),a}Cs(t,i,a,l){if(t.limit===null)return!1;if(a.size!==i.size)return!0;const c=t.limitType==="F"?i.last():i.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(l)>0)}Ss(t,i,a){return qa()<=Mt.DEBUG&&st("QueryEngine","Using full collection scan to execute query:",Ha(i)),this.ps.getDocumentsMatchingQuery(t,i,er.min(),a)}vs(t,i,a,l){return this.ps.getDocumentsMatchingQuery(t,a,l).next((c=>(i.forEach((d=>{c=c.insert(d.key,d)})),c)))}}const Xm="LocalStore",b2=3e8;class S2{constructor(t,i,a,l){this.persistence=t,this.Fs=i,this.serializer=l,this.Ms=new ue(Vt),this.xs=new $r((c=>jm(c)),zm),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(a)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new f2(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(i=>t.collect(i,this.Ms)))}}function w2(r,t,i,a){return new S2(r,t,i,a)}async function LE(r,t){const i=St(r);return await i.persistence.runTransaction("Handle user change","readonly",(a=>{let l;return i.mutationQueue.getAllMutationBatches(a).next((c=>(l=c,i.Bs(t),i.mutationQueue.getAllMutationBatches(a)))).next((c=>{const d=[],g=[];let _=kt();for(const y of l){d.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}for(const y of c){g.push(y.batchId);for(const A of y.mutations)_=_.add(A.key)}return i.localDocuments.getDocuments(a,_).next((y=>({Ls:y,removedBatchIds:d,addedBatchIds:g})))}))}))}function R2(r,t){const i=St(r);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",(a=>{const l=t.batch.keys(),c=i.Ns.newChangeBuffer({trackRemovals:!0});return(function(g,_,y,A){const S=y.batch,D=S.keys();let F=$.resolve();return D.forEach((W=>{F=F.next((()=>A.getEntry(_,W))).next((tt=>{const Z=y.docVersions.get(W);Ft(Z!==null,48541),tt.version.compareTo(Z)<0&&(S.applyToRemoteDocument(tt,y),tt.isValidDocument()&&(tt.setReadTime(y.commitVersion),A.addEntry(tt)))}))})),F.next((()=>g.mutationQueue.removeMutationBatch(_,S)))})(i,a,t,c).next((()=>c.apply(a))).next((()=>i.mutationQueue.performConsistencyCheck(a))).next((()=>i.documentOverlayCache.removeOverlaysForBatchId(a,l,t.batch.batchId))).next((()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,(function(g){let _=kt();for(let y=0;y<g.mutationResults.length;++y)g.mutationResults[y].transformResults.length>0&&(_=_.add(g.batch.mutations[y].key));return _})(t)))).next((()=>i.localDocuments.getDocuments(a,l)))}))}function PE(r){const t=St(r);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(i=>t.Pi.getLastRemoteSnapshotVersion(i)))}function C2(r,t){const i=St(r),a=t.snapshotVersion;let l=i.Ms;return i.persistence.runTransaction("Apply remote event","readwrite-primary",(c=>{const d=i.Ns.newChangeBuffer({trackRemovals:!0});l=i.Ms;const g=[];t.targetChanges.forEach(((A,S)=>{const D=l.get(S);if(!D)return;g.push(i.Pi.removeMatchingKeys(c,A.removedDocuments,S).next((()=>i.Pi.addMatchingKeys(c,A.addedDocuments,S))));let F=D.withSequenceNumber(c.currentSequenceNumber);t.targetMismatches.get(S)!==null?F=F.withResumeToken(Xe.EMPTY_BYTE_STRING,At.min()).withLastLimboFreeSnapshotVersion(At.min()):A.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(A.resumeToken,a)),l=l.insert(S,F),(function(tt,Z,ut){return tt.resumeToken.approximateByteSize()===0||Z.snapshotVersion.toMicroseconds()-tt.snapshotVersion.toMicroseconds()>=b2?!0:ut.addedDocuments.size+ut.modifiedDocuments.size+ut.removedDocuments.size>0})(D,F,A)&&g.push(i.Pi.updateTargetData(c,F))}));let _=is(),y=kt();if(t.documentUpdates.forEach((A=>{t.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(c,A))})),g.push(x2(c,d,t.documentUpdates).next((A=>{_=A.ks,y=A.qs}))),!a.isEqual(At.min())){const A=i.Pi.getLastRemoteSnapshotVersion(c).next((S=>i.Pi.setTargetsMetadata(c,c.currentSequenceNumber,a)));g.push(A)}return $.waitFor(g).next((()=>d.apply(c))).next((()=>i.localDocuments.getLocalViewOfDocuments(c,_,y))).next((()=>_))})).then((c=>(i.Ms=l,c)))}function x2(r,t,i){let a=kt(),l=kt();return i.forEach((c=>a=a.add(c))),t.getEntries(r,a).next((c=>{let d=is();return i.forEach(((g,_)=>{const y=c.get(g);_.isFoundDocument()!==y.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(At.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!y.isValidDocument()||_.version.compareTo(y.version)>0||_.version.compareTo(y.version)===0&&y.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):st(Xm,"Ignoring outdated watch update for ",g,". Current version:",y.version," Watch version:",_.version)})),{ks:d,qs:l}}))}function I2(r,t){const i=St(r);return i.persistence.runTransaction("Get next mutation batch","readonly",(a=>(t===void 0&&(t=Um),i.mutationQueue.getNextMutationBatchAfterBatchId(a,t))))}function N2(r,t){const i=St(r);return i.persistence.runTransaction("Allocate target","readwrite",(a=>{let l;return i.Pi.getTargetData(a,t).next((c=>c?(l=c,$.resolve(l)):i.Pi.allocateTargetId(a).next((d=>(l=new Qs(t,d,"TargetPurposeListen",a.currentSequenceNumber),i.Pi.addTargetData(a,l).next((()=>l)))))))})).then((a=>{const l=i.Ms.get(a.targetId);return(l===null||a.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ms=i.Ms.insert(a.targetId,a),i.xs.set(t,a.targetId)),a}))}async function gm(r,t,i){const a=St(r),l=a.Ms.get(t),c=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",c,(d=>a.persistence.referenceDelegate.removeTarget(d,l)))}catch(d){if(!ho(d))throw d;st(Xm,`Failed to update sequence numbers for target ${t}: ${d}`)}a.Ms=a.Ms.remove(t),a.xs.delete(l.target)}function Pv(r,t,i){const a=St(r);let l=At.min(),c=kt();return a.persistence.runTransaction("Execute query","readwrite",(d=>(function(_,y,A){const S=St(_),D=S.xs.get(A);return D!==void 0?$.resolve(S.Ms.get(D)):S.Pi.getTargetData(y,A)})(a,d,wi(t)).next((g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,a.Pi.getMatchingKeysForTargetId(d,g.targetId).next((_=>{c=_}))})).next((()=>a.Fs.getDocumentsMatchingQuery(d,t,i?l:At.min(),i?c:kt()))).next((g=>(D2(a,yw(t),g),{documents:g,Qs:c})))))}function D2(r,t,i){let a=r.Os.get(t)||At.min();i.forEach(((l,c)=>{c.readTime.compareTo(a)>0&&(a=c.readTime)})),r.Os.set(t,a)}class jv{constructor(){this.activeTargetIds=bw()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class O2{constructor(){this.Mo=new jv,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,a){}addLocalQueryTarget(t,i=!0){return i&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,i,a){this.xo[t]=i}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new jv,Promise.resolve()}handleUserChange(t,i,a){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class M2{Oo(t){}shutdown(){}}const zv="ConnectivityMonitor";class Bv{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){st(zv,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){st(zv,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Dc=null;function ym(){return Dc===null?Dc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dc++,"0x"+Dc.toString(16)}const Kd="RestConnection",V2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class k2{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Uo=i+"://"+t.host,this.Ko=`projects/${a}/databases/${l}`,this.Wo=this.databaseId.database===Kc?`project_id=${a}`:`project_id=${a}&database_id=${l}`}Go(t,i,a,l,c){const d=ym(),g=this.zo(t,i.toUriEncodedString());st(Kd,`Sending RPC '${t}' ${d}:`,g,a);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,l,c);const{host:y}=new URL(g),A=oo(y);return this.Jo(t,g,_,a,A).then((S=>(st(Kd,`Received RPC '${t}' ${d}: `,S),S)),(S=>{throw Wa(Kd,`RPC '${t}' ${d} failed with error: `,S,"url: ",g,"request:",a),S}))}Ho(t,i,a,l,c,d){return this.Go(t,i,a,l,c)}jo(t,i,a){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+uo})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach(((l,c)=>t[c]=l)),a&&a.headers.forEach(((l,c)=>t[c]=l))}zo(t,i){const a=V2[t];return`${this.Uo}/v1/${i}:${a}`}terminate(){}}class U2{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Je="WebChannelConnection";class L2 extends k2{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,i,a,l,c){const d=ym();return new Promise(((g,_)=>{const y=new B0;y.setWithCredentials(!0),y.listenOnce(q0.COMPLETE,(()=>{try{switch(y.getLastErrorCode()){case Vc.NO_ERROR:const S=y.getResponseJson();st(Je,`XHR for RPC '${t}' ${d} received:`,JSON.stringify(S)),g(S);break;case Vc.TIMEOUT:st(Je,`RPC '${t}' ${d} timed out`),_(new ot(J.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:const D=y.getStatus();if(st(Je,`RPC '${t}' ${d} failed with status:`,D,"response text:",y.getResponseText()),D>0){let F=y.getResponseJson();Array.isArray(F)&&(F=F[0]);const W=F?.error;if(W&&W.status&&W.message){const tt=(function(ut){const gt=ut.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(gt)>=0?gt:J.UNKNOWN})(W.status);_(new ot(tt,W.message))}else _(new ot(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else _(new ot(J.UNAVAILABLE,"Connection failed."));break;default:pt(9055,{l_:t,streamId:d,h_:y.getLastErrorCode(),P_:y.getLastError()})}}finally{st(Je,`RPC '${t}' ${d} completed.`)}}));const A=JSON.stringify(l);st(Je,`RPC '${t}' ${d} sending request:`,l),y.send(i,"POST",A,a,15)}))}T_(t,i,a){const l=ym(),c=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=G0(),g=F0(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(_.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,i,a),_.encodeInitMessageHeaders=!0;const A=c.join("");st(Je,`Creating RPC '${t}' stream ${l}: ${A}`,_);const S=d.createWebChannel(A,_);this.I_(S);let D=!1,F=!1;const W=new U2({Yo:Z=>{F?st(Je,`Not sending because RPC '${t}' stream ${l} is closed:`,Z):(D||(st(Je,`Opening RPC '${t}' stream ${l} transport.`),S.open(),D=!0),st(Je,`RPC '${t}' stream ${l} sending:`,Z),S.send(Z))},Zo:()=>S.close()}),tt=(Z,ut,gt)=>{Z.listen(ut,(ft=>{try{gt(ft)}catch(Ut){setTimeout((()=>{throw Ut}),0)}}))};return tt(S,bl.EventType.OPEN,(()=>{F||(st(Je,`RPC '${t}' stream ${l} transport opened.`),W.o_())})),tt(S,bl.EventType.CLOSE,(()=>{F||(F=!0,st(Je,`RPC '${t}' stream ${l} transport closed`),W.a_(),this.E_(S))})),tt(S,bl.EventType.ERROR,(Z=>{F||(F=!0,Wa(Je,`RPC '${t}' stream ${l} transport errored. Name:`,Z.name,"Message:",Z.message),W.a_(new ot(J.UNAVAILABLE,"The operation could not be completed")))})),tt(S,bl.EventType.MESSAGE,(Z=>{if(!F){const ut=Z.data[0];Ft(!!ut,16349);const gt=ut,ft=gt?.error||gt[0]?.error;if(ft){st(Je,`RPC '${t}' stream ${l} received error:`,ft);const Ut=ft.status;let Et=(function(w){const R=xe[w];if(R!==void 0)return wE(R)})(Ut),ht=ft.message;Et===void 0&&(Et=J.INTERNAL,ht="Unknown error status: "+Ut+" with message "+ft.message),F=!0,W.a_(new ot(Et,ht)),S.close()}else st(Je,`RPC '${t}' stream ${l} received:`,ut),W.u_(ut)}})),tt(g,H0.STAT_EVENT,(Z=>{Z.stat===rm.PROXY?st(Je,`RPC '${t}' stream ${l} detected buffering proxy`):Z.stat===rm.NOPROXY&&st(Je,`RPC '${t}' stream ${l} detected no buffering proxy`)})),setTimeout((()=>{W.__()}),0),W}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((i=>i===t))}}function Xd(){return typeof document<"u"?document:null}function bh(r){return new Bw(r,!0)}class jE{constructor(t,i,a=1e3,l=1.5,c=6e4){this.Mi=t,this.timerId=i,this.d_=a,this.A_=l,this.R_=c,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const i=Math.floor(this.V_+this.y_()),a=Math.max(0,Date.now()-this.f_),l=Math.max(0,i-a);l>0&&st("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.V_} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,l,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const qv="PersistentStream";class zE{constructor(t,i,a,l,c,d,g,_){this.Mi=t,this.S_=a,this.b_=l,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new jE(t,i)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,i){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():i&&i.code===J.RESOURCE_EXHAUSTED?(ns(i.toString()),ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):i&&i.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(i)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),i=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([a,l])=>{this.D_===i&&this.G_(a,l)}),(a=>{t((()=>{const l=new ot(J.UNKNOWN,"Fetching auth token failed: "+a.message);return this.z_(l)}))}))}G_(t,i){const a=this.W_(this.D_);this.stream=this.j_(t,i),this.stream.Xo((()=>{a((()=>this.listener.Xo()))})),this.stream.t_((()=>{a((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((l=>{a((()=>this.z_(l)))})),this.stream.onMessage((l=>{a((()=>++this.F_==1?this.J_(l):this.onNext(l)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return st(qv,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return i=>{this.Mi.enqueueAndForget((()=>this.D_===t?i():(st(qv,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class P2 extends zE{constructor(t,i,a,l,c,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}j_(t,i){return this.connection.T_("Listen",t,i)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const i=Fw(this.serializer,t),a=(function(c){if(!("targetChange"in c))return At.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?At.min():d.readTime?Ri(d.readTime):At.min()})(t);return this.listener.H_(i,a)}Y_(t){const i={};i.database=pm(this.serializer),i.addTarget=(function(c,d){let g;const _=d.target;if(g=cm(_)?{documents:Yw(c,_)}:{query:Kw(c,_).ft},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=xE(c,d.resumeToken);const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}else if(d.snapshotVersion.compareTo(At.min())>0){g.readTime=Wc(c,d.snapshotVersion.toTimestamp());const y=fm(c,d.expectedCount);y!==null&&(g.expectedCount=y)}return g})(this.serializer,t);const a=$w(this.serializer,t);a&&(i.labels=a),this.q_(i)}Z_(t){const i={};i.database=pm(this.serializer),i.removeTarget=t,this.q_(i)}}class j2 extends zE{constructor(t,i,a,l,c,d){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,l,d),this.serializer=c}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,i){return this.connection.T_("Write",t,i)}J_(t){return Ft(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Ft(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Ft(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const i=Qw(t.writeResults,t.commitTime),a=Ri(t.commitTime);return this.listener.na(a,i)}ra(){const t={};t.database=pm(this.serializer),this.q_(t)}ea(t){const i={streamToken:this.lastStreamToken,writes:t.map((a=>Gw(this.serializer,a)))};this.q_(i)}}class z2{}class B2 extends z2{constructor(t,i,a,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=a,this.serializer=l,this.ia=!1}sa(){if(this.ia)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.Go(t,dm(i,a),l,c,d))).catch((c=>{throw c.name==="FirebaseError"?(c.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new ot(J.UNKNOWN,c.toString())}))}Ho(t,i,a,l,c){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([d,g])=>this.connection.Ho(t,dm(i,a),l,d,g,c))).catch((d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ot(J.UNKNOWN,d.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class q2{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ns(i),this.aa=!1):st("OnlineStateTracker",i)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Kr="RemoteStore";class H2{constructor(t,i,a,l,c){this.localStore=t,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=c,this.Aa.Oo((d=>{a.enqueueAndForget((async()=>{Jr(this)&&(st(Kr,"Restarting streams for network reachability change."),await(async function(_){const y=St(_);y.Ea.add(4),await Ql(y),y.Ra.set("Unknown"),y.Ea.delete(4),await Sh(y)})(this))}))})),this.Ra=new q2(a,l)}}async function Sh(r){if(Jr(r))for(const t of r.da)await t(!0)}async function Ql(r){for(const t of r.da)await t(!1)}function BE(r,t){const i=St(r);i.Ia.has(t.targetId)||(i.Ia.set(t.targetId,t),Wm(i)?Zm(i):fo(i).O_()&&Jm(i,t))}function $m(r,t){const i=St(r),a=fo(i);i.Ia.delete(t),a.O_()&&qE(i,t),i.Ia.size===0&&(a.O_()?a.L_():Jr(i)&&i.Ra.set("Unknown"))}function Jm(r,t){if(r.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(At.min())>0){const i=r.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}fo(r).Y_(t)}function qE(r,t){r.Va.Ue(t),fo(r).Z_(t)}function Zm(r){r.Va=new Lw({getRemoteKeysForTarget:t=>r.remoteSyncer.getRemoteKeysForTarget(t),At:t=>r.Ia.get(t)||null,ht:()=>r.datastore.serializer.databaseId}),fo(r).start(),r.Ra.ua()}function Wm(r){return Jr(r)&&!fo(r).x_()&&r.Ia.size>0}function Jr(r){return St(r).Ea.size===0}function HE(r){r.Va=void 0}async function F2(r){r.Ra.set("Online")}async function G2(r){r.Ia.forEach(((t,i)=>{Jm(r,t)}))}async function Q2(r,t){HE(r),Wm(r)?(r.Ra.ha(t),Zm(r)):r.Ra.set("Unknown")}async function Y2(r,t,i){if(r.Ra.set("Online"),t instanceof CE&&t.state===2&&t.cause)try{await(async function(l,c){const d=c.cause;for(const g of c.targetIds)l.Ia.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.Ia.delete(g),l.Va.removeTarget(g))})(r,t)}catch(a){st(Kr,"Failed to remove targets %s: %s ",t.targetIds.join(","),a),await eh(r,a)}else if(t instanceof Pc?r.Va.Ze(t):t instanceof RE?r.Va.st(t):r.Va.tt(t),!i.isEqual(At.min()))try{const a=await PE(r.localStore);i.compareTo(a)>=0&&await(function(c,d){const g=c.Va.Tt(d);return g.targetChanges.forEach(((_,y)=>{if(_.resumeToken.approximateByteSize()>0){const A=c.Ia.get(y);A&&c.Ia.set(y,A.withResumeToken(_.resumeToken,d))}})),g.targetMismatches.forEach(((_,y)=>{const A=c.Ia.get(_);if(!A)return;c.Ia.set(_,A.withResumeToken(Xe.EMPTY_BYTE_STRING,A.snapshotVersion)),qE(c,_);const S=new Qs(A.target,_,y,A.sequenceNumber);Jm(c,S)})),c.remoteSyncer.applyRemoteEvent(g)})(r,i)}catch(a){st(Kr,"Failed to raise snapshot:",a),await eh(r,a)}}async function eh(r,t,i){if(!ho(t))throw t;r.Ea.add(1),await Ql(r),r.Ra.set("Offline"),i||(i=()=>PE(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{st(Kr,"Retrying IndexedDB access"),await i(),r.Ea.delete(1),await Sh(r)}))}function FE(r,t){return t().catch((i=>eh(r,i,t)))}async function wh(r){const t=St(r),i=rr(t);let a=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Um;for(;K2(t);)try{const l=await I2(t.localStore,a);if(l===null){t.Ta.length===0&&i.L_();break}a=l.batchId,X2(t,l)}catch(l){await eh(t,l)}GE(t)&&QE(t)}function K2(r){return Jr(r)&&r.Ta.length<10}function X2(r,t){r.Ta.push(t);const i=rr(r);i.O_()&&i.X_&&i.ea(t.mutations)}function GE(r){return Jr(r)&&!rr(r).x_()&&r.Ta.length>0}function QE(r){rr(r).start()}async function $2(r){rr(r).ra()}async function J2(r){const t=rr(r);for(const i of r.Ta)t.ea(i.mutations)}async function Z2(r,t,i){const a=r.Ta.shift(),l=Hm.from(a,t,i);await FE(r,(()=>r.remoteSyncer.applySuccessfulWrite(l))),await wh(r)}async function W2(r,t){t&&rr(r).X_&&await(async function(a,l){if((function(d){return Vw(d)&&d!==J.ABORTED})(l.code)){const c=a.Ta.shift();rr(a).B_(),await FE(a,(()=>a.remoteSyncer.rejectFailedWrite(c.batchId,l))),await wh(a)}})(r,t),GE(r)&&QE(r)}async function Hv(r,t){const i=St(r);i.asyncQueue.verifyOperationInProgress(),st(Kr,"RemoteStore received new credentials");const a=Jr(i);i.Ea.add(3),await Ql(i),a&&i.Ra.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.Ea.delete(3),await Sh(i)}async function tR(r,t){const i=St(r);t?(i.Ea.delete(2),await Sh(i)):t||(i.Ea.add(2),await Ql(i),i.Ra.set("Unknown"))}function fo(r){return r.ma||(r.ma=(function(i,a,l){const c=St(i);return c.sa(),new P2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:F2.bind(null,r),t_:G2.bind(null,r),r_:Q2.bind(null,r),H_:Y2.bind(null,r)}),r.da.push((async t=>{t?(r.ma.B_(),Wm(r)?Zm(r):r.Ra.set("Unknown")):(await r.ma.stop(),HE(r))}))),r.ma}function rr(r){return r.fa||(r.fa=(function(i,a,l){const c=St(i);return c.sa(),new j2(a,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,l)})(r.datastore,r.asyncQueue,{Xo:()=>Promise.resolve(),t_:$2.bind(null,r),r_:W2.bind(null,r),ta:J2.bind(null,r),na:Z2.bind(null,r)}),r.da.push((async t=>{t?(r.fa.B_(),await wh(r)):(await r.fa.stop(),r.Ta.length>0&&(st(Kr,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class tp{constructor(t,i,a,l,c){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=a,this.op=l,this.removalCallback=c,this.deferred=new Zs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((d=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,i,a,l,c){const d=Date.now()+a,g=new tp(t,i,d,l,c);return g.start(a),g}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(J.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ep(r,t){if(ns("AsyncQueue",`${t}: ${r}`),ho(r))return new ot(J.UNAVAILABLE,`${t}: ${r}`);throw r}class Ya{static emptySet(t){return new Ya(t.comparator)}constructor(t){this.comparator=t?(i,a)=>t(i,a)||dt.comparator(i.key,a.key):(i,a)=>dt.comparator(i.key,a.key),this.keyedMap=Sl(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((i,a)=>(t(i),!1)))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Ya)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),a=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,c=a.getNext().key;if(!l.isEqual(c))return!1}return!0}toString(){const t=[];return this.forEach((i=>{t.push(i.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const a=new Ya;return a.comparator=this.comparator,a.keyedMap=t,a.sortedSet=i,a}}class Fv{constructor(){this.ga=new ue(dt.comparator)}track(t){const i=t.doc.key,a=this.ga.get(i);a?t.type!==0&&a.type===3?this.ga=this.ga.insert(i,t):t.type===3&&a.type!==1?this.ga=this.ga.insert(i,{type:a.type,doc:t.doc}):t.type===2&&a.type===2?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):t.type===2&&a.type===0?this.ga=this.ga.insert(i,{type:0,doc:t.doc}):t.type===1&&a.type===0?this.ga=this.ga.remove(i):t.type===1&&a.type===2?this.ga=this.ga.insert(i,{type:1,doc:a.doc}):t.type===0&&a.type===1?this.ga=this.ga.insert(i,{type:2,doc:t.doc}):pt(63341,{Rt:t,pa:a}):this.ga=this.ga.insert(i,t)}ya(){const t=[];return this.ga.inorderTraversal(((i,a)=>{t.push(a)})),t}}class ao{constructor(t,i,a,l,c,d,g,_,y){this.query=t,this.docs=i,this.oldDocs=a,this.docChanges=l,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=y}static fromInitialDocuments(t,i,a,l,c){const d=[];return i.forEach((g=>{d.push({type:0,doc:g})})),new ao(t,i,Ya.emptySet(i),d,a,l,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&yh(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,a=t.docChanges;if(i.length!==a.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==a[l].type||!i[l].doc.isEqual(a[l].doc))return!1;return!0}}class eR{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class nR{constructor(){this.queries=Gv(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(i,a){const l=St(i),c=l.queries;l.queries=Gv(),c.forEach(((d,g)=>{for(const _ of g.Sa)_.onError(a)}))})(this,new ot(J.ABORTED,"Firestore shutting down"))}}function Gv(){return new $r((r=>fE(r)),yh)}async function YE(r,t){const i=St(r);let a=3;const l=t.query;let c=i.queries.get(l);c?!c.ba()&&t.Da()&&(a=2):(c=new eR,a=t.Da()?0:1);try{switch(a){case 0:c.wa=await i.onListen(l,!0);break;case 1:c.wa=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=ep(d,`Initialization of query '${Ha(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,c),c.Sa.push(t),t.va(i.onlineState),c.wa&&t.Fa(c.wa)&&np(i)}async function KE(r,t){const i=St(r),a=t.query;let l=3;const c=i.queries.get(a);if(c){const d=c.Sa.indexOf(t);d>=0&&(c.Sa.splice(d,1),c.Sa.length===0?l=t.Da()?0:1:!c.ba()&&t.Da()&&(l=2))}switch(l){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function iR(r,t){const i=St(r);let a=!1;for(const l of t){const c=l.query,d=i.queries.get(c);if(d){for(const g of d.Sa)g.Fa(l)&&(a=!0);d.wa=l}}a&&np(i)}function sR(r,t,i){const a=St(r),l=a.queries.get(t);if(l)for(const c of l.Sa)c.onError(i);a.queries.delete(t)}function np(r){r.Ca.forEach((t=>{t.next()}))}var _m,Qv;(Qv=_m||(_m={})).Ma="default",Qv.Cache="cache";class XE{constructor(t,i,a){this.query=t,this.xa=i,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=a||{}}Fa(t){if(!this.options.includeMetadataChanges){const a=[];for(const l of t.docChanges)l.type!==3&&a.push(l);t=new ao(t.query,t.docs,t.oldDocs,a,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),i=!0):this.La(t,this.onlineState)&&(this.ka(t),i=!0),this.Na=t,i}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let i=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),i=!0),i}La(t,i){if(!t.fromCache||!this.Da())return!0;const a=i!=="Offline";return(!this.options.qa||!a)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const i=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}ka(t){t=ao.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==_m.Cache}}class $E{constructor(t){this.key=t}}class JE{constructor(t){this.key=t}}class rR{constructor(t,i){this.query=t,this.Ya=i,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=kt(),this.mutatedKeys=kt(),this.eu=dE(t),this.tu=new Ya(this.eu)}get nu(){return this.Ya}ru(t,i){const a=i?i.iu:new Fv,l=i?i.tu:this.tu;let c=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,y=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal(((A,S)=>{const D=l.get(A),F=_h(this.query,S)?S:null,W=!!D&&this.mutatedKeys.has(D.key),tt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let Z=!1;D&&F?D.data.isEqual(F.data)?W!==tt&&(a.track({type:3,doc:F}),Z=!0):this.su(D,F)||(a.track({type:2,doc:F}),Z=!0,(_&&this.eu(F,_)>0||y&&this.eu(F,y)<0)&&(g=!0)):!D&&F?(a.track({type:0,doc:F}),Z=!0):D&&!F&&(a.track({type:1,doc:D}),Z=!0,(_||y)&&(g=!0)),Z&&(F?(d=d.add(F),c=tt?c.add(A):c.delete(A)):(d=d.delete(A),c=c.delete(A)))})),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),c=c.delete(A.key),a.track({type:1,doc:A})}return{tu:d,iu:a,Cs:g,mutatedKeys:c}}su(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,a,l){const c=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const d=t.iu.ya();d.sort(((A,S)=>(function(F,W){const tt=Z=>{switch(Z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pt(20277,{Rt:Z})}};return tt(F)-tt(W)})(A.type,S.type)||this.eu(A.doc,S.doc))),this.ou(a),l=l??!1;const g=i&&!l?this._u():[],_=this.Xa.size===0&&this.current&&!l?1:0,y=_!==this.Za;return this.Za=_,d.length!==0||y?{snapshot:new ao(this.query,t.tu,c,d,t.mutatedKeys,_===0,y,!1,!!a&&a.resumeToken.approximateByteSize()>0),au:g}:{au:g}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Fv,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((i=>this.Ya=this.Ya.add(i))),t.modifiedDocuments.forEach((i=>{})),t.removedDocuments.forEach((i=>this.Ya=this.Ya.delete(i))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=kt(),this.tu.forEach((a=>{this.uu(a.key)&&(this.Xa=this.Xa.add(a.key))}));const i=[];return t.forEach((a=>{this.Xa.has(a)||i.push(new JE(a))})),this.Xa.forEach((a=>{t.has(a)||i.push(new $E(a))})),i}cu(t){this.Ya=t.Qs,this.Xa=kt();const i=this.ru(t.documents);return this.applyChanges(i,!0)}lu(){return ao.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const ip="SyncEngine";class aR{constructor(t,i,a){this.query=t,this.targetId=i,this.view=a}}class oR{constructor(t){this.key=t,this.hu=!1}}class lR{constructor(t,i,a,l,c,d){this.localStore=t,this.remoteStore=i,this.eventManager=a,this.sharedClientState=l,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Pu={},this.Tu=new $r((g=>fE(g)),yh),this.Iu=new Map,this.Eu=new Set,this.du=new ue(dt.comparator),this.Au=new Map,this.Ru=new Qm,this.Vu={},this.mu=new Map,this.fu=ro.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function uR(r,t,i=!0){const a=i1(r);let l;const c=a.Tu.get(t);return c?(a.sharedClientState.addLocalQueryTarget(c.targetId),l=c.view.lu()):l=await ZE(a,t,i,!0),l}async function cR(r,t){const i=i1(r);await ZE(i,t,!0,!1)}async function ZE(r,t,i,a){const l=await N2(r.localStore,wi(t)),c=l.targetId,d=r.sharedClientState.addLocalQueryTarget(c,i);let g;return a&&(g=await hR(r,t,c,d==="current",l.resumeToken)),r.isPrimaryClient&&i&&BE(r.remoteStore,l),g}async function hR(r,t,i,a,l){r.pu=(S,D,F)=>(async function(tt,Z,ut,gt){let ft=Z.view.ru(ut);ft.Cs&&(ft=await Pv(tt.localStore,Z.query,!1).then((({documents:C})=>Z.view.ru(C,ft))));const Ut=gt&&gt.targetChanges.get(Z.targetId),Et=gt&&gt.targetMismatches.get(Z.targetId)!=null,ht=Z.view.applyChanges(ft,tt.isPrimaryClient,Ut,Et);return Kv(tt,Z.targetId,ht.au),ht.snapshot})(r,S,D,F);const c=await Pv(r.localStore,t,!0),d=new rR(t,c.Qs),g=d.ru(c.documents),_=Gl.createSynthesizedTargetChangeForCurrentChange(i,a&&r.onlineState!=="Offline",l),y=d.applyChanges(g,r.isPrimaryClient,_);Kv(r,i,y.au);const A=new aR(t,i,d);return r.Tu.set(t,A),r.Iu.has(i)?r.Iu.get(i).push(t):r.Iu.set(i,[t]),y.snapshot}async function fR(r,t,i){const a=St(r),l=a.Tu.get(t),c=a.Iu.get(l.targetId);if(c.length>1)return a.Iu.set(l.targetId,c.filter((d=>!yh(d,t)))),void a.Tu.delete(t);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(l.targetId),a.sharedClientState.isActiveQueryTarget(l.targetId)||await gm(a.localStore,l.targetId,!1).then((()=>{a.sharedClientState.clearQueryState(l.targetId),i&&$m(a.remoteStore,l.targetId),vm(a,l.targetId)})).catch(co)):(vm(a,l.targetId),await gm(a.localStore,l.targetId,!0))}async function dR(r,t){const i=St(r),a=i.Tu.get(t),l=i.Iu.get(a.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),$m(i.remoteStore,a.targetId))}async function mR(r,t,i){const a=TR(r);try{const l=await(function(d,g){const _=St(d),y=re.now(),A=g.reduce(((F,W)=>F.add(W.key)),kt());let S,D;return _.persistence.runTransaction("Locally write mutations","readwrite",(F=>{let W=is(),tt=kt();return _.Ns.getEntries(F,A).next((Z=>{W=Z,W.forEach(((ut,gt)=>{gt.isValidDocument()||(tt=tt.add(ut))}))})).next((()=>_.localDocuments.getOverlayedDocuments(F,W))).next((Z=>{S=Z;const ut=[];for(const gt of g){const ft=Iw(gt,S.get(gt.key).overlayedDocument);ft!=null&&ut.push(new cr(gt.key,ft,rE(ft.value.mapValue),mn.exists(!0)))}return _.mutationQueue.addMutationBatch(F,y,ut,g)})).next((Z=>{D=Z;const ut=Z.applyToLocalDocumentSet(S,tt);return _.documentOverlayCache.saveOverlays(F,Z.batchId,ut)}))})).then((()=>({batchId:D.batchId,changes:pE(S)})))})(a.localStore,t);a.sharedClientState.addPendingMutation(l.batchId),(function(d,g,_){let y=d.Vu[d.currentUser.toKey()];y||(y=new ue(Vt)),y=y.insert(g,_),d.Vu[d.currentUser.toKey()]=y})(a,l.batchId,i),await Yl(a,l.changes),await wh(a.remoteStore)}catch(l){const c=ep(l,"Failed to persist write");i.reject(c)}}async function WE(r,t){const i=St(r);try{const a=await C2(i.localStore,t);t.targetChanges.forEach(((l,c)=>{const d=i.Au.get(c);d&&(Ft(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1,22616),l.addedDocuments.size>0?d.hu=!0:l.modifiedDocuments.size>0?Ft(d.hu,14607):l.removedDocuments.size>0&&(Ft(d.hu,42227),d.hu=!1))})),await Yl(i,a,t)}catch(a){await co(a)}}function Yv(r,t,i){const a=St(r);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const l=[];a.Tu.forEach(((c,d)=>{const g=d.view.va(t);g.snapshot&&l.push(g.snapshot)})),(function(d,g){const _=St(d);_.onlineState=g;let y=!1;_.queries.forEach(((A,S)=>{for(const D of S.Sa)D.va(g)&&(y=!0)})),y&&np(_)})(a.eventManager,t),l.length&&a.Pu.H_(l),a.onlineState=t,a.isPrimaryClient&&a.sharedClientState.setOnlineState(t)}}async function pR(r,t,i){const a=St(r);a.sharedClientState.updateQueryState(t,"rejected",i);const l=a.Au.get(t),c=l&&l.key;if(c){let d=new ue(dt.comparator);d=d.insert(c,We.newNoDocument(c,At.min()));const g=kt().add(c),_=new Ah(At.min(),new Map,new ue(Vt),d,g);await WE(a,_),a.du=a.du.remove(c),a.Au.delete(t),sp(a)}else await gm(a.localStore,t,!1).then((()=>vm(a,t,i))).catch(co)}async function gR(r,t){const i=St(r),a=t.batch.batchId;try{const l=await R2(i.localStore,t);e1(i,a,null),t1(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Yl(i,l)}catch(l){await co(l)}}async function yR(r,t,i){const a=St(r);try{const l=await(function(d,g){const _=St(d);return _.persistence.runTransaction("Reject batch","readwrite-primary",(y=>{let A;return _.mutationQueue.lookupMutationBatch(y,g).next((S=>(Ft(S!==null,37113),A=S.keys(),_.mutationQueue.removeMutationBatch(y,S)))).next((()=>_.mutationQueue.performConsistencyCheck(y))).next((()=>_.documentOverlayCache.removeOverlaysForBatchId(y,A,g))).next((()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,A))).next((()=>_.localDocuments.getDocuments(y,A)))}))})(a.localStore,t);e1(a,t,i),t1(a,t),a.sharedClientState.updateMutationState(t,"rejected",i),await Yl(a,l)}catch(l){await co(l)}}function t1(r,t){(r.mu.get(t)||[]).forEach((i=>{i.resolve()})),r.mu.delete(t)}function e1(r,t,i){const a=St(r);let l=a.Vu[a.currentUser.toKey()];if(l){const c=l.get(t);c&&(i?c.reject(i):c.resolve(),l=l.remove(t)),a.Vu[a.currentUser.toKey()]=l}}function vm(r,t,i=null){r.sharedClientState.removeLocalQueryTarget(t);for(const a of r.Iu.get(t))r.Tu.delete(a),i&&r.Pu.yu(a,i);r.Iu.delete(t),r.isPrimaryClient&&r.Ru.jr(t).forEach((a=>{r.Ru.containsKey(a)||n1(r,a)}))}function n1(r,t){r.Eu.delete(t.path.canonicalString());const i=r.du.get(t);i!==null&&($m(r.remoteStore,i),r.du=r.du.remove(t),r.Au.delete(i),sp(r))}function Kv(r,t,i){for(const a of i)a instanceof $E?(r.Ru.addReference(a.key,t),_R(r,a)):a instanceof JE?(st(ip,"Document no longer in limbo: "+a.key),r.Ru.removeReference(a.key,t),r.Ru.containsKey(a.key)||n1(r,a.key)):pt(19791,{wu:a})}function _R(r,t){const i=t.key,a=i.path.canonicalString();r.du.get(i)||r.Eu.has(a)||(st(ip,"New document in limbo: "+i),r.Eu.add(a),sp(r))}function sp(r){for(;r.Eu.size>0&&r.du.size<r.maxConcurrentLimboResolutions;){const t=r.Eu.values().next().value;r.Eu.delete(t);const i=new dt(se.fromString(t)),a=r.fu.next();r.Au.set(a,new oR(i)),r.du=r.du.insert(i,a),BE(r.remoteStore,new Qs(wi(gh(i.path)),a,"TargetPurposeLimboResolution",fh.ce))}}async function Yl(r,t,i){const a=St(r),l=[],c=[],d=[];a.Tu.isEmpty()||(a.Tu.forEach(((g,_)=>{d.push(a.pu(_,t,i).then((y=>{if((y||i)&&a.isPrimaryClient){const A=y?!y.fromCache:i?.targetChanges.get(_.targetId)?.current;a.sharedClientState.updateQueryState(_.targetId,A?"current":"not-current")}if(y){l.push(y);const A=Km.As(_.targetId,y);c.push(A)}})))})),await Promise.all(d),a.Pu.H_(l),await(async function(_,y){const A=St(_);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",(S=>$.forEach(y,(D=>$.forEach(D.Es,(F=>A.persistence.referenceDelegate.addReference(S,D.targetId,F))).next((()=>$.forEach(D.ds,(F=>A.persistence.referenceDelegate.removeReference(S,D.targetId,F)))))))))}catch(S){if(!ho(S))throw S;st(Xm,"Failed to update sequence numbers: "+S)}for(const S of y){const D=S.targetId;if(!S.fromCache){const F=A.Ms.get(D),W=F.snapshotVersion,tt=F.withLastLimboFreeSnapshotVersion(W);A.Ms=A.Ms.insert(D,tt)}}})(a.localStore,c))}async function vR(r,t){const i=St(r);if(!i.currentUser.isEqual(t)){st(ip,"User change. New user:",t.toKey());const a=await LE(i.localStore,t);i.currentUser=t,(function(c,d){c.mu.forEach((g=>{g.forEach((_=>{_.reject(new ot(J.CANCELLED,d))}))})),c.mu.clear()})(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,a.removedBatchIds,a.addedBatchIds),await Yl(i,a.Ls)}}function ER(r,t){const i=St(r),a=i.Au.get(t);if(a&&a.hu)return kt().add(a.key);{let l=kt();const c=i.Iu.get(t);if(!c)return l;for(const d of c){const g=i.Tu.get(d);l=l.unionWith(g.view.nu)}return l}}function i1(r){const t=St(r);return t.remoteStore.remoteSyncer.applyRemoteEvent=WE.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ER.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=pR.bind(null,t),t.Pu.H_=iR.bind(null,t.eventManager),t.Pu.yu=sR.bind(null,t.eventManager),t}function TR(r){const t=St(r);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gR.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yR.bind(null,t),t}class nh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=bh(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,i){return null}Mu(t,i){return null}vu(t){return w2(this.persistence,new A2,t.initialUser,this.serializer)}Cu(t){return new UE(Ym.mi,this.serializer)}Du(t){return new O2}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nh.provider={build:()=>new nh};class AR extends nh{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,i){Ft(this.persistence.referenceDelegate instanceof th,46915);const a=this.persistence.referenceDelegate.garbageCollector;return new o2(a,t.asyncQueue,i)}Cu(t){const i=this.cacheSizeBytes!==void 0?fn.withCacheSize(this.cacheSizeBytes):fn.DEFAULT;return new UE((a=>th.mi(a,i)),this.serializer)}}class Em{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Yv(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=vR.bind(null,this.syncEngine),await tR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new nR})()}createDatastore(t){const i=bh(t.databaseInfo.databaseId),a=(function(c){return new L2(c)})(t.databaseInfo);return(function(c,d,g,_){return new B2(c,d,g,_)})(t.authCredentials,t.appCheckCredentials,a,i)}createRemoteStore(t){return(function(a,l,c,d,g){return new H2(a,l,c,d,g)})(this.localStore,this.datastore,t.asyncQueue,(i=>Yv(this.syncEngine,i,0)),(function(){return Bv.v()?new Bv:new M2})())}createSyncEngine(t,i){return(function(l,c,d,g,_,y,A){const S=new lR(l,c,d,g,_,y);return A&&(S.gu=!0),S})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){await(async function(i){const a=St(i);st(Kr,"RemoteStore shutting down."),a.Ea.add(5),await Ql(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Em.provider={build:()=>new Em};class s1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ns("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,i){setTimeout((()=>{this.muted||t(i)}),0)}}const ar="FirestoreClient";class bR{constructor(t,i,a,l,c){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=l,this.user=Ze.UNAUTHENTICATED,this.clientId=Vm.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(a,(async d=>{st(ar,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d})),this.appCheckCredentials.start(a,(d=>(st(ar,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Zs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const a=ep(i,"Failed to shutdown persistence");t.reject(a)}})),t.promise}}async function $d(r,t){r.asyncQueue.verifyOperationInProgress(),st(ar,"Initializing OfflineComponentProvider");const i=r.configuration;await t.initialize(i);let a=i.initialUser;r.setCredentialChangeListener((async l=>{a.isEqual(l)||(await LE(t.localStore,l),a=l)})),t.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=t}async function Xv(r,t){r.asyncQueue.verifyOperationInProgress();const i=await SR(r);st(ar,"Initializing OnlineComponentProvider"),await t.initialize(i,r.configuration),r.setCredentialChangeListener((a=>Hv(t.remoteStore,a))),r.setAppCheckTokenChangeListener(((a,l)=>Hv(t.remoteStore,l))),r._onlineComponents=t}async function SR(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){st(ar,"Using user provided OfflineComponentProvider");try{await $d(r,r._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!(function(l){return l.name==="FirebaseError"?l.code===J.FAILED_PRECONDITION||l.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11})(i))throw i;Wa("Error using user provided cache. Falling back to memory cache: "+i),await $d(r,new nh)}}else st(ar,"Using default OfflineComponentProvider"),await $d(r,new AR(void 0));return r._offlineComponents}async function r1(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(st(ar,"Using user provided OnlineComponentProvider"),await Xv(r,r._uninitializedComponentsProvider._online)):(st(ar,"Using default OnlineComponentProvider"),await Xv(r,new Em))),r._onlineComponents}function wR(r){return r1(r).then((t=>t.syncEngine))}async function Tm(r){const t=await r1(r),i=t.eventManager;return i.onListen=uR.bind(null,t.syncEngine),i.onUnlisten=fR.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=cR.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=dR.bind(null,t.syncEngine),i}function RR(r,t,i={}){const a=new Zs;return r.asyncQueue.enqueueAndForget((async()=>(function(c,d,g,_,y){const A=new s1({next:D=>{A.Nu(),d.enqueueAndForget((()=>KE(c,S)));const F=D.docs.has(g);!F&&D.fromCache?y.reject(new ot(J.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&D.fromCache&&_&&_.source==="server"?y.reject(new ot(J.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(D)},error:D=>y.reject(D)}),S=new XE(gh(g.path),A,{includeMetadataChanges:!0,qa:!0});return YE(c,S)})(await Tm(r),r.asyncQueue,t,i,a))),a.promise}function a1(r){const t={};return r.timeoutSeconds!==void 0&&(t.timeoutSeconds=r.timeoutSeconds),t}const $v=new Map;const o1="firestore.googleapis.com",Jv=!0;class Zv{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ot(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=o1,this.ssl=Jv}else this.host=t.host,this.ssl=t.ssl??Jv;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=kE;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<r2)throw new ot(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}HS("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=a1(t.experimentalLongPollingOptions??{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ot(J.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(a,l){return a.timeoutSeconds===l.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Rh{constructor(t,i,a,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=a,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ot(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(a){if(!a)return new MS;switch(a.type){case"firstParty":return new LS(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new ot(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(i){const a=$v.get(i);a&&(st("ComponentProvider","Removing Datastore"),$v.delete(i),a.terminate())})(this),Promise.resolve()}}function CR(r,t,i,a={}){r=Bn(r,Rh);const l=oo(t),c=r._getSettings(),d={...c,emulatorOptions:r._getEmulatorOptions()},g=`${t}:${i}`;l&&(O0(`https://${g}`),M0("Firestore",!0)),c.host!==o1&&c.host!==g&&Wa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...c,host:g,ssl:l,emulatorOptions:a};if(!ts(_,d)&&(r._setSettings(_),a.mockUserToken)){let y,A;if(typeof a.mockUserToken=="string")y=a.mockUserToken,A=Ze.MOCK_USER;else{y=sb(a.mockUserToken,r._app?.options.projectId);const S=a.mockUserToken.sub||a.mockUserToken.user_id;if(!S)throw new ot(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ze(S)}r._authCredentials=new VS(new Y0(y,A))}}class Ch{constructor(t,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=t}withConverter(t){return new Ch(this.firestore,t,this._query)}}class _e{constructor(t,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ws(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new _e(this.firestore,t,this._key)}toJSON(){return{type:_e._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,i,a){if(Hl(i,_e._jsonSchema))return new _e(t,a||null,new dt(se.fromString(i.referencePath)))}}_e._jsonSchemaVersion="firestore/documentReference/1.0",_e._jsonSchema={type:Ie("string",_e._jsonSchemaVersion),referencePath:Ie("string")};class Ws extends Ch{constructor(t,i,a){super(t,i,gh(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new _e(this.firestore,null,new dt(t))}withConverter(t){return new Ws(this.firestore,t,this._path)}}function Wv(r,t,...i){if(r=Ke(r),K0("collection","path",t),r instanceof Rh){const a=se.fromString(t,...i);return fv(a),new Ws(r,null,a)}{if(!(r instanceof _e||r instanceof Ws))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return fv(a),new Ws(r.firestore,null,a)}}function Ge(r,t,...i){if(r=Ke(r),arguments.length===1&&(t=Vm.newId()),K0("doc","path",t),r instanceof Rh){const a=se.fromString(t,...i);return hv(a),new _e(r,null,new dt(a))}{if(!(r instanceof _e||r instanceof Ws))throw new ot(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=r._path.child(se.fromString(t,...i));return hv(a),new _e(r.firestore,r instanceof Ws?r.converter:null,new dt(a))}}const t0="AsyncQueue";class e0{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new jE(this,"async_queue_retry"),this._c=()=>{const a=Xd();a&&st(t0,"Visibility state changed to "+a.visibilityState),this.M_.w_()},this.ac=t;const i=Xd();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const i=Xd();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const i=new Zs;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(i.resolve,i.reject),i.promise))).then((()=>i.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!ho(t))throw t;st(t0,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const i=this.ac.then((()=>(this.rc=!0,t().catch((a=>{throw this.nc=a,this.rc=!1,ns("INTERNAL UNHANDLED ERROR: ",n0(a)),a})).then((a=>(this.rc=!1,a))))));return this.ac=i,i}enqueueAfterDelay(t,i,a){this.uc(),this.oc.indexOf(t)>-1&&(i=0);const l=tp.createAndSchedule(this,t,i,a,(c=>this.hc(c)));return this.tc.push(l),l}uc(){this.nc&&pt(47125,{Pc:n0(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const i of this.tc)if(i.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((i,a)=>i.targetTimeMs-a.targetTimeMs));for(const i of this.tc)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const i=this.tc.indexOf(t);this.tc.splice(i,1)}}function n0(r){let t=r.message||"";return r.stack&&(t=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),t}function i0(r){return(function(i,a){if(typeof i!="object"||i===null)return!1;const l=i;for(const c of a)if(c in l&&typeof l[c]=="function")return!0;return!1})(r,["next","error","complete"])}class or extends Rh{constructor(t,i,a,l){super(t,i,a,l),this.type="firestore",this._queue=new e0,this._persistenceKey=l?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new e0(t),this._firestoreClient=void 0,await t}}}function xR(r,t){const i=typeof r=="object"?r:L0(),a=typeof r=="string"?r:Kc,l=Om(i,"firestore").getImmediate({identifier:a});if(!l._initialized){const c=nb("firestore");c&&CR(l,...c)}return l}function xh(r){if(r._terminated)throw new ot(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||IR(r),r._firestoreClient}function IR(r){const t=r._freezeSettings(),i=(function(l,c,d,g){return new tw(l,c,d,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,a1(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(r._databaseId,r._app?.options.appId||"",r._persistenceKey,t);r._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),r._firestoreClient=new bR(r._authCredentials,r._appCheckCredentials,r._queue,i,r._componentsProvider&&(function(l){const c=l?._online.build();return{_offline:l?._offline.build(c),_online:c}})(r._componentsProvider))}class zn{constructor(t){this._byteString=t}static fromBase64String(t){try{return new zn(Xe.fromBase64String(t))}catch(i){throw new ot(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new zn(Xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:zn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(Hl(t,zn._jsonSchema))return zn.fromBase64String(t.bytes)}}zn._jsonSchemaVersion="firestore/bytes/1.0",zn._jsonSchema={type:Ie("string",zn._jsonSchemaVersion),bytes:Ie("string")};class Kl{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ot(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ye(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class mo{constructor(t){this._methodName=t}}class Ci{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ot(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ot(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Vt(this._lat,t._lat)||Vt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Ci._jsonSchemaVersion}}static fromJSON(t){if(Hl(t,Ci._jsonSchema))return new Ci(t.latitude,t.longitude)}}Ci._jsonSchemaVersion="firestore/geoPoint/1.0",Ci._jsonSchema={type:Ie("string",Ci._jsonSchemaVersion),latitude:Ie("number"),longitude:Ie("number")};class xi{constructor(t){this._values=(t||[]).map((i=>i))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(a,l){if(a.length!==l.length)return!1;for(let c=0;c<a.length;++c)if(a[c]!==l[c])return!1;return!0})(this._values,t._values)}toJSON(){return{type:xi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(Hl(t,xi._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((i=>typeof i=="number")))return new xi(t.vectorValues);throw new ot(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}xi._jsonSchemaVersion="firestore/vectorValue/1.0",xi._jsonSchema={type:Ie("string",xi._jsonSchemaVersion),vectorValues:Ie("object")};const NR=/^__.*__$/;class DR{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return this.fieldMask!==null?new cr(t,this.data,this.fieldMask,i,this.fieldTransforms):new Fl(t,this.data,i,this.fieldTransforms)}}class l1{constructor(t,i,a){this.data=t,this.fieldMask=i,this.fieldTransforms=a}toMutation(t,i){return new cr(t,this.data,this.fieldMask,i,this.fieldTransforms)}}function u1(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pt(40011,{Ac:r})}}class Ih{constructor(t,i,a,l,c,d){this.settings=t,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=l,c===void 0&&this.Rc(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Ih({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.gc(t),a}yc(t){const i=this.path?.child(t),a=this.Vc({path:i,fc:!1});return a.Rc(),a}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return ih(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((i=>t.isPrefixOf(i)))!==void 0||this.fieldTransforms.find((i=>t.isPrefixOf(i.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(u1(this.Ac)&&NR.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class OR{constructor(t,i,a){this.databaseId=t,this.ignoreUndefinedProperties=i,this.serializer=a||bh(t)}Cc(t,i,a,l=!1){return new Ih({Ac:t,methodName:i,Dc:a,path:Ye.emptyPath(),fc:!1,bc:l},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function rp(r){const t=r._freezeSettings(),i=bh(r._databaseId);return new OR(r._databaseId,!!t.ignoreUndefinedProperties,i)}function c1(r,t,i,a,l,c={}){const d=r.Cc(c.merge||c.mergeFields?2:0,t,i,l);up("Data must be an object, but it was:",d,a);const g=m1(a,d);let _,y;if(c.merge)_=new wn(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const A=[];for(const S of c.mergeFields){const D=Am(t,S,i);if(!d.contains(D))throw new ot(J.INVALID_ARGUMENT,`Field '${D}' is specified in your field mask but missing from your input data.`);g1(A,D)||A.push(D)}_=new wn(A),y=d.fieldTransforms.filter((S=>_.covers(S.field)))}else _=null,y=d.fieldTransforms;return new DR(new dn(g),_,y)}class Nh extends mo{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Nh}}function h1(r,t,i){return new Ih({Ac:3,Dc:t.settings.Dc,methodName:r._methodName,fc:i},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class ap extends mo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=h1(this,t,!0),a=this.vc.map((c=>po(c,i))),l=new io(a);return new qm(t.path,l)}isEqual(t){return t instanceof ap&&ts(this.vc,t.vc)}}class op extends mo{constructor(t,i){super(t),this.vc=i}_toFieldTransform(t){const i=h1(this,t,!0),a=this.vc.map((c=>po(c,i))),l=new so(a);return new qm(t.path,l)}isEqual(t){return t instanceof op&&ts(this.vc,t.vc)}}class lp extends mo{constructor(t,i){super(t),this.Fc=i}_toFieldTransform(t){const i=new jl(t.serializer,_E(t.serializer,this.Fc));return new qm(t.path,i)}isEqual(t){return t instanceof lp&&this.Fc===t.Fc}}function f1(r,t,i,a){const l=r.Cc(1,t,i);up("Data must be an object, but it was:",l,a);const c=[],d=dn.empty();ur(a,((_,y)=>{const A=cp(t,_,i);y=Ke(y);const S=l.yc(A);if(y instanceof Nh)c.push(A);else{const D=po(y,S);D!=null&&(c.push(A),d.set(A,D))}}));const g=new wn(c);return new l1(d,g,l.fieldTransforms)}function d1(r,t,i,a,l,c){const d=r.Cc(1,t,i),g=[Am(t,a,i)],_=[l];if(c.length%2!=0)throw new ot(J.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let D=0;D<c.length;D+=2)g.push(Am(t,c[D])),_.push(c[D+1]);const y=[],A=dn.empty();for(let D=g.length-1;D>=0;--D)if(!g1(y,g[D])){const F=g[D];let W=_[D];W=Ke(W);const tt=d.yc(F);if(W instanceof Nh)y.push(F);else{const Z=po(W,tt);Z!=null&&(y.push(F),A.set(F,Z))}}const S=new wn(y);return new l1(A,S,d.fieldTransforms)}function po(r,t){if(p1(r=Ke(r)))return up("Unsupported field value:",t,r),m1(r,t);if(r instanceof mo)return(function(a,l){if(!u1(l.Ac))throw l.Sc(`${a._methodName}() can only be used with update() and set()`);if(!l.path)throw l.Sc(`${a._methodName}() is not currently supported inside arrays`);const c=a._toFieldTransform(l);c&&l.fieldTransforms.push(c)})(r,t),null;if(r===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),r instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(a,l){const c=[];let d=0;for(const g of a){let _=po(g,l.wc(d));_==null&&(_={nullValue:"NULL_VALUE"}),c.push(_),d++}return{arrayValue:{values:c}}})(r,t)}return(function(a,l){if((a=Ke(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return _E(l.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const c=re.fromDate(a);return{timestampValue:Wc(l.serializer,c)}}if(a instanceof re){const c=new re(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Wc(l.serializer,c)}}if(a instanceof Ci)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof zn)return{bytesValue:xE(l.serializer,a._byteString)};if(a instanceof _e){const c=l.databaseId,d=a.firestore._databaseId;if(!d.isEqual(c))throw l.Sc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Gm(a.firestore._databaseId||l.databaseId,a._key.path)}}if(a instanceof xi)return(function(d,g){return{mapValue:{fields:{[iE]:{stringValue:sE},[Xc]:{arrayValue:{values:d.toArray().map((y=>{if(typeof y!="number")throw g.Sc("VectorValues must only contain numeric values.");return Bm(g.serializer,y)}))}}}}}})(a,l);throw l.Sc(`Unsupported field value: ${km(a)}`)})(r,t)}function m1(r,t){const i={};return J0(r)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ur(r,((a,l)=>{const c=po(l,t.mc(a));c!=null&&(i[a]=c)})),{mapValue:{fields:i}}}function p1(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof re||r instanceof Ci||r instanceof zn||r instanceof _e||r instanceof mo||r instanceof xi)}function up(r,t,i){if(!p1(i)||!X0(i)){const a=km(i);throw a==="an object"?t.Sc(r+" a custom object"):t.Sc(r+" "+a)}}function Am(r,t,i){if((t=Ke(t))instanceof Kl)return t._internalPath;if(typeof t=="string")return cp(r,t);throw ih("Field path arguments must be of type string or ",r,!1,void 0,i)}const MR=new RegExp("[~\\*/\\[\\]]");function cp(r,t,i){if(t.search(MR)>=0)throw ih(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,i);try{return new Kl(...t.split("."))._internalPath}catch{throw ih(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,i)}}function ih(r,t,i,a,l){const c=a&&!a.isEmpty(),d=l!==void 0;let g=`Function ${t}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(c||d)&&(_+=" (found",c&&(_+=` in field ${a}`),d&&(_+=` in document ${l}`),_+=")"),new ot(J.INVALID_ARGUMENT,g+r+_)}function g1(r,t){return r.some((i=>i.isEqual(t)))}class y1{constructor(t,i,a,l,c){this._firestore=t,this._userDataWriter=i,this._key=a,this._document=l,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new _e(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new VR(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(_1("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class VR extends y1{data(){return super.data()}}function _1(r,t){return typeof t=="string"?cp(r,t):t instanceof Kl?t._internalPath:t._delegate._internalPath}function kR(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new ot(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class UR{convertValue(t,i="none"){switch(sr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ye(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(ir(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw pt(62114,{value:t})}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const a={};return ur(t,((l,c)=>{a[l]=this.convertValue(c,i)})),a}convertVectorValue(t){const i=t.fields?.[Xc].arrayValue?.values?.map((a=>ye(a.doubleValue)));return new xi(i)}convertGeoPoint(t){return new Ci(ye(t.latitude),ye(t.longitude))}convertArray(t,i){return(t.values||[]).map((a=>this.convertValue(a,i)))}convertServerTimestamp(t,i){switch(i){case"previous":const a=mh(t);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Ul(t));default:return null}}convertTimestamp(t){const i=nr(t);return new re(i.seconds,i.nanos)}convertDocumentKey(t,i){const a=se.fromString(t);Ft(VE(a),9688,{name:t});const l=new Ll(a.get(1),a.get(3)),c=new dt(a.popFirst(5));return l.isEqual(i)||ns(`Document ${c} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),c}}function v1(r,t,i){let a;return a=r?i&&(i.merge||i.mergeFields)?r.toFirestore(t,i):r.toFirestore(t):t,a}class Rl{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Fr extends y1{constructor(t,i,a,l,c,d){super(t,i,a,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=c}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new jc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const a=this._document.data.field(_1("DocumentSnapshot.get",t));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,i={};return i.type=Fr._jsonSchemaVersion,i.bundle="",i.bundleSource="DocumentSnapshot",i.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?i:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),i.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),i)}}Fr._jsonSchemaVersion="firestore/documentSnapshot/1.0",Fr._jsonSchema={type:Ie("string",Fr._jsonSchemaVersion),bundleSource:Ie("string","DocumentSnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class jc extends Fr{data(t={}){return super.data(t)}}class Ka{constructor(t,i,a,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new Rl(l.hasPendingWrites,l.fromCache),this.query=a}get docs(){const t=[];return this.forEach((i=>t.push(i))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach((a=>{t.call(i,new jc(this._firestore,this._userDataWriter,a.key,a,new Rl(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ot(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=(function(l,c){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map((g=>{const _=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}}))}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter((g=>c||g.type!==3)).map((g=>{const _=new jc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new Rl(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let y=-1,A=-1;return g.type!==0&&(y=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:LR(g.type),doc:_,oldIndex:y,newIndex:A}}))}})(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Ka._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Vm.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const i=[],a=[],l=[];return this.docs.forEach((c=>{c._document!==null&&(i.push(c._document),a.push(this._userDataWriter.convertObjectMap(c._document.data.value.mapValue.fields,"previous")),l.push(c.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function LR(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pt(61501,{type:r})}}function s0(r){r=Bn(r,_e);const t=Bn(r.firestore,or);return RR(xh(t),r._key).then((i=>T1(t,r,i)))}Ka._jsonSchemaVersion="firestore/querySnapshot/1.0",Ka._jsonSchema={type:Ie("string",Ka._jsonSchemaVersion),bundleSource:Ie("string","QuerySnapshot"),bundleName:Ie("string"),bundle:Ie("string")};class E1 extends UR{constructor(t){super(),this.firestore=t}convertBytes(t){return new zn(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new _e(this.firestore,null,i)}}function zc(r,t,i){r=Bn(r,_e);const a=Bn(r.firestore,or),l=v1(r.converter,t,i);return Dh(a,[c1(rp(a),"setDoc",r._key,l,r.converter!==null,i).toMutation(r._key,mn.none())])}function jn(r,t,i,...a){r=Bn(r,_e);const l=Bn(r.firestore,or),c=rp(l);let d;return d=typeof(t=Ke(t))=="string"||t instanceof Kl?d1(c,"updateDoc",r._key,t,i,a):f1(c,"updateDoc",r._key,t),Dh(l,[d.toMutation(r._key,mn.exists(!0))])}function PR(r){return Dh(Bn(r.firestore,or),[new Th(r._key,mn.none())])}function r0(r,...t){r=Ke(r);let i={includeMetadataChanges:!1,source:"default"},a=0;typeof t[a]!="object"||i0(t[a])||(i=t[a++]);const l={includeMetadataChanges:i.includeMetadataChanges,source:i.source};if(i0(t[a])){const _=t[a];t[a]=_.next?.bind(_),t[a+1]=_.error?.bind(_),t[a+2]=_.complete?.bind(_)}let c,d,g;if(r instanceof _e)d=Bn(r.firestore,or),g=gh(r._key.path),c={next:_=>{t[a]&&t[a](T1(d,r,_))},error:t[a+1],complete:t[a+2]};else{const _=Bn(r,Ch);d=Bn(_.firestore,or),g=_._query;const y=new E1(d);c={next:A=>{t[a]&&t[a](new Ka(d,y,_,A))},error:t[a+1],complete:t[a+2]},kR(r._query)}return(function(y,A,S,D){const F=new s1(D),W=new XE(A,F,S);return y.asyncQueue.enqueueAndForget((async()=>YE(await Tm(y),W))),()=>{F.Nu(),y.asyncQueue.enqueueAndForget((async()=>KE(await Tm(y),W)))}})(xh(d),g,l,c)}function Dh(r,t){return(function(a,l){const c=new Zs;return a.asyncQueue.enqueueAndForget((async()=>mR(await wR(a),l,c))),c.promise})(xh(r),t)}function T1(r,t,i){const a=i.docs.get(t._key),l=new E1(r);return new Fr(r,l,t._key,a,new Rl(i.hasPendingWrites,i.fromCache),t.converter)}class jR{constructor(t,i){this._firestore=t,this._commitHandler=i,this._mutations=[],this._committed=!1,this._dataReader=rp(t)}set(t,i,a){this._verifyNotCommitted();const l=Jd(t,this._firestore),c=v1(l.converter,i,a),d=c1(this._dataReader,"WriteBatch.set",l._key,c,l.converter!==null,a);return this._mutations.push(d.toMutation(l._key,mn.none())),this}update(t,i,a,...l){this._verifyNotCommitted();const c=Jd(t,this._firestore);let d;return d=typeof(i=Ke(i))=="string"||i instanceof Kl?d1(this._dataReader,"WriteBatch.update",c._key,i,a,l):f1(this._dataReader,"WriteBatch.update",c._key,i),this._mutations.push(d.toMutation(c._key,mn.exists(!0))),this}delete(t){this._verifyNotCommitted();const i=Jd(t,this._firestore);return this._mutations=this._mutations.concat(new Th(i._key,mn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(J.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jd(r,t){if((r=Ke(r)).firestore!==t)throw new ot(J.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return r}function zR(...r){return new ap("arrayUnion",r)}function sh(...r){return new op("arrayRemove",r)}function Ys(r){return new lp("increment",r)}function BR(r){return xh(r=Bn(r,or)),new jR(r,(t=>Dh(r,t)))}(function(t,i=!0){(function(l){uo=l})(lo),Za(new Qr("firestore",((a,{instanceIdentifier:l,options:c})=>{const d=a.getProvider("app").getImmediate(),g=new or(new kS(a.getProvider("auth-internal")),new PS(d,a.getProvider("app-check-internal")),(function(y,A){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new ot(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ll(y.options.projectId,A)})(d,l),d);return c={useFetchStreams:i,...c},g._setSettings(c),g}),"PUBLIC").setMultipleInstances(!0)),$s(ov,lv,t),$s(ov,lv,"esm2020")})();function A1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qR=A1,b1=new Bl("auth","Firebase",A1());const rh=new Nm("@firebase/auth");function HR(r,...t){rh.logLevel<=Mt.WARN&&rh.warn(`Auth (${lo}): ${r}`,...t)}function Bc(r,...t){rh.logLevel<=Mt.ERROR&&rh.error(`Auth (${lo}): ${r}`,...t)}function ss(r,...t){throw hp(r,...t)}function Ii(r,...t){return hp(r,...t)}function S1(r,t,i){const a={...qR(),[t]:i};return new Bl("auth","Firebase",a).create(t,{appName:r.name})}function tr(r){return S1(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function hp(r,...t){if(typeof r!="string"){const i=t[0],a=[...t.slice(1)];return a[0]&&(a[0].appName=r.name),r._errorFactory.create(i,...a)}return b1.create(r,...t)}function _t(r,t,...i){if(!r)throw hp(t,...i)}function Zi(r){const t="INTERNAL ASSERTION FAILED: "+r;throw Bc(t),new Error(t)}function rs(r,t){r||Zi(t)}function bm(){return typeof self<"u"&&self.location?.href||""}function FR(){return a0()==="http:"||a0()==="https:"}function a0(){return typeof self<"u"&&self.location?.protocol||null}function GR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FR()||cb()||"connection"in navigator)?navigator.onLine:!0}function QR(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Xl{constructor(t,i){this.shortDelay=t,this.longDelay=i,rs(i>t,"Short delay should be less than long delay!"),this.isMobile=ob()||hb()}get(){return GR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function fp(r,t){rs(r.emulator,"Emulator should always be set here");const{url:i}=r.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}class w1{static initialize(t,i,a){this.fetchImpl=t,i&&(this.headersImpl=i),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const YR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const KR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XR=new Xl(3e4,6e4);function Oh(r,t){return r.tenantId&&!t.tenantId?{...t,tenantId:r.tenantId}:t}async function go(r,t,i,a,l={}){return R1(r,l,async()=>{let c={},d={};a&&(t==="GET"?d=a:c={body:JSON.stringify(a)});const g=ql({key:r.config.apiKey,...d}).slice(1),_=await r._getAdditionalHeaders();_["Content-Type"]="application/json",r.languageCode&&(_["X-Firebase-Locale"]=r.languageCode);const y={method:t,headers:_,...c};return ub()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&oo(r.emulatorConfig.host)&&(y.credentials="include"),w1.fetch()(await x1(r,r.config.apiHost,i,g),y)})}async function R1(r,t,i){r._canInitEmulator=!1;const a={...YR,...t};try{const l=new $R(r),c=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw Oc(r,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const g=c.ok?d.errorMessage:d.error.message,[_,y]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Oc(r,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Oc(r,"email-already-in-use",d);if(_==="USER_DISABLED")throw Oc(r,"user-disabled",d);const A=a[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw S1(r,A,y);ss(r,A)}}catch(l){if(l instanceof as)throw l;ss(r,"network-request-failed",{message:String(l)})}}async function C1(r,t,i,a,l={}){const c=await go(r,t,i,a,l);return"mfaPendingCredential"in c&&ss(r,"multi-factor-auth-required",{_serverResponse:c}),c}async function x1(r,t,i,a){const l=`${t}${i}?${a}`,c=r,d=c.config.emulator?fp(r.config,l):`${r.config.apiScheme}://${l}`;return KR.includes(i)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class $R{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,a)=>{this.timer=setTimeout(()=>a(Ii(this.auth,"network-request-failed")),XR.get())})}}function Oc(r,t,i){const a={appName:r.name};i.email&&(a.email=i.email),i.phoneNumber&&(a.phoneNumber=i.phoneNumber);const l=Ii(r,t,a);return l.customData._tokenResponse=i,l}async function JR(r,t){return go(r,"POST","/v1/accounts:delete",t)}async function ah(r,t){return go(r,"POST","/v1/accounts:lookup",t)}function Ml(r){if(r)try{const t=new Date(Number(r));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZR(r,t=!1){const i=Ke(r),a=await i.getIdToken(t),l=dp(a);_t(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const c=typeof l.firebase=="object"?l.firebase:void 0,d=c?.sign_in_provider;return{claims:l,token:a,authTime:Ml(Zd(l.auth_time)),issuedAtTime:Ml(Zd(l.iat)),expirationTime:Ml(Zd(l.exp)),signInProvider:d||null,signInSecondFactor:c?.sign_in_second_factor||null}}function Zd(r){return Number(r)*1e3}function dp(r){const[t,i,a]=r.split(".");if(t===void 0||i===void 0||a===void 0)return Bc("JWT malformed, contained fewer than 3 sections"),null;try{const l=x0(i);return l?JSON.parse(l):(Bc("Failed to decode base64 JWT payload"),null)}catch(l){return Bc("Caught error parsing JWT payload as JSON",l?.toString()),null}}function o0(r){const t=dp(r);return _t(t,"internal-error"),_t(typeof t.exp<"u","internal-error"),_t(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function zl(r,t,i=!1){if(i)return t;try{return await t}catch(a){throw a instanceof as&&WR(a)&&r.auth.currentUser===r&&await r.auth.signOut(),a}}function WR({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class tC{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const a=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,a)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Sm{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ml(this.lastLoginAt),this.creationTime=Ml(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function oh(r){const t=r.auth,i=await r.getIdToken(),a=await zl(r,ah(t,{idToken:i}));_t(a?.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const c=l.providerUserInfo?.length?I1(l.providerUserInfo):[],d=nC(r.providerData,c),g=r.isAnonymous,_=!(r.email&&l.passwordHash)&&!d?.length,y=g?_:!1,A={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:d,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:y};Object.assign(r,A)}async function eC(r){const t=Ke(r);await oh(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nC(r,t){return[...r.filter(a=>!t.some(l=>l.providerId===a.providerId)),...t]}function I1(r){return r.map(({providerId:t,...i})=>({providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}))}async function iC(r,t){const i=await R1(r,{},async()=>{const a=ql({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:c}=r.config,d=await x1(r,l,"/v1/token",`key=${c}`),g=await r._getAdditionalHeaders();g["Content-Type"]="application/x-www-form-urlencoded";const _={method:"POST",headers:g,body:a};return r.emulatorConfig&&oo(r.emulatorConfig.host)&&(_.credentials="include"),w1.fetch()(d,_)});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function sC(r,t){return go(r,"POST","/v2/accounts:revokeToken",Oh(r,t))}class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){_t(t.idToken,"internal-error"),_t(typeof t.idToken<"u","internal-error"),_t(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):o0(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){_t(t.length!==0,"internal-error");const i=o0(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(_t(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:a,refreshToken:l,expiresIn:c}=await iC(t,i);this.updateTokensAndExpiration(a,l,Number(c))}updateTokensAndExpiration(t,i,a){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(t,i){const{refreshToken:a,accessToken:l,expirationTime:c}=i,d=new Xa;return a&&(_t(typeof a=="string","internal-error",{appName:t}),d.refreshToken=a),l&&(_t(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),c&&(_t(typeof c=="number","internal-error",{appName:t}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return Zi("not implemented")}}function zs(r,t){_t(typeof r=="string"||typeof r>"u","internal-error",{appName:t})}class ei{constructor({uid:t,auth:i,stsTokenManager:a,...l}){this.providerId="firebase",this.proactiveRefresh=new tC(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new Sm(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(t){const i=await zl(this,this.stsTokenManager.getToken(this.auth,t));return _t(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return ZR(this,t)}reload(){return eC(this)}_assign(t){this!==t&&(_t(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>({...i})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ei({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return i.metadata._copy(this.metadata),i}_onReload(t){_t(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let a=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),a=!0),i&&await oh(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(tr(this.auth));const t=await this.getIdToken();return await zl(this,JR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){const a=i.displayName??void 0,l=i.email??void 0,c=i.phoneNumber??void 0,d=i.photoURL??void 0,g=i.tenantId??void 0,_=i._redirectEventId??void 0,y=i.createdAt??void 0,A=i.lastLoginAt??void 0,{uid:S,emailVerified:D,isAnonymous:F,providerData:W,stsTokenManager:tt}=i;_t(S&&tt,t,"internal-error");const Z=Xa.fromJSON(this.name,tt);_t(typeof S=="string",t,"internal-error"),zs(a,t.name),zs(l,t.name),_t(typeof D=="boolean",t,"internal-error"),_t(typeof F=="boolean",t,"internal-error"),zs(c,t.name),zs(d,t.name),zs(g,t.name),zs(_,t.name),zs(y,t.name),zs(A,t.name);const ut=new ei({uid:S,auth:t,email:l,emailVerified:D,displayName:a,isAnonymous:F,photoURL:d,phoneNumber:c,tenantId:g,stsTokenManager:Z,createdAt:y,lastLoginAt:A});return W&&Array.isArray(W)&&(ut.providerData=W.map(gt=>({...gt}))),_&&(ut._redirectEventId=_),ut}static async _fromIdTokenResponse(t,i,a=!1){const l=new Xa;l.updateFromServerResponse(i);const c=new ei({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:a});return await oh(c),c}static async _fromGetAccountInfoResponse(t,i,a){const l=i.users[0];_t(l.localId!==void 0,"internal-error");const c=l.providerUserInfo!==void 0?I1(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!c?.length,g=new Xa;g.updateFromIdToken(a);const _=new ei({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),y={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:c,metadata:new Sm(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!c?.length};return Object.assign(_,y),_}}const l0=new Map;function Wi(r){rs(r instanceof Function,"Expected a class definition");let t=l0.get(r);return t?(rs(t instanceof r,"Instance stored in cache mismatched with class"),t):(t=new r,l0.set(r,t),t)}class N1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}N1.type="NONE";const u0=N1;function qc(r,t,i){return`firebase:${r}:${t}:${i}`}class $a{constructor(t,i,a){this.persistence=t,this.auth=i,this.userKey=a;const{config:l,name:c}=this.auth;this.fullUserKey=qc(this.userKey,l.apiKey,c),this.fullPersistenceKey=qc("persistence",l.apiKey,c),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const i=await ah(this.auth,{idToken:t}).catch(()=>{});return i?ei._fromGetAccountInfoResponse(this.auth,i,t):null}return ei._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,a="authUser"){if(!i.length)return new $a(Wi(u0),t,a);const l=(await Promise.all(i.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=l[0]||Wi(u0);const d=qc(a,t.config.apiKey,t.name);let g=null;for(const y of i)try{const A=await y._get(d);if(A){let S;if(typeof A=="string"){const D=await ah(t,{idToken:A}).catch(()=>{});if(!D)break;S=await ei._fromGetAccountInfoResponse(t,D,A)}else S=ei._fromJSON(t,A);y!==c&&(g=S),c=y;break}}catch{}const _=l.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!_.length?new $a(c,t,a):(c=_[0],g&&await c._set(d,g.toJSON()),await Promise.all(i.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new $a(c,t,a))}}function c0(r){const t=r.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(D1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(U1(t))return"Blackberry";if(L1(t))return"Webos";if(O1(t))return"Safari";if((t.includes("chrome/")||M1(t))&&!t.includes("edge/"))return"Chrome";if(k1(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=r.match(i);if(a?.length===2)return a[1]}return"Other"}function D1(r=tn()){return/firefox\//i.test(r)}function O1(r=tn()){const t=r.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function M1(r=tn()){return/crios\//i.test(r)}function V1(r=tn()){return/iemobile/i.test(r)}function k1(r=tn()){return/android/i.test(r)}function U1(r=tn()){return/blackberry/i.test(r)}function L1(r=tn()){return/webos/i.test(r)}function mp(r=tn()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function rC(r=tn()){return mp(r)&&!!window.navigator?.standalone}function aC(){return fb()&&document.documentMode===10}function P1(r=tn()){return mp(r)||k1(r)||L1(r)||U1(r)||/windows phone/i.test(r)||V1(r)}function j1(r,t=[]){let i;switch(r){case"Browser":i=c0(tn());break;case"Worker":i=`${c0(tn())}-${r}`;break;default:i=r}const a=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${lo}/${a}`}class oC{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const a=c=>new Promise((d,g)=>{try{const _=t(c);d(_)}catch(_){g(_)}});a.onAbort=i,this.queue.push(a);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const a of this.queue)await a(t),a.onAbort&&i.push(a.onAbort)}catch(a){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a?.message})}}}async function lC(r,t={}){return go(r,"GET","/v2/passwordPolicy",Oh(r,t))}const uC=6;class cC{constructor(t){const i=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=i.minPasswordLength??uC,i.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=i.maxPasswordLength),i.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=i.containsLowercaseCharacter),i.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=i.containsUppercaseCharacter),i.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=i.containsNumericCharacter),i.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=i.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const i={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,i),this.validatePasswordCharacterOptions(t,i),i.isValid&&(i.isValid=i.meetsMinPasswordLength??!0),i.isValid&&(i.isValid=i.meetsMaxPasswordLength??!0),i.isValid&&(i.isValid=i.containsLowercaseLetter??!0),i.isValid&&(i.isValid=i.containsUppercaseLetter??!0),i.isValid&&(i.isValid=i.containsNumericCharacter??!0),i.isValid&&(i.isValid=i.containsNonAlphanumericCharacter??!0),i}validatePasswordLengthOptions(t,i){const a=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;a&&(i.meetsMinPasswordLength=t.length>=a),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let a;for(let l=0;l<t.length;l++)a=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(t,i,a,l,c){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=c))}}class hC{constructor(t,i,a,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=a,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new h0(this),this.idTokenSubscription=new h0(this),this.beforeStateQueue=new oC(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=b1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Wi(i)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await $a.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await ah(this,{idToken:t}),a=await ei._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(a)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const c=this.app.settings.authIdToken;return c?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(c).then(d,d))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let a=i,l=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const c=this.redirectUser?._redirectEventId,d=a?._redirectEventId,g=await this.tryRedirectSignIn(t);(!c||c===d)&&g?.user&&(a=g.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(c){a=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(c))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return _t(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await oh(t)}catch(i){if(i?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=QR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(tr(this));const i=t?Ke(t):null;return i&&_t(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&_t(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(tr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(tr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lC(this),i=new cC(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Bl("auth","Firebase",t())}onAuthStateChanged(t,i,a){return this.registerStateListener(this.authStateSubscription,t,i,a)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,a){return this.registerStateListener(this.idTokenSubscription,t,i,a)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const a=this.onAuthStateChanged(()=>{a(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(a.tenantId=this.tenantId),await sC(this,a)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,i){const a=await this.getOrInitRedirectPersistenceManager(i);return t===null?a.removeCurrentUser():a.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Wi(t)||this._popupRedirectResolver;_t(i,this,"argument-error"),this.redirectPersistenceManager=await $a.create(this,[Wi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,a,l){if(this._deleted)return()=>{};const c=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(_t(g,this,"internal-error"),g.then(()=>{d||c(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,a,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return _t(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=j1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();i&&(t["X-Firebase-Client"]=i);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&HR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Mh(r){return Ke(r)}class h0{constructor(t){this.auth=t,this.observer=null,this.addObserver=Eb(i=>this.observer=i)}get next(){return _t(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fC(r){pp=r}function dC(r){return pp.loadJS(r)}function mC(){return pp.gapiScript}function pC(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function gC(r,t){const i=Om(r,"auth");if(i.isInitialized()){const l=i.getImmediate(),c=i.getOptions();if(ts(c,t??{}))return l;ss(l,"already-initialized")}return i.initialize({options:t})}function yC(r,t){const i=t?.persistence||[],a=(Array.isArray(i)?i:[i]).map(Wi);t?.errorMap&&r._updateErrorMap(t.errorMap),r._initializeWithPersistence(a,t?.popupRedirectResolver)}function _C(r,t,i){const a=Mh(r);_t(/^https?:\/\//.test(t),a,"invalid-emulator-scheme");const l=!1,c=z1(t),{host:d,port:g}=vC(t),_=g===null?"":`:${g}`,y={url:`${c}//${d}${_}/`},A=Object.freeze({host:d,port:g,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:l})});if(!a._canInitEmulator){_t(a.config.emulator&&a.emulatorConfig,a,"emulator-config-failed"),_t(ts(y,a.config.emulator)&&ts(A,a.emulatorConfig),a,"emulator-config-failed");return}a.config.emulator=y,a.emulatorConfig=A,a.settings.appVerificationDisabledForTesting=!0,oo(d)?(O0(`${c}//${d}${_}`),M0("Auth",!0)):EC()}function z1(r){const t=r.indexOf(":");return t<0?"":r.substr(0,t+1)}function vC(r){const t=z1(r),i=/(\/\/)?([^?#/]+)/.exec(r.substr(t.length));if(!i)return{host:"",port:null};const a=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(a);if(l){const c=l[1];return{host:c,port:f0(a.substr(c.length+1))}}else{const[c,d]=a.split(":");return{host:c,port:f0(d)}}}function f0(r){if(!r)return null;const t=Number(r);return isNaN(t)?null:t}function EC(){function r(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class B1{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Zi("not implemented")}_getIdTokenResponse(t){return Zi("not implemented")}_linkToIdToken(t,i){return Zi("not implemented")}_getReauthenticationResolver(t){return Zi("not implemented")}}async function Ja(r,t){return C1(r,"POST","/v1/accounts:signInWithIdp",Oh(r,t))}const TC="http://localhost";class Xr extends B1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new Xr(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ss("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:a,signInMethod:l,...c}=i;if(!a||!l)return null;const d=new Xr(a,l);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ja(t,i)}_linkToIdToken(t,i){const a=this.buildRequest();return a.idToken=i,Ja(t,a)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ja(t,i)}buildRequest(){const t={requestUri:TC,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=ql(i)}return t}}class q1{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class $l extends q1{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class qs extends $l{constructor(){super("facebook.com")}static credential(t){return Xr._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return qs.credentialFromTaggedObject(t)}static credentialFromError(t){return qs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return qs.credential(t.oauthAccessToken)}catch{return null}}}qs.FACEBOOK_SIGN_IN_METHOD="facebook.com";qs.PROVIDER_ID="facebook.com";class Hs extends $l{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return Xr._fromParams({providerId:Hs.PROVIDER_ID,signInMethod:Hs.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Hs.credentialFromTaggedObject(t)}static credentialFromError(t){return Hs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:a}=t;if(!i&&!a)return null;try{return Hs.credential(i,a)}catch{return null}}}Hs.GOOGLE_SIGN_IN_METHOD="google.com";Hs.PROVIDER_ID="google.com";class Fs extends $l{constructor(){super("github.com")}static credential(t){return Xr._fromParams({providerId:Fs.PROVIDER_ID,signInMethod:Fs.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Fs.credentialFromTaggedObject(t)}static credentialFromError(t){return Fs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Fs.credential(t.oauthAccessToken)}catch{return null}}}Fs.GITHUB_SIGN_IN_METHOD="github.com";Fs.PROVIDER_ID="github.com";class Gs extends $l{constructor(){super("twitter.com")}static credential(t,i){return Xr._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Gs.credentialFromTaggedObject(t)}static credentialFromError(t){return Gs.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:a}=t;if(!i||!a)return null;try{return Gs.credential(i,a)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";async function AC(r,t){return C1(r,"POST","/v1/accounts:signUp",Oh(r,t))}class lr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,a,l=!1){const c=await ei._fromIdTokenResponse(t,a,l),d=d0(a);return new lr({user:c,providerId:d,_tokenResponse:a,operationType:i})}static async _forOperation(t,i,a){await t._updateTokensIfNecessary(a,!0);const l=d0(a);return new lr({user:t,providerId:l,_tokenResponse:a,operationType:i})}}function d0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}async function bC(r){if(ti(r.app))return Promise.reject(tr(r));const t=Mh(r);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new lr({user:t.currentUser,providerId:null,operationType:"signIn"});const i=await AC(t,{returnSecureToken:!0}),a=await lr._fromIdTokenResponse(t,"signIn",i,!0);return await t._updateCurrentUser(a.user),a}class lh extends as{constructor(t,i,a,l){super(i.code,i.message),this.operationType=a,this.user=l,Object.setPrototypeOf(this,lh.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:i.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(t,i,a,l){return new lh(t,i,a,l)}}function H1(r,t,i,a){return(t==="reauthenticate"?i._getReauthenticationResolver(r):i._getIdTokenResponse(r)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?lh._fromErrorAndOperation(r,c,t,a):c})}async function SC(r,t,i=!1){const a=await zl(r,t._linkToIdToken(r.auth,await r.getIdToken()),i);return lr._forOperation(r,"link",a)}async function wC(r,t,i=!1){const{auth:a}=r;if(ti(a.app))return Promise.reject(tr(a));const l="reauthenticate";try{const c=await zl(r,H1(a,l,t,r),i);_t(c.idToken,a,"internal-error");const d=dp(c.idToken);_t(d,a,"internal-error");const{sub:g}=d;return _t(r.uid===g,a,"user-mismatch"),lr._forOperation(r,l,c)}catch(c){throw c?.code==="auth/user-not-found"&&ss(a,"user-mismatch"),c}}async function RC(r,t,i=!1){if(ti(r.app))return Promise.reject(tr(r));const a="signIn",l=await H1(r,a,t),c=await lr._fromIdTokenResponse(r,a,l);return i||await r._updateCurrentUser(c.user),c}function CC(r,t,i,a){return Ke(r).onIdTokenChanged(t,i,a)}function xC(r,t,i){return Ke(r).beforeAuthStateChanged(t,i)}const uh="__sak";class F1{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(uh,"1"),this.storage.removeItem(uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const IC=1e3,NC=10;class G1 extends F1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P1(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const a=this.storage.getItem(i),l=this.localCache[i];a!==l&&t(i,l,a)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const a=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(a);!i&&this.localCache[a]===d||this.notifyListeners(a,d)},c=this.storage.getItem(a);aC()&&c!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,NC):l()}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:a}),!0)})},IC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}G1.type="LOCAL";const DC=G1;class Q1 extends F1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Q1.type="SESSION";const Y1=Q1;function OC(r){return Promise.all(r.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}class Vh{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const a=new Vh(t);return this.receivers.push(a),a}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:a,eventType:l,data:c}=i.data,d=this.handlersMap[l];if(!d?.size)return;i.ports[0].postMessage({status:"ack",eventId:a,eventType:l});const g=Array.from(d).map(async y=>y(i.origin,c)),_=await OC(g);i.ports[0].postMessage({status:"done",eventId:a,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vh.receivers=[];function gp(r="",t=10){let i="";for(let a=0;a<t;a++)i+=Math.floor(Math.random()*10);return r+i}class MC{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,a=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let c,d;return new Promise((g,_)=>{const y=gp("",20);l.port1.start();const A=setTimeout(()=>{_(new Error("unsupported_event"))},a);d={messageChannel:l,onMessage(S){const D=S;if(D.data.eventId===y)switch(D.data.status){case"ack":clearTimeout(A),c=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),g(D.data.response);break;default:clearTimeout(A),clearTimeout(c),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:y,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}function Ni(){return window}function VC(r){Ni().location.href=r}function K1(){return typeof Ni().WorkerGlobalScope<"u"&&typeof Ni().importScripts=="function"}async function kC(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UC(){return navigator?.serviceWorker?.controller||null}function LC(){return K1()?self:null}const X1="firebaseLocalStorageDb",PC=1,ch="firebaseLocalStorage",$1="fbase_key";class Jl{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function kh(r,t){return r.transaction([ch],t?"readwrite":"readonly").objectStore(ch)}function jC(){const r=indexedDB.deleteDatabase(X1);return new Jl(r).toPromise()}function wm(){const r=indexedDB.open(X1,PC);return new Promise((t,i)=>{r.addEventListener("error",()=>{i(r.error)}),r.addEventListener("upgradeneeded",()=>{const a=r.result;try{a.createObjectStore(ch,{keyPath:$1})}catch(l){i(l)}}),r.addEventListener("success",async()=>{const a=r.result;a.objectStoreNames.contains(ch)?t(a):(a.close(),await jC(),t(await wm()))})})}async function m0(r,t,i){const a=kh(r,!0).put({[$1]:t,value:i});return new Jl(a).toPromise()}async function zC(r,t){const i=kh(r,!1).get(t),a=await new Jl(i).toPromise();return a===void 0?null:a.value}function p0(r,t){const i=kh(r,!0).delete(t);return new Jl(i).toPromise()}const BC=800,qC=3;class J1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await wm(),this.db)}async _withRetries(t){let i=0;for(;;)try{const a=await this._openDb();return await t(a)}catch(a){if(i++>qC)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vh._getInstance(LC()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await kC(),!this.activeServiceWorker)return;this.sender=new MC(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||UC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await wm();return await m0(t,uh,"1"),await p0(t,uh),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(a=>m0(a,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(a=>zC(a,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>p0(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const c=kh(l,!1).getAll();return new Jl(c).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],a=new Set;if(t.length!==0)for(const{fbase_key:l,value:c}of t)a.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(c)&&(this.notifyListeners(l,c),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!a.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const a=this.listeners[t];if(a)for(const l of Array.from(a))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),BC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}J1.type="LOCAL";const HC=J1;new Xl(3e4,6e4);function FC(r,t){return t?Wi(t):(_t(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class yp extends B1{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ja(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ja(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ja(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function GC(r){return RC(r.auth,new yp(r),r.bypassAuthState)}function QC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),wC(i,new yp(r),r.bypassAuthState)}async function YC(r){const{auth:t,user:i}=r;return _t(i,t,"internal-error"),SC(i,new yp(r),r.bypassAuthState)}class Z1{constructor(t,i,a,l,c=!1){this.auth=t,this.resolver=a,this.user=l,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:a,postBody:l,tenantId:c,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:a,tenantId:c||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(y){this.reject(y)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return GC;case"linkViaPopup":case"linkViaRedirect":return YC;case"reauthViaPopup":case"reauthViaRedirect":return QC;default:ss(this.auth,"internal-error")}}resolve(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){rs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const KC=new Xl(2e3,1e4);class Qa extends Z1{constructor(t,i,a,l,c){super(t,i,l,c),this.provider=a,this.authWindow=null,this.pollId=null,Qa.currentPopupAction&&Qa.currentPopupAction.cancel(),Qa.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return _t(t,this.auth,"internal-error"),t}async onExecution(){rs(this.filter.length===1,"Popup operations only handle one event");const t=gp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Qa.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,KC.get())};t()}}Qa.currentPopupAction=null;const XC="pendingRedirect",Hc=new Map;class $C extends Z1{constructor(t,i,a=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,a),this.eventId=null}async execute(){let t=Hc.get(this.auth._key());if(!t){try{const a=await JC(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(a)}catch(i){t=()=>Promise.reject(i)}Hc.set(this.auth._key(),t)}return this.bypassAuthState||Hc.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JC(r,t){const i=tx(t),a=WC(r);if(!await a._isAvailable())return!1;const l=await a._get(i)==="true";return await a._remove(i),l}function ZC(r,t){Hc.set(r._key(),t)}function WC(r){return Wi(r._redirectPersistence)}function tx(r){return qc(XC,r.config.apiKey,r.name)}async function ex(r,t,i=!1){if(ti(r.app))return Promise.reject(tr(r));const a=Mh(r),l=FC(a,t),d=await new $C(a,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await a._persistUserIfCurrent(d.user),await a._setRedirectUser(null,t)),d}const nx=600*1e3;class ix{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(t,a)&&(i=!0,this.sendToConsumer(t,a),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!sx(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){if(t.error&&!W1(t)){const a=t.error.code?.split("auth/")[1]||"internal-error";i.onError(Ii(this.auth,a))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const a=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&a}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=nx&&this.cachedEventUids.clear(),this.cachedEventUids.has(g0(t))}saveEventToCache(t){this.cachedEventUids.add(g0(t)),this.lastProcessedEventTime=Date.now()}}function g0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(t=>t).join("-")}function W1({type:r,error:t}){return r==="unknown"&&t?.code==="auth/no-auth-event"}function sx(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W1(r);default:return!1}}async function rx(r,t={}){return go(r,"GET","/v1/projects",t)}const ax=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ox=/^https?/;async function lx(r){if(r.config.emulator)return;const{authorizedDomains:t}=await rx(r);for(const i of t)try{if(ux(i))return}catch{}ss(r,"unauthorized-domain")}function ux(r){const t=bm(),{protocol:i,hostname:a}=new URL(t);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&a===""?i==="chrome-extension:"&&r.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===a}if(!ox.test(i))return!1;if(ax.test(r))return a===r;const l=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(a)}const cx=new Xl(3e4,6e4);function y0(){const r=Ni().___jsl;if(r?.H){for(const t of Object.keys(r.H))if(r.H[t].r=r.H[t].r||[],r.H[t].L=r.H[t].L||[],r.H[t].r=[...r.H[t].L],r.CP)for(let i=0;i<r.CP.length;i++)r.CP[i]=null}}function hx(r){return new Promise((t,i)=>{function a(){y0(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{y0(),i(Ii(r,"network-request-failed"))},timeout:cx.get()})}if(Ni().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ni().gapi?.load)a();else{const l=pC("iframefcb");return Ni()[l]=()=>{gapi.load?a():i(Ii(r,"network-request-failed"))},dC(`${mC()}?onload=${l}`).catch(c=>i(c))}}).catch(t=>{throw Fc=null,t})}let Fc=null;function fx(r){return Fc=Fc||hx(r),Fc}const dx=new Xl(5e3,15e3),mx="__/auth/iframe",px="emulator/auth/iframe",gx={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},yx=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _x(r){const t=r.config;_t(t.authDomain,r,"auth-domain-config-required");const i=t.emulator?fp(t,px):`https://${r.config.authDomain}/${mx}`,a={apiKey:t.apiKey,appName:r.name,v:lo},l=yx.get(r.config.apiHost);l&&(a.eid=l);const c=r._getFrameworks();return c.length&&(a.fw=c.join(",")),`${i}?${ql(a).slice(1)}`}async function vx(r){const t=await fx(r),i=Ni().gapi;return _t(i,r,"internal-error"),t.open({where:document.body,url:_x(r),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:gx,dontclear:!0},a=>new Promise(async(l,c)=>{await a.restyle({setHideOnLeave:!1});const d=Ii(r,"network-request-failed"),g=Ni().setTimeout(()=>{c(d)},dx.get());function _(){Ni().clearTimeout(g),l(a)}a.ping(_).then(_,()=>{c(d)})}))}const Ex={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Tx=500,Ax=600,bx="_blank",Sx="http://localhost";class _0{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function wx(r,t,i,a=Tx,l=Ax){const c=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-a)/2,0).toString();let g="";const _={...Ex,width:a.toString(),height:l.toString(),top:c,left:d},y=tn().toLowerCase();i&&(g=M1(y)?bx:i),D1(y)&&(t=t||Sx,_.scrollbars="yes");const A=Object.entries(_).reduce((D,[F,W])=>`${D}${F}=${W},`,"");if(rC(y)&&g!=="_self")return Rx(t||"",g),new _0(null);const S=window.open(t||"",g,A);_t(S,r,"popup-blocked");try{S.focus()}catch{}return new _0(S)}function Rx(r,t){const i=document.createElement("a");i.href=r,i.target=t;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(a)}const Cx="__/auth/handler",xx="emulator/auth/handler",Ix=encodeURIComponent("fac");async function v0(r,t,i,a,l,c){_t(r.config.authDomain,r,"auth-domain-config-required"),_t(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:i,redirectUrl:a,v:lo,eventId:l};if(t instanceof q1){t.setDefaultLanguage(r.languageCode),d.providerId=t.providerId||"",vb(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[A,S]of Object.entries({}))d[A]=S}if(t instanceof $l){const A=t.getScopes().filter(S=>S!=="");A.length>0&&(d.scopes=A.join(","))}r.tenantId&&(d.tid=r.tenantId);const g=d;for(const A of Object.keys(g))g[A]===void 0&&delete g[A];const _=await r._getAppCheckToken(),y=_?`#${Ix}=${encodeURIComponent(_)}`:"";return`${Nx(r)}?${ql(g).slice(1)}${y}`}function Nx({config:r}){return r.emulator?fp(r,xx):`https://${r.authDomain}/${Cx}`}const Wd="webStorageSupport";class Dx{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Y1,this._completeRedirectFn=ex,this._overrideRedirectResult=ZC}async _openPopup(t,i,a,l){rs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const c=await v0(t,i,a,bm(),l);return wx(t,c,gp())}async _openRedirect(t,i,a,l){await this._originValidation(t);const c=await v0(t,i,a,bm(),l);return VC(c),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:c}=this.eventManagers[i];return l?Promise.resolve(l):(rs(c,"If manager is not set, promise should be"),c)}const a=this.initAndGetManager(t);return this.eventManagers[i]={promise:a},a.catch(()=>{delete this.eventManagers[i]}),a}async initAndGetManager(t){const i=await vx(t),a=new ix(t);return i.register("authEvent",l=>(_t(l?.authEvent,t,"invalid-auth-event"),{status:a.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:a},this.iframes[t._key()]=i,a}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Wd,{type:Wd},l=>{const c=l?.[0]?.[Wd];c!==void 0&&i(!!c),ss(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=lx(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return P1()||O1()||mp()}}const Ox=Dx;var E0="@firebase/auth",T0="1.12.0";class Mx{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(a=>{t(a?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){_t(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Vx(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function kx(r){Za(new Qr("auth",(t,{options:i})=>{const a=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),c=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=a.options;_t(d&&!d.includes(":"),"invalid-api-key",{appName:a.name});const _={apiKey:d,authDomain:g,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:j1(r)},y=new hC(a,l,c,_);return yC(y,i),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,a)=>{t.getProvider("auth-internal").initialize()})),Za(new Qr("auth-internal",t=>{const i=Mh(t.getProvider("auth").getImmediate());return(a=>new Mx(a))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),$s(E0,T0,Vx(r)),$s(E0,T0,"esm2020")}const Ux=300,Lx=D0("authIdTokenMaxAge")||Ux;let A0=null;const Px=r=>async t=>{const i=t&&await t.getIdTokenResult(),a=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(a&&a>Lx)return;const l=i?.token;A0!==l&&(A0=l,await fetch(r,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function jx(r=L0()){const t=Om(r,"auth");if(t.isInitialized())return t.getImmediate();const i=gC(r,{popupRedirectResolver:Ox,persistence:[HC,DC,Y1]}),a=D0("authTokenSyncURL");if(a&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(a,location.origin);if(location.origin===c.origin){const d=Px(c.toString());xC(i,d,()=>d(i.currentUser)),CC(i,g=>d(g))}}const l=I0("auth");return l&&_C(i,`http://${l}`),i}function zx(){return document.getElementsByTagName("head")?.[0]??document}fC({loadJS(r){return new Promise((t,i)=>{const a=document.createElement("script");a.setAttribute("src",r),a.onload=t,a.onerror=l=>{const c=Ii("internal-error");c.customData=l,i(c)},a.type="text/javascript",a.charset="UTF-8",zx().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});kx("Browser");const Bx=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),qx=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,i,a)=>a?a.toUpperCase():i.toLowerCase()),b0=r=>{const t=qx(r);return t.charAt(0).toUpperCase()+t.slice(1)},tT=(...r)=>r.filter((t,i,a)=>!!t&&t.trim()!==""&&a.indexOf(t)===i).join(" ").trim(),Hx=r=>{for(const t in r)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var Fx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Gx=Zt.forwardRef(({color:r="currentColor",size:t=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:l="",children:c,iconNode:d,...g},_)=>Zt.createElement("svg",{ref:_,...Fx,width:t,height:t,stroke:r,strokeWidth:a?Number(i)*24/Number(t):i,className:tT("lucide",l),...!c&&!Hx(g)&&{"aria-hidden":"true"},...g},[...d.map(([y,A])=>Zt.createElement(y,A)),...Array.isArray(c)?c:[c]]));const te=(r,t)=>{const i=Zt.forwardRef(({className:a,...l},c)=>Zt.createElement(Gx,{ref:c,iconNode:t,className:tT(`lucide-${Bx(b0(r))}`,`lucide-${r}`,a),...l}));return i.displayName=b0(r),i};const Qx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Yx=te("activity",Qx);const Kx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Xx=te("book-open",Kx);const $x=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rm=te("calendar",$x);const Jx=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],eT=te("check",Jx);const Zx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wx=te("circle-check-big",Zx);const tI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],eI=te("circle-x",tI);const nI=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"M12 11h4",key:"1jrz19"}],["path",{d:"M12 16h4",key:"n85exb"}],["path",{d:"M8 11h.01",key:"1dfujw"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],nT=te("clipboard-list",nI);const iI=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],sI=te("clock",iI);const rI=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],S0=te("dollar-sign",rI);const aI=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],oI=te("eye-off",aI);const lI=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],uI=te("eye",lI);const cI=[["path",{d:"M2 9.5a5.5 5.5 0 0 1 9.591-3.676.56.56 0 0 0 .818 0A5.49 5.49 0 0 1 22 9.5c0 2.29-1.5 4-3 5.5l-5.492 5.313a2 2 0 0 1-3 .019L5 15c-1.5-1.5-3-3.2-3-5.5",key:"mvr1a0"}]],hI=te("heart",cI);const fI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],dI=te("info",fI);const mI=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],pI=te("key",mI);const gI=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yI=te("loader-circle",gI);const _I=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vI=te("log-out",_I);const EI=[["path",{d:"M5.8 11.3 2 22l10.7-3.79",key:"gwxi1d"}],["path",{d:"M4 3h.01",key:"1vcuye"}],["path",{d:"M22 8h.01",key:"1mrtc2"}],["path",{d:"M15 2h.01",key:"1cjtqr"}],["path",{d:"M22 20h.01",key:"1mrys2"}],["path",{d:"m22 2-2.24.75a2.9 2.9 0 0 0-1.96 3.12c.1.86-.57 1.63-1.45 1.63h-.38c-.86 0-1.6.6-1.76 1.44L14 10",key:"hbicv8"}],["path",{d:"m22 13-.82-.33c-.86-.34-1.82.2-1.98 1.11c-.11.7-.72 1.22-1.43 1.22H17",key:"1i94pl"}],["path",{d:"m11 2 .33.82c.34.86-.2 1.82-1.11 1.98C9.52 4.9 9 5.52 9 6.23V7",key:"1cofks"}],["path",{d:"M11 13c1.93 1.93 2.83 4.17 2 5-.83.83-3.07-.07-5-2-1.93-1.93-2.83-4.17-2-5 .83-.83 3.07.07 5 2Z",key:"4kbmks"}]],TI=te("party-popper",EI);const AI=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],Cm=te("stethoscope",AI);const bI=[["circle",{cx:"9",cy:"12",r:"3",key:"u3jwor"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],SI=te("toggle-left",bI);const wI=[["circle",{cx:"15",cy:"12",r:"3",key:"1afu0r"}],["rect",{width:"20",height:"14",x:"2",y:"5",rx:"7",key:"g7kal2"}]],RI=te("toggle-right",wI);const CI=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],xI=te("trash-2",CI);const II=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],NI=te("trending-up",II);const DI=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],iT=te("trophy",DI);const OI=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],MI=te("user-check",OI);const VI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]],kI=te("user-x",VI);const UI=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xm=te("users",UI);const LI=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],PI=te("x",LI),jI={apiKey:"AIzaSyBhGETYAZ4Vp6asoky3e9TGt80-wFiAqiE",authDomain:"balletfitbyjen-6b36a.firebaseapp.com",projectId:"balletfitbyjen-6b36a",storageBucket:"balletfitbyjen-6b36a.firebasestorage.app",messagingSenderId:"561979345720",appId:"1:561979345720:web:d656205cbba706c5f8cfcd"},sT=U0(jI),Bs=xR(sT),zI=jx(sT),BI="balletfitbyjen-6b36a",qI="JENNY2024",HI="LUCY2024",Gr=[{id:"mon-19",day:"Lunes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:1},{id:"wed-19",day:"Mircoles",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:3},{id:"fri-19",day:"Viernes",time:"19:00",type:"Ballet Fit",spots:10,teacher:"Lucy",dayIdx:5},{id:"sat-09",day:"Sbado",time:"09:00",type:"Ballet Fit",spots:10,teacher:"Jenny",dayIdx:6}],w0=[{plan:"4 clases a la semana",price:850},{plan:"3 clases a la semana",price:720},{plan:"2 clases a la semana",price:620},{plan:"1 clase a la semana",price:450},{plan:"Clase suelta",price:150}],Mc=["Qu gusto verte de nuevo!","Lista para brillar en el estudio!","Tu disciplina es tu mayor fuerza.","Un da ms cerca de tus objetivos.","A darle con todo hoy!","La elegancia se entrena con cada paso."],Sn=({children:r,className:t=""})=>b.jsx("div",{className:`rounded-sm shadow-md border-t-4 border-[#369EAD] p-6 bg-white transition-all hover:shadow-lg ${t}`,children:r}),Cl=({children:r,onClick:t,variant:i="primary",disabled:a=!1,className:l=""})=>{const c="px-6 py-2 rounded-sm font-sans font-medium tracking-widest uppercase text-xs transition-all transform active:scale-95 flex items-center justify-center gap-2",d={primary:"bg-[#369EAD] text-white hover:bg-[#1A3A3E]",secondary:"border border-[#369EAD] text-[#369EAD] hover:bg-gray-50",disabled:"bg-gray-100 text-gray-300 cursor-not-allowed"};return b.jsx("button",{onClick:a?null:t,className:`${c} ${a?d.disabled:d[i]} ${l}`,disabled:a,children:r})},rT=(r,t)=>{const i=new Date,a=new Date,[l,c]=t.split(":").map(Number);let d=(r-i.getDay()+7)%7;if(d===0){const _=i.getHours()*60+i.getMinutes(),y=l*60+c;_>y&&(d=7)}return a.setDate(i.getDate()+d),a.setHours(l,c,0,0),(a-i)/(1e3*60*60)},FI=r=>{const t=new Date(r.valueOf()),i=(r.getDay()+6)%7;t.setDate(t.getDate()-i+3);const a=t.valueOf();return t.setMonth(0,1),t.getDay()!==4&&t.setMonth(0,1+(4-t.getDay()+7)%7),1+Math.ceil((a-t)/6048e5)},aT=(r,t)=>{const i=new Date,a=i.getDay(),[l,c]=t.split(":").map(Number),d=i.getHours()*60+i.getMinutes(),g=l*60+c;return a>r||a===r&&d>=g},oT=(r=null)=>{let t=Gr;return r&&(t=Gr.filter(a=>a.teacher===r)),t.map(a=>({...a,diff:rT(a.dayIdx,a.time)})).sort((a,l)=>a.diff-l.diff)[0]},_p=()=>new Intl.DateTimeFormat("es-ES",{month:"long"}).format(new Date).toUpperCase();function GI(){const[r,t]=Zt.useState("login"),[i,a]=Zt.useState(null),[l,c]=Zt.useState([]),[d,g]=Zt.useState({}),[_,y]=Zt.useState(null),[A,S]=Zt.useState(!0),[D,F]=Zt.useState(null),[W,tt]=Zt.useState(""),Z=(Et,ht="success")=>{y({msg:Et,type:ht}),setTimeout(()=>y(null),4e3)};Zt.useEffect(()=>{tt(Mc[Math.floor(Math.random()*Mc.length)]),(async()=>{try{await bC(zI)}catch(w){console.error("Error Auth:",w)}const ht=r0(Wv(Bs,"alumnas"),w=>{const R=w.docs.map(k=>({id:k.id,...k.data()}));c(R),S(!1)},w=>Z("Error al cargar alumnas","error")),C=r0(Wv(Bs,"sesiones"),w=>{const R={};w.docs.forEach(k=>R[k.id]=k.data()),g(R)});return()=>{ht(),C()}})()},[]),Zt.useEffect(()=>{if(i&&i.role==="student"){const Et=l.find(ht=>ht.id===i.id);Et&&a(ht=>({...ht,...Et}))}},[l]);const ut=(Et,ht)=>{const C=Et.trim().toUpperCase(),w=ht.trim();if(F(null),C==="ADMIN-JEN"||C==="JENNY")if(w===qI){a({firstName:"JENNY",role:"admin"}),t("admin"),Z("Acceso Admin concedido");return}else{F("Contrasea de Admin incorrecta.");return}if(C==="TEACHER-LUCY"||C==="LUCY")if(w===HI){a({firstName:"LUCY",role:"teacher"}),t("teacher"),Z("Acceso Maestra concedido");return}else{F("Contrasea de Maestra incorrecta.");return}const R=l.find(k=>k.id.toUpperCase()===C);if(R){if(R.password&&R.password!==w){F("Contrasea incorrecta.");return}if(R.status==="inactive"){F("Cuenta inactiva. Contacta a Jenny.");return}a({...R,firstName:R.name.split(" ")[0],role:"student"}),tt(Mc[Math.floor(Math.random()*Mc.length)]),t("student")}else F("ID no encontrado o datos incorrectos.")},gt=async Et=>{const ht=Gr.find(w=>w.id===Et),C=d[Et];if(aT(ht.dayIdx,ht.time)){Z("Esta clase ya ocurri.","error");return}if(C?.isClosed){Z("Clase cerrada.","error");return}if(i.credits<=0){Z("Sin crditos.","error");return}try{const w=Ge(Bs,"alumnas",i.id),R=Ge(Bs,"sesiones",Et);await jn(w,{credits:Ys(-1),history:zR(Et)}),await zc(R,{booked:Ys(1)},{merge:!0}),Z("Clase reservada!")}catch{Z("Error al reservar","error")}},ft=async Et=>{const ht=Gr.find(R=>R.id===Et),w=rT(ht.dayIdx,ht.time)<6;if(!(w&&!window.confirm("Menos de 6h: El lugar se libera pero NO se devuelve crdito. Continuar?")))try{const R=Ge(Bs,"alumnas",i.id),k=Ge(Bs,"sesiones",Et);w?await jn(R,{history:sh(Et)}):await jn(R,{credits:Ys(1),history:sh(Et)}),await jn(k,{booked:Ys(-1)}),Z(w?"Lugar liberado (sin crdito)":"Clase cancelada.")}catch{Z("Error al cancelar","error")}},Ut=()=>{a(null),t("login"),F(null)};return A?b.jsx("div",{className:"h-screen flex items-center justify-center font-serif text-[#369EAD] animate-pulse bg-white italic",children:"Validando seguridad..."}):b.jsxs("div",{className:"font-serif text-[#1A3A3E] antialiased bg-[#F8FAFC] min-h-screen",children:[_&&b.jsxs("div",{className:`fixed top-4 right-4 z-[150] px-6 py-4 rounded-sm shadow-2xl flex items-center gap-3 animate-in slide-in-from-right-4 duration-300 border-l-4 ${_.type==="error"?"bg-red-500 text-white border-red-700":"bg-[#1A3A3E] text-white border-[#369EAD]"}`,children:[_.type==="error"?b.jsx(eI,{size:18}):b.jsx(Wx,{size:18}),b.jsx("span",{className:"text-[10px] font-sans font-bold uppercase tracking-widest",children:_.msg})]}),r==="login"&&b.jsx(QI,{onLogin:ut,error:D}),r==="student"&&b.jsx(YI,{user:i,quote:W,sessions:Gr,sessionsData:d,onBook:gt,onCancel:ft,onLogout:Ut}),r==="admin"&&b.jsx(KI,{students:l,sessionsData:d,db:Bs,onLogout:Ut,showNotification:Z}),r==="teacher"&&b.jsx(XI,{user:i,students:l,sessionsData:d,db:Bs,onLogout:Ut,showNotification:Z})]})}const QI=({onLogin:r,error:t})=>{const[i,a]=Zt.useState(""),[l,c]=Zt.useState(""),[d,g]=Zt.useState(!1);return b.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-cover bg-center relative",style:{backgroundImage:'linear-gradient(rgba(26, 58, 62, 0.7), rgba(26, 58, 62, 0.5)), url("https://images.unsplash.com/photo-1516515865486-4447488dc476?ixlib=rb-4.0.3&auto=format&fit=crop&w=1920&q=80")'},children:[b.jsx("div",{className:"absolute inset-0 bg-black/20 backdrop-blur-sm"}),b.jsx("div",{className:"relative z-10 w-full max-w-md px-4",children:b.jsxs("div",{className:"bg-white/95 backdrop-blur-md p-8 md:p-12 rounded-sm shadow-2xl border-t-8 border-[#369EAD]",children:[b.jsxs("div",{className:"text-center mb-10",children:[b.jsx("h1",{className:"font-serif text-4xl text-[#1A3A3E] mb-1 italic font-bold",children:"Ballet Fit"}),b.jsx("span",{className:"text-[10px] font-sans uppercase tracking-[0.4em] text-[#369EAD] font-bold font-black",children:"Acceso Seguro"})]}),b.jsxs("form",{onSubmit:_=>{_.preventDefault(),r(i,l)},className:"space-y-6",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"ID o Usuario"}),b.jsx("input",{type:"text",required:!0,placeholder:"JENNY / BF-001",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans uppercase text-sm",value:i,onChange:_=>a(_.target.value)})]}),b.jsxs("div",{className:"space-y-1 relative",children:[b.jsx("label",{className:"text-[9px] font-sans font-black uppercase text-gray-400 tracking-widest ml-1",children:"Contrasea"}),b.jsx("input",{type:d?"text":"password",required:!0,placeholder:"",className:"w-full p-4 bg-gray-50 border-b border-gray-100 focus:border-[#369EAD] outline-none font-sans text-sm",value:l,onChange:_=>c(_.target.value)}),b.jsx("button",{type:"button",onClick:()=>g(!d),className:"absolute right-4 bottom-4 text-gray-300 hover:text-[#369EAD]",children:d?b.jsx(oI,{size:18}):b.jsx(uI,{size:18})})]}),t&&b.jsx("div",{className:"text-red-500 font-sans text-[10px] text-center font-bold animate-pulse leading-tight bg-red-50 p-2 rounded-sm border border-red-100",children:t}),b.jsx("button",{type:"submit",className:"w-full bg-[#1A3A3E] text-white py-5 font-sans uppercase tracking-[0.3em] text-[11px] font-bold hover:bg-[#369EAD] transition-all shadow-lg active:scale-95",children:"Entrar"})]})]})})]})},YI=({user:r,quote:t,sessions:i,sessionsData:a,onBook:l,onCancel:c,onLogout:d})=>{const g=r.history||[],_=i.filter(S=>g.includes(S.id)),y=_.length>0?_[0]:null,A=_p();return b.jsxs("div",{className:"pb-20",children:[b.jsx("nav",{className:"bg-white shadow-sm border-b border-gray-100 p-4 sticky top-0 z-50",children:b.jsxs("div",{className:"max-w-6xl mx-auto flex justify-between items-center px-2",children:[b.jsx("span",{className:"text-2xl text-[#369EAD] font-serif font-black",children:"BF"}),b.jsxs("button",{onClick:d,className:"text-gray-400 hover:text-[#369EAD] text-[10px] font-sans uppercase font-bold flex items-center gap-2 tracking-widest",children:[b.jsx("span",{children:"Salir"}),b.jsx(vI,{size:16})]})]})}),b.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-10",children:[b.jsxs("div",{className:"mb-10 text-center md:text-left",children:[b.jsxs("h2",{className:"text-4xl md:text-5xl font-serif italic text-[#1A3A3E] font-bold mb-2",children:["Hola, ",r.firstName,"!"]}),b.jsxs("p",{className:"text-[#369EAD] text-sm md:text-base font-sans uppercase tracking-widest flex items-center justify-center md:justify-start gap-2",children:[b.jsx(hI,{size:16,fill:"#369EAD"})," ",t]})]}),b.jsxs("div",{className:"grid md:grid-cols-3 gap-8 mb-12",children:[b.jsxs(Sn,{className:"md:col-span-2 flex flex-col justify-between",children:[b.jsxs("div",{className:"flex justify-between items-start mb-6",children:[b.jsx("div",{children:b.jsxs("h3",{className:"text-2xl font-serif text-[#1A3A3E] italic",children:["Resumen de ",A]})}),b.jsx("div",{className:"p-3 rounded-full text-[#369EAD]",children:b.jsx(Yx,{size:24})})]}),b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"bg-[#EBF5F6] px-6 py-4 rounded-sm border border-[#369EAD]/10",children:[b.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-gray-500 font-bold mb-1",children:"Clases del Mes"}),b.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[b.jsx("span",{className:`text-4xl font-bold ${r.credits===0?"text-red-400":"text-[#369EAD]"}`,children:r.credits}),b.jsxs("span",{className:"text-gray-300 text-lg",children:["/ ",r.maxCredits]})]})]}),b.jsxs("div",{className:"bg-[#1A3A3E] px-6 py-4 rounded-sm border border-[#C5A059]/20 text-white",children:[b.jsx("span",{className:"block text-[9px] font-sans uppercase tracking-widest text-[#C5A059] font-bold mb-1 text-opacity-80",children:"Total Histrico"}),b.jsxs("div",{className:"flex items-baseline gap-1 font-sans",children:[b.jsx("span",{className:"text-4xl font-bold text-[#C5A059]",children:r.totalAttendance||0}),b.jsx("span",{className:"text-[#C5A059] text-xs text-opacity-50 ml-1",children:"Sesiones"})]})]})]})]}),b.jsxs(Sn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center shadow-xl relative overflow-hidden group",children:[b.jsx("div",{className:"absolute top-0 right-0 p-2 opacity-5",children:b.jsx(Rm,{size:120})}),b.jsx(Rm,{className:"text-[#C5A059] mb-3 animate-pulse",size:32}),b.jsx("h3",{className:"text-[10px] font-sans uppercase tracking-widest text-[#C5A059] mb-2 font-black",children:"Prximo Entrenamiento"}),y?b.jsxs("div",{className:"animate-in fade-in duration-500",children:[b.jsx("p",{className:"text-2xl italic font-bold text-[#C5A059]",children:y.day}),b.jsx("p",{className:"text-4xl font-sans font-bold my-1 tracking-tighter",children:y.time}),b.jsxs("p",{className:"text-[9px] font-sans uppercase opacity-40 tracking-widest",children:["Maestra: ",y.teacher]})]}):b.jsx("p",{className:"opacity-40 italic text-sm",children:"Sin clases pendientes"})]}),b.jsxs(Sn,{className:"bg-[#1A3A3E] border-none text-white text-center flex flex-col items-center justify-center relative overflow-hidden group",children:[b.jsx(TI,{className:"text-[#C5A059] mx-auto mb-4 animate-bounce",size:40}),b.jsx("h3",{className:"text-2xl font-serif italic mb-2",children:"Sigue creciendo!"}),b.jsx("p",{className:"text-[11px] uppercase font-bold tracking-[0.2em] opacity-60 leading-relaxed px-4",children:"Cada alumna nueva es un paso ms hacia tu sueo"}),b.jsx("div",{className:"absolute -bottom-4 -right-4 opacity-5 transform rotate-12",children:b.jsx(NI,{size:120})})]})]}),b.jsx("h3",{className:"text-xl mb-8 font-serif italic border-l-4 border-[#369EAD] pl-6",children:"Cartelera de Clases"}),b.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(S=>{const D=g.includes(S.id),F=a[S.id]||{booked:0,isClosed:!1},W=(F.booked||0)>=S.spots,tt=F.isClosed,Z=aT(S.dayIdx,S.time),ut=r.credits>0&&!D&&!W&&!tt&&!Z;return b.jsxs("div",{className:`p-8 rounded-sm border transition-all duration-300 ${D?"bg-[#EBF5F6] border-[#369EAD] ring-1 ring-[#369EAD]/20":tt||Z?"bg-gray-50 opacity-60 border-gray-200":"bg-white border-gray-100 hover:shadow-lg"}`,children:[b.jsxs("div",{className:"mb-6",children:[b.jsxs("div",{className:"flex justify-between items-start font-sans",children:[b.jsx("span",{className:"text-[10px] uppercase font-black opacity-40",children:S.day}),tt?b.jsx("span",{className:"bg-red-100 text-red-600 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Feriado"}):Z?b.jsx("span",{className:"bg-gray-200 text-gray-500 text-[8px] px-2 py-0.5 rounded font-black uppercase tracking-widest",children:"Finalizada"}):null]}),b.jsx("h4",{className:"text-3xl font-sans italic font-bold",children:S.time}),b.jsx("p",{className:"text-[10px] font-sans text-[#369EAD] font-bold uppercase tracking-widest mt-1",children:S.teacher})]}),b.jsxs("div",{className:"flex justify-between items-center mt-8 pt-4 border-t border-gray-50 font-sans",children:[b.jsxs("span",{className:"text-[10px] font-bold text-gray-400 uppercase flex items-center gap-1",children:[b.jsx(xm,{size:12})," ",F.booked||0,"/",S.spots]}),D?b.jsx("button",{onClick:()=>c(S.id),className:"text-[10px] text-red-400 font-bold uppercase underline underline-offset-8 decoration-red-100",children:"Cancelar"}):b.jsx(Cl,{onClick:()=>l(S.id),disabled:!ut,className:"!px-4 !py-2 !text-[9px]",children:tt?"Cerrado":Z?"Pasada":W?"Lleno":"Reservar"})]})]},S.id)})})]})]})},KI=({students:r,sessionsData:t,db:i,onLogout:a,showNotification:l})=>{const[c,d]=Zt.useState(!1),[g,_]=Zt.useState(null),[y,A]=Zt.useState(""),[S,D]=Zt.useState({id:"",name:"",password:"",plan:"2 clases x sem",notes:""}),[F,W]=Zt.useState(!1),[tt,Z]=Zt.useState(null),[ut,gt]=Zt.useState(0),ft=_p(),Ut=r.filter(N=>N.status!=="inactive"),Et=N=>{const X=N.map(Tt=>Tt.id).filter(Tt=>Tt.startsWith("BF-")).map(Tt=>parseInt(Tt.split("-")[1])).filter(Tt=>!isNaN(Tt)),yt=(X.length>0?Math.max(...X):0)+1;return`BF-${String(yt).padStart(3,"0")}`};Zt.useEffect(()=>{if(c){const N=Et(r);D(X=>({...X,id:N}))}},[c,r]),Zt.useEffect(()=>{const N=async()=>{const X=Ge(i,"artifacts",BI,"public","metadata","settings"),it=FI(new Date);try{const yt=await s0(X);let Tt=0;if(yt.exists()&&(Tt=yt.data().lastResetWeek||0),it!==Tt&&r.length>0){const V=BR(i);Ut.forEach(Y=>{const nt=Ge(i,"alumnas",Y.id);V.update(nt,{credits:Y.maxCredits,history:[]})}),await zc(X,{lastResetWeek:it},{merge:!0}),await V.commit(),l("Crditos reiniciados para la nueva semana!","success")}}catch(yt){console.error("Error in auto-reset:",yt)}};r.length>0&&N()},[r.length]);const ht=oT(),C=r.filter(N=>N.history?.includes(ht.id)&&N.status!=="inactive"),w=r.reduce((N,X)=>N+(X.monthlyPayment||0),0),R=async(N,X)=>{await zc(Ge(i,"sesiones",N),{isClosed:!X},{merge:!0}),l("Estado actualizado")},k=async(N,X)=>{if(window.confirm("Confirmar asistencia? Esto sumar la clase al historial de la alumna."))try{const it=Ge(i,"alumnas",N),yt=Ge(i,"sesiones",X);await jn(it,{totalAttendance:Ys(1),history:sh(X)}),await jn(yt,{booked:Ys(-1)}),l("Asistencia confirmada")}catch(it){console.error(it)}},M=async(N,X)=>{const it=X==="inactive"?"active":"inactive",yt=it==="inactive"?"Dar de baja a esta alumna?":"Activar cuenta de esta alumna?";if(window.confirm(yt))try{await jn(Ge(i,"alumnas",N),{status:it}),l(`Estado: ${it==="inactive"?"Baja":"Activa"}`)}catch(Tt){console.error(Tt)}},L=async()=>{if(!(!g||!y.trim()))try{await jn(Ge(i,"alumnas",g),{password:y.trim()}),l("Contrasea actualizada"),_(null),A("")}catch(N){console.error(N)}},x=async N=>{N.preventDefault();const X=S.id.trim().toUpperCase();if(!X||!S.name||!S.password){l("Completa todos los campos obligatorios","error");return}W(!0);try{const it=Ge(i,"alumnas",X),yt=await s0(it);if(yt.exists()){l(`ID ya usado por ${yt.data().name}`,"error"),W(!1);return}const Tt=parseInt(S.plan.split(" ")[0])||2;await zc(it,{id:X,name:S.name.trim().toUpperCase(),password:S.password,plan:S.plan,maxCredits:Tt,credits:Tt,history:[],monthlyPayment:0,totalAttendance:0,notes:S.notes.trim(),status:"active",registrationDate:new Date().toISOString()}),l("Alumna registrada correctamente"),d(!1),D({id:"",name:"",password:"",plan:"2 clases x sem",notes:""})}catch(it){console.error(it)}W(!1)},ee=async()=>{if(tt)try{await jn(Ge(i,"alumnas",tt),{monthlyPayment:parseFloat(ut)}),l("Pago registrado"),Z(null),gt(0)}catch(N){console.error(N)}},fe=async(N,X)=>{window.confirm("Reiniciar semana manual? Se limpiarn los crditos.")&&await jn(Ge(i,"alumnas",N),{credits:X,history:[]})};return b.jsxs("div",{className:"pb-20",children:[b.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-xl font-serif font-black tracking-tight",children:"BF ADMIN"}),b.jsx("span",{className:"bg-[#C5A059] text-[#1A3A3E] text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:ft})]}),b.jsx("button",{onClick:a,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs(Sn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[b.jsx(nT,{size:20})," Roster: Prxima Clase"]}),b.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[ht.day," ",ht.time]})]}),b.jsx("div",{className:"space-y-3 max-h-[400px] overflow-y-auto pr-2 custom-scrollbar",children:C.length>0?C.map(N=>b.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsxs("div",{className:"flex justify-between items-start",children:[b.jsx("span",{className:"font-serif italic font-bold text-sm",children:N.name}),b.jsx("span",{className:"text-[9px] font-sans text-[#C5A059] font-black uppercase tracking-tighter",children:N.id})]}),N.notes&&b.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[b.jsx(Cm,{size:12,className:"mt-1 flex-shrink-0"}),b.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:N.notes})]})]}),b.jsx("button",{onClick:()=>k(N.id,ht.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",title:"Pasar Asistencia",children:b.jsx(eT,{size:18})})]},N.id)):b.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"Sin inscritas todava"})}),b.jsxs("div",{className:"mt-6 pt-4 border-t border-white/10 flex justify-between items-center font-sans",children:[b.jsx("span",{className:"text-[10px] text-gray-400 uppercase tracking-widest",children:"Pendientes por llegar"}),b.jsx("span",{className:"font-bold text-[#C5A059]",children:C.length})]})]}),b.jsxs("div",{className:"lg:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-6 font-sans",children:[b.jsxs(Sn,{className:"bg-[#1A3A3E] !border-[#C5A059] text-white flex items-center gap-6 group",children:[b.jsx("div",{className:"p-4 bg-[#C5A059] rounded-sm text-[#1A3A3E] transition-transform group-hover:rotate-6",children:b.jsx(S0,{size:28})}),b.jsxs("div",{children:[b.jsxs("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:["Caja ",ft]}),b.jsxs("p",{className:"text-3xl font-bold text-[#C5A059]",children:["$",w.toLocaleString()]})]})]}),b.jsxs(Sn,{className:"flex items-center gap-6 border-[#369EAD] group",children:[b.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm transition-transform group-hover:scale-110",children:b.jsx(iT,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Impacto Total"}),b.jsxs("p",{className:"text-3xl font-bold",children:[r.reduce((N,X)=>N+(X.totalAttendance||0),0)," clases dadas"]})]})]}),b.jsxs(Sn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6 md:col-span-2",children:[b.jsx("div",{className:"p-4 bg-[#369EAD] rounded-sm text-white",children:b.jsx(xm,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Comunidad Activa"}),b.jsxs("p",{className:"text-3xl font-bold text-[#369EAD]",children:[Ut.length," Alumnas pagando"]})]})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[b.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[b.jsxs(Sn,{className:"bg-white border-[#C5A059]",children:[b.jsxs("h3",{className:"text-lg font-serif italic font-bold mb-4 flex items-center gap-2 text-[#1A3A3E]",children:[b.jsx(dI,{size:18,className:"text-[#C5A059]"})," Tarifario"]}),b.jsx("div",{className:"space-y-3 font-sans",children:w0.map((N,X)=>b.jsxs("div",{className:"flex justify-between items-center text-[11px] border-b border-gray-50 pb-2",children:[b.jsx("span",{className:"text-gray-400 uppercase font-bold",children:N.plan}),b.jsxs("span",{className:"font-bold text-[#369EAD]",children:["$",N.price]})]},X))})]}),b.jsxs(Sn,{className:"bg-white border-[#369EAD]",children:[b.jsx("h3",{className:"text-lg font-serif italic font-bold mb-4",children:"Estatus Clases"}),b.jsx("div",{className:"space-y-4 font-sans",children:Gr.map(N=>{const X=t[N.id]?.isClosed||!1;return b.jsxs("div",{className:"flex justify-between items-center text-xs",children:[b.jsx("span",{className:"font-bold opacity-60 uppercase tracking-tighter",children:N.day}),b.jsx("button",{onClick:()=>R(N.id,X),children:X?b.jsx(SI,{size:30,className:"text-red-300"}):b.jsx(RI,{size:30,className:"text-[#369EAD]"})})]},N.id)})})]})]}),b.jsx("div",{className:"lg:col-span-3",children:b.jsxs("div",{className:"bg-white rounded-sm shadow-xl border border-gray-100 overflow-hidden font-sans",children:[b.jsxs("div",{className:"p-6 border-b border-gray-50 bg-gray-50/30 flex justify-between items-center",children:[b.jsx("h3",{className:"font-serif font-bold italic text-[#1A3A3E]",children:"Control de Alumnas e Historial"}),b.jsxs("div",{className:"flex gap-2",children:[b.jsxs("span",{className:"text-[9px] font-sans font-bold uppercase flex items-center gap-1 opacity-50",children:[b.jsx(xm,{size:12})," Total Registros: ",r.length]}),b.jsx(Cl,{onClick:()=>d(!0),className:"!px-4 !py-2 !text-[9px]",children:"Registrar"})]})]}),b.jsx("div",{className:"overflow-x-auto",children:b.jsxs("table",{className:"w-full text-left",children:[b.jsx("thead",{className:"bg-gray-50 text-[9px] uppercase text-gray-400 tracking-widest font-black font-sans",children:b.jsxs("tr",{children:[b.jsx("th",{className:"px-6 py-5",children:"Identificacin / Nombre"}),b.jsx("th",{className:"px-6 py-5 text-center",children:"Crditos"}),b.jsx("th",{className:"px-6 py-5 text-center",children:"Histrico"}),b.jsxs("th",{className:"px-6 py-5 text-center",children:["Pago ",ft]}),b.jsx("th",{className:"px-6 py-5 text-right pr-10",children:"Acciones"})]})}),b.jsx("tbody",{className:"divide-y divide-gray-50",children:r.map(N=>{const X=N.status==="inactive";return b.jsxs("tr",{className:`hover:bg-gray-50 transition-all text-sm group ${X?"opacity-40 grayscale-[0.5]":""}`,children:[b.jsx("td",{className:"px-6 py-5",children:b.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-3",children:[b.jsx("span",{className:"text-[10px] font-sans font-black text-[#369EAD] bg-[#EBF5F6] px-2 py-0.5 rounded-sm border border-[#369EAD]/10 w-fit",children:N.id}),b.jsxs("div",{children:[b.jsx("div",{className:"font-bold font-serif italic text-[#1A3A3E]",children:N.name}),b.jsxs("div",{className:"text-[9px] text-gray-400 font-sans mt-1",children:["Clave actual: ",b.jsx("span",{className:"font-bold text-[#C5A059]",children:N.password||"---"})]}),X?b.jsx("span",{className:"text-[8px] uppercase font-bold text-red-400 bg-red-50 px-1 rounded-sm",children:"Baja / Inactiva"}):N.notes&&b.jsxs("div",{className:"text-[10px] text-red-400 italic font-sans flex items-center gap-1 mt-1",children:[b.jsx(Cm,{size:10})," ",N.notes]})]})]})}),b.jsxs("td",{className:"px-6 py-5 text-center font-sans",children:[b.jsx("span",{className:`font-bold ${N.credits===0?"text-red-400":"text-[#369EAD]"}`,children:N.credits}),b.jsxs("span",{className:"text-gray-300 text-xs italic",children:[" / ",N.maxCredits]})]}),b.jsx("td",{className:"px-6 py-5 text-center font-sans",children:b.jsx("span",{className:"text-xs bg-[#1A3A3E] text-white px-2 py-1 rounded-sm font-bold shadow-sm",children:N.totalAttendance||0})}),b.jsx("td",{className:"px-6 py-5 text-center",children:b.jsxs("button",{onClick:()=>{Z(N.id),gt(N.monthlyPayment||0)},className:`font-bold font-sans px-3 py-1 rounded text-xs transition-colors ${N.monthlyPayment>0?"bg-green-50 text-green-600":"bg-red-50 text-red-400"}`,children:["$",N.monthlyPayment||0]})}),b.jsxs("td",{className:"px-6 py-5 text-right pr-8 space-x-1",children:[b.jsx("button",{onClick:()=>_(N.id),className:"p-2 text-gray-400 hover:text-[#C5A059] transition-all",title:"Gestionar Clave",children:b.jsx(pI,{size:16})}),b.jsx("button",{onClick:()=>M(N.id,N.status),className:`p-2 rounded-full transition-all ${X?"text-green-500 hover:bg-green-50":"text-gray-300 hover:text-red-400 hover:bg-red-50"}`,title:X?"Dar de Alta":"Dar de Baja",children:X?b.jsx(MI,{size:16}):b.jsx(kI,{size:16})}),b.jsx("button",{onClick:()=>fe(N.id,N.maxCredits),className:"p-2 text-[#C5A059] hover:bg-amber-50 rounded-full transition-transform hover:scale-110",children:b.jsx(sI,{size:16})}),b.jsx("button",{onClick:()=>{window.confirm(`Borrar permanentemente a ${N.name}? Se perder todo su historial.`)&&PR(Ge(i,"alumnas",N.id))},className:"p-2 text-red-100 hover:text-red-500 transition-all",children:b.jsx(xI,{size:16})})]})]},N.id)})})]})})]})})]})]}),g&&b.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] animate-in zoom-in font-sans text-center",children:[b.jsx("h3",{className:"text-xl font-serif italic mb-2",children:"Gestionar Contrasea"}),b.jsxs("p",{className:"text-[10px] text-gray-400 uppercase tracking-widest font-bold mb-6",children:["Alumna: ",g]}),b.jsxs("div",{className:"space-y-4",children:[b.jsx("input",{type:"text",className:"w-full p-4 bg-gray-50 border-b border-gray-200 outline-none text-center font-bold font-sans",placeholder:"Nueva clave",value:y,onChange:N=>A(N.target.value)}),b.jsx(Cl,{onClick:L,className:"w-full !py-4 font-bold",children:"Actualizar"}),b.jsx("button",{onClick:()=>{_(null),A("")},className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400",children:"Cancelar"})]})]})}),c&&b.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-md p-10 rounded-sm shadow-2xl relative border-t-8 border-[#369EAD] animate-in zoom-in font-sans",children:[b.jsx("button",{onClick:()=>d(!1),className:"absolute top-6 right-6 text-gray-400 hover:text-red-500",children:b.jsx(PI,{size:28})}),b.jsx("h3",{className:"text-2xl font-serif italic mb-6 border-b pb-2",children:"Nueva Alumna"}),b.jsxs("form",{onSubmit:x,className:"space-y-6",children:[b.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 ml-1",children:"ID (Sugerido)"}),b.jsx("input",{type:"text",required:!0,className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none uppercase text-sm font-bold text-[#369EAD]",value:S.id,onChange:N=>D({...S,id:N.target.value})})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 ml-1",children:"Contrasea Inicial"}),b.jsx("input",{type:"text",required:!0,placeholder:"Ej. 1234",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-sm font-bold",value:S.password,onChange:N=>D({...S,password:N.target.value})})]})]}),b.jsxs("div",{className:"space-y-1",children:[b.jsx("label",{className:"text-[10px] uppercase font-bold text-gray-400 ml-1",children:"Nombre Completo"}),b.jsx("input",{type:"text",required:!0,placeholder:"NOMBRE",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none uppercase text-sm font-serif italic font-bold",value:S.name,onChange:N=>D({...S,name:N.target.value})})]}),b.jsx("select",{className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-sm",value:S.plan,onChange:N=>D({...S,plan:N.target.value}),children:w0.slice(0,4).map((N,X)=>b.jsx("option",{value:N.plan,children:N.plan},X))}),b.jsx("textarea",{placeholder:"NOTAS MDICAS O LESIONES (OPCIONAL)",className:"w-full p-4 bg-gray-50 border-b border-gray-100 outline-none text-xs h-24 italic",value:S.notes,onChange:N=>D({...S,notes:N.target.value})}),b.jsx(Cl,{disabled:F,className:"w-full !py-4 font-bold",children:F?b.jsx(yI,{className:"animate-spin"}):"Guardar Registro"})]})]})}),tt&&b.jsx("div",{className:"fixed inset-0 bg-[#1A3A3E]/80 backdrop-blur-md z-[200] flex items-center justify-center p-4",children:b.jsxs("div",{className:"bg-white w-full max-w-xs p-8 rounded-sm shadow-2xl border-t-8 border-[#C5A059] animate-in zoom-in font-sans",children:[b.jsx("h3",{className:"text-xl font-serif italic mb-6 text-center",children:"Registrar Pago"}),b.jsxs("div",{className:"space-y-4 text-center",children:[b.jsxs("div",{className:"relative",children:[b.jsx(S0,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:18}),b.jsx("input",{type:"number",className:"w-full p-4 pl-10 bg-gray-50 border-b border-gray-200 outline-none text-xl font-bold font-sans",value:ut,onChange:N=>gt(N.target.value)})]}),b.jsx(Cl,{onClick:ee,className:"w-full !py-4 font-bold",children:"Confirmar"}),b.jsx("button",{onClick:()=>Z(null),className:"text-[10px] uppercase font-bold text-gray-300 tracking-widest hover:text-red-400",children:"Cancelar"})]})]})})]})},XI=({user:r,students:t,sessionsData:i,db:a,onLogout:l,showNotification:c})=>{_p();const d=Gr.filter(A=>A.teacher===r.firstName),g=oT(r.firstName),_=t.filter(A=>A.history?.includes(g?.id)&&A.status!=="inactive"),y=async(A,S)=>{if(window.confirm("Confirmar asistencia de la alumna?"))try{const D=Ge(a,"alumnas",A),F=Ge(a,"sesiones",S);await jn(D,{totalAttendance:Ys(1),history:sh(S)}),await jn(F,{booked:Ys(-1)}),c("Asistencia marcada")}catch(D){console.error(D)}};return b.jsxs("div",{className:"pb-20",children:[b.jsxs("nav",{className:"bg-[#1A3A3E] text-white p-5 flex justify-between items-center shadow-lg",children:[b.jsxs("div",{className:"flex items-center gap-3",children:[b.jsx("span",{className:"text-xl font-serif font-black tracking-tight uppercase",children:"Portal Maestra"}),b.jsx("span",{className:"bg-[#369EAD] text-white text-[9px] font-sans px-2 py-0.5 rounded font-black uppercase",children:r.firstName})]}),b.jsx("button",{onClick:l,className:"text-[10px] font-sans uppercase font-bold opacity-60 hover:opacity-100 tracking-widest",children:"Cerrar Sesin"})]}),b.jsxs("div",{className:"max-w-7xl mx-auto px-6 py-12 space-y-12",children:[b.jsxs("div",{className:"mb-10 text-center md:text-left",children:[b.jsxs("h2",{className:"text-4xl font-serif italic text-[#1A3A3E] font-bold",children:["Hola, ",r.firstName,"!"]}),b.jsx("p",{className:"text-[#369EAD] text-sm font-sans uppercase tracking-widest",children:"Lista para tu prxima clase"})]}),b.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-12",children:[b.jsxs(Sn,{className:"bg-white border-[#C5A059] flex items-center gap-6",children:[b.jsx("div",{className:"p-4 bg-[#C5A059] text-[#1A3A3E] rounded-sm",children:b.jsx(Xx,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-400 mb-1",children:"Disciplina"}),b.jsx("p",{className:"text-2xl font-serif italic font-bold",children:"Ballet Fit Master"})]})]}),b.jsxs(Sn,{className:"bg-[#EBF5F6] border-[#369EAD] flex items-center gap-6",children:[b.jsx("div",{className:"p-4 bg-[#369EAD] text-white rounded-sm",children:b.jsx(iT,{size:28})}),b.jsxs("div",{children:[b.jsx("p",{className:"text-[10px] uppercase font-bold tracking-widest text-gray-500 mb-1",children:"Asistencia"}),b.jsx("p",{className:"text-3xl font-bold text-[#369EAD] font-sans",children:"Total alumnas marcadas"})]})]})]}),b.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[b.jsxs(Sn,{className:"lg:col-span-1 bg-[#1A3A3E] !border-[#C5A059] text-white",children:[b.jsxs("div",{className:"flex justify-between items-center mb-6",children:[b.jsxs("h3",{className:"text-xl font-serif italic text-[#C5A059] flex items-center gap-2",children:[b.jsx(nT,{size:20})," Asistencia: Prxima Clase"]}),g&&b.jsxs("span",{className:"bg-white/10 px-3 py-1 rounded-sm text-[10px] font-sans font-bold uppercase tracking-widest",children:[g.day," ",g.time]})]}),b.jsx("div",{className:"space-y-3 max-h-[500px] overflow-y-auto pr-2 custom-scrollbar",children:_.length>0?_.map(A=>b.jsxs("div",{className:"p-4 bg-white/5 border border-white/10 rounded-sm hover:bg-white/10 transition-all flex justify-between items-center gap-4",children:[b.jsxs("div",{className:"flex-1",children:[b.jsx("div",{className:"font-serif italic font-bold text-sm",children:A.name}),A.notes&&b.jsxs("div",{className:"mt-2 flex items-start gap-2 text-red-300",children:[b.jsx(Cm,{size:12,className:"mt-1 flex-shrink-0"}),b.jsx("p",{className:"text-[10px] italic font-sans opacity-90 leading-tight",children:A.notes})]})]}),b.jsx("button",{onClick:()=>y(A.id,g.id),className:"p-2 bg-[#369EAD] hover:bg-white hover:text-[#369EAD] text-white rounded-full transition-all shadow-lg",children:b.jsx(eT,{size:18})})]},A.id)):b.jsx("div",{className:"text-center py-10 opacity-30 italic text-sm",children:"No hay alumnas inscritas an"})})]}),b.jsx("div",{className:"lg:col-span-2 space-y-8",children:b.jsxs(Sn,{className:"bg-white",children:[b.jsxs("h3",{className:"text-xl font-serif italic font-bold mb-6 flex items-center gap-2 text-[#1A3A3E]",children:[b.jsx(Rm,{size:20,className:"text-[#369EAD]"})," Clase del viernes 7:00 PM"]}),b.jsx("div",{className:"grid grid-cols-1 gap-4",children:d.map(A=>b.jsxs("div",{className:"p-10 bg-gray-50 rounded-sm border-l-8 border-[#369EAD] flex flex-col justify-center",children:[b.jsx("span",{className:"text-xs font-sans font-black uppercase text-gray-400 tracking-widest",children:A.day}),b.jsx("p",{className:"text-5xl font-sans font-bold text-[#1A3A3E] my-2",children:A.time}),b.jsx("p",{className:"text-sm text-[#369EAD] font-bold uppercase tracking-[0.2em]",children:A.type})]},A.id))})]})})]})]})]})};YA.createRoot(document.getElementById("root")).render(b.jsx(Zt.StrictMode,{children:b.jsx(GI,{})}));
